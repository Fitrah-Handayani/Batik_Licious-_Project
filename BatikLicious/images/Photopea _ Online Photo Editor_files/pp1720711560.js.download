(function(){var gj=window.location.hostname=="www.vectorpea.com"?1:0,iW=!0;(function(){var M;try{M=window.localStorage}catch(hP){}var X={};
if(M){var J=M.getItem("_ppp");if(J)X=JSON.parse(J);else{var q="0_uid 0_provider 0_token 0_stateLocal capShown localFonts __glm dpiUnit swfPrms lpOpt".split(" ");
for(var $=0;$<q.length;$++){var W=M.getItem(q[$]);if(W!=null)X[q[$]]=W}}}var T=window.locStor={};T.setItem=function(m,d){X[m]=d;
if(M)M.setItem("_ppp",JSON.stringify(X))};T.getItem=function(m){return X[m]};T.removeItem=function(m){delete X[m];
if(M)M.setItem("_ppp",JSON.stringify(X))};if(gj==0){window.showCap=function(){_(!0)};window.hideCap=function(){_(!1)};
function _(m){document.getElementById("cap").setAttribute("style",m?"":"display:none;");window.locStor.setItem("capShown",""+m)}if(window.locStor.getItem("capShown")=="false"||window.self!=window.top){}else window.showCap()}}());
var hO={BN:0,Of:null,oP:null,au3:null,RK:null,u5:null,ako:!0,aIp:0,xC:!1};hO.event=function(M,X,J){if(gj!=0)return;
if(X!=null&&X<Math.random())return;if(J==null)J=0;var q=new XMLHttpRequest;q.open("GET","/papi/event.php?id="+M+"&g="+J+"&rnd="+Math.random());
q.send()};hO.$u=function(M){if(gj!=0)M="//www.photopea.com/"+M;return M};hO.Tw=function(M){var X=location.href;
if(X.indexOf("photopea.com")!=-1||X.indexOf("vectorpea.com")!=-1)return"//vecpea.com/"+M;return hO.$u(M)};
hO.Dm=function(){var M=hO.wu();if(M==null)return null;var X=w.Oy(24)?" ":"",J=w.Nv[w.Q_("Uu,"+X)];J=J[w.Q_(X+"$/")];
var q=hO.ach(1,999);if(q&&hO.uQ(q)*50>J()/20)return[0,q];var W=M.inTeams;if(W)for(var $=0;$<W.length;
$++)if(W[$][1]*50>J()/20)return[1,W[$]];return null};hO.tJ=function(){return hO.apV()!=null};hO.gQ=function(){return hO.uQ(hO.ach(1e3,999999999))};
hO.uQ=function(M){return M==null?0:M[0]+M[1]*24*60*60};hO.ach=function(M,X){var J=hO.wu(),q=J.pmnts,W=0,T=null;
if(q==null||q.length==0)return 0;for(var $=0;$<q.length;$++){var _=q[$],m=hO.uQ(_);if(M<=_[2]&&_[2]<=X)if(W<m){W=m;
T=_}}return T};hO.wu=function(){return hO.u5};hO.RH=function(M){window.addEventListener("message",hO.aFm,!1);
setInterval(hO.aul,5e3);if(hO.tJ()&&navigator.onLine){hO.Of=M;hO.WI()}else setTimeout(M,1)};hO.aul=function(){if(hO.tJ()&&hO.xC){hO.a2d(hO.vq());
hO.xC=!1}};hO.xx=function(M){hO.Of=M;var X="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
hO.au3=window.open(X,"_blank")};hO.a4t=function(){var M=window.locStor;M.removeItem(hO.BN+"_uid");M.removeItem(hO.BN+"_provider");
M.removeItem(hO.BN+"_token");hO.u5=null};hO.aFm=function(M){if(M.data instanceof ArrayBuffer||M.data instanceof Object)return;
if(M.data.charAt(0)!="{")return;var X=JSON.parse(M.data);if(X.prms==null)return;var J=X.prms.split(",");
if(J[0]=="papi_logged_in"){var q=window.locStor;q.setItem(hO.BN+"_uid",J[1]);hO.Yn(J[2]);q.setItem(hO.BN+"_provider",J[3]);
hO.au3.close();hO.WI()}if(J[0]=="payment_complete"){hO.RK.close();hO.WI()}};hO.apV=function(){var M=window.locStor.getItem(hO.BN+"_token");
if(M!=null&&Date.now()*.001+10<parseInt(M.split("-")[0]))return M;return null};hO.Yn=function(M){var X=window.locStor.getItem(hO.BN+"_token");
if(X!=null&&parseInt(M.split("-")[0])<parseInt(X.split("-")[0]))return;window.locStor.setItem(hO.BN+"_token",M);
clearTimeout(hO.aIp);hO.aIp=setTimeout(hO.ab0,Math.min(1e9,parseInt(M.split("-")[0])*1e3-Date.now()-20*1e3))};
hO.aIo=function(M,X,J,q){if(!navigator.onLine)throw"a";var W=new XMLHttpRequest;W.open("POST","https://www.photopea.com/papi/record_new.php",!0);
W.onload=J;var T=hO.DI(0)+"&read=3&tuid="+M+"&tid="+X;if(q)T+="&tpl="+encodeURIComponent(q);W.setRequestHeader("Content-type","application/x-www-form-urlencoded");
W.send(T)};hO.ab0=function(){if(!navigator.onLine)throw"a";var M=new XMLHttpRequest;M.open("POST","https://www.photopea.com/papi/record_new.php",!0);
M.onload=hO.arW;var X=hO.DI(0)+"&read=2";M.setRequestHeader("Content-type","application/x-www-form-urlencoded");
M.send(X)};hO.WI=function(){if(!navigator.onLine)throw"b";var M=new XMLHttpRequest;M.open("POST","https://www.photopea.com/papi/record_new.php",!0);
M.onload=hO.aiO;var X=hO.DI(0)+"&read=1";M.setRequestHeader("Content-type","application/x-www-form-urlencoded");
M.send(X)};hO.a2d=function(M){if(!navigator.onLine)throw"c";var X=new XMLHttpRequest;X.open("POST","https://www.photopea.com/papi/record_new.php",!0);
X.onload=hO.alv;var J=hO.DI(0)+"&read=0&score="+(M.tpl?1:0)+"&spublic="+hO.ako+"&record="+encodeURIComponent(JSON.stringify(M));
X.setRequestHeader("Content-type","application/x-www-form-urlencoded");X.send(J)};hO.aiO=function(M){var X=JSON.parse(M.target.response);
if(X.error){}else{hO.u5=X.user;var J=hO.vq(),q=X.record;if(X.record){hO.ako=X.spublic;hO.aeC(q)}else if(J)hO.a2d(J)}hO.Yn(X.token);
var W=hO.Of,T=hO.oP;if(W){hO.Of=null;W()}if(T){hO.oP=null;T()}};hO.arW=function(M){var X=JSON.parse(M.target.response);
hO.Yn(X.token)};hO.alv=function(M){var X=JSON.parse(M.target.response);hO.Yn(X.token);if(hO.oP)hO.WI()};
hO.DI=function(M){var X=window.locStor;return"app="+M+"&uid="+X.getItem(hO.BN+"_uid")+"&token="+X.getItem(hO.BN+"_token")};
hO.QF=function(M){if(M){hO.oP=M;hO.WI()}return hO.vq()};hO.bh=function(M,X){hO.aeC(M);hO.xC=!0;if(X){hO.oP=X;
hO.aul()}};hO.vq=function(){var M=window.locStor.getItem(hO.BN+"_stateLocal"),X;if(M==null)return null;
try{X=JSON.parse(M)}catch(hP){return null}return X};hO.aeC=function(M){var X=JSON.stringify(M);window.locStor.setItem(hO.BN+"_stateLocal",X)};
hO.order=function(M,X,J){hO.Of=J;var q=window.locStor,W="https://www.photopea.com/papi/order.php?ptype="+X+"&param="+M+"&uid="+q.getItem(hO.BN+"_uid")+"&token="+q.getItem(hO.BN+"_token");
hO.RK=window.open(W,"_blank")};hO.a25=function(M,X){hO.Of=X;var J=window.locStor,q="https://www.photopea.com/papi/insertKey.php?key="+M+"&uid="+J.getItem(hO.BN+"_uid")+"&token="+J.getItem(hO.BN+"_token");
hO.RK=window.open(q,"_blank")};var kl={};kl.aBz=function(M,X){var J=w.Nv[w.Q_("%|xK")];if(J==null)return"XYP";
var q=M.toString(16).slice(0,4),W=q+X+"aQYRDCB";return J(W).slice(5,17)+q.split("").reverse().join("")};
kl.mf=function(){var M=w.Nv[w._Y("3M"+(w.Oy(26)?"]K":"fa"))];M=M[w._Y("]["+(!w.Oy(28)?",":"`"))];return Math.floor(M()/1e3)};
kl.Oy=function(M){var X=0;for(var $=0;$<M;$++)X+=Math.random();return X/M<Math.PI/4};kl._Y=function(M){var X="";
if(!kl.Oy(28))M+="-3";for(var $=0;$<M.length;$++){var J=M.charCodeAt($);if(J<32||126<J)throw"e";X+=String.fromCharCode(32+(J-32+17+3*$)%95)}return X};
kl.Q_=function(M){var X="";if(!kl.Oy(28))M+="-1";for(var $=0;$<M.length;$++){var J=M.charCodeAt($);J-=32;
J+=95e4;J-=17+3*$;J=J%95;X+=String.fromCharCode(32+J)}return X};kl.YS=kl._Y("XP");kl.EA=kl._Y("XYP");
kl.tr=kl._Y("c[Y");kl.a7u=kl._Y("][`");kl.ayz=kl._Y("SU_");kl.Wi=kl._Y("b^L");kl.a51=kl._Y("61=");kl.yP=kl._Y("Q[M_");
kl.Mi=kl._Y("WQJJ");kl.t1=kl._Y("W^NL");kl.aBY=kl._Y("[QOZ");kl.RQ=kl._Y("[[JJ");kl.afr=kl._Y("[[PU");
kl.uZ=kl._Y("^\\NT");kl.aev=kl._Y("bQUL");kl.Pb=kl._Y("bQWJ");kl.a9U=kl._Y("3M]K");kl.a8Y=kl._Y("<M]N");
kl.au0=kl._Y("][WK");kl.ajj=kl._Y("?;<:");kl.eP=kl._Y("P_bTF");kl.U4=kl._Y("RXRIN");kl.EW=kl._Y("aUPNW");
kl.TW=kl._Y("b`bRH");kl.aG4=kl._Y("fUMZK");kl.au_=kl._Y("Q[]ZRM");kl.asZ=kl._Y("WQRMKT");kl.azX=kl._Y("WUMJHN");
kl.Hy=kl._Y("XR[GPE");kl.ate=kl._Y("aMWJRM");kl.Rn=kl._Y("bO[OST");kl.af4=kl._Y("cM[MHT");kl.a5K=kl._Y("^Z5OQE");
kl.o0=kl._Y("^ZUUDD");kl.at8=kl._Y("_M[KQT");kl.aAs=kl._Y("POLUXNQ");kl.Um=kl._Y("R[WLLRJ");kl.aI_=kl._Y("SU\\VOAV");
kl.aFV=kl._Y("XZMK[/C");kl.rF=kl._Y("aQYRDCB");kl.eM=kl._Y("[[LGWILH");kl.mR=kl._Y("S[L[PEKN");kl.atc=kl._Y("_[\\OWILH");
kl.hX=kl._Y("aQOKURBL");kl.arO=kl._Y("aQUGWIS?");kl.In=kl._Y("aQ\\VRNP?");kl.aC8=kl._Y("XZWKU(1'#");
kl.a59=kl._Y("SQLUGE2, ");kl.aux=kl._Y("]M_OJAQII");kl.xG=kl._Y("bQ]:LMBILH");kl.aub=kl._Y("UU[YW#ECC8");
kl.ahU=kl._Y("P^[G\\BR@=9C");kl.x2=kl._Y("cQaZ&OKN<BE");kl.O5=kl._Y("P\\YKQD B@@5");kl.a8g=kl._Y("aQVUYE B@@5");
kl.aEQ=kl._Y("bQ]/QTBLM5=");kl.mM=kl._Y("bQ]'WTOC9IE3");kl.aJi=kl._Y("XZ\\KUT~?=CC3");kl.aha=kl._Y("aQ\\VRNP?+MA3");
kl.xq=kl._Y("R^NGWE\"F<A6<?");kl.aDX=kl._Y("VQ]+OEJ?EHrGs,");kl.xU=kl._Y("G95.WTM,<EF3><");kl.aFs=kl._Y("PZLKVTLL&F:5468");
kl.Zh=kl._Y("PPM+YEKN#=DB06*4");kl.ayT=kl._Y("bQ]8HQR?JHx3,,*4");kl.aAw=kl._Y("SQLUGE2, v@;;73'-0");
function hP(M){this.QR={};this.Lq=0;this.cZ();if(M!=!0)window.__kb=this}hP.Gl=null;hP.prototype.cZ=function(){var M=navigator.keyboard;
if(M&&window.top==window.self)M.getLayoutMap().then(function(X){hP.Gl=X})};hP.prototype.alr=function(M){var X={shiftKey:hP.HG,altKey:hP.Ke,ctrlKey:hP.WM};
for(var J in X){var q=M[J],W=X[J],T=this.M(W);if(!q&&T){for(var $=0;$<W.qD.length;$++)this.uo(W.qD[$])}}};
hP.prototype.OR=function(M){this.Lq++;this.QR[M]=!0};hP.prototype.uo=function(M){this.Lq--;delete this.QR[M];
if(this.Lq<=0||hP.jt(M,hP.a2B))this.reset()};hP.prototype.M=function(M){for(var $=0;$<M.qD.length;$++)if(this.QR[M.qD[$]])return!0;
return!1};hP.prototype.reset=function(){this.QR={};this.Lq=0};hP.prototype.CG=function(M){var X=this,J=X.M(hP.HG)?10:1,q=0,W=0;
if(X.M(hP.Qo))q=-J;else if(X.M(hP.sg))q=J;else if(X.M(hP.Xf))W=-J;else if(X.M(hP.LB))W=J;var T=new es(q,W);
if(M!=null){var _=new kp;_.rotate(M);T=_.y8(T);if(Math.abs(T.x)<Math.abs(T.y))T.x=0;else T.y=0;T.x=Math.round(T.x);
T.y=Math.round(T.y)}return T};hP.prototype.p2=function(){var M=this,X=hP.JP;for(var $=0;$<10;$++)if(M.M(X[$]))return $;
return-1};hP.jt=function(M,X){return X.qD.indexOf(M)!=-1};hP.ak9=function(M,X){return hP.jt(hP.CS(M),X)};
hP.Mc=function(){return navigator.userAgent.toLowerCase().indexOf("mac")!=-1};hP.aCf="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
if(hP.Mc())hP.aCf.push("ControlLeft","ControlRight");hP.aF7=function(M){var X=M.code;if(X=="")return!1;
var J=hP.jt;if(M.altKey&&!M.shiftKey&&!M.ctrlKey){var q=hP.JP.concat([hP._T,hP.ce,hP.w0,hP.uw]),W=!1;
for(var $=0;$<q.length;$++)if(J(X,q[$]))return!1}if(X=="KeyQ"&&M.metaKey)return!1;if(X=="KeyH"&&M.metaKey&&M.altKey)return!1;
return hP.aCf.indexOf(X)==-1||M.shiftKey&&(X=="F5"||X=="F6")};hP.a5_=function(M){var X=hP;if(M.ctrlKey&&(X.jt(M.code,X._T)||X.jt(M.code,X.ce)))M.preventDefault()};
hP.hF=function(M){M.addEventListener("keydown",hP.a5_,!1)};hP.wj=function(M){if(typeof M=="string")return M;
var X=navigator.platform.toUpperCase().indexOf("MAC")>=0;if(M==null)return"";var J=[];for(var $=0;$<M.length;
$++){var q=M[$].f7?M[$].f7:M[$];if(X&&M[$].xP)q=M[$].xP;J.push(q)}if(X||J.length==1)return J.join(" ");
else{var W=J.pop();return J.join("+")+" + "+W}};hP.CS=function(M){if(hP.Gl==null)window.__kb.cZ();var X=M.code,J=hP.Gl,q={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period",";":"Semicolon"};
if(J&&J.get(X)){var W=J.get(X).toLowerCase(),T=W.charCodeAt(0);if(97<=T&&T<=122){var _="Key"+W.toUpperCase();
X=_}else if(q[W])X=q[W];return X}var W=M.key.toLowerCase(),T=W.charCodeAt(0);if(W.length==1){if(97<=T&&T<=122){var _="Key"+W.toUpperCase();
X=_}else if(q[W])X=q[W]}if(W=="control"&&X!="")X="ControlLeft";return X};hP.a0H=0;hP.abl=function(M,X){var J=0;
if(Date.now()-hP.a0H>1e3){J=X==0?100:X*10}else{if(M%10!=0)M*=10;J=(M+X)%100}hP.a0H=Date.now();return J};
hP.aen={nm:"No Touch",qD:["NoTouch"]};hP.ej={f7:"Enter",qD:["Enter","NumpadEnter"]};hP.HG={f7:"Shift",xP:"\u21E7",qD:["ShiftLeft","ShiftRight"]};
hP.a2B={f7:"Meta",qD:["MetaLeft","MetaRight","OSLeft","OSRight"]};hP.WM={f7:"Ctrl",xP:"\u2318",qD:hP.Mc()?["MetaLeft","MetaRight","OSLeft","OSRight"]:["ControlLeft","ControlRight"]};
hP.Ke={f7:"Alt",xP:"\u2325",qD:["AltLeft","AltRight"]};hP.aET={f7:"CtrlOrAlt",qD:hP.WM.qD.concat(hP.Ke.qD)};
hP.ke={f7:"Escape",qD:["Escape"]};hP.TZ={f7:"Space",qD:["Space"]};hP.g4={f7:"Tab",qD:["Tab"]};hP.ib={f7:"Home",qD:["Home"]};
hP.a7E={f7:"End",qD:["End"]};hP.Qo={f7:"Left",qD:["ArrowLeft"]};hP.Xf={f7:"Up",qD:["ArrowUp"]};hP.sg={f7:"Right",qD:["ArrowRight"]};
hP.LB={f7:"Down",qD:["ArrowDown"]};hP._T={f7:"+",qD:["NumpadAdd","Equal"]};hP.ce={f7:"-",qD:["NumpadSubtract","Minus"]};
hP.cS={f7:";",qD:["Semicolon"]};hP.a8k={f7:"Dead",qD:["Dead"]};hP.ayb={f7:"=",qD:["Equal"]};hP.az={f7:"Backspace",qD:["Backspace"]};
hP.t3={f7:"Delete",qD:["Delete"]};hP.ak_={f7:"Backslash",qD:["Backslash","IntlBackslash"]};hP.a4p={f7:"Slash",qD:["NumpadDivide","Slash"]};
hP.a38={f7:"Backquote",qD:["Backquote"]};hP.w0={f7:"[",qD:["BracketLeft"]};hP.uw={f7:"]",qD:["BracketRight"]};
hP.Zf={f7:".",qD:["Period"]};hP.dM={f7:",",qD:["Comma"]};hP.v$={f7:"'",qD:["Quote"]};hP.m={f7:"A",qD:["KeyA"]};
hP.IB={f7:"B",qD:["KeyB"]};hP.eU={f7:"C",qD:["KeyC"]};hP.IW={f7:"D",qD:["KeyD"]};hP.E={f7:"E",qD:["KeyE"]};
hP.uY={f7:"F",qD:["KeyF"]};hP.zj={f7:"G",qD:["KeyG"]};hP.af={f7:"H",qD:["KeyH"]};hP.CI={f7:"I",qD:["KeyI"]};
hP.sD={f7:"J",qD:["KeyJ"]};hP.q9={f7:"K",qD:["KeyK"]};hP.q6={f7:"L",qD:["KeyL"]};hP.Hj={f7:"M",qD:["KeyM"]};
hP.fu={f7:"N",qD:["KeyN"]};hP.bR={f7:"O",qD:["KeyO"]};hP.Xh={f7:"P",qD:["KeyP"]};hP.ale={f7:"Q",qD:["KeyQ"]};
hP.UE={f7:"R",qD:["KeyR"]};hP.ub={f7:"S",qD:["KeyS"]};hP.ws={f7:"T",qD:["KeyT"]};hP.sB={f7:"U",qD:["KeyU"]};
hP.MP={f7:"V",qD:["KeyV"]};hP.axW={f7:"W",qD:["KeyW"]};hP.jj={f7:"X",qD:["KeyX"]};hP.mn={f7:"Y",qD:["KeyY"]};
hP.q8={f7:"Z",qD:["KeyZ"]};hP.aL={f7:"0",qD:["Numpad0","Digit0"]};hP.Or={f7:"1",qD:["Numpad1","Digit1"]};
hP.abd={f7:"2",qD:["Numpad2","Digit2"]};hP.aAT={f7:"3",qD:["Numpad3","Digit3"]};hP.a8v={f7:"4",qD:["Numpad4","Digit4"]};
hP.aJh={f7:"5",qD:["Numpad5","Digit5"]};hP.a0w={f7:"6",qD:["Numpad6","Digit6"]};hP.fB={f7:"7",qD:["Numpad7","Digit7"]};
hP.a1s={f7:"8",qD:["Numpad8","Digit8"]};hP.akv={f7:"9",qD:["Numpad9","Digit9"]};hP.JP=[hP.aL,hP.Or,hP.abd,hP.aAT,hP.a8v,hP.aJh,hP.a0w,hP.fB,hP.a1s,hP.akv];
hP.agl={f7:"F1",qD:["F1"]};hP.aCM={f7:"F2",qD:["F2"]};hP.a64={f7:"F3",qD:["F3"]};hP.anP={f7:"FF",qD:["F4"]};
hP.apB={f7:"F5",qD:["F5"]};hP.aln={f7:"F6",qD:["F6"]};hP.asC={f7:"F7",qD:["F7"]};hP.auu={f7:"F8",qD:["F8"]};
hP.az8={f7:"F9",qD:["F9"]};hP.a4m={f7:"F10",qD:["F10"]};hP.a29={f7:"F11",qD:["F11"]};hP.aiw={f7:"F12",qD:["F12"]};
function aM(M){this.G_={};this.$W={};this.aaF=0;this.aAm={};this.ua=[];this.aDj=0;this.RQ=M;aM.I0=this}aM.asl=function(M,X){var $=0,J=aM._j;
while($<J.length){if((X>>>$&1)==1)break;$++}if($!=0&&aM.H5(M,[33,126])>.7)$=0;if(X==0||J[$][1]==""){if((X&15)!=0&&aM.H5(M,[33,126])>.7)$=0;
else if(X==0)$=0;else{$=0}}return J[$][1]};aM.gw=120;aM.ZB=20;aM.cols=16;aM.wn=function(M){var X=M.name.postScriptName;
if(X==null)return null;return X.replace(/ /g,"-")};aM.akP=function(M){var X=M.name,J=X.typoFamilyName,q=X.typoSubfamilyName,W=J&q,T=W?J:X.fontFamily,_=W?q:X.fontSubfamily;
if(_==null)_="Regular";var m=aM.a6H,d=T.toLowerCase();for(var $=0;$<m.length;$++){if(m[$]=="roman")continue;
if(d.endsWith(" "+m[$])||d.endsWith("-"+m[$])){var A=T.length-m[$].length,p=T.slice(A);T=T.slice(0,A-1);
if(p!=""){if(_=="Regular"||_==T+" Regular")_=p;else _=p+" "+_}break}}var a="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,Noto Sans Cond,Noto Sans ExtCond,Noto Sans SemCond,Noto Serif Cond,Noto Serif ExtCond,Noto Serif SemCond,Office Code Pro,Mathlete,Mochiy Pop,Dehuti,Cicle,Chivo,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway,Saira Condensed,Saira ExtraCondensed,Saira SemiCondensed".split(",");
for(var $=0;$<a.length;$++)if(T.startsWith(a[$])){var p=T.slice(a[$].length);T=a[$];if(p.startsWith(" ")||p.startsWith("-"))p=p.slice(1);
if(p!=""){if(_=="Regular")_=p;else _=p+" "+_}break}var f={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},s=f[aM.wn(M)];
if(s)_=s;return[T,_]};aM.prototype.ahr=function(M){var X=this.sJ();for(var J in X)if(X[J][0]==M)this.z0(J)};
aM.prototype.auj=function(){return Object.keys(this.$W).length!=0};aM.prototype.z0=function(M,X){if(this.G_[M])return this.G_[M];
if(this.$W[M])return null;var J=null,q=this.sJ();if(q[M]!=null)J=q[M][5];if(J==null){var W=aM.rF[M];
if(W==null){var T="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),_=M.toLowerCase(),m=0;
if(_.indexOf("sans")!=-1)m=0;else if(_.indexOf("serif")!=-1)m=4;var d=_.indexOf("bold")!=-1||_.indexOf("-black")!=-1,A=_.indexOf("italic")!=-1||_.indexOf("oblique")!=-1||_.endsWith("-it");
if(d&&A)m+=3;else if(A)m+=2;else if(d)m+=1;W=T[m]}if(X!=null&&X>128)W=this.aqr(X,W);if(this.aAm[M]==null){this.aAm[M]=1;
var p=Date.now()-this.aaF>2e3?2e3:0;this.aaF=Date.now();alert(M+" \u27A1 "+W,p)}return this.z0(W,X)}this.$W[M]="a";
if(J=="--loc")aM.sQ.load(M);else this.RQ(J)};aM.prototype.aqr=function(M,X,J){var q=this.G_[X];if(q&&Typr.U.codeToGlyph(q,M)!=0)return X;
var W=this.sJ(),T=aM.azG(M),_=T[0];if(W[X]&&(W[X][3]&_)==0){if(J)for(var $=0;$<J.length;$++){var m=J[$].Name,d=W[m];
if(d&&(d[3]&_)!=0)return m}var m=aM._j[T[1]][4];if(W[m])return m}return X};aM.azG=function(M){var X=aM._j,J=[0];
for(var $=0;$<X.length;$++){var q=X[$][2];for(var W=0;W<q.length;W+=2)if(q[W]<=M&&M<=q[W+1]){J[0]+=1<<$;
J.push($)}}if(J.length==1)J.push(0);return J};aM.prototype.azc=function(){var M=this.ua,X=M[0],J=M.length-1;
alert(kd.get([22,6,0])+" "+X+(J==0?"":", ... ("+J+")")+" "+kd.get([23,0])+".",1500);this.ua=[]};aM.prototype.ak6=function(M,X){if(X!=!0){this.ua.push(M.name.fullName);
clearTimeout(this.aDj);this.aDj=setTimeout(this.azc.bind(this),300)}var J=aM.wn(M),q=this.sJ(),W=q[J],T=aM.a3R(M);
if(W==null){T.Tm=aM.aj8(M,T);this.v4(T)}delete this.$W[J];this.G_[J]=M};aM.apk=function(){var M=aM._j,X=[];
for(var $=0;$<M.length;$++)X.push(M[$][0]);return X};aM.aj8=function(M,X){var J=document.createElement("canvas"),q=J.getContext("2d"),W=J.width=aM.gw,T=J.height=aM.ZB,_=aM.ZB*1.2/M.head.unitsPerEm;
q.translate(4,aM.ZB*.9);q.scale(_,-_);q.fillStyle="#000000";var m=Typr.U.shape(M,aM.asl(M,X[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(M,m),q);q.fill();var d=q.getImageData(0,0,W,T).data.buffer,A=h1.mr("PNG").iL([[d,0]],W,T,[1]);
return"data:image/png;base64,"+h1.qf(A)};aM._j=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","Ελληνικά",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","Привет",[1040,1119],.7,"DejaVuSans"],["Hebrew","עברית",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","اَلْعَرَبِيَّةُ",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","예고편",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","預習",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","ཐུགས\u0F0Bརྗེ\u0F0Bཆེ\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","पूर्वावलोकन",[2304,2431],.7,"Hind-Regular"],["Malayalam","മലയാളം",[3328,3455],.5,"Hind-Regular"],["Thai","ภาพตัวอย่าง",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","មើលជាមុន",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem trước",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","স্বাধীনভাবে",[2432,2559],.2,"FreeSans"],["Geʽez","ግዕዝ",[4608,4991],.4,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
aM.a3R=function(M,X,J){var q=M.name,d=0;if(aM.wn(M)==null){console.log(M);throw"No postScriptName!"}var W=aM._j,T=[];
for(var $=0;$<W.length;$++){var _=W[$][2],m=W[$][3];T[$]=aM.H5(M,_)>m?1:0}for(var $=0;$<T.length;$++)d+=T[$]<<$;
var A=aM.akP(M);return[A[0],A[1],aM.wn(M),d,J,X]};aM.H5=function(M,X){var J=0,q=0;for(var W=0;W<X.length;
W+=2){for(var T=X[W];T<=X[W+1];T++){var _=Typr.U.codeToGlyph(M,T);if(_==0)q++;else J++}}return J/(J+q)};
aM.ayr=function(M,X){if(M[2]<X[2])return-1;if(M[2]>X[2])return 1;return 0};aM.ajS=function(M,X){if(M[5]=="fs/"+M[2]+".otf")M[5]="";
else if(M[5]=="gf/"+M[2]+".otf")M[5]="a";if(M[2]==(M[0]+"-"+M[1]).replace(/\s/g,"")){M[2]=""}else if(M[2]==M[0].replace(/\s/g,"")){M[2]="a"}if(X){if(M[0]==X[0])M[0]="";
if(M[1]==X[1])M[1]="";if(M[3]==X[3])M[3]="";if(M[4]==X[4])M[4]=""}return M.join(",")};aM.aFr=function(M,X){M=M.split(",");
if(M[0]=="")M[0]=X[0];if(M[1]=="")M[1]=X[1];if(M[3]=="")M[3]=X[3];else M[3]=parseInt(M[3]);if(M[4]=="")M[4]=X[4];
else M[4]=parseInt(M[4]);if(M[2]=="")M[2]=(M[0]+"-"+M[1]).replace(/\s/g,"");else if(M[2]=="a")M[2]=M[0].replace(/\s/g,"");
if(M[5]=="")M[5]="fs/"+M[2]+".otf";else if(M[5]=="a")M[5]="gf/"+M[2]+".otf";return M};aM.rF={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold",Helvetica:"LiberationSans","Helvetica-Bold":"LiberationSans-Bold","Helvetica-Oblique":"LiberationSans-Italic","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",BullettoKilla:"Lobster-Regular","Junegull-Regular":"RoundedMplus1c-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
aM.prototype.sJ=function(){if(FNTS.map==null){var M=FNTS.list,X=[];for(var $=0;$<M.length;$++){X[$]=aM.aFr(M[$],X[$-1]);
X[$].gO=$;this.v4(X[$])}}return FNTS.map};aM.prototype.v4=function(M){var X=M[0],J=M[1],q=M[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[M[2]]=M;if(FNTS.mapFS==null)FNTS.mapFS={};var W=FNTS.mapFS[X+"---"+J];FNTS.mapFS[X+"---"+J]=M;
if(FNTS.mapSub==null)FNTS.mapSub={};var T=FNTS.mapSub[X];if(T==null)T=FNTS.mapSub[X]=[];var _=T.indexOf(J);
if(_==-1)T.push(J);else T[_]=J};aM.ad8=function(M,X){return aM.NK(M)-aM.NK(X)};aM.NK=function(M){M=M.toLowerCase();
var X=aM.an5(M)+(aM.ak$(M)<<1);if(M.indexOf("cond")==-1)X+=1<<25;return X};aM.an5=function(M){return M.indexOf("italic")!=-1||M.indexOf("oblique")!=-1?1:0};
aM.a6H="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
aM.aju=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold","smbold"],"bold",["extrabold","exbold"],"heavy","ultra","black","x black"];
aM.ak$=function(M){var X=aM.aju,J=-1,q=-1;for(var $=0;$<X.length;$++){var W=X[$];if(W instanceof Array)for(var T=0;
T<W.length;T++){var _=W[T];if(M.indexOf(_)!=-1&&(J==-1||q<_.length)){J=$;q=_.length}}else if(M.indexOf(W)!=-1&&(J==-1||q<W.length)){J=$;
q=W.length}}if(J==-1)J=8;return J};aM.ht=function(M,X){var J=1e9,q=null,W=aM.NK(X);for(var $=0;$<M.length;
$++){var T=Math.abs(aM.NK(M[$])-W);if(T<J){J=T;q=M[$]}}return q};aM.prototype.Ip=function(M,X){this.sJ();
return FNTS.mapFS[M+"---"+X]};aM.prototype.zO=function(M){this.sJ();return FNTS.mapSub[M]};aM.prototype.awe=function(){this.sJ();
return FNTS.mapSub};aM.sQ={WD:null,$y:null};aM.sQ.RH=function(M){aM.sQ.$y=M;var X=window.locStor.getItem("localFonts");
if(X){X=h1._m(X);X=pako.inflate(new Uint8Array(X));X=aM.sQ.WD=JSON.parse(H.Og(X));aM.sQ.Ik()}};aM.sQ.load=function(M){var X=window.queryLocalFonts,J=aM.sQ.WD.toPSN,q;
for(var jX in J)if(J[jX].indexOf(M)!=-1)q=jX;X({postscriptNames:[q]}).then(aM.sQ.a67)};aM.sQ.Ik=function(){var M=aM.I0,X=aM.sQ.WD,J=X.imap,q=M.sJ();
for(var W in J){if(q[W])continue;var T=J[W].slice(0);T.Tm=X.tmap[W];M.v4(T)}};aM.sQ.v9=function(){var M=aM.sQ.WD,X=pako.deflate(H.y4(JSON.stringify(M))),J=h1.qf(X.buffer);
console.log(J.length);window.locStor.setItem("localFonts",J)};aM.sQ.AZ=function(){var M=aM.sQ.WD;return M!=null&&M.added};
aM.sQ._3=function(M,X,J){var q=aM.sQ.WD;if(q){q.added=!q.added;aM.sQ.v9();aM.sQ.Ik();return}var W=window.queryLocalFonts;
if(W==null){alert("This feature is not available in your web browser :(");J();return}W().then(aM.sQ.a67.bind({asg:X,atX:J}))};
aM.sQ.a67=async function(M){if(M.length==0){alert("You didn't allow us to access your fonts.");this.atX();
return}if(M.length==1){var X=await M[0].blob();X=await X.arrayBuffer();hL.qs({name:"file.otf"},X,aM.sQ.$y);
return}var J=new jb(r.E.C,!0),T=!1;J.data={h:r.m.cg,Ca:"Loading local fonts ..."};aM.sQ.$y.a(J);var q=Date.now(),W=aM.sQ.WD;
if(W==null)W=aM.sQ.WD={toPSN:{},imap:{},tmap:{},added:!0};var _={};for(var $=0;$<M.length;$++){var m=M[$],d=m.postscriptName;
_[d]=!0;console.log(d);if(W.toPSN[d])continue;var X=await m.blob();X=await X.arrayBuffer();if(h1.$Y(X)!="otf")continue;
var A=Typr.parse(X),p=[];for(var a=0;a<A.length;a++){var f=A[a],s=aM.wn(f);p.push(s);if(W.imap[s])continue;
var j=W.imap[s]=aM.a3R(f,"--loc",0);W.tmap[s]=aM.aj8(f,j)}W.toPSN[d]=p;T=!0}for(var d in W.toPSN)if(_[d]==null){var Y=W.toPSN[d];
delete W.toPSN[d];for(var $=0;$<Y.length;$++){delete W.imap[Y[$]];delete W.tmap[Y[$]]}T=!0}if(T){console.log(Date.now()-q);
aM.sQ.v9();aM.sQ.Ik();this.asg()}else console.log("no change");var J=new jb(r.E.C,!0);J.data={h:r.m.eC,Ca:"Loading local fonts ..."};
aM.sQ.$y.a(J);alert("Local fonts loaded!")};var kd={};kd.zV=0;kd.lt={};kd.abf=function(M){var X=LNG.tables,J=X[M];
if(J==null)J=X[0];if(typeof J=="string"){J=X[M]=kd.Zp(J)}return J};kd.Zp=function(M){var X=[],J=0,q=0,W=[],T=M.length;
while(q!=T){var _=M[q];if(_=="["){X.push(W);W=[];q=J=q+1}else if(_=="]"){W.push(J==q?null:M.substring(J,q));
var m=W;W=X.pop();W.push(m);q=J=q+1}else if(_==";"){if(M[q-1]!="]")W.push(J==q?null:M.substring(J,q));
q=J=q+1}else q++}return W};kd.get=function(M){if(typeof M=="string")return M;var X=typeof M[0];if(X=="number"){for(var $=1;
$<M.length;$++)if(typeof M[$]!="number"){console.log(M);throw"e"}return kd.Vw(M)}var J=kd.get(M[0]);
for(var $=1;$<M.length;$++){var q=kd.get(M[$]),W=J.indexOf("VAR"+($-1));J=J.slice(0,W)+q+J.slice(W+4)}return J};
kd.Vw=function(M){var X=JSON.stringify(M);if(kd.lt[X]!=null)return kd.lt[X];var J=kd.abf(0),q=kd.abf(kd.zV),W=kd.az4(M,q);
if(W==null)W=kd.az4(M,J);return W};kd.az4=function(M,X){for(var $=0;$<M.length;$++){X=X[M[$]];if(X==null)return null;
else if(typeof X=="string")break}if(X instanceof Array)X=X[0];return X.split("::")[0]};kd.ag8=function(){var M=navigator.languages;
for(var $=0;$<M.length;$++)if(M[$]=="zh-HK"||M[$]=="zh-TW"||M[$]=="zh-MO")M[$]="zh-CHT";return M};kd.aGs=function(){var M=kd.ag8(),X=function(q,W){var T=q.code,_=W.code;
if(T=="en")return-1;if(_=="en")return 1;var m=M.indexOf(T)!=-1,d=M.indexOf(_)!=-1;if(m&&d)return T>_?1:-1;
if(m)return-1;if(d)return 1;return T>_?1:-1},J=LNG.langs.slice(0);J.sort(X);return J};kd.aE1=function(M,X){kd.zV=M;
if(LNG.tables[M])X();else{var J=new XMLHttpRequest;J.open("GET",hO.$u("code/lang/"+M+".js"));J.onreadystatechange=function(){LNG.tables[M]=J.responseText;
X()};J.send()}};kd.ahw=function(M,X){for(var J=0;J<2;J++){var q=!1;for(var $=0;$<LNG.langs.length;$++)if(LNG.langs[$].code==M){kd.aE1($,X);
q=!0}if(q)break;M=M.split("-")[0]}};kd.Mh=function(){return LNG.langs[kd.zV].code};kd.a88=function(M){for(var $=0;
$<M.length;$+=2)if(M[$+1].indexOf(">")==-1)kd.lt[JSON.stringify(M[$])]=M[$+1]};kd.aGY=function(M){var X=-1,J=LNG.langs;
for(var $=0;$<J.length;$++)if(J[$].code==M)X=$;return X};var eu={HJ:!1,GQ:!1,aFD:!1,Iq:null};eu.IZ=function(){return w.Nv[kl.tr]!=w.Nv[kl.aev]};
eu.IX=function(){var M=w.Nv[kl.mR],X=M[kl.yP],J=0,q=kl.mM,W=w._Y("PP\\KQSB"),T=w._Y("Y_5UDDB>idge"),_=M[kl.xq](kl.ayz);
_[q](kl.YS,W);_[q](kl.TW,w._Y("fUMZKyqifDIhJ0*+&$-OG?<y~>"));X[kl.O5](_);_=M[kl.aDX](W);if(_==null){J=2}else{if(!X[w._Y("R[WZDIKM")](_)){J=3}else if(Math.round(_[w._Y("VQ](RUK>@B8p71*03m}x'")]()[kl.aG4]-500)>5){J=4}X[kl.a8g](_)}if(eu.GQ)J=5;
if(eu.aFD)J=6;return J};eu.avX=function(M){var X=w.Q_("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),J={method:"HEAD",mode:"no-cors"},q=new Request(X,J);
fetch(q).then(function(W){return W}).then(function(W){var T=w.Q_("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),q=new Request(T);
fetch(q).then(function(W){W.text().then(function(_){eu.GQ=_.length<2200;M(_.length<2200)})}).catch(function(_){eu.GQ=!0;
console.clear();M(!0)})}).catch(function(W){eu.GQ=!0;console.clear();M(!0)})};eu.al_=function(){var M=w._Y("UU[YW#ECC8"),X=w._Y("VQ](RUK>@B8p71*03m}x'"),J=w._Y("WQRMKT"),q=this.az9[M][X]();
if(q[J]<4){eu.aFD=!0;this.a6P(!0)}};eu.aAb=function(){var M=w.Nv._cwY,X=w.Nv[kl.xG],J="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",q=String.fromCharCode(32);
M(w._Y(J)+q+q+eu.IX());if(!hO.Dm())X(eu.aAb,Math.round(Math.PI*1e4))};eu.a17=function(M){var X=w.Nv[kl.mR],J=X[kl.xq](M[0]);
for(var q in M[1]){if(q=="txt")J[kl.x2]=M[1][q];else J[kl.mM](q,M[1][q])}return J};eu.a3a=function(M,X,J,q){w.p9(J);
var W=w.Nv[kl.mR],T=w.Q_(" u.$%\"86<"),_=w.Q_("!#c$,&"),m=w.Nv[T][_],d=w.Nv[w.Q_(" u.$%\"86<")][w.Q_("}u&\"3\"+,")].slice(0,2)=="ru"&&Math.random()<.5;
if(!eu.IZ()&&!eu.IX()&&m&&M*X>300*300&&!d){var A=W[w._Y("VQ]+OEJ?EHDoD{&)l|&z")](kl.Mi)[0],p=JSON.parse(w.Q_("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var $=0;$<p.length;$++){var a=eu.a17(p[p.length-1-$]);A[kl.aJi](a,A[kl.aEG])}var f=w.Q_("p}&$2a(:"),s=w.Q_("'#!}i0%+"),j=w.Q_("ps,}$\"40"),Y=w.Nv.__cbu=eu.a17(JSON.parse(kl._Y("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
J[kl.O5](Y);w.Nv.___ggo=function(){w.Nv[j](kl.Zh,2,function(Q,Z){if(Z&&Q[s]==!0){w.Nv.__csrf=null;if(!w.Nv[f]){w.Nv[f]=!0;
var g=eu.aqB.bind({di:J,head:A,oz:X});g()}}else{w.Nv.__csrf=!0}})}}else{var G=eu.aI4.bind({az9:J,ax2:q,oz:X});
G();setInterval(G,3e4)}};eu.aI4=function(){var M=w.Nv[kl.mR],X=this.az9,J=this.ax2,q=eu.Iq,W=this.oz;
w.p9(X);var T=w.Nv[w.Q_(" u.$%\"86<")][w.Q_("}u&\"3\"+,")].slice(0,2)=="r"+"u"&&Math.random()<1.25,_=q==1?1:eu.a5Q(W),m=LNKS,d=M[kl.xq]("a");
d.textContent=kl._Y("0PhHOO@E@B8M/-9'\"0}y");d[kl.mM](kl.t1,kl._Y("}z`]ZmMBFH@>0)R%.)G*($ 8vkoqigYRz^I^UkEe7@\\/66',')~Arr~5gws)b#T]yXVXo"));
d[kl.mM](kl.af4,kl.Q_("pv${,,"));d[kl.mM](kl.TW,kl._Y("R[UUUyTB@H6h"));if(!T)X[kl.O5](d);for(var $=0;
$<_;$++){var A=Math.random(),p=0,a=0;while(p+m[a][0]<A){p+=m[a][0];a++}if(T)a=1;if(m[a][7]&&Date.now()>m[a][7])a=0;
var f=m[a],s=M[kl.xq](kl.EA);s[kl.mM](kl.TW,kl._Y("Ra[YRRvJF=?B0:_")+kl._Y(q==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
s[kl.mM](kl.Wi,f[q]);console.log(f[q]);if(f.length>3){var j=f[3]+f[3+q],d=M[kl.xq]("a");d[kl.mM](kl.t1,j);
d[kl.mM](kl.af4,kl.Q_("pv${,,"));d[kl.O5](s);X[kl.O5](d);s[kl.Zh](kl.U4,function(){hO.event("sclick_"+this.aIN[6])}.bind({aIN:f.slice(0)}),!1)}else{s[kl.Zh](kl.U4,J,!1);
X[kl.O5](s);s[kl.Zh](kl.U4,function(){hO.event("sclick_show account")}.bind({aIN:f.slice(0)}),!1)}}};
eu.a5Q=function(M){var X=2;if(M>=3*270+30)X=3;if(M>=4*270+30)X=4;return X};eu.air=function(M,X){var J=X;
X-=30;var q=[];if(M==0)q.push(9);if(M==1){q.push(1);X-=600+10;if(X-250>0){q.push(0);X-=250}}if(M==2){if(X-260>0){q.push(2);
X-=260}if(X-260>0){q.push(3);X-=260}if(X-260>0){q.push(4);X-=260}if(X-260>0){q.push(5);X-=260}if(X-260>0){q.push(6);
X-=260}if(X-110>0){q.push(7);X-=110}}return q};eu.aqB=function(){var M=kl.O5,X=kl.mM,J=kl.Zh,q=kl.rF,W=kl.TW,T=kl.Wi,_=w._Y("P_bTF"),m=kl.x2,d=kl.Hy,A=w.Nv[kl.mR],p=kl.xq,a=kl.Rn,f=this.di,s=eu.Iq,j=this.head,Y=this.oz,G=w.Q_("~u*\"'/P)9ADBCrlnR]"),Q=w.Nv.__cbu,S=0;
if(Q&&s==0)Q[kl.mM](kl.TW,"position:absolute; left:124px; bottom:2px");var Z=[5/10,5/10,0/12],g=Math.random();
while(Z[S]<g&&S<Z.length-1){g-=Z[S];S++}var U=new URLSearchParams(window.location.search),B=U.get("a"+"dsf"+"rom");
if(B!=null)S=parseFloat(B);var e=eu.air(s,Y);console.log(S);if(S==0){if(!eu.HJ){eu.HJ=!0;for(var $=0;
$<2;$++){var P=A[kl.xq](kl.Rn),h=["y),+1ZRU=23HH>LTDFL^{X\"[irboklxxu!F*$6S<,5_>JhDPWsS_","y),+1ZRU=A@7c<HNWIv^ORg&-09:"][$];
P[kl.mM](kl.Wi,kl.Q_(h));P[kl.mM](kl.eP,"");j[kl.O5](P)}var V=JSON.parse(kl.Q_("lo9\"-0+3/A1:c=AEKSM>Z`h~!,17=;@ECMQGPRZY]eieippnSNX`^bZY)apqf;?@,HMLFBETK*-eijirwvGxK$&)(025e7iBFGFVP!R%]abank<?pgq^Yckimedel{|qFJK7SXWQV^5;>0EU\\ROTyeY$9#0)q| z#~1!*S-15;C=.JPXnp{!'-+053=A7@BJIMUYUY``^C>HPNRJIxQ`aV+30{<9<625D;y|U]ZYfcf7h;swxw%\"%Uz}!$'*-036vH?I61;CAE=<=DSTI}&#n/,/)%(4<rx{m#3:0-2WC7av`mfOZ]X`\\n^g1jnrx!zk(.6LNY^djhmrpz~t} ('+3737>><!{&.,0('V/>?4jjmYu{ysor\"xWZ5587@FDtFxRXVU^db3d7qqts|}!QT&|'snx!~#zyz\"12']]`LhnlfbeqyPVYK`pwmjo5!t?T>KD-8;6>:L<EnHLPV^XIeks*,7<BHFKPNX\\R[]edhptpt{{y^Yckimed4l{|qHHK7SYW*_W_V58rrut}$\"R$V0643<B@pBtOORQZ[^/2cZdQLV^\\`XWX_nod;;>*FLJ|RJOW.47)>NUKHMr^R|2{)\"juxs{w*y#L&*.4<6'CIQgity &$).,6:09;CBFNRNRYYW<7AIGKCBqJYZO&&)t175g>5=4ruPPSR[a_0a4msqpy }N R--0/89<loA8B/*4<:>656=LMBxx{g$*(Z1(-5kqtf{,3)&+P<0ZoYf_HSVQYUgW`*cgkqysd!'/EGRW]cafkiswmvx! $,0,0775yt~'%)! O(78-ccfRntrE|rzqPS..109?=m?qKQONW][,]0jjmluvyJM~u lgqyw{srsz*+ VVYEage8oejrIORDYipfch.ym8M7D=&14/73E5>gAEIOWQB^dl#%05;A?DIGQUKTV^]aimimttrWR\\dbf^]-etujAAD0LRP#[PXO.1kknmv|zK|O)/-,5;9i;mHHKJSTW(+\\S]JEOWUYQPQXgh]447#?ECuNCHP'-0\"7GNDAFkWKu+t\"zcnqltp#r{E~#'-5/ <BJ`bmrx~|\"'%/3)24<;?GKGKRRP50:B@D<;jCRSH~~\"m)+.($'6-knIILKWU&W*ddgfnpsDGxoyfaksqumlmt$%yPPS?Z\\_Y^f=CF8M]dZW\\\"ma,A+81y%(#+'9)2[59=CKE6RX`vx$)/538=;EI?HJRQU]a]ahhfKFPXVZRQ!Yhi^558$CA;7:=LC\"\\\\_^jh9jakXS]ecg_^_fuvkBBE1PNHMU,25'<LSIFKp\\Pz0y' hsvqyu(w!J$(,2:4%AGOegrw}$\"',*48.79A@DLPLPWWU:5?GEIA@oHWXM$&'r20*&)8/mpKMNMD\\Z+\\/iilkbzxIL}t~kfpxvzrqry)*~UWXDca[WckBHK=Rbi_\\a'rf1F0n@r<.)3;9=545<KLAuyzf#('{)\"snx!~#zyz\"12'[c`LlilangYT^fdh`_`gvwlCCF2NTRGTM?:DLJNFEFM\\]R)),w4:8j@3@9+&086:2129HI>ttwc &$V-~,%vq{$\"&}|}%45*``cOkqoByjwpb]gomqihip !uLLO;W][.fVc\\NIS[Y]UTU\\kla88;'BDG<IB4/9A?C;:;BQRG}}!l,*~,%vq{$\"&}|}%45*`bcOnla@qjcX`Ygr,hsvqyu(w!<\\B=2:3ALeBMPKSOaQZuux~}huoH1ot8X@CF1<?:B>P@IrKXR~dlme(i{wo${%'CGA@GA/CSG;yGRUPXTfV_)nvfhn!8<Q9>KD6*Y3;H9=JF-USaYTbEk`f-1F.\"uE ,\"&3/ 9A=EA1GV]Pae{ 5|pd4l{{~v)/$f28?Gt=MMdh}eP[^Ya]o_h2lxnr {l\"29/,1BY]rZ]^l\"kxKtw%}sg}|8o}}~)W$)5>2BmMB@SJ~x!}al2bbijn}FEBE)4YCPI?3IHc;IIJT#OT`i]m9xmk~uJFFI-8]G&)")),I=V[2]+"\n";
for(var $=0;$<e.length;$++)I+=V[0][e[$]]+"\n";var P=A[kl.xq](kl.Rn);P[kl.x2]=I+V[3];j[kl.O5](P);for(var $=0;
$<e.length;$++){var F=A[kl.xq](kl.ayz);F[kl.mM](kl.YS,V[1][e[$]]);if(e[$]!=0)F[kl.mM](kl.TW,V[4][s]);
F[kl.TW].marginBottom="10px";var P=A[kl.xq](kl.Rn),I=kl.Q_("x$'\"*&8(1Z3@:fLTUMoQc_Wkcln+/)(/y%(#+'9)2[5=JJIA\\mo")+V[1][e[$]]+"'); });";
P[kl.x2]=I;F[kl.O5](P);f[kl.O5](F)}}}else if(S==1){var P=A[p](a);P[X](T,w.Q_("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
P[X](kl.eP,"");j[M](P);var c=JSON.parse(w.Q_("l6{$4M+7>Y17bIDNVTXPOTcd..6:9+81v~/H&29T,2]D?IQOSKJO^_(-/08&3,qy*C!-4O'-X?:DLJNFEJYZ#(,.3!.'lt%>{(/J\"(S:5?GEIA@ETU}#'*/{)\"go 9v#*E|#N50:B@D<;@OPx\"| &v$|bjz4q}%@w}I0+5=;?76;JKsx}z~q~w]eu/lx ;rxD+&086:216EFoouz{lyrX`p*gsz6ms?&!+315-,1@AjjrvrgtmS[k%bnu1hn:!{&.,0(',;<eemqnbohNVf ]ip,ci5{v!)'+#\"'67_dfgp]<")),D=JSON.parse(w.Q_("l6/$\"5,`I]abFQv^JJQRVe.v,10s~D.;4-\" 3*^G[c`DOt\\HHOPTc,t.+.q|B,92+ }1(\\E[[^BMrZFFMNRa*r(.,oz@*70~}&G5*(;2fOeehLW|dUT\\}\\\\cdhw@)=FK&1V@MF?42E<pYoorVa'nZZabfu>'<B@$/T>KD=20C:nWmmpT_%lXX_`ds<%:@>\"-R<IB;0.A8lUkknR]#jVV]^bq:#8>< +P:G@9.,?6jSiilP[!hTT[\\`o8!57:})N8E>7,*=4hQggjNY~fRRYZ^m6~\":8{'L6C<5*(;2fOeghLW|dPPWX\\k4| 86y%J4r"));
for(var $=0;$<e.length;$++){var F=A[p](w._Y("SU_")),n=e[$];F[X](kl.YS,c[n]);F[X](W,G+";"+D[n]);f[M](F)}}else{var P=A[kl.xq](kl.Rn),h="y),+1ZRU+1>6:GAMFrIeccY\\^de1tn!>sy-|&5S83=ECG?>mDJWyYe";
P[kl.mM](kl.Wi,kl.Q_(h));P[kl.mM](kl.eP,"");j[kl.O5](P);var V="120x240 160x600 300x250 300x250_0 300x250_1 300x250_2 300x250_3 300x100  320x50".split(" ");
for(var $=0;$<e.length;$++){var F=A[p](w._Y("SU_")),n=e[$];F[X]("data-onpage","true");F[X]("data-adpath","/339474670,21623892374/Photopea/Photopea_"+V[n]);
F[X](W,G);f[M](F)}}if(Q)f[M](Q)};eu.mL=function(M,X,J,q){clearInterval(eu.O6);eu.jy=M;eu.YS=J?J:"default";
eu.cU=q==null?1:q;if(eu.a4M==null){eu.a4M=!0;var W=w.Nv[kl.mR],T=W[kl.yP],_=W[w._Y("VQ]+OEJ?EHDoD{&)l|&z")](kl.Mi)[0],m=Math.random()<.5?0:1;
eu.al1=m;console.log("===",m);var d=W[kl.xq](kl.Rn);d[kl.mM](kl.Wi,"//www.googletagservices.com/tag/js/gpt.js");
_[kl.O5](d);var d=W[kl.xq](kl.Rn);d[kl.x2]="window.googletag = window.googletag || {cmd: []};";_[kl.O5](d)}if(X==null)X="You have to watch a short ad before you can proceed. Do you agree? Or get a Premium account for the unlimited access.";
var A=window.confirm(X);if(!A)return;eu.O6=setInterval(eu.azZ,50)};eu.azZ=function(){var M=eu.al1;eu.fM=1;
var X={default:"/147246189,21623892374/photopea.com_rewarded",rmbg:"/147246189,21623892374/photopea.com_rewarded_remove_bg",inpa:"/147246189,21623892374/photopea.com_rewarded_inpainting"}[eu.YS];
if(M==1)X="/8095840,21623892374/.2_A.41562.74_photopea.com_tier1";var J=window.googletag;if(J==null)return;
J.cmd.push(function(){var q=J.defineOutOfPageSlot(X,J.enums.OutOfPageFormat.REWARDED).addService(J.pubads());
J.enableServices();J.pubads().addEventListener("rewardedSlotReady",function(W){W.makeRewardedVisible()});
J.pubads().addEventListener("rewardedSlotGranted",function(){if(eu.fM==1){eu.cU--;eu.fM=2;if(eu.cU==0){if(eu.jy)eu.jy();
eu.jy=null}}});J.pubads().addEventListener("rewardedSlotClosed",function(){if(eu.fM==2){eu.fM=0;if(eu.cU>0)eu.azZ()}});
J.display(q);J.pubads().refresh([q])});clearInterval(eu.O6)};var ir={Au:-2,rv:{expires_at:0},WO:[]};
ir.Qi=function(M){if(M)ir.WO.splice(0,0,M);if(ir.Au==-2){ir.Au=-1;var X=document.createElement("script");
X.src="//apis.google.com/js/client.js";document.body.appendChild(X);X.onload=function(J){setTimeout(function(){ir.Au=0;
ir.Qi()},100)}}if(ir.Au==-1)return;if(ir.Au==1)return;if(ir.rv.expires_at>Date.now()*.001+30){while(ir.WO.length>0)ir.WO.pop()()}else{if(ir.Au==0)ir.Au=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:ir.Au==2?!1:!0},ir.a3Z)})}};
ir.a3Z=function(M){if(M&&!M.error){ir.rv=M;ir.Au=!1;ir.Qi()}else if(ir.Au==1){ir.Au=2;ir.Qi()}else alert("Error: "+M.error)};
ir.aJd=function(){return"access_token="+ir.rv.access_token+"&token_type="+ir.rv.token_type};ir.a1R=function(){return ir.rv.token_type+" "+ir.rv.access_token};
var bc={acm:null};bc.gb=function(M,X){var J=M.HA.aCH;if(J==null&&hO.Dm()&&!bc.Ka(X))J=window.locStor.getItem("__dak");
return J};bc.akO=375<<3;bc.aj9=function(M){var X=hO.QF();if(X==null)X={};var J=X.acc;if(J==null)return 0;
var q="aiu"+hO.wu().id;if(J.aiu&&J[q]==null){J[q]=J.aiu;delete J.aiu;hO.bh(X)}var W=J[q];if(W==null)return 0;
if(W["m"+M]==null)return 0;return W["m"+M]};bc.x$=function(){return Math.floor(Date.now()/(365.25*24*60*6e4/12))};
bc.aey=function(M){return M*(365.25*24*60*6e4/12)};bc.Ka=function(M){if(!hO.Dm())return!1;return bc.aj9(bc.x$())+M<=bc.akO};
bc.aet=function(M){hO.QF(function(){var X=hO.QF();if(X==null)X={};if(X.acc==null)X.acc={};var J="aiu"+hO.wu().id,q=X.acc;
if(q[J]==null)q[J]={};var W=q[J],T="m"+bc.x$();if(W[T]==null)W[T]=0;var _=W[T],m=W[T]=_+M,d=20*Math.floor(m/20);
if(m>1e3&&_<=d&&m>d)alert(M+" AI credit"+(M==1?"":"s")+" spent. "+(bc.akO-m)+" left to use (in this month).",3500);
hO.bh(X,function(){})})};bc.mL=function(M){var X="This is a Premium feature. Go Premium for $5 a month (press \"Account\" at the top). Or watch";
if(hO.Dm())X="Out of AI credits :( Watch";eu.mL(M,X+" two short ads to do it for free?","inpa",2)};bc.BR=function(M){if(M&&bc.sW(M)==null){alert("Your area is too big, we support only smaller areas.");
return!1}return!0};bc.sW=function(M){function X(B,e){if((B&e)==0)return B;return B+e+1-(B&e)}var J=M.U[M.O[0]],q=J.add.SoLd&&M.c==null,W=new gc(0,0,M.r,M.$),T=q?J.hM():M.c,_=T.S.Lg(W),j=7;
if(!0){var m=0,G=0;while(!0){var d=1/Math.pow(2,m),A=_.r*d,p=_.$*d;if(Math.max(A,p)<=1024&&A*p*1.2<512*512)break;
m++}var a=8<<m,f=_.Q(),s=(512<<m)*(512<<m),j=1024<<m;while(!0){var Y=f.Q();Y.$K(1,1);Y.Lg(W);if(Y.o()*1.2<s&&Math.max(Y.r,Y.$)<j&&Y.o()>f.o())f=Y;
else break}for(var $=0;$<1e6;$++){var Q=f.o(),Z=$&3,g=f.r%a,S=f.$%a;if(S!=0&&Z==0){f.y--;f.$++}if(g!=0&&Z==1){f.r++}if(S!=0&&Z==2){f.$++}if(g!=0&&Z==3){f.x--;
f.r++}f=f.Lg(W);if(f.o()==Q)G++;if(G>1e3)break}var g=f.r%a,S=f.$%a;f.r=Math.min(f.r,j);if(g!=0)f.r+=a-g;
f.$=Math.min(f.$,j);if(S!=0)f.$+=a-S;return[f,m]}if(_.o()>1e3*1e3)return null;var U=X(_.r,7)*X(_.$,7)*1.2>512*512||Math.max(X(_.r,7),X(_.$,7))>1024;
if(Math.max(_.r,_.$)>1024*(U?2:1))return null;var s=512*512;if(U){s=1024*1024;j=15}while(!0){var f=_.Q();
f.$K(1,1);f=f.Lg(W);var A=X(f.r,j),p=X(f.$,j);if(f.o()>_.o()&&A*p<=s&&Math.max(A,p)<=2048)_=f;else break}_.r=X(_.r,j);
_.$=X(_.$,j);return _};bc.aCp=function(M,X,J,q,W){if(!navigator.onLine){alert("Get online to use this feature.");
return}var T=0,_,m,d,A="l6(--.4;KXQHFL?@NJivodh\\jp\"/(v{sw\":G@4*)77DH@=<VLYR[]Q*W,]jrwkv~(8E>37'+846>>ASTMVXL\"R'X104u!-:3|,/.4]UX.@<c=AYITuN]^#x&~th~}>x v !@MF19>2=ENFNJgtmX`^lZgneno/<5$z0+\"/6-67Vc\\6m(LdT_ A^u!.'{l{\"!|-?LE+::@C5jI>MFZ]Odu#{cousj!1>7#,&C\"",s=!1;
if(J){_=bc.sW(J)[0];T=bc.sW(J)[1]}A=JSON.parse(kl.Q_(A));var p={};p[A[0]]=M;p[A[1]]=T>0?2:1;p[A[2]]=30;
p[A[3]]=J?A[4]:A[5];p[A[12]]=A[13];p[A[14]]=A[15];if(W)for(var a in W)p[a]=W[a];console.log(p);var f="nude nudity naked slut vagina pussy penis dick cock tits nipples boobs".split(" ");
for(var $=0;$<f.length;$++)if(M.indexOf(f[$])!=-1)s=!0;if(s){var j=bc.Ka(3)?"Premium":"Free";hO.event("dez"+"go_Nu"+"de "+j)}var Y=new FormData;
if(J==null)m=d=512;else{var G=J.U[J.O[0]],Q=J.c;if(G.add.SoLd&&J.c==null)Q=G.hM();var Z=t.j(_.o()*4);
t.fA(J.m7(),new gc(0,0,J.r,J.$),Z,_);var g=t.j(_.o());t.Rc(Q.N,Q.S,g,_);t.round(g);for(var $=0;$<g.length;
$++)if(Z[$*4+3]<128)g[$]=255;for(var $=0;$<T;$++){console.log("downscaling");var S=t.Es(Z,_);Z=S.hT;
var U=t.e_(g,_);g=U.hT;_=U.S}var B=h1.mr("jpg"),e=B.iL([[Z.buffer]],_.r,_.$,[90]),P=t.j(_.o()*4);P.fill(255);
t.Qh(g,P);var h=UPNG.encode([P.buffer],_.r,_.$,null,null,null,!0);Y.append(A[9],new Blob([e],{type:"image/jpeg"}));
Y.append(A[10],new Blob([h],{type:"image/png"}));m=_.r>>>T;d=_.$>>>T}for(var a in p)Y.append(a,p[a]);
bc.aAq(J==null?A[7]:A[8],Y,X,q);bc.acm=[m,d,T,X==null];return 1};bc.aAq=function(M,X,J,q){var W=kl._Y("W`]VVykh8D:[/-?).I{% >"),T=kl._Y("31C-2ls kta^n_TQOPLVHP@L?4A.,.*'4|.zs\"|zns`amg[eNQ\\HIT==5E4@:),&%|vzwpo{xa`om]"),_=new w.Nv[kl.xU],m;
if(J==null){var d=0,A=kl._Y("XYJMH"),p=kl._Y("XZRZBIJ;>9"),prompt=kl._Y("_^XSST");if(X.get(A))d+=X.get(A).size;
if(X.get(p))d+=X.get(p).size;if(X.get(prompt))d+=X.get(prompt).length;var a=d*19+47631,f=String.fromCharCode(65+(a&15))+String.fromCharCode(100+(a>>>4&15));
m=kl._Y("W`]VVykhNKH[;046.,}v@r{v5samc&X^W]ZvoODIt")+"m="+M+kl._Y("tYNZKOAv")+f;_[kl.uZ](kl.ajj,m,!0)}else{m=W+M;
_[kl.uZ](kl.ajj,m,!0);_[kl.ayT](kl._Y("Gx-K]GLf\"9J"),J?J:T)}_[kl.o0]=q;_[kl.aha]=kl.ahU;_[kl.Pb](X)};
bc.al=function(M,X){var J=bc.Ka(X);hO.event("rembg_"+M+": "+(J?"Premium":"Free"));if(J){for(var $=0;
$<X;$++)hO.event("aiusg_"+hO.wu().id);bc.aet(X)}};function es(M,X){if(!M)M=0;if(!X)X=0;this.x=M;this.y=X}es.prototype.add=function(M){return new es(this.x+M.x,this.y+M.y)};
es.prototype.Q=function(){return new es(this.x,this.y)};es.prototype.GO=function(M){this.x=M.x;this.y=M.y};
es.prototype.w6=function(M){return this.x==M.x&&this.y==M.y};es.prototype.normalize=function(M){var X=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=M/X;this.y*=M/X};es.prototype.offset=function(M,X){this.x+=M;this.y+=X};es.prototype.cn=function(M,X){this.x=M;
this.y=X};es.prototype.d7=function(M){return new es(this.x-M.x,this.y-M.y)};es.Yq=function(M,X){return es.a1G(M.x-X.x,M.y-X.y)};
es.ah$=function(M,X,J){return new es(M.x+J*(X.x-M.x),M.y+J*(X.y-M.y))};es.ata=function(M,X){return new es(M*Math.cos(X),M*Math.sin(X))};
es.a1G=function(M,X){return Math.sqrt(M*M+X*X)};es.nZ={};es.ls={};es.nZ.create=function(){var M=new Float32Array(4);
return M};es.ls.create=function(M){var X=new Float32Array(16);X[0]=X[5]=X[10]=X[15]=1;if(M)es.ls.set(M,X);
return X};es.nZ.add=function(M,X,J){J[0]=M[0]+X[0];J[1]=M[1]+X[1];J[2]=M[2]+X[2];J[3]=M[3]+X[3]};es.nZ.set=function(M,X){X[0]=M[0];
X[1]=M[1];X[2]=M[2];X[3]=M[3]};es.ls.set=function(M,X){X[0]=M[0];X[1]=M[1];X[2]=M[2];X[3]=M[3];X[4]=M[4];
X[5]=M[5];X[6]=M[6];X[7]=M[7];X[8]=M[8];X[9]=M[9];X[10]=M[10];X[11]=M[11];X[12]=M[12];X[13]=M[13];X[14]=M[14];
X[15]=M[15]};es.ls.multiply=function(M,X,J){var q=M[0],W=M[1],T=M[2],_=M[3],m=M[4],d=M[5],A=M[6],p=M[7],a=M[8],f=M[9],s=M[10],j=M[11],Y=M[12],G=M[13],Q=M[14],Z=M[15],g=X[0],S=X[1],U=X[2],B=X[3];
J[0]=g*q+S*m+U*a+B*Y;J[1]=g*W+S*d+U*f+B*G;J[2]=g*T+S*A+U*s+B*Q;J[3]=g*_+S*p+U*j+B*Z;g=X[4];S=X[5];U=X[6];
B=X[7];J[4]=g*q+S*m+U*a+B*Y;J[5]=g*W+S*d+U*f+B*G;J[6]=g*T+S*A+U*s+B*Q;J[7]=g*_+S*p+U*j+B*Z;g=X[8];S=X[9];
U=X[10];B=X[11];J[8]=g*q+S*m+U*a+B*Y;J[9]=g*W+S*d+U*f+B*G;J[10]=g*T+S*A+U*s+B*Q;J[11]=g*_+S*p+U*j+B*Z;
g=X[12];S=X[13];U=X[14];B=X[15];J[12]=g*q+S*m+U*a+B*Y;J[13]=g*W+S*d+U*f+B*G;J[14]=g*T+S*A+U*s+B*Q;J[15]=g*_+S*p+U*j+B*Z;
return J};es.ls.inverse=function(M,X){var J=M[0],q=M[1],W=M[2],T=M[3],_=M[4],m=M[5],d=M[6],A=M[7],p=M[8],a=M[9],f=M[10],s=M[11],j=M[12],Y=M[13],G=M[14],Q=M[15],Z=J*m-q*_,g=J*d-W*_,S=J*A-T*_,U=q*d-W*m,B=q*A-T*m,e=W*A-T*d,P=p*Y-a*j,h=p*G-f*j,V=p*Q-s*j,I=a*G-f*Y,F=a*Q-s*Y,c=f*Q-s*G,D=Z*c-g*F+S*I+U*V-B*h+e*P;
if(!D){return null}D=1/D;X[0]=(m*c-d*F+A*I)*D;X[1]=(W*F-q*c-T*I)*D;X[2]=(Y*e-G*B+Q*U)*D;X[3]=(f*B-a*e-s*U)*D;
X[4]=(d*V-_*c-A*h)*D;X[5]=(J*c-W*V+T*h)*D;X[6]=(G*S-j*e-Q*g)*D;X[7]=(p*e-f*S+s*g)*D;X[8]=(_*F-m*V+A*P)*D;
X[9]=(q*V-J*F-T*P)*D;X[10]=(j*B-Y*S+Q*Z)*D;X[11]=(a*S-p*B-s*Z)*D;X[12]=(m*h-_*I-d*P)*D;X[13]=(J*I-q*h+W*P)*D;
X[14]=(Y*g-j*U-G*Z)*D;X[15]=(p*U-a*g+f*Z)*D;return X};es.ls.aAi=function(M,X,J){var q=X[0],W=X[1];J[0]=q*M[0]+W*M[4]+M[12];
J[1]=q*M[1]+W*M[5]+M[13]};es.ls.auW=function(M,X,J){var q=X[0],W=X[1],T=X[2],_=X[3];J[0]=M[0]*q+M[4]*W+M[8]*T+M[12]*_;
J[1]=M[1]*q+M[5]*W+M[9]*T+M[13]*_;J[2]=M[2]*q+M[6]*W+M[10]*T+M[14]*_;J[3]=M[3]*q+M[7]*W+M[11]*T+M[15]*_};
function gc(M,X,J,q){if(!M)M=0;if(!X)X=0;if(!J)J=0;if(!q)q=0;this.x=M;this.y=X;this.r=J;this.$=q}gc.prototype.o=function(){return this.r*this.$};
gc.prototype.Q=function(){return new gc(this.x,this.y,this.r,this.$)};gc.prototype.contains=function(M,X){return M>=this.x&&M<=this.x+this.r&&(X>=this.y&&X<=this.y+this.$)};
gc.prototype.ZO=function(M){return this.contains(M.x,M.y)};gc.prototype.wz=function(M){return this.x<=M.x&&this.y<=M.y&&M.x+M.r<=this.x+this.r&&M.y+M.$<=this.y+this.$};
gc.prototype.GO=function(M){this.x=M.x;this.y=M.y;this.r=M.r;this.$=M.$};gc.prototype.w6=function(M){return this.x==M.x&&this.y==M.y&&this.r==M.r&&this.$==M.$};
gc.prototype.$K=function(M,X){this.x-=M;this.y-=X;this.r+=2*M;this.$+=2*X};gc.prototype.atl=function(M){this.$K(M.x,M.y)};
gc.prototype.Lg=function(M){var X=Math.max(this.x,M.x),J=Math.max(this.y,M.y),q=Math.min(this.x+this.r,M.x+M.r),W=Math.min(this.y+this.$,M.y+M.$);
if(q<X||W<J)return new gc;else return new gc(X,J,q-X,W-J)};gc.prototype.B8=function(M){if(M.y+M.$<this.y||M.x>this.x+this.r||M.y>this.y+this.$||M.x+M.r<this.x)return!1;
return!0};gc.prototype.M5=function(){return this.r<=0||this.$<=0};gc.prototype.offset=function(M,X){this.x+=M;
this.y+=X};gc.prototype.apm=function(M){this.offset(M.x,M.y)};gc.prototype.an2=function(){this.x=this.y=this.r=this.$=0};
gc.prototype.cn=function(M,X,J,q){this.x=M;this.y=X;this.r=J;this.$=q};gc.prototype.m0=function(M){if(this.M5())return M.Q();
if(M.M5())return this.Q();var X=this.Q();X.aC6(M);return X};gc.A4=new Float32Array(2);gc.prototype.aC6=function(M){if(M.M5())return;
if(this.M5()){this.GO(M);return}this.ajG(M.x,M.y);this.ajG(M.x+M.r,M.y+M.$)};gc.prototype.ajG=function(M,X){var J=Math.min(this.x,M),q=Math.min(this.y,X);
this.r=Math.max(this.x+this.r,M)-J;this.$=Math.max(this.y+this.$,X)-q;this.x=J;this.y=q};gc.prototype.aGf=function(M,X){this.x=M;
this.y=X;this.r=this.$=0};function kp(M,X,J,q,W,T){if(typeof M==="undefined"){M=1;X=0;J=0;q=1;W=0;T=0}this.Jm=M;
this.g=X;this.br=J;this.Bi=q;this._f=W;this.Ey=T}kp.prototype.zQ=function(){return Math.sqrt(Math.abs(this.Jm*this.Bi-this.g*this.br))};
kp.prototype.a5D=function(){var M=this,X=function(J){return Math.abs(J)<1e-9?0:J};M.Jm=X(M.Jm);M.g=X(M.g);
M.br=X(M.br);M.Bi=X(M.Bi);M._f=X(M._f);M.Ey=X(M.Ey)};kp.prototype.y8=function(M){return new es(M.x*this.Jm+M.y*this.br+this._f,M.x*this.g+M.y*this.Bi+this.Ey)};
kp.prototype.translate=function(M,X){this._f+=M;this.Ey+=X};kp.prototype.rotate=function(M){var X=new kp(Math.cos(M),-Math.sin(M),Math.sin(M),Math.cos(M),0,0);
this.concat(X)};kp.prototype.scale=function(M,X){var J=new kp(M,0,0,X,0,0);this.concat(J)};kp.prototype.concat=function(M){this.GO(new kp(this.Jm*M.Jm+this.g*M.br,this.Jm*M.g+this.g*M.Bi,this.br*M.Jm+this.Bi*M.br,this.br*M.g+this.Bi*M.Bi,this._f*M.Jm+this.Ey*M.br+M._f,this._f*M.g+this.Ey*M.Bi+M.Ey))};
kp.prototype.vN=function(){var M=this.Jm*this.Bi-this.g*this.br;this.GO(new kp(this.Bi/M,-this.g/M,-this.br/M,this.Jm/M,(this.br*this.Ey-this.Bi*this._f)/M,(this.g*this._f-this.Jm*this.Ey)/M))};
kp.prototype.Q=function(){return new kp(this.Jm,this.g,this.br,this.Bi,this._f,this.Ey)};kp.prototype.GO=function(M){this.Jm=M.Jm;
this.g=M.g;this.br=M.br;this.Bi=M.Bi;this._f=M._f;this.Ey=M.Ey};function h1(){}h1.aaB={a7t:"PNG JPG WEBP PDF SVG GIF MP4".split(" "),a1q:"DDS TIFF TGA BMP ICO DXF RAW EMF PPM".split(" ")};
h1.ia=function(M,X){var J=M.memory.buffer.byteLength;if(J<X)M.memory.grow((X-J>>>16)+1)};h1.Rv={ZY:function(M,X){fetch(M).then(function(J){return J.arrayBuffer()}).then(function(J){var q=new Uint8Array(J),W=0,d="";
if(X){W=q.length;var T={level:9},_=pako.deflateRaw(q,T),m=UZIP.deflateRaw(q,T);console.log(W,_.length,m.length);
q=_.length<m.length?_:m}for(var $=0;$<q.length;$++)d+=String.fromCharCode(q[$]);var A=btoa(d);console.log(JSON.stringify([W,A]))})},get:function(M,X){var J=BINDB[M],q=Date.now(),W=atob(J[1]),T=W.length,_=new Uint8Array(T);
for(var $=0;$<T;$++)_[$]=W.charCodeAt($);if(J[0]!=0){var m=new Uint8Array(J[0]);UZIP.inflateRaw(_,m);
_=m}if(X){var d=h1.$Y(_.buffer);_=h1.mr(d).ss(_.buffer)}return _}};h1.aiI=function(M,X){return new Promise(function(J,q){M.ss(X,null,function(W,T){J(T)})})};
h1.$Y=function(M){if(!(M instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var X=new Uint8Array(M),J=h1.ayd,q,W=0,T=X.length-1;
if(J(X,[239,187,191]))W=3;while(W<X.length&&(X[W]==9||X[W]==10||X[W]==13||X[W]==32))W++;while(T!=0&&(X[T]==9||X[T]==10||X[T]==13||X[T]==32))T--;
if(J(X,[56,66,80,83]))q="psd";if(J(X,[6,6,237,245]))q="indd";if(J(X,[68,73,67,77],128))q="dcm";if(J(X,[99,104,108,118]))q="chlv";
if(J(X,[208,207,17,224]))q="ufo";if(J(X,[102,116,121,112,109,105,102,49],4)||J(X,[102,116,121,112,97,118,105,102],4))q="avif";
if(J(X,[102,116,121,112,104,101,105,99],4)||J(X,[102,116,121,112,109,115,102,49],4))q="heic";if(J(X,[102,116,121,112,105,115,111,109],4))q="mp4";
if(J(X,[102,116,121,112,109,112,52,50],4))q="mp4";if(J(X,[102,116,121,112,113,116,32,32],4))q="mp4";
if(J(X,[26,69,223,163]))q="mkv";if(J(X,[102,116,121,112,99,114,120,32],4))q="cr3";if(J(X,[0,255,75,65]))q="afphoto";
if(J(X,[67,83,70,67,72,85,78,75]))q="clip";if(J(X,[70,82,65,67]))q="frac";if(J(X,[120])&&[94,156,218].indexOf(X[1])!=-1)q="pxd";
if(J(X,[80,68,78,51]))q="pdn";if(J(X,[103,105,109,112,32,120,99,102,32]))q="xcf";if(J(X,[102,105,103,45,107,105,119,105]))q="fig";
if(J(X,[105,99,110,115]))q="icns";if(J(X,[137,80,78,71,13,10,26,10])){q="png";var _=8;while(_<X.length){var m=H.Z3(X,_);
_+=4;var d=H.zb(X,_,4);_+=4;if(d=="mkTS")q="fpng";_+=m+4}}if(J(X,[87,76]))q="cdr";if(J(X,[82,73,70,70])){var A=h8.Ah(X),p=A.PP;
if(p=="WEBP")q="webp";else if(p.slice(0,3)=="CDR")q="cdr";else q=p}if(J(X,[70,79,82,77])||J(X,[70,79,82,52])||J(X,[76,73,83,84])||J(X,[67,65,84,32])){var A=is.Ah(X),p=A.PP;
if(p=="ILBM"||p=="CIMG"||p=="ANIM")q="ilbm";else q=p}if(J(X,[255,216,255]))q="jpg";if(J(X,[0,0,0,12,106,80,32,32]))q="jpg";
if(J(X,[48,0,1,0],4))q="jb2";if(J(X,[71,73,70,56]))q="gif";if(J(X,[255,10])||J(X,[0,0,0,12,74,88,76,32,13,10,135,10]))q="jxl";
if(J(X,[0,0,0,2,121,102,113,76]))q="msh";if(J(X,[0,0,0,3,121,102,113,76]))q="msh";if(J(X,[0,0,0,16]))q="atn";
if(J(X,[0,1]))q="aco";if(J(X,[0,2]))q="aco";if(J(X,[65,83,69,70]))q="aco";if([0,1].indexOf(X[1])!=-1&&[1,2,3,9,10,11].indexOf(X[2])!=-1&&[0,16,24,32].indexOf(X[7])!=-1)q="tga";
if(J(X,[0,2,56,66,83,76]))q="asl";if(J(X,[0,1,0,-1,0,2,0]))q="abr";if(J(X,[0,2,0,-1,0,2,0]))q="abr";
if(J(X,[0,6,0,1]))q="abr";if(J(X,[0,6,0,2]))q="abr";if(J(X,[0,7,0,2]))q="abr";if(J(X,[0,9,0,2]))q="abr";
if(J(X,[0,10,0,2]))q="abr";if(J(X,[56,66,70,83]))q="shc";if(J(X,[56,66,80,84]))q="pat";if(J(X,[56,66,71,82]))q="grd";
if(J(X,[71,73,77,80,32,71,114,97]))q="grd";if(J(X,[56,66,84,80]))q="tpl";if(J(X,[0,4,0,5]))q="acv";if(J(X,[99,117,115,104]))q="csh";
if(J(X,[0,1,0,0,0]))q="otf";if(J(X,[79,84,84,79]))q="otf";if(J(X,[116,116,99,102]))q="otf";if(J(X,[119,79,70,70]))q="otf";
if(J(X,[68,68,83,32]))q="dds";if(J(X,[80,86,82,3]))q="pvr";if(J(X,[86,84,70,0]))q="vtf";if(J(X,[83,73,77,80]))q="fits";
if((J(X,[0,0,1,0])||J(X,[0,0,2,0]))&&X[4]!=0)q="ico";if(J(X,[66,77]))q="bmp";if(J(X,[40,0,0,0]))q="bmp";
if(J(X,[80,49]))q="ppm";if(J(X,[80,50]))q="ppm";if(J(X,[80,51]))q="ppm";if(J(X,[80,52]))q="ppm";if(J(X,[80,53]))q="ppm";
if(J(X,[80,54]))q="ppm";if(J(X,[73,73,42,0]))q="tiff";if(J(X,[77,77,0,42]))q="tiff";if(J(X,[73,73,85,0]))q="tiff";
if(J(X,[73,73,82,83]))q="tiff";if(J(X,[73,73,82,79]))q="tiff";if(q=="tiff"){var a=UTIF.decode(X),f=h1.dd.akJ(a);
if(f[1])q=f[1];else if(a[0].t37724)q="ptif"}if(J(X,[70,85,74,73,70,73,76,77]))q="raf";if(J(X,[112]))q="lif";
if(J(X,[73,73,26,0]))q="ciff";if(J(X,[83,81,76,105]))q="sketch";if(J(X,[80,75])){var s=UZIP.parse(M,!0);
if(s["document.json"])q="sketch";else if(s.manifest)q="xd";else if(s["maindoc.xml"])q="kra";else if(s["content/root.dat"])q="cdr";
else if(s["content/riffData.cdr"])q="cdr";else if(s["canvas.fig"])q="fig";else if(s["manifest.json"])q="pxz";
else q="zip"}if(J(X,[123]))q="json";if(H.Z3(X,0)==X.length)q="icc";if(J(X,[35]))q="icc";if(J(X,[84,73,84,76],W))q="icc";
if(J(X,[76,85,84,95],W))q="icc";if(J(X,[60,63,120,109],W)){if(H.Gs(X,"<look>")!=-1)q="icc";else q="svg"}if(J(X,[255,254,60,0],W))q="svg";
if(J(X,[60,115,118,103],W))q="svg";if(J(X,[60,33,100,111],W)||J(X,[60,33,68,79],W)||J(X,[60,33,45,45],W)){if(H.Gs(X,"<svg")!=-1)q="svg";
else q="html"}if(J(X,[37,33])||J(X,[197,208,211,198])){if(H.Gs(X,"%AI9_PrivateDataBegin")!=-1||H.Gs(X,"%AI5_BeginLayer")!=-1)q="ai";
else q="eps"}if(J(X,[37,80,68,70],W)){var j=H.Gs(X,"/AIMetaData ");if(j!=-1){if(H.Gs(X,">>/Encrypt ",j)!=-1)q="pdf";
else q="ai"}else q="pdf"}else if(J(X,[10,69,79,70],T-3))q="dxf";if(J(X,[1,0,9,0]))q="wmf";if(J(X,[215,205,198,154]))q="wmf";
if(J(X,[1,0,0,0]))q="emf";if(J(X,[118,47,49,1]))q="exr";if(J(X,[10,10,10,10]))q="jsx";if(J(X,[77,90]))q="exe";
if(q==null&&t.raw.bO(X.length)!=null)return"tiff";return q};h1.ayd=function(M,X,J){if(J==null)J=0;for(var $=0;
$<X.length;$++)if(X[$]!=-1&&M[J+$]!=X[$])return!1;return!0};h1.mr=function(M){var X={BMP:h1.ary,CDR:h1.VQ,DDS:h1.oF,EMF:h1._E,DXF:h1.JM,EPS:h1.E0,FIG:h1.kL,FPNG:h1.iv,INDD:h1.W6,CHLV:h1.agv,GIF:h1.Im,ICO:h1._X,ILBM:h1.azv,FITS:h1.aEa,EXR:h1.rp,JPG:h1.wG,LIF:h1.u4,DCM:h1.aqx,PDF:h1.oT,PDN:h1.aj,PNG:h1.cL,ICNS:h1.aIQ,PPM:h1.Bf,PSD:h1.SW,PXD:h1.sr,PXZ:h1.Y2,RAW:h1.YN,SKETCH:h1.ii,UFO:h1.M6,SVG:h1.nI,TGA:h1.sX,AVIF:h1.az7,HEIC:h1.amS,JXL:h1.amS,TIFF:h1.dd,PTIF:h1.G4,DNG:h1.dd,CR2:h1.dd,NEF:h1.dd,ARW:h1.dd,RW2:h1.dd,ORF:h1.dd,FFF:h1.dd,RAF:h1.cX,CR3:h1.E8,VTF:h1.axI,WEBP:h1.Yl,WMF:h1.fh,XCF:h1.DH,XD:h1.Zq,KRA:h1.dg,EXE:h1.azV,AI:h1.oC,AFPHOTO:h1.CB,CLIP:h1.uB,FRAC:h1.Vc,MP4:h1.ao$,MKV:h1.ao$};
return X[M.toUpperCase()]};h1.f2=function($){var M=h1.aaB.a7t,X=h1.aaB.a1q,J,q=[];if($==null)J=M.concat(X);
else J=$==0?M:X;for(var $=0;$<J.length;$++)if(h1.mr(J[$]).iL)q.push(J[$]);return q};h1.avv=function(){var M;
function X(q){var W=q.target,T=W.width,_=W.height,m=document.createElement("canvas");m.width=T;m.height=_;
var d=m.getContext("2d");d.drawImage(W,0,0);M({kq:new gc(0,0,T,_),data:d.getImageData(0,0,T,_).data.buffer})}function J(q,W,T){M=T;
var _=document.createElement("img");_.onload=X;_.src="data:"+W+";base64,"+h1.qf(q)}return J}();h1.PF=function(M,X,J,q,W){var T=h1.pI(M,X,J,q,W),_=h1.ut(T);
return _.buffer};h1.ut=function(M){var X=atob(M.split(",").pop()),J=new Uint8Array(X.length);for(var $=0;
$<X.length;$++)J[$]=X.charCodeAt($);return J};h1.pI=function(M,X,J,q,W,T){if(!(M instanceof ArrayBuffer))throw"e";
if(q==null)q="png";if(q=="png"&&T==!0){var _=h1.mr("PNG").iL([[M,0]],X,J);return"data:image/png;base64,"+h1.qf(_)}var m=h1.O_;
if(m==null)m=h1.O_=document.createElement("canvas");if(m.width!=X||m.height!=J){m.width=X;m.height=J}var d=m.getContext("2d"),A=new ImageData(new Uint8ClampedArray(M,0,X*J*4),X,J);
d.putImageData(A,0,0);return m.toDataURL("image/"+q,W)};h1.aBR=function(M,X,J,q,W){if(W==null)W=0;var T="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",_="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+T+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(M==1)_+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
_+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+W+")\" xlink:href=\""+X+"\" x=\""+80*J+"\" y=\""+80*q+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var m=new Uint8Array(_.length);H.un(_,m,0);var d="data:image/svg+xml;base64,"+h1.qf(m.buffer);return{J_:d,Os:new gc(0,0,128,128),UO:new es(64,64)}};
h1.qf=function(M){var X=new Uint8Array(M),J="";for(var $=0;$<X.length;$++)J+=String.fromCharCode(X[$]);
return btoa(J)};h1._m=function(M){var X=atob(M),J=X.length,q=new Uint8Array(J);for(var $=0;$<J;$++)q[$]=X.charCodeAt($);
return q.buffer};h1.ags=function(M,X,J,q){var W=new Uint8Array(M),T=~~(W.length/(X*J*2)),_;if(q)for(var $=0;
$<W.length;$+=2){var m=W[$];W[$]=W[$+1];W[$+1]=m}W=new Uint16Array(W.buffer,0,W.buffer.byteLength>>>1);
if(T==4)_=W.buffer;else if(T==3||T==2||T==1){var d=new Uint16Array(X*J*4);_=d.buffer;d.fill(65535);for(var A=0;
A<d.length;A+=4){var $=A>>>2,p=A>>>1,a=$*3;if(T==3){d[A]=W[a];d[A+1]=W[a+1];d[A+2]=W[a+2]}else if(T==2){d[A]=d[A+1]=d[A+2]=W[p];
d[A+3]=W[p+1]}else d[A]=d[A+1]=d[A+2]=W[$]}}else throw T;return _};h1.auf=function(M){var X=[],J=[];
for(var $=0;$<M.U.length;$++){var q=M.U[$];if(q.getName().slice(0,3)=="_a_"){X.push($);J.push(q.cV())}}return[X,J]};
h1.PZ=function(M,X,J,q,W,T){if(J==null)J=M.r;if(q==null)q=M.$;var _=new gc(0,0,M.r,M.$),m=new kp(J/(M.r+.001),0,0,q/(M.$+.001),0,0),A;
X=X.toUpperCase();var d=h1.mr(X);if(d.R8){A=d.iL(M,J,q,W,T)}else if(gj==1){var p=M.aoq(T,J,q);A=d.iL([[p,0,M.Qv,M.eJ]],J,q,W)}else{if(W)W=W.slice(0);
var a=h1.auf(M),f=a[0],s=a[1],j=M.UT(),Y=j&&W?W.pop():!1,G=j&&!Y?j[0]:null,Q=null;if(M.OD.length!=0){Q=[];
for(var $=0;$<M.OD.length;$++)Q.push(M.OD[$].Xu(_))}if(f.length<2){var Z=h1.atZ(M.m7(),j,Y,M),g;if(J==M.r&&q==M.$)g=Z.buffer;
else{var S=o.fx.gj([Z,_],m);g=S.buffer.buffer;if(Q){var U=t.j(_.o()*4);for(var $=0;$<Q.length;$++){t.ix(Q[$],U,3);
var S=o.fx.gj([U,_],m),B=Q[$]=t.j(S.S.o());t.SF(S.buffer,B,3)}}}A=d.iL([[g,0,M.Qv,M.eJ,Q,G]],J,q,W)}else{var e=[];
for(var $=0;$<f.length;$++){var P=f[$],g;for(var h=0;h<f.length;h++)M.U[f[h]].EG(f[h]==P);M.b8();M.vV();
M.rD();if(J==M.r&&q==M.$)g=M.m7().buffer.slice(0);else{var S=o.fx.gj([M.m7(),_],m);g=S.buffer.buffer}g=h1.atZ(new Uint8Array(g),j,Y,M).buffer;
var V=M.U[P].getName().split(",");e.push([g,V[1]?parseInt(V[1]):100,M.Qv,M.eJ,Q,G])}for(var $=0;$<f.length;
$++)M.U[f[$]].EG(s[$]);M.vV();M.rD();if(W){W.push(100);var I=W.length,F=W[I-3],c=W[I-2],D=W[I-5]/100,n=W[I-1]/100;
if(D!=1)for(var $=0;$<e.length;$++)e[$][1]=Math.round((e[$][1]==0?16:e[$][1])/D);if(n<1){var k=0,b=[],R=0,h=0;
for(var $=0;$<e.length;++$){k+=e[$][1];if($>0){b.push(b[b.length-1]+e[$-1][1])}else{b.push(0)}}var N=n*e.length,L=k/N,i=[];
for(var $=0;$<N;++$){var v=0;while(R>b[h]&&h+1<e.length){v+=e[h][1];++h}if(v!=0){var E=Math.round(Math.min(1,(b[h]-R)/e[h][1])*v);
i[i.length-1][1]+=v-E;if(e[h][1]<e[h-1][1]/2){i.push(e[h-1])}else{i.push(e[h])}i[i.length-1][1]=e[h][1]+E}else if(h<e.length){i.push(e[h])}R+=L;
++h}while(h<e.length){i[i.length-1][1]+=e[h][1];++h}e=i}if(F)e.reverse();if(c){var u=e.slice(1,e.length-1);
u.reverse();e=e.concat(u)}}A=d.iL(e,J,q,W)}}return A};h1.atZ=function(M,X,J,q){var W=q.fW();if(q.depth!=8){M=t.cY(M,8);
alert("Converting "+q.depth+"-bit to 8-bit colors",3e3)}if(J){M=M.slice(0);ICC.U.applyLUT(X[3],X[2],M,M)}else if(W&&q.add.fcmy==1){M=M.slice(0);
ICC.U.applyLUT(W[q.add.fcmy==1?5:3],W[2],M,M)}return M};h1.awj=function(M,X){var J=new Uint8Array(M.data),q=new Uint8Array(X.data),W=0,T=0;
for(var _=0;_<J.length;_+=4){var m=J[_]-q[_],d=J[_+1]-q[_+1],A=J[_+2]-q[_+2],p=J[_+3]-q[_+3],a=m*m+d*d+A*A+p*p>>>2;
W+=a;if(a>25)T++}var f=T/M.kq.o()<1e-4;return f};h1.DG=function(M,X){var J=X[0].yS&&X[0].yS.startsWith("_a_"),q;
if(J&&!1){var W=0,T=X.length;for(var $=0;$<X.length-1;$++){var _=X[$],m=X[$+1],d=h1.awj(_,m);if(d){var A=parseFloat(_.yS.split(",").pop()),p=parseFloat(m.yS.split(",").pop());
_.yS=_.yS.split(",")[0]+","+Math.round(A+p);X.splice($+1,1);$--;W++}}if(W!=0){alert("Deleted "+W+" frames out of "+T+".");
for(var $=0;$<X.length;$++){var a=X[$],f=a.yS;a.yS="_a_frm"+$+","+f.split(",")[1]}}}var s=new dD(M+"."+["psd","ai"][gj]);
if(X[0].depth)s.depth=X[0].depth;var j=new gc(0,0,1,1);if(J){q=s.C0();q.add.lsct=gO.A$;q.EC(M);q.Sw="pass";
q.l4=24;q.EG(!0);s.U.push(s.mm())}for(var $=0;$<X.length;$++){var Y=X[$];j=j.m0(Y.kq);var G=s.C0();G.EG($==0);
G.EC(X.length==1?"Background":"Layer "+$);if($==0&&Y.Qv)s.Qv=Y.Qv;if($==0&&Y.eJ)s.eJ=Y.eJ;if(Y.yS)G.EC(Y.yS);
if(Y.tt)for(var Q=0;Q<Y.tt.length;Q++){var Z=Y.tt[Q],g=dD.Sp(Z[0]);g.add.vmsk.X=Z[1];t.I.cI(Z[1],new kp(j.r,0,0,j.$,0,0));
s.Qt.push(g)}if(Y.aZ)s.aZ=Y.aZ;G.S=Y.kq.Q();if(s.depth==8)G.buffer=new Uint8Array(Y.data);else if(s.depth==16)G.buffer=new Uint16Array(Y.data);
else if(s.depth==32)G.buffer=new Float32Array(Y.data);if($==0&&Y.gX)s.vR(Y.gX);t.yn(G,!0);s.U.push(G)}if(J)s.U.push(q);
if(X[0].OD){for(var $=0;$<X[0].OD.length;$++){var B=new K.$O;s.OD.push(B);B.S=X[0].kq.Q();B.N=X[0].OD[$]}}s.O=[J?s.U.length-1:0];
s.r=j.r;s.$=j.$;if(gj==0)s.buffer=t.j(j.o()*4,s.depth);s.vV();return s};h1.aGu=function(M,X,J){var q=M.length-J,W=new Uint8Array(q);
for(var $=0;$<X;$++)W[$]=M[$];for(var $=X;$<q;$++)W[$]=M[$+J];return W};h1.aHN=function(M,X,J){var q=M.length,W=J.length,T=new Uint8Array(q+W);
for(var $=0;$<X;$++)T[$]=M[$];for(var $=X;$<q;$++)T[$+W]=M[$];T.set(J,X);return T};h1.a5U=function(M,X,J,q,W,T,_,m,d){var A=new jb(r.E.H,!0);
A.J=o.xH;A.data={h:"h_stepbck"};var p={};for(var a=1;a<J.length;a++){var f=M.O.slice(0),s=h1.aDI(M,d,X,J,q,a),j="img"+a,Y=J[0].indexOf(_);
if(_!=""){if(Y==-1)alert("Column "+_+" not found.");else j=J[a][Y]}p[j+"."+W.toLowerCase()]=new Uint8Array(h1.PZ(M,W,null,null,T,m));
for(var $=0;$<s;$++)d.a(A)}return UZIP.encode(p)};h1.aDI=function(M,X,J,q,W,T){var _=new jb(r.E.C,!0),A=0;
_.data={h:r.m._i};var m=new jb(r.E.H,!0);m.J=o.HX;m.data={h:K.Ge,$D:{buffer:null,S:null}};var d=m.data.$D;
for(var p=0;p<J.length;p++){var a=J[p],f=a.trait,s=parseInt(a.docRef.slice(4,-2)),j=-1;for(var $=0;$<M.U.length;
$++)if(M.U[$].add.lyid==s)j=$;if(j==-1)continue;var Y=q[0].indexOf(a.varName);if(Y==-1){alert("Column "+a.varName+" is missing");
return}var G=q[T][Y],Q=M.U[j];M.O=[j];if(f=="textcontent"){_.data.lB="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(G)+";";
X.a(_);A++}if(f=="visibility"&&Q.cV()+""!=G.toLowerCase()){G=G.trim().toLowerCase();if(G!="true"&&G!="false")G=G==""?"false":"true";
_.data.lB="app.activeDocument.activeLayer.visible = "+G+";";if(Q.cV()+""!=G){X.a(_);A++}}if(f=="fileref"){var Z=G.split("/").pop(),g=null;
for(var jX in W)if(jX.split("/").pop()==Z)g=W[jX];if(g==null){alert("Image "+Z+" is missing.")}else{var S=h1.mr(h1.$Y(g.buffer)).ss(g.buffer)[0],U=S.kq,B=Q.S,V=0,I=0;
if(Q.add.SoLd){var e=o.fx.Bz(Q.add.SoLd.nonAffineTransform);B=t.G.Oi(e)}var P=B.r/B.$,h=U.r/U.$;if(P>h){I=B.$;
V=~~(I*h)}else{V=B.r;I=~~(V/h)}_.data.lB="app.activeDocument.activeLayer.visible = false;";X.a(_);A++;
var F=o.fx.gj([new Uint8Array(S.data),U],new kp(V/U.r,0,0,I/U.$,0,0));d.S=F.S;d.buffer=F.buffer;F.S.x=B.x+(B.r-V>>>1);
F.S.y=B.y+(B.$-I>>>1);X.a(m);A++;var c=M.U[M.O[0]];c.G8=Q.G8;c.H2=Q.H2;c.Sw=Q.Sw;c.JS=Q.JS}}}return A};
h1.cL={};h1.cL.iL=function(M,X,J,q){if(q==null)q=[100,!1,!1,0,0,0];var W={sRGB:1,loop:q[4]},T=M[0];if(T[5]!=null){delete W.sRGB;
W.iCCP=T[5]}if(T[2]!=null){var _=Math.round(T[2]*(1e4/254));W.pHYs=[_,_,1]}if(T[3]!=null&&q[2]&&Object.keys(T[3]).length!=0){W.iTXt={"XML:com.adobe.xmp":kY.mS(T[3])}}var m=q[0],d=m==100?0:Math.max(2,Math.floor(m*5));
if(d==5)d=4;var A=[],p=[];for(var $=0;$<M.length;$++){A.push(M[$][0]);p.push(M[$][1])}var a=UPNG.encode(A,X,J,d,p,W,q[1]);
return a};h1.cL.a2K=function(M,X,J,q){if(q==null)q=8;if(q==16){M=M.slice(0);var W=new Uint8Array(M);
for(var $=0;$<W.length;$+=2){var T=W[$];W[$]=W[$+1];W[$+1]=T}}return UPNG.encodeLL([M],X,J,3,1,q)};h1.cL.ss=function(M){var X=Date.now(),J=UPNG.decode(M),q=J.width,W=J.height,T=8,_=J.ctype,m,d=0,A=null,p=J.tabs.iCCP;
if(J.tabs.pHYs)d=Math.round(J.tabs.pHYs[0]*254/1e4);var a=J.tabs.iTXt;if(a&&a["XML:com.adobe.xmp"])A=kY.M$(a["XML:com.adobe.xmp"]);
if(iW&&J.depth==16){m=[h1.ags(J.data.buffer.slice(0,q*W*8),q,W,!0)];T=16}else m=UPNG.toRGBA8(J);if(m.length==1)return[{kq:new gc(0,0,q,W),data:m[0],Qv:d,gX:p,eJ:A,depth:T}];
var f=[];for(var $=0;$<m.length;$++){f.push({yS:"_a_frm"+$+","+J.frames[$].delay,kq:new gc(0,0,q,W),data:m[$],Qv:d,gX:p,eJ:A,depth:T})}return f};
h1.Bf={};h1.Bf.iL=function(M,X,J,q){var W=new Uint8Array(M[0][0]),T=X*J,_=T*3,m="P6\n"+X+" "+J+"\n255\n",d=m.length,A=new Uint8Array(d+_);
for(var $=0;$<d;$++)A[$]=m.charCodeAt($);for(var $=0;$<T;$++){var p=$*4,a=$*3+d;A[a]=W[p];A[a+1]=W[p+1];
A[a+2]=W[p+2]}return A.buffer};h1.Bf.ss=function(M){M=new Uint8Array(M);var X=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],J=0,q=String.fromCharCode(M[0])+String.fromCharCode(M[1]),W=[],T=0,_=q=="P1"||q=="P4"?2:3;
for(J=2;J<M.length;J++){var m=M[J],d=String.fromCharCode(m);if(m=="#".charCodeAt(0)){while(M[J]!="\n".charCodeAt(0))J++;
continue}var A=X.indexOf(m)!=-1;if(T==0&&!A){W.push(d);T=1;continue}if(T==1&&!A){W[W.length-1]+=d;continue}if(T==1&&A){T=0;
if(W.length==_)break;continue}}var p=parseInt(W[0]),a=parseInt(W[1]),f=p*a*4,s=q=="P1"||q=="P4"?1:255/parseInt(W[2]),j=t.j(f);
if(q=="P1"||q=="P2"||q=="P3"){var Y="",G=0,T=0,Q="#".charCodeAt(0);for(var $=J;$<M.length;$++){var m=M[$],d=String.fromCharCode(m),A=X.indexOf(m)!=-1;
if(m==Q){while(M[$]!="\n".charCodeAt(0))$++}else if(T==0&&!A){Y=d;T=1}else if(T==1){if(A){T=0;var Z=parseInt(Y);
Y="";if(q=="P1"){j[G]=j[G+1]=j[G+2]=(1-Z)*255;j[G+3]=255;G+=4}if(q=="P2"){j[G]=j[G+1]=j[G+2]=Math.round(Z*s);
j[G+3]=255;G+=4}if(q=="P3"){j[G]=Math.round(Z*s);G++;if((G&3)==3){j[G]=255;G++}}}else Y+=d}}}var g=p*a;
if(q=="P4")for(var S=0;S<a;S++){var U=S*8*Math.ceil(p/8);for(var B=0;B<p;B++){var $=U+B,e=M[J+1+($>>3)];
e=e>>7-($&7)&1;var P=S*p+B<<2;j[P]=j[P+1]=j[P+2]=(1-e)*255;j[P+3]=255}}if(q=="P5")for(var $=0;$<g;$++){var P=4*$;
j[P]=j[P+1]=j[P+2]=Math.round(M[J+1+$]*s);j[P+3]=255}if(q=="P6")for(var $=0;$<g;$++){var P=4*$,h=J+1+3*$;
j[P]=Math.round(M[h]*s);j[P+1]=Math.round(M[h+1]*s);j[P+2]=Math.round(M[h+2]*s);j[P+3]=255}return[{kq:new gc(0,0,p,a),data:j.buffer}]};
h1.oF={};h1.oF.iL=function(M,X,J,q){if(q==null)q=[0,!0];if(typeof q[0]=="boolean")q[0]=0;var W=new Uint8Array(M[0][0]);
if(!t.CH(W)&&M[0][4]){W=W.slice(0);t.ix(M[0][4][0],W,3)}var T=X&3,_=J&3;if(T!=0||_!=0){var m=X+(T==0?0:4-T),d=J+(_==0?0:4-_),A=new Uint8Array(m*d*4);
t.Tb(A,4278190080);t.fA(W,new gc(0,0,X,J),A,new gc(0,0,m,d));W=A;X=m;J=d}var p=UTEX.DDS.encode(W.buffer,X,J,q);
if(!1){var a=UTEX.DDS.decode(p)[0],A=new Uint8Array(a.SA),f=0;for(var $=0;$<W.length;$++){var s=W[$]-A[$];
f+=s*s}console.log(f)}return p};h1.oF.ss=function(M){var X=UTEX.DDS.decode(M)[0],J={kq:new gc(0,0,X.width,X.height),data:X.image};
t.axZ(J);return[J]};h1.axI={};h1.axI.ss=function(M){var X=UTEX.VTF.decode(M).pop(),J={kq:new gc(0,0,X.width,X.height),data:X.image};
t.axZ(J);return[J]};h1.wG={};h1.wG.azY=null;h1.wG.a9S=function(M,X){var J=h1.wG.azY,q=M.byteLength,W=X.width,T=X.height,_=W*T,m=5e6+2*q+_*(X.progressive?Math.max(2,X.numComponents)*4+1:8),d=J.instance.exports;
h1.ia(d,m);var A=new Uint8Array(d.memory.buffer),p=d.malloc(q);A.set(new Uint8Array(M),p);var a=d.malloc(4),f=d.malloc(4),jX=d.malloc(4),s=d.stbi_load_from_memory(p,q,a,f,jX,4);
d.free(p);d.free(a,f,jX);d.free(s);var j=A.slice(s,s+_*4);return j};(function(){var M=h1.Rv.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(M).then(function(X){h1.wG.azY=X})}());h1.wG.iL=function(M,X,J,q){if(q==null)q=[85];
var W=M[0],T=new Uint8Array(W[0]);if(t.CH(T)){var _=new Uint8Array(T.length);_.fill(255);var m=new gc(0,0,X,J);
t.v.r$("norm",T,m,_,m,m,1);T=_}var d=new Uint8Array(h1.PF(T.buffer,X,J,"jpeg",q[0]/100));if(d.length<2e4||W[5]){var A=H.Gs(d,[255,226]);
if(A!=-1){var p=H.uC(d,A+2);d=h1.aGu(d,A,p+2)}}if(W[5]!=null){var a=4+H.uC(d,4),f=W[5].length+16,s=new Uint8Array(f+2);
s[0]=255;s[1]=226;H.cB(s,2,f);H.WB(s,4,"ICC_PROFILE");s[16]=s[17]=1;s.set(W[5],18);d=h1.aHN(d,a,s)}if(W[2]!=null){var j=h1.wG.Mt(d)[224][0]+2;
j+=9;d[j]=1;H.cB(d,j+1,W[2]);H.cB(d,j+3,W[2])}if(W[3]!=null&&q[1]==!0&&Object.keys(W[3]).length!=0){var Y=0,G=0,Q=0,Z=kY.t8(W[3]),g=new Uint8Array(UTIF.encode([Z])),S="http://ns.adobe.com/xap/1.0/",a=20;
Y=4+6+g.length;var U=kY.mS(W[3]),B=H.y4(U);G=4+S.length+1+B.length;var e=kY.aG3(W[3]);if(e.length!=0){var P=0,I=0;
for(var $=0;$<e.length;$++)P+=5+e[$][1].length;var h=P+(P&1),V=t.j(14+4+4+4+h);H.WB(V,I,"Photoshop 3.0");
I+=14;H.WB(V,I,"8BIM");I+=4;V[I++]=4;V[I++]=4;I+=2;H.R2(V,I,P);I+=4;for(var $=0;$<e.length;$++){var F=e[$],c=F[1];
V[I++]=28;V[I++]=2;V[I++]=F[0];H.cB(V,I,c.length);I+=2;H.WB(V,I,c);I+=c.length}Q=4+V.length}var D=Y+G+Q,n=new Uint8Array(d.length+D);
for(var $=0;$<20;$++)n[$]=d[$];for(var $=20;$<d.length;$++)n[$+D]=d[$];n[a]=255;n[a+1]=225;H.cB(n,a+2,Y-2);
H.WB(n,a+4,"Exif");for(var $=0;$<g.length;$++)n[a+10+$]=g[$];a+=Y;n[a]=255;n[a+1]=225;H.cB(n,a+2,G-2);
H.WB(n,a+4,S);for(var $=0;$<B.length;$++)n[a+4+S.length+1+$]=B[$];a+=G;if(Q!=0){n[a]=255;n[a+1]=237;
H.cB(n,a+2,Q-2);for(var $=0;$<V.length;$++)n[a+4+$]=V[$];a+=Q}d=n}return d.buffer};h1.wG.Mt=function(M){var X=0,J=[],q=M.length;
while(X<q){while(M[X]!=255&&X<q)X++;while(M[X]==255)X++;if(X==q)break;var W=M[X];X++;if(J[W]==null)J[W]=[];
J[W].push(X-2);if(W==216)continue;if(W==217)break;if(224<=W&&W<=239||W==218||W==219||W==192||W==193||W==194||W==196||W==221||W==254){var T=H.uC(M,X);
X+=T;if(W==218)while(X<q&&(M[X]!=255||(M[X+1]==0||208<=M[X+1]&&M[X+1]<=215)))X++;continue}console.log("unknown marker ",W.toString(16),X);
break}if(J[217]==null){console.log("EOI marker missing");var _=M.length-2;M[_]=255;M[_+1]=217;J[217]=[_]}return J};
h1.wG.aBo=function(M){M=new Uint8Array(M);if(M[0]!=255)return M.buffer;var X=h1.wG.Mt(M),J=h1.wG.aDu(M,X);
if(J.numComponents!=4)return M.buffer;var q=J.width,W=J.height,T=h1.wG.afm(M,X,!0);return h1.wG.iL([[T[0].data]],q,W,[85])};
h1.wG.aDu=function(M,X){var J=(X[192]?X[192]:X[193]?X[193]:X[194])[0]+4,q={};q.progressive=X[194]!=null;
q.precision=M[J];J++;q.height=H.uC(M,J);J+=2;q.width=H.uC(M,J);J+=2;q.numComponents=M[J];J++;if(X[224]){var W=q.jfif={};
J=X[224][0]+2+2+5+2;W.densityUnits=M[J];J++;W.xDensity=H.uC(M,J);J+=2;W.yDensity=H.uC(M,J);J+=2}if(X[238]){var W=q.adobe={};
J=X[238][0]+2+2+6;W.version=M[J];J++;W.flags0=H.uC(M,J);J+=2;W.flags1=H.uC(M,J);J+=2;W.transform=M[J];
J++}return q};h1.wG.aqG=function(M,X,J){var q=X,W=H.uC(M,q);q+=2;var T=H.zb(M,q,4);if(T=="Exif"){q+=6;
var _=M.slice(q,q+W-8),m;try{m=UTIF.decode(_.buffer,{parseMN:!1,debug:!1})}catch(hP){}if(m&&m.length!=0)J.exif=m}else if(T=="http"){var d=0;
while(M[q+d]!=0)d++;var A=H.zb(M,q,d);q+=d+1;if(A=="http://ns.adobe.com/xmp/extension/"){var p=H.zb(M,q,32);
q+=32;q+=8;var a=X+W-q;while(M[q+a-1]==0)a--;if(J.xmp_extn==null)J.xmp_extn="";try{J.xmp_extn+=H.Og(M,q,a)}catch(hP){}}else if(A=="http://ns.adobe.com/xap/1.0/"){var f=H.Og(M.slice(q,q+W-d-3));
if(f[0]=="?")f="<"+f;J.xmp=f}}else console.log(T)};h1.wG.afm=function(M,X,J){var q=h1.wG.aDu(M,X),W=q.width,T=q.height,_=W*T,m,S=72,U,e,P=null;
if(W*T*4>2e9&&window.chrome!=null){alert("A bug in Chromium doesn't allow us open such large images. Try it in Firefox!",2600);
return null}var d=-1;if(q.adobe)d=q.adobe.transform;if(J||W*T>1e7||d==0||d==2||q.progressive||window.WebAssembly==null){var A=new PDFJS.JpegImage;
A.parse(M);var p=A.getData({width:W,height:T,forceRGB:!0,isSourcePDF:J}),m=t.j(_*4);for(var $=0;$<_;
$++){var a=$<<2,f=a-$;m[a]=p[f];m[a+1]=p[f+1];m[a+2]=p[f+2];m[a+3]=255}}else{m=h1.wG.a9S(M.buffer,q)}var s=X[225];
if(s)for(var $=0;$<s.length;$++)h1.wG.aqG(M,s[$]+2,q);var j=X[226];if(j){for(var $=0;$<j.length;$++){var Y=j[$],G=H.uC(M,Y+2),Q=H.zb(M,Y+4,11);
if(q.icc==null&&Q=="ICC_PROFILE"){var Z=H.Z3(M,Y+18);q.icc=M.slice(Y+18,Y+18+Z)}}}var g=X[217][0]+2;
if(g!=M.length)q.suffix=M.slice(g);var B=[W,T,1,0,0,0,1,0];if(q.jfif&&q.jfif.densityUnits!=0){S=Math.round([72,1,2.54][q.jfif.densityUnits]*q.jfif.xDensity)}else if(q.exif&&q.exif[0].t282!=null){var h=q.exif[0].t282[0];
S=h[0]/h[1]}if(q.exif){var V=q.exif;U=kY.WZ(V[0]);var I=V[0].t274;if(I)I=I[0];if(I!=null&&I>1&&I<20)B=t.raw.afa(I,W,T)}if(q.xmp){U=kY.M$(q.xmp,U)}if(q.icc)e=q.icc;
var F=X[237],c=[],D=[];if(F){var n=new Uint8Array(65536),k=0,Y=0;for(var $=0;$<F.length;$++){Y=F[$]+2;
var b=Y+H.uC(M,Y);Y+=2;var N=Y;while(M[Y]!=0)Y++;Y++;var L=H.zb(M,N,Y-N-1),R=b-Y;if(R<0)break;while(k+R>n.length){var i=new Uint8Array(n.length*2);
i.set(n);n=i}var v=new Uint8Array(M.buffer,Y,R);n.set(v,k);k+=R}Y=0;M=n;while(Y<k){var E=H.zb(M,Y,4);
Y+=4;var u=H.uC(M,Y);Y+=2;var C=M[Y++],l=H.zb(M,Y,C);Y+=C;if((C&1)==0)Y++;var G=H.Z3(M,Y);Y+=4;var g=Y+G+(G&1);
if(u==1028){while(Y+4<g){var x=M[Y++],y=M[Y++],ge=M[Y++],O=H.uC(M,Y);Y+=2;if(x==28&&y==2)c.push([ge,H.zb(M,Y,O)]);
Y+=O}}else if(u==1032)P=bB.aAK(M,Y);else if((u&2e3)==2e3){var kz=iv.Q7(M,Y,G);D.push([l,kz])}else{}Y=g}if(c.length!=0)U=kY.a7z(c,U)}var z=[{kq:new gc(0,0,W,T),data:m.buffer,Qv:S,eJ:U,gX:e,tt:D.length==0?null:D,aZ:P}],U=q.xmp_extn;
if(U){var eZ=new DOMParser,kM=eZ.parseFromString(U,"image/svg+xml"),kM=kM.children[0].children[0].children[0],jV=[kM.getAttribute("GImage:Data"),kM.getAttribute("GDepth:Data")];
for(var $=0;$<jV.length;$++)if(jV[$]){var cL=atob(jV[$]),aw=new Uint8Array(cL.length);H.WB(aw,0,cL);
aw=aw.buffer;var h2=h1.$Y(aw),ea=h1.mr(h2).ss(aw);z.push(ea[0])}}if(q.suffix){var ht=q.suffix,jn=!1,gE=H.zb(ht,4,4),bS=H.Gs(ht,[255,216,255]);
if(h1.ayd(ht,[0,0,1,10,14,0,0,0])){if(jn)console.log("Samsung");var Y=0;while(Y!=ht.length){var bi=H.Fn(ht,Y+2);
Y+=4;var cj={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[bi];if(cj!=null){var bb=H.UQ(ht,Y);Y+=4;
var c0=H.zb(ht,Y,bb);Y+=bb;var cV=H.zb(ht,Y,cj);Y+=cj;if(bi==2608){var g_=Y,hx=H.Z3(ht,Y+24);Y+=hx+24;
var au=H.Z3(ht,Y);Y+=au;var kP=ht.slice(g_,Y);h1.wG.a6g(kP)}}else if(bi==18502){while(H.zb(ht,Y,4)!="SEFT")Y+=4;
Y+=4}else{break;console.log(H.t_(ht,Y,128));console.log(ht.slice(Y));throw bi.toString(16)}}}else if(gE=="ftyp"){if(jn)console.log("MP4 Video");
h1.wG.a6g(ht)}else if(H.zb(ht,0,4)=="fixe"){if(jn)console.log("fixe");alert("Unknown data - "+ht.length+" B - at the end of the file",3e3);
var Y=4,G=H.UQ(ht,Y);Y+=4;var iK=H.UQ(ht,Y);Y+=4;var b3=H.UQ(ht,Y);Y+=4;console.log(G,iK,b3,ht.slice(Y,Y+84));
Y+=84;var fs=H.zb(ht,Y,32);Y+=32;Y+=8;var fs=H.zb(ht,Y,32);Y+=32}else if(H.zb(ht,8,13)=="FocusShot_Map"){if(jn)console.log("FocusShot_Map");
var ch=H.Z3(ht,0),O=H.UQ(ht,4),aw=t.j(_*4),hv=t.j(_*4);for(var g6=0;g6<T;g6++)for(var ef=0;ef<W;ef++){var $=g6*W+ef,a=$<<2,fN=8+13+((g6>>>1)*W+ef>>>1),kb=ht[fN],cn=ht[fN+(_>>>2)];
aw[a]=aw[a+1]=aw[a+2]=kb;aw[a+3]=255;hv[a]=hv[a+1]=hv[a+2]=cn;hv[a+3]=255}z.push({kq:new gc(0,0,W,T),data:aw.buffer},{kq:new gc(0,0,W,T),data:hv.buffer})}else if(gE=="edof"){if(jn)console.log("edof");
var I=ht[8+7];console.log(I.toString(16));var Y=8+16,dF=H.Fn(ht,Y),et=H.Fn(ht,Y+2),_=dF*et;Y+=4;Y+=32+16;
var bh=t.j(_*4);for(var $=0;$<_;$++){var a=$<<2;bh[a]=bh[a+1]=bh[a+2]=ht[Y+$];bh[a+3]=255}if(I==16){}else if(I==19){var dY=bh.slice(0);
t.t.jJ(bh,dY,dF,et);var jM=dF;dF=et;et=jM;t.t.E1(dY,bh,dF,et)}else throw"Unknown orientation of a depth map";
z.push({kq:new gc(0,0,dF,et),data:bh.buffer})}else if(H.zb(ht,0,64).indexOf("DualShot")!=-1){var bz=H.UQ,hh=H.zb,dM=H.Fn,Y=0;
function iX(){var cu=bz(ht,Y);if(bz(ht,Y+4)!=0)throw"e";Y+=8;return cu}var aW=H.Z3(ht,Y);Y+=4;try{if(aW==45066){Y=1226;
var W=iX(),T=iX();Y=3445}else if(aW==45322){var eC=bz(ht,Y);Y+=4;var fs=hh(ht,Y,eC);Y+=eC;if(fs!="DualShot_DepthMap_1")throw fs;
W=1008;T=756}else throw aW;var dh=t.j(W*T*4);dh.fill(255);t.Qh(ht.slice(Y,Y+W*T),dh);z.push({kq:new gc(0,0,W,T),data:dh.buffer})}catch(hP){console.log("error reading a depth map")}try{if(bS!=0)ht=ht.slice(bS);
z=z.concat(h1.mr("jpg").ss(ht.buffer))}catch(hP){}}else if(bS!=-1&&!(ht[0]==255&&ht[1]==129)){if(jn)console.log("another JPG at",bS);
try{if(bS!=0)ht=ht.slice(bS);z=z.concat(h1.mr("jpg").ss(ht.buffer))}catch(hP){}}else if(H.zb(ht,0,4)=="PMPD"){if(jn)console.log("Xiaomi stuff");
var Y=4,ff=H.UQ(ht,12),fE=H.UQ(ht,16),dF=H.UQ(ht,1060),et=H.UQ(ht,1064),dX=dF>et,i2=z[0].kq.r>z[0].kq.$,ew=ht.slice(ht.length-dF*et-4),hW=t.j(dF*et);
for(var g6=0;g6<et;g6++)for(var ef=0;ef<dF;ef++)hW[g6*dF+ef]=ew[(et-g6-1)*dF+ef];var dh=t.j(dF*et*4);
dh.fill(255);t.Qh(hW,dh);if(dX!=i2){var dY=dh.slice(0);t.t.jJ(dh,dY,dF,et);var jM=dF;dF=et;et=jM;t.t.E1(dY,dh,dF,et)}z.push({kq:new gc(0,0,dF,et),data:dh.buffer})}else console.log(H.zb(ht,0,4),ht)}if(z.length>1){var jt=z[0].kq,dl=!1,ba=!0;
z[0].yS="Main";var h3=[!1];for(var $=1;$<z.length;$++){h3[$]=h1.wG.agS(new Uint8Array(z[$].data));if(h3[$])dl=!0;
if(!z[$].kq.w6(z[0].kq))ba=!1}if(!dl&&!ba)z=z.slice(0,1);else for(var $=1;$<z.length;$++){z[$].yS=h3[$]?"Depth Map":null;
var b_=z[$].kq;if(!b_.w6(jt)){var f8=jt.r/b_.r,ak=jt.$/b_.$,jk=new kp;jk.scale(f8,ak);var i6=o.fx.IA([new Uint8Array(z[$].data),b_],1,t.t.WP(jk));
z[$].kq=i6.S;z[$].data=i6.buffer}}}if(h1.wG.XL==1)if(B[2]!=1||B[6]!=1)for(var $=0;$<z.length;$++){var k2=z[$],gm=new Uint8Array(k2.data),W=k2.kq.r,T=k2.kq.$,dF=B[0],et=B[1],m=t.j(dF*et*4);
t.t.w8(gm,W,T,m,B);k2.kq=new gc(0,0,dF,et);k2.data=m.buffer}return z};h1.wG.a6g=function(M){if(window.confirm("Photopea found a "+cO.Pn(M.length)+" MP4 video inside your image. Would you like to save it?",4e3)){gb.save(M.slice(0).buffer,"video.mp4")}};
h1.wG.agS=function(M){var X=!0;for(var $=0;$<M.length;$+=4){X=X&&M[$]==M[$+1]&&M[$+1]==M[$+2]}return X};
h1.wG.XL=0;h1.wG.ss=function(M,X,J){M=new Uint8Array(M);if(M[0]==255){var q=h1.wG.Mt(M);if(q[195]==null){h1.wG.XL++;
var W=h1.wG.afm(M,q,!1);h1.wG.XL--;return W}var T=H.uC(M,q[195][0]+5),_=H.uC(M,q[195][0]+7),m=UTIF.LosslessJpegDecode(M),d=_*T,A=t.j(d*4);
for(var $=0;$<d;$++){var p=$<<2,a=p-$;A[p]=m[a];A[p+1]=m[a+1];A[p+2]=m[a+2];A[p+3]=255}return[{kq:new gc(0,0,_,T),data:A.buffer}]}else if(M[0]==0&&M[4]==48&&M[6]==1){var f=M,s=new PDFJS.Jbig2Image,j=[];
if(X)j.push({data:X,start:0,end:X.length});j.push({data:f,start:0,end:f.length});var m=s.parseChunks(j);
if(!J)for(var $=0;$<m.length;$++)m[$]=~m[$];var _=H.Z3(M,11),T=H.Z3(M,15),Y=Math.ceil(_/8),G=t.j(_*T*4);
for(var Q=0;Q<T;Q++){var Z=Q*Y;for(var g=0;g<_;g++){var p=(Q*_+g)*4,S=m[Z+(g>>>3)]>>>7-(g&7)&1,U=S*255;
G[p]=U;G[p+1]=U;G[p+2]=U;G[p+3]=255}}return[{kq:new gc(0,0,_,T),data:G.buffer}]}else{var s=new PDFJS.JpxImage;
s.parse(M);var _=s.width,T=s.height,B=s.tiles,e=s.componentsCount,P=new Uint8Array(_*T*4),h=new gc(0,0,_,T);
for(var s=0;s<B.length;s++){var V=B[s],I=V.width,F=V.height,c=I*F,D=V.items,n=new gc(V.left,V.top,I,F),k=new Uint8Array(c*4);
if(e==1)for(var $=0;$<c;$++){var b=D[$],p=$*4;k[p]=b;k[p+1]=b;k[p+2]=b;k[p+3]=255}else if(e==3)for(var $=0;
$<c;$++){var a=$*3,p=$*4;k[p]=D[a];k[p+1]=D[a+1];k[p+2]=D[a+2];k[p+3]=255}else if(e==4)k.set(D);else console.log("Unknown number of components: "+e);
t.fA(k,n,P,h)}return[{kq:h,data:P.buffer}]}};h1.Yl={};h1.Yl.iL=function(M,X,J,q){if(q==null)q=[70,!1,0,0,0];
var W=q[0]/100,Y=0;if(M.length==1){var T=new Uint8Array(h1.PF(M[0][0],X,J,"webp",W));if(h1.$Y(T.buffer)!="webp"){alert("Your browser cannot export WEBP :(",3e3);
throw"e"}if(T.length<2e4){var _=h8.Ah(T.buffer),m=_.sub;for(var $=0;$<m.length;$++)if(m[$].qM=="ICCP"){var d=m[$];
T=h1.aGu(T,d.s-8,d.size+8);H.sY(T,4,_.size-(d.size+8));break}}if(q[1]&&M[0][3]){var _=h8.Ah(T.buffer),m=_.sub,A=m[0].s+m[0].size,p=M[0][3],a=new Uint8Array(UTIF.encode([kY.t8(p)])),f=new Uint8Array(6+a.length);
H.WB(f,0,"Exif\0\0");f.set(a,6);var s=H.y4(kY.mS(p)),j=new Uint8Array(16+f.length+s.length);H.WB(j,0,"EXIF");
H.sY(j,4,f.length);j.set(f,8);var Y=8+f.length;H.WB(j,Y,"XMP ");H.sY(j,Y+4,s.length);j.set(s,Y+8);var G=new Uint8Array(T.length+j.length);
G.set(new Uint8Array(T.buffer,0,A),0);G.set(j,A);G.set(new Uint8Array(T.buffer,A),A+j.length);T=G;H.sY(T,4,H.UQ(T,4)+j.length)}return T.buffer}var Q=H.JZ,Z=H.SE,g=new bJ;
Q(g,Y,"RIFF    WEBPVP8X");Y+=16;Z(g,Y,10);Y+=4;Z(g,Y,18);Y+=4;Z(g,Y,X-1);Y+=3;Z(g,Y,J-1);Y+=3;Q(g,Y,"ANIM");
Y+=4;Z(g,Y,6);Y+=4;g.q0(Y,4);g.data[Y+3]=255;H.Fo(g,Y+4,q[3]);Y+=6;var S=[];for(var $=0;$<M.length;$++){S.push(M[$][0])}var U=UPNG.encode.compress(S,X,J,W==1?0:Math.max(2,Math.floor(W*500)),[!1,!0,!0,0,!0]).frames;
function B(_,N,L,R){var c=_.s-8,D=_.size+8;L.q0(R,D);for(var $=0;$<D;$++)L.data[R+$]=N[c+$];return R+D}for(var $=0;
$<M.length;$++){Q(g,Y,"ANMF");Y+=4;var e=Y,c=0,D=0;Y+=4;var P=U[$],h=P.rect,V=[h.x>>>1,h.y>>>1,h.width-1,h.height-1,M[$][1]];
for(var I=0;I<5;I++)Z(g,Y+3*I,V[I]);Y+=15;g.q0(Y,1);g.data[Y]=1-P.blend<<1|P.dispose;Y++;var F=new Uint8Array(h1.PF(P.img.buffer,h.width,h.height,"webp",1)),m=h8.Ah(F.buffer).sub,n={};
for(var k=0;k<m.length;k++)n[m[k].qM]=m[k];if(n.VP8L)Y=B(n.VP8L,F,g,Y);else throw"e";var b=Y-e-4;Z(g,e,b);
if((b&1)==1){g.q0(Y,1);Y++}}Z(g,4,Y-8);return g.data.slice(0,Y).buffer};(function(){var M=h1.Rv.get("wasm/webp").buffer;
WebAssembly.instantiate(M).then(function(X){var J=X.instance.exports;h1.Yl.exp=J})}());h1.Yl.ss=function(M){var X=new Uint8Array(M),J=h1.Yl.a82,q=null,W=h8.Ah(M).sub,T={},_=null;
for(var $=0;$<W.length;$++)T[W[$].qM]=W[$];if(T.EXIF){var m=T.EXIF,d=new Uint8Array(M,m.s+6,m.size-6),m=UTIF.decode(d)[0];
if(m)_=kY.WZ(m)}var m=T["XMP\0"];if(m==null)m=T["XMP "];if(m){var d=new Uint8Array(M,m.s,m.size);if(_==null)_={};
_=kY.M$(H.Og(d),_)}var A=T.ANIM,p=T.VP8L,a=T["VP8 "],f=T.VP8X;if(A==null){var s,j;if(a){s=H.Fn(X,a.s+6);
j=H.Fn(X,a.s+8)}else if(p){var Y=H.UQ(X,p.s+1);s=(Y&(1<<14)-1)+1;j=(Y>>>14&(1<<14)-1)+1}else throw"e";
var G=J(q,M,{s:0,size:X.length},s,j);G.eJ=_;return[G]}var Q=f.s,s=1+(H.UQ(X,Q+4)&16777215),j=1+(H.UQ(X,Q+7)&16777215),Z=[],g=new gc(0,0,s,j),S=t.j(s*j*4);
for(var $=0;$<W.length;$++){var U=W[$];if(U.qM!="ANMF")continue;var B=[];for(var e=0;e<5;e++)B.push(H.UQ(X,U.s+e*3)&16777215);
var P=new gc(B[0]*2,B[1]*2,B[2]+1,B[3]+1),h=B[4],V=J(q,M,{s:U.s+16,size:U.size-16},s,j),I=new Uint8Array(V.data),F=X[U.s+15];
if(F>>>1==0)t.v.r$("norm",I,P,S,g,P,1);else t.fA(I,P,S,g);Z.push({yS:"_a_"+Z.length+","+h,kq:g.Q(),data:S.buffer.slice(0)});
if((F&1)==1){I.fill(0);t.fA(I,P,S,g)}}return Z};h1.Yl.a82=function(M,X,J,q,W){var T=h1.Yl.exp,_=T.memory,m=5e6+2*J.size+q*W*10;
h1.ia(T,m);var d=new Uint8Array(_.buffer),A=T.malloc(J.size);d.set(new Uint8Array(X,J.s,J.size),A);var p=T.malloc(8),a=T.WebPDecodeARGB(A,J.size,p,p+4),f=H.UQ(d,p),s=H.UQ(d,p+4),j=f*s*4,Y=t.j(j);
for(var $=0;$<j;$+=4){Y[$]=d[a+$+1];Y[$+1]=d[a+$+2];Y[$+2]=d[a+$+3];Y[$+3]=d[a+$]}T.WebPFree(a);T.free(p);
T.free(A);return{kq:new gc(0,0,f,s),data:Y.buffer}};h1.ary=function(){function M(m,d,A,p){var a=new Uint8Array(m[0][0]),f=new Uint32Array(a.buffer),s=[],j={},G=24,Q=0,B=0;
for(var $=0;$<f.length;$++){var Y=f[$]&16777215;if(j[Y]==null){j[Y]=s.length;s.push(Y);if(s.length>256){s=null;
break}}}if(p&&p[0])s=null;if(s){G=1;while(1<<G<s.length)G*=2;if(G==2)G=4}var Z={a3:d,oz:A,p5:1,B3:G,iq:0,ayl:Q},g=4*Math.floor((Z.B3*Z.a3+31)/32);
Z.size=g*Z.oz+2;var S=new bJ,U=s?(1<<G)*4:0;H.JZ(S,B,"BM");B+=2;H.SE(S,B,g*A+16+40+U);B+=4;H.SE(S,B,0);
B+=4;H.SE(S,B,54+U);B+=4;S.q0(B,40);H.SE(S,B,40);B+=4;_(S.data,B,Z,g);B+=36;if(s){S.q0(B,U);var e=S.data;
for(var $=0;$<s.length;$++){var P=B+$*4,h=s[$]>>>16,V=s[$]>>>8&255,I=s[$]&255;e[P]=h;e[P+1]=V;e[P+2]=I}B+=U}S.q0(B,g*A);
if(G==24)for(var F=0;F<A;F++){var c=B+(A-1-F)*g;for(var D=0;D<d;D++){var n=(F*d+D)*4;S.data[c+D*3+2]=a[n];
S.data[c+D*3+1]=a[n+1];S.data[c+D*3+0]=a[n+2]}}else if(G==8)for(var F=0;F<A;F++){var c=B+(A-1-F)*g;for(var D=0;
D<d;D++){var n=F*d+D,k=j[f[n]&16777215];S.data[c+D]|=k}}else if(G==4)for(var F=0;F<A;F++){var c=B+(A-1-F)*g;
for(var D=0;D<d;D++){var n=F*d+D,k=j[f[n]&16777215];S.data[c+(D>>>1)]|=k<<4-(D&1)*4}}else if(G==1)for(var F=0;
F<A;F++){var c=B+(A-1-F)*g;for(var D=0;D<d;D++){var n=F*d+D,k=j[f[n]&16777215];S.data[c+(D>>>3)]|=k<<7-(D&7)}}B+=g*A+2;
return S.data.slice(0,B).buffer}function X(m){m=new Uint8Array(m);if(H.UQ(m,0)==40)return[J(m.buffer,0)];
var d=0,A=H.zb(m,d,2);d+=2;if(A!="BM"){alert("Unsupported BMP format: "+A);return}var p=H.UQ(m,d);d+=4;
d+=4;var a=H.UQ(m,d);d+=4;return[J(m.buffer,d,a)]}function J(m,d,A){m=new Uint8Array(m);var p=H.UQ(m,d),a=T(m,d+4);
if(a.p5!=1)alert("unsupported number of color planes: "+a.p5);if(a.iq!=0&&a.iq!=1&&a.iq!=2&&a.iq!=3){alert("Unsupported BMP compression: "+a.iq);
return}d+=p;var f=d,s=m;if(A==null)A=d;if(a.iq==1||a.iq==2){var j=W(m,A,a);a.B3=8;m=j;A=0}var Y=4*Math.floor((a.B3*a.a3+31)/32),G=a.a3,Q=Math.abs(a.oz),Z=new Uint8Array(G*Q*4);
Z.fill(255);if(a.B3==32)for(var g=0;g<Q;g++){var S=A+(Q-1-g)*Y;for(var U=0;U<G;U++){var B=(g*G+U)*4;
Z[B]=m[S+U*4+2];Z[B+1]=m[S+U*4+1];Z[B+2]=m[S+U*4+0];Z[B+3]=m[S+U*4+3]}}else if(a.B3==24)for(var g=0;
g<Q;g++){var S=A+(Q-1-g)*Y;for(var U=0;U<G;U++){var B=(g*G+U)*4;Z[B]=m[S+U*3+2];Z[B+1]=m[S+U*3+1];Z[B+2]=m[S+U*3+0]}}else if(a.B3==16)for(var g=0;
g<Q;g++){var S=A+(Q-1-g)*Y;for(var U=0;U<G;U++){var B=(g*G+U)*4,e=m[S+U*2+1]<<8|m[S+U*2];if(A==d){Z[B]=(e>>>10&31)*(255/31);
Z[B+1]=(e>>>5&31)*(255/31);Z[B+2]=(e&31)*(255/31)}else{Z[B]=(e>>>11)*(255/31);Z[B+1]=(e>>>5&63)*(255/63);
Z[B+2]=(e&31)*(255/31)}}}else if(a.B3==8)for(var g=0;g<Q;g++){var S=A+(Q-1-g)*Y;for(var U=0;U<G;U++){var B=(g*G+U)*4,P=m[S+U];
Z[B]=s[f+4*P+2];Z[B+1]=s[f+4*P+1];Z[B+2]=s[f+4*P+0]}}else if(a.B3==4)for(var g=0;g<Q;g++){var S=A+(Q-1-g)*Y;
for(var U=0;U<G;U++){var B=(g*G+U)*4,P=m[S+(U>>1)];P=P>>4-4*(U&1);P=P&15;Z[B]=s[f+4*P+2];Z[B+1]=s[f+4*P+1];
Z[B+2]=s[f+4*P+0]}}else if(a.B3==1)for(var g=0;g<Q;g++){var S=A+(Q-1-g)*Y;for(var U=0;U<G;U++){var B=(g*G+U)*4,h=m[S+(U>>3)];
h=h>>7-(U&7);h=h&1;Z[B]=s[f+4*h+2];Z[B+1]=s[f+4*h+1];Z[B+2]=s[f+4*h+0]}}else throw"Unknown bit depth "+a.B3;
if(a.oz<0){var V=new Uint32Array(Z.buffer),I=Q>>>1;for(var g=0;g<I;g++){var F=g*G,c=(Q-g-1)*G;for(var U=0;
U<G;U++){var D=V[F+U];V[F+U]=V[c+U];V[c+U]=D}}}return{kq:new gc(0,0,G,Q),data:Z.buffer}}function q(m,$){return m>>>4-(($&1)<<2)&15}function W(m,d,A){var p=A.a3,a=Math.abs(A.oz),f=new Uint8Array(p*a),s=0,j=0,$=0;
while(j<a){var Y=m[d++],G=m[d++],Q=j*p+s;if(Y>0){if(A.B3==4)for($=0;$<Y;$++){f[Q+$]=q(G,$)}else for($=0;
$<Y;$++){f[Q+$]=G}s+=Y}else if(Y==0&&G==0){j++;s=0}else if(Y==0&&G==1){break}else if(Y==0&&G==2){s+=m[d++];
j+=m[d++]}else{var Z=G;if(A.B3==4){for($=0;$<G;$++){f[Q+$]=q(m[d+($>>>1)],$)}Z=Math.ceil(G/2)}else{for($=0;
$<G;$++){f[Q+$]=m[d+$]}}if((Z&1)!=0)Z++;d+=Z;s+=G}}return f}function T(m,d){var A=H.Xv,p=H.UQ,a=H.Fn,f={};
f.a3=A(m,d);d+=4;f.oz=A(m,d);d+=4;f.p5=a(m,d);d+=2;f.B3=a(m,d);d+=2;f.iq=p(m,d);d+=4;f.size=p(m,d);d+=4;
var s=A(m,d);d+=4;var j=A(m,d);d+=4;f.ayl=p(m,d);d+=4;d+=4;return f}function _(m,d,A,p){H.sY(m,d,A.a3);
d+=4;H.sY(m,d,A.oz);d+=4;H.jr(m,d,A.p5);d+=2;H.jr(m,d,A.B3);d+=2;H.sY(m,d,A.iq);d+=4;H.sY(m,d,A.size);
d+=4;H.sY(m,d,2834);d+=4;H.sY(m,d,2834);d+=4;H.sY(m,d,A.ayl);d+=4;d+=4}return{ss:X,iL:M,aFM:J}}();h1.Im={};
h1.Im.iL=function(M,X,J,q){if(q==null)q=[100,!1,0,0,0,0];var W=[],T=[],_=X*J*4,Y=null;for(var m=0;m<M.length;
m++){var d=new Uint8Array(M[m][0].slice(0));for(var $=0;$<_;$+=4){var A=d[$+3]=d[$+3]>127?255:0;if(A==0)d[$]=d[$+1]=d[$+2]=0}W.push(d.buffer);
T.push(M[m][1])}var p=Math.round(2+254*q[0]/100),a=UPNG.encode.compress(W,X,J,p,[!0,!1,!1,8,!1,q[1]]),f=a.plte,s=new Uint8Array(4),j=new Uint32Array(s.buffer);
for(var $=0;$<f.length;$++){j[0]=f[$];var G=s[0];s[0]=s[2];s[2]=G;f[$]=j[0];if(j[0]==0&&Y==null)Y=$}while(f.length<256)f.push(0);
var Q=new Uint8Array(2e4+Math.round(1.5*X*J*M.length)),Z=q[3],g={palette:f};if(Z!=1)g.loop=Z==0?0:Z-1;
var S=new GifWriter(Q,X,J,g);for(var $=0;$<M.length;$++){var U=a.frames[$],B=U.rect,e=U.blend,P=U.dispose,h=Math.round(T[$]/10);
if(h<2)h=2;S.addFrame(B.x,B.y,B.width,B.height,U.img,{transparent:Y,disposal:P+1,delay:h})}return Q.slice(0,S.end()).buffer};
h1.Im.ss=function(M){var X=Date.now(),J=[],q=UGIF.decode(M),W=UGIF.toRGBA8(q),T=new gc(0,0,q.width,q.height);
for(var $=0;$<W.length;$++){var _=q.frames[$];J.push({kq:T.Q(),yS:"_a_frm"+$+","+_.delay*10,data:W[$]})}return J};
h1._X={};h1._X.iL=function(M,X,J,q){if(X>256||J>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var W=Math.min(X,256),T=Math.min(J,256),_=new gc(0,0,W,T),m=t.j(_.o()*4),d=new gc(0,0,X,J),A=new Uint8Array(M[0][0]);
t.fA(A,d,m,_);M[0][0]=m.buffer;X=W;J=T}var p=new Uint8Array(M[0][0]).slice(0),f=0;p[3]=Math.min(p[3],254);
var a=new bJ,s=q&&q[0]==!0;H.Fo(a,f,0);f+=2;H.Fo(a,f,s?2:1);f+=2;H.Fo(a,f,1);f+=2;var j=new Uint8Array(UPNG.encode([p.buffer],X,J,null,null,null,!0));
a.q0(f,16);a.data[f]=X==256?0:X;f++;a.data[f]=J==256?0:J;f++;f+=2;H.Fo(a,f,s?Math.round(X/2):1);f+=2;
H.Fo(a,f,s?Math.round(J/2):32);f+=2;H.SE(a,f,j.length);f+=4;H.SE(a,f,6+16);f+=4;a.q0(f,j.length);a.data.set(j,f);
f+=j.length;return a.data.slice(0,f).buffer};h1._X.ss=function(M){M=new Uint8Array(M);var X=4,J=H.Fn(M,X);
X+=2;var q=[];for(var $=0;$<J;$++){var W=h1._X.aAG(M,X+$*16),T=M.buffer.slice(W.offset,W.offset+W.size),_=h1.$Y(T);
_=_?_:"bmp";if(_=="png"){var m=h1.mr(_),d=m.ss(T);W.w$=d[0]}else{var A=h1.mr("BMP").aFM(T,0),T=t.j(W.a3*W.oz*4);
t.fA(new Uint8Array(A.data),new gc(0,0,A.kq.r,A.kq.$),T,new gc(0,W.oz,W.a3,W.oz));A.data=T.buffer;A.kq.$=W.oz;
W.w$=A}q.push(W)}q.sort(function(p,a){if(p.a3!=a.a3)return p.a3-a.a3;return p.am1-a.am1});return[q.pop().w$]};
h1._X.aAG=function(M,X){var J={};J.a3=M[X];X++;if(J.a3==0)J.a3=256;J.oz=M[X];X++;if(J.oz==0)J.oz=256;
J.ajB=M[X];X++;X++;J.aDp=H.Fn(M,X);X+=2;J.am1=H.Fn(M,X);X+=2;J.size=H.UQ(M,X);X+=4;J.offset=H.UQ(M,X);
X+=4;return J};h1.dd={};h1.dd.akJ=function(M){var X,J="dng";if(M[0].t33421)X=M[0];else if(M[0].subIFD&&M[0].t271&&M[0].t271[0]=="Hasselblad"){J="fff";
X=M[0].subIFD[0];X.t33421=[2,2]}else if(M[0].subIFD&&M[0].subIFD[0].t33421){X=M[0].subIFD[0];if(X.t50706==null){if(X.t258[0]==8)X.t258[0]=12}J=X.t50713||X.t50717?"dng":"arw"}else if(M[0].subIFD&&M[0].subIFD[0]&&M[0].subIFD[0].t262&&M[0].subIFD[0].t262[0]==34892)X=M[0].subIFD[0];
else if(M[0].t50706)X=M[0];else if(M[0].subIFD&&M[0].subIFD[1]&&M[0].subIFD[1].t33421){J="nef";X=M[0].subIFD[1]}else if(M[0].subIFD&&M[0].subIFD[2]&&M[0].subIFD[2].t33421){J="nef";
X=M[0].subIFD[2]}else if(M[3]&&M[3].t50648){J="cr2";var q=M[0].exifIFD,W=q.makerNote;X=M[3];var T=W.t224[1],_=W.t224[2];
X.t256=[T];X.t257=[_];X.t258=[16];X.t259=[7];X.t262=[32803];X.t277=[1];X.t33421=[2,2];var m=X.t50656[0],d=t.raw.Gc[m];
if(d==null)throw"e";X.t33422=d}else if(M[0].t1&&M[0].t1.length==4){J="rw2";var A=M[0],p={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278,273:273,278:278},a=A.t280==null;
X={};for(var f in p)if(A["t"+f])X["t"+p[f]]=A["t"+f];X.t2=A.t2;X.t3=A.t3;X.t10=A.t10;X.t45=A.t45;X.t258=[16];
X.t33421=[2,2];var s=A.t9[0];if(a)s=2;X.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][s-1];var j=A.t4[0],Y=A.t5[0],G=A.t6[0],Q=A.t7[0];
X.t50829=[j,Y,G,Q];var Z=A.t36[0],g=A.t37[0],S=A.t38[0];X.t50728=[g/Z,g/g,g/S]}else if(M[0].t258&&M[0].t258[0]>=12&&M[0].t271&&(M[0].t271[0].startsWith("OLYMPUS")||M[0].t271[0].startsWith("OM Digital Solutions"))){J="orf";
X=M[0];X.t33421=[2,2]}return[X,X?J:null]};h1.dd.ss=function(M){var X=Date.now();if(t.raw.bO(M.byteLength))return[t.raw.aHZ(M)];
var J=UTIF.decode(M);console.log(J.slice(0));var q=h1.dd.akJ(J),W=q[0];if(W){UTIF.decodeImage(M,W,J);
for(var T in J[0])if((T[0]=="t"||T[0]=="e"||T[0]=="d")&&W[T]==null)W[T]=J[0][T];W.lY=J[0].t274?J[0].t274[0]:1;
return[W]}var _=[];for(var $=0;$<J.length;$++){var m=J[$],d=null,Y=72,B,e=8;UTIF.decodeImage(M,m,J);
if(m.width==null)continue;if(m.t258&&m.t258[0]==16&&m.t277&&m.t277[0]==1){var A=0,p=0,a=0,f=m.data;for(var s=0;
s<f.length;s+=2){var j=f[s+1]<<8|f[s];if(j>A)A=j;p+=j;a++}d=1/256*65535/(.5*A+.5*(2*p/a))}var G=m.t282,Q=m.t296,Z=kY.WZ(m),g=m.t258,S=m.width,U=m.height;
if(G!=null&&Q!=null){Y=G[0][0]/G[0][1];if(Q[0]==3)Y=Math.round(Y/2.54)}if(iW&&g[0]==16){B=h1.ags(m.data.buffer,S,U);
e=16}else B=UTIF.toRGBA8(m,d).buffer;console.log(m);_.push({kq:new gc(0,0,S,U),data:B,Qv:Y,eJ:Z,gX:m.t34675?m.t34675.slice(0):null,depth:e})}return _};
h1.dd.iL=function(M,X,J,q){if(q==null)q=[!1];var W={},T=M[0];if(T[3]!=null&&q[0])W=kY.t8(T[3]);if(T[2]!=null){W.t282=W.t283=[[Math.round(T[2]),1]];
W.t296=[2]}return UTIF.encodeImage(T[0],X,J,W)};h1.G4={};h1.G4.R8=!0;h1.G4.ss=function(M,X){var J=UTIF.decode(M),q=J[0],m=0;
X.r=q.t256[0];X.$=q.t257[0];X.buffer=t.j(X.r*X.$*4);X.bt=!1;X.vY=q.t258[0];X.s6=3;var W=q.t37724.slice(36),T=H.zb(W,0,4)=="MIB8";
dL.kU(W,0,W.length,X.add,!1,X,T);var _=T?H.UQ:H.Z3;while(m<W.length){var d=H.qv(W,m,T);m+=4;var A=H.qv(W,m,T);
m+=4;var p=_(W,m);m+=4;if(A=="Layr"){bB.d4(X,W,m,T);for(var $=0;$<X.U.length;$++){var a=X.U[$];if(a.add.vstk)a.j$(X)}}m+=p;
if((p&3)!=0)m+=4-(p&3)}};h1.aIQ={};h1.aIQ.ss=function(M){M=new Uint8Array(M);var X=8,J,q=0;while(X<M.length){var W=H.zb(M,X,4),T=H.Z3(M,X+4);
if(W.startsWith("ic")){var _=M.slice(X+8,X+T),m=h1.$Y(_.buffer),d=h1.mr(m),A=d.ss(_.buffer),p=A[0].kq.o();
if(p>q){q=p;J=A}}X+=T}return J};h1.SW={};h1.SW.R8=!0;h1.SW.ss=function(M,X){bB.Ah(M,X)};h1.SW.aHn=function(M,X,J,q){if(q==null)q=[!1,!1,!1,!1,!1];
if(!q[0])M.m7();var W=new bJ,T=bB.yo(M,W,q);return[W.data.buffer,T]};h1.SW.iL=function(M,X,J,q){var W=h1.SW.aHn(M,X,J,q),T=W[0],_=W[1];
return T.byteLength==_?T:T.slice(0,_)};h1.sr={};h1.sr.R8=!0;h1.sr.ss=function(M,X){var J=pako.inflate(new Uint8Array(M)),q=H.uC(J,0),W=H.uC(J,2),T=4;
X.r=H.Z3(J,T);T+=4;X.$=H.Z3(J,T);T+=4;X.buffer=t.j(X.r*X.$*4);var _=H.uC(J,T);T+=2;T+=4;for(var m=0;
m<_;m++){var d=X.C0(),j=0,k=1,b=2,N=3,L=0;X.U.push(d);var A=H.Z3(J,T);T+=4;var p=T,a=H.uC(J,p);p+=2;
var f=H.Og(J,p,a);p+=a;d.EC(f);var s=J[p];p++;if(s!=0&&s!=1)throw s;d.S.x=H.Pp(J,p);p+=4;d.S.y=H.Pp(J,p);
p+=4;d.S.r=H.Z3(J,p);p+=4;d.S.$=H.Z3(J,p);p+=4;if(q>3){j=H.Pp(J,p);p+=4}d.G8=Math.round(255*J[p]/100);
p++;var Y=J[p];p++;d.EG(Y!=0);d.Sw="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[J[p]];
p++;var G=J[p];p++;if(G)d.add.lspf=1<<31;if(q>3){var Q=H.uC(J,p);p+=2;if(Q!=0){var Z=JSON.parse(H.Og(J,p,Q));
p+=Q;var g=Z.text,S=Z.textSettings,U=S.font,B=S.size,e=S.padding,P=parseInt(S.color.slice(1),16);d.add.lnsr="rend";
d.add.TySh=f5.c7(0,0);d.add.TySh.hd=new gc(0,0,100,100);var h=d.add.TySh.u=new kp,V=d.S.r/2,I=d.S.$/2;
h.translate(-V,-I);h.rotate(-j*Math.PI/180);h.translate(V,I);h.translate(d.S.x+e,d.S.y+e);var F=d.add.TySh.Zj;
f5.Wu(F,1);f5.Tf(F,[0,0,d.S.r-e*2,d.S.$]);f5.p7(F,0,g);var c=f5.TC(F,0,1);c.cN.FontSize=B;c.cN.FillColor={Type:1,Values:[1,(P>>>16&255)/255,(P>>>8&255)/255,(P>>>0&255)/255]};
if(S.bold)U+="-Bold";f5.fa(c,U);c.Js.Justification=["left","right","center"].indexOf(S.align);f5.oW(F,0,g.length,c)}}var D=H.Z3(J,p);
p+=4;if(D!=d.S.o()*4){for(var $=d.S.r;$>d.S.r/2;$--){var n=D/($*4);if(n==Math.round(n)){d.S.r=$;d.S.$=n;
break}}}d.buffer=t.j(d.S.o()*4);if(q>3){k=0;b=1;N=2;L=3}for(var $=0;$<D;$+=4){d.buffer[$]=J[p+$+k];d.buffer[$+1]=J[p+$+b];
d.buffer[$+2]=J[p+$+N];d.buffer[$+3]=J[p+$+L]}p+=D;var R=H.Z3(J,p);p+=4;if(R==0&&q>3){T+=A;continue}var i=J[p];
p++;var v=H.uC(J,p);p+=2;if(R!=0){d.JS=new K.$O;d.JS.S=d.S.Q();d.JS.N=t.j(d.S.o());for(var $=0;$<R;$+=4)d.JS.N[$>>>2]=J[p+$+1];
p+=R}if(i!=0){var E=JSON.parse(kf.default);d.add.lmfx=E;for(var $=0;$<kf.order.length;$++)E[kf.an[$]]={t:"VlLs",v:[]};
var u={"102":9,"101":2,"103":0,"104":3,"105":8};for(var $=0;$<i;$++){var C=H.uC(J,p),l=p+C+4,x=J.slice(p,l),y=J[p+2];
p+=3;var ge=u[y+""],O=JSON.parse(kf.px[ge]);E[kf.an[ge]].v.push({t:"Objc",v:O});if(ge!=0){O.Md.v.BlnM=ae.fF("norm");
O.Opct.v.val=J[p];p++;if(ge==9||ge==2){O.Dstn.v.val=J[p+1];p+=2}else p+=2;O.blur.v.val=Math.round(J[p]*1.2);
p++;if(ge==9||ge==2){O.uglg.v=!1;O.lagl.v.val=180-H.uC(J,p);p+=2}O.Clr.v=t.NX.$J({z:J[p+1],L:J[p+2],g:J[p+3]})}else{O.hglM.v.BlnM=O.sdwM.v.BlnM=ae.fF("norm");
p+=2;var kz=J[p++],z=J[p++];O.blur.v.val=Math.round(Math.sqrt(z*kz)*1.3);O.srgR.v.val=Math.round(100*kz/z);
O.uglg.v=!1;O.lagl.v.val=180-H.uC(J,p);p+=2;O.hglO.v.val=J[p++];O.hglC.v=t.NX.$J({z:J[p+1],L:J[p+2],g:J[p+3]});
p+=4;O.sdwO.v.val=J[p++];O.sdwC.v=t.NX.$J({z:J[p+1],L:J[p+2],g:J[p+3]});p+=4}p=l}}if(p-T<A){var eZ=H.Z3(J,p),cL=0;
p+=4;p++;var a=H.uC(J,p);p+=2;var g=H.Og(J,p,a);p+=a;g=g.replace(/\r/g,"\n");var a=H.uC(J,p);p+=2;var U=H.Og(J,p,a);
p+=a;var B=H.uC(J,p);p+=2;var kM=d.S.x,jV=d.S.r;if(eZ&4)cL=1;if(eZ&2)cL=2;var h2=Math.round(B*.4);if(cL==0||cL==2)jV+=h2;
if(cL==1||cL==2){jV+=h2;kM-=h2}d.add.lnsr="rend";d.add.TySh=f5.c7(0,0);d.add.TySh.hd=new gc(0,0,100,100);
d.add.TySh.u=new kp(1,0,0,1,kM,d.S.y+B*.25);var F=d.add.TySh.Zj;f5.Wu(F,1);f5.Tf(F,[0,0,jV,d.S.$]);f5.p7(F,0,g);
var c=f5.TC(F,0,1);c.cN.FontSize=B;c.cN.FillColor={Type:1,Values:[1,J[p+1]/255,J[p+2]/255,J[p+3]/255]};
p+=4;if(J[p+5])U+="-Bold";if(J[p+6])U+="-Italic";f5.fa(c,U);c.Js.Justification=cL;p+=8;f5.oW(F,0,g.length,c)}T+=A}};
h1.Y2={};h1.Y2.R8=!0;h1.Y2.ss=function(M,X){var J=UZIP.parse(M),q=JSON.parse(H.Og(J["manifest.json"].buffer));
X.r=q.width;X.$=q.height;X.buffer=t.j(X.r*X.$*4);X.name=q.name+".psd";var W=q.stack;for(var T=0;T<W.length;
T++){var _=W[T],m=_.type,d=_.rect,A=_.format,p=X.C0();p.EC(_.name);p.EG(_.visible);p.G8=Math.round(255*_.opacity);
var a=p.S=new gc(d.x,d.y,d.w,d.h),f=d.r;if(f==null)f=0;X.U.push(p);if(m=="image"&&f!=0||m=="shape"&&A.variant=="svg"){var s=X.Xg(J[_.content],p.getName(),0,0);
s.l4=p.l4;s.G8=p.G8;p=s;X.U.pop();X.U.push(p);var j=t.G.mP(a).d;t.G.u(j,h1.Y2.MC(a,f),j);p.add.SoLd.Trnf=o.fx.qT(j);
p.add.SoLd.nonAffineTransform=o.fx.qT(j);p.el(X,!1)}else if(m=="image"){if(a.o()!=0){var Y=J[_.content].buffer,G=h1.$Y(Y),Q=h1.mr(G),Z=Q.ss(Y)[0];
a.r=Z.kq.r;a.$=Z.kq.$;p.buffer=new Uint8Array(Z.data)}}else if(m=="shape"){p.l4|=16;var g=p.add.vstk=kf.XZ.IH(!0),S=p.add.vmsk=new K.JL,U;
p.add.SoCo={classID:"null",Clr:{t:"Objc",v:t.NX.$J({z:0,L:0,g:0})}};var B=A.variant,e=A.fill;if(B=="rectangle"||B=="rounded"){U=t.I.bg.Rect(a.x,a.y,a.r,a.$,A.radii)}else if(B=="ellipse"){U=t.I.bg.hQ(a.x,a.y,a.r,a.$)}else if(B=="path"){var P=Typr.U.SVGToPath(_.content),h={C6:P.cmds,d:P.crds};
U=t.G.n$(h);var V=t.I.NP(U);t.I.cI(U,new kp(a.r/V.r,0,0,a.$/V.$,a.x,a.y))}else if(B=="line"){var h={C6:["M","L"],d:[a.x,a.y,a.x+a.r,a.y]};
U=t.G.n$(h)}else console.log(A);p.add.SoCo={classID:"null",Clr:{t:"Objc",v:t.NX.$J({z:0,L:0,g:0})}};
if(e==null){g.fillEnabled.v=!1}else if(e.type=="color"){p.add.SoCo.Clr.v=t.NX.$J(CSS.WC(e.value))}else if(e.type=="gradient"){delete p.add.SoCo;
var I=p.add.GdFl=JSON.parse(kf.px[kf.order.indexOf("GrFl")]),F=I.Grad.v;F.Intr.v=0;var c=[],D=e.value.stops;
for(var $=0;$<D.length;$++){var n=D[$],k=CSS.WC(n.color);c.push([n.position,[k.z/255,k.L/255,k.g/255]])}t.NX.ex(c,F);
I.Angl.v.val=-(e.value.direction+f)+90+180}else console.log(e);var b=h1.Y2.MC(a,f);t.I.cI(U,b);var N=_.style;
if(N&&N.outline){var L=N.outline;g.strokeEnabled.v=!0;g.strokeStyleLineWidth.v.val=L.size;g.strokeStyleContent.v.Clr.v=t.NX.$J(CSS.WC(L.color))}S.X=U;
p.hg();p.j$(X)}else if(m=="text"){p.add.lnsr="rend";p.add.TySh=f5.c7(0,0);p.add.TySh.hd=new gc(0,0,100,100);
var R=p.add.TySh.Zj;f5.Wu(R,1);f5.Tf(R,[0,0,a.r,a.$]);var i=_.content;f5.p7(R,0,i);var E=f5.TC(R,0,Math.min(i.length,1));
f5.fa(E,A.font.name);var u=E.cN.FontSize=Math.round(A.size);if(A.fill&&A.fill.value){var C=CSS.WC(A.fill.value);
E.cN.FillColor={Type:1,Values:[1,C.z/255,C.L/255,C.g/255]}}var l=A.linespace;if(l){E.cN.AutoLeading=!1;
E.cN.Leading=Math.round(u*(1.06+parseFloat(l)));console.log(l,E.cN)}E.cN.FauxBold=A.bold;E.Js.Justification=["left","right","center","justify"].indexOf(A.align);
f5.oW(R,0,i.length,E);p.add.TySh.u=new kp(1,0,0,1,a.x+Math.round(u*.1),a.y+Math.round(u*.1));p.S=new gc}else console.log(_)}X.hj=!0};
h1.Y2.MC=function(M,X){var J=M.x+M.r/2,q=M.y+M.$/2,W=new kp;W.translate(-J,-q);W.rotate(-X*Math.PI/180);
W.translate(J,q);return W};h1.dg={};h1.dg.R8=!0;h1.dg.ss=function(M,X){fG.Ah(M,X)};var fG=function(){function M(a,f){var s=Date.now(),j=UZIP.parse(a),Y=j["maindoc.xml"],G=new DOMParser,Q=G.parseFromString(H.Og(Y),"image/svg+xml").children[0].children[0],Z=Q.getAttribute("name"),g=f.r=A(Q,"width"),S=f.$=A(Q,"height");
f.Qv=Math.round(A(Q,"x-res"));var U=Q.children[0].children;X(U,f,{Gm:Z,Ga:j,BT:null});console.log(Date.now()-s);
s=Date.now()}function X(a,f,s){for(var j=0;j<a.length;j++){var Y=a[a.length-1-j],G=Y.getAttribute("nodetype");
if(G=="transparencymask"){s.BT.JS=p(Y,s);continue}var Q=Y.getAttribute("compositeop"),Z=Y.getAttribute("filename"),g=Y.getAttribute("channelflags"),S=Y.children;
S=S.length==0?null:S[0].children;var U=f.C0();if(G=="paintlayer"){var B=A(Y,"x"),e=A(Y,"y"),P=s.Ga[s.Gm+"/layers/"+Z+".defaultpixel"],h=s.Ga[s.Gm+"/layers/"+Z],V=d(h);
U.S=V[0];U.S.offset(B,e);U.buffer=V[1];if(U.S.M5()&&P.join()!="0,0,0,0"){U.add.SoCo={classID:"null",Clr:{t:"Objc",v:t.NX.$J({z:P[0],L:P[1],g:P[2]})}};
U.j$(f)}}else if(G=="grouplayer"){U.add.lsct=gO.A$;U.Sw="pass";U.l4|=24;f.U.push(f.mm());var I=s.BT;
s.BT=U;X(S,f,s);s.BT=I}else if(G=="shapelayer"){var h=s.Ga[s.Gm+"/layers/"+Z+".shapelayer/content.svg"],F=H.Og(h),c=f.Xg(h,U.getName(),0,0);
U=c;var D=new gc(0,0,f.r,f.$),n=t.G.mP(D).d;U.add.SoLd.Trnf=o.fx.qT(n);U.add.SoLd.nonAffineTransform=o.fx.qT(n);
U.el(f,!1)}else if(G=="clonelayer"){var $=-1;for(var k=0;k<a.length;k++)if(a[k].getAttribute("name")==Y.getAttribute("clonefrom"))$=k;
if($!=-1){X([a[$]],f,s);U=f.U.pop()}}else console.log(G,Y);U.EC(Y.getAttribute("name"));if(A(Y,"locked")==1)U.add.lspf=1<<31;
U.EG(A(Y,"visible")==1);var b={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[Q];if(b)U.Sw=b;
else console.log(Q);U.G8=A(Y,"opacity");if(g=="1110")U.H2=!0;var N=S?S[0]:null;if(N&&N.tagName=="mask")U.JS=p(N,s);
f.U.push(U)}}function J(a,f){var s=0,j=0,Y=a.length,G,Q,Z;while(s<Y){G=a[s++];if(G>31){Q=G>>>5;if(Q==7)Q=7+a[s++];
Z=(G&31)<<8|a[s++];var g=j-Z-1,S=Q>>>1;f[j++]=f[g++];f[j++]=f[g++];for(var $=0;$<S;$++){f[j++]=f[g++];
f[j++]=f[g++]}if((Q&1)==1)f[j++]=f[g++]}else{for(var $=0;$<=G;$++){f[j++]=a[s++]}}}}function q(a,f){var s=0;
while(a[f+s]!=10)s++;return H.zb(a,f,s)}var W=new gc(0,0,64,64),T=new Uint8Array(64*64*4),_=new Uint8Array(64*64*4);
function m(){for(var $=0;$<4096;$++){var a=$<<2;T[a+0]=_[$+8192];T[a+1]=_[$+4096];T[a+2]=_[$];T[a+3]=_[$+12288]}}function d(a){var f=0,s={};
for(var $=0;$<5;$++){var j=q(a,f);f+=j.length+1;j=j.split(" ");s[j[0]]=parseInt(j[1])}var Y=s.PIXELSIZE,G=[],Q=new gc;
while(f<a.length){var j=q(a,f),Z=j.split(",");f+=j.length+1;if(Z[2]!="LZF")throw Z[2];W.x=parseInt(Z[0]);
W.y=parseInt(Z[1]);Q=Q.m0(W);var g=parseInt(Z[3]);G.push([W.Q(),new Uint8Array(a.buffer,f+1,g-1)]);f+=g}var S=t.j(Q.o()*Y);
for(var $=0;$<G.length;$++){var U=G[$];J(U[1],_);if(Y==4){m();t.fA(T,U[0],S,Q)}else t.Rc(_,U[0],S,Q)}return[Q,S]}function A(a,f){return parseInt(a.getAttribute(f))}function p(a,f){var s=a.getAttribute("filename"),j=f.Ga[f.Gm+"/layers/"+s+".pixelselection"],Y=d(j),G=new K.$O;
G.Bs=A(a,"visible")==1;G.S=Y[0];G.N=Y[1];return G}return{Ah:M}}();h1.ii={};h1.ii.R8=!0;h1.ii.ss=function(M,X){bk.Ah(M,X)};
h1.Vc={};h1.Vc.ss=function(M){var X=new Uint8Array(M),J=h1.Vc.Wx(X,0,0),q=J.sub[2],W=h1.Vc.a0h(X,q),T=J.sub[3],_=h1.Vc.a0h(X,T);
return[W,_]};h1.Vc.a0h=function(M,X){var J=X.sub[X.sub.length-1],q=J.sub[0].s,W=J.sub[1].s,T=M.slice(q,q+16),_=M.slice(W,W+J.sub[1].size),m=H.UQ,d=M[q],A=m(M,q+1),p=m(M,q+5),a=M[q+13],f=new gc(0,0,A,p),s=t.j(A*p*4);
if(a){t.Tb(s,4278190080)}else{UTEX.readBC1(M,W,s,A,p)}return{kq:f,data:s}};h1.Vc.Wx=function(M,X,J){var q=H.zb,W=H.UQ,T=q(M,X,4);
T=T.split("").reverse().join("");var _=W(M,X+4);if(_!=0){console.log(M.slice(X-8));throw _}var m=W(M,X+8);
while((m&3)!=0)m++;var d={qM:T,s:X+12,size:m};if(T=="CARF"||T=="CTEX"||T=="CREW"||T=="BMAP"){d.sub=[];
X+=12;if(T=="CTEX"||T=="CREW")X+=32;var A=d.s+d.size;while(X<A){var p=h1.Vc.Wx(M,X,J+1);d.sub.push(p);
X+=12+p.size+(p.size&1)}}return d};h1.Zq={};h1.Zq.R8=!0;h1.Zq.ss=function(M,X){cr.Ah(M,X)};h1.kL={};
h1.kL.R8=!0;h1.kL.ss=function(M,X){jR.Ah(M,X)};h1.DH={};h1.DH.R8=!0;h1.DH.ss=function(M,X){aO.Ah(M,X)};
h1.iv={};h1.iv.R8=!0;h1.iv.ss=function(M,X){eS.Ah(M,X)};h1.CB={};h1.CB.R8=!0;h1.CB.ss=function(M,X){ic.Ah(M,X)};
h1.nI={};h1.nI.R8=!0;h1.nI.iL=function(M,X,J,q,W,T){if(q==null)q=[!0,!1,!1,!1,!0];var _=ka.Aw(M,{yc:q[0],hidden:q[1],aw2:q[2],ae7:q[3],pY:q[4],abT:X,aE0:J},W.Rb,T);
return _};h1.nI.ss=function(M,X,J){ka.Ah(M,X,J)};h1.E0={};h1.E0.R8=!0;h1.E0.ss=function(M,X){var J=150,q=new kp(1,0,0,-1,0,0);
q.scale(J/72,J/72);X.Qv=J;var W=new hT(X,q,!0);FromPS.Parse(M,W)};h1.oT={};h1.oT.R8=!0;h1.oT.iL=function(M,X,J,q,W){if(q==null)q=["",100,!1,!1,!1,0,!1];
q[7]=["jpg"];var T=new ToPDF;c8.Aw(M,q,T,W.Rb,X,J);return T.buffer};h1.oT.ss=function(M,X,J){var q=2;
while(!0){var W=q*72,T=new kp(1,0,0,-1,0,0);T.scale(W/72,W/72);X.Qv=W;var _=new hT(X,T,!0);FromPDF.Parse(M,_);
var m=Math.max(X.r,X.$);if(J&&m<Math.max(J[0],J[1])){X.U=[];var d=q;while(m*(q/d)<Math.max(J[0],J[1]))q++}else break}};
h1.fh={};h1.fh.R8=!0;h1.fh.ss=function(M,X){var J=72,q=new kp(1,0,0,1,0,0);q.scale(J/72,J/72);X.Qv=J;
var W=new hT(X,q,!1);FromWMF.Parse(M,W)};h1._E={};h1._E.aX=!0;h1._E.R8=!0;h1._E.iL=function(M,X,J,q,W){if(q==null)q=["",100,!1,!1,!1,0,!1];
q[7]=[];var T=new ToEMF;c8.Aw(M,q,T,W.Rb);return T.buffer};h1._E.ss=function(M,X){var J=72,q=new kp(1,0,0,1,0,0);
q.scale(J/72,J/72);X.Qv=J;var W=new hT(X,q,!1);FromEMF.Parse(M,W)};h1.VQ={};h1.VQ.R8=!0;h1.VQ.ss=function(M,X){return at.Ah(M,X)};
h1.azv={};h1.azv.ss=function(){var M,X,J,q,W,T,_=0,m=0,d=0,A=0,p=0,Z="eJzt0lGR6kAUBNBIQEIkICESWgISkICESLgSIgEJkbAS2sG+s7AO+HkfO1RXQZPcOanJsnx/L5/k489n2/+tv/W3PlwXWeUqm0RucpeH7DJyyFNO+ZL+NwOuv9fvv//3PW7Vr/pVv+rXvsdv+k2/6Tf91vftN/3Nl5v+pr/1PXLX7/rdj12/90059If+0B/6o2/aqT/1p/7Un31Tq6+++urb15OGPwCxWfjj4vCHP/zhD3/4wx/+8Ic//OGPseEPf/jDH/7YKvzhD3/4wx/+8Ic//OEPf/jDH/7whz/84Q9/+MMf/vDP62SucpNdnqLnH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7XsfCXv/zl/2nLX/7yl7/85S9/+ctf/vKX/3Ws/OUvf/nL/zpq/vKXv/zlL3/5y1/+8pe//OUvf/nLX/7+vEL8tVENLX+Vl8tlWdd1uV6vy7ZtS+JNYrjf78vj8fDKetaZ5TiO5fl8Lud5Ll9fX/8ACveX4A==",g=null;
function a(S){var U=is.Ah(S),B=U.PP,F=0,c,D;console.log(U);var e=new Uint8Array(S);if(B=="ILBM")return f(U,e);
if(B=="CIMG")return Y(U,e);if(B=="ANIM"&&U.sub[0].qM=="ADAT")return Q(U,e);if(B!="ANIM")throw B;var P=H.uC,h=H.Z3,V=U.sub,I=f(V[0],e);
for(var n=1;n<V.length-2;n++){var k=I[Math.max(0,n-2)].a6v.slice(0),b=V[n];for(var N=0;N<b.sub.length;
N++){var L=b.sub[N],R=L.s;if(L.qM=="ANHD"){var i=e[R++];if(i!=5)throw i;var q=e[R++],E=P(e,R),u=P(e,R+2);
if(E!=0&&E!=M)throw E;if(u!=0&&u!=X)throw u;var C=P(e,R+4),l=P(e,R+6);if(C!=0||l!=0)throw C;R+=8;var x=P(e,R);
R+=2;c=P(e,R);R+=2;if(e[R++]!=0)throw"e";if(e[R++]!=0)throw"e";D=P(e,R);R+=2}else if(L.qM=="DLTA"){var y=[],ge=R;
for(var $=0;$<16;$++)y.push(h(e,R+$*4));R+=64;var O=T;for(var kz=0;kz<W;kz++){if(y[kz]==0)continue;R=ge+y[kz];
for(var z=0;z<O;z++){var kM=e[R++],jV=0;if(kM==0)continue;for(var $=0;$<kM;$++){var ea=e[R++];if(ea==0){var ht=e[R++],jn=e[R++];
for(var gE=0;gE<ht;gE++){k[(jV*W+kz)*O+z]=jn;jV++}}else if(ea<128){jV+=ea}else{ea-=128;for(var gE=0;
gE<ea;gE++){k[(jV*W+kz)*O+z]=e[R+gE];jV++}R+=ea}}}}}else console.log(L.qM)}if(n==1&&c>100)c=0;var bS=c==0?17:Math.round((c-F)*1e3/60);
I.push({data:j(e,k).buffer,kq:new gc(0,0,M,X),a6v:k,yS:"_a_frm"+n+","+bS});F=c}if(d!=0&&M>X*2){var bi=new Uint32Array(M*X*2);
bi.fill(4294967295);for(var n=0;n<I.length;n++){var cj=I[n],bb=new Uint32Array(cj.data);for(var jV=0;
jV<X;jV++){var c0=jV*2;for(var z=0;z<M;z++)bi[c0*M+z]=bb[jV*M+z];c0++;for(var z=0;z<M;z++)bi[c0*M+z]=bb[jV*M+z]}cj.kq.$*=2;
cj.data=bi.slice(0).buffer}}return I}function f(S,U){var B,e,P;_=0;m=0;A=0;p=0;d=0;for(var h=0;h<S.sub.length;
h++){var V=S.sub[h],I=V.s;if(V.qM=="BMHD"){var F=[];for(var $=0;$<4;$++)F[$]=H.uC(U,I+2*$);I+=8;var c=F[2],D=F[3];
M=F[0];X=F[1];J=U[I++];q=U[I++];P=U[I++];if(P!=0&&P!=1)throw P;T=M+15>>>4<<1;W=J+q}else if(V.qM=="CMAP")_=I;
else if(V.qM=="CAMG"){var n=H.Z3(U,I);m=n&32768,d=n&4,A=n&2048;p=n&128}else if(V.qM=="BODY"){e=t.j(T*X*W);
if(P==0)e=U.slice(I,I+e.length);if(P==1)bf.XY(U,I,V.size,e,0,e.length)}else if(V.qM=="PLTP"){console.log(U.slice(I,I+V.size))}}B=j(U,e);
return[{kq:new gc(0,0,M,X),data:B.buffer,a6v:e}]}function s(S,jX){return S[jX>>>3]>>>7-(jX&7)&1}function j(S,U){var B=J-2,e=(1<<B)-1,P=Math.round(255/e),h,V,I,F=T*8;
if(_!=0){var c=1<<J,D=!0;for(var $=1;$<c;$++){var n=_+$*3;if(S[n]!=S[n-3]||S[n+1]!=S[n-2]||S[n+2]!=S[n-1]&&S[n+2]!=S[n-1]+1)D=!1}if(D){for(var $=0;
$<c;$++){var n=_+$*3,k=Math.round($*255/(c-1));S[n]=S[n+1]=S[n+2]=k}}}var b=t.j(M*X*4);for(var N=0;N<X;
N++)for(var L=0;L<M;L++){var R=0;for(var i=0;i<W;i++){var v=(N*W+i)*F+L,E=s(U,v);R|=E<<i}R=R&(1<<J)-1;
var $=N*M+L,u=$<<2;if(_!=0){if(A!=0&&R>>>B!=0){var C=R>>>B,l=(R&e)*P;if(C==1)I=l;else if(C==2)h=l;else if(C==3)V=l}else{var l=_+R*3;
h=S[l+0];V=S[l+1];I=S[l+2]}}else{if(J==24){h=R>>>0&255;V=R>>>8&255;I=R>>>16&255}else if(J==16){var x=0,y=1,O=4;
for(var i=0;i<16;i++)x+=(R>>>i&1)<<15-i;var ge=(1<<y)-1,kz=(1<<O)-1;h=(x>>>7&ge)*(255/ge);V=I=h}else throw J}b[u+0]=h;
b[u+1]=V;b[u+2]=I;b[u+3]=255}return b}function Y(S,U){var B=1,e=2,P=4,h=H.Z3,V=H.uC,M=200,X=200,I,F,c,D;
for(var n=0;n<S.sub.length;n++){var k=S.sub[n],b=k.s;if(k.qM=="TBHD"){M=h(U,b);b+=4;X=h(U,b);b+=4;D=t.j(M*X*4);
c=new gc(0,0,M,X);b+=4;var N=h(U,b);b+=4;var L=V(U,b);b+=2;if(L!=0)throw"e";F=V(U,b);b+=2;var R=h(U,b);
b+=4;if(R!=1)throw R;I=0;if(N&B)I+=3;if(N&e)I+=1}if(k.PP=="TBMP"){var i=k.sub;for(var v=0;v<i.length;
v++){var E=i[v].s,u=i[v].size,C=V(U,E),l=V(U,E+2),x=V(U,E+4)-C+1,y=V(U,E+6)-l+1;E+=8;var ge=t.j(x*y*4),O=t.j(x*y);
ge.fill(255);for(var $=0;$<4;$++){E=G(U,E,u-8,O,0);t.ix(O,ge,3-$)}if(E!=i[v].s+u)throw"e";t.fA(ge,new gc(C,l,x,y),D,c)}}}return[{kq:c,data:D.buffer}]}function G(S,U,B,e,P){var h=U;
while(P<e.length){var V=S[U++],i3=(V&127)+1;if(V&128){V=S[U++];for(var $=0;$<i3;++$)e[P++]=V}else{for(var $=0;
$<i3;++$)e[P++]=S[U++]}}return U}function Q(S,U){if(g==null){var B=h1._m(Z);g=new Uint32Array(pako.inflate(new Uint8Array(B)).buffer)}var e=H.Z3,P=H.uC,h=S.sub[0],V=S.sub[1],M=P(U,h.s),X=P(U,h.s+2),I=P(U,h.s+4),k,$,b,N,L,R;
if(I!=3)throw I;var F=new gc(0,0,M,X),c=t.j(M*X*4),D=t.j(M*X);c.fill(255);var n=new Uint32Array(c.buffer),i=V.s;
for(N=0;N<2;N++){R=N;L=0;k=Math.floor((M*X+2-N-1)/2);while(k>0){$=U[i++];if($&128){$=257-$;k-=$;b=U[i++];
L=L&g[b]|g[b+256];do{n[R]=L;R+=2}while(--$)}else{$++;k-=$;do{b=U[i++];n[R]=L=L&g[b]|g[b+256];R+=2}while(--$)}}}for(var $=0;
$<c.length;$+=4){var v=c[$+3],E=c[$+2],u=c[$+1];c[$]=v;c[$+1]=E;c[$+2]=u;c[$+3]=255}for(var C=0;C<X>>>1;
C++){for(var l=0;l<M;l++){var $=C*M+l,b=(X-1-C)*M+l,x=n[$];n[$]=n[b];n[b]=x}}return[{kq:F,data:c.buffer}]}return a}();
h1.sX={};h1.sX.R8=!1;h1.sX.iL=function(M,X,J,q){var W=M[0][4],T=new Uint8Array(M[0][0]),_=2;if(W==null&&t.CH(T)){W=[new Uint8Array(T.length>>>2)];
t.SF(T,W[0],3)}var m=W?!0:!1,d=m?4:3,A=new Uint8Array(X*J*d);for(var p=0;p<J;p++)for(var a=0;a<X;a++){var f=p*X+a<<2,s=((J-p-1)*X+a)*d;
A[s]=T[f+2];A[s+1]=T[f+1];A[s+2]=T[f+0];if(m)A[s+3]=W[0][p*X+a]}if(!0){var j=A.length,Y=0,G=new Uint8Array(j*2),Q=0,Z=0,g=X*d;
while(Z<j){var S=Z,U=0,B=g*(Math.floor(Z/g)+1);while(S<B&&U<128){var e=!0;for(var $=0;$<d;$++)e=e&A[Z+$]==A[S+$];
if(!e)break;S+=d;U++}if(U==1){var P=1;while(P<128&&Z+(P+1)*d<B){var e=!0,h=Z+P*d;for(var $=0;$<d;$++)e=e&A[h+$]==A[h+d+$];
if(e)break;P++}G[Q++]=P-1;for(var V=0;V<P;V++)for(var $=0;$<d;$++)G[Q++]=A[Z++]}else{G[Q++]=127+U;for(var $=0;
$<d;$++)G[Q+$]=A[Z+$];Q+=d;Z+=d*U;Y+=U}}A=G.slice(0,Q);_+=8}var I=new Uint8Array(18+A.length+26);I[2]=_;
H.jr(I,12,X);H.jr(I,14,J);I[16]=d*8;I[17]=d==4?8:0;I.set(A,18);H.WB(I,18+A.length+8,"TRUEVISION-XFILE.");
return I.buffer};h1.sX.ss=function(M){var X=new Uint8Array(M),J=0,q=X[0],W=X[1],T=X[2],_=X[4]*256+X[3],m=X[6]*256+X[5],d=X[7],A=X[9]*256+X[8],p=X[11]*256+X[10],a=X[13]*256+X[12],f=X[15]*256+X[14],s=X[16],j=X[17],Y=j>>>4,G=H.zb(X,18,q),Q=t.j(a*f*4),J=18+q+(m*d>>>3),Z=new Uint8Array(X.buffer,J);
if(T>3){var g=0,S=X,U=new Uint8Array(a*f*s>>>3),B=J,e=0,P=X.length,h=s>>>3;while(e<U.length){var jX=S[B];
B++;if(jX<128)for(var $=0;$<jX+1;$++){for(var V=0;V<h;V++){U[e]=S[B];e++;B++}}else{for(var $=0;$<jX-127;
$++){for(var V=0;V<h;V++){U[e]=S[B+V];e++}}B+=h}}T-=8;Z=U;J=B}else J+=a*f*s>>>3;var I=new Uint8Array(4),F=h1.sX.aIx;
for(var c=0;c<f;c++)for(var D=0;D<a;D++){var n=(Y&2)==0?(f-c-1)*a+D:c*a+D,k=c*a+D,b,N,L,R=255,i=n*s>>>3;
if(T==1){var v=0;if(s==8)v=Z[i];else throw"e";F(X,18+q+_+(v*d>>>3),d,I);b=I[0];N=I[1];L=I[2];R=I[3]}else if(T==2){F(Z,i,s,I);
b=I[0];N=I[1];L=I[2];R=I[3]}else if(T==3){if(s==8)b=N=L=Z[i];else throw"e"}var E=k*4;Q[E]=b;Q[E+1]=N;
Q[E+2]=L;Q[E+3]=R}var I={kq:new gc(0,0,a,f),data:Q.buffer,yS:G};if(t.CH(Q)){var u=t.j(a*f);t.SF(Q,u,3);
t.Ya(Q,1);I.OD=[u]}return[I]};h1.sX.aIx=function(M,X,J,q){var W,T,_,m=255;if(J==24||J==32){_=M[X];T=M[X+1];
W=M[X+2];if(J==32)m=M[X+3]}else if(J==16){var d=M[X+1]<<8|M[X+0];W=d>>>10&31;T=d>>>5&31;_=d>>>0&31;W=Math.round(W*(255/31));
T=Math.round(T*(255/31));_=Math.round(_*(255/31))}else throw"e";q[0]=W;q[1]=T;q[2]=_;q[3]=m};h1.az7=function(){var M,X=[],J=!1;
function q(_,m,d,A){M=d;X.push(_,A);W()}function W(){if(J||X.length==0)return;J=!0;h1.avv(X.shift(),"image/avif",T)}function T(_){M(null,[_],X.shift());
J=!1;W()}return{R8:!1,Yf:!0,ss:q}}();h1.amS=function(){var M,X=[],J,q=!1,W=null,T=null,d;function _(a,f,s,j){M=s;
X.push(a,j);m()}function m(){if(q||X.length==0)return;q=!0;if(W==null){W=w.l("iframe");W.setAttribute("src","code/ext_formats/formatsLoader.html");
w.F(W,"display:none");window.addEventListener("message",p,!1);document.body.appendChild(W)}else A()}async function A(){var a=X.shift(),f=new Uint8Array(a),s=new Blob([a]);
d=Date.now();W.contentWindow.postMessage({subject:"open",body:s});var j=H.Gs(f,"Exif\0\0MM");J=null;
if(j!=-1){var Y=UTIF.decode(a.slice(j+6));J=kY.WZ(Y[0])}}function p(a){var f=a.data,s=f.subject;if(s=="rdy")A();
else if(s=="img"){var j=f.body,Y={kq:new gc(0,0,j.width,j.height),data:j.data.buffer,eJ:J};M(null,[Y],X.shift());
q=!1;m()}else console.log(f)}return{R8:!1,Yf:!0,ss:_}}();h1.ao$=function(){var M,X=[],J=10,m,d,A,p=0,a,f,s;
function q(g){var S=h1.$Y(g);if(S=="mp4")return new kV(new Blob([g]));else return new kS(new Blob([g]))}async function W(g,S,U,B,e){M=U;
X.push(g,B);var P=q(g),h=(await P._S()).tz;console.log(h);var a=h.width,f=h.height,V=h.l0,I=V/h.wZ,F=V/I,c=a+" \xD7 "+f+" px, "+V+" frames, "+cO.Pn(a*f*4*V)+" decoded<br/>";
c+=I.toFixed(2)+" seconds, "+F.toFixed(2)+" FPS";var D=new jb(r.E.C,!0);D.data={h:r.m.SQ,bf:"setFPS",vc:J,nT:T,aC5:c};
e.a(D)}function T(g){J=Math.max(1,Math.min(60,g));var S=window.VideoDecoder;if(S)_();else j()}async function _(){var g=Date.now(),S=X.shift(),s=[],U=q(S),B=(await U._S()).tz,a=B.width,f=B.height,e=B.l0,P=e/B.wZ,h=e/P,V=Math.min(h,J),I=Math.max(1,Math.round(h/V));
for(var $=0;$<e;$++){if($%I!=0)continue;var F=await U.LS(0,$);s.push({yS:"_a_"+s.length+","+Math.round(1e3/V),kq:new gc(0,0,a,f),data:F.buffer})}M(null,s,X.shift());
if(X.length!=0)_()}function j(){if(X.length==0)return;m=document.createElement("canvas");d=m.getContext("2d");
A=document.createElement("video");var g="data:"+"video/mp4"+";base64,"+h1.qf(X.shift());A.src=g;A.muted=!0;
A.currentTime=0;A.addEventListener("canplay",Y,!1);A.addEventListener("timeupdate",G,!1)}function Y(g){A.removeEventListener("canplay",Y);
a=m.width=A.videoWidth;f=m.height=A.videoHeight;s=[];A.play()}function G(g){clearTimeout(p);d.drawImage(A,0,0);
s.push({yS:"_a_"+s.length+","+Math.round(1e3/J),kq:new gc(0,0,a,f),data:d.getImageData(0,0,a,f).data.buffer});
var S=A.currentTime+1/J;if(S<A.duration&&g){A.currentTime=S;p=setTimeout(G,1e3)}else{M(null,s,X.shift());
A.removeEventListener("timeupdate",G);j();s=null}}function Q(){this.eb=new Uint8Array(1024);this.s=0}Q.prototype.write=function(g){var S=this.eb,U=this.s;
if(g instanceof ArrayBuffer)g=new Uint8Array(g);if(g instanceof Uint8Array){while(S.length<U+g.length){var B=new Uint8Array(S.length*2);
B.set(S);S=B}S.set(g,U);U+=g.length}else if(g.e=="write"){S.set(g.data,g.position)}else{console.log(g);
throw"e"}this.eb=S;this.s=U};Q.prototype.close=function(){this.eb=this.eb.slice(0,this.s)};async function Z(g,a,f,S){var U=a,B=f;
if((a&1)!=0)a++;if((f&1)!=0)f++;var e=a!=U||f!=B,P=e?t.j(a*f*4):null,h={tz:{IC:1,l0:g.length,wZ:1e3/g[0][1],width:a,height:f}},V=new Q,I=.02*(1+Math.pow(3.2*S[0]/100,2.3)),F=new gh(V,h,I);
for(var $=0;$<g.length;$++){var c=g[$],D=new Uint8Array(c[0]),n=D;if(e){t.fA(D,new gc(0,0,U,B),P,new gc(0,0,a,f));
n=P}await F.aaX(n,0,$)}await F.finish();return V.eb.buffer}return{R8:!1,Yf:!0,ss:W,iL:Z}}();h1.u4={};
h1.u4.ss=function(M){var X=new Uint8Array(M),J=0,q=112,W=42,T=H.UQ,p;J+=8;var _=X[J];J++;if(_!=W)throw"e";
var m=T(X,J);J+=4;var d=H.$_(X,J,m);J+=m*2;var A=[];while(J<X.length){p=T(X,J);J+=4;if(p!=q)throw p;
J+=4;p=X[J];J++;if(p!=W)throw p;var a=T(X,J);J+=4;var f=X[J];J++;if(f!=W){J-=5;a=T(X,J);J+=8;p=X[J];
J++;if(p!=W)throw p}var s=T(X,J)*2;J+=4;if(a>0)A.push(J+s);J+=s+a}var j=new DOMParser,Y=j.parseFromString(d,"image/svg+xml").firstChild.firstChild,G=[];
h1.u4.acM(Y,X,A,G);return G};h1.u4.acM=function(M,X,J,q){var W=M.firstChild.firstChild;if(W.tagName=="Image"){var T=W.getElementsByTagName("ImageDescription")[0],_=T.children[0].children,m=T.children[1].children,d=J.shift(),A=[];
for(var $=0;$<m.length;$++)A.push(parseInt(m[$].getAttribute("NumberOfElements")));while(A.length>3)A[2]*=A.pop();
var p=_.length,a=A[0],f=A[1],s=A[2],j=parseInt(m[0].getAttribute("BytesInc"));for(var Y=0;Y<s;Y++){var G=t.j(a*f*4);
G.fill(255);for(var Q=0;Q<p;Q++){var Z=t.j(a*f);if(j==1)for(var g=0;g<Z.length;g++)Z[g]=X[d+g];else if(j==2)for(var g=0;
g<Z.length;g++)Z[g]=Math.min(255,(X[d+g*2+1]<<8|X[d+g*2])>>>2);else throw j;if(Q!=3)t.ix(Z,G,Q);if(p==1){t.ix(Z,G,1);
t.ix(Z,G,2)}d+=a*f*j}q.push({kq:new gc(0,0,a,f),data:G.buffer})}}else{var S=M.children,U=0;while(U<S.length&&S[U].tagName!="Children")U++;
if(U==S.length)throw"e";S=S[U].children;for(var B=0;B<S.length;B++)h1.u4.acM(S[B],X,J,q)}};h1.aqx=function(){function M(_,m,d,A,p){var a=new Int8Array(_.buffer),f=new Int8Array(A.buffer),s=m+d;
while(m<s){var jX=a[m];m++;if(jX>=0&&jX<128)for(var $=0;$<jX+1;$++){f[p]=a[m];p++;m++}if(jX>=-127&&jX<0){for(var $=0;
$<-jX+1;$++){f[p]=a[m];p++}m++}}return p}function X(_,m,d,A,p,a){var f=m*d*A>>>3,s=t.j(f*p),j=q(_,0,0,0)[0];
for(var Y=0;Y<p;Y++){var G=j[Y+1];if(a){var Q=h1.mr("jpg").ss(G.buffer),Z=t.j(f);t.i5(new Uint8Array(Q[0].data),Z);
s.set(Z,f*Y)}else if(G[0]==255&&G[1]==216&&G[2]==255){var g=UTIF.LosslessJpegDecode(G);s.set(new Uint8Array(g.buffer),f*Y)}else M(G,64,G.length,s,f*Y)}return s}function J(_){var m=new Uint8Array(_),d=0,A=H.zb(m,0,128);
d+=128;var p=H.zb(m,d,4);d+=4;var a=W(m,d,0)[0],f=a.g28;if(f==null){alert("No image.");return[]}var s=f.cols,j=f.rows,Y=s*j,G=f.photoInterpret,Q=f.bitsAlloc,Z=f.bitsStored,g=f.lossyCompr;
if(g==null)g=a.g8.lossyCompr;var S=a.g7fe0.pixelData,U=f.numOfFrames;U=U?parseInt(U):1;var B=new Uint8Array(S.buffer),e=Y*Q>>>3;
if(B.length!=e*U){S=X(S,s,j,Q,U,g)}else{}if(Q==16)S=new Uint16Array(S.buffer);console.log(f);console.log(a);
var P=[];for(var h=0;h<U;h++){var V=h*e,_=t.j(s*j*4);_.fill(255);if(G=="MONOCHROME2"){var I=0,F=255,c=f.largestValue,D=f.smallestValue;
if(c!=null){F=c;I=D}else if(Z!=8){F=0;I=1e9;for(var $=0;$<Y;$++){var n=S[V+$];if(n>1<<Z-8){if(n>F)F=n;
if(n<I)I=n}}}var k=255/(F-I);for(var $=0;$<Y;$++){var n=Math.max(0,Math.min(255,(S[V+$]-I)*k)),b=$*4;
_[b]=_[b+1]=_[b+2]=n}}else if(G=="PALETTE COLOR"){var N=f.pltRed,L=f.pltGreen,R=f.pltBlue;for(var $=0;
$<Y;$++){var i=S[V+$],b=$*4;_[b]=N[i]>>>8;_[b+1]=L[i]>>>8;_[b+2]=R[i]>>>8}}else throw G;P.push({kq:new gc(0,0,s,j),data:_.buffer})}return P}function q(_,m,d,A){if(d==0)d=_.length;
var p=H.Fn,a=H.MZ,f=H.UQ,s=[],j=m;while(m<d){var Y=p(_,m);m+=2;var G=p(_,m);m+=2;var Q=f(_,m);m+=4;if(Y==65534&&G==57344){if(Q==4294967295){var Z=W(_,m,A+1);
s.push(Z[0]);m=Z[1]}else{s.push(_.slice(m,m+Q));m+=Q}}else if(Y==65534&&G==57357){}else if(Y==65534&&G==57565)break;
else throw"e"}return[s,m]}function W(_,m,d){var A=H.Fn,p=H.MZ,a=H.UQ,f={},s="\t".repeat(d);while(m<_.length){var j=A(_,m),Z="",g=0,U=null;
m+=2;var Y=A(_,m);m+=2;var G=j.toString(16),Q=Y.toString(16);if(j==65532)break;if(j==65534&&Y==57357){m-=4;
break}if(j==65534&&Y==57565)throw"e";if(Y==0){m+=8;continue}if(65<=_[m+1]){Z=H.zb(_,m,2);m+=2;if(Z=="OB"||Z=="SQ"||Z=="OW"){g=a(_,m+2);
m+=6}else{g=A(_,m);m+=2}}else{Z=T[G][Q].split(",")[1];g=a(_,m);m+=4}console.log(G,Q,Z,g);var S=T[G][Q];
if(S)S=S.split(",")[0];if(S==null){S="t"+Q}if(Z=="SQ"){var B=q(_,m,m+g,d);U=B[0];m=B[1];g=0}else if(Z=="US")U=A(_,m);
else if(Z=="SS")U=p(_,m);else if(Z=="UL")U=a(_,m);else if(Z=="FL")U=H.eV(_,m);else if(Z=="AT")U=[A(_,m),A(_,m+2)];
else if(Z=="OB")U=_.slice(m,m+g);else if(Z=="OW")U=new Uint16Array(_.slice(m,m+g).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(Z)!=-1){var e=m+g;
while(_[e-1]==0)e--;U=H.zb(_,m,e-m).trim()}else{console.log(s,JSON.stringify(H.zb(_,m,Math.min(g,32))));
throw Z}if(f["g"+G]==null)f["g"+G]={};f["g"+G][S]=U;m+=g}return[f,m]}var T={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"40":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{ss:J}}();h1.aEa={};h1.aEa.ss=function(M){var X=new Uint8Array(M),J=0,q={};for(var $=0;$<306;$++){var W=H.zb(X,J,8).trim(),T=H.zb(X,J+9,71).split("/")[0].trim();
q[W]=T;J+=80;if(W=="END"){J=Math.ceil(J/2880)*2880;break}}var _=parseInt(q.NAXIS1),m=parseInt(q.NAXIS2),d=_*m,A=parseInt(q.BITPIX),p=q.BZERO?parseInt(q.BZERO):0,a=q.NAXIS3?parseInt(q.NAXIS3):1,f=new Float32Array(M,J,M.byteLength-J>>>2),s=new Float32Array(d),j=t.j(d*4,16);
j.fill(65535);var Y=t.j(d,16);for(var G=0;G<a;G++){var Q=1e9,Z=-1e9;for(var $=0;$<d;$++){if(A==-32){var g=X[J+0];
X[J+0]=X[J+3];X[J+3]=g;var g=X[J+1];X[J+1]=X[J+2];X[J+2]=g;s[$]=f[$];J+=4}else if(A==16){s[$]=p+H.Wp(X,J);
J+=2}else throw A;var S=s[$];if(S<Q)Q=S;if(S>Z)Z=S}var U=1/Z;for(var B=0;B<m;B++)for(var e=0;e<_;e++){var $=B*_+e,P=(m-B-1)*_+e,S=s[$]*U;
Y[$]=65535*S}if(a==1)t.Qh(Y,j);else t.ix(Y,j,G)}return[{kq:new gc(0,0,_,m),data:j,yS:q.OBJECT,depth:16}]};
h1.cX={};h1.cX.ss=function(M){var X=new Uint8Array(M),J=16,q=H.zb(X,J,4),T=32,Q=0,Z=0,g=!1,N;J+=4;var W=H.zb(X,J,8);
J+=8;while(X[J+T-1]==0)T--;var _=H.zb(X,J,T);J+=32;var m=H.zb(X,J,4);J+=4;J+=20;var d=H.Z3(X,J);J+=4;
var A=H.Z3(X,J);J+=4;var p=H.Z3(X,J);J+=4;var a=H.Z3(X,J);J+=4;var f=H.Z3(X,J);J+=4;var s=H.Z3(X,J);
J+=4;var j="FujiFilm "+_,Y=[0,1,1,2];if(j=="FujiFilm X10"){j="FujiFilm FinePix X10";Y=[2,1,1,0]}var G={t271:["FujiFilm"],t272:[j],t277:[1],t33421:[2,2],t33422:Y,lY:1};
J=p;var S=[],U=H.uC,B=H.Z3(X,J);J+=4;for(var $=0;$<B;$++){var e=U(X,J);J+=2;var P=U(X,J);J+=2;if(e==256){Z=U(X,J);
Q=U(X,J+2)}else if(e==272){S=[U(X,J),U(X,J+2)]}else if(e==273){S.push(U(X,J),U(X,J+2))}else if(e==304){g=!(X[J]>>>7)}else if(e==305){var h=Math.round(Math.sqrt(P)),V=[];
for(var I=0;I<P;I++)V.push(X[J+I]);V.reverse();G.t33421=[h,h];G.t33422=V}else if(e==12272){var F=U(X,J),c=U(X,J+2),D=U(X,J+6);
G.t50728=[F/c,1,F/D]}J+=P}var n=Q<Z,k=X.slice(f,f+s),b=Math.round(s*8/(Q*Z));if(k[0]==73&&k[1]==73&&k[2]==42){N=UTIF.decode(k.buffer)[0].fujiIFD;
b=N.t61443[0];var L=N.t61454,R=N.t61450;if(R)G.t50714=R;if(L)G.t50728=[L[0]/L[1],1,L[0]/L[2]];var i=N.t61447[0];
k=k.slice(i,i+N.t61448[0])}var s=k.length,v=s*8<Q*Z*b;if(v){console.log("compressed");var E=G.t33422,u=~~Math.sqrt(E.length),C=[];
for(var $=0;$<u;$++)C[$]=E.slice($*u,$*u+u);k=new Uint8Array(UTIF._decompressRAF(k,C).buffer);s=k.length}function l(kz,z,eZ){eZ=eZ<<8-(z&7);
var kM=z>>>3;kz[kM]|=eZ>>>16;kz[kM+1]|=eZ>>>8;kz[kM+2]|=eZ}var x=s*8/(Q*Z);if(x==16)for(var $=0;$<s;
$+=2){var y=k[$];k[$]=k[$+1];k[$+1]=y}else if(x==14){for(var $=0;$<s;$+=4){var y=k[$];k[$]=k[$+3];k[$+3]=y;
y=k[$+1];k[$+1]=k[$+2];k[$+2]=y}}else if(x==12)for(var $=0;$<s;$+=3){var ge=k[$+2]<<16|k[$+1]<<8|k[$+0];
ge=ge>>>12|(ge&4095)<<12;k[$]=ge>>>16&255;k[$+1]=ge>>>8&255;k[$+2]=ge&255}if(n)k=h1.cX.a5j(k,Q,Z);var O=n?2:1;
Q*=O;G.t256=[Q];G.t257=[Z];G.t258=[b];G.t50719=[S[1],S[0]*O];G.t50720=[S[3],S[2]*O];G.width=Q;G.height=Z;
G.data=new Uint8Array(k.buffer);return[G]};h1.cX.a5j=function(M,X,J){M=new Uint16Array(M.buffer);var q=new Uint16Array(X*J*2);
for(var W=0;W<J;W+=2)for(var T=0;T<X;T++){var _=W*X+T,m=_*2,d=M[_],A=M[_+X];q[m+1]=q[m+2*X]=A;if(((W>>>1)+T&1)==0){q[m]=d;
q[m+2*X+1]=M[_+1]}else{q[m]=M[_-1];q[m+2*X+1]=d}}return q};h1.E8={};h1.E8.ap4=function(M,X,J){J=J<<8-(X&7);
var q=X>>>3;M[q]|=J>>>16;M[q+1]|=J>>>8;M[q+2]|=J};h1.E8.Yf=!0;h1.E8.ss=async function(M,X,J,q){var W=new Uint8Array(M),T=0,_=Date.now(),m=await b8.Ah(new Blob([M])),d=m.moov.uuid[0],A=new CR3Parser(M),p=A.getTrack().meta,a=d.CMT1[0],f=a.t256[0]=p.width,s=a.t257[0]=p.height,j=f*s,Y=a.exifIFD=d.CMT2[0],G=Y.makerNote=d.CMT3[0],Q=m.moov.trak[3].mdia.minf.stbl,Z=Q.co64[0],g=W.slice(Z,Z+Q.stsz[0]),S=0;
while(S<g.length){var U=H.UQ(g,S);S+=4;var B=H.Fn(g,S);S+=2;var e=g[S]==1;S+=2;S+=4;if(B==8||B==9){var P=UTIF.decode(g.slice(S+8,S+U-12).buffer)[0];
for(var h in P)G[h]=P[h]}S+=U-12}a.t277=[1];a.t33421=[2,2];a.t33422=[0,1,1,2];a.lY=1;if(a.t274)a.lY=a.t274[0];
var V=A.extractCFA(),I=p.bitDepth;if(I!=14)throw"e";a.t258=[I];var F=new Uint8Array(Math.ceil(j*I/8)),c=16-I;
for(var $=0;$<j;$++)h1.E8.ap4(F,$*14,V[$]<<c);a.width=f;a.height=s;a.data=F;J(null,[a],q)};h1.YN={};
h1.YN.aX=!0;h1.YN.iL=function(M,X,J,q){var W=new Uint8Array(M[0][0]),T=X*J,_=[1,3,4][q[0]],m=8+8*q[1],d=q[2];
if(_==1){var A=new Uint8Array(X*J);t.SF(W,A,0);W=A}if(_==3){var A=new Uint8Array(X*J*3);for(var $=0;
$<T;$++){var p=$*4,a=$*3;A[a]=W[p];A[a+1]=W[p+1];A[a+2]=W[p+2]}W=A}if(m==16){var f=W.length,A=new Uint8Array(f*2);
for(var $=0;$<f;$++){var s=Math.round(W[$]*(65535/255));A[$*2+d]=s>>>8;A[$*2+1-d]=s&255}W=A}return W.buffer};
h1.rp={};h1.rp.ss=function(M,X){function J(C){return~~(.5+t.jm(Math.max(0,Math.min(1,C)))*255)}var q=new Uint8Array(M),W=4,T=H.UQ(q,W);
W+=4;var _={};W=h1.rp.Rf(q,W,_);var m=_.compression,d=_.channels,A=d.length,p=Date.now();if(m==3&&A>4){var a=_.dataWindow,f=a[2]+1,s=a[3]+1,j=[];
while(!0){var Y=H.UQ(q,W+j.length*8);if(Y==0)break;j.push(Y)}W+=j.length*8;function G(O,C,u,kz,c,L){var z=O[u*(A*f)+kz*f+C];
return J(z)}function Q(O,k){for(var b=0,jX=Math.floor((O.length+1)/2),kz=0,$=O.length-1;!(kz>$||(k[kz++]=O[b++],kz>$));
)k[kz++]=O[jX++]}var Z=[],g={},S=[];for(var $=0;$<d.length;$++){var U=d[$],B=U[0];if(B.indexOf(".")==-1)B="main."+B;
var e=B.split(".");while(e.length>2)e[0]=e.shift()+"_"+e[0];var P=e[0],h=e[1];if(g[P]==null){g[P]=Z.length;
var V=t.j(f*s*4);Z.push(V);V.fill(255)}S.push([g[P],{R:0,G:1,B:2,A:3}[h]])}for(var $=0;$<j.length;$++){var I=j[$],F=H.UQ(q,I),n;
I+=4;var c=$==j.length-1?s-F:16,D=H.UQ(q,I);I+=4;if(m==3){var n=new Uint8Array(c*f*A*4);UZIP.inflateRaw(q.slice(I+2,I+D),n);
for(var k=1;k<n.length;k++){var b=n[k-1]+n[k]-128;n[k]=b}var N=new Uint8Array(n.length);Q(n,N);n=new Float32Array(N.buffer)}var L=t.j(n.length);
for(var R=0;R<A;R++){var i=S[R],v=Z[i[0]],E=i[1];for(var u=0;u<c;u++){for(var C=0;C<f;C++){var l=((u+F)*f+C)*4;
v[l+E]=G(n,C,u,R,c,L)}}}}var x=[];for(var B in g){x.push({kq:new gc(0,0,f,s),data:Z[g[B]].buffer,yS:B})}console.log(Date.now()-p);
return x.reverse()}else{var y=EXRLoader.parse(M),f=y.width,s=y.height,v=t.j(f*s*4);for(var u=0;u<s;u++)for(var C=0;
C<f;C++){var $=(u*f+C)*4,ge=((s-u-1)*f+C)*4;v[$]=J(y.data[ge+0]);v[$+1]=J(y.data[ge+1]);v[$+2]=J(y.data[ge+2]);
v[$+3]=J(y.data[ge+3])}return[{kq:new gc(0,0,f,s),data:v.buffer}]}};function io(M){var X=(M&31744)>>10,J=M&1023;
return(M>>15?-1:1)*(X?X===31?J?NaN:Infinity:Math.pow(2,X-15)*(1+J/1024):6103515625e-14*(J/1024))}h1.rp.Rf=function(M,X,J){function q(j,Y){var G=Y;
while(j[G]!=0)G++;return G-Y}while(M[X]!=0){var W=H.zb(M,X,q(M,X));X+=W.length+1;var T=H.zb(M,X,q(M,X));
X+=T.length+1;var _=H.UQ(M,X);X+=4;var m=M.slice(X,X+_);if(_==1)m=M[X];else if(T=="box2i"){m=[];for(var $=0;
$<4;$++)m.push(H.Xv(M,X+4*$))}else if(T=="float")m=H.eV(M,X);else if(T=="v2f"){m=[];for(var $=0;$<2;
$++)m.push(H.eV(M,X+4*$))}else if(T=="chlist"){var d=X;m=[];while(M[d]!=0){var A=H.zb(M,d,q(M,d));d+=A.length+1;
var p=H.UQ(M,d);d+=4;var a=M[d];d++;d+=3;var f=H.UQ(M,d);d+=4;var s=H.UQ(M,d);d+=4;m.push([A,p,a,f,s])}}else console.log("-----",T);
J[W]=m;X+=_}return X+1};h1.JM={};h1.JM.aX=!0;h1.JM.R8=!0;h1.JM.iL=function(M,X,J,q,W){q=["",100,!1,!1,!1,0,!1];
q[7]=["jpg"];var T=new ToDXF;c8.Aw(M,q,T,W.Rb);return T.buffer};h1.JM.ss=function(M,X){var J=72,q=new kp(1,0,0,1,0,0);
q.scale(J/72,J/72);X.Qv=J;var W=new hT(X,q,!1);FromDXF.Parse(M,W)};h1.azV={};h1.azV.ss=function(){var M=H.Fn,X=H.UQ,J=H.zb,q;
function W(_,m,d,A,p){var a=X(_,d),f=X(_,d+4),s=X(_,d+8),j=M(_,d+12),Y=M(_,d+14);d+=16;var G={};for(var $=0;
$<j+Y;$++){var Q=X(_,d),Z=X(_,d+4),g,S;if(Q>>>31==1){Q=Q&16777215}if($<j)g=H.$_(_,m+Q+2,M(_,m+Q));else g="id"+Q;
var U=A.slice(0);U.push(g);if(Z>>>31==1){Z=Z&268435455;S=W(_,m,m+Z,U,p)}else{var B=X(_,m+Z),e=X(_,m+Z+4),P=X(_,m+Z+8),h=X(_,m+Z+12);
if(h!=0)throw"e";if(B<p[0]||B>p[0]+p[1])throw"e";var V=p[2]+B-p[0];S=_.slice(V,V+e);var I=h1.$Y(S.buffer);
if(I&&["bmp","png","ico"].indexOf(I)!=-1){var F=h1.mr(I);if(!F.R8){var c=null;try{c=F.ss(S.buffer)}catch(hP){}if(c){c[0].yS=U[1];
q.push(c[0])}}}else if(I)console.log(I)}G[g]=S;d+=8}return G}function T(_){q=[];var m=new Uint8Array(_),d=0,A=M(m,d);
d+=2;d+=58;var p=X(m,d);d+=4;d=p;var a=J(m,d,4);d+=4;var f=M(m,d);d+=2;var s=M(m,d);d+=2;var j=X(m,d);
d+=4;var Y=X(m,d);d+=4;var G=X(m,d);d+=4;var Q=M(m,d);d+=2;var Z=M(m,d);d+=2;d+=Q;var g={};for(var $=0;
$<s;$++){var S=d;while(m[S]!=0)S++;var U=J(m,d,S-d),B=X(m,d+8),e=X(m,d+12),P=X(m,d+16),h=X(m,d+20),V=X(m,d+24),I=X(m,d+28),F=M(m,d+32),c=M(m,d+34),Z=X(m,d+36);
g[U]=[e,B,h,P,Z];if(V+I!=0)throw"e";d+=40}for(var D in g){var n=g[D];d=n[2];if(D==".rsrc"){var k=W(m,d,d,[],n),b="id134"}}return q}return T}();
h1.oC={};h1.oC.R8=!0;h1.oC.ss=function(M,X,J){if(J&&J.length!=2)J=null;br.Ah(M,X,J)};h1.oC.iL=function(M,X,J){return br.Aw(M)};
(function(){var M=h1.Rv.get("wasm/zstd").buffer;WebAssembly.instantiate(M).then(function(X){var J=X.instance.exports;
h1.oC.aBn=J})}());h1.oC.Sg=function(M,X){var J=h1.oC.aBn,q=M.length,W=J.memory,T=2*q+1e6,d=4;h1.ia(J,T);
var _=new Uint8Array(W.buffer),m=J.malloc(q);_.set(M,m);while(!0){var A=X==null?q*d:X;h1.ia(J,T+A);var p=J.malloc(A),a=J.ZSTD_decompress(p,A,m,q);
if(a==-70){J.free(p);d+=d>>>1;if(X!=null)throw"error"}else{_=new Uint8Array(W.buffer);M=_.slice(p,p+a);
J.free(p);break}}J.free(m);return M};h1.aj={};h1.aj.R8=!0;h1.aj.ss=function(){var M=0,X=1,J=2,q=3,W=4,T=5,_=6,m=7,d=1,A=2,p=7,a=8,f=9,s,j,Y,G,Q;
function Z(){var jX=H.Xv(s,j);j+=4;return jX}function g(){var N=0,L=0;for(var $=0;$<5;$++){var R=s[j++];
N+=(R&127)<<L;L+=7;if((R&128)==0)break}return N}function S(){var N=g(),L=H.Og(s,j,N);j+=N;return L}function U(){return{typeName:S(),ajh:Z()}}function B(){var N=Z(),L=S(),R=[],i=Z();
for(var $=0;$<i;$++)R.push([S()]);return{id:N,HH:L,aIV:R}}function e(N){var L=N.aIV,R=[];for(var $=0;
$<L.length;$++)L[$].push(s[j++]);for(var $=0;$<L.length;$++){var i=L[$][1],v;L[$].push(P(i))}}function P(N){var L;
if(N==M)L=s[j++];else if(N==q)L=S();else if(N==W)L=U();else if(N==X||N==J||N==_||N==T){}else throw N;
return L}function h(N,L,R){var i;if(N==M){if(L==d)i=s[j++]==1;else if(L==A){i=s[j++]}else if(L==a)i=Z();
else if(L==f){i=Z();Z()}else throw L}else if(N==q){i=c(R+1)}else if(N==W){i=c(R+1)}else if(N==T){i=c(R+1)}else if(N==X){i=c(R+1)}else if(N==_){i=c(R+1)}else if(N==J){i=c(R+1)}else throw N;
return i}function V(N,L){var R=Y["c"+N],i=R.aIV,v={_class:R.HH};for(var $=0;$<i.length;$++){var E=i[$],u=E[1],C=E[2],l=h(u,C,L),x=E[0];
v[x]=l}return v}function I(N,L,R,i){var v=[];for(var $=0;$<N;$++){var E=h(L,R,i);if(E.Y&&E.Y=="null_count"){var u=E.tz;
for(var C=0;C<u;C++)v.push(null);$+=u-1}else v.push(E)}return v}function F(){return[Z(),Z()]}function c(N){if(N==null)throw"e";
var L=null,R=s[j],i=null;j++;if(R==0){var v=Z(),E=Z(),u=Z(),C=Z();L=[v,E,u,C]}else if(R==1){i=Z();var l=Z();
L=V(l,N)}else if(R==4){var x=B();i=x.id;e(x);Y["c"+x.id]=x;L=V(x.id,N)}else if(R==5){var x=B();i=x.id;
e(x);var y=Z();Y["c"+x.id]=x;L=V(x.id,N)}else if(R==6){i=Z();var ge=S();L=ge}else if(R==7){i=Z();var O=s[j++];
if(O!=0)throw O;var kz=Z();if(kz!=1)throw kz;var z=Z(),eZ=s[j++],kM=P(eZ);L=I(z,eZ,kM,N)}else if(R==9){var jV=Z();
L={Y:"ref",tz:jV};Q["o"+jV]=!0}else if(R==10){L={Y:"null_count",tz:1}}else if(R==11){L={Y:"end"}}else if(R==12){var y=Z(),cL=S()}else if(R==13){var aw=s[j++];
L={Y:"null_count",tz:aw}}else if(R==16){var h2=F();i=h2[0];L=I(h2[1],W,null,N)}else if(R==17){var h2=F();
i=h2[0];L=I(h2[1],X,null,N)}else throw"e";if(i!=null&&i>0){if(G["o"+i]!=null)throw"e";G["o"+i]=L}return L}function D(N,G){if(N instanceof Array){for(var $=0;
$<N.length;$++)N[$]=n(N[$],G)}else if(N instanceof Object){for(var L in N)N[L]=n(N[L],G)}}function n(N,G){if(N&&N.Y&&N.Y=="ref")return G["o"+N.tz];
else return N}function k(N,L,R){var i=Date.now();s=new Uint8Array(N);j=0;Y={};G={};Q={};var v=H.zb(s,0,4);
if(v!="PDN3")throw v;j+=4;var E=H.Fn(s,j)+s[j+2]*256*256;j+=3;var u=H.zb(s,j,E);j+=E;j+=2;while(!0){var C=c(0);
if(C&&C.Y&&C.Y=="end")break}for(var l in Q)if(G[l]==null)throw l;for(var l in G)D(G[l],G);var x=G.o1;
console.log(x);L.r=x.width;L.$=x.height;L.buffer=t.j(L.r*L.$*4);var y=x.layers["ArrayList+_items"];for(var $=0;
$<y.length;$++){var ge=y[$];if(ge==null)continue;var O=ge["Layer+width"],kz=ge["Layer+height"],z=ge["Layer+properties"],eZ=ge.properties,kM=eZ.blendOp._class.split("+").pop();
kM=kM.slice(0,kM.length-7);var jV={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[kM],cL=L.C0();
cL.EC(z.name);cL.G8=z.opacity;cL.EG(z.visible);cL.Sw=jV;if(s[j]!=0)throw"e";j++;var aw=H.Z3(s,j);j+=4;
var h2=Math.ceil(O*kz*4/aw);cL.S=new gc(0,0,O,kz);var ea=cL.buffer=t.j(O*kz*4);for(var ht=0;ht<h2&&j<s.length;
ht++){var jn=b();ea.set(jn[1],jn[0]*aw)}for(var gE=0;gE<ea.length;gE+=4){var bS=ea[gE+0];ea[gE+0]=ea[gE+2];
ea[gE+2]=bS}L.U.push(cL)}}function b(){var N=H.Z3(s,j);j+=4;var L=H.Z3(s,j);j+=4;j+=10;L-=10;var R=pako.inflateRaw(s.slice(j,j+L));
j+=L;return[N,R]}return k}();h1.W6={};h1.W6.R8=!0;h1.W6.ss=function(M,X){dR.Ah(M,X)};h1.uB={};h1.uB.R8=!0;
h1.uB.ss=function(){var M,X,G=null,e,P;function J(){var k=M[X];X+=1;return k}function q(){var k=H.uC(M,X);
X+=2;return k}function W(){var k=H.Z3(M,X);X+=4;return k}function T(){var k=H.Pp(M,X);X+=4;return k}function _(){var k=H.L$(M,X);
X+=8;return k}function m(){var k=W();if(k>200)throw k;var b=H.c8(M,X,k);X+=k*2;return b}function d(){var k=H.LF(M,X);
X+=8;return k}function A(){var k=H.Ot(M,X);X+=4;return k}function p(){var k=W();if(W()!=4)throw"e";var b=[];
for(var $=0;$<k;$++)b.push(W());return b}function a(k,b,N){for(var $=0;$<k.length;$++)if(k[$][b]==N)return k[$]}function f(k,b){var N=Date.now();
M=new Uint8Array(k);X=H.Gs(M,"CH"+"NK"+"SQ"+"Li")+8;var L=_(),R=gK.parse(M.buffer.slice(X,X+L)),i=gK.a62(R,!0);
console.log(i);var v=i.Canvas[0],E=v.Width,u=v.Height,C=v.Unit,l=b.Qv=v.Resolution;if(C==0){}else if(C==1){E=Math.round(E*l/2.54);
u=Math.round(u*l/2.54)}else if(C==2){E=Math.round(E*l/25.4);u=Math.round(u*l/25.4)}else if(C==3){E=Math.round(E*l);
u=Math.round(u*l)}else if(C==5){E=Math.round(E*l/72);u=Math.round(u*l/72)}else{console.log(v);throw C}b.r=E;
b.$=u;b.buffer=t.j(E*u*4);console.log(Date.now()-N);var x=a(i.Layer,"MainId",v.RootFolder);F(i,M,b,x.FirstChildIndex,0);
console.log(Date.now()-N)}function s(){var k=H.Fn(M,X);X+=2;return k}function j(){var k=H.UQ(M,X);X+=4;
return k}function Y(){var k=H.Xv(M,X);X+=4;return k}function Q(k){var b={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},L=0;
M=k;X=0;var N={};while(X<M.length){var R=j(),i=j(),v=X+i;if(i==0)continue;var E=[];if(R==11){var u=j();
for(var C=0;C<u;C++){var l=[j(),j()];E.push(l);L+=l[1];var x=X+j()-4;l.push(s(),s(),s(),s());l.push(H.f1(M,X));
X+=8;var y=s();l.push(H.$_(M,X,y));X+=y*2;if(X!=x)throw"e"}}else if(R==31){E=H.Og(M,X,i);X+=i}else if(R==34)for(var $=0;
$<3;$++)E.push(j()>>>16);else if(R==42)for(var $=0;$<4;$++)E.push(Y());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(R)!=-1){if(i!=4)throw"e";
E=j();if([37,45,46,51,53,55,61,62].indexOf(R)!=-1){X=v;continue}}else if(R==47){var ge=s();if(j()!=50)throw"e";
if(j()!=0)throw"e";var O=s();E=H.zb(M,X,O);X+=O}else if(R==57){var u=s();for(var $=0;$<u;$++){var kz=s(),z=H.zb(M,X,kz);
X+=kz;var eZ=s(),kM=H.zb(M,X,eZ);X+=eZ;E.push([z,kM])}if(X<v){var jV=j();for(var $=0;$<u;$++)E[$].push(jV)}}else if(R==39||R==63)E.push(j(),j());
else if(R==64){for(var $=0;$<8;$++)E.push(H.Xv(M,X+$*4)/100);X+=32}else{E=M.slice(X,v);X+=i}var cL=b[R];
if(cL==null)cL="t"+R;if(N[cL])throw"e";N[cL]=E;if(X!=v)throw R}if(G){}G=N;return N}function Z(k){M=k;
X=0;var b=W();if(b!=k.length)throw"e";var N=W(),L=m(),R=W(),i=d(),v=[W()/4294967295,W()/4294967295,W()/4294967295];
return[R,i,v]}function g(k,b){function N(){var dF=[];for(var $=0;$<4;$++)dF.push(H.Pp(M,X+$*4));X+=16;
return dF}function L(jX){var dF=[];for(var $=0;$<jX;$++)dF.push(A());return dF}function R(dF){var et="";
for(var $=X;$<dF;$+=4)et+=M.slice($,$+4).join(", ")+"\n";return et}M=k;X=b+8;var i=_(),v=X+i;X+=56;if(X==v)return;
var E=[],u=[],C=[],l=[],x=[];while(X<v){var y=W(),ea=1;if(y!=88&&y!=96)throw y;var ge=W();if(ge!=72)throw ge;
var O=W();if(O!=88&&O!=104&&O!=120)throw O;var kz=W();if(kz!=88)throw kz;var z=W(),eZ=W(),kM=N(),jV=[];
C.push(jV);for(var $=0;$<6;$++){jV.push(S(W()))}var cL=d(),aw=W();if((eZ&1)==0){console.log("8 extra bytes");
W();aw=W()}var h2=d();l.push(h2);var ht=W(),jn=(eZ&256)!=0,gE=[],bS=[],bi={88:1,104:2,120:3}[O];for(var $=0;
$<z;$++){var cj=$==0?1:bi;for(var bb=0;bb<cj;bb++)gE.push(d(),d());bS.push(cj==1?$==0?"M":"L":cj==2?"Q":"C");
var c0=N(),cV=W();ea=A();var g_=L(10),hx=W(),au=W()}x.push(ea);if(O==104){var kP=d(),iK=d();if(jn){bS.push("Q");
gE.push(kP,iK,gE[0],gE[1])}}if(O==120){var kP=d(),iK=d(),b3=d(),fs=d();if(jn){bS.push("C");gE.push(kP,iK,b3,fs,gE[0],gE[1])}}if(eZ&128){var ch=["M"],hv=[gE[0],gE[1]],g6=gE.length>>>1,ef=t.G.a0f(gE);
for(var $=0;$<g6;$++){var fN=gE[2*$],kb=gE[2*$+1],cn=.7;for(var bb=0;bb<2;bb++){ef[$*4+bb*2]=cn*ef[$*4+bb*2]+(1-cn)*fN;
ef[$*4+bb*2+1]=cn*ef[$*4+bb*2+1]+(1-cn)*kb}}for(var $=1;$<g6;$++){ch.push("C");hv.push(ef[$*4-2],ef[$*4-1],ef[$*4],ef[$*4+1],gE[$*2],gE[$*2+1])}if(jn){ch.push("C");
hv.push(ef[g6*4-2],ef[g6*4-1],ef[0],ef[1],gE[0],gE[1])}gE=hv;bS=ch}if(jn)bS.push("Z");u=u.concat(gE);
E=E.concat(bS)}if(X!=v)throw"e";return[{d:u,C6:E},C,l,x]}function S(k){return Math.min(255,Math.round(k/16777216))}function U(k){M=k;
X=0;var b=W();if(b!=16)throw b;var N=W();if(N!=102)throw N;var L=W();if(L!=42&&L!=58)throw L;var R=W();
if(k.length-R!=118+L)throw k.length-R;var i=m();if(i!="Parameter")throw i;var v=W(),E=W(),u=W(),C=W(),l=[];
for(var $=0;$<16;$++)l.push(W());var i=m();if(i!="InitColor")throw i;if(W()!=20)throw"e";var x=W(),y=W(),ge=W();
if(W()!=4)throw"e";if(L==58){var O=[];l.push(O);for(var $=0;$<4;$++)O.push(S(W()))}var i=m();if(i!="BlockSize")throw i;
var kz=W();if(kz!=12)throw kz;var z=p();if(X!=M.length)throw"e";return[v,E,u,C,x*255,l]}function B(k,b){var N=H.zb(b,0,40),L=a(k["ExternalC"+"hunk"],"Exte"+"rnalID",N);
if(L==null){console.log("chnk not found",N)}return L?L.Offset:-1}function h(k,b,N,L){if(e==null){e=t.j(256*256*4);
P=t.j(256*256)}var R=k.Mipmap,i=k.MipmapInfo,v=k.Offscreen,E=a(R,"MainId",N),u=a(i,"MainId",E.BaseMipmapInfo),C=a(v,"MainId",u.Offscreen),l=B(k,C.BlockData),f=null;
if(l==-1)return null;var x=h1.uB.aCr(b,l),y=U(C.Attribute),ge=y[0],O=y[1],kz=y[2],z=y[3],eZ=y[4],kM=y[5],jV=kM[16],cL=kM[1],aw=kM[2],h2=cL+aw;
if(aw!=kM[5])throw"e";if(cL!=kM[7])throw"e";var ea=t.j(256*(kM[6]+kM[8])),ht=new gc;if(jV)ht=new gc(0,0,ge,O);
else{for(var jn=0;jn<z;jn++)for(var gE=0;gE<kz;gE++){var bS=x[jn*kz+gE];if(bS.length==0)continue;ht=ht.m0(new gc(gE<<8,jn<<8,256,256))}}var bi=ht.Lg(new gc(0,0,ge,O)),cj=t.j(bi.o()*(h2==1?1:4));
if(jV)t.Tb(cj,255<<24|jV[0]<<16|jV[1]<<8|jV[2]);if(h2==1)cj.fill(eZ);var bb=new Uint32Array(e.buffer),c0={};
for(var jn=0;jn<z;jn++)for(var gE=0;gE<kz;gE++){var bS=x[jn*kz+gE];if(bS.length==0)continue;var cV=new Uint8Array(bS.buffer,bS.byteOffset+2,bS.length-6),g_=new gc(gE<<8,jn<<8,256,256),hx=ea;
if(cV.length<2e3){var N=cV.length+","+ea.length+","+cV.slice(0,16).join(":");if(c0[N]==null){UZIP.inflateRaw(cV,ea);
c0[N]=ea.slice(0)}hx=c0[N]}else UZIP.inflateRaw(cV,ea);if(h2==1){if(kM[8]==32){V(hx,0,P);t.Rc(P,g_,cj,bi)}else t.Rc(hx,g_,cj,bi)}else if(h2==2){if(kM[8]==32){t.Tb(e,267387135);
V(hx,0,P);t.ix(P,e,3);V(hx,256*32,P);t.Qh(P,e)}else for(var $=0;$<262144;$+=4){var jV=hx[65536+($>>>2)];
e[$]=jV;e[$+1]=jV;e[$+2]=jV;e[$+3]=hx[$>>>2]}t.fA(e,g_,cj,bi)}else if(h2==5){for(var $=0;$<262144;$+=4){bb[$>>>2]=hx[$>>>2]<<24|hx[65536+$+0]<<16|hx[65536+$+1]<<8|hx[65536+$+2]}t.fA(e,g_,cj,bi)}else throw h2}if(L&&h2==1){var au=t.j(ge*O*4);
t.ix(cj,au,3);cj=au}return[bi,cj,eZ]}function V(k,X,b){for(var $=0;$<b.length;$++){b[$]=(k[X+($>>>3)]>>>7-($&7)&1)*255}}var I=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ","div ","lddg","lddg",null,"over","sLit","hLit","vLit","lLit","pLit",null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function F(k,b,N,L,R){var i=k.Layer,v=k.Canvas[0];while(L!=0){var E=a(i,"MainId",L),u=E.Type,kz=!1;console.log(E);
var C=N.C0();C.EC(E.Name);C.G8=Math.min(255,E.Opacity);C.EG((E.Visibility&1)!=0);C.Sw=I[E.Composite];
if(C.Sw==null){alert("Unknown blend mode "+E.Composite);C.Sw="norm"}C.H2=E.Clip==1;N.U.push(C);var l=E.LayerMaskMipmap;
if(l!=0){var x=h(k,b,l,!1);if(x){C.JS=new K.$O;C.JS.S=x[0];C.JS.N=x[1];C.JS.color=x[2];c(C.JS.S,E,"Mask","Mask");
C.JS.Wn()}}var y=[];for(var $=0;$<3;$++)y.push(S(E["DrawColorMain"+["Red","Green","Blue"][$]]));var ge={t:"Objc",v:t.NX.$J({z:y[0],L:y[1],g:y[2]})},O=JSON.parse(kf.default);
for(var $=0;$<kf.order.length;$++)O[kf.an[$]]={t:"VlLs",v:[]};if(E.DrawColorEnable==1&&u!=1584){kz=!0;
var z=JSON.parse(kf.px[kf.order.indexOf("SoFi")]);z.Clr=ge;O.solidFillMulti.v.push({t:"Objc",v:z})}if(E.EffectInfo){var eZ=Z(E.EffectInfo),y=eZ[2];
if(eZ[0]==1){kz=!0;var z=JSON.parse(kf.px[kf.order.indexOf("FrFX")]);z.Clr.v=t.NX.$J({z:y[0]*255,L:y[1]*255,g:y[2]*255});
z.Sz.v.val=Math.round(eZ[1]);O.frameFXMulti.v.push({t:"Objc",v:z})}}if(E.FilterLayerInfo){M=E.FilterLayerInfo;
X=0;var kM=W(),jV=W();if(jV!=M.length-X)throw"e";var cL={1:"brit",3:"curv",4:"hue2",5:"blnc",6:"nvrt",9:"grdm"}[kM];
if(cL!=null){var h2=fV.IH(cL);C.add[cL]=h2?h2:{};if(cL=="brit")fV.kV["g"+cL](h2,[T(),T(),!0]);if(cL=="hue2")gg.eA(h2,0,[T(),T(),T()]);
if(cL=="curv"){var ea=[],ht=X;for(var $=0;$<32;$++){X=ht+$*130;var jn=q(),gE=[];ea.push(gE);for(var bS=0;
bS<jn;bS++)gE.push(q()/65535,q()/65535)}for(var $=0;$<4;$++){var gE=ea[$],bi=hg.ev(h2,$),cj=bi[0];for(var bS=0;
bS<gE.length;bS+=2){var bb=bi[bS>>>1]=t.b(cj);bb.v.Hrzn.v=Math.round(gE[bS]*255);bb.v.Vrtc.v=Math.round(gE[bS+1]*255)}hg.eA(h2,$,bi)}}if(cL=="grdm"){var c0=h2.Grad.v,cV=[],g_=W();
if(g_!=jV-4)throw g_;var hx=W();if(hx!=16&&hx!=24)throw hx;var au=W();if(au!=28)throw au;var kP=W();
for(var $=0;$<kP;$++){var iK=0,b3=[];for(var bS=0;bS<7;bS++)b3.push(W());cV.push([b3[6]/32768,[b3[1]/4294967295,b3[2]/4294967295,b3[3]/4294967295],b3[4]/4294967295])}t.NX.ex(cV,c0)}if(cL=="blnc"){h2.PrsL.v=W()==1;
for(var $=0;$<3;$++){var fs=h2[["ShdL","MdtL","HghL"][$]].v;for(var bS=0;bS<3;bS++)fs[bS].v=T()}}}else console.log("Unknown adjustment",kM,jV,C.getName())}if(u==1584){C.l4|=16;
C.add.SoCo={classID:"null",Clr:ge};C.j$(N)}else if(u==800){N.U.pop()}else if(E.Folder!=0){C.add.lsct=(E.Folder&16)!=0?gO.dw:gO.A$;
C.Sw="pass";N.U.pop();N.U.push(N.mm());F(k,b,N,E.FirstChildIndex,R+1);N.U.push(C)}else if(u==0||u==1||u==2||u==3){var x=h(k,b,E.RenderMipmap,!0);
if(x){C.S=x[0];C.buffer=x[1];c(C.S,E,"Render","");if(C.S.o()<2e6)C.Wn()}if(E.ResizableOriginalMipmap){var ch=h(k,b,E.ResizableOriginalMipmap,!0),hv=ch[0],g6;
if(hv.o()>4e6)g6=h1.cL.a2K(ch[1].buffer,hv.r,hv.$);else g6=h1.mr("PNG").iL([[ch[1].buffer,0]],hv.r,hv.$);
var ef=N.Xg(new Uint8Array(g6),C.getName(),0,0);C.add.SoLd=ef.add.SoLd;C.buffer=ef.buffer;C.S=ef.S;M=E.ResizableImageInfo;
X=0;var fN=[];for(var $=0;$<10;$++)fN.push(W());var kb=[];for(var $=0;$<7;$++)kb.push(d());for(var $=0;
$<6;$++)fN.push(W());var cn=[];for(var $=0;$<8;$++)cn.push(d());var dF=cn[4];cn[4]=cn[6];cn[6]=dF;dF=cn[5];
cn[5]=cn[7];cn[7]=dF;for(var $=0;$<8;$+=2){cn[$]+=E.OffsetX;cn[$+1]+=E.OffsetY}C.add.SoLd.Trnf=o.fx.qT(cn);
C.add.SoLd.nonAffineTransform=o.fx.qT(cn);if(C.cV()||t.G.Cs(cn).o()<1e8)C.el(N,!1)}if(E.TextLayerType!=null){var et="TextLayerString",bh="TextLayerAttributes",dY=[E[et]],jM=[E[bh]];
if(E[et+"Array"]){M=E[et+"Array"];X=0;while(X<M.length){var jV=j();dY.push(M.slice(X,X+jV));X+=jV}M=E[bh+"Array"];
X=0;while(X<M.length){var jV=j();jM.push(M.slice(X,X+jV));X+=jV}}var bz=C;N.U.pop();for(var hh=0;hh<dY.length;
hh++){var C=bz.Q(),dX=0,i2=0;N.U.push(C);var dM=Q(jM[hh]),iX=dM.runs,aW=dM.fnts,eC=dM.bplg,dh=dM.bbox,ff=dh[2]-dh[0],fE=dh[3]-dh[1];
if(eC){dX=eC[2]-eC[0];i2=eC[3]-eC[1]}var ew=new kp;ew.translate(-ff/2,-fE/2);ew.rotate(Math.atan2(-i2,dX));
ew.translate(ff/2,fE/2);var hW=dh[0]+E.OffsetX,jt=dh[1]+E.OffsetY;ew.translate(hW,jt);C.add.lnsr="rend";
C.add.TySh=f5.c7(0,0);C.add.TySh.hd=new gc(0,0,500,500);C.add.TySh.u=ew;var h3=C.add.TySh.Zj,dl=H.Og(dY[hh]);
C.EC(dl);f5.p7(h3,0,dl);f5.Wu(h3,1);f5.Tf(h3,[0,0,ff,fE]);if(iX)for(var $=0;$<iX.length;$++){var ba=iX[$],b_=ba[0],f8=b_+ba[1],ak=ba[2],jk=f5.TC(h3,b_,f8),i6=N.Qv/72*dM.size/100;
if((ak&512)!=0)i6*=ba[6]/100;jk.cN.FontSize=Math.round(i6);var ge=(ak&256)!=0?ba.slice(3):dM.colr;jk.cN.FillColor={Type:1,Values:[1,ge[0]/65535,ge[1]/65535,ge[2]/65535]};
var k2=ba[7]==""?dM.font:ba[7];if(aW){if(aW[$])k2=aW[$][1];else for(var bS=0;bS<aW.length;bS++)if(aW[bS][0]==k2)k2=aW[bS][1]}f5.fa(jk,k2);
f5.oW(h3,b_,f8,jk)}if(C.S.o()==0)N.hj=!0;else{C.S=new gc(hW,jt,ff,fE);C.buffer=t.j(C.S.o()*4);t.fA(bz.buffer,bz.S,C.buffer,C.S)}}}}var gm=k.VectorObjectList;
if(E.VectorNormalType!=null&&gm&&a(gm,"LayerId",L)){var cu=a(gm,"LayerId",L).VectorData,ek=B(k,cu),i_=g(b,ek);
if(i_){var iP=null;if(C.add.TySh){var iP=C.Q();N.U.push(iP);delete C.add.TySh}D(C,E,i_[0]);if(C.nA()){C.l4|=24;
var ef=N.C0();ef.EC(C.getName());ef.G8=C.G8;N.U.push(ef);D(ef,E,i_[0]);n(ef,i_);ef.j$(N)}else{n(C,i_,iP!=null)}C.j$(N);
if(iP){iP.add.TySh.u.concat(new kp(1,0,0,1,C.S.x+C.S.r/2,C.S.y+C.S.$/2))}}}if(kz)C.add.lmfx=O;if(L==v.CurrentLayer)N.O=[N.U.indexOf(C)];
L=E.NextIndex}}function c(k,b,N,L){k.x+=b[N+"OffscrOffsetX"]+b[L+"OffsetX"];k.y+=b[N+"OffscrOffsetY"]+b[L+"OffsetY"]}function D(k,b,N){k.add.vmsk=new K.JL;
t.G.u(N.d,new kp(1,0,0,1,b.OffsetX,b.OffsetY),N.d);k.add.vmsk.X=t.G.n$(N);k.hg()}function n(k,b,N){var L=b[1][0],R=b[2][0];
k.l4|=16;var i=k.add.vstk=kf.XZ.IH(!0,!0);i.fillEnabled.v=N==!0;k.add.SoCo={classID:"null",Clr:{t:"Objc",v:t.NX.$J({z:255,L:255,g:255})}};
i.strokeStyleContent.v.Clr.v=t.NX.$J({z:L[0],L:L[1],g:L[2]});i.strokeStyleLineWidth.v.val=R*2;i.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return f}();
h1.uB.aCr=function(M,X){var J={eb:M,C8:X+8},d=0;function q(h){var V=H.Z3(h.eb,h.C8);h.C8+=4;return V}function W(h){var V=q(h);
if(V>200)throw V;var I=H.c8(h.eb,h.C8,V);h.C8+=V*2;return I}function T(h){var V=q(h);if(q(h)!=4)throw"e";
var A=[];for(var $=0;$<V;$++)A.push(q(h));return A}var _=H.L$(J.eb,J.C8);J.C8+=8;var m=J.C8+_;J.C8+=56;
var A=[];while(J.C8<m){var p=q(J),a=J.C8+p-4;if(a>m)throw"e";if(p==11){J.C8-=4;var f=W(J),s=q(J);if(s!=12)throw"e";
var j=T(J),Y=W(J),s=q(J);if(s!=12)throw"e";var G=T(J);if(J.C8!=m)throw"e"}else{var Q=W(J),Z=q(J);if(Z!=d)throw Z;
d++;var g=H.uC(J.eb,J.C8);J.C8+=2;if(g!=0&&g!=1&&g!=2&&g!=5)throw g;var S=J.eb[J.C8++];if(S!=0&&S!=32&&S!=64)throw S;
var U=q(J);if(U!=1)throw U;if(q(J)!=1)throw"e";if(J.eb[J.C8++]!=0)throw"e";if(q(J)==1){var B=q(J),e=H.UQ(J.eb,J.C8);
if(B!=e+4)throw"e";A.push(new Uint8Array(J.eb.buffer,J.C8+4,e));J.C8+=B}else A.push(new Uint8Array(0));
var P=W(J);if(J.C8!=a)throw J.C8}}return A};h1.M6={};h1.M6.R8=!0;h1.M6.ss=function(M,X){var J=Date.now(),q=iI.parse(M),W=H.Xv,T=H.MZ,_=q.LtfHeader,m=0,d=W(_,m);
m+=4;if(d!=_.length)throw"e";var A=W(_,m);m+=4;if(A!=4609100)throw"e";var p=W(_,m);m+=4;if(p!=600)throw p;
var a=T(_,m);m+=2;if(a!=2&&a!=4)throw a;var f=T(_,m);m+=2;var s=W(_,m),j=W(_,m+4);m+=8;var Y=W(_,m)/1e4;
m+=8;var p=W(_,m),a=W(_,m+4);m+=8;if(p!=0&&p!=1&&p!=2)throw p;for(var $=0;$<20;$++)if(_[m+$]!=0)throw $;
m+=20;var p=W(_,m);m+=4;if(p!=0&&p!=1)throw p;var G=W(_,m);m+=4;if(G!=0&&G!=1)throw G;for(var $=0;$<476;
$++)if(_[m+$]!=0)throw $;m+=476;var Q=m+104;X.r=s;X.$=j;X.buffer=t.j(s*j*4);var Z=q.LtfMainPalette,g=q.LtfObjectList;
m=0;if(g){var jX=W(g,0);if(W(g,4)!=jX)throw"e";for(var S=0;S<jX;S++){m=8+S*192;var U=m+128;while(g[U]!=0)U+=2;
var B=H.$_(g,m+128,U-(m+128)>>>1);h1.M6.lf(q[B],X,Z)}}var e=X.C0();X.U.push(e);e.EC("Background");if(q.LtfMainImage){var P=h1.M6.gW(q.LtfMainImage,null,Z);
e.buffer=P[0];e.S=P[1]}else{e.S=new gc(0,0,s,j);var h=W(_,Q);h1.M6.abq(e,Z?W(Z,2+h*4):h)}X.U.reverse()};
h1.M6.ayw=function(M){var X="";for(var $=0;$<M.length;$++){var J=""+M[$];while(J.length<3)J=" "+J;X+=J+", "}return X};
h1.M6.lf=function(M,X,J){var q=H.Xv,W=X.C0(),_=0;X.U.push(W);var T=M.ObjectData;if(q(T,0)!=T.length)throw"e";
_+=4;var m=_;while(T[m]!=0)m++;W.EC(H.zb(T,_,m-_));_=m+1;if(m==5){if(T[_]!=0)throw"e";_++}var d=M.ObjectMask0,A=M.PathStream;
if(A&&d==null){var p=W.add.vmsk=new K.JL;p.X=h1.M6.GT(A);W.add.SoCo={classID:"null",Clr:{t:"Objc",v:t.NX.$J({z:T[232],L:T[233],g:T[234]})}};
W.add.vstk=kf.XZ.IH(!0);W.j$(X)}if(d==null)return;W.S=new gc(q(d,0),q(d,4),q(d,8),q(d,12));if(M.ObjectImage){var a=h1.M6.gW(M.ObjectImage,null,J);
W.buffer=a[0]}else h1.M6.abq(W,q(T,188));h1.M6.gW(new Uint8Array(d.buffer,16),W.buffer)};h1.M6.abq=function(M,X){M.buffer=t.j(M.S.o()*4);
t.Tb(M.buffer,255<<24|X)};h1.M6.GT=function(M){var X=H.MZ,J=H.Xv,q=H.eV,_=0;function W(G,Q){var Z=X(G,Q),g=X(G,Q+2);
return g}var T=pako.inflate(M.slice(12));_=128;for(var $=0;$<260;$++)if(T[_+$]!=0)throw $;_+=260;if(J(T,_)!=50)throw"e";
_+=4;if(J(T,_)!=0)throw"e";_+=4;if(J(T,_)!=0)throw"e";_+=4;var m=J(T,_);_+=4;var m=J(T,_);if(m!=106&&m!=186&&m!=196&&m!=236)throw J(T,_);
_+=4;if(J(T,_)!=0)throw"e";_+=4;if(J(T,_)!=24)throw"e";_+=4;if(J(T,_)!=0)throw"e";_+=4;var m=J(T,_);
_+=4;var d=J(T,_);_+=4;if(J(T,_)!=0)throw"e";_+=4;if(J(T,_)!=0)throw"e";_+=4;if(J(T,_)!=1280)throw"e";
_+=4;for(var $=0;$<24;$++)if(T[_+$]!=0)throw $;_+=24;var A=J(T,_);_+=4;if(42+A*10!=d)throw"e";var p=J(T,_);
_+=4;var a=J(T,_);_+=4;var f=[{e:6},{e:8,all:0}];f.push({e:0,length:A,li:0,h8:2,gF:0,Ni:0});for(var $=0;
$<A;$++){var s=W(T,_+2),j=W(T,_+6),Y=new es(s,j);f.push({e:2,vX:Y.Q(),Z:Y,vJ:Y.Q()});_+=10}return f};
h1.M6.gW=function(M,X,J){var q=H.Xv,W=H.Fn,T=h1.M6.ayw,_=0,m=q(M,_),s,j=0,D;_+=4;var d=q(M,_);_+=4;var A=q(M,_);
_+=4;var p=q(M,_);_+=4;var a=q(M,_);_+=4;var f=m*d,Y=M.length;if(f==Y-20)s=new Uint8Array(M.buffer,20+M.byteOffset);
else if(A==64*64*3||X&&A==64*64){var G=h1.mr("jpg"),Q=0,Z=0;s=t.j(m*d);while(_<M.length){var g=q(M,_);
_+=4;var S=G.ss(M.slice(_,_+g))[0],p=S.kq,U=new Uint8Array(S.data),B=X?m:m/3;for(var e=0;e<p.$;e++)for(var P=0;
P<p.r;P++){var h=e*p.r+P,V=(e+Z)*B+(P+Q);if(X)s[V]=U[h*4];else{s[V*3+0]=U[h*4+2];s[V*3+1]=U[h*4+1];s[V*3+2]=U[h*4+0]}}Q+=64;
if(Q>B){Z+=64;Q=0}_+=g}}else{s=t.j(f);for(var h=0;h<f;h+=A){var I=h+A,F=q(M,_);_+=4;while(j<I&&_<Y){var c=M[_];
_++;if(c<128)for(var $=0;$<c+1;$++){s[j++]=M[_++];if(X)continue;s[j++]=M[_++];s[j++]=M[_++]}else{c-=127;
for(var $=0;$<c;$++){s[j++]=M[_+0];if(X)continue;s[j++]=M[_+1];s[j++]=M[_+2]}_+=X?1:3}}}}if(X){for(var $=0;
$<f;$++)X[$*4+3]=s[$];return[s,new gc(0,0,m,d)]}if(J){D=t.j(f*4);for(var $=0;$<f;$++){var n=$<<2,A=2+s[$]*4;
D[n]=J[A];D[n+1]=J[A+1];D[n+2]=J[A+2];D[n+3]=255}}else{m=Math.round(m/3);f=m*d;D=t.j(f*4);for(var $=0;
$<f;$++){var V=$*3,n=$<<2;D[n]=s[V];D[n+1]=s[V+1];D[n+2]=s[V+2];D[n+3]=255}}return[D,new gc(0,0,m,d)]};
h1.agv={};h1.agv.ss=function(M){var X=new Uint8Array(M),J=H.UQ,_=16;if(H.zb(X,0,4)!="chlv")throw"e";
var q=J(X,4),W=J(X,8),T=J(X,12),m=[];while(_<X.length){var d=J(X,_),A=J(X,_+48),p=J(X,_+52),a=A*p,f=A*4,s=t.j(A*p*4);
s.fill(255);for(var j=0;j<p;j++)for(var Y=0;Y<A;Y+=4){var $=j*A+Y,G=$*4,Q=_+108+($>>>2)*6;s[G]=X[Q+1];
s[G+4]=X[Q+3];s[G+8]=X[Q+4];s[G+12]=X[Q+5];for(var Z=0;Z<16;Z+=4){s[G+Z+1]=X[Q+0];s[G+Z+2]=X[Q+2]}}var g=new Int8Array(s.buffer),S=new Uint8ClampedArray(s.buffer);
for(var j=0;j<p;j++)for(var Y=0;Y<A;Y++){var $=(j*A+Y)*4,U=s[$],B=g[$+1],e=g[$+2],P=U+(45*e>>5),h=U-(11*B+23*e>>5),V=U+(113*B>>6);
S[$]=P;S[$+1]=h;S[$+2]=V}_+=d+4;m.push({kq:new gc(0,0,A,p),data:s.buffer,yS:"_a_"+m.length})}return m};
var aq={};aq.zw=!1;aq.asj=!1;aq.rU=!1;aq.kX=document.createElement("canvas");aq.qt=null;aq.mJ=null;aq.Xt=0;
(function(){var M={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},X;if(!X)X=aq.kX.getContext("webgl2",M);
if(X){aq.zw=!0;aq.asj=!0;aq.qt=X;aq.mJ=X.createFramebuffer();X.bindFramebuffer(X.FRAMEBUFFER,aq.mJ);
X.disable(X.BLEND);X.disable(X.DEPTH_TEST);var J=X.createBuffer();X.bindBuffer(X.ARRAY_BUFFER,J);X.bufferData(X.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),X.STATIC_DRAW);
X.enableVertexAttribArray(0);X.vertexAttribPointer(0,2,X.FLOAT,!1,0,0)}}());aq.aH3=function(M){M=M.replace(/\s\s+/g," ");
M=M.replace(/; /g,";");M=M.replace(/} /g,"}");M=M.replace(/ }/g,"}");M=M.replace(/{ /g,"{");M=M.replace(/ {/g,"{");
M=M.replace(/= /g,"=");M=M.replace(/ =/g,"=");M=M.replace(/\| /g,"|");M=M.replace(/ \|/g,"|");return M};
aq.h4=function(M,X){var J=aq.qt;if(M>J.getParameter(J.MAX_TEXTURE_SIZE)){aq.zw=!1;alert("Too big texture ("+M+" px), Disabling WebGL")}if(X==16&&J.getExtension("EXT_texture_norm16")==null){aq.zw=!1;
alert("EXT_texture_norm16 missing, Disabling WebGL")}};aq.gs=function(M,X){return new Float32Array([(M.x-X.x)/X.r,(M.y-X.y)/X.$,M.r/X.r,M.$/X.$])};
aq.mt=function(){return this.kX};aq.O$=function(M,X){var J=aq.qt;J.bindFramebuffer(J.FRAMEBUFFER,aq.mJ);
J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,M.SX,0);J.viewport(0,0,M.r,M.$);
if(X){J.enable(J.SCISSOR_TEST);J.scissor(X.x,X.y,X.r,X.$)}else J.disable(J.SCISSOR_TEST)};aq.anq=function(M,X,J){if(J)throw"error";
var q=aq.qt;q.disable(q.SCISSOR_TEST);q.bindFramebuffer(q.FRAMEBUFFER,null);q.viewport(0,0,M,X);if(J){q.enable(q.SCISSOR_TEST);
q.scissor(J.x,J.y,Math.round(J.r),Math.round(J.$))}else q.disable(q.SCISSOR_TEST)};aq.aF=function(){var M=aq.qt;
M.colorMask(!1,!1,!1,!0);aq.Cb(255<<24);M.colorMask(!0,!0,!0,!0)};aq.Cb=function(M){var X=aq.qt,J=(M>>>0&255)*(1/255),q=(M>>>8&255)*(1/255),W=(M>>>16&255)*(1/255),T=(M>>>24&255)*(1/255);
X.clearColor(J,q,W,T);X.clear(X.COLOR_BUFFER_BIT)};aq.yR=function(M,X,J,q,W){var T=X.Lg(q);if(W)T=T.Lg(W);
if(T.M5())return;var _=aq.qt;aq.O$(M);_.bindTexture(_.TEXTURE_2D,J.SX);_.copyTexSubImage2D(_.TEXTURE_2D,0,T.x-q.x,T.y-q.y,T.x-X.x,T.y-X.y,T.r,T.$)};
aq.hu=function($,M,X,J){if(J==null)J=8;var q=aq.as4[$];if(q==null||q.r!=M||q.$!=X||q.depth!=J){if(q)q.delete();
q=new aq.Uy(M,X,J)}aq.as4[$]=q;return q};aq.as4=[];aq.gz=function(){this.tA=null;this.sB=null};aq.gz.QG=null;
aq.gz.prototype._W=function(M){if(this.sB)return;this.sB={};var X=aq.qt,J=this.tA,q=this.sB;for(var $=0;
$<M.length;$++){var W=M[$];q[W]=X.getUniformLocation(J,W)}};aq.gz.prototype.tI=function(){};aq.gz.prototype.Ul=function(M){var X=aq.qt;
for(var $=0;$<M.length;$+=2){X.uniform1i(M[$],$>>>1);X.activeTexture(X["TEXTURE"+($>>>1)]);X.bindTexture(X.TEXTURE_2D,M[$+1])}X.activeTexture(X.TEXTURE0)};
aq.gz.prototype.RH=function(M,X){var J=aq.qt,q=J.createShader(J.FRAGMENT_SHADER);J.shaderSource(q,M);
J.compileShader(q);if(!J.getShaderParameter(q,J.COMPILE_STATUS))console.log(J.getShaderInfoLog(q));var W=J.createShader(J.VERTEX_SHADER);
J.shaderSource(W,X);J.compileShader(W);if(!J.getShaderParameter(W,J.COMPILE_STATUS))console.log(J.getShaderInfoLog(W));
var T=J.createProgram();J.attachShader(T,W);J.attachShader(T,q);J.linkProgram(T);if(!J.getProgramParameter(T,J.LINK_STATUS))console.log("Could not initialise shaders");
this.tA=T};aq.gz.prototype.s1=function(){if(aq.gz.QG!=this){aq.qt.useProgram(this.tA);aq.gz.QG=this}};
aq.q5=function(M,X,J){aq.Bk++;aq.Xt+=M*X;if(aq.rU)console.log("GL.Channels instances: "+aq.Bk+", memory: "+aq.Xt);
var q=aq.qt;this.r=M;this.$=X;if(J==null)J=8;if(J==16){q.getExtension("EXT_texture_norm16")}this.depth=J;
this.I1=J==8?q.R8:J==16?33322:q.R32F;this.iD=J==8?q.RED:J==16?q.RED:q.RED;this.nt=J==8?q.UNSIGNED_BYTE:J==16?q.UNSIGNED_SHORT:q.FLOAT;
this.SX=q.createTexture();this.cR=null;this.nW(this.SX,M,X)};aq.q5.prototype.nW=function(M,X,J){var q=aq.qt;
q.bindTexture(q.TEXTURE_2D,M);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.NEAREST);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.NEAREST);
q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE);
q.texImage2D(q.TEXTURE_2D,0,this.I1,X,J,0,this.iD,this.nt,null)};aq.q5.prototype.set=function(M,X){var J=aq.qt;
J.bindTexture(J.TEXTURE_2D,this.SX);J.pixelStorei(J.UNPACK_ALIGNMENT,1);var q=this.r*this.$;if(X==null||X.o()*10>q)J.texImage2D(J.TEXTURE_2D,0,this.I1,this.r,this.$,0,this.iD,this.nt,M);
else{var W=new gc(0,0,this.r,this.$),T=t.j(X.o(),this.depth);t.Rc(M,W,T,X);J.texSubImage2D(J.TEXTURE_2D,0,X.x,X.y,X.r,X.$,this.iD,this.nt,T)}J.pixelStorei(J.UNPACK_ALIGNMENT,4)};
aq.q5.prototype.delete=function(){var M=aq.qt;if(this.SX){M.deleteTexture(this.SX);aq.Bk--;aq.Xt-=this.r*this.$}if(aq.rU)if(aq.rU)console.log("GL.Channels instances: "+aq.Bk+", memory: "+aq.Xt*4)};
aq.Bk=0;aq.Uy=function(M,X,J,q){if(J==null)J=8;if(q==null)q=!1;aq.Bk++;aq.Xt+=M*X*4;if(aq.rU)console.log("GL.Channels instances: "+aq.Bk+", memory: "+aq.Xt);
var W=aq.qt;if(J==16){W.getExtension("EXT_texture_norm16")}if(J==32){W.getExtension("EXT_color_buffer_float");
if(W.getExtension("OES_texture_float_linear")==null)q=!1}this.aft=q;this.r=M;this.$=X;this.depth=J;this.I1=J==8?W.RGBA:J==16?32859:J==32?W.RGBA32F:W.RGBA16F;
this.iD=J==8?W.RGBA:J==16?W.RGBA:W.RGBA;this.nt=J==8?W.UNSIGNED_BYTE:J==16?W.UNSIGNED_SHORT:W.FLOAT;
this.SX=W.createTexture();this.cR=null;this.nW(this.SX,M,X)};aq.Vi=function(){var M=aq.qt;return M.getExtension("OES_texture_float_linear")?32:33};
aq.Uy.prototype.set=function(M,X){var J=aq.qt;J.disable(J.SCISSOR_TEST);J.bindTexture(J.TEXTURE_2D,this.SX);
if(M==null||M instanceof Uint8Array||M instanceof Uint16Array||M instanceof Float32Array){var q=this.r,W=this.$,T=q*W;
if((X==null||X.o()*10>T)&&(M==null||M.length>=T*4))J.texImage2D(J.TEXTURE_2D,0,this.I1,q,W,0,this.iD,this.nt,M);
else{var _=M;if(M.length==T*4){var _=t.j(X.o()*4,this.depth);t.fA(M,new gc(0,0,q,W),_,X)}J.texSubImage2D(J.TEXTURE_2D,0,X.x,X.y,X.r,X.$,this.iD,this.nt,_)}}else J.texImage2D(J.TEXTURE_2D,0,this.I1,this.iD,this.nt,M)};
aq.Uy.prototype.get=function(M){var X=aq.qt;aq.O$(this);X.readPixels(0,0,this.r,this.$,this.iD,this.nt,M)};
aq.Uy.prototype.YB=function(M){if(M.M5())return;var X=aq.qt;if(this.cR==null){this.cR=X.createTexture();
this.nW(this.cR,this.r,this.$);aq.Bk++;aq.Xt+=this.r*this.$*4}X.bindFramebuffer(X.FRAMEBUFFER,aq.mJ);
X.bindTexture(X.TEXTURE_2D,this.cR);if(M){var J=Math.max(M.x,0),q=Math.max(M.y,0);X.copyTexSubImage2D(X.TEXTURE_2D,0,J,q,J,q,M.r,M.$)}else X.copyTexImage2D(X.TEXTURE_2D,0,this.iD,0,0,this.r,this.$,0)};
aq.Uy.prototype.nW=function(M,X,J){var q=aq.qt;q.bindTexture(q.TEXTURE_2D,M);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,this.aft?q.LINEAR:q.NEAREST);
q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.NEAREST);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE);
q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE);q.texImage2D(q.TEXTURE_2D,0,this.I1,X,J,0,this.iD,this.nt,null)};
aq.Uy.prototype.delete=function(){var M=aq.qt;if(this.SX){M.deleteTexture(this.SX);aq.Bk--;aq.Xt-=this.r*this.$*4}if(this.cR){M.deleteTexture(this.cR);
aq.Bk--;aq.Xt-=this.r*this.$*4}if(aq.rU)if(aq.rU)console.log("GL.Channels instances: "+aq.Bk+", memory: "+aq.Xt)};
aq.Uy.prototype.Q=function(){var M=aq.qt,X=new aq.Uy(this.r,this.$);aq.O$(this);M.bindTexture(M.TEXTURE_2D,X.SX);
M.copyTexImage2D(M.TEXTURE_2D,0,this.iD,0,0,this.r,this.$,0);return X};aq.y9={ay_:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",auD:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",A5:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",m6:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",aeF:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",iP:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",Jp:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",IW:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",aFB:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",oD:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",aFA:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",Du:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",amn:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",MT:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",Io:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",Gu:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",G7:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",HQ:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",KX:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",adr:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",aye:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",e1:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",aEL:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R);  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, (ir    + fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, (ir+1.0+ fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,clamp(R-ir,0.0,1.0));  \t\t\t\treturn rs;  \t\t\t}"};
aq.v={};aq.v.wP={};aq.v.a7j=null;aq.v.Mz=null;aq.v.TE=null;aq.v.auO=function(M,X,J,q,W,T,_,m){if(m==null)m=hA.ah();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(M)==-1){_=_*m.fill;m.fill=1;m.style=!1}var d=M+(m.yl?"1":"");
if(aq.v.wP[d]==null)aq.v.wP[d]=new aq.v.Se(M,m.yl!=null);var A=aq.v.wP[d],p=J.Lg(W).Lg(T);p.offset(-W.x,-W.y);
if(p.M5())return;var a=aq.qt;aq.O$(q,p);q.YB(p);A.s1();A.tI(X.SX,q.cR,aq.gs(J,W),_,m.fill,m.style?1:0,m.SL?1:0,m.yl?new Float32Array(m.yl):null);
a.drawArrays(a.TRIANGLES,0,6)};aq.v.yb=function(M,X,J,q,W,T,_,m,d,A,p){if(aq.v.a0F==null)aq.v.a0F=new aq.v.gc(!0,!0,1);
if(aq.v.arV==null)aq.v.arV=new aq.v.gc(!0,!0,4);if(aq.v.Mz==null)aq.v.Mz=new aq.v.gc(!0,!1,1);if(aq.v.TE==null)aq.v.TE=new aq.v.gc(!1,!0,1);
var a=A?1:0,f=M?W?W instanceof aq.q5?aq.v.a0F:aq.v.arV:aq.v.Mz:aq.v.TE,s=new Float32Array(p?[p[0],p[1],p[2],1]:[1,1,1,1]),j=X?X.Lg(q).Lg(m):q.Lg(m);
if(j.M5())return;j.offset(-q.x,-q.y);var Y=aq.qt;aq.O$(J,j);J.YB(j);f.s1();if(M==null)f.tI(null,J.cR,W.SX,aq.gs(q,q),aq.gs(T,q),_/255,d,a,s);
else if(W)f.tI(M.SX,J.cR,W.SX,aq.gs(X,q),aq.gs(T,q),_/255,d,a,s);else f.tI(M.SX,J.cR,null,aq.gs(X,q),null,_/255,d,a,s);
Y.drawArrays(Y.TRIANGLES,0,6)};aq.v.ai8=function(M,X,J){if(aq.v.alu==null)aq.v.alu=new aq.v.pH;var q=aq.v.alu,W=new gc(0,0,M.r,M.$),T=aq.qt;
aq.O$(X);X.YB(W);q.s1();q.tI(W,M.SX,X.cR,J.SX);T.drawArrays(T.TRIANGLES,0,6)};aq.v.uY={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
aq.v.Se=function(M,X){aq.gz.call(this);var J="\t\t\tprecision highp float;\t\t\t"+aq.y9.A5+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(X?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+aq.y9.iP+"\t\t\t"+aq.y9.Jp+"\t\t\t"+aq.y9.IW+"\t\t\t"+aq.y9.ay_+"\t\t\t"+aq.y9.auD+"\t\t\t"+aq.y9.aFB+"\t\t\t"+aq.y9.oD+"\t\t\t"+aq.y9.aFA+"\t\t\t"+aq.y9.Du+"\t\t\t"+aq.y9.hash+"\t\t\t"+(X?aq.y9.e1:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+aq.v.uY[M]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",q="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(M=="diss")J+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else J+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(X?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.RH(J,q)};aq.v.Se.prototype=new aq.gz;aq.v.Se.prototype.tI=function(M,X,J,q,W,T,_,m){this._W("srct alpha source target fill style keepBGA blIf".split(" "));
var d=aq.qt,A=this.sB;d.uniform4fv(A.srct,J);d.uniform1f(A.alpha,q);d.uniform1f(A.fill,W);d.uniform1f(A.style,T);
d.uniform1f(A.keepBGA,_);if(m)d.uniform4fv(A.blIf,m);this.Ul([A.source,M,A.target,X])};aq.v.gc=function(M,X,J){aq.gz.call(this);
this.aEA=M;this.t0=X;var q="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+aq.y9.amn+"\t\t\t"+aq.y9.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(M?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(X?"* (in01(wCoord) ? texture2D(weight, wCoord)."+(J==1?"r":"a")+" : wcolor)":"")+";\t\t\t\t"+(M?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( ao==0.0 ? vec3(0,0,0) : (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(X?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",W="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.RH(q,W)};aq.v.gc.prototype=new aq.gz;aq.v.gc.prototype.tI=function(M,X,J,q,W,T,_,m,d){if(this.t0)this._W("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this._W("srct awg dissv source target cswitch".split(" "));var A=aq.qt,p=this.sB;A.uniform4fv(p.srct,q);
if(this.t0){A.uniform4fv(p.wrct,W);A.uniform1f(p.wcolor,T)}else{A.uniform4fv(p.cswitch,d)}A.uniform1f(p.awg,_);
A.uniform1f(p.dissv,m);var a=[p.source,M,p.target,X];if(this.t0)a.push(p.weight,J);this.Ul(a)};aq.v.pH=function(){aq.gz.call(this);
var M="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).r; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",X="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.RH(M,X)};aq.v.pH.prototype=new aq.gz;aq.v.pH.prototype.tI=function(M,X,J,q){this._W(["rct","prev","next","alpha"]);
var W=aq.qt,T=this.sB;W.uniform4fv(T.rct,[0,0,1,1]);this.Ul([T.prev,X,T.next,J,T.alpha,q])};aq.T$={xA:{},o1:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
aq.T$.te=function(M,X){var J=ia.OJ,q=[J.Ac,J.vU,J.Px,J.ZW,J.U$,J._o,J.n9,J.Dj].indexOf(M.e),W=aq.T$.xA[M.e];
if(W==null)W=aq.T$.xA[M.e]=new aq.xA[q];W.s1();W.tI(X,M);aq.qt.drawArrays(aq.qt.TRIANGLES,0,6)};aq.xA=[];
aq.xA[0]=function(){aq.gz.call(this);this.a6C={};var M="\t\t\tprecision highp float;\t\t\t"+aq.y9.Jp+"\t\t\t"+aq.y9.A5+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2((0.5/256.0)+src.r*(255.0/256.0), 0)).r;\t\t\t\tfloat g = texture2D(map, vec2((0.5/256.0)+src.g*(255.0/256.0), 0)).g;\t\t\t\tfloat b = texture2D(map, vec2((0.5/256.0)+src.b*(255.0/256.0), 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.RH(M,aq.T$.o1)};aq.xA[0].prototype=new aq.gz;aq.xA[0].prototype.tI=function(M,X){var J={z:X.n8,L:X.OO,g:X.VC,Jm:new Float32Array(X.n8.length)};
J.Jm.fill(1);var q=J.z.length,W=this.a6C["m"+q];if(W==null)W=this.a6C["m"+q]={aio:new aq.Uy(q,1,aq.Vi()),hT:t.j(q*4,32)};
t.Uq(J,W.hT);var T=W.aio;T.set(W.hT);this._W(["source","map","toGray","presLum"]);var _=aq.qt,m=this.sB;
_.uniform1f(m.toGray,X.N8?1:0);_.uniform1f(m.presLum,X.p3?1:0);this.Ul([m.source,M,m.map,T.SX]);_.activeTexture(_.TEXTURE1);
var d=_.LINEAR;_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,d);_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,d);
_.activeTexture(_.TEXTURE0)};aq.xA[1]=function(){aq.gz.call(this);this.vL=new aq.Uy(256,1,32);this.aIY=t.j(256*4,32);
var M="\t\t\t\tprecision mediump float;\t\t\t\t"+aq.y9.Gu+"\t\t\t\t"+aq.y9.MT+"\t\t\t\t"+aq.y9.Io+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g; \t\t\t\t\tfloat lc = mapv.b; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.RH(M,aq.T$.o1)};aq.xA[1].prototype=new aq.gz;aq.xA[1].prototype.tI=function(M,X){t.Uq({z:X.aca,L:X.ei,g:X.ar8,Jm:t.j(256,t.qP(X.ei))},this.aIY);
this.vL.set(this.aIY);this._W(["source","map","cfa","cfb","colorize"]);var J=aq.qt,q=this.sB;J.uniform1f(q.cfa,X.aom);
J.uniform1f(q.cfb,X.UB);J.uniform1i(q.colorize,X.ahQ);this.Ul([q.source,M,q.map,this.vL.SX])};aq.xA[2]=function(){aq.gz.call(this);
var M="\t\t\tprecision mediump float;\t\t\t"+aq.y9.Gu+"\t\t\t"+aq.y9.G7+"\t\t\t"+aq.y9.HQ+"\t\t\t"+aq.y9.MT+"\t\t\t"+aq.y9.Io+"\t\t\t"+aq.y9.adr+"\t\t\t"+aq.y9.aye+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.RH(M,aq.T$.o1)};aq.xA[2].prototype=new aq.gz;aq.xA[2].prototype.tI=function(M,X){this._W(["source","vib","sat","yF"]);
var J=aq.qt,q=this.sB;J.uniform1f(q.vib,X.iw[0]);J.uniform1f(q.sat,X.iw[1]);J.uniform3fv(q.yF,new Float32Array([X.iw[2],X.iw[3],X.iw[3]]));
this.Ul([q.source,M])};aq.xA[3]=function(){aq.gz.call(this);var M="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.RH(M,aq.T$.o1)};aq.xA[3].prototype=new aq.gz;aq.xA[3].prototype.tI=function(M,X){this._W(["source","trf"]);
var J=aq.qt,q=this.sB;J.uniformMatrix4fv(q.trf,!1,new Float32Array(t.XS.jJ(X.FB)));this.Ul([q.source,M])};
aq.xA[4]=function(){aq.gz.call(this);var M="\t\t\tprecision mediump float; \t\t\t"+aq.y9.KX+"\t\t\t"+aq.y9.Gu+"\t\t\t"+aq.y9.Io+"\t\t\t"+aq.y9.MT+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.RH(M,aq.T$.o1)};aq.xA[4].prototype=new aq.gz;aq.xA[4].prototype.tI=function(M,X){this._W(["source","mnm","mxm","shift","lim"]);
var J=aq.qt,q=this.sB;J.uniform3fv(q.mnm,new Float32Array(X.um));J.uniform3fv(q.mxm,new Float32Array(X.N9));
J.uniform3fv(q.shift,new Float32Array(X.shift));J.uniform1f(q.lim,X.k9);this.Ul([q.source,M])};aq.xA[5]=function(){aq.gz.call(this);
var M="\t\t\tprecision mediump float;\t\t\t"+aq.y9.A5+"\t\t\t"+aq.y9.m6+"\t\t\t"+aq.y9.aeF+"\t\t\t"+aq.y9.MT+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.RH(M,aq.T$.o1)};aq.xA[5].prototype=new aq.gz;aq.xA[5].prototype.tI=function(M,X){this._W(["source","cfs"]);
var J=aq.qt,q=this.sB;J.uniform3fv(q.cfs,X.a81);this.Ul([q.source,M])};aq.xA[6]=function(){aq.gz.call(this);
var M="\t\t\tprecision mediump float;\t\t\t"+aq.y9.Gu+"\t\t\t"+aq.y9.m6+"\t\t\t"+aq.y9.aeF+"\t\t\t"+aq.y9.MT+"\t\t\t"+aq.y9.Io+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.RH(M,aq.T$.o1)};aq.xA[6].prototype=new aq.gz;aq.xA[6].prototype.tI=function(M,X){this._W(["source","wght","prms"]);
var J=aq.qt,q=this.sB,W=[X.kF,X.avN,X.Jp,X.aHh,X.Wr,X.agK];J.uniform1fv(q.wght,new Float32Array(X.a6s));
J.uniform1fv(q.prms,new Float32Array(W));this.Ul([q.source,M])};aq.xA[7]=function(){aq.gz.call(this);
this.K4={};var M="\t\t\tprecision mediump float;\t\t\t"+aq.y9.aEL+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.RH(M,aq.T$.o1)};aq.xA[7].prototype=new aq.gz;aq.xA[7].prototype.tI=function(M,X){this._W(["source","lut","N"]);
var J=aq.qt,q=this.sB,W=X.fu,T=X.b3;if(this.K4["m"+W]==null)this.K4["m"+W]=new aq.Uy(W,W*W,aq.Vi());
var _=this.K4["m"+W];_.set(T);J.uniform1f(q.N,W);this.Ul([q.source,M,q.lut,_.SX]);J.activeTexture(J.TEXTURE1);
var m=J.LINEAR;J.texParameteri(J.TEXTURE_2D,J.TEXTURE_MIN_FILTER,m);J.texParameteri(J.TEXTURE_2D,J.TEXTURE_MAG_FILTER,m);
J.activeTexture(J.TEXTURE0)};aq.filter={s5:{},o1:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",afZ:0,aDB:1,PN:2,avL:8,ahp:3,aoL:4,ayG:5,M0:6,apP:7};
aq.filter.te=function(M,X){var J=aq.filter,q,W=M.e+":"+(M.f4?M.f4.join(","):""),q=aq.filter.s5[W];if(q==null)q=aq.filter.s5[W]=new aq.s5[M.e](M.f4);
q.s1();q.tI(X,M);aq.qt.drawArrays(aq.qt.TRIANGLES,0,6)};aq.s5=[0,0,0,0,0,0,0,0,0,0,0,0];aq.s5[7]=function(){aq.gz.call(this);
var M="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.RH(kl.Q_(M),kl.Q_(aq.filter.o1))};aq.s5[7].prototype=new aq.gz;aq.s5[7].prototype.tI=function(M,X){this._W(["source","iwh","kern"]);
var J=aq.qt,q=this.sB;J.uniform2fv(q.iwh,X.LU);J.uniform1fv(q.kern,X.aud);this.Ul([q.source,M])};aq.s5[6]=function(M){aq.gz.call(this);
var X=M[0],J=M[1],q=M[2],W="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",T=kl.Q_(W);
T=T.replaceAll("PRC",q+".0");T=T.replaceAll("DIR",["x,0","0,x"][J]);this.RH(T,aq.T$.o1)};aq.s5[6].prototype=new aq.gz;
aq.s5[6].prototype.tI=function(M,X){this._W(["source","iwh","rad"]);var J=aq.qt,q=this.sB;J.uniform2fv(q.iwh,X.LU);
J.uniform1f(q.rad,X.a4);this.Ul([q.source,M])};aq.s5[4]=function(M){aq.gz.call(this);var X=M[0],J=M[1],q="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+M[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][J]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][X]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][J]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(J==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.RH(q,aq.T$.o1)};aq.s5[4].prototype=new aq.gz;aq.s5[4].prototype.tI=function(M,X){this._W(["source","iwh","rrad","tr"]);
var J=aq.qt,q=this.sB;J.uniform2fv(q.iwh,X.LU);J.uniform1f(q.rrad,X.K7);J.uniform1f(q.tr,X.aEx);this.Ul([q.source,M]);
var W=J.LINEAR;W=J.NEAREST;J.activeTexture(J.TEXTURE0);J.texParameteri(J.TEXTURE_2D,J.TEXTURE_MIN_FILTER,W);
J.texParameteri(J.TEXTURE_2D,J.TEXTURE_MAG_FILTER,W);J.activeTexture(J.TEXTURE0)};aq.s5[5]=function(){aq.gz.call(this);
var M="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.RH(kl.Q_(M),kl.Q_(aq.filter.o1))};aq.s5[5].prototype=new aq.gz;aq.s5[5].prototype.tI=function(M,X){this._W(["source","ssum","iwh","amnt","edgf"]);
var J=aq.qt,q=this.sB;J.uniform2fv(q.iwh,X.LU);J.uniform1f(q.amnt,X.aqb);J.uniform1f(q.edgf,X.agC);this.Ul([q.source,M,q.ssum,X.a13])};
aq.s5[3]=function(){aq.gz.call(this);var M="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.RH(kl.Q_(M),kl.Q_(aq.filter.o1))};aq.s5[3].prototype=new aq.gz;aq.s5[3].prototype.tI=function(M,X){this._W("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var J=aq.qt,q=this.sB;J.uniform2fv(q.iwh,X.LU);J.uniform1f(q.tdep,X.aay);J.uniform1f(q.rrad,X.K7);J.uniform2fv(q.spec,X.arL);
J.uniform3fv(q.nois,X.aFX);J.uniformMatrix4fv(q.poly0,!1,X.ajY);J.uniformMatrix4fv(q.poly1,!1,X.a7_);
this.Ul([q.source,M]);var W=J.LINEAR;J.activeTexture(J.TEXTURE0);J.texParameteri(J.TEXTURE_2D,J.TEXTURE_MIN_FILTER,W);
J.texParameteri(J.TEXTURE_2D,J.TEXTURE_MAG_FILTER,W);J.activeTexture(J.TEXTURE0)};aq.s5[0]=function(){aq.gz.call(this);
var M="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.RH(kl.Q_(M),kl.Q_(aq.filter.o1))};aq.s5[0].prototype=new aq.gz;aq.s5[0].prototype.tI=function(M,X){this._W(["source","iwh","ld","shine"]);
var J=aq.qt,q=this.sB;J.uniform2fv(q.iwh,X.LU);J.uniform3fv(q.ld,X.awC);J.uniform1f(q.shine,X.aeE);this.Ul([q.source,M,q.tang,X.g6])};
aq.s5[1]=function(){aq.gz.call(this);var M="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.RH(kl.Q_(M),kl.Q_(aq.filter.o1))};aq.s5[1].prototype=new aq.gz;aq.s5[1].prototype.tI=function(M,X){this._W(["source","iwh","isc","bristle"]);
var J=aq.qt,q=this.sB;J.uniform2fv(q.iwh,X.LU);J.uniform1f(q.isc,X.aIn);J.uniform1f(q.bristle,X.aAp);
this.Ul([q.source,M])};aq.s5[2]=function(){aq.gz.call(this);var M="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.RH(kl.Q_(M),kl.Q_(aq.filter.o1))};aq.s5[2].prototype=new aq.gz;aq.s5[2].prototype.tI=function(M,X){this._W(["source","tang","iwh","sigma","expo"]);
var J=aq.qt,q=this.sB;J.uniform2fv(q.iwh,X.LU);J.uniform1f(q.sigma,X.J6);J.uniform1f(q.expo,X.lT);this.Ul([q.source,M,q.tang,X.g6]);
var W=J.LINEAR;J.activeTexture(J.TEXTURE0);J.texParameteri(J.TEXTURE_2D,J.TEXTURE_MIN_FILTER,W);J.texParameteri(J.TEXTURE_2D,J.TEXTURE_MAG_FILTER,W);
J.activeTexture(J.TEXTURE0)};aq.s5[8]=function(){aq.gz.call(this);var M="n\\[KFIPCFBP;0,.7,,8{~~m}A#ukc]cc[j[FOOH>HdsL=693! R4'|tnttl{lW``YOYu%]O9C9iK>4,&,,$3'rm9$juc3tg]UOUUM\\@CC2BJ;.),|S5)p~#oqg|p\\W#m^+TQQ@sUI?6.F1\"')?+!wo1%}~beeTdlR^!TGBE6\\B503$Z< ##q\"*z{!;z)#\"*k_KFs\\MLAPjJ<*:31+zDS4|uxr`_#sd1ZWWFgvXL83`I;%@Z:,y*#!zj4C$mWaWxiZ'PMM<]lNB.)T?#*6P0?87.)r\\&mk{bNItglgk_`[_PM\\>2}xD/p)C#fm5vZ``rQSV^EuemO6eX^@'EB=1*+~je1{iu0o`-VSSBuW;AAS/22!19)P@;:B$s:-(%\"|{$eUjgbVOPD0+VA, 8R2A:90+tbrkicS|,lV@J@aR@UW?=M4 zF9>9=12-1\"~.oVPnHPRbE9]3TdUPOE923}qG4qe9zutVn)hSGz\\JV^mM8,N+6$S5&%y)1@ q_ohf`Py)iRKNH65XI7L[=./?<I+qk*q:6^jxlLYIBIuWRQ3hU,3Z<76z|lPyehAjdddn)hYXMfaga`\\>?M\\>9";
this.RH(kl._Y(M),kl.Q_(aq.filter.o1))};aq.s5[8].prototype=new aq.gz;aq.s5[8].prototype.tI=function(M,X){this._W(["source","tang","iwh","sigma"]);
var J=aq.qt,q=this.sB;J.uniform2fv(q.iwh,X.LU);J.uniform1f(q.sigma,X.J6);this.Ul([q.source,M,q.tang,X.g6]);
var W=J.LINEAR;J.activeTexture(J.TEXTURE0);J.texParameteri(J.TEXTURE_2D,J.TEXTURE_MIN_FILTER,W);J.texParameteri(J.TEXTURE_2D,J.TEXTURE_MAG_FILTER,W);
J.activeTexture(J.TEXTURE0)};function t(){}t.B={};t.a3Y={};t.b=function(M){return JSON.parse(JSON.stringify(M))};
t.qP=function(M){if(M instanceof aq.Uy)return M.depth;return M instanceof Float32Array?32:M instanceof Uint16Array?16:8};
t.P0=function(M){return M==8?255:M==16?65535:1};t.cY=function(M,X,J){var q=t.qP(M),W=M.length;if(q==X)return M;
if(J==null)J=t.j(W,X);if(X==8){if(q==16)for(var $=0;$<W;$++)J[$]=M[$]>>>8;if(q==32)for(var $=0;$<W;$++)J[$]=~~(.5+255*M[$])}else if(X==16){if(q==8)for(var $=0;
$<W;$++)J[$]=M[$]<<8|M[$];if(q==32)for(var $=0;$<W;$++)J[$]=65535*M[$]}else if(X==32){if(q==8)for(var $=0;
$<W;$++)J[$]=M[$]*(1/255);if(q==16)for(var $=0;$<W;$++)J[$]=M[$]*(1/65535)}return J};t.ahm=function(M,X){for(var $=0;
$<M.length;$+=2)M[$]=t.cY(M[$],X)};t.a3G=function(){var M=[64,64,128,256,512,1024,2048],X=[];for(var $=0;
$<M.length;$++){var J=M[$],q=document.createElement("canvas");q.width=J;q.height=J;X.push(q.getContext("2d",{willReadFrequently:!0}))}return X}();
t.mt=function(M,X){var J,q=t.a3G,$=1,W=Math.max(M,X);while($<q.length&&W>q[$].canvas.width)$++;if($==q.length){J=q[0];
var T=J.canvas;T.width=M;T.height=X}else{J=q[$];J.clearRect(0,0,M,X)}return J};t.$M=function(M,X,J,q){if(q==null)q=new Uint32Array(X*J);
q[0]=M[0];for(var W=1;W<X;W++)q[W]=q[W-1]+M[W];for(var T=1;T<J;T++){var $=T*X;q[$]=q[$-X]+M[$];for(var W=1;
W<X;W++)q[$+W]=M[$+W]+q[$+W-1]+q[$+W-X]-q[$+W-X-1]}return q};t.qF=function(M,X,J,q,W,T){var _=(W-1)*X,m=T*X;
return M[m+q]-M[m+J-1]-M[_+q]+M[_+J-1]};t.a4_=function(M,X,J,q){var W=X*4;if(q==null)q=new Uint32Array(X*J*4);
q[0]=M[0];q[1]=M[1];q[2]=M[2];q[3]=M[3];for(var T=1;T<X;T++)t.a6l(M,q,4,T<<2);for(var _=1;_<J;_++){var $=_*X<<2;
t.a6l(M,q,W,$);for(var T=4;T<W;T+=4){var m=$+T;q[m]=M[m]+q[m-4]+q[m-W]-q[m-W-4];q[m+1]=M[m+1]+q[m-3]+q[m-W+1]-q[m-W-3];
q[m+2]=M[m+2]+q[m-2]+q[m-W+2]-q[m-W-2];q[m+3]=M[m+3]+q[m-1]+q[m-W+3]-q[m-W-1]}}return q};t.a6l=function(M,X,J,$){X[$]=X[$-J]+M[$];
X[$+1]=X[$-J+1]+M[$+1];X[$+2]=X[$-J+2]+M[$+2];X[$+3]=X[$-J+3]+M[$+3]};t.atj=function(M,X,J,q,W,T){var _=W+J<<2,m=W+X<<2,d=q+J<<2,A=q+X<<2;
T[0]+=M[_]-M[m]-M[d]+M[A];T[1]+=M[_+1]-M[m+1]-M[d+1]+M[A+1];T[2]+=M[_+2]-M[m+2]-M[d+2]+M[A+2];T[3]+=M[_+3]-M[m+3]-M[d+3]+M[A+3]};
t.jd=function(M,X,J){var q={},W=0,T=0,_=new Uint32Array(M.buffer),m=_.length,d=Date.now();for(var A=1;
A<J-1;A++)for(var p=1;p<X-1;p++){var a=A*X+p,f=_[a];if(f>>>24<230)T++;if(q[f]==null){q[f]=!0;W++}}if(T!=0||W<20)return!1;
return!0};t.qR=function(M,X,J,q,W,T){if(W==null)W=T=0;var _=Math.round(Math.log(q)/Math.log(2)),m=new Uint32Array(M.buffer);
for(var $=0;$<J;$++)for(var d=0;d<X;d++){m[$*X+d]=t.apj($+T,d+W,_)}};t.ajc=function($,M,X){return 255-(($>>>X)+(M>>>X)&1)*51};
t.apj=function($,M,X){return 4294967295-(($>>>X)+(M>>>X)&1)*3355443};t.vT=function(M,X){var J=X==null?1:X/255;
return{z:(M>>>16&255)*J,L:(M>>>8&255)*J,g:(M&255)*J}};t.hO=function(M,X){var J=X==null?1:255/X;return Math.round(M.z*J)<<16|Math.round(M.L*J)<<8|Math.round(M.g*J)};
t.NZ=function(M){var X=M.toString(16);while(X.length<6)X="0"+X;return X};t.ac0=function(M){return parseInt(M,16)};
t.Jp=function(M){return.3*M.z+.59*M.L+.11*M.g};t.iP=function(M){return Math.max(M.z,M.L,M.g)-Math.min(M.z,M.L,M.g)};
t.ig=function(M,X,J){return.3*M+.59*X+.11*J};t.aHu=function(M,X,J){return Math.max(M,X,J)-Math.min(M,X,J)};
t.m6=function(M,X){var J=X-M,q=Math.abs(J),W=J-1,T=J+1;if(Math.abs(W)<q)J=W;else if(Math.abs(T)<q)J=T;
return J};t.jm=function(M){return M<.0031308?12.92*M:1.055*Math.pow(M,1/2.4)-.055};t.HR=function(M){return M<.04045?M/12.92:Math.pow((M+.055)/1.055,2.4)};
t.abA=function(M,X){var J=Math.min(M.length,X.length);for(var $=0;$<J;$+=4){var q=M[$],W=M[$+1],T=M[$+2];
X[$]=16+Math.floor(65.481/255*q+128.553/255*W+24.966/255*T+.5);X[$+1]=128-Math.floor(37.797/255*q-74.203/255*W+112/255*T+.5);
X[$+2]=128+Math.floor(112/255*q-93.786/255*W-18.214/255*T+.5);X[$+3]=M[$+3]}};t.a9o=function(M,X,J){var q,W,T,_=Math.max(M,X,J),m=Math.min(M,X,J);
T=_;if(_!=0)W=(_-m)/_;else W=0;if(W==0)q=0;else{var d=_-m,A=(_-M)/d,p=(_-X)/d,a=(_-J)/d;if(M==_)q=a-p;
else if(X==_)q=2+A-a;else q=4+p-A;q*=1/6;if(q<0)q=q+1}return{oz:q,i$:W,g:T}};t.ari=function(M,X,J){var q=0,W=0,T=0;
if(X==0)q=W=T=J;else{var _=(M-Math.floor(M))*6,m=Math.floor(_),d=_-Math.floor(_),A=J*(1-X),p=J*(1-X*d),a=J*(1-X*(1-d));
switch(m){case 0:q=J;W=a;T=A;break;case 1:q=p;W=J;T=A;break;case 2:q=A;W=J;T=a;break;case 3:q=A;W=p;
T=J;break;case 4:q=a;W=A;T=J;break;case 5:q=J;W=A;T=p;break}}return{z:q,L:W,g:T}};t.MT=function(M,X,J){var q=Math.max(M,X,J),W=Math.min(M,X,J),T=0,_=0,m=(q+W)*.5;
if(q!=W){var d=q-W;_=m>.5?d/(2-(q+W)):d/(q+W);switch(q){case M:T=(X-J)/d+(X<J?6:0);break;case X:T=(J-M)/d+2;
break;case J:T=(M-X)/d+4;break}T*=1/6}return{oz:T,i$:_,lj:m}};t.Io=function(M,X,J){var q,W,T;if(X==0)q=W=T=J;
else{var _=J<.5?J*(1+X):J+X-J*X,m=2*J-_;q=t.Gu(m,_,M+1/3);W=t.Gu(m,_,M);T=t.Gu(m,_,M-1/3)}return{z:q,L:W,g:T}};
t.Gu=function(M,X,J){if(J<0)J+=1;if(J>1)J-=1;if(J<1/6)return M+(X-M)*6*J;if(J<1/2)return X;if(J<2/3)return M+(X-M)*(2/3-J)*6;
return M};t.G7=function(M,X,J){var q=Math.max(M,X,J),W=Math.min(M,X,J),T,_,m=q,d=q-W;_=q==0?0:d/q;if(q==W)T=0;
else{switch(q){case M:T=(X-J)/d+(X<J?6:0);break;case X:T=(J-M)/d+2;break;case J:T=(M-X)/d+4;break}T*=1/6}return{oz:T,i$:_,tz:m}};
t.HQ=function(M,X,J){var q,W,T,$,_,m,d,A;$=Math.floor(M*6);_=M*6-$;m=J*(1-X);d=J*(1-_*X);A=J*(1-(1-_)*X);
switch($%6){case 0:q=J,W=A,T=m;break;case 1:q=d,W=J,T=m;break;case 2:q=m,W=J,T=A;break;case 3:q=m,W=d,T=J;
break;case 4:q=A,W=m,T=J;break;case 5:q=J,W=m,T=d;break}return{z:q,L:W,g:T}};t.Y3=function(){var M=[],X=[];
for(var $=0;$<8e3;$++){var J=$*(1/4e3);M[$]=t.HR(J);X[$]=J>.008856?Math.pow(J,1/3):(903.3*J+16)*(1/116)}return[M,X]}();
t.KX=function(M,X,J,q){if(q==null)q=[.9642,1,.8249];var W=t.Y3[0],T=t.Y3[1];M=W[~~(.5+M*(4e3/255))];
X=W[~~(.5+X*(4e3/255))];J=W[~~(.5+J*(4e3/255))];var _=t.XS.aHV,m=_[0]*M+_[1]*X+_[2]*J,d=_[4]*M+_[5]*X+_[6]*J,A=_[8]*M+_[9]*X+_[10]*J;
m=m*(1/q[0]);d=d*(1/q[1]);A=A*(1/q[2]);return t.a3_(m,d,A)};t.a3_=function(M,X,J){var q=t.Y3[1],W=q[~~(.5+M*4e3)],T=q[~~(.5+X*4e3)],_=q[~~(.5+J*4e3)];
return{q6:116*T-16,Jm:500*(W-T),g:200*(T-_)}};t._l=function(M,X,J){var q=903.3,W=.008856,T=(M+16)/116,_=T*T*T,m=T-J/200,d=m*m*m,A=X/500+T,p=A*A*A,a=d>W?d:(116*m-16)/q,f=_>W?_:(116*T-16)/q,s=p>W?p:(116*A-16)/q,j=s*96.42,Y=f*100,G=a*82.49,Q=t.XS.ea(t.XS.Kf,[j/100,Y/100,G/100,0]);
for(var $=0;$<4;$++)Q[$]=Math.max(0,Math.min(255,t.jm(Q[$])*255));return{z:Q[0],L:Q[1],g:Q[2]}};t.auQ=function(M,X,J,q,W){var T=M.q6,_=M.Jm,m=M.g,d=(T<X.q6?X.q6-T:J.q6<T?J.q6-T:0)*(1/100),A=(_<X.Jm?X.Jm-_:J.Jm<_?J.Jm-_:0)*(1/116),p=(m<X.g?X.g-m:J.g<m?J.g-m:0)*(1/116),a=Math.sqrt(d*d+A*A+p*p)*1.35;
return a<=q?Math.min(1,1.17*(1-a*W)):0};t.RP=function(M){var X=t.kC("cmykToRgb"),J=X[2],q=X[3],W=[0,0,0,0];
ICC.U.applyLUT4(q,J,M,W);return W};t.aEd=function(M){var X=t.kC("cmykToRgb"),J=X[2],q=X[3];ICC.U.applyLUT4(q,J,M,M)};
t.a18=function(){var M=function(jX){return Math.round(jX*255)},X="",J=3;for(var $=0;$<tab.length;$++){var q=M(tab[$]);
if(J<=$)q=q-M(tab[$-J])+256&255;X+=q.toString(16).padStart(2,"0")}return X};t.kC=function(M){var X=LUTS["_"+M];
if(X==null){var J=LUTS[M],q=J[0],jX=J[1],W=J[2],T=J[3],_=[];for(var $=0;$<T.length;$+=2)_.push(parseInt(T.slice($,$+2),16));
for(var $=jX;$<_.length;$++)_[$]=_[$]+_[$-jX]&255;for(var $=0;$<_.length;$++)_[$]*=1/255;X=LUTS["_"+M]=[q,jX,W,_]}return X};
t.jW=function(M){var X=t.kC("rgbToCmyk"),J=X[2],q=X[3],W=[0,0,0,0];ICC.U.applyLUT3to4(q,J,M,W);return W};
t.ayO=function(M){var X=t.kC("rgbToCmyk"),J=X[2],q=X[3];ICC.U.applyLUT3to4(q,J,M,M);t.vN(M)};t.i5=function(M,X,J){var q=M.length,W=.3,T=.59,_=.11;
if(J){W=J[0];T=J[1];_=J[2]}for(var $=0;$<q;$+=4)X[$>>2]=~~(M[$+0]*W+M[$+1]*T+M[$+2]*_+.5)};t.Qh=function(M,X){var J=X.length;
for(var $=0;$<J;$+=4){var q=M[$>>>2];X[$]=q;X[$+1]=q;X[$+2]=q}};t.Uq=function(M,X){var J=t.qP(M.Jm),q=t.qP(X);
if(J!=q)throw"e";if(J==8)t.awv(M,X);else{var W=M.z,T=M.L,_=M.g,m=M.Jm;for(var $=0;$<X.length;$+=4){var d=$>>>2;
X[$]=W[d];X[$+1]=T[d];X[$+2]=_[d];X[$+3]=m[d]}}};t.awv=function(M,X){var J=M.Jm,q=M.z,W=M.L,T=M.g,_=Math.min(M.Jm.length,X.buffer.byteLength>>>2),m=4*Math.floor(_/4),d=new Uint32Array(X.buffer),A=new Uint32Array(J.buffer),p=new Uint32Array(q.buffer),a=new Uint32Array(W.buffer),f=new Uint32Array(T.buffer);
for(var $=0;$<m;$+=4){var s=A[$>>2],j=f[$>>2],Y=a[$>>2],G=p[$>>2];d[$]=s<<24|(j&255)<<16|(Y&255)<<8|G&255;
d[$+1]=(s&65280)<<16|(j&65280)<<8|Y&65280|(G&65280)>>>8;d[$+2]=(s&16711680)<<8|j&16711680|(Y&16711680)>>>8|(G&16711680)>>>16;
d[$+3]=s&4278190080|(j&4278190080)>>>8|(Y&4278190080)>>>16|(G&4278190080)>>>24}for(var $=m;$<_;$++)d[$]=J[$]<<24|T[$]<<16|W[$]<<8|q[$]};
t.Qf=function(M,X){var J=t.qP(X.Jm),q=t.qP(M);if(J!=q)throw"e";if(J==8)t.abJ(M,X);else{var W=X.z,T=X.L,_=X.g,m=X.Jm;
for(var $=0;$<M.length;$+=4){var d=$>>>2;W[d]=M[$];T[d]=M[$+1];_[d]=M[$+2];m[d]=M[$+3]}}};t.abJ=function(M,X){var J=X.Jm,q=X.z,W=X.L,T=X.g,_=Math.min(X.Jm.length,M.buffer.byteLength>>>2),m=4*Math.floor(_/4),d=new Uint32Array(M.buffer),A=new Uint32Array(J.buffer),p=new Uint32Array(q.buffer),a=new Uint32Array(W.buffer),f=new Uint32Array(T.buffer);
for(var $=0;$<m;$+=4){var s=d[$],j=d[$+1],Y=d[$+2],G=d[$+3];p[$>>2]=s&255|(j&255)<<8|(Y&255)<<16|G<<24;
a[$>>2]=(s&65280)>>8|j&65280|(Y&65280)<<8|(G&65280)<<16;f[$>>2]=(s&16711680)>>16|(j&16711680)>>8|Y&16711680|(G&16711680)<<8;
A[$>>2]=s>>>24|j>>>24<<8|Y>>>24<<16|G&4278190080}for(var $=m;$<_;$++){var Q=d[$];q[$]=Q>>0&255;W[$]=Q>>8&255;
T[$]=Q>>16&255;J[$]=Q>>24&255}};t.SF=function(M,X,J){var q=Math.min(M.length/4,X.length),W=t.qP(M);if(W!=t.qP(X))throw"e";
if(W==8){for(var $=0;$<q;$++){X[$]=M[($<<2)+J]}}else for(var $=0;$<q;$++){X[$]=M[($<<2)+J]}};t.ix=function(M,X,J){var q=t.qP(M);
if(q!=t.qP(X))throw"e";var W=Math.min(X.length/4,M.length);if(q==8){var T=new Uint8Array(X.buffer),_=new Uint32Array(M.buffer),$=0;
while($+4<W){var m=_[$>>>2];T[($<<2)+J]=m&255;T[($<<2)+J+4]=m>>>8&255;T[($<<2)+J+8]=m>>>16&255;T[($<<2)+J+12]=m>>>24;
$+=4}while($<W){T[($<<2)+J]=M[$];$++}}else{for(var $=0;$<W;$++)X[($<<2)+J]=M[$]}};t.Tb=function(M,X){new Uint32Array(M.buffer).fill(X)};
t.MY=function(M,X,J,q){var W=t.qP(M),T=t.P0(W),_=M.length;if(W==8)for(var $=0;$<_;$+=4){M[$]=X*T;M[$+1]=J*T;
M[$+2]=q*T}if(W==16)for(var $=0;$<_;$+=4){M[$]=X*T;M[$+1]=J*T;M[$+2]=q*T}if(W==32)for(var $=0;$<_;$+=4){M[$]=X*T;
M[$+1]=J*T;M[$+2]=q*T}};t.Ya=function(M,X){var J=t.qP(M),q=t.P0(J),W=M.length;if(J==8)for(var $=0;$<W;
$+=4){M[$+3]=X*q}if(J==16)for(var $=0;$<W;$+=4){M[$+3]=X*q}if(J==32)for(var $=0;$<W;$+=4){M[$+3]=X*q}};
t.adZ=function(M,X,J,q,W){if(W==null)W=0;var T=new Uint32Array(M.buffer);J=J.Lg(X);var _=J.x-X.x,m=J.y-X.y,d=J.r,A=J.$,p=X.r;
for(var a=0;a<A;a++){var $=(m+a)*p+_;for(var f=0;f<d;f++){T[$]=T[$]&W|q;$++}}};t.fc=function(M,X){var J=Math.min(M.buffer.byteLength,X.buffer.byteLength),q=J>>>2,W=new Uint32Array(M.buffer,0,q),T=new Uint32Array(X.buffer,0,q);
T.set(W)};t.w6=function(M,X){var J=M.buffer.byteLength,q=X.buffer.byteLength,W=new Uint32Array(M.buffer,0,J>>2),T=new Uint32Array(X.buffer,0,q>>2);
if(J!=q)return!1;var _=W.length;for(var $=0;$<_;$++)if(T[$]!=W[$])return!1;return!0};t.vN=function(M){var X=t.qP(M),J=M.length;
if(X==8)for(var $=0;$<J;$++)M[$]=~M[$];if(X==16)for(var $=0;$<J;$++)M[$]=~M[$];if(X==32)for(var $=0;
$<J;$++)M[$]=1-M[$]};t.a4n=function(M){var X=M.length;for(var $=0;$<X;$+=4){M[$]=~M[$];M[$+1]=~M[$+1];
M[$+2]=~M[$+2]}};t.abI=function(M){var X=M.length;for(var $=3;$<X;$+=4)M[$]=~M[$]};t.aHG=function(M){return M+(M%4==0?0:4-M%4)};
t.j=function(M,X){if(X==null)X=8;var J=X==8?Uint8Array:X==16?Uint16Array:Float32Array;if(X==8)M=t.aHG(M);
if(X==16)M+=M&1;try{var q=new J(M)}catch(hP){alert("Not enough RAM! (need "+Math.round(M/(1<<20))+" MB)",7e3);
throw"low_ram"}return q};t.axZ=function(M){var X=M.kq.r,J=M.kq.$,q=X*4,W=X*J,T=new Uint8Array(M.data),_=0,m=0;
for(var d=1;d<J;d++)for(var A=1;A<X;A++){var $=(d*X+A)*4;if(T[$-1]==0&&T[$+3]==0&&T[$-q+3]==0){m++;var p=T[$],a=T[$+1],f=T[$+2],s=p-T[$-4],j=p-T[$-q],Y=a-T[$-3],G=a-T[$-q+1],Q=f-T[$-2],Z=f-T[$-q+2];
if(s*s+Y*Y+Q*Q!=0&&j*j+G*G+Z*Z!=0)_++}}if(m/W>.01&&_/m>.05){var g=t.j(X*J);t.SF(T,g,3);M.OD=[g];for(var $=0;
$<T.length;$+=4)T[$+3]=255}};t.avn=function(M,X,J,q){if(q==null)q=0;var W=0;while(W+3<M.length&&M[W+3].o()>=q&&X.zQ()*(1<<(W>>>1))<J)W+=2;
var T=M[1],_=M[W+1],m=new kp;m.translate(-_.x,-_.y);m.scale(T.r/_.r,T.$/_.$);m.translate(T.x,T.y);m.concat(X);
return[W,m]};t.uW=function(M){var X=M.length,J=M[X-2],q=M[X-1];while(q.r>=2&&q.$>=2){var W=t.Es(J,q);
M.push(W.hT,W.S);J=W.hT;q=W.S}};t.LH=function(M){var X=M.length,J=M[X-2],q=M[X-1];while(q.r>=2&&q.$>=2){var W=t.e_(J,q);
M.push(W.hT,W.S);J=W.hT;q=W.S}};t.Es=function(M,X,J){var q=X.r,W=X.$,T=q>>1,_=W>>1,m=new gc(X.x>>>1,X.y>>>1,T,_),d,A=t.qP(M);
if(A==8){d=J&&J.length==T*_*4?J:t.j(T*_*4);var p=new Uint32Array(M.buffer),a=new Uint32Array(d.buffer);
for(var f=0;f<_;f++)for(var s=0;s<T;s++){var j=f*T+s,Y=(f<<1)*q+(s<<1),G=p[Y],Q=p[Y+1],Z=p[Y+q],g=p[Y+q+1],S=G>>>24,U=Q>>>24,B=Z>>>24,e=g>>>24,P=S+U+B+e;
if(P==1020){var h=(G>>>0&255)+(Q>>>0&255)+(Z>>>0&255)+(g>>>0&255)+2>>>2,V=(G>>>8&255)+(Q>>>8&255)+(Z>>>8&255)+(g>>>8&255)+2>>>2,I=(G>>>16&255)+(Q>>>16&255)+(Z>>>16&255)+(g>>>16&255)+2>>>2;
a[j]=255<<24|I<<16|V<<8|h}else if(P==0)a[j]=0;else{var h=(G>>>0&255)*S+(Q>>>0&255)*U+(Z>>>0&255)*B+(g>>>0&255)*e,V=(G>>>8&255)*S+(Q>>>8&255)*U+(Z>>>8&255)*B+(g>>>8&255)*e,I=(G>>>16&255)*S+(Q>>>16&255)*U+(Z>>>16&255)*B+(g>>>16&255)*e,F=1/P;
h=~~(h*F+.5);V=~~(V*F+.5);I=~~(I*F+.5);a[j]=P+2>>>2<<24|I<<16|V<<8|h}}}else{d=t.j(T*_*4,A);for(var f=0;
f<_;f++)for(var s=0;s<T;s++){var j=f*T+s<<2,Y=(f<<1)*q+(s<<1)<<2,c=Y,D=Y+4,n=Y+q*4,k=Y+q*4+4,S=M[c+3],U=M[D+3],B=M[n+3],e=M[k+3],P=S+U+B+e;
if(P==0){}else{var F=1/P;d[j]=(M[c]*S+M[D]*U+M[n]*B+M[k]*e)*F;d[j+1]=(M[c+1]*S+M[D+1]*U+M[n+1]*B+M[k+1]*e)*F;
d[j+2]=(M[c+2]*S+M[D+2]*U+M[n+2]*B+M[k+2]*e)*F;d[j+3]=P*.25}}}return{S:m,hT:d}};t.ayS=function(M,X,J){var q=X.r,W=X.$,T=q>>1,_=W>>1,m=new gc(X.x,X.y,T,_),d=J&&J.length==T*_*4?J:t.j(T*_*4),A=new Uint32Array(M.buffer),p=new Uint32Array(d.buffer);
for(var a=0;a<_;a++)for(var f=0;f<T;f++){var s=a*T+f,j=(a<<1)*q+(f<<1),Y=A[j],G=A[j+1],Q=A[j+q],Z=A[j+q+1],g=2+(Y>>>0&255)+(G>>>0&255)+(Q>>>0&255)+(Z>>>0&255)>>>2,S=2+(Y>>>8&255)+(G>>>8&255)+(Q>>>8&255)+(Z>>>8&255)>>>2,U=2+(Y>>>16&255)+(G>>>16&255)+(Q>>>16&255)+(Z>>>16&255)>>>2,B=2+(Y>>>24&255)+(G>>>24&255)+(Q>>>24&255)+(Z>>>24&255)>>>2;
p[s]=B<<24|U<<16|S<<8|g}return{S:m,hT:d}};t.a4v=function(M,X,J){var q=X.r,W=X.$,T=2*Math.floor(q/3),_=2*Math.floor(W/3),m=new gc(X.x,X.y,T,_),d=J&&J.length==T*_*4?J:t.j(T*_*4),A=new Uint32Array(M.buffer),p=new Uint32Array(d.buffer);
for(var a=0;a<_;a+=2)for(var f=0;f<T;f+=2){var s=a*T+f,j=(a*3>>>1)*q+(f*3>>>1),Y=A[j],G=A[j+1],Q=A[j+2],Z=A[j+q],g=A[j+1+q],S=A[j+2+q],U=A[j+q+q],B=A[j+1+q+q],e=A[j+2+q+q],P=Y>>>24<<2,h=(Y>>>16&255)*P,V=(Y>>>8&255)*P,I=(Y&255)*P,F=G>>>24<<1,c=(G>>>16&255)*F,D=(G>>>8&255)*F,n=(G&255)*F,k=Q>>>24<<2,b=(Q>>>16&255)*k,N=(Q>>>8&255)*k,L=(Q&255)*k,R=Z>>>24<<1,i=(Z>>>16&255)*R,v=(Z>>>8&255)*R,E=(Z&255)*R,u=g>>>24,C=(g>>>16&255)*u,l=(g>>>8&255)*u,x=(g&255)*u,y=S>>>24<<1,ge=(S>>>16&255)*y,O=(S>>>8&255)*y,kz=(S&255)*y,z=U>>>24<<2,eZ=(U>>>16&255)*z,kM=(U>>>8&255)*z,jV=(U&255)*z,cL=B>>>24<<1,aw=(B>>>16&255)*cL,h2=(B>>>8&255)*cL,ea=(B&255)*cL,ht=e>>>24<<2,jn=(e>>>16&255)*ht,gE=(e>>>8&255)*ht,bS=(e&255)*ht,bi=P+F+R+u,cj=k+F+y+u,bb=z+cL+R+u,c0=ht+cL+y+u,cV=bi==0?0:1/bi,g_=cj==0?0:1/cj,hx=bb==0?0:1/bb,au=c0==0?0:1/c0,kP=0,iK=0,b3=0,fs=0;
kP=~~(.5+(I+n+E+x)*cV);iK=~~(.5+(V+D+v+l)*cV);b3=~~(.5+(h+c+i+C)*cV);fs=~~(.5+bi*(1/9));p[s]=fs<<24|b3<<16|iK<<8|kP;
kP=~~(.5+(L+n+kz+x)*g_);iK=~~(.5+(N+D+O+l)*g_);b3=~~(.5+(b+c+ge+C)*g_);fs=~~(.5+cj*(1/9));p[s+1]=fs<<24|b3<<16|iK<<8|kP;
kP=~~(.5+(jV+ea+E+x)*hx);iK=~~(.5+(kM+h2+v+l)*hx);b3=~~(.5+(eZ+aw+i+C)*hx);fs=~~(.5+bb*(1/9));p[s+T]=fs<<24|b3<<16|iK<<8|kP;
kP=~~(.5+(bS+ea+kz+x)*au);iK=~~(.5+(gE+h2+O+l)*au);b3=~~(.5+(jn+aw+ge+C)*au);fs=~~(.5+c0*(1/9));p[s+T+1]=fs<<24|b3<<16|iK<<8|kP}return{S:m,hT:d}};
t.an0=function(M,X,J){var q=X.r,W=X.$,T=2*Math.floor(q/3),_=2*Math.floor(W/3),m=new gc(X.x,X.y,T,_),d=J&&J.length==T*_*4?J:t.j(T*_*4),A=new Uint32Array(M.buffer),p=new Uint32Array(d.buffer);
for(var a=0;a<_;a+=2)for(var f=0;f<T;f+=2){var s=a*T+f,j=(a*3>>>1)*q+(f*3>>>1),Y=A[j],G=A[j+1],Q=A[j+2],Z=A[j+q],g=A[j+1+q],S=A[j+2+q],U=A[j+q+q],B=A[j+1+q+q],e=A[j+2+q+q],P=(Y>>>16&255)<<2,h=(Y>>>8&255)<<2,V=(Y&255)<<2,I=(G>>>16&255)<<1,F=(G>>>8&255)<<1,c=(G&255)<<1,D=(Q>>>16&255)<<2,n=(Q>>>8&255)<<2,k=(Q&255)<<2,b=(Z>>>16&255)<<1,N=(Z>>>8&255)<<1,L=(Z&255)<<1,R=g>>>16&255,i=g>>>8&255,v=g&255,E=(S>>>16&255)<<1,u=(S>>>8&255)<<1,C=(S&255)<<1,l=(U>>>16&255)<<2,x=(U>>>8&255)<<2,y=(U&255)<<2,ge=(B>>>16&255)<<1,O=(B>>>8&255)<<1,kz=(B&255)<<1,z=(e>>>16&255)<<2,eZ=(e>>>8&255)<<2,kM=(e&255)<<2,jV=0,cL=0,aw=0;
jV=~~(.5+(V+c+L+v)*(1/9));cL=~~(.5+(h+F+N+i)*(1/9));aw=~~(.5+(P+I+b+R)*(1/9));p[s]=255<<24|aw<<16|cL<<8|jV;
jV=~~(.5+(k+c+C+v)*(1/9));cL=~~(.5+(n+F+u+i)*(1/9));aw=~~(.5+(D+I+E+R)*(1/9));p[s+1]=255<<24|aw<<16|cL<<8|jV;
jV=~~(.5+(y+kz+L+v)*(1/9));cL=~~(.5+(x+O+N+i)*(1/9));aw=~~(.5+(l+ge+b+R)*(1/9));p[s+T]=255<<24|aw<<16|cL<<8|jV;
jV=~~(.5+(kM+kz+C+v)*(1/9));cL=~~(.5+(eZ+O+u+i)*(1/9));aw=~~(.5+(z+ge+E+R)*(1/9));p[s+T+1]=255<<24|aw<<16|cL<<8|jV}return{S:m,hT:d}};
t.CH=function(M){var X=255,J=M.length;J-=J&31;for(var $=3;$<J;$+=32)X=X&M[$]&M[$+4]&M[$+8]&M[$+12]&M[$+16]&M[$+20]&M[$+24]&M[$+28];
return X!=255};t.a2v=function(M,X,J,q){var W=t.Es,T=t.a4v,_={hT:M,S:X},m=t.aiu(J);for(var $=0;$<m.length;
$++){if(m[$]==2)_=W(_.hT,_.S,q);else _=T(_.hT,_.S,q)}return _};t.awO=function(M,X,J,q){var W=t.e_,T=t.af2,_={hT:M,S:X},m=t.aiu(J);
for(var $=0;$<m.length;$++){if(m[$]==2)_=W(_.hT,_.S,q);else _=T(_.hT,_.S,q)}return _};t.aiu=function(M){var X=[],J=M;
while(J<.499){X.push(2);J*=2}X.push(J<.5001?2:3);return X};t.e_=function(M,X,J){var q=X.r,W=X.$,T=q>>1,_=W>>1,m=new gc(X.x,X.y,T,_);
if(M==null)return{S:m};var d=J&&J.length>=T*_?J:t.j(T*_);for(var A=0;A<_;A++){var p=A*T;for(var a=0;
a<T;a++){var f=(A<<1)*q+(a<<1);d[p+a]=2+M[f]+M[f+1]+M[f+q]+M[f+q+1]>>>2}}return{S:m,hT:d}};t.af2=function(M,X,J){var q=X.r,W=X.$,T=2*Math.floor(q/3),_=2*Math.floor(W/3),m=new gc(X.x,X.y,T,_);
if(M==null)return{S:m};var d=J&&J.length>=T*_?J:t.j(T*_);for(var A=0;A<_;A+=2)for(var p=0;p<T;p+=2){var a=A*T+p,f=(A*3>>>1)*q+(p*3>>>1),s=M[f]<<2,j=M[f+1]<<1,Y=M[f+2]<<2,G=M[f+q]<<1,Q=M[f+1+q],Z=M[f+2+q]<<1,g=M[f+q+q]<<2,S=M[f+1+q+q]<<1,U=M[f+2+q+q]<<2;
d[a]=~~(.5+(s+j+G+Q)*(1/9));d[a+1]=~~(.5+(Y+j+Z+Q)*(1/9));d[a+T]=~~(.5+(g+S+G+Q)*(1/9));d[a+T+1]=~~(.5+(U+S+Z+Q)*(1/9))}return{S:m,hT:d}};
t.adO=function(M,X,J,q,W){var T=X.Lg(q);if(W)T=T.Lg(W);var _=Math.max(0,T.x-X.x),m=Math.max(0,T.x-q.x),d=Math.max(0,T.y-X.y),A=Math.max(0,T.y-q.y),p=T.r,a=T.$;
for(var $=0;$<a;$++){var f=(d+$)*X.r+_,s=(A+$)*q.r+m;for(var j=0;j<p;j++){J[s+j]=Math.max(J[s+j],M[f+j])}}};
t.Rc=function(M,X,J,q,W){var T=X.Lg(q);if(W)T=T.Lg(W);var _=Math.max(0,T.x-X.x),m=Math.max(0,T.x-q.x),d=Math.max(0,T.y-X.y),A=Math.max(0,T.y-q.y),p=T.r,a=T.$,f=t.qP(M),s=t.qP(J);
if(f!=s)throw"e";var j=f>>>3,Y=new Uint8Array(J.buffer);for(var $=0;$<a;$++){var G=(d+$)*X.r+_,Q=(A+$)*q.r+m;
Y.set(new Uint8Array(M.buffer,G*j,p*j),Q*j)}};t.avz=function(M,X,J,q){if(X.w6(q)){t.ix(M,J,3);return}var W=X.Lg(q),T=Math.max(0,W.x-X.x),_=Math.max(0,W.x-q.x),m=Math.max(0,W.y-X.y),d=Math.max(0,W.y-q.y),A=W.r,p=W.$;
for(var $=0;$<p;$++){var a=(m+$)*X.r+T,f=(d+$)*q.r+_;for(var s=0;s<A;s++)J[(f+s<<2)+3]=M[a+s]}};t.gt=function(M,X,J,q){var W=X.Lg(q),T=Math.max(0,W.x-X.x),_=Math.max(0,W.x-q.x),m=Math.max(0,W.y-X.y),d=Math.max(0,W.y-q.y),A=W.r,p=W.$;
for(var $=0;$<p;$++){var a=(m+$)*X.r+T,f=(d+$)*q.r+_;for(var s=0;s<A;s++)J[f+s]=M[(a+s<<2)+3]}};t.fA=function(M,X,J,q,W){if(X.w6(q)&&(W==null||W.w6(q))){J.set(M);
return}var T=X.Lg(q);if(W)T=T.Lg(W);var _=Math.max(0,T.x-X.x),m=Math.max(0,T.x-q.x),d=Math.max(0,T.y-X.y),A=Math.max(0,T.y-q.y),p=T.r,a=T.$,f=4*(t.qP(J)>>>3),s=new Uint8Array(J.buffer);
for(var $=0;$<a;$++){var j=(d+$)*X.r+_,Y=(A+$)*q.r+m;s.set(new Uint8Array(M.buffer,j*f,p*f),Y*f)}};t.yR=function(M,X,J,q){var W=X.Lg(q),T=Math.max(0,W.x-X.x),_=Math.max(0,W.x-q.x),m=Math.max(0,W.y-X.y),d=Math.max(0,W.y-q.y),A=W.r,p=W.$,a=M.Jm,f=M.z,s=M.L,j=M.g,Y=J.Jm,G=J.z,Q=J.L,Z=J.g;
for(var $=0;$<p;$++){var g=(m+$)*X.r+T,S=(d+$)*q.r+_;for(var U=0;U<A;U++){Y[S+U]=a[g+U];G[S+U]=f[g+U];
Q[S+U]=s[g+U];Z[S+U]=j[g+U]}}};t.IN=function(M){var X=M.length,J=t.qP(M),q=t.P0(J),W=1/q;if(J==8)for(var $=0;
$<X;$+=4){var T=M[$+3];if(T==255)continue;M[$]=~~(M[$]*T*(1/255)+.5);M[$+1]=~~(M[$+1]*T*(1/255)+.5);
M[$+2]=~~(M[$+2]*T*(1/255)+.5)}else for(var $=0;$<X;$+=4){var T=M[$+3];if(T==q)continue;M[$]=M[$]*(T*W);
M[$+1]=M[$+1]*(T*W);M[$+2]=M[$+2]*(T*W)}};t.py=function(M){var X=M.length,J=t.qP(M),q=t.P0(J),W=1/q;
if(J==8)for(var $=0;$<X;$+=4){var T=M[$+3];if(T==0||T==255)continue;var _=255/T;M[$]=~~(M[$]*_+.5);M[$+1]=~~(M[$+1]*_+.5);
M[$+2]=~~(M[$+2]*_+.5)}else{for(var $=0;$<X;$+=4){var T=M[$+3];if(T==0||T==q)continue;var _=q/T;M[$]=M[$]*_;
M[$+1]=M[$+1]*_;M[$+2]=M[$+2]*_}}};t.Nf=function(M,X){for(var $=0;$<M.length;$++)if(M[$]!=X)return!1;
return!0};t.W_=function(M){return M+1+(M>>>8)>>>8};t.round=function(M,X){var J=t.qP(M),q=M.length;if(X==null)X=t.P0(J)>>>1;
if(J==8)for(var $=0;$<q;$++)M[$]=M[$]<X?0:255;if(J==16)for(var $=0;$<q;$++)M[$]=M[$]<X?0:65535;if(J==32)for(var $=0;
$<q;$++)M[$]=M[$]<X?0:1};t.iR=function(M,X){var J=M.length,q=t.qP(M);if(q==8)for(var $=0;$<J;$++)M[$]=Math.round(M[$]*X);
if(q==16)for(var $=0;$<J;$++)M[$]=Math.round(M[$]*X);if(q==32)for(var $=0;$<J;$++)M[$]=M[$]*X};t.nd=function(M,X){var J=t.qP(M);
if(J==8){var q=new Uint32Array(M.buffer),W=new Uint32Array(X.buffer),T=q.length;for(var $=0;$<T;$++){var _=q[$],m=W[$];
W[$]=t.W_((_>>>24)*(m>>>24))<<24|t.W_((_>>>16&255)*(m>>>16&255))<<16|t.W_((_>>>8&255)*(m>>>8&255))<<8|t.W_((_&255)*(m&255))}}else{var d=1/(J==16?65535:1);
for(var $=0;$<M.length;$++)X[$]=X[$]*M[$]*d}};t.S6=function(M,X){var J=t.qP(M);if(J!=t.qP(X))throw"e";
var q=M.length;if(J==8)for(var $=0;$<q;$++)X[($<<2)+3]=X[($<<2)+3]*M[$]*(1/255);if(J==16)for(var $=0;
$<q;$++)X[($<<2)+3]=X[($<<2)+3]*M[$]*(1/65535);if(J==32)for(var $=0;$<q;$++)X[($<<2)+3]=X[($<<2)+3]*M[$]};
t.amd=function(M,X,J,q){var W=Math.max(0,q.x-X.x),T=Math.max(0,X.x-q.x),_=Math.max(0,q.y-X.y),m=Math.max(0,X.y-q.y),d=Math.min(X.x+X.r,q.x+q.r)-Math.max(X.x,q.x),A=Math.min(X.y+X.$,q.y+q.$)-Math.max(X.y,q.y);
for(var $=0;$<A;$++){var p=(_+$)*X.r+W,a=(m+$)*q.r+T;for(var f=0;f<d;f++){J[a]=t.W_(J[a]*M[p]);p++;a++}}};
t.tc=function(M,X,J,q){var W=t.qP(M),T=Math.max(0,q.x-X.x),_=Math.max(0,X.x-q.x),m=Math.max(0,q.y-X.y),d=Math.max(0,X.y-q.y),A=Math.min(X.x+X.r,q.x+q.r)-Math.max(X.x,q.x),p=Math.min(X.y+X.$,q.y+q.$)-Math.max(X.y,q.y);
for(var $=0;$<p;$++){var a=(m+$)*X.r+T,f=((d+$)*q.r+_<<2)+3;for(var s=0;s<A;s++){if(W==8)J[f]=t.W_(J[f]*M[a]);
else if(W==16)J[f]=J[f]*M[a]*(1/65535);else if(W==32)J[f]=J[f]*M[a];a++;f+=4}}};t._I=function(M,X,J,q){var W=Math.max(0,q.x-X.x),T=Math.max(0,X.x-q.x),_=Math.max(0,q.y-X.y),m=Math.max(0,X.y-q.y),d=Math.min(X.x+X.r,q.x+q.r)-Math.max(X.x,q.x),A=Math.min(X.y+X.$,q.y+q.$)-Math.max(X.y,q.y);
for(var $=0;$<A;$++){var p=((_+$)*X.r+W<<2)+3,a=((m+$)*q.r+T<<2)+3;for(var f=0;f<d;f++){J[a]=t.W_(J[a]*M[p]);
p+=4;a+=4}}};t.xW=function(M,X){if(X==null)X=1;var J=4*X,q=M.length>>>2,W=new Float64Array(256),T=new Float64Array(256),_=new Float64Array(256),m=new Float64Array(256),d=4*Math.floor(q/X)*X,A=0;
for(var $=0;$<d;$+=J){var p=M[$+0],a=M[$+1],f=M[$+2],s=M[$+3]*X,j=s*(1/255);T[p]+=j;_[a]+=j;m[f]+=j;
A+=s}for(var $=0;$<256;$++)W[$]=T[$]+_[$]+m[$];return[W,T,_,m,q,A/255]};t.aH7=function(M,X){function J(B,e){var P=-1,h=0;
while(h<=e){P++;h+=B[P]}return P}function q(B,e){var P=256,h=0;while(h<=e){P--;h+=B[P]}return P}function W(B){var e=0,P=0;
for(var $=0;$<256;$++){P+=B[$];e+=B[$]*$*(1/255)}return e/P}var T=M[0],_=M[1]/100,m=M[2]/100,d=[],A=[];
for(var $=0;$<4;$++){var p=$==0?3:1;d[$]=J(X[$],p*_*X[5]);A[$]=q(X[$],p*m*X[5])}var a=[W(X[1]),W(X[2]),W(X[3])],f=a.slice(0);
f.sort(function(B,e){return B-e});var s=a.indexOf(f[1]),j=(a[0]+a[1]+a[2])/3,Y=[];for(var $=0;$<4;$++){var G=0,Q=255,Z=d[$],g=A[$];
if(T==0&&$==0){G=Z;Q=g}if(T==1&&$!=0){G=Z;Q=g}if(T==2&&$!=0){var p=a[$-1]/j;Q=Math.max(0,Math.min(255,A[s]*p))}var S=[G,Q];
Y.push(S);if(T==3&&$==0){var U=255*(1-j);S.push(U)}}return Y};t.aJb=function(M,X){var J=new Uint32Array(M.buffer),q=J.length;
for(var $=0;$<q;$++){var W=J[$],T=W&255,_=W>>8&255,m=W>>16&255,d=W>>24&255;J[$]=X[T]|X[_]<<8|X[m]<<16|X[d]<<24}};
t.aAN=function(M,X,J,q,W,T,_){var m=M.length,d=t.qP(M),A=d==8?255:d==16?65535:1,p=1/A,a=(J.length-1)*.999999,f=t.aei;
if(!_&&!T){for(var $=0;$<m;$+=4){var s=M[$]*p,j=M[$+1]*p,Y=M[$+2]*p,G=f(J,a*s),Q=f(q,a*j),Z=f(W,a*Y);
X[$]=G*A;X[$+1]=Q*A;X[$+2]=Z*A;X[$+3]=M[$+3]}return}for(var $=0;$<m;$+=4){var s=M[$]*p,j=M[$+1]*p,Y=M[$+2]*p;
if(T)s=j=Y=s*.3+j*.59+Y*.11;var G=f(J,a*s),Q=f(q,a*j),Z=f(W,a*Y);if(_){var g=t.ig(s,j,Y),S=t.ig(G,Q,Z);
if(g>S){var U=(g-S)/(1-S);G+=U*(1-G);Q+=U*(1-Q);Z+=U*(1-Z)}else if(S==0)G=Q=Z=0;else{var U=g/S;G=U*G;
Q=U*Q;Z=U*Z}}X[$]=G*A;X[$+1]=Q*A;X[$+2]=Z*A;X[$+3]=M[$+3]}};t.aei=function(M,X){var J=~~X,q=X-J;return M[J]*(1-q)+M[J+1]*q};
t.pT=function(M,X){var J=t.cY(M,8),q=X.r,W=X.$,top=0,T=0,_=0,m=0,d=0;d=0;for(var A=0;A<W;A++){var p=A*q;
for(var $=0;$<q;$++)d|=J[p+$];if(d!=0)break;top++}if(top==W)return new gc(0,0,0,0);d=0;for(var A=W-1;
A>=0;A--){var p=A*q;for(var $=0;$<q;$++)d|=J[p+$];if(d!=0)break;_++}var a=W-_;d=0;for(var $=0;$<q;$++){for(var A=top;
A<a;A++)d|=J[A*q+$];if(d!=0)break;T++}d=0;for(var $=q-1;$>=0;$--){for(var A=top;A<a;A++)d|=J[A*q+$];
if(d!=0)break;m++}var f=new gc(X.x+T,X.y+top,q-T-m,W-top-_);return f};t.pD=function(M,X,J,q,W){var T=t.cY(M,8),top=0,A=0,p=0,a=0,f=!1;
if(q==null)q=[!0,!0,!0,!0];if(J==null)J=0;if(W==null)W=4294967295;var _=new Uint32Array(T.buffer),m=X.r,d=X.$,s=[_[0],_[_.length-1],0][J];
f=!1;if(q[0])for(var j=0;j<d;j++){var Y=j*m;for(var $=0;$<m;$++)if(_[Y+$]&W^s)f=!0;if(f)break;top++}f=!1;
if(q[2])for(var j=d-1;j>=0;j--){var Y=j*m;for(var $=0;$<m;$++)if(_[Y+$]&W^s)f=!0;if(f)break;p++}f=!1;
if(q[1])for(var $=0;$<m;$++){for(var j=0;j<d;j++)if(_[j*m+$]&W^s)f=!0;if(f)break;A++}f=!1;if(q[3])for(var $=m-1;
$>=0;$--){for(var j=0;j<d;j++)if(_[j*m+$]&W^s)f=!0;if(f)break;a++}var G=new gc(X.x+A,X.y+top,m-A-a,d-top-p);
return G.M5()?new gc(0,0,0,0):G};t.Wn=function(M){var X=t.pT(M.N,M.S);if(X.w6(M.S))return;var J=t.j(X.o(),t.qP(M.N));
t.Rc(M.N,M.S,J,X);M.N=J;M.S=X};t.yn=function(M,X){var J=t.pD(M.buffer,M.S,2,null,X?null:4278190080);
if(J.w6(M.S))return;var q=new t.j(J.o()*4,t.qP(M.buffer));t.fA(M.buffer,M.S,q,J);M.buffer=q;M.S=J};t.extend=function(M,X,J){if(M.S.wz(X))return;
var q=M.S.m0(X),W=t.qP(M.N),T=t.j(q.o(),W);if(J!=null)T.fill(t.P0(W)*J);t.Rc(M.N,M.S,T,q);M.S=q;M.N=T};
t.aGk=function(M,X){if(X.M5()||M.S.wz(X))return;var J=M.S.m0(X),q=t.j(J.o()*4,t.qP(M.buffer));t.fA(M.buffer,M.S,q,J);
M.S=J;M.buffer=q};t.WR=function(M,X,J){if(!J.ZO(M))return!1;var q=Math.floor(M.x)-J.x,W=Math.floor(M.y)-J.y,$=W*J.r+q;
return X[$]>128};t.a4F=function(M,X,J){if(!J.ZO(M))return!1;var q=Math.floor(M.x)-J.x,W=Math.floor(M.y)-J.y,$=W*J.r+q;
return X[4*$+3]>128};t.Uy=function(M){this.Jm=t.j(M);this.z=t.j(M);this.L=t.j(M);this.g=t.j(M)};t.Uy.prototype.Q=function(){var M=this.Jm.length,X=new t.Uy(1);
X.Jm=this.Jm.slice(0);X.z=this.z.slice(0);X.L=this.L.slice(0);X.g=this.g.slice(0);return X};t.B.aDv=function(M,X,J,q,W){var T=W[0]+1,_=W[1],m=Math.abs(_-25)/4,d=W[2],A=d%2+d*d>>1,p=t.B.W;
p.RH(X,J);var a=p.em(1),f=p.em(1),s=p.em(1);p.wI(M,q,d,d,A);p.RB(q);p.vo(q,a);p.n2(a,f,T,T,1);p.n2(a,s,T,T,T*T);
p.sub(s,f);p.nd(f,m);(_<25?p.sub:p.add)(a,f);p.vi(f,q);p.Oj(q)};t.B.agV=function(M,X,J,q,W){var T=t.B.W;
T.RH(X,J);var _=W[0]*2.55,m=W[1],d=m>>1,A=W[2]*.25,p=T.em(4),a=T.em(1),f=T.em(1);T.qq(M,p,m,1,!0,d);
T.qq(M,q,m,1,!1,d);T.zu(M,a);T.NR(a,_);T.Q5(a,f,3);T.KF(q,f,p);T.$e(p,q,A)};t.B.amu=function(M,X,J,q,W){var T=t.B.W;
T.RH(X,J);T.yi(W[3]);var _=W[0]*-3+80,m=W[1]*-3+80,d=W[2]/2+.5,A=W[4],p=W[5],a=T.em(1),f=T.em(1),s=T.em(1),j=T.em(1),Y=T.em(4),G=T.em(4);
T.zu(M,a);T.fc(a,f);T.hG(a,m,5);T.aDx(a,.4,0);T.Q5(a,s,3);T.fV(s,a,9,3,!0,27);T.fc(f,s);T.vN(s);var Q=T.om(_,5,s);
for(var $=0;$<T.dR;$++){f[$]=Q[255-f[$]]}T.aDx(f,.4,0);T.fc(f,s);T.Q5(s,j,2);T.fV(j,s,5,3,!1,15);T.nd(a,d);
T.nd(s,d);T.HY(q,2155905279);T.HY(G,A);T.HY(Y,p);T.KF(G,a,q);T.KF(Y,s,q)};t.B.axm=function(M,X,J,q,W){var T=t.B.W;
T.RH(X,J);var _=new Uint8Array(256),m=5+10*W[1];m+=W[1]>3?(W[1]-3)*10:0;var d=~~(W[2]*.73)+50,A=Math.min(d+m,128),p=A-d,a=-255*d;
for(var $=0;$<256;$++){var f=$*65;_[$]=T.ym(a/p);a+=255}var s=T.em(1),j=T.em(1),Y=T.em(1);T.zu(M,s);
T.fc(s,Y);T.Q5(s,j,2*W[0]+1);T.sub(j,s);T.nd(s,65);T.fV(s,j,9,3,!0,20);for(var $=0;$<T.dR;$++){var G=Y[$],Q=j[$];
s[$]=Q>0?~~((Q*G+(255-Q)*128)/255):128}T.Q5(s,j,3);T.fV(j,s,15,2,!0,16);T.fV(j,Y,15,2,!1,15);T.fC(s,Y);
T.v1(Y,j,2);T.t7(j,_);T.Q5(j,s,2);T.QE(s,q)};t.B.a0D=function(M,X,J,q,W){var T=t.B.W;T.RH(X,J);var _=2*W[0]+1,m=T.a4V[W[1]],d=W[2]*5.1,A=W[3],p=T.em(1),a=T.em(1),f=T.em(4),s=T.em(4);
T.HY(f,A);T.RB(f,q);T.aIS(p,d);T.vi(p,q);T.Oj(q,f);T.zu(M,a);T.Q5(a,p,_);T.sub(p,a);T.nd(a,m);T.fV(a,p,9,3,!0,20);
T.KF(M,p,f);T.Jx(f,q,3);T.qq(q,f,15,2,!0,16);T.qq(q,s,15,2,!1,16);T.fC(f,s);T.$e(s,q,2)};t.B.a3$=function(M,X,J,q,W){var T=t.B.W;
T.RH(X,J);var _=(15-W[0])/4+1,m=(15-W[1])/4+1,d=W[2],A=W[3],p=T.yj(W[4]),a=W[5]+1,f=W[6],s=W[7],j=W[8],Y=T.em(1),G=T.em(1),Q=T.em(1),Z=T.em(1),g=T.em(4),S=T.em(4);
T.Gb(Q,d,A,f);T.zu(M,G);T.Q5(G,Y,5);T.Nc(Q,Y,Z,a,p);T.nd(Z,_);T.Fb(Z,2);T.vN(Y);T.Nc(Q,Y,G,a,p);T.nd(G,m);
T.Fb(G,2);T.HY(g,2155905279);T.HY(S,s);T.HY(q,j);T.KF(g,G,S);T.KF(S,Z,q)};t.B.a0A=function(M,X,J,q,W){var T=t.B.W;
T.RH(X,J);T.yi(W[3]);var _=W[0],m=W[1]/10,d=W[2]/10,A=T.em(1),p=T.em(1),a=T.em(1),f=T.yZ(),s=T.yZ(),j=T.yZ();
T.L6(A);T.Q5(A,p,11);T.Q5(p,A,11);T.YZ(A,f);T.nk(M,A);T.fc(A,a);T.Q5(A,p,9);T.Q5(p,A,9);T.YZ(A,s);T.tZ(s,j,5);
T.tZ(j,s,5);T.a2$(f,.8);T.a2i(f,s,.8,.9);T.atv(s,A,_);T.n2(A,p,2,2,1);T.n2(p,A,2,2,3);T.n2(A,p,2,2,3);
T.n2(a,A,5,5,13);T.BK(p,A,p,m);T.hm(A,p,p,d);T.Nc(p,p,A,5,1);T.RB(M,q);T.vi(A,q);T.Oj(q)};t.B.aoR=function(M,X,J,q,W){var T=t.B.W;
T.RH(X,J);var _=W[0],m=W[1]/2,d=W[2],A=_/2,p=T.em(4),a=T.em(4);T.fc(M,q);for(var f=0;f<d;f++){T.qq(q,p,_,1,!0,A);
T.qq(q,a,_,1,!1,A);T.fC(a,p);T.Jx(p,a,2);T.$e(a,q,m)}};t.B.ahK=function(M,X,J,q,W){var T=t.B.W;T.RH(X,J);
var _=W[0]*10,m=W[1]*4.9,d=W[2]*4.9,A=T.em(1),p=T.em(1),a=T.em(4),f=T.em(4);T.zu(M,A);T.NR(A,T.aDT(A,_));
T.Q5(A,p,3);T.qq(M,a,5,1,!1,1);T.qq(M,q,15,2,!0,16);T.KF(q,p,a);T.RB(a,q);T.vo(q,A);T.hG(A,m,d);T.vi(A,q);
T.Oj(q)};t.B.afd=function(M,X,J,q,W){var T=t.B.W;T.RH(X,J);T.yi(W[4]);var _=W[0]/20,m=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][W[1]],d=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][W[2]],A=W[3],p=new Int16Array(256);
for(var $=0;$<256;$++){p[$]=~~(($-128)*_)}var a=T.em(1),f=T.em(1),s=T.em(4);T.zu(M,a);T.Q5(a,f,25);T.nd(f,m);
T.Fb(f,d);T.Q5(f,a,25);T.L6(f);T.a9D(a,f,p);T.fc(M,q);T.HY(s,A);T.KF(s,a,q)};t.B.a3C=function(M,X,J,q,W){var T=t.B.W;
T.RH(X,J);var _=W[0]+5,m=15-W[1],d=_*_/2,A=1-(3-W[2])/10,p=~~(m*m*A-1),a=~~(m*m*(1-A));if(a==0)a=1;var f=T.em(1),s=T.em(1),j=T.em(1),Y=T.em(4);
T.zu(M,j);T.n2(j,f,_,_,d);T.Q5(j,s,_);T.sub(f,s);T.NR(s,1);T.wI(M,Y,m,m,p);T.wI(M,q,m,m,a);T.KF(Y,s,q)};
t.B.ahv=function(M,X,J,q,W){var T=t.B.W;T.RH(X,J);T.yi(W[3]);var _=(20-W[0])*.05,m=W[1]*-2.75+60,d=65-m,A=W[2]/10,p=T.em(1),a=T.em(1);
T.nk(M,a);var f=T.om(m,d,a);T.RB(M,q);T.vo(q,a);T.L6(p);T.Pz(a,p,_);T.t7(a,f);T.nd(a,W[2]/10);T.add(p,a);
T.vi(a,q);T.Oj(q)};t.B.ase=function(M,X,J,q,W){var T=t.B.W;T.RH(X,J);var _=5+W[0],m=15-W[1],d=W[2],A=_*_/2+_*_%2*1,p=1-(3-W[2])/10,a=~~(m*m*p-1),f=~~(m*m*(1-p));
if(f==0)f=1;var s=T.em(1),j=T.em(1),Y=T.em(1),G=T.em(1),Q=T.em(1);T.nk(M,j);T.v1(j,s,3);T.n2(s,j,2,2,1);
var Z=T.om(20,20,j);T.t7(j,Z);T.Q5(j,Q,5);T.n2(Q,s,_,_,A);T.n2(Q,j,m,m,a);T.n2(Q,Y,m,m,f);T.Q5(Q,G,_);
T.sub(s,G);T.NR(G,1);T.arB(j,G,Y);T.RB(M,q);T.vi(Y,q);T.Oj(q)};t.B.ad6=function(M,X,J,q,W){var T=t.B.W;
T.RH(X,J);T.yi(W[5]);var _=T.dR,m=T.fY,d=W[0],A=W[1],p=W[2],a=W[3],f=W[4],s=.05*d+1,j=d/100,Y=d>>1,G=2*d-100,Q=+(A==9),Z=+(A==7),g=[4,1][Q],S=[3,2][Q],U=[1,2][Z],B=[2,1][Z],e=[50,75][Q],P=A<4?p:(p>>1)+50,h=T.aeA(e,P),V=T.Ie(a),I=T.Ie(f),F=T.em(4),c=T.em(4),D=T.em(1),n=T.em(1);
function k(q,h){if(P!=50){T.aiX(q,h)}}function b(M,O){for(var $=0;$<_;$++){M[$]=T.ym(M[$]+(O[$]-128)*j)}}function N(M,O){for(var $=0,kz=0;
$<_;$++){M[kz]=T.ym(M[kz]+(O[kz]-128)*j);M[kz+1]=T.ym(M[kz+1]+(O[kz+1]-128)*j);M[kz+2]=T.ym(M[kz+2]+(O[kz+2]-128)*j);
kz+=4}}function L(M,q){T.L6(c);T.fc(M,q);N(q,c);k(q,h)}function i(O){var kz=0;for(var z=0;z<12;z++)kz+=T.random();
return T.ym(Y*(kz-6)+O)}function v(M,q){T.fc(M,q);for(var $=0;$<m;$+=4){q[$]=i(q[$]);q[$+1]=i(q[$+1]);
q[$+2]=i(q[$+2])}k(q,h)}function E(M,q){T.fc(M,q);for(var $=0;$<m;$+=4){if(T.random()<j){q[$]=V[0];q[$+1]=V[1];
q[$+2]=V[2]}}k(q,h)}function u(M,q){T.L6(F);T.wI(F,c,S,S,g);T.fc(M,F);N(F,c);T.wI(F,q,5,5,13);k(q,h)}function C(M,q){T.L6(c);
T.fc(M,F);N(F,c);k(q,h);T.wI(F,q,S,S,g)}function l(M,q){T.fc(M,F);k(q,h);T.zu(F,D);for(var $=0,O=0;$<_;
$++){var kz=((G-D[$]+255)*128.5+.5)/32767;if(T.random()<=kz){q[O++]=I[0];q[O++]=I[1];q[O++]=I[2]}else{q[O++]=V[0];
q[O++]=V[1];q[O++]=V[2]}q[O]=M[O];O++}}function x(M,q){T.RB(M,q);T.vo(q,D);T.v1(D,n,s);T.n2(n,D,S,S,g);
T.t7(D,h);T.vi(D,q);T.Oj(q)}function y(M){var O=0;if(A==8){for(var kz=0;kz<X;kz++){M[O++]=~~(T.random()*255)}for(var $=1;
$<J;$++){for(var kz=0;kz<X;kz++){M[O++]=M[kz]}}}else{for(var $=0;$<J;$++){var z=~~(T.random()*255);for(var kz=0;
kz<X;kz++){M[O++]=z}}}}function ge(M,q){T.zu(M,D);T.L6(n);b(D,n);y(n);b(D,n);T.Jx(M,F,9);T.Jx(F,c,9);
T.Q5(D,n,2);T.t7(n,h);T.Q5(n,D,2);T.RB(c,q);T.vi(D,q);T.Oj(q)}[L,v,E,u,u,C,l,ge,ge,x][A](M,q)};t.B.ape=function(M,X,J,q,W){var T=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],_=t.B.W,Y=0,G,$,U,B,e,P=0,h=1,V=255;
_.RH(X,J);_.yi(W[3]);var m=_.em(1),d=_.em(1);_.zu(M,m);var A=W[0],p=W[1],a=p<=50?T[p]/255:1+(255-T[101-p])/255,f=W[2],s=m.length,j=new Float32Array(s),Q=1+1/10*A,Z=(1-1/Q)/2,g=16/256,S=X-1;
for($=0;$<_.dR;$++){j[$]=m[$]/255;d[$]=A==1?_.random()<1/255?V:h:h}function I(F,c){var D=F*X+c;if(d[D]!=h||F>=J||c>=X){return}var B=j[D],n=a-B,k=_.random(),b=k/Q+Z;
if(Y==0||Math.abs(e-B)>g){G=b<=n?P:V;Y=~~(_.random()*A)}else if(.1<k){Y--}else{Y=0}d[D]=G;e=B}if(f==0){for($=0;
$<X;$++){for(U=0;U<X;U++){B=$+U;if(B>=X)break;I(U,S-B)}Y=0}for($=1;$<J;$++){for(U=0;U<J;U++){B=$+U;if(B>=J||U>=X)break;
I(B,S-U)}Y=0}}else if(f==1){for($=0;$<J;$++){for(U=0;U<X;U++){I($,U)}Y=0}}else if(f==2){for($=0;$<X;
$++){for(U=0;U<X;U++){B=$+U;if(B>=X)break;I(U,B)}Y=0}for($=1;$<J;$++){for(U=0;U<J;U++){B=$+U;if(B>=J||U>=X)break;
I(B,U)}Y=0}}else{for($=0;$<X;$++){for(U=0;U<J;U++){I(U,$)}Y=0}}_.QE(d,q)};t.B.a5W=function(M,X,J,q,W){var T=t.B.W;
T.RH(X,J);var _=W[0],m=W[1],d=W[2],A=T.em(1),p=T.em(1),a=T.em(1),f=T.em(1),s=T.em(4),j=T.em(4);T.vo(M,f,3,4);
T.zu(M,A);T.n2(A,p,3,3,1);T.n2(A,a,3,3,9);T.sub(a,p);T.Q5(p,A,3);T.hG(A,40,10,f);T.qq(M,q,_,2,!1,_);
T.qq(M,s,_,2,!0,_);T.HY(j,255);T.KF(q,A,j);T.KF(j,A,s);T.$e(s,q,1);T.RB(q);T.vo(q,A);T.hG(A,m,d,f);T.vi(A,q);
T.Oj(q)};t.B.arU=function(M,X,J,q,W){var T=t.B.W;T.RH(X,J);T.yi(W[3]);var _=W[0],m=W[1],d=W[2]/10;_=_+m;
var A=T.em(1),p=T.em(1),a=T.yZ(),f=T.yZ();T.L6(A);T.Q5(A,p,11);T.Q5(p,A,11);T.YZ(A,a);T.tZ(a,f,5);T.tZ(f,a,5);
T.a2$(f,.97);T.atv(f,A,_);T.n2(A,p,m,m,1);T.nk(M,A);T.BK(p,A,p,.6);T.hm(A,p,p,d);T.Nc(p,p,A,5,1);T.RB(M,q);
T.vi(A,q);T.Oj(q)};t.B.ajd=function(M,X,J,q,W){var T=t.B.W;T.RH(X,J);var _=Math.abs(W[0]),m=_+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][_],d=2*_+1,A=W[1]/10,p=A*13/15,a=T.em(1),f=T.em(1),s=T.em(1),j=T.em(1),Y=T.em(4),G=T.em(4),Q=T.em(4),Z=T.em(4),g=T.em(4);
T.zu(M,a);if(W[0]>=0){T.vN(a)}T.fc(a,s);T.Q5(a,j,m);T.Q5(j,a,m);T.nd(a,A);T.fc(a,f);T.Q5(a,j,d);T.Q5(j,a,d);
T.nd(a,p);T.HY(Q,W[2]);T.HY(Z,W[3]);T.HY(g,W[4]);T.KF(Q,a,Z,Y);T.KF(g,f,Y,G);T.KF(Z,s,G,q);T.vo(M,s,3);
T.vi(s,q,3)};t.B.awA=function(M,X,J,q,W){var T=t.B.W;T.RH(X,J);T.yi(W[5]);var _=W[0]*5.1,m=W[1]/100,d=T.akp[W[2]],A=T.em(1),p=T.em(1),a=T.em(1);
T.zu(M,A);T.aIS(p,255);T.L6(a);T.NR(A,_);T.Pz(p,A,.7);T.Pz(a,A,m);T.Nc(A,A,p,5,d);T.fc(M,q);T.a4j(q,_,W[4],W[3]);
T.RB(q);T.vi(p,q);T.Oj(q)};t.B.ajD=function(M,X,J,q,W){var T=t.B.W;T.RH(X,J);var _=W[0],m=4-W[1],d=11-W[2],A=T.em(1),p=T.em(1),a=T.em(4);
T.nk(M,p);for(var $=0;$<m;$++){T.fc(p,A);T.ayF(A,p,_,_)}T.Jx(M,a,_);T.RB(a,a);T.vi(p,a);T.Oj(a,a);(d<11?T.ad5:T.fc)(a,q,d)};
t.B.adW=function(M,X,J,q,W){var T=t.B.W;T.RH(X,J);T.yi(W[2]);var _=W[0]+5,m=~~(_/5+1),d=~~(_/2)+1,A=d*d,p=~~(_/3),a=T.akp[W[1]],f=new Array(256);
for(var $=0;$<256;$++){f[$]=~~(.2*($-128))}var s=T.em(1),j=T.em(1);T.awG(M,q,_);T.RB(q);T.vo(q,s);T.L6(j);
T.a9D(s,j,f);T.aw6(j,_,_,m,m);T.BK(s,j,s,1);T.Q5(s,j,p);T.Q5(j,s,p);T.n2(s,j,d,d,A);T.Nc(j,j,s,5,a);
T.vi(s,q);T.Oj(q)};t.B.aEO=function(M,X,J,q,W){var T=t.B.W;T.RH(X,J);var _=T.em(1),m=T.em(1),d=T.em(1),A=T.yZ(),p=T.yZ();
T.zu(M,_);T.Q5(_,m,W[2]);T.NR(m,W[0]*5.1);T.n2(m,_,2,2,4);T.Q5(_,m,3);T.Q5(m,_,3);T.fc(_,d);T.Q5(_,m,5);
T.Q5(m,_,5);T.YZ(_,A);T.tZ(A,p,5);T.tZ(p,A,5);T.al9(A,m,W[1]);T.vN(m);T.BK(d,m,d,1);T.QE(d,q)};t.B.aI$=function(M,X,J,q,W){var T=t.B.W;
T.RH(X,J);var _=1<<7-W[2],m=T.em(1),d=T.em(1),A=T.em(1);T.nk(M,d);T.Q5(d,m,3);T.fc(m,d);T.Q5(m,A,W[0]+5);
T.sub(A,d);T.hG(d,1,W[1]);T.nd(m,1/_);T.nd(m,_);T.sub(m,d);T.RB(M,q);T.vi(d,q);T.Oj(q)};t.B.aGa=function(M,X,J,q,W){var T=t.B.W;
T.RH(X,J);T.yi(W[3]);var _=T.em(1),m=T.em(1),d=T.em(1);T.zu(M,_);T.axK(m,W[0]/50);T.Q5(m,d,3);T.n2(_,m,9,9,41);
T.hG(m,W[1],W[2]);T.BK(m,d,d,.75);T.hm(m,d,m,.5);T.fc(m,_);T.n2(_,d,3,3,8);T.BK(d,m,d,.75);T.nd(d,1.2);
T.v1(d,_,1);T.Q5(_,d,2);T.v1(d,_,2);T.nd(_,1.2);T.Q5(_,d,2);T.QE(d,q)};t.B.a80=function(M,X,J,q,W){var T=t.B.W;
T.RH(X,J);var _=W[0]+9,m=W[1]/2,d=W[2],A=W[3],p=T.yj(W[4]),a=W[5]+1,f=W[6],s=T.em(1),j=T.em(1),Y=T.em(4),G=T.em(4);
T.Gb(j,d,A,f);T.aHO(M,q,_,1,1);T.aHO(q,Y,_,1,1);T.arw(Y,Y,G,7,m);T.nd(G,1.2);T.Fb(G,1.2);T.Nc(j,s,s,a,p);
T.nd(s,3);T.fc(M,q);T.KF(G,s,q)};t.B.aaj=function(M,X,J,q,W){var T=t.B.W;T.RH(X,J);T.yi(W[3]);var _=W[0]+4,m=_*2/5+(_%5|0);
_--;var d=W[1]*-2.75+60,A=65-d,p=W[2]/10,a=T.em(1),f=T.em(1);T.L6(a);T.nk(M,f);var s=T.om(d,A,f);T.RB(M,q);
T.vo(q,f);T.Pz(f,a,.8);T.t7(f,s);T.nd(f,p);T.add(a,f);T.fV(f,a,_,3,!1,m);T.vi(a,q);T.Oj(q)};t.B.afg=function(M,X,J,q,W){var T=t.B.W;
T.RH(X,J);T.yi(W[3]);var _=W[0]+5,m=(_*_>>1)+_%2,d=W[1]/10,A=W[2],p=(A*A>>1)+A%2,a=T.em(1),f=T.em(1),s=T.em(1),j=T.em(4),Y=T.em(4),G=T.em(4);
T.L6(s);T.RB(M,G);T.vo(G,a);T.Pz(a,s,.8);T.Q5(s,a,3);T.v1(a,s,d);T.vi(s,G);T.Oj(G,G);T.zu(G,s);T.n2(s,a,_,_,m);
T.Q5(s,f,_);T.sub(a,f);T.NR(f,1);T.wI(G,j,7,7,40);T.wI(G,Y,7,7,10);T.KF(j,f,Y);T.wI(Y,q,A,A,p)};t.B.a6q=function(M,X,J,q,W){var T=t.B.W,m=255,$,A;
T.RH(X,J);var _=W[0];if(_<2)m=_;else if(_<12)m=5*_-5;else if(_<47)m=2*_+28;else if(_<50){$=_-47;m=125+12.5*$+12.5*$*$}var d=new Uint8Array(256);
for($=75,A=15;$<256;$++,A+=24)d[$]=Math.min(255,A);var p=T.em(1),a=T.em(1),f=T.em(1);T.zu(M,p);T.Q5(p,a,11);
T.Q5(a,f,11);T.sub(f,p);T.nd(p,8);T.sub(f,p);T.NR(p,m);T.vN(p);T.Q5(p,a,5);T.NR(a,51);T.Q5(a,p,W[1]);
T.Q5(p,a,W[1]);T.vN(a);T.t7(a,d);T.QE(a,q)};t.B.ahn=function(M,X,J,q,W){var T=t.B.W;T.RH(X,J);var _=T.a4V[W[1]],m=W[2],d=m*1.5,A=T.em(1),p=T.em(1),a=T.em(1);
T.nk(M,A);T.fV(A,p,15,2,!0,15);T.fc(p,a);T.hG(a,m,d);T.Q5(a,A,3);T.Q5(p,a,W[0]);T.sub(a,p);T.nd(p,_);
T.sub(A,p);T.Q5(p,A,3);T.fV(A,p,3,1,!1,1);T.Jx(M,q,15);T.RB(q);T.vi(p,q);T.Oj(q)};t.B.a0Q=function(M,X,J,q,W){var T=t.B.W;
T.RH(X,J);T.yi(W[3]);var _=W[0]*5.1,m=16-W[1],d=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][W[2]],A=T.em(1),p=T.em(1),a=T.em(1);
T.zu(M,A);T.NR(A,_);T.Q5(A,p,m);T.Q5(p,A,m);T.L6(a);T.hm(A,a,a,1);T.BK(A,a,A,.75);T.nd(A,d);T.Fb(A,d);
T.n2(A,p,2,2,2);T.QE(p,q)};t.B.ag2=function(M,X,J,q,W){var T=t.B.W;T.RH(X,J);var _=W[0]+9,m=W[1]+9,d=W[2],A=W[3],p=T.yj(W[4]),a=W[5]+1,f=W[6],s=T.em(1),j=T.em(1),Y=T.em(1),G=T.em(1),Q=T.em(1),Z=T.em(4);
T.nk(M,s);T.ayF(s,Y,_,_);T.Q5(Y,s,m);T.fc(Y,Q);T.fc(s,G);T.sub(Q,G);T.sub(s,Q);T.add(Q,G);T.nd(G,10);
T.Gb(j,d,A,f);T.Nc(j,s,Q,a,p);T.arB(Q,G,Y,.8);T.Jx(M,Z,9);T.Jx(Z,q,9);T.RB(q);T.vi(Y,q);T.Oj(q)};t.B.amf=function(M,X,J,q,W){var T=t.B.W;
T.RH(X,J);var _=16-W[0],m=W[1]*8,d=1-(3-W[2])/10,A=~~(_*_*d-1),p=~~(_*_*(1-d));if(p==0)p=1;var a=T.em(1),f=T.em(1),s=T.em(1),j=T.em(4);
T.zu(M,s);T.n2(s,a,7,7,25);T.Q5(s,f,7);T.sub(a,f);T.NR(f,1);T.wI(M,j,_,_,A);T.wI(M,q,_,_,p);T.KF(j,f,q);
T.RB(q);T.vo(q,a);T.n2(a,s,3,3,1);T.n2(a,f,3,3,9);T.sub(f,s);T.fc(s,f);T.sub(a,s);T.sub(s,f);T.n2(f,a,3,3,8);
T.hG(a,m,1);T.vi(a,q);T.Oj(q)};t.B.aGQ=function(M,X,J,q,W){var T=t.B.W;T.RH(X,J);T.yi(W[3]);var _=W[0],m=W[1],d=W[2],A=_>>1,p=Math.max(~~(_/5),1),a=Math.max(~~(_*2/3),1),f=T.aeA(m,d),s=T.em(1),j=T.em(1),Y=T.em(1),G=T.em(1),Q=T.em(4);
T.nk(M,s);T.a33(2147483647,4,2,2,0,255,j);T.a33(4,2147483647,2,2,0,255,G);T.L6(Y);T.hm(j,Y,j,1);T.hm(G,Y,G,1);
T.hm(j,s,j,1);T.hm(G,s,G,1);T.Jx(M,Q,A);T.Jx(Q,q,A);T.n2(j,s,1,_,p);T.n2(s,j,3,_,a);T.n2(G,s,_,1,p);
T.n2(s,G,_,3,a);T.fC(j,G);T.RB(q);T.vi(G,q);T.Oj(q);T.aiX(q,f)};t.B._6=function(M,X,J){var q=J.as8,W=J.dR,T=J.em(1),top=J.em(1),_=J.em(1),m=J.em(1),d=J.em(1),A=J.em(1),p=J.em(1),a=J.em(1),f=J.em(1),s=J.a3,j=J.oz,Y=t.BD.yX,G=t.BD.yA;
Y(M,T,s,j,G([8,5,2,5,2,-1,2,-1,-4]));Y(M,top,s,j,G([5,5,5,2,2,2,-1,-1,-1]));Y(M,_,s,j,G([2,5,8,-1,2,5,-4,-1,2]));
Y(M,m,s,j,G([5,2,-1,5,2,-1,5,2,-1]));Y(M,d,s,j,G([2,2,2,2,2,2,2,2,2]));Y(M,A,s,j,G([-1,2,5,-1,2,5,-1,2,5]));
Y(M,p,s,j,G([2,-1,-4,5,2,-1,8,5,2]));Y(M,a,s,j,G([-1,-1,-1,2,2,2,5,5,5]));Y(M,f,s,j,G([-4,-1,2,-1,2,5,2,5,8]));
var Q=[T,top,_,m,d,A,p,a,f];for(var Z=0;Z<j;Z++){for(var g=0;g<s;g++){var S=Z*s+g,U=M[S],B=null,e=0;
for(var P=-1;P<2;P++){for(var h=-1;h<2;h++){var V=Q[(P+1)*3+h+1],I=Math.max(0,Math.min(Z+P,j-1)),F=Math.max(0,Math.min(g+h,s-1)),c=V[I*s+F],D=Math.abs(c-U);
if(B==null||D<B){B=D;e=c}}}X[S]=e}}};t.B.ajs=function(M,X,J,q,W){var self=t.B.W;self.RH(X,J);var T=self.em(1),_=self.em(1);
for(var $=0;$<4;$++){self.vo(M,T,$);if($<3){t.B._6(T,_,self);t.B._6(_,T,self);t.B._6(T,_,self);t.B._6(_,T,self);
t.B._6(T,_,self);t.B._6(_,T,self);t.B._6(T,_,self);t.B._6(_,T,self);t.B._6(T,_,self)}else _=T;self.vi(_,q,$)}};
t.B.W={};t.B.W.a3=0;t.B.W.oz=0;t.B.W.dR=0;t.B.W.vn=0;t.B.W.fY=0;t.B.W.RH=function(M,X){var J=M*X,self=t.B.W;
self.a3=M;self.oz=X;self.dR=J;self.vn=J<<1;self.fY=J<<2};t.B.W.yi=function(M){t.B.W.random=function(){var X=M+=1831565813;
X=Math.imul(X^X>>>15,X|1);X^=X+Math.imul(X^X>>>7,X|61);return((X^X>>>14)>>>0)/4294967296}};t.B.W.em=function(M){var X=t.B.W;
return new Uint8Array([-1,X.dR,X.vn,-1,X.fY][M])};t.B.W.yZ=function(){return new Int32Array(t.B.W.vn)};
t.B.W.Q5=function(M,X,J,q){if(q==null)q=J;var self=t.B.W,W=self.a3,T=self.oz,_=q,m=q>>1,d=J,A=J>>1,p=J*q,a=0;
for(var $=0;$<T;$++){var f=0;for(var s=0;s<_;s++){for(var j=0;j<d;j++){var Y=0-A+j,G=$-m+s;if(Y<0)Y=0;
else if(Y>=W)Y=W-1;if(G<0)G=0;else if(G>=T)G=T-1;f+=M[G*W+Y]}}X[a++]=~~(f/p);for(var Q=1;Q<W;Q++){for(var s=0;
s<_;s++){var Z=Q-A-1,g=Z+d,G=$-m+s;if(Z<0)Z=0;if(g>=W)g=W-1;if(G<0)G=0;else if(G>=T)G=T-1;f+=M[G*W+g]-M[G*W+Z]}X[a++]=~~(f/p)}}};
t.B.W.tZ=function(M,X,J,q){var self=t.B.W,W=new Int32Array(self.dR),T=new Int32Array(self.dR);for(var $=0;
$<2;$++){self.vo(M,W,$,2);self.Q5(W,T,J,q);self.vi(T,X,$,2)}};t.B.W.Jx=function(M,X,J,q){var self=t.B.W,W=self.em(1),T=self.em(1);
for(var $=0;$<4;$++){self.vo(M,W,$);if($<3)self.Q5(W,T,J,q);else T=W;self.vi(T,X,$)}};t.B.W.aHO=function(M,X,J,q,W){var self=t.B.W,T=self.a3,_=self.oz,m=J+q-1,d=J>>1,A=m>>1,p=0,a=J*q,f=new Int32Array(J);
for(var $=0;$<_;$++){var s=0,j=0,Y=0;for(var G=0;G<J;G++){var Q=W?m-G-q:G;for(var Z=Q,g=q+Q;Z<g;Z++){var S=0-A+Z,U=$-d+G;
if(Z==Q){f[G]=S}if(S<0)S=0;else if(S>=T)S=T-1;if(U<0)U=0;else if(U>=_)U=_-1;var B=T*U+S<<2;s+=M[B];j+=M[B+1];
Y+=M[B+2]}}X[p++]=~~(s/a);X[p++]=~~(j/a);X[p++]=~~(Y/a);X[p]=M[p];p++;for(var e=1;e<T;e++){for(var G=0;
G<J;G++){var U=$-d+G,Q=f[G]+1;f[G]=Q;var P=Q-1,h=Q+q-1;if(U<0)U=0;else if(U>=_)U=_-1;if(P<0)P=0;else if(P>=T)P=T-1;
if(h<0)h=0;else if(h>=T)h=T-1;var V=U*T+P<<2,I=U*T+h<<2;s=s+M[I]-M[V];j=j+M[I+1]-M[V+1];Y=Y+M[I+2]-M[V+2]}X[p++]=~~(s/a);
X[p++]=~~(j/a);X[p++]=~~(Y/a);X[p]=M[p];p++}}};t.B.W.fV=function(M,X,J,q,W,T){var self=t.B.W,_=self.a3,m=self.oz,d=J+q-1,A=J>>1,p=d>>1,a=0,f=new Int32Array(J),s=new Int32Array(256),j=new Int32Array(16);
for(var $=0;$<m;$++){for(var Y=0;Y<256;Y++){s[Y]=0}for(var Y=0;Y<16;Y++){j[Y]=0}for(var G=0;G<J;G++){var Q=W?d-G-q:G;
for(var Z=Q,g=q+Q;Z<g;Z++){var S=0-p+Z,U=$-A+G;if(Z==Q){f[G]=S}if(S<0)S=0;else if(S>=_)S=_-1;if(U<0)U=0;
else if(U>=m)U=m-1;s[M[U*_+S]]++;j[M[U*_+S]>>>4]++}}var B=0,e=0;while(B+j[e>>>4]<T){B+=j[e>>>4];e+=16}for(;
e<256;e++){B+=s[e];if(B>=T)break}X[a++]=e;for(var Y=1;Y<_;Y++){for(var G=0;G<J;G++){var U=$-A+G,Q=f[G]+1;
f[G]=Q;var P=Q-1,h=Q+q-1;if(U<0)U=0;else if(U>=m)U=m-1;if(P<0)P=0;else if(P>=_)P=_-1;if(h<0)h=0;else if(h>=_)h=_-1;
s[M[U*_+P]]--;s[M[U*_+h]]++;j[M[U*_+P]>>>4]--;j[M[U*_+h]>>>4]++}B=0;e=0;while(B+j[e>>>4]<T){B+=j[e>>>4];
e+=16}for(;e<256;e++){B+=s[e];if(B>=T)break}X[a++]=e}}};t.B.W.qq=function(M,X,J,q,W,T){var self=t.B.W,_=self.em(1),m=self.em(1);
for(var $=0;$<4;$++){self.vo(M,_,$);if($<3)self.fV(_,m,J,q,W,T);else m=_;self.vi(m,X,$)}};t.B.W.n2=function(M,X,J,q,W){W=Math.min(q*J,W);
var self=t.B.W,T=self.a3,_=self.oz,m=q>>1,d=J>>1,A=0,p=new Int32Array(q),a=new Int32Array(256),f=new Int32Array(16);
for(var $=0;$<_;$++){for(var s=0;s<256;s++){a[s]=0}for(var s=0;s<16;s++){f[s]=0}for(var j=0;j<q;j++){for(var Y=0,G=J;
Y<G;Y++){var Q=0-d+Y,Z=$-m+j;if(Y==0){p[j]=Q}if(Q<0)Q=0;else if(Q>=T)Q=T-1;if(Z<0)Z=0;else if(Z>=_)Z=_-1;
a[M[Z*T+Q]]++;f[M[Z*T+Q]>>>4]++}}var g=0,S=0;while(g+f[S>>>4]<W){g+=f[S>>>4];S+=16}for(;S<256;S++){g+=a[S];
if(g>=W)break}X[A++]=S;for(var s=1;s<T;s++){for(var j=0;j<q;j++){var Z=$-m+j,U=p[j]+1;p[j]=U;var B=U-1,e=U+J-1;
if(Z<0)Z=0;else if(Z>=_)Z=_-1;if(B<0)B=0;else if(B>=T)B=T-1;if(e<0)e=0;else if(e>=T)e=T-1;a[M[Z*T+B]]--;
a[M[Z*T+e]]++;f[M[Z*T+B]>>>4]--;f[M[Z*T+e]>>>4]++}g=0;for(S=0;S<256;S++){g+=a[S];if(g>=W)break}X[A++]=S}}};
t.B.W.wI=function(M,X,J,q,W){var self=t.B.W,T=self.em(1),_=self.em(1);for(var $=0;$<4;$++){self.vo(M,T,$);
if($<3)self.n2(T,_,J,q,W);else _=T;self.vi(_,X,$)}};t.B.W.v1=function(M,X,J){var self=t.B.W,q=self.a3,W=self.oz,T=0;
for(var $=0;$<W;$++){var _=$*q,m=($-1)*q,d=($+1)*q;if(m<0)m=_;if(d>=W)d=_;for(var A=0;A<q;A++){var p=A-1,a=A+1;
if(p<0)p=A;if(a>=q)a=A;var f=_+p,s=_+a,j=m+A,Y=d+A,G=_+A,Q=M[f],Z=M[s],g=M[j],S=M[Y],U=M[G],B=U+(U*4*J+.5);
B=B-((Q+Z+S+g)*J+.5);X[T++]=self.ym(B)}}};t.B.W.$e=function(M,X,J){var self=t.B.W,q=self.em(1),W=self.em(1);
for(var $=0;$<4;$++){self.vo(M,q,$);if($<3)self.v1(q,W,J);else W=q;self.vi(W,X,$)}};t.B.W.ad5=function(M,X,J){var self=t.B.W,q=self.a3,W=self.oz,T=0,_=J+4;
for(var $=0;$<W;$++){var m=$*q,d=($-1)*q,A=($+1)*q;if(d<0)d=m;if(A>=W)A=m;for(var p=0;p<q;p++){var a=p-1,f=p+1;
if(a<0)a=p;if(f>=q)f=p;var s=m+a<<2,j=m+f<<2,Y=d+p<<2,G=A+p<<2,Q=m+p<<2;for(var Z=0;Z<3;Z++){var g=M[s+Z],S=M[j+Z],U=M[Y+Z],B=M[G+Z],e=M[Q+Z];
X[T++]=(e*J+g+S+B+U)/_}X[T]=M[T];T++}}};t.B.W.ayF=function(M,X,J,q){var self=t.B.W,W=self.a3,T=self.oz,_=J>>1,m=q>>1,d=0,A=new Int32Array(J),p=new Int32Array(256);
for(var $=0;$<T;$++){for(var a=0;a<256;a++){p[a]=0}for(var f=0;f<J;f++){for(var s=0,j=q;s<j;s++){var Y=0-m+s,G=$-_+f;
if(s==0){A[f]=Y}if(Y<0)Y=0;else if(Y>=W)Y=W-1;if(G<0)G=0;else if(G>=T)G=T-1;p[M[G*W+Y]]++}}var Q=0,Z=0;
for(var g=0;g<256;g++){if(Q<p[g]){Z=g;Q=p[g]}}X[d++]=Z;for(var a=1;a<W;a++){for(var f=0;f<J;f++){var G=$-_+f,S=A[f]+1;
A[f]=S;var U=S-1,B=S+q-1;if(G<0)G=0;else if(G>=T)G=T-1;if(U<0)U=0;else if(U>=W)U=W-1;if(B<0)B=0;else if(B>=W)B=W-1;
p[M[G*W+U]]--;p[M[G*W+B]]++}Q=0;Z=0;for(var g=0;g<256;g++){if(Q<p[g]){Z=g;Q=p[g]}}X[d++]=Z}}};t.B.W.aqz=[function(M,X,J,q,W,T,_,m,d,A){return W+(M+X+J)*A-(d+m+_)*A},function(M,X,J,q,W,T,_,m,d,A){return W+(X+J+T)*A-(m+_+q)*A},function(M,X,J,q,W,T,_,m,d,A){return W+(J+T+d)*A-(_+q+M)*A},function(M,X,J,q,W,T,_,m,d,A){return W+(T+d+m)*A-(q+M+X)*A},function(M,X,J,q,W,T,_,m,d,A){return W+(d+m+_)*A-(M+X+J)*A},function(M,X,J,q,W,T,_,m,d,A){return W+(m+_+q)*A-(X+J+T)*A},function(M,X,J,q,W,T,_,m,d,A){return W+(_+q+M)*A-(J+T+d)*A},function(M,X,J,q,W,T,_,m,d,A){return W+(q+M+X)*A-(T+d+m)*A}];
t.B.W.Nc=function(M,X,J,q,W){var self=t.B.W,T=self.a3,_=self.oz,m=T,d=self.aqz[q-1];for(var $=0;$<_;
$++){var A=($>0?$-1:0)*m,p=$*m,a=($<_?$+1:$)*m;for(var f=0;f<T;f++){var s=f>0?f-1:0,j=f<T?f+1:f,Y=p+f,G=M[A+s],Q=M[A+f],Z=M[A+j],g=M[p+s],S=X[Y],U=M[p+j],B=M[a+s],e=M[a+f],P=M[a+j];
J[Y]=self.ym(d(G,Q,Z,g,S,U,B,e,P,W))}}};t.B.W.arw=function(M,X,J,q,W){var self=t.B.W,T=self.em(1),_=self.em(1),m=self.em(1);
for(var $=0;$<3;$++){self.vo(M,T,$);self.vo(X,_,$);self.Nc(T,_,m,q,W);self.vi(m,J,$)}self.vo(X,T,3);
self.vi(T,J,3)};t.B.W.zu=function(M,X){var J=M.length,q=0;for(var $=0;$<J;$++){X[q++]=~~((M[$++]+M[$++]+M[$++]+2)/3)}};
t.B.W.QE=function(M,X){var J=X.length,q=0;for(var $=0;$<J;$++){var W=M[$];X[q++]=W;X[q++]=W;X[q++]=W;
X[q++]=255}if(X[0]==255)X[0]--;else X[0]++};t.B.W.nk=function(M,X){var J=X.length,q=0;for(var $=0;$<J;
$++){var W=M[q++],T=M[q++],_=M[q++];q++;if(T>W)W=T;if(_>W)W=_;X[$]=W}};t.B.W.RB=function(M,X){if(X==null)X=M;
var J=M.length;for(var q=0;q<J;q+=4){var W=M[q],T=M[q+1],_=M[q+2],m=W,d=0,A=W,a;if(T<=W){W=T}else{d=1;
A=T}if(_<=A){if(W>_){W=_}}else{d=2;A=_}var p=A-W;if(p!=0){if(d==0){a=~~(43*(T-_)/p)}else if(d==1){a=~~(43*(_+2*p-m)/p)}else{a=43*(m+4*p-T)/p}if(a<0){a=255&a-1}X[q]=a;
X[q+1]=~~(255*p/A)}else{X[q]=p;X[q+1]=p}X[q+2]=A;X[q+3]=M[q+3]}};t.B.W.Oj=function(M,X){if(X==null)X=M;
var J=M.length;for(var q=0;q<J;q+=4){var W=M[q],T=M[q+1],_=M[q+2];if(T){if(W==255)W=0;var m=~~(6*W/255),d=~~(-255*m+6*W);
if(m==0){X[q]=_;X[q+1]=~~(_*(255-T*(255-d)/255)/255);X[q+2]=~~(_*(255-T)/255)}else if(m==1){X[q]=~~(_*(255-T*d/255)/255);
X[q+1]=_;X[q+2]=~~(_*(255-T)/255)}else if(m==2){X[q]=~~(_*(255-T)/255);X[q+1]=_;X[q+2]=~~(_*(255-T*(255-d)/255)/255)}else if(m==3){X[q]=~~(_*(255-T)/255);
X[q+1]=~~(_*(255-T*d/255)/255);X[q+2]=_}else if(m==4){X[q]=~~(_*(255-T*(255-d)/255)/255);X[q+1]=~~(_*(255-T)/255);
X[q+2]=_}else{X[q]=_;X[q+1]=~~(_*(255-T)/255);X[q+2]=~~(_*(255-T*d/255)/255)}}else{X[q]=_;X[q+1]=_;X[q+2]=_}X[q+3]=M[q+3]}};
t.B.W.vi=function(M,X,J,q){if(J==null)J=2;if(q==null)q=4;var W=M.length;for(var $=0;$<W;$++){X[J]=M[$];
J+=q}};t.B.W.vo=function(M,X,J,q){if(J==null)J=2;if(q==null)q=4;var W=X.length;for(var $=0;$<W;$++){X[$]=M[J];
J+=q}};t.B.W.arB=function(M,X,J,q){if(q==null)q=1;var W=X.length,T=0,_;for(var T=0;T<W;T++){_=X[T];if(_){_*=q;
J[T]=~~((_*M[T]+(255-_)*J[T])/255)}}};t.B.W.KF=function(M,X,J,q){if(q==null)q=J;var W=X.length,T=0,_,m;
for(var $=0;$<W;$++){_=X[$];if(_){m=255-_;q[T]=~~((_*M[T]+m*J[T])/255);q[T+1]=~~((_*M[T+1]+m*J[T+1])/255);
q[T+2]=~~((_*M[T+2]+m*J[T+2])/255)}q[T+3]=M[T+3];T+=4}};t.B.W.BK=function(M,X,J,q){var W=~~(q*255),T=J.length;
for(var $=0;$<T;$++){J[$]=((255-W*(255-M[$])/255)*X[$]+M[$]*(W*(255-M[$])/255))/255}};t.B.W.hm=function(M,X,J,q){var W=~~(q*255),T=J.length;
for(var $=0;$<T;$++){J[$]=((255-W*M[$]/255)*X[$]+M[$]*(W*M[$]/255))/255}};t.B.W.Pz=function(M,X,J){var q=X.length;
for(var $=0;$<q;$++){X[$]=~~(M[$]*J+.5)+(X[$]-~~(X[$]*J+.5))}};t.B.W.sub=function(M,X){var J=M.length;
for(var $=0;$<J;$++){X[$]=Math.max(M[$]-X[$],0)}};t.B.W.add=function(M,X){var J=M.length;for(var $=0;
$<J;$++){X[$]=Math.min(M[$]+X[$],255)}};t.B.W.as8=function(M,X){var J=M.length;for(var $=0;$<J;$++){X[$]=M[$]+X[$]}};
t.B.W.fC=function(M,X){var J=M.length;for(var $=0;$<J;$++){X[$]=M[$]+X[$]>>1}};t.B.W.fc=function(M,X){var J=M.length;
for(var $=0;$<J;$++){X[$]=M[$]}};t.B.W.t7=function(M,X){var J=M.length;for(var $=0;$<J;$++){M[$]=X[M[$]]}};
t.B.W.aiX=function(M,X){var J=t.B.W.fY;for(var $=0;$<J;$+=4){var q=M[$],W=M[$+1],T=M[$+2],_=q;if(W>q)_=W;
if(T>q)_=T;var m=X[_];if(m){M[$]=~~(m*q/_);M[$+1]=~~(m*W/_);M[$+2]=~~(m*T/_)}else{M[$]=m;M[$+1]=m;M[$+2]=m}}};
t.B.W.nd=function(M,X){for(var $=0,J=M.length;$<J;$++){M[$]=Math.min(255,~~(.5+M[$]*X))}};t.B.W.Fb=function(M,X){for(var $=0,J=M.length;
$<J;$++){M[$]=255-Math.min(255,~~(.5+(255-M[$])*X))}};t.B.W.vN=function(M){var X=M.length;for(var $=0;
$<X;$++){M[$]=255-M[$]}};t.B.W.NR=function(M,X,J,q){if(J==null)J=0;if(q==null)q=255;for(var $=0,W=M.length;
$<W;$++){M[$]=M[$]>=X?q:J}};t.B.W.Ie=function(M){return[M>>24&255,M>>16&255,M>>8&255,M&255]};t.B.W.a4j=function(M,X,J,q){if(J==null)J=255;
if(q==null)q=4278190335;var W=t.B.W,T=W.fY,_=W.Ie(J),m=W.Ie(q);for(var $=0;$<T;$+=4){var d=~~((M[$]+M[$+1]+M[$+2]+2)/3);
if(d>=X){M[$]=_[0];M[$+1]=_[1];M[$+2]=_[2]}else{M[$]=m[0];M[$+1]=m[1];M[$+2]=m[2]}}};t.B.W.HY=function(M,X){var J=t.B.W,q=J.fY,W=J.Ie(X);
for(var $=0;$<q;){M[$++]=W[0];M[$++]=W[1];M[$++]=W[2];M[$++]=W[3]}};t.B.W.aIS=function(M,X){var J=M.length;
for(var $=0;$<J;){M[$++]=X}};t.B.W.aeA=function(M,X){M=M>5?(100-Math.max(4,M))/100:.95;X=X!=100?Math.max(4,X)/100:.9995;
var J=new Uint8Array(256),q=X>.5?.5/(1-X):X*2,W=~~(q*256),T=~~((.5-M*q)*256)<<8;for(var $=0;$<256;$++){J[$]=t.B.W.ym(T>>8);
T+=W}return J};t.B.W.L6=function(M){for(var $=0,X=t.B.W,J=M.length;$<J;$++){M[$]=~~(X.random()*256)}};
t.B.W.axK=function(M,X){for(var $=0,J=t.B.W,q=M.length;$<q;$++){M[$]=J.random()<X?255:0}};t.B.W.aDx=function(M,X,J){for(var $=0,q=t.B.W,W=M.length;
$<W;$++){if(q.random()<X)M[$]=J}};t.B.W.a9D=function(M,X,J){var q=M.length;for(var $=0;$<q;$++){M[$]=t.B.W.ym(M[$]+J[X[$]])}};
t.B.W.Sb=function(M){var X=new Uint32Array(256);for(var $=0,J=M.length;$<J;$++)X[M[$]]++;return X};t.B.W.aoN=function(M,X){var J=0,q=0,W=new Uint32Array(256),T=new Float32Array(256);
for(var $=0,_=M.length;$<_;$++){var m=M[$],d=X[$];if(d==255){W[m]++;J++}else if(d>0){d/=255;q+=d;T[m]+=d;
if(q>=1){q--;J++}if(T[m]>=1){T[m]--;W[m]++}}}return[J,W]};t.B.W.om=function(M,X,J,q){var self=t.B.W,W,T,p=0,f=256;
if(q){var _=self.aoN(J,q);W=_[1];T=_[0]/100}else{W=self.Sb(J);T=self.dR/100}var m=new Uint8Array(256),d=T*M,A=T*X,a=-1;
do{p+=W[++a]}while(p<=d);p=0;do{p+=W[--f]}while(p<=A);if(f-a<=0)f=a+1;if(f>255){f=255;a=254}var s=255/(f-a),j=-a;
for(var $=0;$<256;$++){m[$]=self.ym(s*j+.5);j++}return m};t.B.W.hG=function(M,X,J,q){var W=t.B.W;W.t7(M,W.om(X,J,M,q))};
t.B.W.aDT=function(M,X){var self=t.B.W,J=self.Sb(M),q=self.dR*X/100,W=0,T=-1;do{W+=J[++T]}while(W<=q);
return T};t.B.W.YZ=function(M,X){var J=0,self=t.B.W,q=self.a3,W=self.oz,T=1/Math.PI,_=T*255;for(var $=0;
$<W;$++){var m=$+1;if(m==W)m--;var d=$*q,A=~~((1-($+1)/W)*255);for(var p=0;p<q;p++){var a=p+1;if(a==q)a--;
var f=M[d+p],s=M[d+a],j=M[m*q+p];if(f-j==0){X[J++]=A}else{var Y=f-j+255;if(Y==255){Y=0}else{Y=~~(Math.atan2(1/(255-Y),1)*_+.5);
if(Y<0)Y+=255}X[J++]=Y}if(f-s==0){X[J++]=~~((1-(p+1)/q)*255)}else{var Y=f-s+255;if(Y==255){Y=0}else{Y=~~(Math.atan2(1/(255-Y),1)*_+.5);
if(Y<0)Y+=255}X[J++]=Y}}}};t.B.W.a2$=function(M,X){var self=t.B.W,J=self.a3,q=self.oz,W=0;for(var $=0;
$<q;$++){for(var T=0;T<J;T++){M[W]=~~($*X+.5)+~~(M[W]*(1-X)+.5);W++;M[W]=~~(T*X+.5)+~~(M[W]*(1-X)+.5);
W++}}};t.B.W.a2i=function(M,X,J,q){var self=t.B.W,W=self.a3,T=self.oz,_=0;for(var $=0;$<T;$++){for(var m=0;
m<W;m++){X[_]=~~(X[_]*(1-J)+.5)+~~(M[_]*q+.5);_++;X[_]=~~(X[_]*(1-J)+.5)+~~(M[_]*q+.5);_++}}};t.B.W.atv=function(M,X,J){var self=t.B.W,q=self.a3,W=self.oz,T=0,_=0;
for(var $=0;$<W;$++){for(var m=0;m<q;m++){var d=M[T++],A=M[T++];X[_++]=A%J>=2&&d%J>=2?255:0}}};t.B.W.a33=function(M,X,J,q,W,T,_){var self=t.B.W,m=self.a3,d=self.oz,A=0,p=0,a=0;
for(var $=0;$<d;$++){var f=$%M<J||d-J<=$;for(var s=0;s<m;s++){_[A++]=f||s%X<q||m-q<=s?W:T}}};t.B.W.Gb=function(M,X,J,q){var self=t.B.W,W=self.a3,T=self.oz,_=iC.Gb(X),m=_[1],d=_[0].r,A=_[0].$,p=100/J;
for(var a=0;a<T;a++)for(var f=0;f<W;f++){var s=t.t.S_(f*p,a*p,m,d,A);M[a*W+f]=q?255-s:s}};t.B.W.ym=function(M){return~~Math.min(255,Math.max(0,M))};
t.B.W.a4V=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];t.B.W.akp=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];
t.B.W.yj=function(M){return M>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][M-41]:M/40};t.B.W.awG=function(M,X,J){var self=t.B.W,q=self.a3,W=self.oz,T=J,_=J>>1,m=_-1,d=T*T,A=0;
for(var $=0;$<W;$++){var p=0,a=0,f=0,s=~~($/J)*J,j=0;for(var Y=0;Y<T;Y++){for(var G=0;G<T;G++){var Q=j+G,Z=s+Y;
if(Q>=q)Q=q-1;if(Z>=W)Z=W-1;p+=M[Z*q+Q<<2];a+=M[(Z*q+Q<<2)+1];f+=M[(Z*q+Q<<2)+2]}}var g=~~(p/d),S=~~(a/d),U=~~(f/d);
X[A]=g;X[A+1]=S;X[A+2]=U;X[A+3]=M[A+3];A+=4;for(var B=1;B<q;B++){for(var Y=0;Y<T;Y++){var e=B-1,P=e+T,Z=s+Y;
if(P>=q)P=q-1;if(Z>=W)Z=W-1;var h=Z*q,V=h+P<<2,I=h+e<<2;p+=M[V]-M[I];a+=M[V+1]-M[I+1];f+=M[V+2]-M[I+2]}if(B%J==0){g=~~(p/d);
S=~~(a/d);U=~~(f/d)}X[A]=g;X[A+1]=S;X[A+2]=U;X[A+3]=M[A+3];A+=4}}};t.B.W.aw6=function(M,X,J,q,W){var self=t.B.W,T=self.a3,_=self.oz,m=0,d=0,A=0,p=0;
for(var $=p;$<_+p;$++){var a=$%X>=q||$<q||_+p-q<=$;for(var f=0;f<T;f++){M[m++]=a&&(f%J>=W||f<W||T-W<=f)?255:0}}};
t.B.W.al9=function(M,X,J){var q=function(A,p){return p<=A?A/p&1?p-A%p:A%p:A},W=[function(m,d){return q(m,255)/255},function(m,d){return(255+q(m,255)-q(d,255))/510},function(m,d){return(255-q(d,255))/255},function(m,d){return(510-q(m,255)-q(d,255))/510},function(m,d){return(255-q(m,255))/255},function(m,d){return(255-q(m,255)+q(d,255))/510},function(m,d){return q(d,255)/255},function(m,d){return(q(m,255)+q(d,255))/510}][J],T=0,_=0;
for(var $=0;$<t.B.W.dR;$++){var m=M[T++],d=M[T++];X[_++]=~~(255*W(m,d))}};t.B.adH=function(){var M=[],X=new Uint8Array(512),J=new Float32Array(512),q=new Float32Array(512),W=[1,-1,1,-1,1,-1,0,0],T=[1,1,-1,-1,0,0,1,-1],_=0,m,j=0;
for(;_<256;_++)M[_]=_;while(_!=0){_--;m=Math.floor(Math.random()*_);M[m]^=M[_]^(M[_]=M[m])}function d(d){d=Math.floor(d*65536);
if(d<256){d|=d<<8}for(var $=0;$<256;$++){var Q=$+256,Z=M[$]^($&1?d:d>>8)&255;X[$]=X[Q]=Z;Z=Z%8;J[$]=J[Q]=W[Z];
q[$]=q[Q]=T[Z]}}function A(Q){return Q*Q*Q*(Q*(Q*6-15)+10)}function p(Q,Z,g){return(1-g)*Q+g*Z}function a(Q,Z){return Q&Z}function f(Q,Z){return Q%Z}function s(Q,Z,g,S,U){var B=Math.floor(Q),e=Math.floor(Z),_,P,h,V,I,F;
Q=Q-B;Z=Z-e;B=B&255;e=e&255;_=B+X[e];V=J[_]*Q+q[_]*Z;_=B+X[U(e+1,S)];h=J[_]*Q+q[_]*(Z-1);_=U(B+1,g)+X[e];
I=J[_]*(Q-1)+q[_]*Z;_=U(B+1,g)+X[U(e+1,S)];F=J[_]*(Q-1)+q[_]*(Z-1);P=A(Q);return p(p(V,I,P),p(h,F,P),A(Z))}function Y(Q,_,Z){Q[_]=Z}function G(Q,Z,g,S,U){var B=Math.min(Math.min(Z,256),Math.min(256,g)),e=B==256||B<8,P=8,h=new Uint32Array(P),V=new Uint32Array(P),I=new Float32Array(P),F=new Float32Array(P),c=1,D=1,n=e?a:f,k=Y,b;
for(var $=0;$<P;$++){b=D*1/B;if(e){V[$]=(1<<Math.ceil(Math.log2(g*b)))-1;h[$]=(1<<Math.ceil(Math.log2(Z*b)))-1}else{V[$]=b*g;
h[$]=b*Z}I[$]=c;F[$]=b;c*=.5;D=D<<1}d(Math.random());for(var N=0,_=0;N<g;N++){for(var L=0;L<Z;L++){var R=0;
for(var i=0;i<P;i++){b=F[i];R+=s(L*b,N*b,h[i],V[i],n)*I[i]}k(S,_++,Math.round(Math.max(0,255*Math.min(1,.5+R*.5))))}}}return G}();
t.B.anz=function(){function M(X,J,q,W){var T=new Uint8Array(X.length>>>2),_=new Uint8Array(X.length>>>2),m=new Uint8Array(X.length);
for(var $=0;$<X.length;$+=4){var d=X[$+0]*.3+X[$+1]*.59+X[$+2]*.11;_[$>>>2]=d;m[$]=X[$];m[$+1]=X[$+1];
m[$+2]=X[$+2]}t.BD.aep(_,T,J,q);t.BD.Br(X,W,J,q,t.BD.rj[1],!1,!0);for(var $=0;$<X.length;$+=4){m[$+3]=255-T[$>>>2]}for(var $=0,A=X.length;
$<A;$+=4){var p=m[$+3]/255;W[$]=m[$]*p+W[$]*(1-p);W[$+1]=m[$+1]*p+W[$+1]*(1-p);W[$+2]=m[$+2]*p+W[$+2]*(1-p)}}return M}();
t.B.a3E=function(){function M(T,_,m,d,A){var p=new Uint32Array(T.buffer),a=0;for(var $=0;$<m;$++){for(var f=0;
f<_;f++,a+=4){var s=p[$*_+f],j=s&255,Y=s>>>8&255,G=s>>>16&255,Q=s>>>24&255,Z=~~(Math.random()*8),g=Z%3,S=0,U=0;
if(Z<3){U--}else if(Z>4){U++}if(g==0){S--}else if(g==2){S++}var B=f+S,e=$+U;if(B<0)B=0;else if(B>_-1)B=_-1;
if(e<0)e=0;else if(e>m-1)e=m-1;var s=p[e*_+B],P=s&255,h=s>>>8&255,V=s>>>16&255,I=s>>>24&255;d[a]=A(j,P);
d[a+1]=A(Y,h);d[a+2]=A(G,V);d[a+3]=A(Q,I)}}}function X(T,_){return _}function J(T,_){return T>_?_:T}function q(T,_){return T<_?_:T}function W(T,_,m,d,A){var p=A[0];
if(p==0)M(T,_,m,d,X);else if(p==1)M(T,_,m,d,J);else if(p==2)M(T,_,m,d,q);else if(p==3){console.error("Not implemented")}else console.error("Mew mew")}return W}();
t.B.awS=function(){function M(X,J,q,W,T){var _=T&&T[0]?T[0]:4,m,d,A,p,a,f,s;for(var $=0;$<q;$++){var j=Math.max($-_,0),Y=Math.min($+_,q-1);
for(var G=0;G<J;G++){var Q=Math.max(G-_,0),Z=Math.min(G+_,J-1);m=j*J+Q<<2;p=X[m];a=X[m+1];f=X[m+2];s=X[m+3];
m=j*J+Z<<2;p+=X[m];a+=X[m+1];f+=X[m+2];s+=X[m+3];m=Y*J+Q<<2;p+=X[m];a+=X[m+1];f+=X[m+2];s+=X[m+3];m=Y*J+Z<<2;
p+=X[m];a+=X[m+1];f+=X[m+2];s+=X[m+3];m=$*J+G<<2;W[m]=p+2>>>2;W[m+1]=a+2>>>2;W[m+2]=f+2>>>2;W[m+3]=s+2>>>2}}}return M}();
t.B.asJ=function(){function M(X,J,q,W){var T=new Uint8Array(X.length),_=new Uint8Array(X.length>>>2),m=new Uint8Array(X.length>>>2);
t.BD.Br(X,T,J,q,t.BD.rj[2],!1,!0);for(var $=0;$<X.length;$+=4){var d=T[$+0]*.3+T[$+1]*.59+T[$+2]*.11;
_[$>>>2]=d;W[$+0]=X[$+0];W[$+1]=X[$+1];W[$+2]=X[$+2];W[$+3]=X[$+3]}t.BD.aep(_,m,J,q);for(var $=0;$<X.length;
$+=4){T[$+3]=~~(Math.max(0,255-m[$>>>2]-50)*(255/205))}for(var $=0,A=X.length;$<A;$+=4){var p=T[$+3]/255;
W[$]=T[$]*p+W[$]*(1-p);W[$+1]=T[$+1]*p+W[$+1]*(1-p);W[$+2]=T[$+2]*p+W[$+2]*(1-p)}}return M}();t.B.bf=function(){function M(Z,g){return Z[g]+Z[g+1]+Z[g+2]+Z[g+3]}function X(Z,g){return Z[g]+Z[g+1]+Z[g+2]+2*Z[g+3]}function J(Z,g,S,U){Z[g]=S[U];
Z[g+1]=S[U+1];Z[g+2]=S[U+2];Z[g+3]=S[U+3]}function q(Z,g,S){Z[g]=Z[S];Z[g+1]=Z[S+1];Z[g+2]=Z[S+2];Z[g+3]=Z[S+3]}function W(Z,g,S){Z[S]=g[S];
Z[S+1]=g[S+1];Z[S+2]=g[S+2];Z[S+3]=255-g[S+3]}function T(Z){for(var $=0,g=Z.length;$<g;$+=4){Z[$+3]=255-Z[$+3]}}function _(){var Z=Math.random();
if(Z>.5)return 0;if(Z>.25)return 1;if(Z>.1)return 2;if(Z>.02143)return 3;if(Z>.00445)return 4;if(Z>65e-5)return 5;
if(Z>415e-6)return 6;if(Z>55e-6)return 7;return 8}function m(Z,g,S,U,B,e){Z[g]=S[U]+(B[e]-S[U]>>1);Z[g+1]=S[U+1]+(B[e+1]-S[U+1]>>1);
Z[g+2]=S[U+2]+(B[e+2]-S[U+2]>>1);Z[g+3]=S[U+3]+(B[e+3]-S[U+3]>>1)}function d(Z,g,S,U,B,e){Z[g]=B[e]+S[U]>>1;
Z[g+1]=B[e+1]+S[U+1]>>1;Z[g+2]=B[e+2]+S[U+2]>>1;Z[g+3]=B[e+3]+S[U+3]>>1}function A(Z,g,S,U,B,e,P,h,V){var I=0,F=0,c=0,$,D=B[e],n;
m(h,0,Z,g,Z,S);for($=0;$<D;$++){m(h,($+1)*4,h,$*4,Z,S)}F=(D+1)*4;c+=D;e--;J(Z,g,h,F-4);U[e]=M(Z,g);g-=V;
while(e>0&&U[e-1]<U[e]){n=h;h=P;P=n;I=F;d(h,0,Z,g-V,P,0);for($=4;$<I;$+=4){d(h,$,h,$-4,P,$)}D=B[e];for($=c;
$<D;$++){m(h,F,h,F-4,P,I-4);F+=4;c++}e--;J(Z,g,h,F-4);U[e]=M(Z,g);g-=V}}function p(Z,g,S,U,B){var e=g*4,P=0,h,V,I=new Uint8Array(g+1),F=new Uint8Array(10*4),c=new Uint8Array(10*4);
for(var $=0;$<S;$++){W(U,Z,P);B[0]=M(U,P);I[0]=_();h=P;P+=4;for(var D=1;D<g;D++){W(U,Z,P);B[D]=M(U,P);
V=_();I[D]=V;if(B[D-1]<B[D]&&V>0){A(U,P-4,P,B,I,D,F,c,4)}P+=4}B[g]=B[0];I[g]=I[0];if(B[g-1]<B[g]&&V>0){A(U,P,h,B,I,g,F,c,4)}}T(U)}function a(){var Z=Math.random();
if(Z>.659755)return 0;if(Z>.1625)return 10;if(Z>.06)return 20;if(Z>.01)return 30;if(Z>.0035)return 40;
if(Z>65e-5)return 50;if(Z>415e-6)return 60;if(Z>55e-6)return 70;return 80}function f(Z,g,S,U,B,e){var P=a()+1,h=U[B];
for(var $=1;$<P;$++){if(0>B)break;if(U[B-$]<h){q(Z,g,S)}else{break}g+=e}}function s(Z,g,S,U,B){var e=g*4,P=0;
for(var $=0;$<S;$++){W(U,Z,P);B[0]=M(U,P);P+=4;for(var h=1;h<g;h++){W(U,Z,P);B[h]=M(Z,P);if(B[h-1]<B[h]){f(U,P-4,P,B,h,-4)}P+=4}B[g]=B[0];
if(B[h-1]<B[h]){f(U,P-4,P-e,B,h,-4)}}T(U)}function j(Z,g,S,U,B,e){var P=1,h,V,I=new Uint8Array(4),F,c=g;
while(Math.random()<1/P){c=g;if(U<=1)break;h=S[U];V=S[U-1];if(h<=V)break;J(I,0,Z,c-e);F=!0;for(var $=U;
$<B;$++){if(V>S[$]){J(Z,c-e,I,0);S[$-1]=V;F=!1;break}J(Z,c-e,Z,c);S[$-1]=S[$];c+=e}if(F){J(Z,c-e,I,0);
S[B-1]=V}P++;U--;g-=e}}function Y(Z,g,S,U,B){var e=0,P=0,h=g*4;for(var $=0;$<S;$++){P=e;for(var V=0;
V<g;V++){W(U,Z,e);B[V]=X(U,e);e+=4}e=P;for(var V=1;V<g;V++){if(B[V-1]<B[V]&&Math.random()<.66){j(U,e+4,B,V,g,4)}e+=4}e+=4}T(U)}function G(Z,g,S,U,B){var e=B[0],P=B[1],h=new Uint16Array(g+1),V=Z,I=U,F;
if(P){F=U.slice(0);Q(Z,U,g,S);V=U;I=F}if(e==0)p(V,g,S,I,h);else if(e==1)s(V,g,S,I,h);else if(e==2)Y(V,g,S,I,h);
if(P){Q(F,U,g,S)}}function Q(Z,g,S,U){for(var B=0;B<U;B++)for(var e=0;e<S;e++){var P=B*S+e<<2,h=B*S+(S-1-e)<<2;
g[h]=Z[P];g[h+1]=Z[P+1];g[h+2]=Z[P+2];g[h+3]=Z[P+3]}}return G}();t.B.arX=function(M,X,J,q,W){var T=t.B.W,_=1,G=0,g=0;
T.RH(X,J);T.yi(W[2]);var m=3<<13,d=Math.PI/2.43,A=d/256,p=Math.PI*2/256;function a(){var e=T.random()*256,P=T.random()*256;
return _*~~(Math.tan(d-e*A)*325*Math.cos(P*p)*256)+m>>16}_=W[0];var f=W[1],s=(f+2)/2,j=T.random()*255,Y=T.em(1);
for(var $=0;$<J;$++){var Q=T.ym(a()+j);for(var Z=0;Z<X;Z++){Q=T.ym(a()+Q);Y[G++]=Q}}G=X;for(var $=1;
$<J;$++){var S=T.ym(a()+Y[g++]);Y[G++]=S;for(var Z=1;Z<X;Z++){var U=g+1;if(Z+1==X){U--}var B=(s+S+Y[U]+Y[g]*f)/(f+2);
S=T.ym(a()+B);Y[G++]=S;g++}}T.QE(Y,q)};var iU=function(){function M(u){u=u^61^u>>>16;u=u+(u<<3);u=u^u>>>4;
u=u*668265261;u=u^u>>>15;return u}var X=function(){var X=function(u){if(u){this.Jm=u}this.Jm=M(this.Jm);
return(this.Jm&16777215)*(1/16777215)};return X};function J(u,C){if(C==null){C=[0,0]}return Math.sqrt((C[0]-u[0])*(C[0]-u[0])+(C[1]-u[1])*(C[1]-u[1]))}function q(u,C){if(C==null){C=[0,0]}return[-(C[1]-u[1])/J(u,C),(C[0]-u[0])/J(u,C)]}function W(u){return[Math.cos(u),Math.sin(u)]}function T(u){var C=J(u,[0,0]),l=[u[0]/C,u[1]/C],x=Math.atan(l[1]/l[0]);
if(l[0]>0&&l[1]<0){x+=2*Math.PI}else if(l[0]<0&&l[1]<0){x+=Math.PI}else if(l[0]<0&&l[1]>0){x+=Math.PI}return x}function _(u){var _=0;
for(var $=1;$<u.length/2;++$){_+=J([u[2*$],u[2*$+1]],[u[2*($-1)],u[2*($-1)+1]])}return _}function m(u,C,l){var x=new Float32Array(u.length),y=1/(u.length/2),ge=U(l);
for(var $=0;$<u.length/2;++$){var O=$*y,kz=O/2+.5,z=1,eZ=0;if(l.shape==2){z=1/(2*kz)}if(l.shape==3){kz=(1-O)/2+.5;
z=1/(2*kz)+.5}if(l.shape==4){kz=O;z=Math.sin(3/2*Math.PI*kz)/4+1}if(l.shape==5){kz=(O-.5)*6;z=(-Math.atan(kz)/1.25+1)/5+.6-.2*O}var kM=[null,null];
if($==0){kM=q([u[2*$],u[2*$+1]],[u[2*($+1)],u[2*($+1)+1]])}else if($==u.length/2-1){kM=q([u[2*($-1)],u[2*($-1)+1]],[u[2*$],u[2*$+1]])}else{kM=q([u[2*($-1)],u[2*($-1)+1]],[u[2*($+1)],u[2*($+1)+1]])}x[2*$]=u[2*$]+(z*C+eZ)*kM[0];
x[2*$+1]=u[2*$+1]+(z*C+eZ)*kM[1];if(l.style==2){x[2*$]+=B(2*$/x.length,ge,l)}}return x}function d(u,C,l){var x=new Float32Array(u.length),y=1/(u.length/2);
for(var $=0;$<u.length/2;++$){var ge=$*y,O=[null,null],kz=.6*l.fQ*h(ge,C.aE_)*l.DK/100,z=.6*l.fQ*h(ge,C.af0)*l.DK/100,eZ=C.arC*kz+(1-C.arC)*z;
if($==0){O=q([u[2*$],u[2*$+1]],[u[2*($+1)],u[2*($+1)+1]])}else if($==u.length/2-1){O=q([u[2*($-1)],u[2*($-1)+1]],[u[2*$],u[2*$+1]])}else{O=q([u[2*($-1)],u[2*($-1)+1]],[u[2*($+1)],u[2*($+1)+1]])}x[2*$]=u[2*$]+eZ*O[0];
x[2*$+1]=u[2*$+1]+eZ*O[1]}return x}function A(u){if(u.Hl==1){return[.150684932,.205479452,.465753425,.178082192]}else if(u.Hl==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var C=[],l=1/(c(u)-1);
for(var $=0;$<c(u)-1;++$){C.push(l)}return C}}function p(u,C,l){var x=[],y=C-u,ge=u;for(var $=0;$<l.length-1;
++$){x.push(ge+l[$]*y);ge=x[$]}return x}function a(u,C,l,x){var y=new Float32Array(l.length),ge=0,O={shape:Math.floor(x.random()*2.99),aAk:x.random()*.1+.15};
for(var $=0;$<l.length-1;++$){var kz=ge+l[$];y[$]=((1-kz)*u+kz*C)*Q(x,kz,O);ge=kz}return y}function f(u,C,l,x){var y=I(x),ge=x.random(),O=ge*20+(1-ge)*26,kz=new Float32Array(l.length),z=0;
for(var $=0;$<l.length-1;++$){var eZ=z+l[$];kz[$]=(1-eZ)*u+eZ*C+y/O*(2/3*Math.sin(Math.PI*eZ)+1/3*Math.sqrt(Math.sin(Math.PI*eZ)));
z=eZ}return kz}function s(u,C,l){var x=[];for(var $=0;$<C.length-1;++$){x.push(C[$].slice());var y=$*(c(l)-1),ge=($+1)*(c(l)-1),O=u[ge]-u[y];
for(var kz=y+1;kz<ge;++kz){var z=U(l),eZ=new Float32Array(C[0].length),kM=(u[kz]-u[y])/O;for(var jV=0;
jV<C[0].length/2;++jV){eZ[2*jV]=(1-kM)*C[$][2*jV]+kM*C[$+1][2*jV];eZ[2*jV+1]=(1-kM)*C[$][2*jV+1]+kM*C[$+1][2*jV+1];
if(l.style==2){eZ[2*jV]+=B(2*jV/C[0].length,z,l)}}x.push(eZ)}}x.push(C[C.length-1]);return x}function j(u,C,l){var x=new Array(C.length),y=R(u),O=null;
for(var $=0;$<C.length;++$){x[$]=m(y,(C[$]-.5)*l.DK,l)}var ge=1+.05*l.ay$*I(l)/I({Hl:1});for(var $=0;
$<C.length;++$){if(C[$]==0){O=$}}for(var $=0;$<C.length;++$){var kz=(l.random()-.5)*2,z=Math.round(l.random()*9+1),eZ=new Float32Array(z*2+2);
for(var kM=0;kM<=z;++kM){eZ[2*kM]=x[$][0]-(x[$][2*kM]-x[$][0]);eZ[2*kM+1]=x[$][1]-(x[$][2*kM+1]-x[$][1])}if($==O){kz*=.1}for(var kM=(x[$].length-1)/2;
kM>z;--kM){x[$][2*kM]=(1-kz)*x[$][2*kM]+kz*(x[$][2*(kM-z)]+ge*(x[$][2*kM]-x[$][2*(kM-z)]));x[$][2*kM+1]=(1-kz)*x[$][2*kM+1]+kz*(x[$][2*(kM-z)+1]+ge*(x[$][2*kM+1]-x[$][2*(kM-z)+1]))}for(var kM=z-1;
kM>=0;--kM){x[$][2*kM]=(1-kz)*x[$][2*kM]+kz*(eZ[2*(z-kM)]+ge*(x[$][2*kM]-eZ[2*(z-kM)]));x[$][2*kM+1]=(1-kz)*x[$][2*kM+1]+kz*(eZ[2*(z-kM)+1]+ge*(x[$][2*kM+1]-eZ[2*(z-kM)+1]))}}var jV=P(C,l);
if(l.fQ>0){var cL=0;for(var $=0;$<C.length;++$){if($==0){cL+=C[$]}else{cL+=Math.abs(C[$]-C[$-1])}var aw=cL-Math.floor(cL),h2=1;
if(aw==0){h2=0}x[$]=d(x[$],{aE_:jV[Math.floor(cL)],af0:jV[Math.floor(cL)+h2],arC:aw},l)}}return x}function Y(u,C){var l=k(C,u),x=b(C,u),y=[],ge=[],O=[],kz=A(u);
for(var $=0;$<C.length-1;++$){y.push(C[$]);ge.push(l[$]);O.push(x[$]);var z=p(C[$],C[$+1],kz),eZ=a(l[$],l[$+1],kz,u),kM=f(x[$],x[$+1],kz,u);
for(var jV=0;jV<z.length;++jV){y.push(z[jV]);ge.push(eZ[jV]);O.push(kM[jV])}}y.push(C[C.length-1]);ge.push(l[l.length-1]);
O.push(x[x.length-1]);return{azx:y,aFW:ge,tE:O}}function G(u,C,l,x){var y=new Float32Array(2*x),ge=u.length/2,O=ge-C,kz=l*O,z=kz/x;
for(var $=0;$<x;++$){var eZ=Math.floor(C+$*z),kM=Math.ceil(C+$*z),l=C+$*z,jV=kM-eZ,cL=1,aw=0;if(jV!=0){cL=(kM-l)/jV;
aw=(l-eZ)/jV}y[2*$]=cL*u[2*eZ]+aw*u[2*kM];y[2*$+1]=cL*u[2*eZ+1]+aw*u[2*kM+1]}return y}function Q(u,C,l){var x=l.aAk,y=C*2*Math.PI,ge=y,O=0;
if(l.shape==0){O=(Math.sin(2*ge+Math.PI/2)+1)/2}else if(l.shape==1){O=(Math.sin(ge+Math.PI/2)+1)/2}else{O=(4*Math.sin(3/4*ge+Math.PI)+Math.sin(Math.PI/2+2*ge)-2*ge/Math.PI+6)/7}return Math.min(1,1-x+x*O)}function Z(u,C,l,x){var y=[];
for(var $=0;$<u.length;++$){y.push(G(u[$],C[$],l[$],x))}return y}function g(u,C,l){var x=[];for(var $=0;
$<u.length;++$){var y=W(2*Math.PI*l.random()),ge=W(2*Math.PI*l.random()),O=l.fd*.5*D({Hl:1})/D(l),kz=O*l.DK/200,z=O*C/500,eZ=new Float32Array(u[0].length);
for(var kM=0;kM<u[0].length/2;++kM){var jV=W(2*Math.PI*l.random()),cL=2*kM/u[0].length;eZ[2*kM]=u[$][2*kM]+kz*(jV[0]+((1-cL)*y[0]+cL*ge[0]));
eZ[2*kM+1]=u[$][2*kM+1]+z*(jV[1]+((1-cL)*y[1]+cL*ge[1]))}x.push(eZ)}return x}function S(u,C,l){var x=l.Y4,y=2/x,ge=[1/10,1/30,1/40,1/45,1/100],O=ge[l.Hl-1],kz=4*(l.G8/25*y*O)*(1-l.fd/150),jV=0,aw=0;
if(l.style==3){return kz*.09}var z=2.2*(u-.5),eZ=z*z*z*z+.27+Math.max(0,(l.G8-50)/15),kM=2*(Math.sin(3*Math.PI*C)/(Math.PI*C+2)+1.1)-C/2;
C=2*C;if(C<.41){var cL=2*Math.PI*C/.41;jV=(Math.sin(cL-Math.PI/2)+1)/4+.5}else if(C<.77){var cL=2*Math.PI*(C-.41)/.36;
jV=(Math.sin(cL-Math.PI/2)+1)/4+.5-cL/2/Math.PI*.5}else{var cL=2*Math.PI*(C-.77)/.23;jV=(Math.sin(cL-Math.PI/2)+1)/2*.12}jV*=3;
jV+=Math.max(0,(l.G8-50)/15);if(l.e==6){aw=kM}else{aw=jV}return kz*eZ*aw}function U(u){return{m:u.random()*7/2+.5,IB:u.random()*2*Math.PI}}function B(u,C,l){return l.DK/300*c({Hl:1})/c(l)*10*(Math.sin(C.m*2*Math.PI*u+C.IB)+10*(l.random()-.5))}function e(u){var C=Math.exp(-u.fQ/25);
return{m:u.random()*3/2+.5,IB:u.random()*2*Math.PI,eU:(u.random()-.5)*10*C}}function P(u,C){var l=Math.ceil(N(u)),x=[];
for(var $=0;$<=l;++$){x.push(e(C))}return x}function h(u,C){var l=C.m*4*Math.PI*u+C.IB;return Math.exp(-1/2*Math.PI*u)*Math.cos(l)*Math.cos(l)*Math.cos(l)*Math.cos(l)*Math.cos(l)+u*C.eU-C.eU/4}function V(u,C,l,x,y){var ge=0,O=D(C)-1;
for(var $=0;$<O;++$){for(var kz=0;kz<u.length-1;kz+=c(C)-1){for(var z=$;z<u[0].length/2-O;z+=O){for(var eZ=kz;
eZ<kz+(c(C)-1);++eZ){l[y+ge]=S(eZ*(C.Y4-1)/(u.length-1)%1,z/u[0].length,C);var kM=0,jV=0;if(C.e==6&&eZ!=0&&eZ!=u.length-1){jV=(u[eZ][2*(z+1)+1]-u[eZ][2*z+1])/2;
kM=(u[eZ][2*(z+1)]-u[eZ][2*z])/2}x[8*y+8*ge]=u[eZ][2*z]+kM;x[8*y+8*ge+1]=u[eZ][2*z+1]+jV;x[8*y+8*ge+2]=u[eZ][2*(z+O)]+kM;
x[8*y+8*ge+3]=u[eZ][2*(z+O)+1]+jV;x[8*y+8*ge+4]=u[eZ+1][2*(z+O)];x[8*y+8*ge+5]=u[eZ+1][2*(z+O)+1];x[8*y+8*ge+6]=u[eZ+1][2*z];
x[8*y+8*ge+7]=u[eZ+1][2*z+1];++ge}}}}}function I(u){var C=[100,300,500,700,1e3];return C[u.Hl-1]}function F(u){var C=[30,70,100,140,300];
return C[u.Hl-1]}function c(u){var C=[5,7,26,40,100];return C[u.Hl-1]}function D(u){if(u.Hl==1){return 4}else if(u.Hl==2){return 8}else{return Math.floor(F(u)/9)}}function n(u){var C=u.Y4,l=new Float32Array(C),x=null;
for(var $=0;$<C;++$){l[$]=u.random()}if(u.Y4<=3){l[0]=0;l[u.Y4-1]=1}else{for(var $=0;$<2;++$){var y=Math.floor(u.random()*C);
if(x==null||x!=y){l[y]=$;x=y}else{l[y+1]=$}}}return l}function k(u,C){var l=[],x=.2,ge=0;for(var $=0;
$<u.length;++$){var y=C.random()*(1-x)+x;l.push(y)}var O=Math.min(3,C.Y4);for(var $=0;$<u.length;++$){if(l[$]>.9){++ge}}while(ge<O){var kz=Math.floor(C.random()*u.length);
if(l[kz]<=.9){l[kz]=.9+.1*C.random();++ge}}return l}function b(u,C){var l=I(C),x=I({Hl:1}),y=[];for(var $=0;
$<u.length;++$){y.push(Math.max(1,(C.random()*10+2)*l/x))}return y}function N(u){var C=0;for(var $=0;
$<u.length;++$){if($==0){C+=u[$]}else{C+=Math.abs(u[$]-u[$-1])}}return C}function L(u,C){if(u.length/2-1==I(C)){return u}var l=new Float32Array(2*(I(C)+1)),x=(u.length-2)/(l.length-2);
for(var $=0;$<l.length/2;++$){var y=$*x,ge=Math.floor(y),O=Math.ceil(y),kz=O-ge,z=1,eZ=0;if(kz!=0){z=(O-y)/kz;
eZ=(y-ge)/kz}l[2*$]=z*u[2*ge]+eZ*u[2*O];l[2*$+1]=z*u[2*ge+1]+eZ*u[2*O+1]}return l}function R(u,C){var l=u.length/2,x=_(u),y=x/l,ge=!1,z=0,eZ=0,kM=1;
if(C){var O=Math.floor(x/C.asv),kz=C.asv;if(C.akF&&u[0]==u[u.length-2]&&u[1]==u[u.length-1]){ge=!0;kz=x/(O+1)}if(C.e==2&&!ge&&kz*O+C.length>x){l=O+1}else{l=O+2}y=kz}var jV=new Float32Array(l*2);
jV[0]=u[0];jV[1]=u[1];for(var $=1;$<l;++$){while(z<=$*y){eZ=z;z+=J([u[2*kM],u[2*kM+1]],[u[2*(kM-1)],u[2*(kM-1)+1]]);
++kM}var cL=1-($*y-eZ)/(z-eZ);jV[2*$]=(1-cL)*u[2*kM]+cL*u[2*(kM-1)];jV[2*$+1]=(1-cL)*u[2*kM+1]+cL*u[2*(kM-1)+1]}jV[jV.length-2]=u[u.length-2];
jV[jV.length-1]=u[u.length-1];return jV}function i(u,C){var l=R(u,C),x=[];for(var $=0;$<(l.length-2)/2;
++$){var y=[];y.push(l[2*$]);y.push(l[2*$+1]);var ge=J([l[2*($+1)],l[2*($+1)+1]],[l[2*$],l[2*$+1]]),O=[(l[2*($+1)]-l[2*$])/ge,(l[2*($+1)+1]-l[2*$+1])/ge],kz=W((C.acU-90)/360*2*Math.PI),z=O;
if(C.e==3){z=kz}else if(C.e==4){z=W(T(O)+T(kz))}else if(C.e==5){z=W(((C.random()-.5)*C.acU-90)/360*2*Math.PI)}var eZ=C.length;
if(C.anX){eZ=2*C.random()*C.length}y.push(l[2*$]+z[0]*eZ);y.push(l[2*$+1]+z[1]*eZ);x.push(y)}return x}function v(u){if(u.a0J){u.Ev=100*Math.random()}else{u.Ev=u.ath}u.random=new X;
u.random(u.Ev);if(u.e==6){u.Y4=2;u.shape=5;u.ay$=0}}function E(u,C){u=L(u,C);var l=[u],eZ=0;if(C.e>=2&&C.e<6){l=i(u,C)}var x=D(C)-1,y=F(C)-x,ge=(C.Y4-1)*(c(C)-1),O=l.length*y*ge,kz=new Float32Array(O),z=new Float32Array(8*O);
for(var $=0;$<l.length;++$){for(var kM=0;kM<1e4;++kM){C.Ev=M(C.Ev)}C.random(C.Ev);var u=L(l[$],C),jV=n(C),cL=N(jV),aw=j(u,jV,C),h2=Y(C,jV),ea=s(h2.azx,aw,C);
ea=Z(ea,h2.tE,h2.aFW,F(C));if(C.fd>0){ea=g(ea,_(l[$]),C)}V(ea,C,kz,z,eZ);eZ+=y*ge}return[kz,z]}var iU=function(u){var C=performance.now(),l=u[0],x=u[1];
v(x);var y=[new Float32Array(0),new Float32Array(0)];for(var $=0;$<l.length;++$){x.Ev=M(x.Ev);var ge=E(l[$],x),O=new Float32Array(y[0].length+ge[0].length),kz=new Float32Array(y[1].length+ge[1].length);
O.set(y[0]);O.set(ge[0],y[0].length);y[0]=O;kz.set(y[1]);kz.set(ge[1],y[1].length);y[1]=kz}var z=performance.now();
if(x.axQ){console._S("Geometry: "+String(z-C)+"ms")}return y};return iU}(),em=function(){function M(W,T){var _=[],m=0,d=T.length,A=0,p=0,a=new gc,f=0,s=1e9;
for(p=0;p<d;p++){var j=p*8,Y=T[p];if(Y<s)s=Y;var G=W[j+0],Q=W[j+1],Z=W[j+2],g=W[j+3],S=W[j+4],U=W[j+5],B=W[j+6],e=W[j+7],P=Math.min(G,Z,S,B),h=Math.max(G,Z,S,B),V=Math.min(Q,g,U,e),I=Math.max(Q,g,U,e),F=new gc(P,V,h-P,I-V),c=F.m0(a),D=f+Y;
if(p-A<10&&(p==A||c.o()*.8<F.o()+a.o())){a=c;f=D}else{_.push(p-A);A=p;a=F;f=Y;s=Y}}if(p!=A)_.push(p-A);
return _}function X(W,T,_,m,d,A){var p=document.createElement("canvas"),Q=0,O=.8;p.width=T;p.height=_;
var a=p.getContext("2d"),f=d[0],s=d[1],j=new Float64Array(T*_),Y=Date.now(),G=M(s,f);for(var Z=0;Z<G.length;
Z++){var g=Q,S=Q+G[Z],e=1e9,h=1e9,k=0;Q=S;var U=g*8,B=S*8,P=-e,V=-h;for(var I=U;I<B;I+=2){var F=s[I],c=s[I+1];
if(F<e)e=F;if(F>P)P=F;if(c<h)h=c;if(c>V)V=c}e=Math.floor(e);P=Math.ceil(P);h=Math.floor(h);V=Math.ceil(V);
var D=P-e,n=V-h;for(var b=g;b<S;b++)k+=f[b];for(var I=U;I<B;I+=8){var N=f[I>>>3],L=s[I+0],R=s[I+1],i=s[I+2],v=s[I+3],E=s[I+4],u=s[I+5],C=s[I+6],l=s[I+7];
a.fillStyle="rgba(0,0,0,"+N/k+")";a.beginPath();a.moveTo(L,R);a.lineTo(i,v);a.lineTo(E,u);a.lineTo(C,l);
a.closePath();a.fill()}var x=a.getImageData(e,h,D,n).data;for(var c=0;c<n;c++)for(var F=0;F<D;F++){var $=c*D+F,y=x[$*4+3],ge=(h+c)*T+e+F;
if(y!=0)j[ge]+=y*k}a.clearRect(e,h,D,n)}var kz=A[1].color,z=Math.pow(kz.z/255,O),eZ=Math.pow(kz.L/255,O),kM=Math.pow(kz.g/255,O),jV=new gc(0,0,T,_),cL=t.j(T*_*4);
for(var c=0;c<_;c++)for(var F=0;F<T;F++){var $=c*T+F,b=$*4,f=j[$]*(1/255);cL[b]=q(z,f);cL[b+1]=q(eZ,f);
cL[b+2]=q(kM,f);cL[b+3]=Math.min(255,f*255)}t.v.r$("norm",cL,jV,m,jV,jV,1)}var J=new Uint8Array(2e3);
for(var $=0;$<2e3;$++)J[$]=255*Math.min(1,Math.log($/700+1));function q(W,T){return J[Math.min(1500,~~(W*T*1e3))]}return X}(),h7=function(){var M=new Float32Array(3e3),X=new Float32Array(3e3),J=new Float32Array(256),q=new Float32Array(3e3);
function W(){var s=M.length;M[0]=Math.log10(157647e-9);for(var $=1;$<s;++$)M[$]=Math.log10($/s)}function T(){var s=X.length;
for(var $=0;$<s;++$)X[$]=Math.pow(10,20*($-s/2)/s)}function _(){var s=J.length;for(var $=0;$<s;++$)J[$]=t.HR($/255)}function m(){var s=q.length;
for(var $=0;$<s;++$)q[$]=255*t.jm($/(s-1))}function d(s,j){var Y=s.length>>>2;for(var $=0;$<Y;++$){var G=J[s[4*$]],Q=J[s[4*$+1]],Z=J[s[4*$+2]],g=.3811*G+.5783*Q+.0402*Z,S=.1967*G+.7244*Q+.0782*Z,U=.0241*G+.1288*Q+.8444*Z;
g=M[~~(g*M.length)];S=M[~~(S*M.length)];U=M[~~(U*M.length)];j[3*$]=(g+S+U)*.5773502692;j[3*$+1]=(g+S-2*U)*.4082482905;
j[3*$+2]=(g-S)*.7071067812}}function A(s,j){var Y=j.length>>>2,G=q.length-1;for(var $=0;$<Y;++$){var Q=.5773502692*s[3*$],Z=.4082482905*s[3*$+1],g=.7071067812*s[3*$+2],S=X[~~((Q+Z+g+10)*(3e3/20))],U=X[~~((Q+Z-g+10)*(3e3/20))],B=X[~~((Q-2*Z+10)*(3e3/20))],e=4.4679*S-3.5873*U+.1193*B,P=-1.2186*S+2.3809*U-.1624*B,h=.0497*S-.2439*U+1.2045*B;
j[4*$]=q[~~(G*Math.max(0,Math.min(1,e)))];j[4*$+1]=q[~~(G*Math.max(0,Math.min(1,P)))];j[4*$+2]=q[~~(G*Math.max(0,Math.min(1,h)))]}}function p(s){var j=0,Y=0,G=0;
for(var $=0;$<s.length;$+=3){j+=s[$];Y+=s[$+1];G+=s[$+2]}return[j/(s.length/3),Y/(s.length/3),G/(s.length/3)]}function a(s,p){var j=0,Y=0,G=0;
for(var $=0;$<s.length;$+=3){var Q=s[$]-p[0],Z=s[$+1]-p[1],g=s[$+2]-p[2];j+=Q*Q;Y+=Z*Z;G+=g*g}return[Math.sqrt(j/(s.length/3)),Math.sqrt(Y/(s.length/3)),Math.sqrt(G/(s.length/3))]}function f(s,j,Y,G,Q,Z){W();
T();_();m();var g=0,R,i;if(Z[0]>100)g=-(Z[0]-100)/100*.13;else if(Z[0]>=75)g=(100-Z[0])/25*.04;else if(Z[0]>=50)g=.04+(75-Z[0])/25*.04;
else if(Z[0]>=25)g=.08+(50-Z[0])/25*.08;else g=.16+(25-Z[0])/25*.24;var S=(Z[1]-100+100)/100,U=Z[2]/100,B=Z[3],e=new Float32Array(s.length*3/4),P=new Float32Array(G.length*3/4),h=Date.now();
d(s,e);d(G,P);var V=Date.now(),I=p(e),F=p(P),c=Date.now(),D=a(e,I),n=a(P,F),k=Date.now();F[0]*=Math.pow(10,g);
var b=[n[0]/D[0],n[1]/D[1],n[2]/D[2]],N=e.length,L=1/-1.1546978950500488;for(var $=0;$<N;$+=3){if(B){var v=Math.max(0,Math.min(1,e[$]*L));
v=1-Math.sqrt(v);R=v*F[1];i=v*F[2]}else{R=F[1];i=F[2]}e[$]=(e[$]-I[0])*b[0]+F[0];e[$+1]=(e[$+1]-I[1])*b[1]*S+R;
e[$+2]=(e[$+2]-I[2])*b[2]*S+i}var E=Date.now();A(e,Q);var u=Q.length>>>2;for(var $=0;$<u;++$){Q[4*$]=(1-U)*Q[4*$]+U*s[4*$];
Q[4*$+1]=(1-U)*Q[4*$+1]+U*s[4*$+1];Q[4*$+2]=(1-U)*Q[4*$+2]+U*s[4*$+2];Q[4*$+3]=255}}return f}(),e1=function(){function M(X,J,q,W,T){var _=[-1,-1,-1,-1],m=255,d=160,A,p=!1,a=new Array(4);
a[0]=new Array(J);a[1]=new Array(q);a[2]=new Array(J);a[3]=new Array(q);var f=new Array(2);f[0]=new Array(q);
f[1]=new Array(q);function s(n,k,b,N,L){this.start=N;this.axis=L;this.dir=n;this.end=-1;this.source=k;
this.o=b}function j(n,k,b,N,L){if(b%2==0){if(!a[b][n])a[b][n]=new Array;a[b][n].push(new s(b,N,L,k,n))}else{if(!a[b][k])a[b][k]=new Array;
a[b][k].push(new s(b,N,L,n,k))}var R=Date.now()}function Y($){var n=!1,k=0;if(X[4*$+3]<m)return n;var b=$%J,N=Math.floor($/J);
G(b,N);if($+J<J*q&&X[4*($+J)+3]<m&&X[4*($-J)+3]>=m&&X[4*($-2*J)+3]>=m){var L=2;if(X[4*($+J)+3]<=d)k=-1;
if(X[4*($+2*J-1)+3]<m&&X[4*($+2*J+1)+3]<m)n=!0;else if(X[4*($+2*J-1)+3]>=m&&X[4*($+1)+3]>=m)n=!0;else if(X[4*($+2*J+1)+3]>=m&&X[4*($-1)+3]>=m)n=!0;
j(b,N,L,k,n)}else if($-J>=0&&X[4*($-J)+3]<m&&X[4*($+J)+3]>=m&&X[4*($+2*J)+3]>=m){var L=0;if(X[4*($-J)+3]<=d)k=-1;
if(X[4*($-2*J-1)+3]<m&&X[4*($-2*J+1)+3]<m)n=!0;else if(X[4*($-2*J-1)+3]>=m&&X[4*($+1)+3]>=m)n=!0;else if(X[4*($-2*J+1)+3]>=m&&X[4*($-1)+3]>=m)n=!0;
j(b,N,L,k,n)}k=0;if($+1<J*q&&X[4*($+1)+3]<m&&X[4*($-1)+3]>=m&&X[4*($-2)+3]>=m){var L=3;if(X[4*($+1)+3]<=d)k=-1;
if(!n&&X[4*($+J+2)+3]<m&&X[4*($-J+2)+3]<m){n=!0;j(b,N,L,k,!0)}else j(b,N,L,k,!1)}else if($>=1&&X[4*($-1)+3]<m&&X[4*($+1)+3]>=m&&X[4*($+2)+3]>=m){var L=1;
if(X[4*($-1)+3]<=d)k=-1;if(!n&&X[4*($+J-2)+3]<m&&X[4*($-J-2)+3]<m){n=!0;j(b,N,L,k,!0)}else j(b,N,L,k,!1)}return n}function G($,n){if(_[0]==-1){_[0]=$;
_[1]=n;_[2]=1;_[3]=1}if($<_[0]){_[2]+=_[0]-$;_[0]=$}if($>_[0]+_[2])_[2]=$-_[0];if(n<_[1]){_[3]+=_[1]-n;
_[1]=n}if(n>_[1]+_[3])_[3]=n-_[1]}function Q(n,$,k,b){if(!k.o)return;var N=(n+2)%4,L=k.start,R=_[1];
if(n==2)R+=_[3];else if(n==1)R=_[0];else if(n==3)R=_[0]+_[2];var i=k.source;if(a[N][$])for(var v=0;v<a[N][$].length;
++v){if(n>1){var E=L+Math.floor((a[N][$][v].start-L)/2);if(a[N][$][v].start>L&&E<R)R=E}else{var E=L-Math.floor((L-a[N][$][v].start)/2);
if(a[N][$][v].start<L&&E>R)R=E}}for(var u=1;u<Math.abs(R-L);++u){var v=L+u;if(n==1||n==0)v=L-u;for(var C=0;
C<2;++C){var l=2*C,x=!1;if(n%2==0)l+=1;if(a[l][v]){for(var y=0;y<a[l][v].length;++y){if(a[l][v][y].o){var ge=a[l][v][y].start,O=$-ge,kz=v-L;
if(l==0||l==1)O=-O;if(O<=0)continue;if(n==0||n==1)kz=-kz;if(kz>O){R=v;x=!0;break}}}if(x)break}}}k.end=R;
S(n,$,L,R,i)}function Z(n){for(var $=0;$<a[n].length;++$){if(a[n][$])for(var k=0;k<a[n][$].length;++k){Q(n,$,a[n][$][k])}}}function g(){var n=[2,0,3,1];
for(var $=0;$<n.length;++$)Z(n[$])}function S(n,$,k,b,N){if(n==2)for(var L=k;L<=b;++L){if(!U(L*J+$,(k+N)*J+$))return!1}else if(n==0)for(var L=k;
L>=b;--L){if(!U(L*J+$,(k-N)*J+$))return!1}else if(n==1)for(var L=k;L>=b;--L){if(!U($*J+L,$*J+k-N))return!1}else if(n==3)for(var L=k;
L<=b;++L){if(!U($*J+L,$*J+k+N))return!1}}function U(n,k){if(!A[n]){W[4*n]=W[4*k];W[4*n+1]=W[4*k+1];W[4*n+2]=W[4*k+2];
if(p)W[4*n+3]=255;A[n]=!0;return!0}return!1}function B(){for(var $=0;$<4;$+=1){for(var n=0;n<a[$].length;
++n){if(a[$][n])for(var k=0;k<a[$][n].length;++k){var b=a[$][n][k];for(var N=1;N<3;N+=2){var L=($+N)%4;
if(a[L][b.start])for(var R=0;R<a[L][b.start].length;++R){if(a[L][b.start][R].start==b.axis){var jX=J*b.start+b.axis;
if($%2==1){jX=b.start+J*b.axis;e(a[L][b.start][R])}else e(b)}}}}}}}function e(n){if(n.dir%2==0){var jX=J*n.start+n.axis,k=n.start,b=1;
if(!A[jX+1])b=3;else if(A[jX-1])return;var N=W[4*jX],L=W[4*jX+1],R=W[4*jX+2];while(W[4*jX]==N&&W[4*jX+1]==L&&W[4*jX+2]==R){if(b==1){if(!f[0][k])f[0][k]=new Array;
f[0][k].push(new s(b,0,!1,n.axis,k))}else{if(!f[1][k])f[1][k]=new Array;f[1][k].push(new s(b,0,!1,n.axis,k))}if(n.dir==2){jX+=J;
k++}else{jX-=J;k--}}}}function P(){for(var n=0;n<2;++n){var k=(n+1)%2;for(var $=0;$<f[n].length;++$){if(f[n][$])for(var b=0;
b<f[n][$].length;++b){var N=_[0];if(n==1)N+=_[2];var L=f[n][$][b].start;if(f[k][$])for(var R=0;R<f[k][$].length;
++R){var i=f[k][$][R].i$;if(n==0){if(i>N&&i<L){N=L-Math.floor((L-i)/2)}}else{if(i<N&&i>L){N=L+Math.ceil((i-L)/2)}}}if(n==0)S(f[n][$][b].dir,$,L-1,N,-1);
else S(f[n][$][b].dir,$,L+1,N,-1)}}}for(var $=0;$<A.length;++$){if(!A[$]&&$%J>=_[0]&&$%J<=_[0]+_[2]&&Math.floor($/J)>=_[1]&&Math.floor($/J)<=_[1]+_[3]){var L=J;
if($<L||!A[$-L])L=1;W[4*$]=W[4*($-L)];W[4*$+1]=W[4*($-L)+1];W[4*$+2]=W[4*($-L)+2];A[$]=!0;if(p)W[4*$+3]=255}}}function h(){A=new Array(X.length/4);
for(var $=0;$<W.length/4;++$){A[$]=!1;W[4*$]=X[4*$];W[4*$+1]=X[4*$+1];W[4*$+2]=X[4*$+2];W[4*$+3]=X[4*$+3];
if(W[4*$+3]==255)A[$]=!0;if(Y($))A[$]=!1}if(_[0]>0){_[0]--;_[2]++}if(_[1]>0){_[1]--;_[3]++}if(_[0]+_[2]<J){_[2]++}if(_[1]+_[3]<q){_[3]++}}var V=Date.now();
h();var I=Date.now();g();var F=Date.now();B();var c=Date.now();P();var D=Date.now();console.log("Init: "+String(I-V));
console.log("Filling: "+String(F-I));console.log("Check areas: "+String(c-F));console.log("Fill areas: "+String(D-c))}return M}();
function i8(){}i8.aGG=function(M){var X=[t.HR(M[0]),t.HR(M[1]),t.HR(M[2]),0];return t.XS.ea(t.XS.aHV,X)};
i8.aF3=function(M){var X=t.XS.ea(t.XS.Kf,M);return[t.jm(X[0]),t.jm(X[1]),t.jm(X[2])]};i8.bw=function(M,X){var J={},q=5003,W=1667,T=25e3,_=57.4,m=16.1,d=1.8,A=0,p=1.54,a=.75,j=0;
if(X>0){M-=X/100*4}if(M<0){m=22.54;_=80.36;p=.756}if(X>0){d=1.3;a=.2}var f=Math.min(q+_*M,T),s=Math.max(q-m*M,W);
if(M<0){f=Math.max(q+m*M,W);s=Math.min(q-_*M,T)}if(M>0){if(M<=14){j=(M-1)/13*.075+.025}else if(M<=29){j=.1}else if(M<=60){j=.1-.1*(M-29)/(60-29)}else{var Y=M-60;
A=-20*(Y/40);j=-.3*(Y/40)}}else{if(M<-60){var Y=M+60;A=-20*(Y/40)}}var G=Math.abs(M)/100*p+Math.abs(X)/100*a+j,Q=-(X*d+A),Z=jO.$L(f,-Q),g=jO.oS(Z),S=jO.$L(s,0),U=jO.oS(S),B=jO.aDZ(g,U);
J.awo=G;J.aek=B;if(M==0&&X==0)J.aAF=!0;else J.aAF=!1;return J};i8.aGA=function(M,X,J,q){if(q.aAF){return[M,X,J]}var W=this.aGG([M,X,J]),T=W[0],_=W[1],m=W[2],d=_+1e-12,A=[T/d,_/d,m/d,0],p=t.XS.ea(q.aek,A),a=0,f=.4;
p[0]*=d;p[1]*=d;p[2]*=d;if(d>f)a=1/(1-f)*(d-f);W[0]=(1-a)*p[0]+a*T;W[1]=(1-a)*p[1]+a*_;W[2]=(1-a)*p[2]+a*m;
return this.aF3(W)};t.akt={rG:function(M,X){var $=M.length;M.push(X);var J=$>>>1;while(J!=0&&M[$][0]<M[J][0]){var q=M[$];
M[$]=M[J];M[J]=q;$=J;J=$>>>1}},qK:function(M){if(M.length==2)return M.pop();var top=M[1],$=1;M[1]=M.pop();
var X=M.length;while(!0){var J=$<<1,q=J+1,W=$;if(J<X&&M[J][0]<M[W][0])W=J;if(q<X&&M[q][0]<M[W][0])W=q;
if(W==$)break;var T=M[$];M[$]=M[W];M[W]=T;$=W}return top},a5E:function(M){for(var $=1;$<M.length;$++){var X=$,J=1e9;
while(X!=0){var q=M[X][0];if(q>J){console.log($);throw"e"}J=q;X=X>>>1}}}};t.v={};t.v.uI=new Float64Array(256);
t.v.mx=new Uint8Array(256*256);t.v.Vl=new Uint8Array(256*256);(function(){for(var $=0;$<256;$++)t.v.uI[$]=255/$;
for(var $=0;$<256;$++)for(var M=0;M<256;M++)t.v.mx[$*256+M]=$==0?0:Math.round(M*255/$);for(var $=0;$<256;
$++)for(var M=0;M<256;M++)t.v.Vl[$*256+M]=Math.round($*(255-M)/255)}());t.v.r$=function(M,X,J,q,W,T,_,m){if(m==null)m=hA.ah();
var d=t.qP(X);if(d!=t.qP(q))throw"e";if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(M)==-1){_=_*m.fill;
m.fill=1;m.style=!1}var A="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),p="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),a=t.v[M+"F"];
if(d==8){if(m.yl==null&&M=="norm")t.v.a6w(X,J,q,W,T,_,a,m.SL?1:0);else if(M=="diss")t.v.atG(X,J,q,W,T,_,a,m.SL?1:0);
else if(A.indexOf(M)!=-1)t.v.a2H(X,J,q,W,T,_,a,m);else if(p.indexOf(M)!=-1)t.v.aB1(X,J,q,W,T,_,a,m)}else{if(M=="diss")t.v.a8d(X,J,q,W,T,_,a,m.SL?1:0);
else if(A.indexOf(M)!=-1)t.v.ahI(X,J,q,W,T,_,a,m);else if(p.indexOf(M)!=-1)t.v.a1n(X,J,q,W,T,_,a,m)}};
t.v.anW=function(M,X,J){var q=M*J+1-J;return q<.001?0:1-Math.min(1,(1-X)/q)};t.v.aFv=function(M,X,J){return M*J==1?1:Math.min(1,X/(1-M*J))};
t.v.IW=function(M){return M<=.25?((16*M-12)*M+4)*M:Math.sqrt(M)};t.v.normF=function(M,X,J){return M};
t.v.darkF=function(M,X,J){return Math.min(M,X)};t.v["mul F"]=function(M,X,J){return M*X};t.v.idivF=function(M,X,J){var q=M*J+1-J;
return X==1?1:1-X>=q?0:1-(1-X)/q};t.v.lbrnF=function(M,X,J){return Math.max(0,M*J+X-J)};t.v.dkClF=function(M,X,J){var q=t.Jp(M)<t.Jp(X)?M:X;
J.z=q.z;J.L=q.L;J.g=q.g;return J};t.v.liteF=function(M,X,J){return Math.max(M,X)};t.v.scrnF=function(M,X,J){return X+M-X*M};
t.v["div F"]=function(M,X,J){M*=J;return X==0?0:X>=1-M?1:X/(1-M)};t.v.lddgF=function(M,X,J){M*=J;return Math.min(1,M+X)};
t.v.lgClF=function(M,X,J){var q=t.Jp(M)>t.Jp(X)?M:X;J.z=q.z;J.L=q.L;J.g=q.g;return J};t.v.overF=function(M,X,J){return t.v.hLitF(X,M,J)};
t.v.sLitF=function(M,X,J){return M<=.5?X-(1-2*M)*X*(1-X):X+(2*M-1)*(t.v.IW(X)-X)};t.v.hLitF=function(M,X,J){return M<=.5?t.v["mul F"](2*M,X,J):t.v.scrnF(2*M-1,X,J)};
t.v.vLitF=function(M,X,J){return M<=.5?t.v.anW(2*M,X,J):t.v.aFv(2*M-1,X,J)};t.v.lLitF=function(M,X,J){return M<=.5?t.v.lbrnF(2*M,X,J):t.v.lddgF(2*M-1,X,J)};
t.v.pLitF=function(M,X,J){return M<=.5?t.v.darkF(2*M,X,J):t.v.liteF(2*M-1,X,J)};t.v.hMixF=function(M,X,J){if(J>.99)return M+X<1?0:1;
return Math.min(1,Math.max(0,(X+M*J-J)/(1-J+1e-6)))};t.v.diffF=function(M,X,J){M*=J;return Math.abs(M-X)};
t.v.smudF=function(M,X,J){return M+X-2*M*X};t.v.fsubF=function(M,X,J){return Math.max(X-M,0)};t.v.fdivF=function(M,X,J){return Math.min(X/M,1)};
t.v["hue F"]=function(M,X,J){t.v.oD(M,t.iP(X),J);t.v.Du(J,t.Jp(X),J)};t.v["sat F"]=function(M,X,J){t.v.oD(X,t.iP(M),J);
t.v.Du(J,t.Jp(X),J)};t.v.colrF=function(M,X,J){t.v.Du(M,t.Jp(X),J)};t.v["lum F"]=function(M,X,J){t.v.Du(X,t.Jp(M),J)};
t.v.Du=function(M,X,J){var q=X-t.Jp(M);J.z=M.z+q;J.L=M.L+q;J.g=M.g+q;t.v.arN(J)};t.v.arN=function(M){var X=M.z,J=M.L,q=M.g,W=t.ig(X,J,q),jX=Math.min(X,J,q),T=Math.max(X,J,q);
if(jX<0){var _=W/(W-jX);X=W+(X-W)*_;J=W+(J-W)*_;q=W+(q-W)*_}if(T>1){var _=(1-W)/(T-W);X=W+(X-W)*_;J=W+(J-W)*_;
q=W+(q-W)*_}M.z=X;M.L=J;M.g=q};t.v.oD=function(M,X,J){var q=t.v.azT,W=M.z,T=M.L,_=M.g;if(W==T&&T==_){J.z=J.L=J.g=0}else if(W>T){if(W>_){if(T>_){J.z=X;
J.L=q(W,T,_,X);J.g=0}else{J.z=X;J.g=q(W,_,T,X);J.L=0}}else{J.g=X;J.z=q(_,W,T,X);J.L=0}}else{if(W<_){if(T>_){J.L=X;
J.g=q(T,_,W,X);J.z=0}else{J.g=X;J.L=q(_,T,W,X);J.z=0}}else{J.L=X;J.z=q(T,W,_,X);J.g=0}}};t.v.azT=function(M,X,J,q){return(X-J)*q/(M-J)};
t.v.a6w=function(M,X,J,q,W,T,_,m){var d=X.Lg(q).Lg(W),A=Math.max(0,d.x-X.x),p=Math.max(0,d.x-q.x),a=Math.max(0,d.y-X.y),f=Math.max(0,d.y-q.y),s=d.r,j=d.$,Y=X.r,G=q.r,Q=t.v.mx,Z=t.v.Vl,g=new Uint32Array(M.buffer),S=new Uint32Array(J.buffer);
for(var $=0;$<j;$++){var U=(a+$)*Y+A,B=(f+$)*G+p;for(var e=0;e<s;e++){var P=g[U+e],b=1;if(P>>>24==0)continue;
if(P>>>24==255&&T==1&&m==0){S[B+e]=g[U+e];continue}var h=S[B+e],V=P&255,I=P>>>8&255,F=P>>>16&255,c=h&255,D=h>>>8&255,n=h>>>16&255,k=T,N=(h>>>24)*(1/255);
if(m==0){k=(P>>>24)*T*(1/255);b=N}var L=b*(1-k),R=k+L,i=1/R;S[B+e]=~~(.5+(m*N+(1-m)*R)*255)<<24|~~(.5+(F*k+n*L)*i)<<16|~~(.5+(I*k+D*L)*i)<<8|~~(.5+(V*k+c*L)*i)}}};
t.v.a7H=function(M,X,J,q,W,T){var _=X.Lg(q).Lg(W),m=Math.max(0,_.x-X.x),d=Math.max(0,_.x-q.x),A=Math.max(0,_.y-X.y),p=Math.max(0,_.y-q.y),a=_.r,f=_.$,s=X.r,j=q.r,Y=t.v.mx,G=t.v.Vl,Q=new Uint32Array(M.buffer),Z=new Uint32Array(J.buffer),g=Math.floor(Math.random()*16777215),S=0;
for(var $=0;$<f;$++){var U=(A+$)*s+m,B=(p+$)*j+d;for(var e=0;e<a;e++){var P=Q[U+e];if(P>>>24==0)continue;
if(P>>24==255&&T==1){Z[B+e]=P;continue}var h=Z[B+e],V=(P>>>24)*T*(1/255),I=(h>>>24)*(1/255),F=I*(1-V),c=V+F,D=P&255,n=P>>>8&255,k=P>>>16&255,b=h&255,N=h>>>8&255,L=h>>>16&255;
S>>>=8;if((e&3)==0)S=t.v.YK(B+e+g);var R=c==0?0:1/c,i=Math.floor(c*(256*255))+(S&255)>>>8,v=Math.floor((k*V+L*F)*R+.5),E=Math.floor((n*V+N*F)*R+.5),u=Math.floor((D*V+b*F)*R+.5);
Z[B+e]=i<<24|v<<16|E<<8|u}}};t.v.e1=function(M,X,J,q,W,T,_,m){var d=t.ig(M,X,J),A=t.ig(q,W,T),p=Math.min,a=t.v.aAz,f=a(d,m,0);
f=p(f,a(M,m,8));f=p(f,a(X,m,16));f=p(f,a(J,m,24));var s=a(A,m,4);s=p(s,a(q,m,12));s=p(s,a(W,m,20));s=p(s,a(T,m,28));
s=Math.max(s,1-_);var j=Math.min(f,s);return j<0?0:j>1?1:j};t.v.aAz=function(M,X,$){return Math.min((M-X[$])*X[$+1],(M-X[$+3])*X[$+2])};
t.v.a2H=function(M,X,J,q,W,T,_,m){var d=1/255,A=d*T,p=m.SL?1:0,a=m.fill,f=m.style,s=X.Lg(q).Lg(W),j=Math.max(0,s.x-X.x),Y=Math.max(0,s.x-q.x),G=Math.max(0,s.y-X.y),Q=Math.max(0,s.y-q.y),Z=s.r,g=s.$,S=X.r,U=q.r,B=new Uint32Array(M.buffer),e=new Uint32Array(J.buffer);
for(var $=0;$<g;$++){var P=(G+$)*S+j,h=(Q+$)*U+Y;for(var V=0;V<Z;V++,P++,h++){var I=B[P],R=1;if(I>>>24==0)continue;
var F=e[h],c=(I&255)*d,D=(I>>>8&255)*d,n=(I>>>16&255)*d,k=(F&255)*d,b=(F>>>8&255)*d,N=(F>>>16&255)*d,L=T;
if(p==0){L=(I>>>24)*A;R=(F>>>24)*d}if(m.yl)L*=t.v.e1(c,D,n,k,b,N,R,m.yl);var i=R*(1-L),v=L+i,E=v==0?0:255/v,u=f?1:L,C=((1-R)*L*c+(1-u)*R*k+u*R*_(c,k,(1+L-u)*a))*E,l=((1-R)*L*D+(1-u)*R*b+u*R*_(D,b,(1+L-u)*a))*E,x=((1-R)*L*n+(1-u)*R*N+u*R*_(n,N,(1+L-u)*a))*E;
v=L*a+R*(1-L*a);var y=~~(v*255+.5);e[h]=p*(F>>>24)+(1-p)*y<<24|x<<16|l<<8|C}}};t.v.ahI=function(M,X,J,q,W,T,_,m){var d=t.qP(M),A=d==32?1:d==16?65535:255,p=1/A,a=m.SL?1:0,f=m.fill,s=m.style,j=X.Lg(q).Lg(W),Y=Math.max(0,j.x-X.x),G=Math.max(0,j.x-q.x),Q=Math.max(0,j.y-X.y),Z=Math.max(0,j.y-q.y),g=j.r,S=j.$,U=X.r,B=q.r;
for(var $=0;$<S;$++){var e=(Q+$)*U+Y,P=(Z+$)*B+G;for(var h=0;h<g;h++,e++,P++){var V=e*4,I=P*4,F=M[V]*p,c=M[V+1]*p,D=M[V+2]*p,n=M[V+3]*p*T;
if(n==0)continue;var k=J[I]*p,b=J[I+1]*p,N=J[I+2]*p,L=J[I+3]*p;if(m.yl)n*=t.v.e1(F,c,D,k,b,N,L,m.yl);
var R=L*(1-n),i=n+R,v=i==0?0:A/i,E=s?1:n,u=((1-L)*n*F+(1-E)*L*k+E*L*_(F,k,(1+n-E)*f))*v,C=((1-L)*n*c+(1-E)*L*b+E*L*_(c,b,(1+n-E)*f))*v,l=((1-L)*n*D+(1-E)*L*N+E*L*_(D,N,(1+n-E)*f))*v;
i=n*f+L*(1-n*f);J[I]=u;J[I+1]=C;J[I+2]=l;J[I+3]=a*J[I+3]+(1-a)*(i*A)}}};t.v.aB1=function(M,X,J,q,W,T,_,m){var d=1/255,A=d*T,p=m.SL?1:0,a=X.Lg(q).Lg(W),f=Math.max(0,a.x-X.x),s=Math.max(0,a.x-q.x),j=Math.max(0,a.y-X.y),Y=Math.max(0,a.y-q.y),G=a.r,Q=a.$,Z=new Uint32Array(M.buffer),g=new Uint32Array(J.buffer),S={z:0,L:0,g:0},U={z:0,L:0,g:0},B={z:0,L:0,g:0};
for(var $=0;$<Q;$++){var e=(j+$)*X.r+f,P=(Y+$)*q.r+s;for(var h=0;h<G;h++,e++,P++){var V=Z[e],I=g[P],F=(V&255)*d,c=(V>>>8&255)*d,D=(V>>>16&255)*d,n=(I&255)*d,k=(I>>>8&255)*d,b=(I>>>16&255)*d,N=T,L=1;
if(p==0){N=(V>>>24)*A;L=(I>>>24)*d}if(m.yl)N*=t.v.e1(F,c,D,n,k,b,L,m.yl);var R=L*(1-N),i=N+R,v=255/i;
S.z=F;S.L=c;S.g=D;U.z=n;U.L=k;U.g=b;_(S,U,B);var E=(((1-L)*F+L*B.z)*N+n*R)*v,u=(((1-L)*c+L*B.L)*N+k*R)*v,C=(((1-L)*D+L*B.g)*N+b*R)*v,l=p*(I>>>24)+(1-p)*Math.round(i*255);
g[P]=l<<24|C<<16|u<<8|E}}};t.v.a1n=function(M,X,J,q,W,T,_,m){var d=t.qP(M),A=d==32?1:d==16?65535:255,p=1/A,a=m.SL?1:0,f=X.Lg(q).Lg(W),s=Math.max(0,f.x-X.x),j=Math.max(0,f.x-q.x),Y=Math.max(0,f.y-X.y),G=Math.max(0,f.y-q.y),Q=f.r,Z=f.$,g={z:0,L:0,g:0},S={z:0,L:0,g:0},U={z:0,L:0,g:0};
for(var $=0;$<Z;$++){var B=(Y+$)*X.r+s,e=(G+$)*q.r+j;for(var P=0;P<Q;P++,B++,e++){var h=B*4,V=e*4,I=M[h]*p,F=M[h+1]*p,c=M[h+2]*p,N=1;
if(M[h+3]==0)continue;var D=J[V]*p,n=J[V+1]*p,k=J[V+2]*p,b=T;if(a==0){b=M[h+3]*p*T;N=J[V+3]*p}if(m.yl)b*=t.v.e1(I,F,c,D,n,k,N,m.yl);
var L=N*(1-b),R=b+L,i=A/R;g.z=I;g.L=F;g.g=c;S.z=D;S.L=n;S.g=k;_(g,S,U);J[V]=(((1-N)*I+N*U.z)*b+D*L)*i;
J[V+1]=(((1-N)*F+N*U.L)*b+n*L)*i;J[V+2]=(((1-N)*c+N*U.g)*b+k*L)*i;J[V+3]=a*J[V+3]+(1-a)*Math.round(R*A)}}};
t.v.HO=function(M){M=M^61^M>>>16;M=M+(M<<3);M=M^M>>>4;M=M*668265261;M=M^M>>15;return(M&16777215)*(1/16777215)};
t.v.YK=function(M){M=M^61^M>>>16;M=M+(M<<3);M=M^M>>>4;M=M*668265261;M=M^M>>>15;return M};t.v.bN=function(M){this.yi=M};
t.v.bN.prototype.get=function(){var M=this.yi=t.v.YK(this.yi);return(M&16777215)*(1/16777215)};t.v.atG=function(M,X,J,q,W,T,_,m){var d=Math.round(T*(256*256*256/255)),A=X.Lg(q).Lg(W),p=Math.max(0,A.x-X.x),a=Math.max(0,A.x-q.x),f=Math.max(0,A.y-X.y),s=Math.max(0,A.y-q.y),j=A.r,Y=A.$,G=new Uint32Array(M.buffer),Q=new Uint32Array(J.buffer);
for(var $=0;$<Y;$++){var Z=(f+$)*X.r+p,g=(s+$)*q.r+a;for(var S=0;S<j;S++,Z++,g++){var U=G[Z],B=Q[g],e=m*255+(1-m)*(U>>>24);
if((t.v.YK(Z)&16777215)>=e*d)continue;Q[g]=U&16777215|m*(B>>>24)+(1-m)*255<<24}}};t.v.a8d=function(M,X,J,q,W,T,_,m){var d=t.qP(M),A=d==32?1:d==16?65535:255,p=1/A,a=X.Lg(q).Lg(W),f=Math.max(0,a.x-X.x),s=Math.max(0,a.x-q.x),j=Math.max(0,a.y-X.y),Y=Math.max(0,a.y-q.y),G=a.r,Q=a.$;
for(var $=0;$<Q;$++){var Z=(j+$)*X.r+f,g=(Y+$)*q.r+s;for(var S=0;S<G;S++,Z++,g++){var U=Z*4,B=g*4,e=M[U+3]*p,P=J[B+3]*p;
e=m+(1-m)*e;if((t.v.YK(Z)&255)*(1/255)>=e*T)continue;J[B]=M[U];J[B+1]=M[U+1];J[B+2]=M[U+2];J[B+3]=(m*P+(1-m))*A}}};
t.v.aJn=function(M,X,J){for(var $=0;$<M.length;$+=4){var q=J[$>>>2];if(q==0)continue;var W=q*(1/255),T=1/W,_=X[$],m=X[$+1],d=X[$+2],A=M[$],p=M[$+1],a=M[$+2];
X[$]=Math.min(255,Math.max(0,Math.round((_-(1-W)*A)*T)));X[$+1]=Math.min(255,Math.max(0,Math.round((m-(1-W)*p)*T)));
X[$+2]=Math.min(255,Math.max(0,Math.round((d-(1-W)*a)*T)));X[$+3]=255}};t.v.z2=function(M,X,J,q,W,T,_,m,d,A,p){if(A==null)A=!1;
var a=t.qP(M),f=a==8?255:a==16?65535:1;if(W&&W.length==T.o()*4){var s=t.j(T.o(),a);t.SF(W,s,3);W=s}if(W&&!X.w6(T)){var j=t.j(X.o(),a);
j.fill(f*_/255);t.Rc(W,T,j,X);W=j;T=X}if(a==8){if(p==null)p=[1,1,1];var Y=255<<24|p[2]*16711680|p[1]*65280|p[0]*255,G=~Y;
if(A){if(W==null)t.v.a0u(M,X,J,q,W,m,d,Y,G);else t.v.axi(M,X,J,q,W,m,d)}else{if(W==null)t.v.af9(M,X,J,q,W,m,d,Y,G);
else t.v.a8u(M,X,J,q,W,m,d)}}else{if(p&&p.join(",")!="1,1,1")throw"e";if(A)t.v.awk(M,X,J,q,W,m,d);else t.v.ar7(M,X,J,q,W,m,d)}};
t.v.af9=function(M,X,J,q,W,T,_,m,d){var A=1/255,p=X.Lg(q).Lg(T),a=Math.max(0,p.x-X.x),f=Math.max(0,p.x-q.x),s=Math.max(0,p.y-X.y),j=Math.max(0,p.y-q.y),Y=p.r,G=p.$,Q=new Uint32Array(M.buffer),Z=new Uint32Array(J.buffer),g=t.v.mx,S=_*255&255;
for(var $=0;$<G;$++){var U=(s+$)*X.r+a,B=(j+$)*q.r+f;for(var e=0;e<Y;e++,U++,B++){var P=Q[U],h=Z[B],V=P>>>24,I=h>>>24,F=t.W_(S*V+(255-S)*I),c=t.W_(V*S),D=t.W_(I*(255-S)),n=P&255,k=P>>>8&255,b=P>>>16&255,N=h&255,L=h>>>8&255,R=h>>>16&255,i=c*n+N*D,v=c*k+L*D,E=c*b+R*D;
i=g[F<<8|t.W_(i)];v=g[F<<8|t.W_(v)];E=g[F<<8|t.W_(E)];var u=F<<24|E<<16|v<<8|i;Z[B]=d&h|m&u}}};t.v.a0u=function(M,X,J,q,W,T,_,m,d){var A=1/255,p=X.Lg(q).Lg(T),a=Math.max(0,p.x-X.x),f=Math.max(0,p.x-q.x),s=Math.max(0,p.y-X.y),j=Math.max(0,p.y-q.y),Y=p.r,G=p.$,Q=new Uint32Array(M.buffer),Z=new Uint32Array(J.buffer),g=t.v.mx,S=_*16777215&16777215;
for(var $=0;$<G;$++){var U=(s+$)*X.r+a,B=(j+$)*q.r+f;for(var e=0;e<Y;e++,U++,B++){if((t.v.YK(U)&16777215)<S){Z[B]=d&Z[B]|m&Q[U]}}}};
t.v.ar7=function(M,X,J,q,W,T,_){var m=t.qP(M),d=m==8?255:m==16?65535:1,A=1/d,p=X.Lg(q).Lg(T),a=Math.max(0,p.x-X.x),f=Math.max(0,p.x-q.x),s=Math.max(0,p.y-X.y),j=Math.max(0,p.y-q.y),Y=p.r,G=p.$;
for(var $=0;$<G;$++){var Q=(s+$)*X.r+a,Z=(j+$)*q.r+f;for(var g=0;g<Y;g++,Q++,Z++){var S=(W?W[Q]*A:1)*_,U=Q*4,B=Z*4,e=M[U+3]*A,P=J[B+3]*A,h=e*S,V=P*(1-S),I=h+V,F=I==0?0:d/I,c=M[U]*A,D=M[U+1]*A,n=M[U+2]*A,k=J[B]*A,b=J[B+1]*A,N=J[B+2]*A;
J[B]=(h*c+V*k)*F;J[B+1]=(h*D+V*b)*F;J[B+2]=(h*n+V*N)*F;J[B+3]=d*I}}};t.v.a8u=function(M,X,J,q,W,T,_){var m=1/255,d=X.Lg(q).Lg(T),A=Math.max(0,d.x-X.x),p=Math.max(0,d.x-q.x),a=Math.max(0,d.y-X.y),f=Math.max(0,d.y-q.y),s=d.r,j=d.$,Y=new Uint32Array(M.buffer),G=new Uint32Array(J.buffer),Q=t.v.mx;
for(var $=0;$<j;$++){var Z=(a+$)*X.r+A,g=(f+$)*q.r+p;for(var S=0;S<s;S++,Z++,g++){var U=W[Z]*_&255;if(U==0)continue;
if(U==255){G[g]=Y[Z];continue}var B=Y[Z],e=G[g],P=B>>>24,h=e>>>24,V=t.W_(U*P+(255-U)*h),I=t.W_(P*U),F=t.W_(h*(255-U)),c=B&255,D=B>>>8&255,n=B>>>16&255,k=e&255,b=e>>>8&255,N=e>>>16&255,L=Q[V<<8|t.W_(I*c+k*F)],R=Q[V<<8|t.W_(I*D+b*F)],i=Q[V<<8|t.W_(I*n+N*F)];
G[g]=V<<24|i<<16|R<<8|L}}};t.v.awk=function(M,X,J,q,W,T,_){var m=t.qP(M),d=m==8?255:m==16?65535:1,A=1/d,p=X.Lg(q).Lg(T),a=Math.max(0,p.x-X.x),f=Math.max(0,p.x-q.x),s=Math.max(0,p.y-X.y),j=Math.max(0,p.y-q.y),Y=p.r,G=p.$,Q=_*A*65535;
for(var $=0;$<G;$++){var Z=(s+$)*X.r+a,g=(j+$)*q.r+f;for(var S=0;S<Y;S++,Z++,g++){var U=W[Z];if((t.v.YK(Z)&65535)<U*Q){var B=Z*4,e=g*4;
J[e]=M[B];J[e+1]=M[B+1];J[e+2]=M[B+2];J[e+3]=M[B+3]}}}};t.v.axi=function(M,X,J,q,W,T,_){var m=1/255,d=X.Lg(q).Lg(T),A=Math.max(0,d.x-X.x),p=Math.max(0,d.x-q.x),a=Math.max(0,d.y-X.y),f=Math.max(0,d.y-q.y),s=d.r,j=d.$,Y=new Uint32Array(M.buffer),G=new Uint32Array(J.buffer),Q=t.v.mx,Z=Math.round(_*257);
for(var $=0;$<j;$++){var g=(a+$)*X.r+A,S=(f+$)*q.r+p;for(var U=0;U<s;U++,g++,S++){var B=W[g]*Z;if((t.v.YK(g)&65535)<B)G[S]=Y[g]}}};
t.v.a2a=function(M,X,J,q,W,T,_){var m=1/255,d=X.Lg(q).Lg(T),A=Math.max(0,d.x-X.x),p=Math.max(0,d.x-q.x),a=Math.max(0,d.y-X.y),f=Math.max(0,d.y-q.y),s=d.r,j=d.$,Y=new Uint32Array(M.buffer),G=new Uint32Array(J.buffer),Q=Math.floor(Math.random()*q.o()),Z=t.v.a5L;
for(var $=0;$<j;$++){var g=(a+$)*X.r+A,S=(f+$)*q.r+p;for(var U=0;U<s;U++){var B=W[g+U]*_;if(B==0)continue;
if(B==255){G[S+U]=Y[g+U];continue}var e=Y[g+U],P=G[S+U],h=e>>>24,V=P>>>24,I=h*B*(1/255),F=V*(255-B)*(1/255),c=e&255,D=e>>>8&255,n=e>>>16&255,k=P&255,b=P>>>8&255,N=P>>>16&255,L=t.v.YK(S+U+Q),R=Math.floor((I+F)*256+.5)+(L>>>0&255)>>>8,i=R==0?0:256/(I+F),v=c*I+k*F,E=D*I+b*F,u=n*I+N*F,C=Math.floor(v*i+.5)+(L>>>8&255)>>>8,l=Math.floor(E*i+.5)+(L>>>16&255)>>>8,x=Math.floor(u*i+.5)+(L>>>24&255)>>>8;
G[S+U]=R<<24|x<<16|l<<8|C}}};t.v.a5L=function(M){return Math.floor(M+Math.random())};t.v.Qe=function(M,X,J,q,W,T,_){var m=1/t.P0(t.qP(M)),d=X.Lg(q).Lg(T),A=Math.max(0,d.x-X.x),p=Math.max(0,d.x-q.x),a=Math.max(0,d.y-X.y),f=Math.max(0,d.y-q.y),s=d.r,j=d.$;
for(var $=0;$<j;$++){var Y=(a+$)*X.r+A,G=(f+$)*q.r+p;for(var Q=0;Q<s;Q++,Y++,G++){var Z=_*W[Y]*m;if(Z==0)continue;
if(Z==1){J[G]=M[Y];continue}J[G]=M[Y]*Z+J[G]*(1-Z)}}};t.aDt=function(){function M(T){var _=T*.85;return Math.exp(-(_*_)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function X(T,_){var m=T<_?1:M((T-_)/Math.pow(1.001-_,.86));
return m}var J=[];function q(T){if(J[T])return J[T];var _=Math.pow(T,.55),m=new Float64Array(8e3),d=0,A=8e3;
for(var $=0;$<8e3;$++){var p=X($*(1.55/4e3),_);if(p>=1)d=$;else if(p<=0&&A==8e3)A=$;m[$]=p}var a=[m,d,A];
J[T]=a;return a}function W(T,_,m){if(T<4)_=1;var d=1+.55*(1-_),A=Math.round(m*T*d)+2,p=new gc(0,0,A,A),a=t.j(A*A),f=[a,p],s=A/2,j=d/(s-1);
if(T==2)j*=2;if(T==3)j*=1.6;var Y=Date.now(),G=q(_),Q=Math.round(8e3/s),Z=G[0],g=G[1]-Q,S=G[2]+Q,U=Math.min(A,A+1>>>1),B=j*.4*(4e3/1.55),e=t.j(8e3);
for(var $=0;$<8e3;$++){var P=$,h=$,V=~~Math.max(0,P-B-B),I=~~Math.max(0,P-B),F=~~Math.min(7999,P+B),c=~~Math.min(7999,P+B+B),D=~~(.5+255*(1/5)*(Z[h]+Z[V]+Z[I]+Z[F]+Z[c]));
e[$]=D;if(D==0)break}for(var $=0;$<U;$++){var n=j*($-s+.5),k=n*n,b=$*A,N=(A-1-$)*A;for(var L=0;L<U;L++){var R=j*(L-s+.5),h=~~(Math.sqrt(R*R+k)*(4e3/1.55));
if(S<h)continue;else if(h<g){var D=255;while(L<U){var i=A-1-L;a[b+L]=D;a[b+i]=D;a[N+L]=D;a[N+i]=D;L++}break}else{var D=e[h],i=A-1-L;
a[b+L]=D;a[b+i]=D;a[N+L]=D;a[N+i]=D}}}return f}return{ais:W}}();t.r8={};t.r8.asM=function(M,X,J,q,W,T){t.r8.dX(M,X,J,q,W,T,null,0)};
t.r8.afC=function(M,X,J,q,W){t.r8.dX(M,X,J,q,W,null,null,0)};t.r8.auY=function(M,X,J,q,W,T,_,m){t.r8.dX(M,X,J,q,W,null,T,_*.5,m)};
t.r8.dX=function(M,X,J,q,W,T,_,m,d){var A=0,v=0,E=1e9,u=0,C=1e9,l=0,x=1e9,y=0,ge=0,V=0,O=0;if(T){A=W*.5;
W=3+Math.round((W-3)*.75)}if(_){W=Math.round(W*2.2)}if(d==null)d=Math.floor(Math.random()*16777215);
var p=new t.v.bN(d*X&16777215),a=1/W,f=Math.floor(X*a)+1,s=Math.floor(J*a)+1,j=[],Y=new Uint8Array(f*s*4),G=_?.5:1,Q=T?64:0,Z=W>>>1;
for(var g=0;g<s;g++){var S=_?.5*(g&1):0;for(var U=0;U<f;U++){var B=(U+p.get()*G+S)*W,e=(g+p.get()*G)*W;
j.push(B,e);var P=Math.min(X-1,Math.floor(B)),h=Math.min(J-1,Math.floor(e));for(var V=0;V<Z;V+=2){var I=Math.max(0,P-V),F=Math.min(X-1,P+V),c=Math.max(0,h-V),D=Math.min(J-1,h+V);
for(var n=c;n<=D;n++)for(var k=I;k<=F;k++){var $=(n*X+k)*4;if(M[$+3]>64){P=k;h=n;k=n=V=1e9}}}var b=(h*X+P)*4,N=(g*f+U)*4;
for(var $=0;$<4;$++)Y[N+$]=Math.max(0,Math.min(255,Math.floor(M[b+$]+(p.get()-.5)*Q)))}}var L=T?T:_?_:[0,0,0],R=f*s*2,i=[-f-1,-f,-f+1,-1,0,1,f-1,f,f+1];
for(var g=0;g<J;g++){V=0;for(var U=0;U<X;U++){var I=U+.5,c=g+.5,kz=Math.floor(c*a),z=Math.floor(I*a),eZ=kz*f+z,cL=0,aw=0;
if(V>1+m){E=t.r8.a1p(j,v,I,c);y=Math.sqrt(E);V--;O++}else{E=C=x=1e9;for(var $=0;$<i.length;$++){var kM=(eZ+i[$])*2;
if(kM<0||kM>=R)continue;var jV=t.r8.a1p(j,kM,I,c);if(jV<x){if(jV<C){if(jV<E){l=u;x=C;u=v;C=E;v=kM;E=jV}else{l=u;
x=C;u=kM;C=jV}}else{l=kM;x=jV}}}y=Math.sqrt(E);ge=Math.sqrt(C);V=ge-(y+ge)*.5}if(_==null){var h2=(y+ge)*.5,ea=T?Math.max(0,h2-A):0;
cL=Math.max(0,Math.min(1,.5+h2-y-ea));aw=Math.max(0,Math.min(1,1-(.5+h2-y)-ea))}else{var ht=Math.min(t.r8.ayI(j,v,u,I,c),t.r8.ayI(j,v,l,I,c));
cL=Math.max(0,Math.min(1,ht-m*.5));if(I<m||X-m<I||c<m||J-m<c)cL=0;aw=0}var jn=1-aw-cL,N=g*X+U<<2,gE=v<<1,bS=u<<1;
q[N+0]=Math.floor(.5+cL*Y[gE+0]+aw*Y[bS+0]+jn*L[0]);q[N+1]=Math.floor(.5+cL*Y[gE+1]+aw*Y[bS+1]+jn*L[1]);
q[N+2]=Math.floor(.5+cL*Y[gE+2]+aw*Y[bS+2]+jn*L[2]);q[N+3]=M[N+3]}}};t.r8.a1p=function(M,X,J,q){var W=J-M[X],T=q-M[X+1];
return W*W+T*T};t.r8.ayI=function(M,X,J,q,W){var T=M[X],_=M[X+1],m=M[J],d=M[J+1],A=(T+m)*.5,p=(_+d)*.5,a=A+(d-_),f=p-(m-T),s=f-p,j=a-A;
return Math.abs(s*q-j*W+a*p-f*A)/Math.sqrt(j*j+s*s)};t.zp=function(){var M=t.j(0);function X(j){if(M.length<j)M=t.j(j);
return M}function J(j,jX){var Y=Math.sqrt(12*j*j/jX+1),G=Math.floor(Y);if(G%2==0)G--;var Q=G+2,Z=(12*j*j-jX*G*G-4*jX*G-3*jX)/(-4*G-4),g=Math.round(Z),S=[];
for(var $=0;$<jX;$++)S.push($<g?G:Q);return S}function q(j,Y,G,Q){var Z=t.j(Y*G,t.qP(j));for(var $=0;
$<4;$++){t.SF(j,Z,$);W(Z,Y,G,Q);t.ix(Z,j,$)}}function W(j,Y,G,Q){var Z=t.qP(j);for(var g=0;g<Q.length;
g++){if(Z==8)T(j,Y,G,Q[g]-1>>1);if(Z==16)_(j,Y,G,Q[g]-1>>1);if(Z==32)m(j,Y,G,Q[g]-1>>1)}}function T(j,Y,G,Q){var Z=X(Y*G);
d(j,Z,Y,G,Q);a(Z,j,Y,G,Q)}function _(j,Y,G,Q){var Z=new Uint16Array(X(Y*G*2).buffer);A(j,Z,Y,G,Q);f(Z,j,Y,G,Q)}function m(j,Y,G,Q){var Z=new Float32Array(X(Y*G*4).buffer);
p(j,Z,Y,G,Q);s(Z,j,Y,G,Q)}function d(j,Y,G,Q,Z){var g=1/(Z+Z+1),S=G-Z-Z-1;for(var $=0;$<Q;$++){var U=$*G,B=U,e=U+Z,P=j[U],h=j[U+G-1],V=(Z+1)*P;
for(var I=0;I<Z;I++)V+=j[U+I];for(var I=0;I<=Z;I++){V+=j[e+I]-P;Y[U+I]=V*g}e+=Z+1;U+=Z+1;for(var I=0;
I<S;I++){V+=j[e+I]-j[B+I];Y[U+I]=V*g}e+=S;B+=S;U+=S;for(var I=G-Z;I<G;I++){V+=h-j[B++];Y[U++]=V*g}}}function A(j,Y,G,Q,Z){var g=1/(Z+Z+1),S=G-Z-Z-1;
for(var $=0;$<Q;$++){var U=$*G,B=U,e=U+Z,P=j[U],h=j[U+G-1],V=(Z+1)*P;for(var I=0;I<Z;I++)V+=j[U+I];for(var I=0;
I<=Z;I++){V+=j[e+I]-P;Y[U+I]=V*g}e+=Z+1;U+=Z+1;for(var I=0;I<S;I++){V+=j[e+I]-j[B+I];Y[U+I]=V*g}e+=S;
B+=S;U+=S;for(var I=G-Z;I<G;I++){V+=h-j[B++];Y[U++]=V*g}}}function p(j,Y,G,Q,Z){var g=1/(Z+Z+1),S=G-Z-Z-1;
for(var $=0;$<Q;$++){var U=$*G,B=U,e=U+Z,P=j[U],h=j[U+G-1],V=(Z+1)*P;for(var I=0;I<Z;I++)V+=j[U+I];for(var I=0;
I<=Z;I++){V+=j[e+I]-P;Y[U+I]=V*g}e+=Z+1;U+=Z+1;for(var I=0;I<S;I++){V+=j[e+I]-j[B+I];Y[U+I]=V*g}e+=S;
B+=S;U+=S;for(var I=G-Z;I<G;I++){V+=h-j[B++];Y[U++]=V*g}}}function a(j,Y,G,Q,Z){var g=1/(Z+Z+1),S=Q-Z-Z-1;
for(var $=0;$<G;$++){var U=$,B=U,e=U+Z*G,P=j[U],h=j[U+G*(Q-1)],V=(Z+1)*P;for(var I=0;I<Z;I++)V+=j[U+I*G];
for(var I=0;I<=Z;I++){V+=j[e]-P;Y[U]=V*g;e+=G;U+=G}for(var I=0;I<S;I++){var F=I*G;V+=j[e+F]-j[B+F];Y[U+F]=V*g}B+=S*G;
e+=S*G;U+=S*G;for(var I=Q-Z;I<Q;I++){V+=h-j[B];Y[U]=V*g;B+=G;U+=G}}}function f(j,Y,G,Q,Z){var g=1/(Z+Z+1),S=Q-Z-Z-1;
for(var $=0;$<G;$++){var U=$,B=U,e=U+Z*G,P=j[U],h=j[U+G*(Q-1)],V=(Z+1)*P;for(var I=0;I<Z;I++)V+=j[U+I*G];
for(var I=0;I<=Z;I++){V+=j[e]-P;Y[U]=V*g;e+=G;U+=G}for(var I=0;I<S;I++){var F=I*G;V+=j[e+F]-j[B+F];Y[U+F]=V*g}B+=S*G;
e+=S*G;U+=S*G;for(var I=Q-Z;I<Q;I++){V+=h-j[B];Y[U]=V*g;B+=G;U+=G}}}function s(j,Y,G,Q,Z){var g=1/(Z+Z+1),S=Q-Z-Z-1;
for(var $=0;$<G;$++){var U=$,B=U,e=U+Z*G,P=j[U],h=j[U+G*(Q-1)],V=(Z+1)*P;for(var I=0;I<Z;I++)V+=j[U+I*G];
for(var I=0;I<=Z;I++){V+=j[e]-P;Y[U]=V*g;e+=G;U+=G}for(var I=0;I<S;I++){var F=I*G;V+=j[e+F]-j[B+F];Y[U+F]=V*g}B+=S*G;
e+=S*G;U+=S*G;for(var I=Q-Z;I<Q;I++){V+=h-j[B];Y[U]=V*g;B+=G;U+=G}}}return{zk:function(j,Y,G,Q){W(j,Y.r,Y.$,J(G,Q?Q:3))},aa_:function(j,Y,G){q(j,Y.r,Y.$,J(G,3))},IV:function(j,Y,G){W(j,Y.r,Y.$,[Math.round(G)*2+1])},ah5:function(j,Y,G){q(j,Y.r,Y.$,[Math.round(G)*2+1])},aFw:function(j,Y,G){var Q=Y.r,Z=Y.$;
G=Math.round(G);var g=X(Q*Z),S=t.j(Q*Z);for(var $=0;$<4;$++){t.SF(j,S,$);d(S,g,Q,Z,G);t.ix(g,j,$)}},aEj:J}}();
t.qg=function(){var M=[];function X(L,R,i,v){var E=v.length,u=0,C=0,l=0;for(var $=0;$<E;$++){var x=v[$];
u=Math.max(u,x[2]);C=Math.max(C,x[0],R-x[0]);l=Math.max(l,x[1],i-x[1])}if(E==1){L.fill(255);return}if(E==2){var y=v[0],ge=v[1];
if(y[2]<ge[2]){var O=y;y=ge;ge=O}var kz=y[0],z=y[1],eZ=ge[0]-kz,kM=-(ge[1]-z),jV=Math.sqrt(kM*kM+eZ*eZ),cL=1/jV;
kM/=jV;eZ/=jV;var aw=Math.round(255*Math.min(y[2],ge[2])/u),h2=[];for(var $=0;$<1100;$++){var ea=Math.pow($*.001,.82);
h2[$]=~~(.5+ea*aw+(1-ea)*255)}for(var ht=0;ht<i;ht++)for(var jn=0;jn<R;jn++){var O=(jn-kz)*kM+(ht-z)*eZ,gE=kz+O*kM-jn,bS=z+O*eZ-ht,bi=Math.sqrt(gE*gE+bS*bS),cj=0;
if(gE*eZ-bS*kM>0)cj=255;else if(bi>jV)cj=aw;else cj=h2[~~(.5+1e3*bi*cL)];L[ht*R+jn]=cj}return}var bb=Math.round((C*C+l*l)*.021),c0=M.length;
if(c0<bb)for(var $=c0;$<bb;$++)M[$]=1/(1e-6+Math.pow(.02*$,1.57));var cV=260/u;for(var ht=0;ht<i;ht++)for(var jn=0;
jn<R;jn++){var g_=0,hx=0;for(var $=0;$<E;$++){var au=v[$],kM=jn-au[0],eZ=ht-au[1],bi=M[~~(.02*(kM*kM+eZ*eZ))];
hx+=bi*au[2];g_+=bi}L[ht*R+jn]=Math.min(~~(cV*hx/g_),255)}}var J=[];for(var $=0;$<1100;$++)J[$]=Math.pow(.5-.5*Math.cos($/1e3*Math.PI),2);
function q(L,R,i,v){var E=W(v),u=1-v[10];for(var C=0;C<i;C++)for(var l=0;l<R;l++){var x=E.Jm*l+E.br*C+E._f,y=E.g*l+E.Bi*C+E.Ey,ge=Math.sqrt(x*x+y*y),O=ge<=u?0:ge>1?1:(ge-u)/(1-u);
L[C*R+l]=~~(.5+L[C*R+l]*J[~~(O*1e3)])}}function W(L){var R=L[0],i=L[1],v=L[2]-R,E=L[3]-i,u=L[6]-R,C=L[7]-i,l=Math.sqrt(v*v+E*E),x=Math.sqrt(u*u+C*C),y=new kp;
y.scale(l,x);y.rotate(Math.atan2(-E,v));y.translate(R,i);y.vN();y.translate(-.5,-.5);y.scale(2,2);return y}var T=[];
for(var $=0;$<1100;$++)T[$]=Math.pow(.5-.5*Math.cos($/1e3*Math.PI),.8);function _(L,$,R){var i=L[$]-L[R],v=L[$+1]-L[R+1];
return Math.sqrt(i*i+v*v)}function m(L,R,i,v){var E=v[0],u=v[1],C=v[2]-E,l=-(v[3]-u),x=Math.sqrt(l*l+C*C);
l/=x;C/=x;var y=_(v,0,2),ge=_(v,0,4),O=_(v,0,6),kz=_(v,0,8);for(var z=0;z<i;z++)for(var eZ=0;eZ<R;eZ++){var kM=(eZ-E)*l+(z-u)*C,jV=E+kM*l-eZ,cL=u+kM*C-z,aw=Math.sqrt(jV*jV+cL*cL),h2=0;
if(jV*C-cL*l<0)h2=aw<O?0:aw>y?1:T[~~(1e3*(aw-O)/(y-O))];else h2=aw<kz?0:aw>ge?1:T[~~(1e3*(aw-kz)/(ge-kz))];
L[z*R+eZ]=~~(.5+L[z*R+eZ]*h2)}}function d(L,R,i){var v=L[0],E=L[1],u=E[0]+E[1]+E[2]+E[3],y=!1;if(u==0)return[t.j(R*i),u];
var C=v[0],l=v[1],x=v[3];if(y)console.log(C,l,x);var ge=Date.now(),O=t.j(R*i);O.fill(255);if(E[0]!=0)X(O,R,i,C);
if(y)console.log(Date.now()-ge,"field done");ge=Date.now();var kz=t.j(R*i);kz.fill(255);if(E[1]!=0)for(var $=0;
$<l.length;$++)q(kz,R,i,l[$]);if(y)console.log(Date.now()-ge,"iris done");ge=Date.now();var z=t.j(R*i);
z.fill(255);if(E[3]!=0)for(var $=0;$<x.length;$++)m(z,R,i,x[$]);if(y)console.log(Date.now()-ge,"tilt done");
ge=Date.now();var eZ=E[0]/u,kM=E[1]/u,cL=E[3]/u,aw=O,h2=R*i;for(var $=0;$<h2;$++){aw[$]=eZ*O[$]+kM*kz[$]+cL*z[$]}return[aw,u]}function A(L,R,i,v,E){var u=Date.now(),C=new Uint32Array(5),l=t.a4_(L,R,i),x=E/255;
for(var y=0;y<i;y++)for(var ge=0;ge<R;ge++){var $=y*R+ge,O=$<<2,kz=v[$]*x,z=~~(kz*.948);if(z==0){continue}C[0]=0;
C[1]=0;C[2]=0;C[3]=0;C[4]=0;var eZ=~~(kz*.612);if(1<=ge-z&&ge+z+1<=R&&1<=y-z&&y+z+1<=i){var kM=ge-z,jV=ge-eZ,cL=ge+eZ+1,aw=ge+z+1,h2=y-z,ea=y-eZ,ht=y+eZ+1,jn=y+z+1;
p(l,R,jV,cL,h2,ea,C);p(l,R,kM,aw,ea,ht,C);p(l,R,jV,cL,ht,jn,C)}else{var kM=Math.max(1,ge-z),jV=Math.max(1,ge-eZ),cL=Math.min(R,ge+eZ+1),aw=Math.min(R,ge+z+1),h2=Math.max(1,y-z),ea=Math.max(1,y-eZ),ht=Math.min(i,y+eZ+1),jn=Math.min(i,y+z+1);
p(l,R,jV,cL,h2,ea,C);p(l,R,kM,aw,ea,ht,C);p(l,R,jV,cL,ht,jn,C)}if(C[4]!=0){var gE=1/C[4];L[O]=Math.min(255,~~(C[0]*gE));
L[O+1]=Math.min(255,~~(C[1]*gE));L[O+2]=Math.min(255,~~(C[2]*gE));L[O+3]=Math.min(255,~~(C[3]*gE))}}}function p(L,R,i,v,E,u,C){var l=(v-i)*(u-E);
if(0<l){t.atj(L,i-1,v-1,(E-1)*R,(u-1)*R,C);C[4]+=l}}var a="GeneralBlur IrisBlur  LensTilt PathBlur WheelSpinBlur".split(" ");
function f(L){var R=[!1,!1,!1,!1,!1,!1];for(var $=0;$<6;$++){var i="blurb"+a[$]+"EffectApplied";if(L[i]&&L[i].v)R[$]=!0}return R}function s(L,R){for(var $=0;
$<6;$++){var i="blurb"+a[$]+"EffectApplied";L[i]={t:"bool",v:R[$]}}}var j=[];for(var Y=0;Y<6;Y++){var G,Q="blurbWidgetLocationX",Z="blurbWidgetLocationY";
if(Y==0)G=[Q,Z,"blurbGeneralBlurAmount"];if(Y==1||Y==5){var g="blurb"+(Y==1?"IrisBlur":"WheelSpin"),S=g+"Corner",U=g+"Feather";
G=[S+"0x",S+"0y",S+"1x",S+"1y",S+"2x",S+"2y",S+"3x",S+"3y",Q,Z,U+"0",U+"1",U+"2",U+"3",Y==1?g+"Amount":g+"BlurAmount"]}if(Y==3){var g="blurbTiltShift",B=g+"InnerPoint",e=g+"OuterPoint";
G=[g+"CenterX",g+"CenterY",e+"1X",e+"1Y",e+"2X",e+"2Y",B+"1X",B+"1Y",B+"2X",B+"2Y",g+"BlurAmount"]}j.push(G)}function P(L,R){function i(cL,C){return{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:cL},Vrtc:{t:"doub",v:C}}}}var v=[];
for(var Y=0;Y<6;Y++){var E=L[Y],G=j[Y];for(var $=0;$<E.length;$++){var u=E[$],C={classID:Y==4?"blurbPathWidget":"blurbWidget",blurbWidgetEffectEnabled:{t:"bool",v:!1},blurbWidgetSelected:{t:"bool",v:!1},blurbWidgetType:{t:"long",v:Y}};
v.push({t:"Objc",v:C});if(Y==4){R.blurbPathBlurSpeed={t:"UntF",v:{type:"#Prc",val:E[0][4]*100}};var l=C.blurbPathPointList={t:"VlLs",v:[i(u[0],u[1]),i(u[5],u[6])]};
for(var x=0;x<2;x++){var y={classID:"blurbBezierKernel"};C["blurb"+(x==0?"Start":"End")+"BezierKernel"]={t:"Objc",v:y};
var ge=u[x*5],O=u[x*5+1],kz=u[x*5+2],z=u[x*5+3];y.blurbBezierKernelUIControlPoint=i((ge+kz)/2,(O+z)/2);
var eZ=kz-ge,kM=z-O,jV=Math.atan2(-(u[6]-u[1]),u[5]-u[0]);y.blurbBezierKernelTangentOffsetAngle={t:"doub",v:(Math.atan2(-kM,eZ)-jV+Math.PI)*180/Math.PI};
y.blurbBezierKernelLocation=i(ge,O);y.blurbBezierKernelOuterPoint=i(kz,z);if(eZ==0&&kM==0)y.blurbBezierKernelIsNull={t:"bool",v:!0}}}else for(var x=0;
x<G.length;x++)C[G[x]]={t:"doub",v:u[x]}}}delete R.blurbWidgetList;R.blurbWidgetList2={t:"VlLs",v:v}}function h(L){var R=L.blurbWidgetList;
if(R==null||R.v.length==0)R=L.blurbWidgetList2;R=R.v;var i=[[],[],[],[],[],[]],v=[0,0,0,0,0,0];for(var $=0;
$<R.length;$++){var E=R[$].v,Y=E.blurbWidgetType.v,M=[];i[Y].push(M);if(Y<4||Y==5){var G=j[Y];for(var u=0;
u<G.length;u++){M[u]=E[G[u]].v}if(Y==5){var C=M[0]-M[4],l=M[1]-M[5],x=Math.sqrt(C*C+l*l),y=M[M.length-1]*x*.005;
v[Y]=Math.max(v[Y],y)}else v[Y]=Math.max(v[Y],M[M.length-1])}if(Y==4){var ge=L.blurbPathBlurSpeed.v.val/100;
for(var u=0;u<2;u++){var O=E["blurb"+(u==0?"Start":"End")+"BezierKernel"].v,kz=O.blurbBezierKernelIsNull;
for(var z=0;z<2;z++){var eZ=O["blurbBezierKernel"+(z==0?"Location":"OuterPoint")].v;M.push(eZ.Hrzn.v,eZ.Vrtc.v)}var kM=M.length-4,jV=M[kM],cL=M[kM+1],C=M[kM+2]-jV,l=M[kM+3]-cL,x=Math.sqrt(C*C+l*l);
if(kz&&kz.v)x=0;M.push(ge);v[Y]=Math.max(v[Y],x*ge)}}}return[i,v]}function V(L,R,i){for(var v=0;v<L.length;
v++)R[i+v]=L[v]}function I(L,R){for(var Y=0;Y<5;Y++){var i=L[0][Y];for(var $=0;$<i.length;$++){var v=Y==0?i[$].slice(0,2):Y==4?i[$].slice(0,4).concat(i[$].slice(5,9)):i[$].slice(0,10);
t.G.u(v,R,v);if(Y==4){V(v.slice(0,4),i[$],0);V(v.slice(4,8),i[$],5)}else V(v,i[$],0)}}}function F(L,R,i){var v=R.S.r,E=R.S.$,u=v*E,C=h(L),l=f(L);
for(var $=0;$<6;$++)if(!l[$])C[1][$]=0;var x=new kp;x.translate(-R.S.x,-R.S.y);I(C,x);var y=Date.now(),ge=d(C,v,E),O=ge[0],kz=ge[1];
i.buffer.set(R.buffer);var z=t.CH(i.buffer);if(z)t.IN(i.buffer);if(kz!=0)A(i.buffer,v,E,O,kz);var eZ=Math.max(C[1][4],C[1][5]);
if(eZ!=0&&aq.zw){var y=Date.now(),kM=t.j(v*E*4);for(var $=0;$<kM.length;$+=4){kM[$]=127;kM[$+1]=127}if(C[1][4]!=0)D(kM,C,v,E,eZ);
if(C[1][5]!=0)c(kM,C,v,E,eZ);var jV=eZ*.25,cL=new Float32Array([1/v,1/E]),aw=aq.hu(0,v,E);aw.set(i.buffer);
var h2=aq.hu(1,v,E);h2.set(kM);aq.O$(aw,R.S);aw.YB(R.S);aq.filter.te({e:aq.filter.avL,g6:h2.SX,LU:cL,J6:jV,lT:2},aw.cR);
aw.get(i.buffer)}if(z)t.py(i.buffer)}function c(L,R,i,v,E){var u=R[0][5];if(u.length==0)return;var C=Date.now();
for(var $=0;$<u.length;$++){var l=u[$],x=W(l),y=x.Q();y.vN();var ge=1-l[10],O=l[14]*2.15/E;for(var kz=0;
kz<v;kz++)for(var z=0;z<i;z++){var eZ=x.Jm*z+x.br*kz+x._f,kM=x.g*z+x.Bi*kz+x.Ey,jV=eZ*eZ+kM*kM;if(jV<1){var cL=eZ-kM*O,aw=kM+eZ*O,h2=y.y8(new es(cL,aw)),ea=4*(kz*i+z),ht=Math.sqrt(jV),jn=ht<ge?0:(ht-ge)/(1-ge);
L[ea]=Math.max(0,Math.min(255,jn*L[ea]+(1-jn)*(127+h2.x-z)));L[ea+1]=Math.max(0,Math.min(255,jn*L[ea+1]+(1-jn)*(127+h2.y-kz)))}}}console.log(Date.now()-C)}function D(L,R,i,v,E){var u=R[0][4];
if(u.length==0)return;var C=u[0];for(var $=1;$<u.length;$++)C=C.concat(u[$]);var l=[];for(var $=0;$<C.length;
$+=5){var x=C[$],y=C[$+1],ge=C[$+2]-x,O=C[$+3]-C[$+1],kz=Math.sqrt(ge*ge+O*O);if(kz!=0){ge/=kz;O/=kz}l.push(x,y,ge,O,kz,C[$+4])}C=l;
var z=Math.floor(C.length/6),eZ=127/E;for(var y=0;y<v;y++)for(var x=0;x<i;x++){var kM=0,jV=0,cL=0,aw=0;
for(var $=0;$<z;$++){var h2=$*6,ea=C[h2],ht=C[h2+1],ge=x-ea,O=y-ht,kz=1/Math.pow(ge*ge+O*O,.5);jV+=kz*C[h2+2];
cL+=kz*C[h2+3];aw+=kz*C[h2+4]*C[h2+5];kM+=kz}var jn=Math.sqrt(jV*jV+cL*cL),gE=eZ*aw/(jn*kM);L[4*(y*i+x)]=Math.min(jV*gE+127,255);
L[4*(y*i+x)+1]=Math.min(cL*gE+127,255)}}function n(L){var R=L.blurbOpenPanel;if(R)return R.v;else{var i=L.blurbWidgetList2.v;
for(var $=0;$<i.length;$++){var v=i[$].v.blurbWidgetSelected;if(v&&v.v)return i[$].v.blurbWidgetType.v}}return 0}function k(L,R){if(R<4)L.blurbOpenPanel={t:"long",v:R};
else{delete L.blurbOpenPanel;var i=L.blurbWidgetList2.v;for(var $=0;$<i.length;$++){i[$].v.blurbWidgetSelected.v=i[$].v.blurbWidgetType.v==R}}}function b(L,Y,R,i){var v=h(L)[0],E=v[Y],u;
if(Y==0){u=E.length;E.push([R,i,20])}if(Y==1||Y==5){u=E.length*6+1;var C=100;E.push([R-C,i-C,R+C,i-C,R+C,i+C,R-C,i+C,R,i,.8,.8,.8,.8,20])}if(Y==3){u=E.length*5;
E.push([R,i,R,i-50,R,i+50,R,i-20,R,i+20,20])}if(Y==4){u=E.length*4+2;E.push([R-100,i,R-50,i,1,R,i,R+50,i,1])}P(v,L);
k(L,Y);return u}return{apply:F,_n:h,Y6:P,aGh:b,a7J:f,atn:s,aiU:W,u:I,aAu:n,Pk:k}}();t.BF={};t.BF.j=function(M,X,J,q){var W=[];
for(var T=0;T<4;T++)for(var _=0;_<4;_++)W.push(M+J*_/3,X+q*T/3);return W};t.BF.aBI=function(M,X){var J=M.slice(0);
for(var $=0;$<4;$++)for(var q=0;q<4;q++){var W=2*($*4+q),T=2*(q*4+(3-$));if(X){var _=W;W=T;T=_}J[T]=M[W];
J[T+1]=M[W+1]}return J};t.BF.drawImage=function(M,X,J,q,W,T,_){var m=!1,d=Date.now(),A=2;if(!q.wz(J)){q.x=J.x;
q.y=J.y}J.x-=q.x;J.y-=q.y;q.x=q.y=0;var p=q.Q();p.offset(A,A);var a=p.Q();a.$K(A,A);var f=t.qP(X),s=t.j(a.o()*4,f),j=J.Q();
J.offset(A,A);t.fA(X,J,s,a);if(m)console.log(Date.now()-d,"copy rect");d=Date.now();t.IN(s);if(m)console.log(Date.now()-d,"multiply alpha");
d=Date.now();var Y=a.r-2*A,G=a.$-2*A,Q=Math.max(Y,G),Z=Math.round(50*Y/Q),g=Math.round(Math.sqrt(3)*.5*50*G/Q),S=Z-.5,U=Y+2*A,B=G+2*A,e=[],P=[],h=[];
for(var V=0;V<g+1;V++){var I=(V&1)==0;for(var F=0;F<Z+1;F++){var c=(F-(I?.5:0))/S,D=V/g;if(F==0)c=0;
if(F==Z)c=1;e.push(U*c,B*D);if(F<Z&&V<g){var n=V*(Z+1)+F,k=n+1,b=n+Z+1,N=b+1;if(I)P.push(n,k,b,b,k,N);
else P.push(n,k,N,n,N,b)}var L=t.BF.az_(M,c,D);h.push(-L)}}var R=e.slice(0);t.BF.u(M,R,p);t.G.u(R,new kp(1,0,0,1,-T.x,-T.y),R);
if(m)console.log(Date.now()-d,"mesh built");d=Date.now();var i=T.r,v=T.$;t.xl.bo(s,U,B,W,i,v,e,R,h,P,_);
if(m)console.log(Date.now()-d,"rendered");d=Date.now();t.py(W);if(m)console.log(Date.now()-d,"divided");
d=Date.now()};t.BF.E2=new Array(10);t.BF.N_=function(M,X){var J=200,q=0,W=0,T=1e9,_=t.BF.E2;for(var m=0;
m<J+1;m++)for(var d=0;d<J+1;d++){var A=d/J,p=m/J;t.BF.aDb(M,A,p,_);var a=_[8]-X.x,f=_[9]-X.y,s=a*a+f*f;
if(s<T){T=s;q=A;W=p}}return[q,W]};t.BF.u=function(M,X,J){var q=J.x,W=J.y,T=1/J.r,_=1/J.$,m=t.BF.E2;for(var d=0;
d<X.length;d+=2){var A=(X[d]-q)*T,p=(X[d+1]-W)*_;t.BF.aDb(M,A,p,m);X[d]=m[8];X[d+1]=m[9]}};t.BF.az_=function(M,X,J){var q,W,T,_,m=t.BF.E2;
t.BF.aC2(M,X,J,m);q=m[8];W=m[9];t.BF.ab1(M,X,J,m);T=m[8];_=m[9];return q*_-W*T};t.BF.TX=function(M,X,J){var q=0,W=0,T=M[2][0],_=M[2][1];
while(q+2<T.length&&T[q+1]<X)q++;X=(X-T[q])/(T[q+1]-T[q]);while(W+2<_.length&&_[W+1]<J)W++;J=(J-_[W])/(_[W+1]-_[W]);
return[q*3,W*3,X,J]};t.BF.aDb=function(M,X,J,q){var W=t.BF.TX(M,X,J);t.BF.ZP(q,0,W[3]);t.BF.ZP(q,4,W[2]);
t.BF.$I(M[3],W[0],W[1],M[0],q)};t.BF.aC2=function(M,X,J,q){var W=t.BF.TX(M,X,J);t.BF.ZP(q,0,W[3]);t.BF.a56(q,4,W[2]);
t.BF.$I(M[3],W[0],W[1],M[0],q)};t.BF.ab1=function(M,X,J,q){var W=t.BF.TX(M,X,J);t.BF.a56(q,0,W[3]);t.BF.ZP(q,4,W[2]);
t.BF.$I(M[3],W[0],W[1],M[0],q)};t.BF.a56=function(M,$,X){var J=1-X;M[$]=-3*(J*J);M[$+1]=3*(J*J)-6*(X*J);
M[$+2]=6*(X*J)-3*(X*X);M[$+3]=3*(X*X)};t.BF.ZP=function(M,$,X){var J=1-X;M[$]=J*(J*J);M[$+1]=3*X*(J*J);
M[$+2]=3*(X*X)*J;M[$+3]=X*X*X};t.BF.amO=function(M,X,J,q,W){var T=t.BF.TX(M,X,J),_=T[0],m=T[1],d=T[2],A=T[3],p=M[0],a=Math.floor(d*3),f=Math.floor(A*3),s=t.BF.E2,j=16,e=0;
t.BF.ZP(s,0,A);t.BF.ZP(s,4,d);var Y=[],G=[],Q=[];for(var Z=0;Z<4;Z++){for(var g=0;g<4;g++){var $=Z*4+g,S=s[Z]*s[4+g];
Y.push(S);G.push((m+Z)*p+_+g);if((Z==f||Z==f+1)&&(g==a||g==a+1)){var U=d*3-a;if(g==a)U=1-U;var B=A*3-f;
if(Z==f)B=1-B;Q[$]=U*B/S}else Q[$]=0}}for(var $=0;$<j;$++)e+=Y[$]*Q[$];for(var $=0;$<j;$++)Q[$]/=e;for(var $=0;
$<j;$++){var S=Y[$],P=G[$];M[3][P*2]+=Q[$]*q;M[3][P*2+1]+=Q[$]*W}};t.BF.jJ=function(M){var X=M[0],J=M[1],q=M[2],W=M[3],T=W.slice(0);
for(var _=0;_<J;_++)for(var m=0;m<X;m++){W[(m*J+_)*2]=T[(_*X+m)*2];W[(m*J+_)*2+1]=T[(_*X+m)*2+1]}M[0]=J;
M[1]=X;M[2]=[q[1],q[0]]};t.BF.split=function(M,X,J){if(X==1)t.BF.jJ(M);var q=M[0],W=M[1],T=M[2][0],_=M[3],m=0;
while(T[m+1]&&T[m+1]<J)m++;var d=(J-T[m])/(T[m+1]-T[m]),A=1-d;for(var p=0;p<W;p++){var $=(p*(q+3)+m*3)*2,a=A*_[$]+d*_[$+2],f=A*_[$+1]+d*_[$+3],s=A*_[$+2]+d*_[$+4],j=A*_[$+3]+d*_[$+5],Y=A*_[$+4]+d*_[$+6],G=A*_[$+5]+d*_[$+7],Q=A*a+d*s,Z=A*f+d*j,g=A*s+d*Y,S=A*j+d*G,U=A*Q+d*g,B=A*Z+d*S;
_.splice($+2,4,a,f,Q,Z,U,B,g,S,Y,G)}T.push(J);T.sort();M[0]+=3;if(X==1)t.BF.jJ(M)};t.BF.$I=function(M,X,J,q,W){var T=0,_=0,m=0,d=W[0],A=W[1],p=W[2],a=W[3],f=W[4],s=W[5],j=W[6],Y=W[7],$=(J*q+X)*2;
m=d*f;T+=M[$+0]*m;_+=M[$+1]*m;m=d*s;T+=M[$+2]*m;_+=M[$+3]*m;m=d*j;T+=M[$+4]*m;_+=M[$+5]*m;m=d*Y;T+=M[$+6]*m;
_+=M[$+7]*m;$+=q+q;m=A*f;T+=M[$+0]*m;_+=M[$+1]*m;m=A*s;T+=M[$+2]*m;_+=M[$+3]*m;m=A*j;T+=M[$+4]*m;_+=M[$+5]*m;
m=A*Y;T+=M[$+6]*m;_+=M[$+7]*m;$+=q+q;m=p*f;T+=M[$+0]*m;_+=M[$+1]*m;m=p*s;T+=M[$+2]*m;_+=M[$+3]*m;m=p*j;
T+=M[$+4]*m;_+=M[$+5]*m;m=p*Y;T+=M[$+6]*m;_+=M[$+7]*m;$+=q+q;m=a*f;T+=M[$+0]*m;_+=M[$+1]*m;m=a*s;T+=M[$+2]*m;
_+=M[$+3]*m;m=a*j;T+=M[$+4]*m;_+=M[$+5]*m;m=a*Y;T+=M[$+6]*m;_+=M[$+7]*m;$+=q+q;W[8]=T;W[9]=_};t.Zx={};
t.Zx.am9=function(M,X,J){var q=Date.now();return t.Zx.abk(M,X,J)};t.Zx.axJ=function(M,X,J,q){var W=J*q,T=new Uint32Array(W),_=new Uint8Array(W),m=new Int16Array(W);
T.fill(4294967295);T[X]=0;var d=new gp(W);d.push(X,T[X]);var A={lj:M,rx:T,Dh:_,yw:m,q6:d,apy:X,nM:[-J-1,-J,-J+1,1,J+1,J,J-1,-1]};
return A};t.Zx.uz=function(M,X){var J=M.lj,q=M.rx,W=M.Dh,T=M.yw,_=M.q6,m=M.nM;while(_.Vz!=0&&(X==null||W[X]==0)){var d=_.pop();
if(W[d]==1)continue;W[d]=1;for(var $=0;$<8;$++){var A=J[8*d+$],p=d+m[$];if(A==255||W[p]==1)continue;
var a=q[d]+A;if(a<q[p]){q[p]=a;T[p]=d-p;_.push(p,a)}}}};function gp(M){this.list=[];this.Vz=0;this.KU=4294967295}gp.prototype.push=function(M,X){var J=this.list;
if(J[X]==null)J[X]=[];J[X].push(M);this.Vz++;this.KU=Math.min(this.KU,X)};gp.prototype.pop=function(){this.Vz--;
var M=this.list,X=this.KU,J=M[X].pop();if(M[X].length==0){M[X]=null;if(this.Vz==0)this.KU=4294967295;
else{while(M[X]==null)X++;this.KU=X}}return J};t.Zx.aaV=function(M,X,J,q){var W=new Int16Array(q);for(var T=0;
T<J;T++)for(var _=0;_<X;_++){var $=T*X+_,m=0;if(1<_&&_<X-2&&1<T&&T<J-2){m+=M[$-X-X];m+=M[$-X-1]+2*M[$-X]+M[$-X+1];
m+=M[$-2]+2*M[$-1]-16*M[$]+2*M[$+1]+M[$+2];m+=M[$+X-1]+2*M[$+X]+M[$+X+1];m+=M[$+X+X]}else m=-16*M[$];
W[$]=m}return W};t.Zx.azi=function(M,X,J,q){if(q==null)q=128;var W=new Uint8Array(X*J);for(var T=1;T<J;
T++)for(var _=1;_<X;_++){var $=T*X+_;t.Zx.apQ(M,$,$-1,W,q);t.Zx.apQ(M,$,$-X,W,q)}return W};t.Zx.apQ=function(M,$,X,J,q){var W=M[$],T=M[X];
if(Math.abs(W-T)>q&&W*T<0){if(Math.abs(W)<Math.abs(T))J[$]=1;else J[X]=1}};t.Zx.aE7=function(M,X,J,q){var W=new Float32Array(q),T=0;
W.fill(0);for(var _=0;_<J;_++)for(var m=0;m<X;m++){var d=0,A=0,$=_*X+m,p=$*3;if(0<m&&m<X-1)d=M[$+1]-M[$-1];
if(0<_&&_<J-1)A=M[$+X]-M[$-X];var a=d*d+A*A;if(a!=0){var f=W[p+2]=Math.sqrt(a),s=1/f;W[p]=d*s;W[p+1]=A*s;
if(f>T)T=f}}var j=3*X*J,Y=T==0?0:1/T;for(var $=0;$<j;$+=3)W[$+2]=1-W[$+2]*Y;return W};t.Zx.abk=function(){function M(m,d,A){var p=new ArrayBuffer(d*A*12),a=Date.now(),f=t.Zx.aaV(m,d,A,p),s=t.Zx.azi(f,d,A),j=t.Zx.aE7(m,d,A,p),Y=new Uint8Array(d*A*8);
Y.fill(255);var G=[-d-1,-d,-d+1,1];for(var Q=1;Q<A-1;Q++)for(var Z=1;Z<d-1;Z++){var g=Q*d+Z;for(var S=0;
S<4;S++)_(g,g+G[S],S,Y,s,j)}return Y}var X=new Float64Array(256);for(var $=0;$<256;$++)X[$]=Math.acos(-1+2*$/255)*(.95/Math.PI);
var J=[-1,0,1,1,1,0,-1,-1],q=[-1,-1,-1,0,1,1,1,0];for(var $=0;$<8;$++){var W=1/Math.sqrt(J[$]*J[$]+q[$]*q[$]);
J[$]*=W;q[$]*=W}var T=[J[0],q[0],J[1],q[1],J[2],q[2],J[3],q[3]];function _(m,d,A,p,a,f){var s=3*m,j=3*d,Y=1-a[d],G=1-a[m],Q=(A&1)==0?1:Math.SQRT1_2,Z=f[j+2]*Q,g=f[s+2]*Q,S=f[j+1],U=-f[j],B=f[s+1],e=-f[s],P=T[A+A],h=T[A+A+1],V=B*P+e*h,I=S*P+U*h;
if(V+I<0){V=-V;I=-I}var F=X[~~((.5+.5*V)*255)]+X[~~((.5+.5*I)*255)];p[(m<<3)+A]=1+~~(.5+20*(.43*Y+.43*F+.14*Z));
p[(d<<3)+A+4]=1+~~(.5+20*(.43*G+.43*F+.14*g))}return M}();t.BD={};t.BD.yA=function(M){var X=M.slice(0),J=0;
for(var $=0;$<M.length;$++)J+=M[$];for(var $=0;$<M.length;$++)X[$]/=J;return X};t.BD.rj=[t.BD.yA([1,2,1,2,16,2,1,2,1]),t.BD.yA([1,2,1,2,4,2,1,2,1]),t.BD.yA([0,-1,0,-1,8,-1,0,-1,0]),t.BD.yA([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
t.BD.Br=function(M,X,J,q,W,T,_){if(_==null)_=!1;var m=Math.floor(Math.sqrt(W.length)),d=m-1>>>1,A=t.qP(M),p=t.P0(A),a=new Uint32Array(M.buffer),f=new Uint8ClampedArray(X.buffer);
for(var $=0;$<q;$++)for(var s=0;s<J;s++){var j=0,Y=0,G=0,Q=0;for(var Z=0;Z<m;Z++)for(var g=0;g<m;g++){var S=W[Z*m+g];
if(S==0)continue;var U=s-d+g,B=$-d+Z;if(U<0)U=0;else if(U>J-1)U=J-1;if(B<0)B=0;else if(B>q-1)B=q-1;if(A==8){var e=a[B*J+U];
j+=(e&255)*S;Y+=(e>>>8&255)*S;G+=(e>>>16&255)*S;Q+=(e>>>24&255)*S}else{var P=B*J+U<<2;j+=M[P]*S;Y+=M[P+1]*S;
G+=M[P+2]*S;Q+=M[P+3]*S}}if(_){if(j<0)j=-j;if(Y<0)Y=-Y;if(G<0)G=-G;if(Q<0)Q=-Q}var h=$*J+s<<2;if(A==8){f[h]=~~(.5+j);
f[h+1]=~~(.5+Y);f[h+2]=~~(.5+G);if(T)f[h+3]=~~(.5+Q)}else{X[h]=Math.max(0,Math.min(p,j));X[h+1]=Math.max(0,Math.min(p,Y));
X[h+2]=Math.max(0,Math.min(p,G));if(T)X[h+3]=Math.max(0,Math.min(p,Q))}}};t.BD.aFd=function(M,X,J,q){var W=M.length,T=new Uint8Array(W);
t.BD.Br(M,X,J,q,t.BD.rj[4],!1,!0);t.BD.Br(M,T,J,q,t.BD.rj[5],!1,!0);for(var $=0;$<W;$+=4){var _=X[$],m=X[$+1],d=X[$+2],A=X[$+3],p=T[$],a=T[$+1],f=T[$+2],s=T[$+3];
X[$]=255-Math.max(0,Math.min(255,Math.sqrt(_*_+p*p)));X[$+1]=255-Math.max(0,Math.min(255,Math.sqrt(m*m+a*a)));
X[$+2]=255-Math.max(0,Math.min(255,Math.sqrt(d*d+f*f)))}};t.BD.aep=function(M,X,J,q){var W=M.length,T=new Uint8Array(W);
t.BD.yX(M,X,J,q,t.BD.rj[4],!0);t.BD.yX(M,T,J,q,t.BD.rj[5],!0);for(var $=0;$<W;$++){var _=X[$],m=T[$];
X[$]=255-Math.max(0,Math.min(255,Math.sqrt(_*_+m*m)))}};t.BD.yX=function(M,X,J,q,W,T){X=new Uint8ClampedArray(X.buffer);
var _=[-J-1,-J,-J+1,-1,0,1,J-1,J,J+1],m=q-1,d=J-1;for(var $=1;$<m;$++)for(var A=1;A<d;A++){var p=$*J+A,a=t.BD.cx(M,p,J,W);
if(T){if(a<0)a=-a}X[p]=~~(a+.5)}};t.BD.cx=function(M,X,J,q){return M[X-J-1]*q[0]+M[X-J]*q[1]+M[X-J+1]*q[2]+M[X-1]*q[3]+M[X]*q[4]+M[X+1]*q[5]+M[X+J-1]*q[6]+M[X+J]*q[7]+M[X+J+1]*q[8]};
t.BD.al4=function(M,X,J,q,W){var T=[-J-1,-J,-J+1,-1,0,1,J-1,J,J+1],_=q-1,m=J-1;for(var $=1;$<_;$++)for(var d=1;
d<m;d++){var A=$*J+d;X[A]=t.BD.aan(M,A,J,W)}};t.BD.aan=function(M,X,J,q){return M[X-J-1]*q[0]+M[X-J]*q[1]+M[X-J+1]*q[2]+M[X-1]*q[3]+M[X]*q[4]+M[X+1]*q[5]+M[X+J-1]*q[6]+M[X+J]*q[7]+M[X+J+1]*q[8]};
t.Tg={};t.Tg.GE=function(){function M(_,m,d,A,p,a){if(p==0){m.set(_);return}var f=t.j(d*A),s=t.j(d*A);
if(t.CH(_)){X(_,m,d,A,p,a);t.SF(_,f,3);t.Tg.anR(f,s,d,A,p,a);t.ix(s,m,3)}else{for(var $=0;$<3;$++){t.SF(_,f,$);
t.Tg.anR(f,s,d,A,p,a);t.ix(s,m,$)}}}function X(_,m,d,A,p,a){var f=0,s=new ArrayBuffer(512*4*3),j=[new Int32Array(s,0),new Int32Array(s,2048),new Int32Array(s,2*2048)],Y=1+2*Math.round(Math.sqrt(p)),G=Y>>>1,Q=new Array(Y),Z=new Array(Y);
for(var $=0;$<Y;$++){var s=new ArrayBuffer(512*4*3);Q[$]=[new Int32Array(s,0),new Int32Array(s,2048),new Int32Array(s,2*2048)];
Z[$]=Q[$][0]}var g=[t.Tg.FD,t.Tg.Q0][a],S=g[0],U=g[1],B=j[0];for(var e=0;e<d;e++)if(e<p||e>d-p-Y-1){B.fill(0);
var P=Math.max(e-p,0),h=Math.min(d,e+p+1),V=h-P;for(var I=0;I<p;I++)q(B,_,I*d+P,I*d+h,1);for(var I=0;
I<A;I++){var F=I-p-1,c=I+p;if(c<A)q(B,_,c*d+P,c*d+h,1);if(F>=0)q(B,_,F*d+P,F*d+h,-1);var D=I*d+e<<2;
f=B[300];if(f!=0)for(var $=0;$<3;$++)m[D+$]=S(j[$],_[D+$],f)}}else{for(var $=0;$<Y;$++)Z[$].fill(0);
var P=e-p+G,h=e+p+1+G;for(var I=0;I<p;I++)J(Z,_,I*d+P,I*d+h,1,G);for(var I=0;I<A;I++){var F=I-p-1,c=I+p;
if(F>=0)J(Z,_,F*d+P,F*d+h,-1,G);if(c<A)J(Z,_,c*d+P,c*d+h,1,G);var n=Q[G];f=n[0][300];for(var $=0;$<G;
$++){var k=G-1-$,b=G+1+$,N=Q[k],L=Q[b],R=f+N[0][300],i=f+L[0][300],E=I*d+e+k<<2,u=I*d+e+b<<2;if(R!=0)for(var C=0;
C<3;C++)m[E+C]=U(n[C],N[C],_[E+C],R);if(i!=0)for(var C=0;C<3;C++)m[u+C]=U(n[C],L[C],_[u+C],i)}var D=I*d+e+G<<2;
if(f!=0)for(var C=0;C<3;C++)m[D+C]=S(n[C],_[D+C],f)}e+=Y-1}}function J(_,m,d,A,p,a){var f=W,s=d<<2,j=A<<2;
f(_[a-1],m,d-1<<2,p);f(_[a-1],m,A-1<<2,-p);f(_[a+1],m,A<<2,p);f(_[a+1],m,d<<2,-p);for(var $=1;$<a;$++){var Y=_[a-$-1],G=_[a+$+1];
for(var Q=0;Q<=$;Q++){var Z=Q<<2;f(Y,m,d-1-Q<<2,p);f(Y,m,A-1-Q<<2,-p);f(G,m,A+Q<<2,p);f(G,m,d+Q<<2,-p)}}q(_[a],m,d,A,p)}function q(_,m,$,d,A){var p=$<<2,a=d<<2;
while(p<a){W(_,m,p,A);p+=4}}function W(_,m,d,A){var p=A*m[d+3];_[300]+=p;T(_,m[d],0,p);T(_,m[d+1],512,p);
T(_,m[d+2],1024,p)}function T(_,m,d,A){_[d|m]+=A;_[d|256|m>>>4]+=A}return M}();t.Tg.anR=function(){function M(a,f,s,j,Y,G){if(Y==0){f.set(a);
return}if(Y<=200)X(a,f,s,j,Y,G);else T(a,f,s,j,Y,G)}function X(a,f,s,j,Y,G){var Q=0,Z=new Int32Array(512),g=1+2*Math.round(Math.sqrt(Y)),S=g>>>1,U=new Array(g);
for(var $=0;$<g;$++)U[$]=new Int32Array(512);var B=[t.Tg.FD,t.Tg.Q0][G],e=B[0],P=B[1];for(var h=0;h<s;
h++)if(h<Y||h>s-Y-g-1){Z.fill(0);Q=0;var V=Math.max(h-Y,0),I=Math.min(s,h+Y+1),F=I-V;for(var c=0;c<Y;
c++){Q+=F;q(Z,a,c*s+V,c*s+I,1)}for(var c=0;c<j;c++){var D=c-Y-1,n=c+Y;if(D>=0){Q-=F;q(Z,a,D*s+V,D*s+I,-1)}if(n<j){Q+=F;
q(Z,a,n*s+V,n*s+I,1)}var k=e(Z,a[c*s+h],Q);f[c*s+h]=k}}else{for(var $=0;$<g;$++)U[$].fill(0);Q=0;var V=h-Y+S,I=h+Y+1+S,F=I-V;
for(var c=0;c<Y;c++){Q+=F;J(U,a,c*s+V,c*s+I,1,S)}for(var c=0;c<j;c++){var D=c-Y-1,n=c+Y;if(D>=0){Q-=F;
J(U,a,D*s+V,D*s+I,-1,S)}if(n<j){Q+=F;J(U,a,n*s+V,n*s+I,1,S)}for(var $=0;$<S;$++){var b=S-1-$,N=S+1+$;
f[c*s+h+b]=P(U[S],U[b],a[c*s+h+b],Q);f[c*s+h+N]=P(U[S],U[N],a[c*s+h+N],Q)}f[c*s+h+S]=e(U[S],a[c*s+h+S],Q)}h+=g-1}}function J(a,f,s,j,Y,G){var Q=W;
Q(a[G-1],f[s-1],0,Y);Q(a[G-1],f[j-1],0,-Y);Q(a[G+1],f[j],0,Y);Q(a[G+1],f[s],0,-Y);for(var $=1;$<G;$++){var Z=a[G-$-1],g=a[G+$+1];
for(var S=0;S<=$;S++){Q(Z,f[s-1-S],0,Y);Q(Z,f[j-1-S],0,-Y);Q(g,f[j+S],0,Y);Q(g,f[s+S],0,-Y)}}q(a[G],f,s,j,Y)}function q(a,f,$,s,j){while($<s)W(a,f[$++],0,j)}function W(a,f,s,j){a[s|f]+=j;
a[s|256|f>>>4]+=j}function T(a,f,s,j,Y,G){var Q=0,Z=new Int32Array(512),g=new Int32Array(1*s),S=new Int32Array(512*s),U=Math.min(Y,s),B=Math.min(Y,j),e=[t.Tg.FD,t.Tg.Q0][G],P=e[0];
for(var h=0;h<B;h++)_(S,g,a,s,h,1);for(var h=0;h<j;h++){if(h+Y<j)_(S,g,a,s,h+Y,1);if(h-Y-1>=0)_(S,g,a,s,h-Y-1,-1);
Z.fill(0);Q=0;for(var V=0;V<U;V++){Q+=g[V];m(Z,S,V)}for(var V=0;V<s;V++){var I=V-Y-1,F=V+Y;if(I>=0&&g[I]!=0){Q-=g[I];
d(Z,S,I)}if(F<s&&g[F]!=0){Q+=g[F];m(Z,S,F)}var c=Q==0?0:P(Z,a[h*s+V],Q);f[h*s+V]=c}}}function _(a,f,s,j,Y,G){var $=Y*j;
for(var Q=0;Q<j;Q++){W(a,s[$+Q],Q<<9,G);f[Q]+=G}}function m(a,f,s){for(var $=0;$<16;$++){var j=f[s<<9|256|$];
if(j==0)continue;a[256|$]+=j;var Y=$<<4,G=s<<9|Y;A(a,f,Y,G);A(a,f,Y+4,G+4);A(a,f,Y+8,G+8);A(a,f,Y+12,G+12)}}function d(a,f,s){for(var $=0;
$<16;$++){var j=f[s<<9|256|$];if(j==0)continue;a[256|$]-=j;var Y=$<<4,G=s<<9|Y;p(a,f,Y,G);p(a,f,Y+4,G+4);
p(a,f,Y+8,G+8);p(a,f,Y+12,G+12)}}function A(a,f,s,j){a[s]+=f[j];a[s+1]+=f[j+1];a[s+2]+=f[j+2];a[s+3]+=f[j+3]}function p(a,f,s,j){a[s]-=f[j];
a[s+1]-=f[j+1];a[s+2]-=f[j+2];a[s+3]-=f[j+3]}return M}();t.Tg.ho=.5;t.Tg.FD=[function(M,X,J){var q=~~(.5+t.Tg.ho*J),W=0,$=256;
while(W+M[$]<q)W+=M[$++];$=$-256<<4;while(W<q)W+=M[$++];return $-1},function(M,X,J,q){var W=~~(.5+t.Tg.ho*q),T=0,$=256;
while(T+M[$]+X[$]<W){T+=M[$]+X[$];$++}$=$-256<<4;while(T<W){T+=M[$]+X[$];$++}return $-1}];t.Tg.tX=100;
t.Tg.Q0=[function(M,X,J){var q=t.Tg.tX,W=0,T=0,$=Math.max(0,X-q),_=Math.min(256,X+q+1);while($<_){var m=M[$];
W+=$*m;T+=m;$++}return T==0?0:W/T},function(M,X,J,q){var W=t.Tg.tX,T=0,_=0,$=Math.max(0,J-W),m=Math.min(256,J+W+1);
while($<m){var d=M[$]+X[$];T+=$*d;_+=d;$++}return _==0?0:T/_}];t.t={};t.t.sf=function(M){var X=o.fx.Bz(M.Trnf),J=new gc(0,0,1e3,1e3);
if(M.Sz){var q=M.Sz.v;J=new gc(0,0,q.Wdth.v,q.Hght.v)}var W=t.t.bw(X,J);return t.t.Gy(W)};t.t.bw=function(M,X){var J=M[0],q=M[1],W=M[2],T=M[3],_=M[6],m=M[7],d=M[4],A=M[5],p=0,a=0,f=1,s=0,j=0,Y=1,G=1,Q=1;
if(X){p=X.x;a=X.y;f=X.x+X.r;s=X.y;j=X.x;Y=X.y+X.$;G=X.x+X.r;Q=X.y+X.$}return t.t.a6z(M,[p,a,f,s,G,Q,j,Y])};
t.t.aA8=function(M){function X(W,T){for(var $=0;$<T.length;$+=2)if(!J(W,T[$],T[$+1]))return!1;return!0}function J(W,T,_){return W[2*T]==W[2*_]&&W[2*T+1]==W[2*_+1]}var q=0;
if(X(M,[0,1,2,3]))q+=1;if(X(M,[0,3,1,2]))q+=2;return q};t.t.a6z=function(M,X){function J(k,$,b){var c=k[$*2]-k[b*2],D=k[$*2+1]-k[b*2+1];
return Math.sqrt(c*c+D*D)}var q=M[0],W=M[1],T=M[2],_=M[3],m=M[6],d=M[7],A=M[4],p=M[5],a=X[0],f=X[1],s=X[2],j=X[3],Y=X[6],G=X[7],Q=X[4],Z=X[5],g=[[a,f,1,0,0,0,-a*q,-f*q,q],[0,0,0,a,f,1,-a*W,-f*W,W],[s,j,1,0,0,0,-s*T,-j*T,T],[0,0,0,s,j,1,-s*_,-j*_,_],[Y,G,1,0,0,0,-Y*m,-G*m,m],[0,0,0,Y,G,1,-Y*d,-G*d,d],[Q,Z,1,0,0,0,-Q*A,-Z*A,A],[0,0,0,Q,Z,1,-Q*p,-Z*p,p]],S=[0,0,0,0,0,0,0,0],U=t.FB.mH(g,S);
if(U!=0){S=[0,0,0,0,0,0,0,0];var B=t.t.aA8(M),e=t.t.aA8(X);if(B==e&&B!=0){var P=B==1,h=P?3:1,V=J(M,0,h),I=J(X,0,h),F=I/V,c=M[2*h]-M[0],D=M[2*h+1]-M[1],n=new kp;
n.translate(-q,-W);n.rotate(Math.atan2(D,c)-(P?Math.PI/2:0));if(P)n.scale(1,F);else n.scale(F,1);n.translate(a,f);
n.vN();S=t.t.WP(n)}}return S};t.t.j=function(M,X){if(M==null)M=X=0;return[1,0,M,0,1,X,0,0]};t.t.Jb=function(M){return Math.abs(M[6])<1e-10&&Math.abs(M[7])<1e-10};
t.t.Gy=function(M){return new kp(M[0],M[3],M[1],M[4],M[2],M[5])};t.t.WP=function(M){return[M.Jm,M.br,M._f,M.g,M.Bi,M.Ey,0,0]};
t.t.u=function(M,X){var J=new Float64Array(2);for(var q=0;q<X.length;q+=2){var W=X[q],T=X[q+1];t.t.l8(W,T,M,J);
X[q]=J[0];X[q+1]=J[1]}};t.t.l8=function(M,X,J,q){var W=1/(J[6]*M+J[7]*X+1);q[0]=(J[0]*M+J[1]*X+J[2])*W;
q[1]=(J[3]*M+J[4]*X+J[5])*W};t.t.a6p=function(M,X){var J=new Float64Array(2);t.t.l8(X.x,X.y,M,J);return new es(J[0],J[1])};
t.t.jJ=function(M,X,J,q){M=new Uint32Array(M.buffer);X=new Uint32Array(X.buffer);for(var W=0;W<q;W++){for(var T=0;
T<J;T++){X[T*q+W]=M[W*J+T]}}};t.t.E1=function(M,X,J,q){M=new Uint32Array(M.buffer);X=new Uint32Array(X.buffer);
for(var W=0;W<q;W++){for(var T=0;T<J;T++){X[W*J+T]=M[W*J+J-1-T]}}};t.t.aBq=function(M,X,J,q){M=new Uint32Array(M.buffer);
X=new Uint32Array(X.buffer);for(var W=0;W<q;W++){for(var T=0;T<J;T++){X[W*J+T]=M[(q-1-W)*J+T]}}};t.t.aoh=function(M){return Math.abs(M[6])<1e-9&&Math.abs(M[7])<1e-9};
t.t.abS=function(M){return Math.abs(M[0])<1e-9&&Math.abs(M[4])<1e-9||Math.abs(M[1])<1e-9&&Math.abs(M[3])<1e-9};
t.t.drawImage=function(M,X,J,q,W,T,_,m){if(_==null)_=!1;var d=t.t.vN(M),A=!0,p=0;for(var $=0;$<8;$++){var a=Math.round(M[$]);
if($!=2&&$!=5)p+=Math.abs(a);if(Math.abs(a-M[$])>1e-9)A=!1}var f=t.t.aoh(M),s=t.t.abS(M)&&f,j=s?1:0;
if(t.qP(X)!=8){t.t.ade(d,X,J,q,W,T,f,_||m);return}if(_||A&&p==J+q&&f){t.t.aq5(d,X,J,q,W,T,f,m);return}var Y=T.r,G=T.$,Q=new Float64Array(2);
W=new Uint32Array(W.buffer);X=new Uint32Array(X.buffer);for(var Z=0;Z<G;Z++)for(var g=0;g<Y;g++){var S=Z*Y+g,U,B,e,P,L=0,R=0,i=0,v=0;
W[S]=0;var h=g+T.x+.5,V=Z+T.y+.5;U=h;B=V;e=d;var I=e[0]*U+e[1]*B+e[2],F=e[3]*U+e[4]*B+e[5];if(!f){P=1/(e[6]*U+e[7]*B+1);
I*=P;F*=P}var c=I*J,D=F*q,n=c<-1||c>J+1||D<-1||D>q+1;if(n)continue;var k=t.t.a15(M,J,q,h,V,I,F),b=Math.round(k*2.3);
if(k<1.1){t.t.GN(c,D,X,J,q,W,S,j);continue}if(c<.6||c>J-.6||D<.6||D>q-.6){b=Math.max(b,5)}var N=1/b,E=T.x+g,u=T.y+Z;
e=d;for(var $=0;$<b;$++)for(var C=0;C<b;C++){U=E+($+.5)*N;B=u+(C+.5)*N;var c=e[0]*U+e[1]*B+e[2],D=e[3]*U+e[4]*B+e[5];
if(!f){P=1/(e[6]*U+e[7]*B+1);c*=P;D*=P}if(c<0||c>=1||D<0||D>=1)continue;c=Math.floor(c*J);D=Math.floor(D*q);
var l=D*J+c,x=X[l],y=x>>>24;L+=(x&255)*y;R+=(x>>>8&255)*y;i+=(x>>>16&255)*y;v+=y}if(v!=0){var ge=1/v;
L=~~(L*ge+.5);R=~~(R*ge+.5);i=~~(i*ge+.5);v=~~(v*N*N+.5);W[S]=v<<24|i<<16|R<<8|L}}};t.t.ade=function(M,X,J,q,W,T,_,m){var d=T.r,A=T.$,p=new kp;
p.scale(J,q);p.translate(1,1);var a=t.t.uM(t.t.WP(p),M),f=new gc(0,0,J,q),s=f.Q();s.$K(1,1);var j=t.j(s.o()*4,t.qP(X));
t.fA(X,f,j,s);J=s.r;q=s.$;var Y=T.x+.5,G=T.y+.5;t.IN(j);for(var Q=0;Q<A;Q++)for(var Z=0;Z<d;Z++){var g=Q*d+Z<<2,S=Z+Y,U=Q+G,B=a[0]*S+a[1]*U+a[2],e=a[3]*S+a[4]*U+a[5];
if(!_){var P=1/(a[6]*S+a[7]*U+1);B*=P;e*=P}if(B<.5||B>J-.5||e<.5||e>q-.5){W[g]=0;W[g+1]=0;W[g+2]=0;W[g+3]=0}else if(m){var h=~~e*J+~~B<<2;
W[g]=j[h];W[g+1]=j[h+1];W[g+2]=j[h+2];W[g+3]=j[h+3]}else t.t.aEf(B,e,j,J,W,g)}t.py(W)};t.t.a15=function(M,X,J,q,W,T,_){var m=t.t.afN(M,q,W,T+1/X,_),d=t.t.afN(M,q,W,T,_+1/J);
return 1/Math.sqrt(Math.max(m,d))};t.t.afN=function(M,X,J,q,W){var T=1/(M[6]*q+M[7]*W+1),_=(M[0]*q+M[1]*W+M[2])*T-X,m=(M[3]*q+M[4]*W+M[5])*T-J;
return _*_+m*m};t.t.aq5=function(M,X,J,q,W,T,_,m){if(_&&T.o()>4e6&&m){t.t.acO(M,X,J,q,W,T,_,m);return}var d=T.x+T.r,A=T.y+T.$,p=0,a=new Uint32Array(W.buffer),f=new Uint32Array(X.buffer),s=M[0]*J,j=M[1]*J,Y=M[2]*J,G=M[3]*q,Q=M[4]*q,Z=M[5]*q,g=M[6],S=M[7];
if(_)for(var U=T.y+.5;U<A;U++)for(var B=T.x+.5;B<d;B++){var e=s*B+j*U+Y,P=G*B+Q*U+Z;if(0<e&&e<J&&0<P&&P<q){var h=~~P*J+~~e;
a[p]=f[h]}else a[p]=0;p++}else for(var U=T.y+.5;U<A;U++)for(var B=T.x+.5;B<d;B++){var V=1/(g*B+S*U+1),e=(s*B+j*U+Y)*V,P=(G*B+Q*U+Z)*V;
if(0<e&&e<J&&0<P&&P<q){var h=Math.floor(P)*J+Math.floor(e);a[p]=f[h]}else a[p]=0;p++}};t.t.acO=function(M,X,J,q,W,T,_,m){var d=new Uint32Array(W.buffer),A=new Uint32Array(X.buffer),S=0;
if(m&&(T.r&3)!=0)throw"e";var p=M[0]*J,a=M[1]*J,f=M[2]*J,s=M[3]*q,j=M[4]*q,Y=M[5]*q,G=M[6],Q=M[7],Z=T.r,g=T.$,U=T.x+.5,B=T.y+.5,e=(Z>>>2<<2)-1e-9,P=-.1+(g>>>1<<1)-1e-9,h=~~J,V=p==0?0:1/p,I=s==0?0:1/s;
for(var F=0;F<g;F++){var c=U*p+a*(F+B)+f,D=U*s+j*(F+B)+Y,n=0,k=Z;if(p==0){}else if(V>0){n=Math.max(n,-c*V);
k=Math.min(k,(J-c)*V)}else{k=Math.min(k,-c*V);n=Math.max(n,(J-c)*V)}if(s==0){}else if(I>0){n=Math.max(n,-D*I);
k=Math.min(k,(q-D)*I)}else{k=Math.min(k,-D*I);n=Math.max(n,(q-D)*I)}if(k<0)k=0;if(n>k)n=k;n=~~Math.ceil(n);
k=~~k;S=~~(F*Z);d.fill(0,S,S+n);S+=n;for(var b=n;b<k;b+=4){var N=p*b+c,L=s*b+D,R=~~L*h+~~N,i=A[R];d[S]=i;
d[S+1]=i;d[S+2]=i;d[S+3]=i;S+=4}d.fill(0,S,S+Z-k)}};t.t.vN=function(M){var X=M[4]-M[5]*M[7],J=M[2]*M[7]-M[1],q=M[1]*M[5]-M[2]*M[4],W=M[5]*M[6]-M[3],T=M[0]-M[2]*M[6],_=M[3]*M[2]-M[0]*M[5],m=M[3]*M[7]-M[4]*M[6],d=M[1]*M[6]-M[0]*M[7],A=1/(M[0]*M[4]-M[1]*M[3]);
return[X*A,J*A,q*A,W*A,T*A,_*A,m*A,d*A]};t.t.uM=function(M,X){var J=M[0],q=M[1],W=M[2],T=M[3],_=M[4],m=M[5],d=M[6],A=M[7],p=X[0],a=X[1],f=X[2],s=X[3],j=X[4],Y=X[5],G=X[6],Q=X[7],Z=[J*p+q*s+W*G,J*a+q*j+W*Q,J*f+q*Y+W,T*p+_*s+m*G,T*a+_*j+m*Q,T*f+_*Y+m,d*p+A*s+G,d*a+A*j+Q],g=1/(d*f+A*Y+1);
for(var $=0;$<8;$++)Z[$]*=g;return Z};t.t.GN=function(M,X,J,q,W,T,_,m){var d=M,A=X,f=0,s=0,j=0,Y=0;M-=.499999;
X-=.499999;var p=Math.floor(M),a=Math.floor(X);if(m==0){var $=a*q+p,G=p>=0&&p<q,Q=p+1>=0&&p+1<q,Z=a>=0&&a<W,g=a+1>=0&&a+1<W;
if(G&&Z)f=J[$];if(Q&&Z)s=J[$+1];if(G&&g)j=J[$+q];if(Q&&g)Y=J[$+q+1]}else if(m==1){var S=p<0?0:p>q-1?q-1:p,U=p<-1?0:p>q-2?q-1:p+1,B=a<0?0:a>W-1?W-1:a,e=a<-1?0:a>W-2?W-1:a+1;
f=J[B*q+S];s=J[B*q+U];j=J[e*q+S];Y=J[e*q+U]}else{var S=(p+50*q)%q,U=(p+50*q+1)%q,B=(a+50*W)%W,e=(a+50*W+1)%W;
f=J[B*q+S];s=J[B*q+U];j=J[e*q+S];Y=J[e*q+U]}var P=M-p,h=X-a,V=(1-h)*(1-P)*(f>>>24),I=(1-h)*P*(s>>>24),F=h*(1-P)*(j>>>24),c=h*P*(Y>>>24),D=V+I+F+c,n=V*(f&255)+I*(s&255)+F*(j&255)+c*(Y&255),k=V*(f>>>8&255)+I*(s>>>8&255)+F*(j>>>8&255)+c*(Y>>>8&255),b=V*(f>>>16&255)+I*(s>>>16&255)+F*(j>>>16&255)+c*(Y>>>16&255);
if(D==0)T[_]=0;else{var N=1/D;n=~~(n*N+.5);k=~~(k*N+.5);b=~~(b*N+.5);D=~~(D+.5);T[_]=D<<24|b<<16|k<<8|n}};
t.t.aEf=function(M,X,J,q,W,T){var _=M-.499999,m=X-.499999,d=~~_,A=~~m,p=_-d,a=m-A,f=(1-a)*(1-p),s=(1-a)*p,j=a*(1-p),Y=a*p,G=A*q+d<<2,Q=(A+1)*q+d<<2;
W[T]=f*J[G]+s*J[G+4]+j*J[Q]+Y*J[Q+4];W[T+1]=f*J[G+1]+s*J[G+5]+j*J[Q+1]+Y*J[Q+5];W[T+2]=f*J[G+2]+s*J[G+6]+j*J[Q+2]+Y*J[Q+6];
W[T+3]=f*J[G+3]+s*J[G+7]+j*J[Q+3]+Y*J[Q+7]};t.t.atW=function(M,X,J,q,W,T){var _=M-.499999,m=X-.499999,d=~~_,A=~~m,p=_-d,a=m-A,f=(1-a)*(1-p),s=(1-a)*p,j=a*(1-p),Y=a*p,G=A*q+d<<2,Q=(A+1)*q+d<<2,Z=f*J[G]+s*J[G+4]+j*J[Q]+Y*J[Q+4],g=f*J[G+1]+s*J[G+5]+j*J[Q+1]+Y*J[Q+5],S=f*J[G+2]+s*J[G+6]+j*J[Q+2]+Y*J[Q+6],U=f*J[G+3]+s*J[G+7]+j*J[Q+3]+Y*J[Q+7];
T[0]=Z;T[1]=g;T[2]=S;T[3]=U};t.t.S_=function(M,X,J,q,W){M-=.499999;X-=.499999;var T=Math.floor(M),_=Math.floor(X),m=M-T,d=X-_,A=(1-d)*(1-m),p=(1-d)*m,a=d*(1-m),f=d*m,s=(T+50*q)%q,j=(T+1+50*q)%q,Y=(_+50*W)%W,G=(_+1+50*W)%W,Q=J[Y*q+s],Z=J[Y*q+j],g=J[G*q+s],S=J[G*q+j];
if(Q==null||S==null)throw"e";return A*Q+p*Z+a*g+f*S};t.t.a7$=function(M,X,J,q,W){M-=.499999;X-=.499999;
var T=Math.floor(M),_=Math.floor(X),m=M-T,d=X-_,A=(1-d)*(1-m),p=(1-d)*m,a=d*(1-m),f=d*m,s=_*q+T,j=s+q;
return A*J[s]+p*J[s+1]+a*J[j]+f*J[j+1]};t.t.afY=function(M,X,J,q,W){M-=.499999;X-=.499999;var T=Math.floor(M),_=Math.floor(X),m=M-T,d=X-_,A=(1-d)*(1-m),p=(1-d)*m,a=d*(1-m),f=d*m,s=_*q+T,j=s+q;
return A*J[s]+p*J[s+1]+a*J[j]+f*J[j+1]};t.t.a9a=function(M,X,J,q,W){M-=.499999;X-=.499999;var T=Math.floor(M),_=Math.floor(X),m=M-T,d=X-_,A=(1-d)*(1-m),p=(1-d)*m,a=d*(1-m),f=d*m,s=_*q+T,j=s+q;
return A*J[s]+p*J[s+1]+a*J[j]+f*J[j+1]};t.t.avS=function(M,X,J,q,W,T,_,m,d,A,p,a){var f=new Uint32Array(M.buffer),s=new Uint32Array(q.buffer),j=(1+2*A)/W,Y=[],G=[];
for(var Q=0;Q<W;Q++){var Z=-.25+A-Q*j;Y.push(Math.cos(2*Math.PI*Z)*a/p);Y.push(Math.sin(2*Math.PI*Z)/p)}_*=X;
m*=J;for(var g=0;g<T;g++){var S=Math.pow(g/T,d)*T;for(var Q=0;Q<W;Q++){var U=_+Y[Q<<1]*S,B=m+Y[(Q<<1)+1]*S,e=~~(.5+(U<0?0:U>X-1?X-1:U)),P=~~(.5+(B<0?0:B>J-1?J-1:B));
s[g*W+Q]=f[P*X+e]}}};t.t.aDl=function(M,X,J,q,W,T,_,m,d,A,p,a){var f=new Uint32Array(M.buffer),s=new Uint32Array(q.buffer),j=1/a,Y=[],G=J*4,Q=1/G;
for(var Z=0;Z<G+10;Z++)Y.push(Math.pow(Z*Q,1/d)*J*p);_*=W;m*=T;for(var Z=0;Z<T;Z++)for(var g=0;g<W;g++){var S=j*(g-_),U=Z-m,B=1.75-Math.atan2(U,S)*(1/(2*Math.PI));
B=B-~~B;B=(B+A)*(1/(1+2*A));var e=Math.sqrt(S*S+U*U);e=Y[~~(e*4)];t.t.GN(B*X+.5,e+.5,f,X,J,s,Z*W+g,1)}};
t.t.w8=function(M,X,J,q,W){var T=W[0],_=W[1];for(var m=0;m<_;m++)for(var d=0;d<T;d++){var A=W[2]*d+W[3]*m+W[4],p=W[5]*d+W[6]*m+W[7],a=m*T+d<<2,f=p*X+A<<2;
q[a]=M[f+0];q[a+1]=M[f+1];q[a+2]=M[f+2];q[a+3]=M[f+3]}};t.NX=function(){function M(S,U){var B=~~(.499+S*U);
return B<0?0:(B>U?U:B)<<2}function X(S,U,B,e,P,h,V,I){var F=B[0],c=B[1],D=B[2],n=B[3],k=e.r,b=e.$,N=new Uint32Array(1),L=new Uint8Array(N.buffer),R=Math.round(Math.random()*e.o()*100);
for(var i=0,$=0;i<b;i++){for(var v=0;v<k;v++,$++){var E=v+P,u=i+h,C=F*E+c*u,l=D*E+n*u,x=0;if(I==0)x=C+.5;
else if(I==1)x=2*Math.sqrt(C*C+l*l);else if(I==2)x=(Math.PI+Math.atan2(-l,-C))/(2*Math.PI);else if(I==3)x=Math.abs(C*2);
else if(I==4)x=2*(Math.abs(C)+Math.abs(l));var y=M(x,V),ge=v*4;N[0]=t.v.YK($+R);for(var O=0;O<4;O++){var kz=U[y+O]*255,z=Math.floor(kz);
if(L[O]<(kz-z)*255)z++;S[($<<2)+O]=z}}}}function J(S,$,U,B,e){var P=$<<2;S[P]=U[B]*e;S[P+1]=U[B+1]*e;
S[P+2]=U[B+2]*e;S[P+3]=U[B+3]*e}var q=[function(S,U,B,e,P,h,V,I){var F=B[0],c=B[1],D=B[2],n=B[3],k=e.r,b=e.$;
for(var N=0,$=0;N<b;N++)for(var L=0;L<k;L++,$++){var R=L+P,i=N+h,v=F*R+c*i,E=D*R+n*i,u=v+.5;J(S,$,U,M(u,V),I)}},function(S,U,B,e,P,h,V,I){var F=B[0],c=B[1],D=B[2],n=B[3],k=e.r,b=e.$;
for(var N=0,$=0;N<b;N++)for(var L=0;L<k;L++,$++){var R=L+P,i=N+h,v=F*R+c*i,E=D*R+n*i,u=2*Math.sqrt(v*v+E*E);
J(S,$,U,M(u,V),I)}},function(S,U,B,e,P,h,V,I){var F=B[0],c=B[1],D=B[2],n=B[3],k=e.r,b=e.$;for(var N=0,$=0;
N<b;N++)for(var L=0;L<k;L++,$++){var R=L+P,i=N+h,v=F*R+c*i,E=D*R+n*i,u=(Math.PI+Math.atan2(-E,-v))/(2*Math.PI);
J(S,$,U,M(u,V),I)}},function(S,U,B,e,P,h,V,I){var F=B[0],c=B[1],D=B[2],n=B[3],k=e.r,b=e.$;for(var N=0,$=0;
N<b;N++)for(var L=0;L<k;L++,$++){var R=L+P,i=N+h,v=F*R+c*i,E=D*R+n*i,u=Math.abs(v*2);J(S,$,U,M(u,V),I)}},function(S,U,B,e,P,h,V,I){var F=B[0],c=B[1],D=B[2],n=B[3],k=e.r,b=e.$;
for(var N=0,$=0;N<b;N++)for(var L=0;L<k;L++,$++){var R=L+P,i=N+h,v=F*R+c*i,E=D*R+n*i,u=2*(Math.abs(v)+Math.abs(E));
J(S,$,U,M(u,V),I)}}];function W(S,U,B,e,P,h,V,I,F,c,D,n){var b=S.Clrs,N=1023,L=b?T(S,F,c):null,R=b?A(S,L,N+1,V):m(S,N+1,V),i=t.qP(U),v=t.P0(i);
if(i==8&&n&&b){X(U,R,e,B,B.x-P,B.y-h,N,I)}else if(I<5){q[I](U,R,e,B,B.x-P,B.y-h,N,v)}else{var E=t.cY(R,8),u=B.r,C=B.$,l=D.ew-D.r6,x=1/l,y=D.Q8.r-B.r>>1,ge=D.Q8.$-B.$>>1,O=D.Q8.r,kz=-.6*x,z=(-.6+.4)*x,eZ=(-.6+2*.4)*x,kM=(-.6+3*.4)*x;
for(var jV=0,$=0;jV<C;jV++)for(var cL=0;cL<u;cL++,$+=4){var aw=0,h2=0,ea=0,ht=0,jn=(jV+ge)*O+cL+y,gE=(D.s9[jn]-D.r6)*x,bS=0;
if(gE<=0||gE>=1){bS=(gE<=0?0:N)<<2;U[$]=E[bS];U[$+1]=E[bS+1];U[$+2]=E[bS+2];U[$+3]=E[bS+3];continue}bS=Math.max(0,Math.min(N-1,Math.round((gE+kz)*N)))<<2;
h2+=E[bS];ea+=E[bS+1];ht+=E[bS+2];aw+=E[bS+3];bS=Math.max(0,Math.min(N-1,Math.round((gE+z)*N)))<<2;h2+=E[bS];
ea+=E[bS+1];ht+=E[bS+2];aw+=E[bS+3];bS=Math.max(0,Math.min(N-1,Math.round((gE+eZ)*N)))<<2;h2+=E[bS];
ea+=E[bS+1];ht+=E[bS+2];aw+=E[bS+3];bS=Math.max(0,Math.min(N-1,Math.round((gE+kM)*N)))<<2;h2+=E[bS];
ea+=E[bS+1];ht+=E[bS+2];aw+=E[bS+3];U[$]=h2>>>2;U[$+1]=ea>>>2;U[$+2]=ht>>>2;U[$+3]=aw>>>2}}}function T(S,U,B){var e=[S.Clrs.v,S.Trns.v],P=[[],[]],h=255;
for(var V=0;V<2;V++)for(var $=0;$<e[V].length;$++){var I,F=e[V][$].v;if(V==0){var c=F.Type.v.Clry;if(c=="FrgC")I={z:U>>16&255,L:U>>8&255,g:U&255};
else if(c=="BckC")I={z:B>>16&255,L:B>>8&255,g:B&255};else I=_(F.Clr.v)}else{I=F.Opct.v.val*(255/100);
if(I<h)h=I}P[V].push([I,F.Lctn.v/4096,F.Mdpn.v/100])}P.push(h>254);return P}function _(S){var U,B=S.classID;
if(B=="RGBC"){if(S.Rd)U={z:S.Rd.v,L:S.Grn.v,g:S.Bl.v};else U={z:S.redFloat.v*255,L:S.greenFloat.v*255,g:S.blueFloat.v*255}}else if(B=="HSBC"){U=t.HQ(S.H.v.val/360,S.Strt.v/100,S.Brgh.v/100);
U.z*=255;U.L*=255;U.g*=255}else if(B=="CMYC"){var e=S.Cyn.v,P=S.Mgnt.v,h=S.Ylw.v,V=S.Blck.v,I=[e/100,P/100,h/100,V/100],F=t.RP(I);
U={z:F[0]*255,L:F[1]*255,g:F[2]*255}}else if(B=="Grsc")U={z:255-S.Gry.v,L:255-S.Gry.v,g:255-S.Gry.v};
else if(B=="LbCl"){U=t._l(S.Lmnc.v,S.A.v,S.B.v)}else if(B=="BkCl")U={z:0,L:0,g:0};else console.log(S);
if(isNaN(U.z))U.z=U.L=U.g=0;return U}function m(S,U,B){var e=new Uint32Array(U),P=new Uint8Array(e.buffer);
e.fill(4278190080);var h=[],V=[],I=S.RndS.v,F=S.Smth.v/4096;for(var $=0;$<4;$++){h[$]=~~(S.Mnm.v[$].v*255/100);
V[$]=~~(S.Mxm.v[$].v*255/100)}var c=t.j(U*4),D=t.j(U);for(var n=0;n<3;n++){t.B.arX(null,U,1,c,[1+Math.round(F*F*F*60),22,I*(2+n)]);
t.SF(c,D,0);t.ix(D,P,n);var k=h[n],b=V[n];for(var $=0;$<U;$++)P[4*$+n]=Math.max(k,Math.min(b,P[4*$+n]))}if(B)for(var $=0;
$<U/2;$++){var N=e[$];e[$]=e[U-1-$];e[U-1-$]=N}return t.cY(P,32)}function d(S){return{classID:"RGBC",Rd:{t:"doub",v:S.z},Grn:{t:"doub",v:S.L},Bl:{t:"doub",v:S.g}}}function A(S,U,B,e){var P=new Float32Array(B*4),h=1/(B-0);
for(var $=0;$<B;$++){var V=$*4,I=a(S,U,(e?B-1-$:$)*h);P[V]=I[0];P[V+1]=I[1];P[V+2]=I[2];P[V+3]=I[3]}return P}function p(S,U,B,e){var P=new Uint32Array(B),h=1/(B-0);
for(var $=0;$<B;$++)P[$]=f(S,U,(e?B-1-$:$)*h);return new Uint8Array(P.buffer)}function a(S,U,B){var e=S.Intr.v*(1/4096),P=U[0],h=U[1],V=P.length-1,I=h.length-1,$=-1,F=0,c=0,D=0,n=0;
if(U[2])F=255;else{while($<I&&h[$+1][1]<=B)$++;if($==-1){F=h[0][0]}else if($==I){F=h[$][0]}else{var k=s(h,$,B,e);
F=k*h[$][0]+(1-k)*h[$+1][0]}}$=-1;while($<V&&P[$+1][1]<=B)$++;if($==-1){var b=P[0][0];c=b.z;D=b.L;n=b.g}else if($==V){var b=P[$][0];
c=b.z;D=b.L;n=b.g}else{var N=P[$][0],L=P[$+1][0],R=s(P,$,B,e);c=Math.min(255,R*N.z+(1-R)*L.z);D=Math.min(255,R*N.L+(1-R)*L.L);
n=Math.min(255,R*N.g+(1-R)*L.g)}return[c*(1/255),D*(1/255),n*(1/255),F*(1/255)]}function f(S,U,B){var e=a(S,U,B),P=~~(.5+e[0]*255),h=~~(.5+e[1]*255),V=~~(.5+e[2]*255),I=~~(.5+e[3]*255);
return I<<24|V<<16|h<<8|P}function s(S,$,U,B){if(S.length==2)B*=.5;var e=S[$][1],P=S[$+1][1],h=e+S[$+1][2]*(P-e),V;
if(U<h)V=.5*(U-e)/(h-e);else V=.5+.5*(U-h)/(P-h);V=.5+.5*(B*Math.cos(Math.PI*V)+(1-B)*(1-2*V));return V}function j(S,U,B){var e=.5*B.$,P=e*(S/U),h=Math.sqrt(e*e+P*P),V=.5*B.r,I=V*(U/S),F=Math.sqrt(V*V+I*I);
return Math.min(h,F)}function Y(S,U){var B=Math.PI*S.Angl.v.val/180,e=S.Scl.v.val/100,P=S.Ofst.v,h=P.Hrzn.v.val/100,V=P.Vrtc.v.val/100,I=Math.cos(B),F=-Math.sin(B),c=j(I,F,U),D=c*e,n=U.x+U.r/2+h*U.r,k=U.y+U.$/2+V*U.$;
return[new es(n,k),new es(n+I*D,k+F*D)]}function G(S,U,B,e){var P=U.x-S.x,h=-(U.y-S.y),V=Math.sqrt(P*P+h*h),I=Math.atan2(h,P),F=Math.cos(I),c=-Math.sin(I),D=j(F,c,B),n=V/D,k=(S.x-B.x-B.r/2)/B.r,b=(S.y-B.y-B.$/2)/B.$;
e.Angl.v.val=180*I/Math.PI;e.Scl.v.val=n*100;var N=e.Ofst.v;N.Hrzn.v.val=k*100;N.Vrtc.v.val=b*100}function Q(S,U){for(var $=0;
$<S.length;$++){var B=S[$],e=Math.round(B[0]*4096),P=B[1],h=B[2],V=S[Math.max(0,$-1)][3];if(h==null)h=1;
if(V==null)V=.5;var I=d({z:P[0]*255,L:P[1]*255,g:P[2]*255});U.Clrs.v[$]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:e},Mdpn:{t:"long",v:Math.round(V*100)},Clr:{t:"Objc",v:I},Type:{t:"enum",v:{Clry:"UsrS"}}}};
U.Trns.v[$]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:e},Mdpn:{t:"long",v:Math.round(V*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(h*100)}}}}}}function Z(S,U,B){if(U){S=t.b(S);
for(var $=0;$<2;$++){var e=S[$==0?"Clrs":"Trns"].v;for(var P=0;P<e.length;P++)e[P].v.Lctn.v=4096-e[P].v.Lctn.v;
e.reverse()}}var h=[],V=1/255,I=S.Clrs.v,F=S.Trns.v,e=I;if(gj==0||I.length!=F.length){if(gj!=0)console.log("strange gradient");
if(B!=!0)e=I.concat(F);var c=T(S,0,0);for(var $=0;$<e.length;$++){var D=e[$].v,n=D.Lctn.v/4096,k=a(S,c,n);
h.push([n,[k[0],k[1],k[2]],k[3],D.Mdpn.v/100])}h.sort(function(N,L){return N[0]-L[0]});for(var $=1;$<h.length;
$++)if(h[$][0]-h[$-1][0]<.001){h.splice($,1);$--}}else{for(var $=0;$<e.length;$++){var D=I[$].v,b=D.Clr.v,n=D.Lctn.v/4096;
h.push([n,[b.Rd.v*V,b.Grn.v*V,b.Bl.v*V],F[$].v.Opct.v.val/100,I[Math.min($+1,I.length-1)].v.Mdpn.v/100])}}return h}function g(S,U){function B(S,V){S.addColorStop(V[0],CSS.afp(V[1],V[2]))}function e(V,I,F,c){var D=Math.log(.5)/Math.log(c),n=Math.log(.5)/Math.log(1-c),k=c>.5?Math.pow(F,D):1-Math.pow(1-F,n),b=1-k,N=V[0],L=V[1],R=I[1],i=[N+(I[0]-N)*F,[L[0]*b+R[0]*k,L[1]*b+R[1]*k,L[2]*b+R[2]*k],V[2]*b+I[2]*k];
return i}B(S,U[0]);for(var $=1;$<U.length;$++){var P=U[$-1][3];if(P!=.5)for(var h=1;h<20;h++)B(S,e(U[$-1],U[$],h/20,P));
B(S,U[$])}}return{Bt:W,$J:d,NH:_,aj4:A,aGq:m,Z5:G,acA:Y,SH:g,ex:Q,aHt:Z,o9:T,KC:f}}();t.aA4={};t.aA4.dV=function(M,X,J,q,W,T,_,m,d,A,p,a){var f,s,j,Y=Date.now(),G=!1,Q=_,Z=A,g,S,U,B,e=T*255,P=255-d*255,h=1+W*6,V=1+m*6,I=1+a*4,F=(I-1)/7,c=0,D=255-0,n,k,b,N,L,R,i,v,E,u,C,l,x,y=0,ge=1,O,kz,z,eZ,kM,jV,cL,aw,h2,ea,ht=1+p,jn,gE=t.j(J*q),bS=t.j(J*q),bi=t.j(J*q),cj=t.j(J*q),bb=255/e,c0=255/(255-P);
for(s=0;s<q;s++){for(f=0;f<J;f++){var $=s*J+f,cV=$<<2;O=t.ig(M[cV],M[cV+1],M[cV+2]);cj[$]=O;if(O<e)gE[$]=255-O*bb;
if(O>P)bS[$]=255-(255-O)*c0}}if(G)console.log("init",Date.now()-Y);Y=Date.now();if(W*Q>0){t.zp.zk(gE,new gc(0,0,J,q),Q,2)}if(m*Z>0){t.zp.zk(bS,new gc(0,0,J,q),Z,2)}if(G)console.log("blur",Date.now()-Y);
Y=Date.now();var g_=t.j(256),hx=t.j(256);for(var $=0;$<256;$++){var au=$*(1/255),kP=0;kP=(1-Math.pow(1-au,h))*255;
g_[$]=Math.max(0,Math.min(255,~~(kP+.5)));kP=Math.pow(au,V)*255;hx[$]=Math.max(0,Math.min(255,~~(kP+.5)))}var iK=new Uint8ClampedArray(X.buffer),b3=new Float32Array(32768);
for(var $=0;$<32768;$++){jn=Math.sqrt($)*(1/128);if(ht>1)jn=(1-jn)*(ht-1)+1;else jn=jn*(ht-1)+1;b3[$]=jn}for(s=0;
s<q;s++){for(f=0;f<J;f++){var $=s*J+f,cV=$<<2,kP=cj[$],fs=gE[$]*(1/255),ch=bS[$]*(1/255);kP=(1-fs)*kP+fs*g_[~~kP];
kP=(1-ch)*kP+ch*hx[~~kP];O=kP;var hv=M[cV],g6=M[cV+1],ef=M[cV+2];kz=-hv*.168736-g6*.331264+ef*.5;z=hv*.5-g6*.418688-ef*.081312;
jn=b3[~~(.5+kz*kz+z*z)];eZ=kz*jn;jV=z*jn;ge=1-Math.min(2-(fs+ch),1);kz=ge*kz+(1-ge)*eZ;z=ge*z+(1-ge)*jV;
aw=O+1.402*z;h2=O-.34414*kz-.71414*z;ea=O+1.772*kz;iK[cV]=~~(.5+aw);iK[cV+1]=~~(.5+h2);iK[cV+2]=~~(.5+ea)}}if(G)console.log("apply masks",Date.now()-Y);
Y=Date.now()};t.kr={};t.kr.MN=function(M,X,J,q,W){var T=Date.now(),_=!1,Y=1,D=0,E=0;if(!X.wz(W)){var m=X.m0(W),d=t.j(m.o()*4);
t.fA(M,X,d,m);M=d;X=m}var A=t.j(X.o());t.Rc(J,W,A,X);t.round(A);W=W.Lg(X);var p=W.r,a=W.$,f=p*3<a?2:1,s=a*3<p?2:1;
if(W.o()*(f*2+1)*(s*2+1)<X.o()){var m=new gc(W.x-p*f,W.y-a*f,p*(f*2+1),a*(s*2+1)).Lg(X),d=t.j(m.o()*4);
t.fA(M,X,d,m);var j=t.j(m.o());t.Rc(A,X,j,m);X=m;M=d;A=j}while((X.r+X.$)/2/Y>400)Y++;var G=M,Q=X,Z=A,g=Math.floor(Q.r/Y),S=Math.floor(Q.$/Y);
M=t.j(g*S*4);t.scale.JY(G,Q.r,Q.$,M,g,S,1/Y);A=t.j(g*S);t.scale.w8(Z,Q.r,Q.$,A,g,S,1/Y);t.round(A,1);
if(_)console.log("scale down:",Y,g,S);var U=t.pT(A,new gc(0,0,g,S));if(U.M5())return 1;var B=Math.round((U.r+U.$)/2/15);
if(_)console.log(Date.now()-T,"preprocess");T=Date.now();var e=t.j(g*S*4);t.abA(M,e);var P=Int16Array,h=new P(g*S*24),V=new P(64),I=new P(64),F=new P(64),c=new P(64);
for(var n=3;n<S-4;n++)for(var k=3;k<g-4;k++){var b=n*g+k;if(A[b]==255)continue;if(t.kr.ab2(e,A,k,n,g,S,V,I,F)!=0)continue;
t.kr.de(V,c);var N=D*24;h[N]=k;h[N+1]=n;t.kr.fc(V,h,N+4,12);t.kr.de(I,c);t.kr.fc(I,h,N+16,4);t.kr.de(F,c);
t.kr.fc(F,h,N+20,4);var L=h[N+5],R=h[N+6];h[N+5]=h[N+16];h[N+6]=h[N+20];h[N+16]=L;h[N+20]=R;D++}if(D==0)return 2;
if(_)console.log(Date.now()-T,"FWHT computed");T=Date.now();var i=[];t.kr.So(0,D-1,i,h,new P(2*24));
if(_)console.log(Date.now()-T,"KD tree computed");T=Date.now();var v=new Uint32Array(g*S*4);for(var $=0;
$<D;$++){var u=$,C=t.kr.a3l(u,h,i,B);if(C==-1)continue;var l=u*24,x=C*24,y=h[l],ge=h[l+1],O=h[x],kz=h[x+1];
E+=t.kr.getError(x,l,h,1e99);var z=O-y,eZ=kz-ge;v[(S+eZ)*2*g+(g+z)]+=1}if(_)console.log(Date.now()-T,"NN found");
T=Date.now();var kM=[],jV=1/(2*g);for(var $=0;$<v.length;$++){if(v[$]>0){var n=Math.floor($*jV),k=$-n*2*g;
kM.push({x:k-g,y:n-S,K:v[$],pk:-1})}}kM.sort(function(iK,b3){return b3.K-iK.K});var cL=new Int32Array(g*S),aw=[];
for(var $=0;$<g*S;$++){if(A[$]==255){cL[$]=aw.length>>>1;aw.push($%g,Math.floor($/g))}else if(M[($<<2)+3]<200){cL[$]=-2}else{cL[$]=-1}}var h2=t.kr.aDf(g,S,kM,cL,aw);
if(h2==null){if(_)console.log("no appropriate labeling");return 3}var ea=h2.lP,top=h2.top;ea=t.kr.ajR(ea,M,g,S,top,cL,aw);
if(_)console.log(Date.now()-T,"optimal labeling found");T=Date.now();var m=W.Q();m.$K(1,1);m=m.Lg(Q);
var ht=t.j(m.o()*4),jn=t.j(m.o());t.fA(G,Q,ht,m);var gE=Q.r,bS=Q.$;for(var n=0;n<bS;n++)for(var k=0;
k<gE;k++){if(Z[n*gE+k]==0)continue;var bi=Math.min(Math.floor(k/Y),g-1),cj=Math.min(Math.floor(n/Y),S-1),bb=cL[cj*g+bi];
if(bb==-1)continue;var c0=ea[bb],cV=top[c0],g_=k+cV.x*Y,hx=n+cV.y*Y,au=hx*gE+g_<<2,kP=(n-m.y+Q.y)*m.r+(k-m.x+Q.x)<<2;
ht[kP]=G[au];ht[kP+1]=G[au+1];ht[kP+2]=G[au+2];ht[kP+3]=G[au+3];ht[kP+3]=G[au+3];jn[kP>>2]=c0+1}if(_)console.log(Date.now()-T,"copied back");
T=Date.now();t.T6.MN(ht,jn,m,null,1e3);if(_)console.log(Date.now()-T,"poisson smooth");T=Date.now();
t.fA(ht,m,q,W);return 0};t.kr.aqn=function(M,X,J,q,W,T){return t.kr.C5(M+W.x,X+W.y,J,q,T)?0:1e9};t.kr.ajR=function(M,X,J,q,top,W,T){var _=Date.now(),m=T.length>>>1,d=[-1,0,0,-1,1,0,0,1],A=1e99,p=[],a=[],f=2*(m*2*3+m*2),s=null,j=0,Y=0,G=0,Q=1e99;
while(!0&&Date.now()<_+12e3){G++;var Z=null,g=A;for(var S=0;S<top.length;S++){var U=top[S],B=0,e=m+2,P=0;
for(var $=0;$<m;$++){var h=T[$*2],V=T[$*2+1],I=top[M[$]],F=t.kr.aqn(h,V,J,q,U,W),c=M[$]==S?1e9:t.kr.aqn(h,V,J,q,I,W);
for(var jX=0;jX<4;jX++){if(jX==0&&h==0||jX==1&&V==0||jX==2&&h==J-1||jX==3&&V==q-1)continue;var D=d[2*jX],n=d[2*jX+1],k=h+D,b=V+n,N=W[b*J+k];
if(N==-2){}else if(N==-1){F+=3*t.kr.jb(k+U.x,b+U.y,k,b,J,q,X,W);F+=2*t.kr.jb(k+U.x+D,b+U.y+n,k+D,b+n,J,q,X,W);
c+=3*t.kr.jb(k+I.x,b+I.y,k,b,J,q,X,W);c+=2*t.kr.jb(k+I.x+D,b+I.y+n,k+D,b+n,J,q,X,W)}else if(jX>1){if(M[$]==M[N]){var L=0;
L+=t.kr.jb(h+I.x,V+I.y,h+U.x,V+U.y,J,q,X,W);L+=t.kr.jb(k+I.x,b+I.y,k+U.x,b+U.y,J,q,X,W);p[B]=$;p[B+1]=N;
a[B]=L;a[B+1]=L;B+=2}else{var R=top[M[N]],i=e,v=0,E=0,u=0;e++;v+=t.kr.jb(h+I.x,V+I.y,h+U.x,V+U.y,J,q,X,W);
v+=t.kr.jb(k+I.x,b+I.y,k+U.x,b+U.y,J,q,X,W);E+=t.kr.jb(h+R.x,V+R.y,h+U.x,V+U.y,J,q,X,W);E+=t.kr.jb(k+R.x,b+R.y,k+U.x,b+U.y,J,q,X,W);
u+=t.kr.jb(h+R.x,V+R.y,h+I.x,V+I.y,J,q,X,W);u+=t.kr.jb(k+R.x,b+R.y,k+I.x,b+I.y,J,q,X,W);p[B]=$;p[B+1]=i;
a[B]=v;a[B+1]=v;B+=2;p[B]=N;p[B+1]=i;a[B]=E;a[B+1]=E;B+=2;p[B]=i;p[B+1]=m+1;a[B]=u;a[B+1]=0;B+=2}}}p[B]=m;
p[B+1]=$;a[B]=F;a[B+1]=0;B+=2;p[B]=$;p[B+1]=m+1;a[B]=c;a[B+1]=0;B+=2;P+=Math.min(F,c)}if(P>g)continue;
var C=t.P4.mH(e,B,m,m+1,p,a,g);if(C.rx<g){g=C.rx;var l=M.slice(0);t.kr.aHM(l,B,p,C.En,S,m);Z=l}}if(g*1>=A){break}A=g;
M=Z;if((G&3)==0){if(g*1.03>=Q)break;Q=g}if((G&3)==0){var x=0*top.length;for(var $=0;$<top.length&&top.length>x;
$++){if(M.indexOf($)!=-1)continue;top.splice($,1);for(var N=0;N<M.length;N++)if(M[N]>$)M[N]--;$--}}}return M};
t.kr.aHM=function(M,X,J,q,W,T){for(var $=0;$<q.length;$++){var _=q[$]<<1,m=0,d=0;if(_<X){m=J[_];d=J[_+1]}else{d=J[_];
m=J[_+1]}if(m==T&&M[d]!=W)M[d]=W}};t.kr.api=function(top,M,X,J,q,W,T,_,m){for(var $=0;$<X.length;$++){var d=X[$],A=!0;
if(_!=null&&!t.kr.C5(_+d.x,m+d.y,W,T,J))continue;if(d.pk==-1)d.pk=t.kr.ava(d,J,q,W,T);if(d.pk<=0)continue;
for(var p=0;p<top.length;p++){var a=top[p],f=d.x-a.x,s=d.y-a.y;if(f*f+s*s<M){A=!1;break}}if(A)return d}return null};
t.kr.ava=function(M,X,J,q,W){var T=0;for(var $=0;$<J.length;$+=2){var _=J[$]+M.x,m=J[$+1]+M.y;if(t.kr.C5(_,m,q,W,X))T++}return T/(J.length>>1)};
t.kr.aDf=function(M,X,J,q,W){var T=W.length>>>1,top=[];for(var $=0;$<60;$++){var _=t.kr.api(top,25,J,q,W,M,X);
if(_==null)break;else top.push(_)}if(top.length==0)return null;var m=[];for(var $=0;$<T;$++){var d=W[$*2],A=W[$*2+1],p=-1,a=0;
while(!0){a++;var f=Math.random();p=Math.floor(f*.99999*top.length);var s=top[p],j=d+s.x,Y=A+s.y;if(t.kr.C5(j,Y,M,X,q))break;
if(a>1e3){var _;_=t.kr.api(top,0,J,q,W,M,X,d,A);if(_==null)for(var G=0;G<4;G++){var Q,Z,g=0;while(!0){Q=~~(Math.random()*M);
Z=~~(Math.random()*X);if(t.kr.C5(Q,Z,M,X,q))break;g++;if(g>500)throw"e"}_={x:Q-d,y:Z-A,K:1,pk:-1};J.push(_);
top.push(_)}else top.push(_);a=0}}m.push(p)}return{top:top,lP:m}};t.kr.jb=function(M,X,J,q,W,T,_,m){if(M==J&&X==q)return 0;
if(M<0||X<0||M>=W||X>=T||J<0||q<0||J>=W||q>=T||m[X*W+M]!=-1||m[q*W+J]!=-1)return 1e7;var d=X*W+M<<2,A=q*W+J<<2,p=_[d]-_[A],a=_[d+1]-_[A+1],f=_[d+2]-_[A+2];
return 1+(p*p+a*a+f*f)};t.kr.C5=function(M,X,J,q,W){return M>=0&&M<J&&X>=0&&X<q&&W[X*J+M]==-1};t.kr.a3l=function(M,X,J,q){var W=24*M,T=X[W],_=X[W+1],m=q*q,d=0,f=1e9;
while(J[d]!=99)if(X[W+J[d]]<J[d+1])d=J[d+2];else d=J[d+3];var A=J[d+1],p=J[d+2],a=-1;for(var $=A;$<=p;
$++){var d=$,s=d*24,j=X[s],Y=X[s+1];if((j-T)*(j-T)+(Y-_)*(Y-_)<m)continue;var G=t.kr.getError(s,W,X,f);
if(G<f){f=G;a=d}}return a};t.kr.getError=function(M,X,J,q){var W=0;for(var T=4;T<24;T+=4){var _=J[X+T]-J[M+T],m=J[X+T+1]-J[M+T+1],d=J[X+T+2]-J[M+T+2],A=J[X+T+3]-J[M+T+3];
W+=_*_+m*m+d*d+A*A;if(W>=q)return W+1}return W};t.kr.So=function(M,X,J,q,W){var T=16,f=0;if(X-M<=T){J.push(99,M,X);
return}t.kr.Cs(M,X,q,W);var _=-1,m=-1;for(var $=4;$<24;$++){var d=W[2*$+1]-W[2*$];if(d>m){m=d;_=$}}var A=M+X>>1,p=t.kr.aw8(A,M,X,q,_),a=-1;
for(var $=M;$<=X;$++)if(q[24*$+_]==p){if(a==-1)a=$;f=$}if(M+8<a&&a-M>X-f)A=a;else if(f+1<X-8)A=f+1;else if(X-M<64){J.push(99,M,X);
return}else A=A;var s=J.length;J.push(_,p,0,0);J[s+2]=s+4;t.kr.So(M,A-1,J,q,W);J[s+3]=J.length;t.kr.So(A,X,J,q,W)};
t.kr.Cs=function(M,X,J,q){for(var $=0;$<48;$+=4){q[$]=3e4;q[$+1]=-3e4;q[$+2]=3e4;q[$+3]=-3e4}for(var $=M;
$<=X;$++){var W=$*24;for(var T=0;T<24;T++){var _=J[W+T],m=q[T<<1],d=q[(T<<1)+1];if(_<m)q[T<<1]=_;if(_>d)q[(T<<1)+1]=_}}};
t.kr.ci=function(M,X,J){var q=0,$=0;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;$++;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;
$++;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;$++;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;$++;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;
$++;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;$++;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;$++;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;
$++;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;$++;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;$++;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;
$++;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;$++;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;$++;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;
$++;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;$++;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;$++;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;
$++;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;$++;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;$++;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;
$++;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;$++;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;$++;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;
$++;q=J[M+$];J[M+$]=J[X+$];J[X+$]=q;$++};t.kr.bz=function(M,X,J,q){var W=J+q>>>1,T=M[24*W+X];while(J<=q){while(M[24*J+X]<T)J++;
while(M[24*q+X]>T)q--;if(J<=q){if(M[24*J+X]!=M[24*q+X])t.kr.ci(J*24,q*24,M);J++;q--}}return J};t.kr.aw8=function(M,X,J,q,W){var T=0;
while(X!=J){T=t.kr.bz(q,W,X,J);if(M<T)J=T-1;else X=T}return q[M*24+W]};t.kr.fc=function(M,X,J,q){for(var $=0;
$<q;$++)X[J+$]=M[$]};t.kr.ab2=function(M,X,J,q,W,T,_,m,d){var A=(q-3)*W+(J-3),p=A<<2;for(var a=0;a<8;
a++){if(X[A]+X[A+1]+X[A+2]+X[A+3]+X[A+4]+X[A+5]+X[A+6]+X[A+7]!=0||M[p+3]<200||M[p+7]<200||M[p+11]<200||M[p+15]<200||M[p+19]<200||M[p+23]<200||M[p+27]<200||M[p+31]<200)return 1;
var $=a<<3;_[$+0]=M[p+0];m[$+0]=M[p+1];d[$+0]=M[p+2];_[$+1]=M[p+4];m[$+1]=M[p+5];d[$+1]=M[p+6];_[$+2]=M[p+8];
m[$+2]=M[p+9];d[$+2]=M[p+10];_[$+3]=M[p+12];m[$+3]=M[p+13];d[$+3]=M[p+14];_[$+4]=M[p+16];m[$+4]=M[p+17];
d[$+4]=M[p+18];_[$+5]=M[p+20];m[$+5]=M[p+21];d[$+5]=M[p+22];_[$+6]=M[p+24];m[$+6]=M[p+25];d[$+6]=M[p+26];
_[$+7]=M[p+28];m[$+7]=M[p+29];d[$+7]=M[p+30];p+=W<<2;A+=W}return 0};t.kr.de=function(M,X){X[0]=M[32]+M[0];
X[1]=M[33]+M[1];X[2]=M[34]+M[2];X[3]=M[35]+M[3];X[4]=M[36]+M[4];X[5]=M[37]+M[5];X[6]=M[38]+M[6];X[7]=M[39]+M[7];
X[8]=M[40]+M[8];X[9]=M[41]+M[9];X[10]=M[42]+M[10];X[11]=M[43]+M[11];X[12]=M[44]+M[12];X[13]=M[45]+M[13];
X[14]=M[46]+M[14];X[15]=M[47]+M[15];X[16]=M[48]+M[16];X[17]=M[49]+M[17];X[18]=M[50]+M[18];X[19]=M[51]+M[19];
X[20]=M[52]+M[20];X[21]=M[53]+M[21];X[22]=M[54]+M[22];X[23]=M[55]+M[23];X[24]=M[56]+M[24];X[25]=M[57]+M[25];
X[26]=M[58]+M[26];X[27]=M[59]+M[27];X[28]=M[60]+M[28];X[29]=M[61]+M[29];X[30]=M[62]+M[30];X[31]=M[63]+M[31];
X[32]=M[0]-M[32];X[33]=M[1]-M[33];X[34]=M[2]-M[34];X[35]=M[3]-M[35];X[36]=M[4]-M[36];X[37]=M[5]-M[37];
X[38]=M[6]-M[38];X[39]=M[7]-M[39];X[40]=M[8]-M[40];X[41]=M[9]-M[41];X[42]=M[10]-M[42];X[43]=M[11]-M[43];
X[44]=M[12]-M[44];X[45]=M[13]-M[45];X[46]=M[14]-M[46];X[47]=M[15]-M[47];X[48]=M[16]-M[48];X[49]=M[17]-M[49];
X[50]=M[18]-M[50];X[51]=M[19]-M[51];X[52]=M[20]-M[52];X[53]=M[21]-M[53];X[54]=M[22]-M[54];X[55]=M[23]-M[55];
X[56]=M[24]-M[56];X[57]=M[25]-M[57];X[58]=M[26]-M[58];X[59]=M[27]-M[59];X[60]=M[28]-M[60];X[61]=M[29]-M[61];
X[62]=M[30]-M[62];X[63]=M[31]-M[63];M[0]=X[16]+X[0];M[1]=X[17]+X[1];M[2]=X[18]+X[2];M[3]=X[19]+X[3];
M[4]=X[20]+X[4];M[5]=X[21]+X[5];M[6]=X[22]+X[6];M[7]=X[23]+X[7];M[8]=X[24]+X[8];M[9]=X[25]+X[9];M[10]=X[26]+X[10];
M[11]=X[27]+X[11];M[12]=X[28]+X[12];M[13]=X[29]+X[13];M[14]=X[30]+X[14];M[15]=X[31]+X[15];M[16]=X[0]-X[16];
M[17]=X[1]-X[17];M[18]=X[2]-X[18];M[19]=X[3]-X[19];M[20]=X[4]-X[20];M[21]=X[5]-X[21];M[22]=X[6]-X[22];
M[23]=X[7]-X[23];M[24]=X[8]-X[24];M[25]=X[9]-X[25];M[26]=X[10]-X[26];M[27]=X[11]-X[27];M[28]=X[12]-X[28];
M[29]=X[13]-X[29];M[30]=X[14]-X[30];M[31]=X[15]-X[31];X[0]=M[8]+M[0];X[1]=M[9]+M[1];X[2]=M[10]+M[2];
X[3]=M[11]+M[3];X[4]=M[12]+M[4];X[5]=M[13]+M[5];X[6]=M[14]+M[6];X[7]=M[15]+M[7];X[8]=M[0]-M[8];X[9]=M[1]-M[9];
X[10]=M[2]-M[10];X[11]=M[3]-M[11];X[12]=M[4]-M[12];X[13]=M[5]-M[13];X[14]=M[6]-M[14];X[15]=M[7]-M[15];
M[0]=X[4]+X[0];M[1]=X[5]+X[1];M[2]=X[6]+X[2];M[3]=X[7]+X[3];M[4]=X[0]-X[4];M[5]=X[1]-X[5];M[6]=X[2]-X[6];
M[7]=X[3]-X[7];M[8]=X[12]+X[8];M[9]=X[13]+X[9];M[10]=X[14]+X[10];M[11]=X[15]+X[11];M[12]=X[8]-X[12];
M[13]=X[9]-X[13];M[14]=X[10]-X[14];M[15]=X[11]-X[15];X[0]=M[2]+M[0];X[1]=M[3]+M[1];X[2]=M[0]-M[2];X[3]=M[1]-M[3];
X[4]=M[6]+M[4];X[5]=M[7]+M[5];X[6]=M[4]-M[6];X[7]=M[5]-M[7];X[8]=M[10]+M[8];X[9]=M[11]+M[9];X[10]=M[8]-M[10];
X[11]=M[9]-M[11];X[12]=M[14]+M[12];X[13]=M[15]+M[13];X[14]=M[12]-M[14];X[15]=M[13]-M[15];M[0]=X[1]+X[0];
M[1]=X[0]-X[1];M[2]=X[3]+X[2];M[3]=X[2]-X[3];M[4]=X[5]+X[4];M[5]=X[4]-X[5];M[6]=X[7]+X[6];M[7]=X[6]-X[7];
M[8]=X[9]+X[8];M[9]=X[8]-X[9];M[10]=X[11]+X[10];M[11]=X[10]-X[11];M[12]=X[13]+X[12];M[13]=X[12]-X[13];
M[14]=X[15]+X[14];M[15]=X[14]-X[15]};t.kr.adf=function(){var M="",jX=64,X="v",J="t",q="a",W=5,$,T,_;
for($=jX>>1;$>0;$>>=1,W--){for(T=0;T<jX;T++){_=(T>>W&1)!=0;if(_){M+=J+"["+T+"] = "+X+"["+(-$+T)+"] - "+X+"["+T+"];  "}else{M+=J+"["+T+"] = "+X+"["+($+T)+"] + "+X+"["+T+"];  "}}q=X;
X=J;J=q;M+="\n"}console.log(M)};t.kr.a6D=function(jX,M,X){var J=M,q=X,W=J,T=0,$,m,d;while(jX>>T!=2)T++;
var _=T;for($=jX>>1;$>0;$>>=1,T--){for(m=0;m<jX;m++){d=(m>>T&1)!=0;if(d)q[m]=J[-$+m]-J[m];else q[m]=J[$+m]+J[m]}W=J;
J=q;q=W}if((_&1)==1)for($=0;$<jX;$++)X[$]=J[$]};t.aT={};t.aT.hl=function(M,X,J,q,W,T,_,m,d){var A=Date.now(),p=new Uint32Array(M.buffer),a=new Uint32Array(X.buffer),f=_/J,s=m/q,j=1/f,Y=1/s,G=new Float64Array(2),Q=3,Z=1/Q,g=1/(Q*Q),S=0,U=0,B=J,e=q;
if(W){S=W.x;U=W.y;B=W.r;e=W.$}for(var P=0;P<e;P++)for(var h=0;h<B;h++){var V=S+h,I=U+P,$=I*J+V,F=$<<1,c=$<<2;
t.aT.akT(T,_,m,(V+.5)*f,(I+.5)*s,G);var D=G[0]*j,n=G[1]*Y;if(D==0&&n==0)a[$]=p[$];else{t.t.GN(V+D+.5,I+n+.5,p,J,q,a,$,d)}}};
t.aT.akT=function(M,X,J,q,W,T){q-=.499999;W-=.499999;var _=~~q,m=~~W,d=q-_,A=W-m,p=(1-A)*(1-d),a=(1-A)*d,f=A*(1-d),s=A*d,j=_<X-1?_+1:_,Y=m<J-1?m+1:m,G=m*X+_<<1,Q=m*X+j<<1,Z=Y*X+_<<1,g=Y*X+j<<1;
T[0]=p*M[G]+a*M[Q]+f*M[Z]+s*M[g];T[1]=p*M[G+1]+a*M[Q+1]+f*M[Z+1]+s*M[g+1]};t.aT.a8M=function(M,X,J,q,W){var T=1/M,_=[-1,1,-M,M],m=q.length;
for(var d=0;d<m;d++){var $=q[d],A=$<<1,p=d<<1,a=~~($*T),f=$-M*a,s=J[A],j=J[A+1],Y=0,G=0;if(f!=0&&f!=M-1){var Q=$-1<<1,Z=$+1<<1,g=J[Q],S=J[Z],U=J[Q+1],B=J[Z+1],e=s-(g+S)*.5,P=j-(U+B)*.5;
Y-=e*W;G-=P*W}if(a!=0&&a!=X-1){var Q=$-M<<1,Z=$+M<<1,g=J[Q],S=J[Z],U=J[Q+1],B=J[Z+1],e=s-(g+S)*.5,P=j-(U+B)*.5;
Y-=e*W;G-=P*W}J[A]=s+Y;J[A+1]=j+G}};t.aT.av2=function(M,X){var J=M+","+X;if(t.aT.asA==J)return t.aT.aqo;
var q=t.aT.aqo=[];t.aT.asA=J;for(var $=0;$<=1e3;$++){var W=$*.001,T=Math.sqrt(W),_=Math.exp(-4*T),m=.96*(1-T*T),d=X*((1-M)*_+M*m);
q[$]=d}return q};t.aT.asA="";t.aT.aqo=[];t.aT.ac_=function(M,X,J,q,W,T,_,m,d,A,p,a,f){var s=Math.max(0,Math.floor(W-_-1)),j=Math.min(X,Math.ceil(W+_+1)),Y=Math.max(0,Math.floor(T-_-1)),G=Math.min(J,Math.ceil(T+_+1)),Q=2*X,Z=_*_,g=1/_,S=0;
if(f&&(q==3||q==6))d=-d;var U=t.aT.av2(m,d);for(var B=Y;B<G;B++)for(var e=s;e<j;e++){var $=B*X+e,P=$<<1,h=(W-e)*g,V=(T-B)*g,I=h*h+V*V;
if(I<1){a[S]=$;var F=U[~~(I*1e3)];if(q==1){M[P]=M[P]*(1-F*.05);M[P+1]=M[P+1]*(1-F*.05)}else{var c=0,D=0,b,N,L,R;
if(q==0){c=A*F;D=p*F}else if(q==2){}else if(q==3){c=F*V;D=-F*h}else if(q==4){c=F*h;D=F*V}else if(q==5){c=-F*h;
D=-F*V}else if(q==6){c=p*F;D=-A*F}var n=M[P],k=M[P+1];if(e==0||e!=X-1&&c<0){b=1+M[P+2]-n;L=M[P+3]-k}else{b=n-M[P-2]+1;
L=k-M[P-1]}if(B==0||B!=J-1&&D<0){N=M[P+Q]-n;R=1+M[P+Q+1]-k}else{N=n-M[P-Q];R=k-M[P-Q+1]+1}M[P]=-(b*c+N*D-n);
M[P+1]=-(L*c+R*D-k)}S++}}};t.aT.aex=function(M){var X=M[0],J=M[0],q=M[1],W=M[1];for(var $=0;$<M.length;
$+=2){var T=M[$],_=M[$+1];if(T<X)X=T;else if(T>J)J=T;if(_<q)q=_;else if(_>W)W=_}return[X,q,J,W]};t.ahR=function(M,X,J,q,W){function T(O,kz,z,eZ){return Math.sqrt((O-z)*(O-z)+(kz-eZ)*(kz-eZ))}function _(O,kz){return O>=0&&O<X&&kz>=0&&kz<J}function m(O){if(O<0)return 0;
if(O>=X)return X-1;return O}function d(O){if(O<0)return 0;if(O>=J)return J-1;return O}function A($,O){var kz=O[3]*(1/255),z=q[$]+O[0]*kz;
if(z>255)z=255;q[$]=z;z=q[$+1]+O[1]*kz;if(z>255)z=255;q[$+1]=z;z=q[$+2]+O[2]*kz;if(z>255)z=255;q[$+2]=z}function p(O,kz,z){if(!i(O,kz))return;
if(z[3]<0)z[3]=0;A((kz*X+O)*4,z)}function a(O){var kz=O.slice(0,3);kz[3]=0;return kz}var f=X/800;function s(O){return Math.round(O*f)}function j(){for(var $=0;
$<=300;$++){E[$]=Y($)}}function Y(J){var O=.8,kz=.2,z=O*kz,eZ=J/60%2-1,kM=z*(1-eZ*eZ),jV=kz-z,cL;if(J<60){cL=[z+jV,kM,0]}else if(J<120){cL=[kM,z,0]}else if(J<180){cL=[0,z,kM]}else if(J<240){cL=[0,kM,z]}else if(J<300){cL=[kM,0,z]}else{cL=[z,0,kM]}return[(cL[0]+jV)*255,(cL[1]+jV)*255,(cL[2]+jV)*255]}function G(J){return E[~~J]}function Q(O){return 1-Z(O)}function Z(O){return O-~~O}function g(O,kz,z,eZ){L(O,kz,z,0,kz+1,1,eZ)}function S(O,kz,z,eZ,kM,jV){L(O,kz,z,0,eZ,1,kM,jV)}function U(O){for(var $=0;
$<q.length;$+=4){A($,O)}}function B(O,kz,z,eZ,kM,jV,cL,aw){e(O,kz,z,eZ,kM,1,jV,cL,aw)}function e(O,kz,z,eZ,kM,jV,cL,aw,h2){if(jV==null)jV=.5;
if(cL==null)cL=0;if(aw==null)aw=0;if(h2==null)h2=!1;var ea=O.x,ht=O.y,jn=z.slice(0),gE=~~(z[3]*C);eZ=eZ*C;
if(!h2){kz=R(kz);kM=R(kM);cL=R(cL);aw=R(aw)}var bS=m(ea-kz),bi=m(ea+kz);for(var cj=bS;cj<=bi;cj++){var bb=cj-ea,c0=Math.floor(Math.sqrt(kz*kz-bb*bb)),cV=d(ht-c0),g_=d(ht);
for(var hx=cV;hx<=g_;hx++){var au=T(cj,hx,ea,ht);if(au>kz||au<=kz-kM)break;var kP=(au-kz+kM)/kM;jn[3]=gE-eZ*(jV==1?kP:Math.pow(kP,jV));
A((hx*X+cj)*4,jn)}cV=d(ht+c0);for(var hx=cV;hx>g_;hx--){var au=T(cj,hx,ea,ht);if(au>kz||au<=kz-kM)break;
var kP=(au-kz+kM)/kM;jn[3]=gE-eZ*(jV==1?kP:Math.pow(kP,jV));A((hx*X+cj)*4,jn)}}if(cL>0){L(O,kz+cL,jn,jn[3],cL,1,0,0,!0)}if(aw>0){L(O,kz-kM,v(z),-z[3],aw,1,0,0,!0)}}function P(O,kz,z,eZ,kM,jV){L(O,kz,z,z[3],kz+1,1,eZ,kM,jV)}function h(O,kz,z,eZ,kM){if(kM==null)kM=!1;
var jV=O.x,cL=O.y;eZ*=C;if(!kM){kz=R(kz);z=R(z)}var aw=m(jV-kz),h2=m(jV+kz);for(var ea=aw;ea<h2;ea++){var ht=ea-jV,jn=~~Math.sqrt(kz*kz-ht*ht),gE=d(cL-jn),bS=d(cL);
for(var bi=gE;bi<=bS;bi++){var cj=T(ea,bi,jV,cL);if(cj>kz||cj<=kz-z)break;var bb=(kz-cj)/z,c0=G(300*bb);
c0[3]=eZ;A((bi*X+ea)*4,c0)}gE=d(cL+jn);for(var bi=gE;bi>bS;bi--){var cj=T(ea,bi,jV,cL);if(cj>kz||cj<=kz-z)break;
var bb=(kz-cj)/z,c0=G(300*bb);c0[3]=eZ;A((bi*X+ea)*4,c0)}}}function V(u,O){var kz=u.Sf,z=u.OU,eZ=O.slice(0),kM=O[3]*C,jV=Math.abs(z.y-kz.y)>Math.abs(z.x-kz.x);
if(jV){var cL=kz.x;kz.x=kz.y;kz.y=cL;cL=z.x;z.x=z.y;z.y=cL}if(kz.x>z.x){var cL=kz;kz=z;z=cL}var aw=z.x-kz.x,h2=z.y-kz.y,ea=aw==0?1:h2/aw,ht=Math.round(kz.x),jn=kz.y+ea*(ht-kz.x),gE=Q(kz.x+.5),bS=ht,bi=~~jn;
if(jV){eZ[3]=kM*Q(jn)*gE;p(bi,bS,eZ);eZ[3]=kM*Z(jn)*gE;p(bi+1,bS,eZ)}else{eZ[3]=kM*Q(jn)*gE;p(bS,bi,eZ);
eZ[3]=kM*Z(jn)*gE;p(bS,bi+1,eZ)}var cj=jn-ea;ht=Math.round(z.x);jn=z.y+ea*(ht-z.x);gE=Z(z.x+.5);var bb=ht,c0=~~jn;
if(jV){eZ[3]=kM*Q(jn)*gE;p(c0,bb,eZ);eZ[3]=kM*Z(jn)*gE;p(c0+1,bb,eZ)}else{eZ[3]=kM*Q(jn)*gE;p(bb,c0,eZ);
eZ[3]=kM*Z(jn)*gE;p(bb,c0+1,eZ)}if(jV){for(var cV=bS+1;cV<=bb-1;cV++){eZ[3]=kM*Q(cj);p(~~cj,cV,eZ);eZ[3]=kM*Z(cj);
p(~~cj+1,cV,eZ);cj+=ea}}else{for(var cV=bS+1;cV<=bb-1;cV++){eZ[3]=kM*Q(cj);p(cV,~~cj,eZ);eZ[3]=kM*Z(cj);
p(cV,~~cj+1,eZ);cj+=ea}}}function I(O,kz,z,eZ){for(var $=0;$<4;$++){var kM=O.Bo(kz+1.3*$,z);V(kM,eZ,1)}}function es(O,kz){this.x=Math.round(O);
this.y=Math.round(kz)}var F=Math.PI/180;es.prototype.Bo=function(O,kz){O=O*F;var z=this.x+kz*Math.cos(O),eZ=this.y+kz*Math.sin(O);
return new c(this.x,this.y,z,eZ)};es.prototype.ata=function(O,kz){O=O*F;var z=this.jj+kz*Math.cos(O),eZ=this.mn+kz*Math.sin(O);
return new es(z,eZ)};function c(O,kz,z,eZ){this.Sf=new es(O,kz);this.OU=new es(z,eZ)}c.prototype.Ho=function(O){var kz=O*this.Sf.x+(1-O)*this.OU.x,z=O*this.Sf.y+(1-O)*this.OU.y;
return new es(kz,z)};var D=B,n=P,k=g,b=S,N=h,L=e,R=s,i=_,v=a,E=[];j();for(var $=0;$<M.length;$++){q[$]=M[$]}var u=new c(X*W[2],J*W[3],X/2,J/2),C=W[1],l=[];
l[0]=function x(){var O=[80,40,15,60],z=0,eZ=0;k(u.Ho(1.4),260,O,10);k(u.Ho(1),100,[240,50,50,30],30);
n(u.Ho(1),60,[255,40,0,40]);var kz=[255,255,255,255];L(u.Ho(1),70,kz,kz[3],58,.5);k(u.Ho(1),12,kz);kz[3]=40;
D(u.Ho(1),150,kz,kz[3],150);for(var $=0;$<40;$++){z+=Math.random()*25;eZ=Math.random()*R(300)+R(100);
var kM=u.Ho(1).Bo(z,eZ);V(u.Ho(1).Bo(z,eZ),[110,110,110,30])}n(u.Ho(1),130,[255,255,255,8]);var jV=[170,30,23,70];
b(u.Ho(1),70,jV,1,3,3);var cL=[60,60,130,40];k(u.Ho(.47),44,cL,5);k(u.Ho(.43),22,cL,3);cL[3]=16;k(u.Ho(.53),15,cL,2);
var aw=[138,94,42,100];k(u.Ho(.2),16,aw,2);var h2=[130,255,170,180];n(u.Ho(0),4,h2);n(u.Ho(-.25),5,h2);
aw=[150,90,0,50];D(u.Ho(-.45),55,v(aw),-aw[3],40,2);k(u.Ho(-.42),35,aw,2);k(u.Ho(-.5),15,aw,2);N(u.Ho(-1.28),145,11,70);
var ea=G(0);ea[3]=50;D(u.Ho(-1.28),149,ea,ea[3],4);ea=G(300);ea[3]=50;D(u.Ho(-1.28),155-1,v(ea),-ea[3],3);
var ht=[130,130,10,50];b(u.Ho(-1),73,ht,3,2);var jn=[40,130,70,40];D(u.Ho(-1),70,v(jn),-jn[3],35);jn=[40,170,60,50];
k(u.Ho(-.7),25,jn,4);var jn=[70,110,50,60];D(u.Ho(1.3),30,v(jn),-jn[3],11,3);cL=[0,50,210,80];n(u.Ho(-.72),20,cL)};
l[1]=function y(){n(u.Ho(1),150,[240,70,70,60]);k(u.Ho(1),100,[200,60,60,40],30);var O=[255,255,255,255],kz=0,z=0;
L(u.Ho(1),75,O,O[3],63);k(u.Ho(1),12,O);n(u.Ho(1),270,[200,200,200,20],10);for(var $=0;$<10;$++){kz+=10+Math.random()*40;
z=Math.random()*R(250)+R(80);var eZ=u.Ho(1).Bo(kz,z);V(eZ,[110,110,110,35])}kz=5;z=100;for(var $=0;$<12;
$++){kz+=30;I(u.Ho(1),kz,z,[90,90,90,40])}var kM=[150,40,23,100];b(u.Ho(1),70,kM,1,3,3);var jV=[30,100,60,40];
n(u.Ho(-.9),180,[255,255,255,20]);k(u.Ho(-.9),140,jV,15);var cL=[170,80,25,15];b(u.Ho(-.9),120,cL,1,4,4);
var aw=[110,240,190,200];n(u.Ho(-.6),3,aw);aw[3]=100;n(u.Ho(-.6),7,aw);var h2=[230,120,40,85];n(u.Ho(-.73),9,h2);
var ea=[60,60,190,50];k(u.Ho(.3),28,ea,6);ea[3]=25;k(u.Ho(.34),20,ea,3)};l[2]=function ge(){var O=[255,255,255,255],z=0,eZ=0;
k(u.Ho(1),13,O);L(u.Ho(1),150,O,O[3],137);var kz=[120,80,35,20];k(u.Ho(1.4),260,kz,10);for(var $=0;$<40;
$++){z+=5+Math.random()*30;eZ=Math.random()*R(300);V(u.Ho(1).Bo(z,eZ),[110,110,110,20])}var kM=[10,30,255,30];
k(u.Ho(1),70,kM,50);var jV=[15,90,170,15];k(u.Ho(1.5),60,jV);var cL=[220,220,20,50];k(u.Ho(-1.15),8,cL,2);
var O=[255,255,255,40];n(u.Ho(-1.18),6,O);n(u.Ho(-1.18),4,O);cL=[110,110,10,8];D(u.Ho(-1.2),32,v(cL),-cL[3],20,3);
var aw=[5,0,16,255];for(var $=0;$<4;$++){k(u.Ho(-1.36),10,aw,3)}var h2=[90,200,150,20],ea=h2.slice(0);
ea[3]*=2;k(u.Ho(-1.32),7,ea,3);k(u.Ho(-1.36),7,ea,3);k(u.Ho(-1.4),7,ea,3);var O=[230,230,230,100];n(u.Ho(-1.36),2,O);
O[3]=3;k(u.Ho(-.55),10,O);cL=[120,100,10,18];k(u.Ho(-.55),160,cL,8);k(u.Ho(-.55),80,cL,4);h2[3]=3;ea[3]=6;
D(u.Ho(-.49),13,v(ea),-ea[3],13,2);D(u.Ho(-.55),13,v(ea),-ea[3],13,2);h2[3]=20;k(u.Ho(.15),25,h2,3);
cL[3]=100;n(u.Ho(-.52),3,cL);cL=[200,200,50,40];k(u.Ho(.27),1,cL,4);var ht=[150,40,23,30];D(u.Ho(1),80,v(ht),-ht[3],2,1)};
return l[W[0]]()};t.FB={};t.FB.jJ=function(M){var X=M.length,jX=M[0].length,J=new Array(jX);for(var $=0;
$<jX;$++)J[$]=new Array(X);for(var $=0;$<jX;$++)for(var q=0;q<X;q++)J[$][q]=M[q][$];return J};t.FB.d7=function(M,X){var J=M.length,jX=M[0].length,q=new Array(J);
for(var $=0;$<J;$++)q[$]=new Array(jX);for(var $=0;$<J;$++)for(var W=0;W<jX;W++)q[$][W]=M[$][W]-X[$][W];
return q};t.FB.add=function(M,X){var J=M.length,jX=M[0].length,q=new Array(J);for(var $=0;$<J;$++)q[$]=new Array(jX);
for(var $=0;$<J;$++)for(var W=0;W<jX;W++)q[$][W]=M[$][W]+X[$][W];return q};t.FB.multiply=function(M,X){var J=M.length,q=M[0].length,jX=X[0].length;
if(q!=X.length)throw"e";var W=new Array(J);for(var $=0;$<J;$++)W[$]=new Array(jX);if((q&1)!=0)for(var $=0;
$<J;$++){var T=M[$],_=W[$];for(var m=0;m<jX;m++){var d=0;for(var A=0;A<q;A++)d+=T[A]*X[A][m];_[m]=d}}else for(var $=0;
$<J;$++){var T=M[$],_=W[$];for(var m=0;m<jX;m++){var d=0;for(var A=0;A<q;A+=2)d+=T[A]*X[A][m]+T[A+1]*X[A+1][m];
_[m]=d}}return W};t.FB.jh=function(M,X){var J=M.length,jX=M[0].length,q=new Array(J);for(var $=0;$<J;
$++){var W=0;for(var T=0;T<jX;T++)W+=M[$][T]*X[T];q[$]=W}return q};t.FB.tE=function(M,X){var J=[];for(var $=0;
$<M;$++){J.push([]);for(var q=0;q<X;q++)J[$].push(0)}return J};t.FB.awf=function(M){for(var $=0;$<M.length;
$++)console.log(JSON.stringify(M[$]))};t.FB.aA0=function(M){var X=[];for(var $=0;$<M.length;$++)X.push(M[$].join(","));
return"["+X.join(";")+"]"};t.FB.mH=function(M,X){var J=M.length;for(var q=0;q<J;q++){var W=0,T=Number.NEGATIVE_INFINITY;
for(var $=q;$<J;$++)if(Math.abs(M[$][q])>T){W=$;T=Math.abs(M[$][q])}t.FB.aa$(M,q,W);for(var $=q+1;$<J;
$++){if(M[q][q]==0)return 1;var _=M[$][q]/M[q][q];for(var m=q;m<J+1;m++)M[$][m]-=M[q][m]*_}}for(var $=J-1;
$>=0;$--){if(M[$][$]==0)return 1;var d=M[$][J]/M[$][$];X[$]=d;for(var m=$-1;m>=0;m--){M[m][J]-=M[m][$]*d;
M[m][$]=0}}return 0};t.FB.aa$=function(M,X,J){var q=M[X];M[X]=M[J];M[J]=q};t.FB.a49=function(M){var X=M.length,J=t.FB.tE(X,X);
for(var $=0;$<X;$++)J[$][$]=M[$];return J};t.FB.apS=function(M){var X=M.length,J=M[0].length,q=new Array(X);
for(var $=0;$<X;$++){q[$]=0;for(var W=0;W<J;W++)q[$]+=M[$][W];q[$]/=J}return q};t.FB.FH=function(M){var X=0;
for(var $=0;$<M.length;$++)X+=M[$]*M[$];return Math.sqrt(X)};t.XS={};t.XS.bX=function(M){var X=~~(M+.5);
return X<0?0:X>255?255:X};t.XS.cz=function(M,X,J){function q(d){return Math.max(0,Math.min(1,d))}var W=M.z.length;
for(var $=0;$<W;$++){var T=M.z[$],_=M.L[$],m=M.g[$];X.z[$]=q(J[0]*T+J[1]*_+J[2]*m+J[3]);X.L[$]=q(J[4]*T+J[5]*_+J[6]*m+J[7]);
X.g[$]=q(J[8]*T+J[9]*_+J[10]*m+J[11])}};t.XS.aD1=function(M,X,J){var q=t.qP(M),W=q==8?255:q==16?65535:1,T=1/W,_=M.length;
function m(a){return Math.max(0,Math.min(1,a))}for(var $=0;$<_;$+=4){var d=M[$]*T,A=M[$+1]*T,p=M[$+2]*T;
X[$]=W*m(J[0]*d+J[1]*A+J[2]*p+J[3]);X[$+1]=W*m(J[4]*d+J[5]*A+J[6]*p+J[7]);X[$+2]=W*m(J[8]*d+J[9]*A+J[10]*p+J[11])}};
t.XS.ajE=function(M){var X=M[0]+M[1]+M[2],J=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];if(X==1){var q=M.indexOf(1);
J[q]=J[q+4]=J[q+8]=1}else{J[0]=M[0];J[5]=M[1];J[10]=M[2]}return J};t.XS.wb=function(M,X,J){return[1,0,0,M,0,1,0,X,0,0,1,J,0,0,0,1]};
t.XS.tC=function(M,X,J){return[M,0,0,0,0,X,0,0,0,0,J,0,0,0,0,1]};t.XS.aap=function(M){return[M[0],M[1],M[2],M[4],M[5],M[6],M[8],M[9],M[10]]};
t.XS.eY=function(M){return[M[0],M[1],M[2],0,M[3],M[4],M[5],0,M[6],M[7],M[8],0,0,0,0,1]};t.XS.ea=function(M,X){return[M[0]*X[0]+M[1]*X[1]+M[2]*X[2]+M[3]*X[3],M[4]*X[0]+M[5]*X[1]+M[6]*X[2]+M[7]*X[3],M[8]*X[0]+M[9]*X[1]+M[10]*X[2]+M[11]*X[3],M[12]*X[0]+M[13]*X[1]+M[14]*X[2]+M[15]*X[3]]};
t.XS.jJ=function(M){var X=[];X[0]=M[0];X[1]=M[4];X[2]=M[8];X[3]=M[12];X[4]=M[1];X[5]=M[5];X[6]=M[9];
X[7]=M[13];X[8]=M[2];X[9]=M[6];X[10]=M[10];X[11]=M[14];X[12]=M[3];X[13]=M[7];X[14]=M[11];X[15]=M[15];
return X};t.XS.add=function(M,X){var J=M.slice(0);for(var $=0;$<16;$++)J[$]+=X[$];return J};t.XS.multiply=function(M,X){var J=[];
J[0]=M[0]*X[0]+M[1]*X[4]+M[2]*X[8]+M[3]*X[12];J[1]=M[0]*X[1]+M[1]*X[5]+M[2]*X[9]+M[3]*X[13];J[2]=M[0]*X[2]+M[1]*X[6]+M[2]*X[10]+M[3]*X[14];
J[3]=M[0]*X[3]+M[1]*X[7]+M[2]*X[11]+M[3]*X[15];J[4]=M[4]*X[0]+M[5]*X[4]+M[6]*X[8]+M[7]*X[12];J[5]=M[4]*X[1]+M[5]*X[5]+M[6]*X[9]+M[7]*X[13];
J[6]=M[4]*X[2]+M[5]*X[6]+M[6]*X[10]+M[7]*X[14];J[7]=M[4]*X[3]+M[5]*X[7]+M[6]*X[11]+M[7]*X[15];J[8]=M[8]*X[0]+M[9]*X[4]+M[10]*X[8]+M[11]*X[12];
J[9]=M[8]*X[1]+M[9]*X[5]+M[10]*X[9]+M[11]*X[13];J[10]=M[8]*X[2]+M[9]*X[6]+M[10]*X[10]+M[11]*X[14];J[11]=M[8]*X[3]+M[9]*X[7]+M[10]*X[11]+M[11]*X[15];
J[12]=M[12]*X[0]+M[13]*X[4]+M[14]*X[8]+M[15]*X[12];J[13]=M[12]*X[1]+M[13]*X[5]+M[14]*X[9]+M[15]*X[13];
J[14]=M[12]*X[2]+M[13]*X[6]+M[14]*X[10]+M[15]*X[14];J[15]=M[12]*X[3]+M[13]*X[7]+M[14]*X[11]+M[15]*X[15];
return J};t.XS.vN=function(M){var X=[];X[0]=M[5]*M[10]*M[15]-M[5]*M[14]*M[11]-M[6]*M[9]*M[15]+M[6]*M[13]*M[11]+M[7]*M[9]*M[14]-M[7]*M[13]*M[10];
X[1]=-M[1]*M[10]*M[15]+M[1]*M[14]*M[11]+M[2]*M[9]*M[15]-M[2]*M[13]*M[11]-M[3]*M[9]*M[14]+M[3]*M[13]*M[10];
X[2]=M[1]*M[6]*M[15]-M[1]*M[14]*M[7]-M[2]*M[5]*M[15]+M[2]*M[13]*M[7]+M[3]*M[5]*M[14]-M[3]*M[13]*M[6];
X[3]=-M[1]*M[6]*M[11]+M[1]*M[10]*M[7]+M[2]*M[5]*M[11]-M[2]*M[9]*M[7]-M[3]*M[5]*M[10]+M[3]*M[9]*M[6];
X[4]=-M[4]*M[10]*M[15]+M[4]*M[14]*M[11]+M[6]*M[8]*M[15]-M[6]*M[12]*M[11]-M[7]*M[8]*M[14]+M[7]*M[12]*M[10];
X[5]=M[0]*M[10]*M[15]-M[0]*M[14]*M[11]-M[2]*M[8]*M[15]+M[2]*M[12]*M[11]+M[3]*M[8]*M[14]-M[3]*M[12]*M[10];
X[6]=-M[0]*M[6]*M[15]+M[0]*M[14]*M[7]+M[2]*M[4]*M[15]-M[2]*M[12]*M[7]-M[3]*M[4]*M[14]+M[3]*M[12]*M[6];
X[7]=M[0]*M[6]*M[11]-M[0]*M[10]*M[7]-M[2]*M[4]*M[11]+M[2]*M[8]*M[7]+M[3]*M[4]*M[10]-M[3]*M[8]*M[6];X[8]=M[4]*M[9]*M[15]-M[4]*M[13]*M[11]-M[5]*M[8]*M[15]+M[5]*M[12]*M[11]+M[7]*M[8]*M[13]-M[7]*M[12]*M[9];
X[9]=-M[0]*M[9]*M[15]+M[0]*M[13]*M[11]+M[1]*M[8]*M[15]-M[1]*M[12]*M[11]-M[3]*M[8]*M[13]+M[3]*M[12]*M[9];
X[10]=M[0]*M[5]*M[15]-M[0]*M[13]*M[7]-M[1]*M[4]*M[15]+M[1]*M[12]*M[7]+M[3]*M[4]*M[13]-M[3]*M[12]*M[5];
X[11]=-M[0]*M[5]*M[11]+M[0]*M[9]*M[7]+M[1]*M[4]*M[11]-M[1]*M[8]*M[7]-M[3]*M[4]*M[9]+M[3]*M[8]*M[5];X[12]=-M[4]*M[9]*M[14]+M[4]*M[13]*M[10]+M[5]*M[8]*M[14]-M[5]*M[12]*M[10]-M[6]*M[8]*M[13]+M[6]*M[12]*M[9];
X[13]=M[0]*M[9]*M[14]-M[0]*M[13]*M[10]-M[1]*M[8]*M[14]+M[1]*M[12]*M[10]+M[2]*M[8]*M[13]-M[2]*M[12]*M[9];
X[14]=-M[0]*M[5]*M[14]+M[0]*M[13]*M[6]+M[1]*M[4]*M[14]-M[1]*M[12]*M[6]-M[2]*M[4]*M[13]+M[2]*M[12]*M[5];
X[15]=M[0]*M[5]*M[10]-M[0]*M[9]*M[6]-M[1]*M[4]*M[10]+M[1]*M[8]*M[6]+M[2]*M[4]*M[9]-M[2]*M[8]*M[5];var J=M[0]*X[0]+M[1]*X[4]+M[2]*X[8]+M[3]*X[12];
for(var $=0;$<16;$++)X[$]/=J;return X};t.XS.a0V=function(M){var X=[],J=M[5]*M[10]*M[15]-M[5]*M[14]*M[11]-M[6]*M[9]*M[15]+M[6]*M[13]*M[11]+M[7]*M[9]*M[14]-M[7]*M[13]*M[10],q=-M[4]*M[10]*M[15]+M[4]*M[14]*M[11]+M[6]*M[8]*M[15]-M[6]*M[12]*M[11]-M[7]*M[8]*M[14]+M[7]*M[12]*M[10],W=M[4]*M[9]*M[15]-M[4]*M[13]*M[11]-M[5]*M[8]*M[15]+M[5]*M[12]*M[11]+M[7]*M[8]*M[13]-M[7]*M[12]*M[9],T=-M[4]*M[9]*M[14]+M[4]*M[13]*M[10]+M[5]*M[8]*M[14]-M[5]*M[12]*M[10]-M[6]*M[8]*M[13]+M[6]*M[12]*M[9];
return M[0]*J+M[1]*q+M[2]*W+M[3]*T};t.XS.MC=function(M,X,J,q){var W=Math.sin(q),T=Math.cos(q),_=1/Math.sqrt(M*M+X*X+J*J);
M*=_;X*=_;J*=_;return t.XS.eY([M*M*(1-T)+T,M*X*(1-T)-J*W,M*J*(1-T)+X*W,M*X*(1-T)+J*W,X*X*(1-T)+T,X*J*(1-T)-M*W,M*J*(1-T)-X*W,X*J*(1-T)+M*W,J*J*(1-T)+T])};
t.XS.Kf=t.XS.eY([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
t.XS.acl=t.XS.eY([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
t.XS.avf=t.XS.eY([1.3459433,-.2556075,-.0511118,-.5445989,1.5081673,.0205351,0,0,1.2118128]);t.XS.aAc=t.XS.eY([2.1861968,-.8165993,-.3530805,-.8443876,1.7943237,.024049,.0479222,-.1018347,1.2792565]);
t.XS.aHV=t.XS.vN(t.XS.Kf);t.P4={};t.P4.KT=new Uint32Array(1);t.P4.a2F=function(M,X,J,q,W,T){var _=new Uint32Array(M),m=0,d=t.P4.KT;
if(d.length<X*4)t.P4.KT=d=new Uint32Array(X*4);var A=new Float64Array(d.buffer);for(var $=0;$<X;$+=2){var p=W[$],a=W[$+1],f=T[$],s=T[$+1];
d[m]=a;A[m+2>>1]=f;d[m+1]=_[p];_[p]=m+1;m+=4;d[m]=p;A[m+2>>1]=s;d[m+1]=_[a];_[a]=m+1;m+=4}return{Dh:d,aCq:A,af1:_}};
t.P4.mH=function(M,X,J,q,W,T,_){var m=1,d=t.P4.a2F(M,X,J,q,W,T),A=d.Dh,p=d.aCq,a=d.af1,f=new Uint32Array(M),s=new t.P4.Li(M),Y=1,S=0;
s.push(J);s.push(q);var j=new t.P4.Li(M),G=new Uint8Array(M),Q=new Uint32Array(M);G[J]=1;G[q]=2;var Z=new Uint32Array(M),g=new Uint32Array(M);
g[J]=g[q]=0;Z[J]=Z[q]=1;while(!0){var U=-1,F=0,k=1e30;while(!s.tB()&&U==-1){var B=s.top(),e=G[B],P=a[B]-1;
while(P!=-1){var h=A[P],V=G[h],I=P^e-1<<2;if(p[I+2>>1]!=0){if(V==0){t.P4.Uj(B,P,h,G,Q,g,Z);s.push(h)}else if(V==e&&Z[h]<=Z[B]&&g[h]>g[B])t.P4.Uj(B,P,h,G,Q,g,Z);
else if(V!=e){U=I}}P=A[P+1]-1}if(U!=-1)break;s.pop()}if(U==-1){break}Y++;var c=U;while(c!=-1){f[F]=c;
F++;c=Q[A[c^4]]-1}var D=F>>1;for(var $=0;$<D;$++){var n=f[$];f[$]=f[F-$-1];f[F-$-1]=n}c=Q[A[U]]-1;while(c!=-1){f[F]=c^4;
F++;c=Q[A[c^4]]-1}for(var $=0;$<F;$++)k=Math.min(k,p[f[$]+2>>1]);S+=k;if(S>=_)return{En:null,rx:S};for(var $=0;
$<F;$++){var b=f[$],N=b^4,B=A[N],h=A[b];p[b+2>>1]-=k;p[N+2>>1]+=k;if(p[b+2>>1]==0&&G[B]==G[h]){if(G[B]==1){Q[h]=0;
j.push(h)}if(G[B]==2){Q[B]=0;j.push(B)}}}while(!j.tB()){var B=j.pop(),e=G[B],P=a[B]-1,L=e==1?4:0,R=0,i=0,v=1e9;
while(P!=-1){var h=A[P],E=P^4,I=P^L;if(G[h]==e&&p[I+2>>1]>0&&t.P4.anl(h,J,q,Q,A,Y,Z,g)+1<v){R=h;i=E;
v=g[h]+1}P=A[P+1]-1}if(i!=0){t.P4.Uj(R,i,B,G,Q,g,Z);continue}P=a[B]-1;while(P!=-1){var h=A[P],I=P^L;
if(G[h]==e){if(p[I+2>>1]>0){s.push(h)}if(Q[h]==P+1){Q[h]=0;j.push(h)}}P=A[P+1]-1}G[B]=0;s.remove(B)}}var u=[];
for(var $=0;$<X;$+=2){var B=W[$],h=W[$+1];if(G[B]==1&&G[h]!=1){u.push($>>1)}if(G[h]==1&&G[B]!=1){u.push(X+$>>1)}}return{En:u,rx:S}};
t.P4.Uj=function(M,X,J,q,W,T,_){q[J]=q[M];W[J]=X+1;T[J]=T[M]+1;_[J]=_[M]};t.P4.anl=function(M,X,J,q,W,T,_,m){var d=M,A=q[M]-1,p=0;
while(A!=-1&&_[M]!=T){M=W[A^4];A=q[M]-1;p++}if(A==-1&&M!=X&&M!=J)return 1e9;var a=m[M]+p;p=0;A=q[d]-1;
while(d!=M){m[d]=a-p;p++;_[d]=T;d=W[A^4];A=q[d]-1}return a};t.P4.aeI=function(M,X,J,q,W,T){var _=t.P4.a2F(M,X,J,q,W,T),m=_.Dh,d=_.aCq,A=_.af1,p=0,a=0,f=new Uint32Array(M*2),s=new t.P4.a20(M),j=0;
while(!0){s.reset();s.push(J);for(var $=0;$<M;$++)f[$<<1]=0;while(!s.tB()){var Y=s.pop(),G=A[Y]-1;while(G!=-1){j=m[G];
if(f[j<<1]==0&&d[G+2>>1]>0&&j!=J){f[j<<1]=Y+1;f[(j<<1)+1]=G;s.push(j)}G=m[G+1]-1}if(f[q<<1]!=0){break}}if(f[q<<1]==0){break}var Q=1e30;
j=q;while(!0){var Z=f[j<<1]-1;if(Z==-1)break;var g=f[(j<<1)+1];Q=Math.min(Q,d[g+2>>1]);j=Z}j=q;while(!0){var Z=f[j<<1]-1;
if(Z==-1)break;var g=f[(j<<1)+1],S=g^4;d[g+2>>1]-=Q;d[S+2>>1]+=Q;j=Z}p+=Q}var U=[];for(var $=0;$<X;$+=2){var Z=W[$],j=W[$+1];
if((f[Z<<1]!=0||Z==J)&&f[j<<1]==0&&j!=J){U.push($>>1)}if((f[j<<1]!=0||j==J)&&f[Z<<1]==0&&Z!=J){U.push(X+$>>1)}}return{En:U,rx:p}};
t.P4.a20=function(M){M|=M>>1;M|=M>>2;M|=M>>4;M|=M>>8;M|=M>>16;this.h7=new Uint32Array(M+1);this.ql=M;
this.VI=0;this.LP=0};t.P4.a20.prototype={push:function(M){var X=this.LP;this.h7[X]=M;this.LP=X+1&this.ql},pop:function(){var M=this.VI,X=this.h7[M];
this.VI=M+1&this.ql;return X},tB:function(){return this.VI==this.LP},reset:function(){this.VI=0;this.LP=0}};
t.P4.Li=function(M){M|=M>>1;M|=M>>2;M|=M>>4;M|=M>>8;M|=M>>16;this.h7=new Uint32Array(M+1);this.RV=new Uint32Array(M+1);
this.ql=M;this.VI=0;this.LP=0};t.P4.Li.prototype={top:function(){return this.h7[this.VI]},asW:function(){return this.h7[this.LP]},push:function(M){if(this.RV[M]!=0)return;
this.RV[M]=this.LP+1;var X=this.LP;this.h7[X]=M;this.LP=X+1&this.ql},pop:function(){var M=this.VI,X=this.h7[M];
this.RV[X]=0;this.VI=M+1&this.ql;return X},tB:function(){return this.VI==this.LP},remove:function(M){var X=this.RV[M]-1;
if(X==-1)return;this.RV[M]=0;if(X==this.VI){this.pop();return}var J=this.pop();this.h7[X]=J;this.RV[J]=X+1},WK:function($){return $+this.ql+1&this.ql}};
t.P4.a5f=function(M,X,J){var q=t.P4.bz(M,X,J);if(X<q-1)t.P4.a5f(M,X,q-1);if(q<J)t.P4.a5f(M,q,J)};t.P4.bz=function(M,X,J){var q=M[X+J>>>1];
while(X<=J){while(M[X]<q)X++;while(M[J]>q)J--;if(X<=J){t.P4.ci(M,X,J);X++;J--}}return X};t.P4.ci=function(M,X,J){var q=M[X];
M[X]=M[J];M[J]=q};t.u7=function(){var M,X;function J(_,m,jX){var d=jX-1,A=m+jX;M[jX-2]=_[A-2];X[0]=_[A-1];
var p=Math.max;for(var $=1;$<d;$++){M[jX-2-$]=p(M[jX-1-$],_[A-2-$]);X[$]=p(X[$-1],_[A-1+$])}for(var $=0;
$<d;$++)_[m+$]=p(M[$],X[$])}function q(_,m,jX){var d=jX-1,A=Math.ceil(m/d)*d;for(var p=0;p<A;p+=d)J(_,p,jX)}function W(_,m,d,A,jX,p){m.set(_);
if(jX==1)return;M=t.j(jX-1);X=t.j(jX-1);var a=jX>>>1,f=t.j(Math.ceil(Math.max(d,A)/(jX-1))*(jX-1)+(jX-2)),s=new Uint8Array(f.buffer,0,d);
if(!p)t.vN(m);for(var j=0;j<A;j++){f.fill(0);f.set(new Uint8Array(m.buffer,j*d,d),a);q(f,d,jX);m.set(s,j*d)}for(var Y=0;
Y<d;Y++){f.fill(0);for(var j=0;j<A;j++)f[j+a]=m[j*d+Y];q(f,A,jX);for(var j=0;j<A;j++)m[j*d+Y]=f[j]}if(!p)t.vN(m)}function T(_,m,d,A,jX,p){var a=t.j(d*A);
for(var f=0;f<4;f++){t.SF(_,a,f);if(f==3)t.vN(a);W(a,a,d,A,jX,p);if(f==3)t.vN(a);t.ix(a,m,f)}}return{dV:W,a4x:T}}();
t.fg={};t.fg.aqL=function(M){for(var $=0;$<M.length;$++)t.fg.hZ(M,$)};t.fg.hZ=function(M,$){M[$].v.keyShapeInvalidated={t:"bool",v:!0}};
t.fg.alh=function(M){for(var $=0;$<M.length;$++)M[$].v.keyOriginIndex.v=$};t.fg.Df=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
t.fg.Bd=function(M,X,J){M=M.v;var q={Rctn:2,Ln:4,Elps:5},W=q[M.classID],T=M.topLeft?t.fg.aBs(M):null,_=null,m=0,d=[!1,!1,0,0,0];
if(W==4){var A=M.Strt.v,p=M.End.v;_=[A.Hrzn.v.val,A.Vrtc.v.val,p.Hrzn.v.val,p.Vrtc.v.val];m=M.Wdth.v.val;
for(var $=0;$<2;$++){var a=M[$==0?"StrA":"EndA"];if(a==null)continue;a=a.v;d[$]=a.On.v;d[2]=a.Wdth.v;
d[3]=a.Lngt.v;d[4]=a.Cncv.v.val}}if(W==null)return null;return t.fg.sb(W,W==4?null:t.fg.ZF(M,X,J),T,_,m,d)};
t.fg.po=function(M,X,J,q,W,T,_){var m={classID:M,unitValueQuadVersion:{t:"long",v:1}};if(X)t.fg.ct(m,["Left","Top","Rght","Btom"],X);
if(J)t.fg.ct(m,["topLeft","topRight","bottomRight","bottomLeft"],J);if(M=="Ln"){m.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:q[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:q[1]}}}},m.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:q[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:q[3]}}}},m.Wdth={t:"UntF",v:{type:"#Pxl",val:W}};
for(var $=0;$<2;$++){var d=$==0?"StrA":"EndA";m[d]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:_[$]},Wdth:{t:"doub",v:_[2]},Lngt:{t:"doub",v:_[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:_[4]}}}}}}if(T)m.Nm={t:"TEXT",v:T};
return{t:"Objc",v:m}};t.fg.av8=function(M,X){var J=t.fg.MX(M),q=M[2]-M[0],W=M[3]-M[1],T=Math.sqrt(q*q+W*W),_=[0,0,T,0,T,X,0,X],m=new kp;
m.rotate(-J);m.translate(M[0],M[1]);t.G.u(_,m,_);return _};t.fg.sb=function(M,X,J,q,W,T){var _=t.fg.Df(),m=_.v,d;
delete m.keyShapeInvalidated;m.keyOriginType={t:"long",v:M};m.keyOriginResolution={t:"doub",v:75};if(M==4){m.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:q[0]},Vrtc:{t:"doub",v:q[1]}}};
m.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:q[2]},Vrtc:{t:"doub",v:q[3]}}};d=t.fg.av8(q,W);
var A=t.G.Cs(d);X=[A.x,A.y,A.x+A.r,A.y+A.$];m.keyOriginLineWeight={t:"doub",v:W};if(T)t.fg.aff(m,T)}else d=[X[0],X[1],X[2],X[1],X[2],X[3],X[0],X[3]];
m.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};t.fg.LT(m,"keyOriginBoxCorners",d);var p={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
m.keyOriginShapeBBox={t:"Objc",v:p};t.fg.a0v(m,X);if(J!=null){var a={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
m.keyOriginRRectRadii={t:"Objc",v:a};t.fg.hb(m,J)}return _};t.fg.u=function(M,X,J,q){var W=t.t.abS(X),T=t.t.aoh(X),_=t.t.Gy(X),m=_.Jm*_.Bi-_.g*_.br;
for(var $=0;$<M.length;$++){var d=M[$].v;if(!t.fg.RS(d))continue;if(J.length!=0&&J.indexOf($)==-1)continue;
var A=d.keyOriginType.v,p=X;if(m<0&&A==2){var a=t.fg.S1(d),f=0;f=a[0];a[0]=a[1];a[1]=f;f=a[2];a[2]=a[3];
a[3]=f;t.fg.hb(d,a);var s=t.fg.eL(d,"keyOriginBoxCorners"),j=t.G.Cs(s),Y=j.x+j.r/2,G=new kp;G.translate(-Y,0);
G.scale(-1,1);G.translate(Y,0);p=t.t.uM(p,t.t.WP(G))}var Q=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var Z=0;Z<Q.length;Z++){var s=t.fg.eL(d,Q[Z]);if(s==null)continue;t.t.u(p,s);t.fg.LT(d,Q[Z],s);var j=t.G.Cs(s);
t.fg.a0v(d,[j.x,j.y,j.x+j.r,j.y+j.$]);var g=new kp;g.rotate(-t.fg.MX(s));var S={classID:"Trnf"};d.Trnf={t:"Objc",v:S};
var U="xx xy yx yy tx ty".split(" "),B=[g.Jm,g.g,g.br,g.Bi,g._f,g.Ey];for(var e=0;e<6;e++)S[U[e]]={t:"doub",v:B[e]}}if(A==2&&q){var a=t.fg.S1(d);
for(var Z=0;Z<4;Z++)a[Z]=Math.round(a[Z]*X[0]);t.fg.hb(d,a)}var s=t.fg.eL(d,"keyOriginBoxCorners"),P=s[2]-s[0],h=s[3]-s[1],V=Math.sqrt(P*P+h*h);
P/=V;h/=V;var I=s[6]-s[0],F=s[7]-s[1],c=Math.sqrt(I*I+F*F);I/=c;F/=c;if(A==4){var D=_.zQ();d.keyOriginLineWeight.v*=D;
var n=t.fg.Ks(d);t.t.u(X,n);t.fg.a8q(d,n);var k=t.fg.aq2(d);k[2]*=D;k[3]*=D;t.fg.aff(d,k)}var b=P*I+h*F;
if(Math.abs(b)>.001){t.fg.hZ(M,$)}}};t.fg.RS=function(M){var X=M.keyShapeInvalidated,J=M.keyOriginType;
return(X==null||!X.v)&&J!=null&&J.v!=9};t.fg.a5t=function(M){var X=M.keyOriginType.v,J=t.fg.v5(M),q=J[0],W=J[1],T=J[2],_=J[3],m=new kp,d=M.keyOriginPolyCornerRadius,s;
d=d?d.v:0;var A=t.fg.eL(M,X==7||X==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),p=t.fg.a3v(A),a=p[2],f=p[3];
q=-a/2;T=a/2;W=-f/2;_=f/2;m.rotate(-t.fg.MX(A));m._f=p[0];m.Ey=p[1];if(X==1||X==2){var j=X==1?0:t.fg.S1(M);
s=t.I.bg.Rect(q,W,T-q,_-W,j)}else if(X==4){var Y=t.fg.Ks(M),G=t.fg.aq2(M);m=new kp;if(G==null)s=t.I.bg.VL(Y[0],Y[1],Y[2],Y[3],M.keyOriginLineWeight.v);
else s=t.I.bg.xp(Y[0],Y[1],Y[2],Y[3],M.keyOriginLineWeight.v,G)}else if(X==5){s=t.I.bg.hQ(q,W,T-q,_-W)}else if(X==7||X==8){var Q=X==7?3:M.keyOriginPolySides.v;
s=t.I.bg.dQ(0,0,100,Math.PI/Q-Math.PI/2,Q,d,T,_)}t.I.cI(s,m);return s};t.fg.ra=function(M,X){var J=X.X;
for(var $=0;$<M.length;$++){var q=M[$].v;if(!t.fg.RS(q))continue;var W=t.fg.a5t(q),T=t.I.kj(J,$),_=t.I.ZH(J,$);
W[2].li=J[T].li;var m=J;J=J.slice(0,T);for(var d=2;d<W.length;d++)J.push(W[d]);for(var d=T+_;d<m.length;
d++)J.push(m[d])}X.X=J;X.A8=!0};t.fg.bw=function(M){var X=1e9,J=-X,q=1e9,W=-q,T=[],_=M.ZX(),m=_[0],d=_[1];
for(var A=0;A<d.length;A++){var p=m[d[A]],a=p.add.vogk;if(a==null)continue;var f=p.add.vmsk.O;for(var s=0;
s<a.length;s++){var j=a[s].v,Q=0;if(!t.fg.RS(j))continue;if(d.length==1&&f.length!=0&&f.indexOf(s)==-1)continue;
var Y=j.keyOriginType.v;if(Y==9)continue;var G=t.fg.v5(j);X=Math.min(X,G[0]);q=Math.min(q,G[1]);J=Math.max(J,G[2]);
W=Math.max(W,G[3]);var Z=t.fg.eL(j,"keyOriginBoxCorners");if(Z){var g=t.fg.a3v(Z),S=g[2],U=g[3];G[2]=G[0]+S;
G[3]=G[1]+U;Q=t.fg.MX(Z)}var B=[Y,G,Q];T.push(B);var e=j.keyOriginPolyCornerRadius;if(Y==2)B.push(t.fg.S1(j));
if(Y==7||Y==8)B.push(e?e.v:0);if(Y==8)B.push(j.keyOriginPolySides.v)}}return T.length==1?T[0]:[0,X<J?[X,q,J,W]:null,0]};
t.fg.MX=function(M){var X=M[2]-M[0],J=M[3]-M[1];return-Math.atan2(-J,X)};t.fg.aGT=function(M){var X=t.fg.v5(M);
return t.fg.MX(X)};t.fg.ahi=function(M,X,J){var q=t.fg.bw(M),W=-1;for(var $=0;$<X.length;$++)if(JSON.stringify(X[$])!=JSON.stringify(q[$]))W=$;
if(W==1||W==2){}var T=M.ZX(),_=T[0],m=T[1];for(var d=0;d<m.length;d++){var A=_[m[d]],p=A.add.vogk;if(p==null)continue;
var a=A.add.vmsk.O;for(var f=0;f<p.length;f++){var s=p[f].v;if(!t.fg.RS(s))continue;if(m.length==1&&a.length!=0&&a.indexOf(f)==-1)continue;
var j=s.keyOriginType.v;if(W==1||W==2){t.fg.u(p,t.fg.anb(W,s,q,X),a,!1);break}if(W==3)if(j==2)t.fg.hb(s,X[3]);
else s.keyOriginPolyCornerRadius={t:"doub",v:X[3]};if(W==4)s.keyOriginPolySides.v=X[4];if(J)t.fg.hZ(p,f)}}};
t.fg.anb=function(M,X,J,q){var W=q[1],T=J[1],_=(W[2]-W[0])/(T[2]-T[0]),m=(W[3]-W[1])/(T[3]-T[1]),d=new kp;
if(M==1){if(Math.max(Math.abs(_-1),Math.abs(m-1))>1e-8){var A=W[0],p=W[1];if(q[0]!=0){var a=t.fg.eL(X,"keyOriginBoxCorners");
A=a[0];p=a[1]}d.translate(-A,-p);d.rotate(q[2]);d.scale(_,m);d.rotate(-q[2]);d.translate(A,p)}else{d.translate(-T[0],-T[1]);
d.translate(W[0],W[1])}}else{if(q[0]!=0)W=t.fg.v5(X);var A=(W[0]+W[2])/2,p=(W[1]+W[3])/2;d.translate(-A,-p);
if(J[0]!=0)d.rotate(J[2]);d.rotate(-q[2]);d.translate(A,p)}return t.t.WP(d)};t.fg.a3v=function(M){var X=M[0],J=M[1],q=M[2],W=M[3],T=M[4],_=M[5],m=M[6],d=M[7],A=q-X,p=W-J,a=Math.sqrt(A*A+p*p),A=T-q,p=_-W,f=Math.sqrt(A*A+p*p);
return[(X+T)/2,(J+_)/2,a,f]};t.fg.eL=function(M,X){var J=M[X];if(J==null)return null;var q=[];J=J.v;
for(var W=0;W<4;W++){var T=J["rectangleCorner"+["A","B","C","D"][W]].v;q.push(T.Hrzn.v,T.Vrtc.v)}return q};
t.fg.LT=function(M,X,J){var q=M[X];if(q==null)return null;q=q.v;for(var W=0;W<4;W++){var T="rectangleCorner"+["A","B","C","D"][W];
q[T]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:J[2*W]},Vrtc:{t:"doub",v:J[2*W+1]}}}}};t.fg.v5=function(M){return t.fg.ZF(M.keyOriginShapeBBox.v)};
t.fg.ZF=function(M,X,J){var q=M.classID,W=M.Left.v,T=M.Rght.v,_=M.Top.v,m=M.Btom.v,d=W.type;if(W.val!=null){W=W.val;
T=T.val;_=_.val;m=m.val}if(d=="#Prc"&&X){W*=X/100;T*=X/100;_*=J/100;m*=J/100}return[W,_,T,m]};t.fg.Hg=function(M,X,J){var q=t.fg.ZF(M,X,J);
return new gc(q[0],q[1],q[2]-q[0],q[3]-q[1])};t.fg.a0v=function(M,X){t.fg.ct(M.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],X)};
t.fg.S1=function(M){var X=M.keyOriginRRectRadii;if(X==null)return[0,0,0,0];return t.fg.aBs(X.v)};t.fg.aBs=function(M){var X=[],J=["topLeft","topRight","bottomRight","bottomLeft"];
for(var q=0;q<4;q++)X.push(M[J[q]].v.val);return X};t.fg.hb=function(M,X){t.fg.ct(M.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],X)};
t.fg.ct=function(M,X,J){var q=M.classID;if(q=="unitRect"||q=="radii"||q=="Rctn"){for(var $=0;$<4;$++)if(J[$]!=null)M[X[$]]={t:"UntF",v:{type:"#Pxl",val:J[$]}}}else{for(var $=0;
$<4;$++)if(J[$]!=null)M[X[$]]={t:"doub",v:J[$]}}};t.fg.Ks=function(M){var X=M.keyOriginLineStart.v,J=M.keyOriginLineEnd.v;
return[X.Hrzn.v,X.Vrtc.v,J.Hrzn.v,J.Vrtc.v]};t.fg.a8q=function(M,X){var J=M.keyOriginLineStart.v,q=M.keyOriginLineEnd.v;
J.Hrzn.v=X[0];J.Vrtc.v=X[1];q.Hrzn.v=X[2];q.Vrtc.v=X[3]};t.fg.aq2=function(M){var X=[],J=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var $=0;$<5;$++){var q=M["keyOriginLineArr"+J[$]];if(q==null)return null;X[$]=q.v}return X};t.fg.aff=function(M,X){M.keyOriginLineArrowSt={t:"bool",v:X[0]};
M.keyOriginLineArrowEnd={t:"bool",v:X[1]};M.keyOriginLineArrWdth={t:"doub",v:X[2]};M.keyOriginLineArrLngth={t:"doub",v:X[3]};
M.keyOriginLineArrConc={t:"long",v:X[4]}};t.fg.ald=function(M){function X(S,U){return Math.abs(S-U)<.5}function J(S,U){return X(S.x,U.x)&&X(S.y,U.y)}function q(S,U,B,e,P,h,V){for(var $=0;
$<V;$++){var I=S[U+(B+$)%V],F=e[P+(h+$)%V];if(!(J(I.Z,F.Z)&&J(I.vX,F.vX)&&J(I.vJ,F.vJ)))return!1}return!0}var W=[];
for(var T=0;T<M.length;T++){var _=M[T],d=null;if(_.e!=0&&_.e!=3||_.li==-1)continue;var m=T;if(_.length==4||_.length==8){var A=t.I.aCB(M.slice(0,2).concat(M.slice(m,m+_.length+1)));
m=2;if(_.length==4){var p=t.I.zs(A,m+1,4),a=p.x,f=p.y,s=a+p.r,j=f+p.$;if(p.o()>4){if(t.I.bW(A.slice(m-2,m+5)))d=t.fg.sb(2,[a,f,s,j],[0,0,0,0]);
else{var Y=-1;for(var $=0;$<4;$++)if(X(A[m+1+$].Z.y,j))Y=$;if(Y!=-1){var G=t.I.bg.hQ(a,f,s-a,j-f),Q=q(A,m+1,Y,G,3,0,4);
if(Q)d=t.fg.sb(5,[a,f,s,j])}}}}if(_.length==8){var p=t.I.zs(A,m+1,8),a=p.x,f=p.y,s=a+p.r,j=f+p.$;if(p.o()>4){var Y=-1;
for(var $=0;$<8;$++)if(X(A[m+1+($+1&7)].Z.y,f)&&X(A[m+1+($+2&7)].Z.y,f))Y=$;if(Y!=-1){var Z=Math.abs(A[m+1+Y].Z.y-f),g=[Z,Z,Z,Z];
if(Z>.5){var G=t.I.bg.Rect(a,f,s-a,j-f,g),Q=q(A,m+1,Y,G,3,0,8);if(Q)d=t.fg.sb(2,[a,f,s,j],g)}}}}}W.push(d?d:t.fg.Df())}return W};
t.G={};t.G.Q=function(M){return{C6:M.C6.slice(0),d:M.d.slice(0)}};t.G.au9=function(M){if(M.length<6)return!0;
var X=M.length-4;for(var $=0;$<X;$+=2)if(!t.G.tm(M[$],M[$+1],M[$+2],M[$+3],M[$+4],M[$+5]))return!1;if(!t.G.tm(M[X],M[X+1],M[X+2],M[X+3],M[0],M[1]))return!1;
if(!t.G.tm(M[X+2],M[X+3],M[0],M[1],M[2],M[3]))return!1;return!0};t.G.tm=function(M,X,J,q,W,T){return(X-q)*(W-J)+(J-M)*(T-q)>=0};
t.G.aww=function(M,X){function J(v,E,P){var B=E[0]-v[0],e=E[1]-v[1],u=t.G.n5(P[0],P[1],-e,B,v[0],v[1],B,e);
return[P[0]-e*u,P[1]+B*u]}function q(v,E){var B=v[0]-E[0],e=v[1]-E[1];return Math.sqrt(B*B+e*e)}M=t.G.adt(M);
var W=[0,0,0,0],T=M.length,_=[0,0,0,0],m=Math.PI/2,d=Math.atan2(-1,0),s=1e9,j,Y=0;function A(){for(var $=0;
$<4;$++){var Q=W[$],Z=(Q+2)%T,v=M[Z]-M[Q],E=M[Z+1]-M[Q+1],u=Math.atan2(E,v),C=d+$*m;if(u<C)C-=2*Math.PI;
_[$]=u-C}}for(var $=0;$<T;$+=2){var p=M[$],a=M[$+1];if(p<M[W[0]])W[0]=$;if(a<M[W[1]+1])W[1]=$;if(p>M[W[2]])W[2]=$;
if(a>M[W[3]+1])W[3]=$}A();var f=t.G.Cs(M).o();while(Y<T/2){var G=0;for(var $=0;$<4;$++)if(_[$]<_[G])G=$;
var Q=W[G],Z=(Q+2)%T,g=W[G+2&3],S=W[G+3&3],U=W[G+1&3],p=M[Q],B=M[Z]-p,a=M[Q+1],e=M[Z+1]-a,P=M.slice(Q,Q+2),h=M.slice(Z,Z+2),V=M.slice(g,g+2),I=M.slice(S,S+2),F=M.slice(U,U+2),c=J(P,h,V),D=J(I,[I[0]-e,I[1]+B],F),n=q(c,V),k=q(D,F);
if(k*n<s){s=k*n;var b=J(P,h,I);j=[b[0],b[1],B,e,k,n]}d+=_[G];W[G]=Z;A();Y++}var p=j[0],a=j[1],B=j[2],e=j[3],k=j[4],n=j[5],N=Math.sqrt(B*B+e*e);
B/=N;e/=N;var L=p+B*k,R=a+e*k,i=[p,a,L,R,L-e*n,R+B*n,p-e*n,a+B*n];while(i[0]>i[2]||Math.abs((i[3]-i[1])/(i[2]-i[0]))>1){i.push(i.shift(),i.shift())}return i};
t.G.adt=function(M){var X=0;for(var $=0;$<M.length;$+=2)if(M[$]<M[X])X=$;var J=[X];while(!0){var q=J[J.length-1],W=M[q],T=M[q+1],_=J.length==1?J[0]:J[J.length-2],m=M[_],d=M[_+1],f=0,s=1e9,j=0;
if(J.length==1)d+=20;var A=m-W,p=d-T,a=Math.sqrt(A*A+p*p);A/=a;p/=a;for(var $=0;$<M.length;$+=2){if($==_||$==q)continue;
var Y=M[$],G=M[$+1],Q=Y-W,Z=G-T,g=Math.sqrt(Q*Q+Z*Z);Q/=g;Z/=g;var S=A*Q+p*Z;if(S<s||S==s&&g>j){s=S;
f=$;j=g}}if(f==J[0])break;J.push(f)}var U=[];for(var $=0;$<J.length;$++)U.push(M[J[$]],M[J[$]+1]);return U};
t.G.L3=function(M){var X={},J=0,q={M:2,L:2,Q:4,C:6},W="",T="",_={d:[],C6:[]};for(var $=0;$<M.C6.length;
$++){var m=M.C6[$];if(m[0]=="#")W=m;else if(m[0]=="X"){var d=W+T;if(X[d]==null)X[d]={d:[],C6:[]};t.G.concat(X[d],_);
W="";T="";_={d:[],C6:[]}}else if(m[0]=="O"&&m[1]=="-")T=m;else if(m=="OX"){if(T!="")T+="-1"}else{_.C6.push(m);
var A=q[m];if(A==null)A=0;for(var p=0;p<A;p++)_.d.push(M.d[J+p]);J+=A}}return X};t.G.aiP=function(M,X,J){var q=M[X]-M[J-2],W=M[X+1]-M[J-1];
return q*q+W*W<1e-4};t.G.ae1=function(M){var X=[],J=M.d,q=M.C6.length-1;for(var W=0;W<q;W++){var $=W*6,T=J[$+6]-J[$+0],_=J[$+7]-J[$+1],m=Math.ceil(Math.sqrt(T*T+_*_));
for(var d=0;d<m;d++){var A=d/m,p=1-A,a=p*p*p*J[$+0]+3*p*p*A*J[$+2]+3*p*A*A*J[$+4]+A*A*A*J[$+6],f=p*p*p*J[$+1]+3*p*p*A*J[$+3]+3*p*A*A*J[$+5]+A*A*A*J[$+7];
X.push(a,f)}}return X};t.G.n$=function(M,X,J){M=t.G.qG(M);var q=M.d,W=M.C6,T=0,_="",m=0,d=0,T=0,a=null;
for(var $=0;$<W.length;$++){var A=W[$];if(A=="M"){m=q[T];d=q[T+1];T+=2;_=A}if(A=="C"){if(_=="Z"){W.splice($,0,"M");
q.splice(T,0,m,d);$--;continue}T+=6;_=A}if(A=="Z"){_=A}}var p=[];T=0;for(var $=0;$<W.length;$++){var A=W[$];
if(A=="M"){a={O4:T,dR:0,I7:!1};p.push(a);T+=2}if(A=="C"){a.dR++;T+=6}if(A=="Z"&&a!=null){a.I7=!0}}var f=[];
for(var $=0;$<p.length;$++)if(p[$].dR!=0)f.push(p[$]);p=f;for(var $=0;$<p.length;$++){var s=p[$],j=s.O4,Y=j+2+s.dR*6,Q=0;
s.ny=t.G.Cs(q,j,Y);var G=t.G.aiP(q,j,Y);for(var Z=0;Z<s.dR;Z++){var g=j+Z*6,S=g+6;Q+=(q[S]-q[g])*(q[S+1]+q[g+1])}if(s.dR==2){var U=function(y,ge,O){var kz=1-O;
return kz*kz*kz*y[ge]+3*kz*kz*O*y[ge+2]+3*kz*O*O*y[ge+4]+O*O*O*y[ge+6]},B=q[j],e=q[j+1],P=q[j+6],h=q[j+7],V=q[j+6],I=q[j+7],F=U(q,j,.5),c=U(q,j+1,.5),D=U(q,j+6,.5),n=U(q,j+7,.5);
Q=(F-B)*(c-e)+(P-F)*(h-c)+(D-P)*(n-h)+(V-D)*(I-n)}if(!G)Q+=(q[j]-q[Y-2])*(q[j+1]+q[Y-1]);s.GC=Q<=0}for(var $=0;
$<p.length-1;$++)for(var g=$+1;g<p.length;g++){var k=p[$],b=p[g];if(b.ny.wz(k.ny)){p[$]=b;p[g]=k}}var N=p.length==0?!0:p[0].GC,L=[{e:6},{e:8,all:0}];
for(var $=0;$<p.length;$++){var s=p[$],j=s.O4,Y=j+2+s.dR*6,G=t.G.aiP(q,j,Y);if(s.dR==1)G=!1;var R=s.I7||G?0:3,i=s.GC==N&&!X?1:0;
if(!X&&$!=0){if(p[$-1].ny.wz(s.ny)&&p[$-1].GC!=s.GC)i=0;for(var g=0;g<p.length;g++)if(g!=$&&p[g].ny.wz(s.ny))i=0}L.push({e:R,length:s.dR+(G?0:1),li:J?0:i,h8:2});
for(var g=0;g<s.dR;g++){var T=j+g*6,v=new es(q[T],q[T+1]),E=new es(q[T+2],q[T+3]),u;if(g==0){if(G){u=new es(q[Y-4],q[Y-3]);
if(es.Yq(u,v)<1e-5)u=v.Q()}else u=v.Q()}else u=new es(q[T-2],q[T-1]);L.push({e:R+2,vX:u,Z:v,vJ:E})}if(!G){var C=new es(q[Y-2],q[Y-1]);
L.push({e:R+2,vX:new es(q[Y-4],q[Y-3]),Z:C,vJ:C.Q()})}}for(var g=0;g<L.length;g++){var l=L[g];if(l.e>5||l.e==0||l.e==3)continue;
var x=l.vX.w6(l.Z)||l.vJ.w6(l.vJ);if(!x){var k=l.vX.x*(l.Z.y-l.vJ.y)+l.Z.x*(l.vJ.y-l.vX.y)+l.vJ.x*(l.vX.y-l.Z.y);
if(Math.abs(k)<1e-6)x=!0}if(x)l.e--}return L};t.G.WN=function(M,X){var J=t.I.Qa(M),q=[];for(var $=2;
$<M.length;$++){var W=M[$].li;if(W!=null){if(W==2||W==0||W==3||W==-1)q.push(W)}}var T=q.length!=0;if((T||X)&&M.length<5e3&&1<J&&J<200)M=t.I.HP(M);
var _=t.G.BM(M);return{zm:_,uF:T?1:0}};t.G.BM=function(){function M(q,W,T,_){if(_!=2&&q.vJ.w6(q.Z)&&W.vX.w6(W.Z)){T.d.push(W.Z.x,W.Z.y);
T.C6.push("L")}else{var m=q.Z,d=q.vJ,A=W.vX,p=W.Z,a=3/2*d.x-1/2*m.x,f=3/2*d.y-1/2*m.y,s=3/2*A.x-1/2*p.x,j=3/2*A.y-1/2*p.y,Y=s-a,G=j-f;
if(_==0&&Y*Y+G*G<.001){T.d.push((a+s)*.5,(f+j)*.5,p.x,p.y);T.C6.push("Q")}else{T.d.push(d.x,d.y,A.x,A.y,p.x,p.y);
T.C6.push("C")}}}function X(q,W,$,T,_,m){var d=W[$];q.d.push(d.Z.x,d.Z.y);q.C6.push("M");for(var A=$;
A<$+T-1;A++)M(W[A],W[A+1],q,m);if(!_)M(W[A],W[$],q,m)}function J(q,W){if(W==null)W=0;var T={d:[],C6:[]};
for(var $=0;$<q.length;$++){if(q[$].e>5)continue;var _=q[$].length;if(_==0)continue;if($==q.length-1)break;
var m=q[$].e==3;X(T,q,$+1,_,m,W);if(!m)T.C6.push("Z");$+=_}return T}return J}();t.G.a0N=function(M){var X=M.d,J=[],q,W=0;
for(var $=0;$<M.C6.length;$++){var T=M.C6[$];if(T=="C"){q.push(X[W++],X[W++],X[W++],X[W++],X[W++],X[W++])}else if(T=="Z"){}else{q=[];
if(T!="M"){q.push(T);$++}q.push(X[W++],X[W++]);J.push(q)}}return J};t.G.aG=function(M,X,J,q){if(q==null)q=1e9;
var W=1e9,T=0;for(var $=0;$<M.length;$+=2){var _=X-M[$],m=J-M[$+1],d=_*_+m*m;if(d<W){W=d;T=$>>>1}}return W<q*q?T:-1};
t.G.ah$=function(M,X,J,q){for(var $=0;$<M.length;$+=2){var W=M[$],T=M[$+1],_=X[$],m=X[$+1];J[$]=W+(_-W)*q;
J[$+1]=T+(m-T)*q}};t.G.u=function(M,X,J){for(var $=0;$<M.length;$+=2){var q=M[$],W=M[$+1];J[$]=q*X.Jm+W*X.br+X._f;
J[$+1]=q*X.g+W*X.Bi+X.Ey}};t.G.Cs=function(M,X,J){if(X==null)X=0;if(J==null)J=M.length;var q=99999999999,W=-q,T=99999999999,_=-T;
for(var $=X;$<J;$+=2){var m=M[$],d=M[$+1];q=Math.min(q,m);T=Math.min(T,d);W=Math.max(W,m);_=Math.max(_,d)}return new gc(q,T,W-q,_-T)};
t.G.aoQ=function(M,X){var J=Math.max(X.x,Math.min(X.x+X.r,M.x)),q=Math.max(X.y,Math.min(X.y+X.$,M.y)),W=M.x-J,T=M.y-q;
return Math.sqrt(W*W+T*T)};t.G.JE=function(M,X){var J=Math.floor,q=Math.ceil;if(X){J=Math.ceil;q=Math.floor}var W=J(M.x),T=q(M.x+M.r),_=J(M.y),m=q(M.y+M.$);
return new gc(W,_,T-W,m-_)};t.G.Oi=function(M,X){return t.G.JE(t.G.Cs(M),X)};t.G.mP=function(M,X){var J=M.x,q=M.y,W=M.x+M.r,T=M.y+M.$,_=[J,q,W,q,W,T,J,T];
if(X){var m=X.Q();m.vN();t.G.u(_,m,_)}return{C6:["M","L","L","L","Z"],d:_}};t.G.concat=function(M,X,J){if(J==null)J=new kp;
for(var $=0;$<X.d.length;$+=2){var q=X.d[$],W=X.d[$+1];M.d.push(q*J.Jm+W*J.br+J._f);M.d.push(q*J.g+W*J.Bi+J.Ey)}for(var $=0;
$<X.C6.length;$++)M.C6.push(X.C6[$])};t.G.reverse=function(M){var X=M.C6.slice(1),J=X.pop();if(J!="Z")X.push(J);
X.reverse();X=["M"].concat(X);if(J=="Z")X.push("Z");var q=[],W=M.d.length;for(var T=0;T<W;T+=2){q[T]=M.d[W-2-T];
q[T+1]=M.d[W-2-T+1]}return{d:q,C6:X}};t.G.a4B=function(M,X,J,q,W){function T(f,s,j){return new es(f.x*(1-j)+s.x*j,f.y*(1-j)+s.y*j)}var _=T(M,X,W),m=T(J,q,W),d=T(X,J,W),A=T(_,d,W),p=T(d,m,W),a=T(A,p,W);
return[_,A,a,p,m]};t.G.qG=function(M){var X=M.d,J=[],q=[],W=0,T=0,_=0,m=0,d=0,A=0,p=0,a=0,f=0,s=0,j=0;
for(var $=0;$<M.C6.length;$++){var Y=M.C6[$];if(Y=="M"){T=X[W];_=X[W+1];W+=2;q.push(Y);J.push(T,_);s=T;
j=_}else if(Y=="C"){m=X[W];d=X[W+1];A=X[W+2];p=X[W+3];a=X[W+4];f=X[W+5];W+=6;q.push(Y);J.push(m,d,A,p,a,f);
T=a;_=f}else if(Y=="Q"){m=X[W];d=X[W+1];A=X[W+2];p=X[W+3];W+=4;var G=m-T,Q=d-_,Z=A-m,g=p-d;q.push("C");
J.push(T+2/3*G,_+2/3*Q,m+1/3*Z,d+1/3*g,A,p);T=A;_=p}else if(Y=="L"){m=X[W];d=X[W+1];W+=2;if(m!=T||d!=_){q.push("C");
J.push(T,_,m,d,m,d);T=m;_=d}}else{if(Y=="Z"){T=s;_=j}q.push(Y)}}return{C6:q,d:J}};t.G.a2G=function(M){var X=M.d,J=[],q=[],W=0;
for(var $=0;$<M.C6.length;$++){var T=M.C6[$];if(T=="Q"){var _=X[W-2],m=X[W-1],d=X[W],A=X[W+1],p=X[W+2],a=X[W+3];
W+=4;var f=d-_,s=A-m,j=p-d,Y=a-A;q.push("C");J.push(_+2/3*f,m+2/3*s,d+1/3*j,A+1/3*Y,p,a)}else{var G=0;
if(T=="M"||T=="L")G=2;else if(T=="C")G=6;for(var Q=0;Q<G;Q++)J.push(X[W+Q]);W+=G;q.push(T)}}return{C6:q,d:J}};
t.G.yI=function(M,X){var J=M.d,q=[],W=[],T=0,_=0,m=0,d=0,A=0,p=0,a=0,f=0,s=0;for(var $=0;$<M.C6.length;
$++){var j=M.C6[$];if(j=="M"){_=J[T];m=J[T+1];T+=2;W.push(j);q.push(_,m)}else if(j=="C"){d=J[T];A=J[T+1];
p=J[T+2];a=J[T+3];f=J[T+4];s=J[T+5];T+=6;t.G.me(_,m,d,A,p,a,f,s,X,W,q,0);_=f;m=s}else W.push(j)}return{C6:W,d:q}};
t.G.me=function(M,X,J,q,W,T,_,m,d,A,p,a){var f=Math.sqrt((_-M)*(_-M)+(m-X)*(m-X)),s=Math.sqrt((_-W)*(_-W)+(m-T)*(m-T))+Math.sqrt((W-J)*(W-J)+(T-q)*(T-q))+Math.sqrt((J-M)*(J-M)+(q-X)*(q-X)),j=(f+s)/2;
if(j<=d){A.push("C");p.push(J,q,W,T,_,m)}else{var Y=0,G=0,Q=0,Z=0,g=0,S=0,U=0,B=0,e=0,P=0,h=0,V=0,I=0;
G=(M+J)/2;Q=(X+q)/2;Z=(J+W)/2;g=(q+T)/2;S=(W+_)/2;U=(T+m)/2;B=(G+Z)/2;e=(Q+g)/2;P=(Z+S)/2;h=(g+U)/2;
V=(B+P)/2;I=(e+h)/2;t.G.me(M,X,G,Q,B,e,V,I,d,A,p,a+1);t.G.me(V,I,P,h,S,U,_,m,d,A,p,a+1)}};t.G.lO=function(M,X,J,q,W){var T=Date.now(),_=t.G.ain(M,X,J);
if(W){console.log("trace polygons",Date.now()-T);T=Date.now()}var m=[];for(var $=0;$<_.length;$++){var d=_[$],A=d[0],p=["M"],a=M[A[1]*X+A[0]];
if(A.length>8)A=t.G.atq(A,q,d[1]);if(A.length<=4)continue;for(var f=2;f<A.length;f+=2)p.push("L");p.push("Z");
m.push({path:{d:A,C6:p},color:a,parent:-1,ny:t.G.Cs(A)})}if(W){console.log("simplify polygons",Date.now()-T);
T=Date.now()}for(var $=1;$<m.length;$++){var s=m[$],j=s.path.d,Y=j[0],G=j[1],Q=j[2],Z=j[3],g=Q-Y,S=Z-G,U=Y+.5*g-.001*S,B=G+.5*S+.001*g;
for(var f=$-1;f>=0;f--){var e=m[f];if(!e.ny.wz(s.ny))continue;if(!bX.UZ(e.path.d,U,B))continue;s.parent=f;
break}}if(W){console.log("checking parents",Date.now()-T);T=Date.now()}return m};t.G.ain=function(M,X,J){var q=X*J,W=new Uint16Array(X*J),_=0;
for(var $=0;$<q;$++)W[$]=M[$];var T=new Uint8Array(X*J);T[1*X+1]=T[(J-1)*X+1]=T[1*X+X-1]=T[(J-1)*X+X-1]=1;
for(var m=1;m<J;m++)for(var d=1;d<X;d++){var $=m*X+d,A=W[$-X-1],p=W[$-X],a=W[$-1],f=W[$],s=A==f&&p==a&&A!=p,j=0;
if(f<a){_=f;f=a;a=_}if(a<p){_=a;a=p;p=_}if(p<A){_=p;p=A;A=_}if(f<a){_=f;f=a;a=_}if(a<p){_=a;a=p;p=_}if(f<a){_=f;
f=a;a=_}if(A!=p)j++;if(p!=a)j++;if(a!=f)j++;if(f!=A)j++;if(j>=3||s)T[$]=1}var Y=[];for(var m=1;m<J;m++)for(var d=1;
d<X;d++){var $=m*X+d;if(W[$]!=W[$-1]){var G=t.G.aIk(W,X,J,d,m),Q=[];for(var Z=0;Z<G.length;Z+=2)if(T[G[Z+1]*X+G[Z]]==1)Q.push(Z>>>1);
Y.push([G,Q]);t.G.Dd(W,X,J,d,m)}}return Y};t.G.Dd=function(M,X,J,q,W){var T=[W*X+q],_=M[W*X+q];M[W*X+q]=65535;
while(T.length!=0){var $=T.pop();M[$]=0;if(M[$+X]==_){T.push($+X);M[$+X]=65535}if(M[$-X]==_){T.push($-X);
M[$-X]=65535}if(M[$-1]==_){T.push($-1);M[$-1]=65535}if(M[$+1]==_){T.push($+1);M[$+1]=65535}}};t.G.aIk=function(M,X,J,q,W){var T=[0,-1,1,0,0,1,-1,0],p=1;
function _(f,s,p){var $=A*X+d,j=0;if(p==0)j=$-X;else if(p==1)j=$;else if(p==2)j=$-1;else if(p==3)j=$-X-1;
return M[j]}var m=[],d=q,A=W,a=_(d,A,p);do{m.push(d,A);d+=T[p*2];A+=T[p*2+1];if(_(d,A,p)!=a)p=p+1&3;
else if(_(d,A,p+3&3)!=a)p=p;else if(_(d,A,p+2&3)!=a)p=p+3&3}while(d!=q||A!=W);return m};t.G.atq=function(M,X,J){if(X==null||X==0)return M;
var q=M.length-2;if(J&&J.length!=0){var W=J[0]*2,T=J[J.length-1]*2,_=W==0?q:W-2,m=M.slice(T);for(var $=0;
$<W;$++)m.push(M[$]);if(W==T)m.push(.9*M[W]+.1*M[_],.9*M[W+1]+.1*M[_+1]);else m.push(M[W],M[W+1]);m=t.G.zi(m,X);
m.pop();m.pop();for(var $=0;$<J.length-1;$++){var d=M.slice(J[$]*2,J[$+1]*2+2);d=t.G.zi(d,X);for(var A=0;
A<d.length-2;A++)m.push(d[A])}return m}var p=M.slice(0);p.push(.9*M[0]+.1*M[q],.9*M[1]+.1*M[q+1]);p=t.G.zi(p,X);
p.pop();p.pop();return p};t.G.zi=function(M,X){var J=M.length-2,q=M[0],W=M[1],T=M[J],_=M[J+1],m=T-q,d=_-W,A=1/Math.sqrt(m*m+d*d),p=T*W-_*q,a=-1,f=-1,s=0;
for(var $=2;$<J;$+=2){var j=M[$],Y=M[$+1],G=Y*Y*1e6+j*j,Q=Math.abs(d*j-m*Y+p)*A;if(Q>f||Q==f&&G>s){f=Q;
a=$;s=G}}if(f<X)return[q,W,T,_];var Z=t.G.zi(M.slice(0,a+2),X),g=t.G.zi(M.slice(a),X);for(var $=2;$<g.length;
$++)Z.push(g[$]);return Z};t.G.a4Y=function(){var M=function(q,W,T,_,m,d){return(W-_)*(m-T)+(T-q)*(d-_)>=0},X=function(q,W,T,_,m,d,A,p){var a=A-T,f=p-_,s=m-T,j=d-_,Y=q-T,G=W-_,Q=a*a+f*f,Z=a*s+f*j,g=a*Y+f*G,S=s*s+j*j,U=s*Y+j*G,B=1/(Q*S-Z*Z),e=(S*g-Z*U)*B,P=(Q*U-Z*g)*B;
return e>=0&&P>=0&&e+P<1},J=function(q){var jX=q.length>>>1,$=0;if(jX<3)return[];var W=[],T=[];for(var $=0;
$<jX;$++)T.push($);var _=jX;while(_>3){var m=T[($+0)%_],d=T[($+1)%_],A=T[($+2)%_],p=q[2*m],a=q[2*m+1],f=q[2*d],s=q[2*d+1],j=q[2*A],Y=q[2*A+1],G=!1;
if(M(p,a,f,s,j,Y)){G=!0;for(var Q=0;Q<_;Q++){var Z=T[Q];if(Z==m||Z==d||Z==A)continue;if(X(q[2*Z],q[2*Z+1],p,a,f,s,j,Y)){G=!1;
break}}}if(G){W.push(m,d,A);T.splice(($+1)%_,1);_--;$=0}else if($++>3*_)break}W.push(T[0],T[1],T[2]);
return W};return J}();t.G.aG5=function(M,X){var J={},q={C6:[],d:[]};for(var $=0;$<X.length;$+=3){var W=X[$]*2,T=X[$+1]*2,_=X[$+2]*2;
t.G.M8(M,W,T,q,J);t.G.M8(M,W,_,q,J);t.G.M8(M,T,_,q,J)}return q};t.G.M8=function(M,X,J,q,W){if(X>J){var T=J;
J=X;X=T}if(W[X+","+J])return;W[X+","+J]=!0;q.C6.push("M","L");q.d.push(M[X],M[X+1],M[J],M[J+1])};t.G.a7Q=function(M,X){var J=[],q=M.length;
for(var $=0;$<q;$+=2){var W=M[$],T=M[$+1],_=M[($+2)%q],m=M[($+3)%q];if(m<T){var d=T;T=m;m=d}if(T<X&&X<m){var A=(X-T)/(m-T);
J.push(W+A*(_-W))}}J.sort(function(p,a){return p-a});return J};t.G.a4I=function(M,X,J,q,W,T,_){var m=M-J,d=X-q,A=W-J,p=T-q,a=1/Math.sqrt(m*m+d*d),f=1/Math.sqrt(A*A+p*p),s=m*a,j=d*a,Y=A*f,G=p*f,Q=j*_,Z=-s*_,g=-G*_,S=Y*_,U=t.G.n5(Q,Z,s,j,g,S,Y,G),B=Q+s*U,e=Z+j*U,U=t.G.n5(0,0,s,j,B,e,-j,s),P=s*U,h=j*U;
return[Math.sqrt(P*P+h*h),s,j,Y,G]};t.G.aBD=function(M,X,J,q,W,T,_){var m=t.G.a4I(M,X,J,q,W,T,_),d=m[0],A=m[1],p=m[2],a=m[3],f=m[4],s=Math.atan2(A*f-p*a,A*a+p*f);
if(s<0){s=s*-1}var j=Math.PI-s,Y=4/3*Math.tan(j/4),G=J+d*A,Q=q+d*p,Z=J+d*a,g=q+d*f,S=G+Y*_*-A,U=Q+Y*_*-p,B=Z+Y*_*-a,e=g+Y*_*-f;
return[0,0,G,Q,S,U,B,e,Z,g]};t.G.n5=function(M,X,J,q,W,T,_,m){var d=_*(X-T)-m*(M-W),A=m*J-_*q;if(A==0)return 0;
return d/A};t.G.qZ=function(M,X,J,q,W,T){return M*(q-T)+J*(T-X)+W*(X-q)};t.G.a0f=function(M){function X(D,n,k,b,N,L,R,i,v){var E=t.G.n5(D,n,k,b,N,L,R,i);
v.push(D+k*E,n+b*E)}var J=[],q=M.length,W=[];for(var $=0;$<q;$+=2){var T=$==0?q-2:$-2,_=$==q-2?0:$+2,m=M[$],d=M[$+1],A=m-M[T],p=d-M[T+1],a=M[_]-m,f=M[_+1]-d,s=Math.sqrt(A*A+p*p),j=Math.sqrt(a*a+f*f);
W.push(j);var Y=s/(s+j),G=m-A*.5,Q=d-p*.5,Z=m+a*.5,g=d+f*.5,S=(M[_]+M[T])*.5,U=(M[_+1]+M[T+1])*.5,B=G+Y*(Z-G),e=Q+Y*(g-Q),P=m-B,h=d-e,V=(a*-A+f*-p)/(s*j),I=(Y-.5)*7,F=1+I*Y,c=1-I*(1-Y);
J.push(G+P*F,Q+h*F,Z+P*c,g+h*c)}return J};t.T6=function(){};t.T6.MN=function(M,X,J,q,W){var T=J.r,_=J.$,m=T*_,d=new Int32Array(m),jX=0;
for(var $=0;$<m;$++)if(X[$]!=0){d[$]=jX;jX++}else if(M[($<<2)+3]<200){d[$]=-2}else d[$]=-1;if(jX==0)return;
var A=new t.aV(jX,jX),p=new Array(3*jX),a=new Array(3*jX);for(var $=0;$<a.length;$++)a[$]=p[$]=0;var f=1/255,s=[-T,-1,1,T],j=[],Y=[];
for(var G=0;G<_;G++)for(var Q=0;Q<T;Q++){var Z=G*T+Q,g=Z<<2,$=d[Z],S=$*3,U=0,B=0,e=0;if($==-1||$==-2)continue;
for(var P=0;P<4;P++){if(P==2){B=e;j[e]=0;Y[e]=$;e++}var h=Z+s[P],V=h<<2,I=d[h];if(P==0&&G==0||P==1&&Q==0||P==2&&Q==T-1||P==3&&G==_-1||I==-2)continue;
U++;if(I==-1){p[S+0]+=M[V+0];p[S+1]+=M[V+1];p[S+2]+=M[V+2]}else{j[e]=-1;Y[e]=I;e++;if(X[Z]==X[h]){p[S+0]+=M[g+0]-M[V+0];
p[S+1]+=M[g+1]-M[V+1];p[S+2]+=M[g+2]-M[V+2]}}}j[B]=U;A.Pw(j,Y,e)}for(var $=0;$<m;$++)if(d[$]!=-1){var F=$<<2,c=d[$],D=c*3;
a[D]=M[F+0];a[D+1]=M[F+1];a[D+2]=M[F+2]}var n=Date.now();A.a1$(a,p,q,W);console.log(Date.now()-n);for(var $=0;
$<m;$++){var c=d[$],k=c*3,F=$<<2;if(c==-1||M[F+3]!=255)continue;M[F+0]=~~(.5+Math.max(0,Math.min(255,a[k+0])));
M[F+1]=~~(.5+Math.max(0,Math.min(255,a[k+1])));M[F+2]=~~(.5+Math.max(0,Math.min(255,a[k+2])))}};t.S={};
t.S.ahM=function(M,X){var J=[M],q=[];for(var $=0;$<X.length;$++){var W=X[$],T=!1;for(var _=$+1;_<X.length;
_++){var m=X[_];if(m[0]<=W[0]&&m[1]<=W[1]&&W[2]<=m[2]&&W[3]<=m[3]){T=!0;break}}if(!T)q.push(W)}X=q;for(var $=0;
$<X.length;$++){var W=X[$];for(var _=0;_<J.length;_++){var m=J[_],d=Math.max(W[0],m[0]),A=Math.min(W[2],m[2]),p=Math.max(W[1],m[1]),a=Math.min(W[3],m[3]);
if(d<A&&p<a){var f=[];if(m[1]<W[1]){var s=m.slice(0);s[3]=W[1];f.push(s)}if(m[0]<W[0]){var j=m.slice(0);
j[1]=p;j[2]=W[0];f.push(j)}if(W[2]<m[2]){var Y=m.slice(0);Y[1]=p;Y[0]=W[2];f.push(Y)}if(W[3]<m[3]){var G=[d,a,A,m[3]];
f.push(G)}if(f.length!=0){J[_]=f[0];for(var Q=1;Q<f.length;Q++)J.push(f[Q])}}}J.push(W);J=t.S.a6R(J)}J.sort(function(W,m){return W[1]!=m[1]?W[1]-m[1]:W[0]-m[0]});
for(var $=1;$<J.length;$++){var W=J[$-1],m=J[$];if(W[0]==m[0]&&W[1]==m[1]&&W[2]==m[2]&&W[3]==m[3]){J.splice(W[4]==null?$-1:$,1);
$--}}return J};t.S.a6R=function(M){M=M.slice(0);for(var $=0;$<M.length;$++){var X=M[$],J=null;if(X[4]!=null)continue;
for(var q=0;q<M.length;q++){var W=M[q];if($==q||W[4]!=null)continue;var T=X[0]==W[0],_=X[1]==W[1],m=X[2]==W[2],d=X[3]==W[3];
if(_&&d&&(X[2]==W[0]||X[0]==W[2])){J=[Math.min(X[0],W[0]),X[1],Math.max(X[2],W[2]),X[3]]}if(T&&m&&(X[3]==W[1]||X[1]==W[3])){J=[X[0],Math.min(X[1],W[1]),X[2],Math.max(X[3],W[3])]}if(J){M[$]=J;
M.splice(q,1);break}}if(J){$--}}return M};t.S.dF=function(M){var X=new gc;for(var $=0;$<M.length;$++)X=X.m0(M[$]);
return X};t.S.avC=function(M,X){var J=t.S.dF,q=new UnionFind(M.length),B=1e3,e=1e3;for(var $=0;$<M.length;
$++)for(var W=$+1;W<M.length;W++){if(!X)continue;var T=M[$],_=M[W],a=1e9,f=1e9;if(T.B8(_)){q.link($,W);
continue}var m=T.x+T.r,d=T.y+T.$,A=_.x+_.r,p=_.y+_.$;if((m<_.x||A<T.x)&&(d<_.y||p<T.y))continue;if(!(d<_.y||p<T.y))a=Math.min(Math.abs(m-_.x),Math.abs(T.x-A));
if(!(m<_.x||A<T.x))f=Math.min(Math.abs(d-_.y),Math.abs(T.y-p));var s=Math.min(a,f),j=Math.min(T.r,T.$,_.r,_.$);
if(s<.3*j)q.link($,W)}var Y=[],G={};for(var $=0;$<M.length;$++){var Q=q.find($),Z=M[$];if(G[Q]==null){G[Q]=Y.length;
Y.push([])}Y[G[Q]].push(Z)}var g=[],S=[];for(var $=0;$<Y.length;$++){g.push(J(Y[$]));var U=J(Y[$]);U.WK=$;
S.push(U)}S.sort(function(b,N){return Math.max(N.$,N.r)-Math.max(b.$,b.r)});var P=new NETXUS.RectanglePacker(B,e);
while(!0){var h=!1;P.reset(B,e);for(var $=0;$<S.length;$++){var V=P.findCoords(S[$].r,S[$].$);if(V){S[$].x=V.x;
S[$].y=V.y}else{B=Math.floor(B*1.1);e=Math.floor(e*1.1);h=!0;break}}if(h)continue;break}for(var $=0;
$<Y.length;$++){var I=S[$],F=I.WK,c=g[F],D=Y[F],n=I.x-c.x,k=I.y-c.y;for(var W=0;W<D.length;W++)D[W].offset(n,k)}};
t.S.aCk=function(M){var X=[],J=[],q=function(U,B){return U-B};for(var $=0;$<M.length;$++){var W=M[$];
if(X.indexOf(W[0])==-1)X.push(W[0]);if(X.indexOf(W[2])==-1)X.push(W[2]);if(J.indexOf(W[1])==-1)J.push(W[1]);
if(J.indexOf(W[3])==-1)J.push(W[3])}X.sort(q);J.sort(q);X.push(X[X.length-1]+1);J.push(J[J.length-1]+1);
var T=[],_=X.length-1,m=J.length-1;for(var d=0;d<m;d++){var A=[];T.push(A);for(var p=0;p<_;p++){var a=X[p],f=X[p+1],s=J[d],j=J[d+1],Y=(a+f)/2,G=(s+j)/2,Q=-1,Z=-1;
for(var $=0;$<M.length;$++){var W=M[$];if(W[0]==a&&W[1]==s)Q=$;if(W[0]<Y&&Y<W[2]&&W[1]<G&&G<W[3])Z=$}if(Q!=-1){var W=M[Q],g=1,S=1;
while(X[p+g]<W[2])g++;while(J[d+S]<W[3])S++;A.push([Q,W[2]-W[0],W[3]-W[1],g,S])}else if(Z!=-1)continue;
else A.push([-1,f-a,j-s,1,1])}}return[X.pop(),J.pop(),T]};t.S.anN=function(M,X,J,q){var W=t.S.aCk(M),T=["<table id=\"Table_01\" width=\""+W[0]+"\" height=\""+W[1]+"\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">"],_=W[2];
for(var $=0;$<_.length;$++){var m=_[$];T.push("\t<tr>");for(var d=0;d<m.length;d++){var A=m[d],p=null,a="",f="",s=A[3],j=A[4],Q="";
if(A[0]!=-1){var Y=A[0],G=M[Y];if(G.length==5){p=J[G[4]].v;a=p.url.v}f="src=\""+X[Y]+"\"";if(G[4]==null&&q==2)f=""}if(s!=1)Q+=" colspan=\""+s+"\"";
if(j!=1)Q+=" rowspan=\""+j+"\"";T.push("\t\t<td"+Q+">");if(a!="")T.push("\t\t\t<a href=\""+a+"\" target=\""+p.null.v+"\">");
T.push((a==""?"":"\t")+"\t\t\t<img "+f+" width=\""+A[1]+"\" height=\""+A[2]+"\" alt=\""+(p?p.altTag.v:"")+"\"></td>"+(a==""?"":"</a>"))}if($==_.length-1){T.pop();
T.pop();T.push("\t\t<td></td>")}T.push("\t</tr>")}T.push("</table>");return T.join("\n")};t.gk=function(){};
t.gk.ZZ=Math.floor(16*window.devicePixelRatio);t.gk.lC={};t.gk.YI=0;t.gk.vZ=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
t.gk.adw=["px","in","cm","mm","%"];t.gk.Bw=function(M,X,J,q){var W=[1,X,X/2.54,X/25.4,J/100][q];return M*W};
t.gk.jC=function(M,X,J,q){var W=[1,X,X/2.54,X/25.4,J/100][q];return M/W};t.gk.KG=function(M,X,J,q,W){var T=J.QQ.EI,_=[1,X,X/2.54,X/25.4,q/100][T],m=[2,3,2,1,2][T];
M=M/_;var d=Math.round(M),A=T==0&&Math.abs(M-d)<1e-6?d+"":M.toFixed(m);if(W)A+=" "+t.gk.adw[T];return A};
t.gk.aos=function(M,X,J,q){var W=J.QQ.EI,T=[1,X,X/2.54,X/25.4,q/100][W];M=parseFloat(M)*T;return M};
t.gk.a3y=function(M,X){var J=M+","+X;if(t.gk.lC.clr==J)return;var q=Math.round(t.gk.ZZ*.5);t.gk.YI=q;
var W=t.mt(q,q);W.save();W.font=q*1.5+"px monospace";var T="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var $=0;
$<T.length;$++){W.fillStyle="#"+t.NZ(X);W.fillRect(0,0,q,q);W.fillStyle="#"+t.NZ(M);W.fillText(T[$],0,q);
t.gk.lC[T[$]]=new Uint8Array(W.getImageData(0,0,q,q).data.buffer)}t.gk.lC.clr=J;W.restore()};t.gk.ahk=function(M,X,J,q){var W=0,T=0,_=4*t.gk.ZZ;
for(var $=9;$>=0;$--){var m=Math.pow(10,$);if(5*m*M<=_){W=5*m;T=10;break}if(2*m*M<=_){W=2*m;T=4;break}if(1*m*M<=_){W=1*m;
T=q;break}}if(W==0){W=1;T=q}var d=Math.ceil(W*M),A=t.j(d*t.gk.ZZ*4);t.Tb(A,4278190080|J);for(var $=0;
$<t.gk.ZZ;$++)t.gk.hz(A,4*$*d,X);for(var $=0;$<d;$++)t.gk.hz(A,4*((t.gk.ZZ-1)*d+$),X);if(W==2)T=2;if(W==5)T=5;
if(W>1||W==1&&d>20)for(var $=1;$<T;$++)t.gk.aq6(A,$*(d/T),d,($&1)==1?.8:.7,X);return{J_:A,step:W}};t.gk.aq6=function(M,X,J,q,W){var X=Math.round(X);
for(var T=Math.round(t.gk.ZZ*q);T<t.gk.ZZ-1;T++)t.gk.hz(M,4*(T*J+X),W)};t.gk.hz=function(M,X,J){M[X+0]=J>>16&255;
M[X+1]=J>>8&255;M[X+2]=J&255};t.gk.am2=function(M,X,J,q,W,T,_,m){var d=M.dy.r,A=M.dy.$,p=t.gk.ZZ,a=X&255,f=X>>8&255,s=X>>16&255;
X=Math.round(a*.6)<<16|Math.round(f*.6)<<8|Math.round(s*.6);t.gk.a3y(Math.round(a*.8)<<16|Math.round(f*.8)<<8|Math.round(s*.8),J);
var j=M.r7,Y=M.s,G=M.Ow;for(var Q=0;Q<2;Q++){var Z=Q==0?T:_;M.r7=Z[0];M.s=Z[1];M.Ow=0;var g=this.ahk(M.r7,X,J,m),S=M.Ob(0,0),U=M.Ob(d,A),B=Math.floor(S.x/g.step)*g.step,e=Math.ceil(U.x/g.step)*g.step,P=Math.floor(S.y/g.step)*g.step,h=Math.ceil(U.y/g.step)*g.step,V=M.fT(B,P),I=M.fT(e,P),F=g.step*M.r7,c=Math.ceil(F);
if(Q==1){var D=g.J_;g.J_=t.j(D.length*4);t.t.jJ(D,g.J_,c,p)}var n=Q==0?M.Xq.data:M.Mg.data,k=new gc(0,0,[d,p][Q],[p,A][Q]),b=new gc(0,0,[c,p][Q],[p,c][Q]),N=new gc([0,Math.round(p*.2)][Q],[Math.round(p*.08),0][Q],t.gk.YI,t.gk.YI),L=(Q==0?e-B:h-P)/g.step;
for(var $=0;$<L;$++){if(Q==0)b.x=Math.round(V.x+$*F);else b.y=Math.round(V.y+$*F);t.fA(g.J_,b,n,k,b);
var i=(Q==0?B+$*g.step:Math.abs(P+$*g.step)).toString(10);for(var v=0;v<i.length;v++){if(Q==0)N.x=b.x+3+v*Math.round(t.gk.YI*.8);
else N.y=b.y+3+v*Math.round(t.gk.YI*1.15);var E=t.gk.lC[i[v]];t.fA(E,N,n,k,N)}}}M.r7=j;M.s=Y;M.Ow=G;
var u=Math.floor(p*.6),C=new Uint32Array(M.Xq.data.buffer),l=new Uint32Array(M.Mg.data.buffer),x=a<128?4278190080:4294967295;
if(0<q&&q<d)for(var $=0;$<u;$++)C[$*d+q]=x;if(0<W&&W<A)for(var $=0;$<u;$++)l[W*p+$]=x};t.scale={};t.scale.kX=document.createElement("canvas");
t.scale.qt=t.scale.kX.getContext("2d");t.scale.l7=function(M,X,J){var q=t.scale.kX,W=t.scale.qt;q.width=X;
q.height=J;var T=new ImageData(new Uint8ClampedArray(M.buffer),X,J);W.putImageData(T,0,0);return W.createPattern(W.canvas,"repeat")};
t.scale.aBm=function(M,X,J,q,W,T,_,m,d){var A=t.scale.anc(M,J,q,W,T,_,m,d);if(X)X.set(A);return new Uint8Array(A.buffer)};
t.scale.anc=function(M,X,J,q,W,T,_,m){var d=t.mt(X,J);d.save();d.rect(0,0,X,J);d.translate(T,_);d.scale(q,W);
if(m!=null)d.rotate(-m);d.fillStyle=M;d.fill();d.restore();return new Uint8Array(d.getImageData(0,0,X,J).data.buffer)};
t.scale.u=function(M,X,J,q,W){var T=t.qP(M),_=J.g==0&&J.br==0,m=W.r,d=W.$,A=t.G.mP(X,J).d,p=t.G.Oi(A,_).Lg(W),a=p.x,f=p.y,s=a+p.r,j=f+p.$,Y=~~X.x,G=~~X.y,Q=~~X.r,Z=~~X.$;
if(_)for(var g=f;g<j;g++){var S=J.Bi*(g+.5)+J.Ey-G,U=~~S*Q;for(var B=a;B<s;B++){var e=J.Jm*(B+.5)+J._f-Y,$=U+~~e;
if(T==8)q[g*m+B]=M[$];else if(T==16)q[g*m+B]=M[$]>>>8;else q[g*m+B]=M[$]*255}}else for(var g=f;g<j;g++)for(var B=a;
B<s;B++){var P=B+.5,h=g+.5,e=J.Jm*P+J.br*h+J._f-Y,S=J.g*P+J.Bi*h+J.Ey-G;if(0<=e&&0<=S&&e<Q&&S<Z){var $=~~S*Q+~~e;
if(T==8)q[g*m+B]=M[$];else if(T==16)q[g*m+B]=M[$]>>>8;else q[g*m+B]=M[$]*255}}};t.scale.B4=function(M,X,J,q,W,T){var _=t.qP(M),m=new Uint32Array(M.buffer),d=new Uint32Array(q.buffer),A=W.r,p=W.$,a=t.G.mP(X,J).d,f=T?W:t.G.Oi(a).Lg(W),s=f.x,j=f.y,Y=s+f.r,G=j+f.$,Q=~~X.x,Z=~~X.y,g=~~X.r,S=~~X.$;
J=J.Q();J.translate(-Q,-Z);var U=J.y8(new es(1,0)).d7(J.y8(new es(0,0))),B=U.x,e=U.y;for(var P=j;P<G;
P++){var h=J.y8(new es(s+.5,P+.5)),V=h.x,I=h.y,F=(P-W.y)*A+s-W.x;for(var c=s;c<Y;c++){if(T){V=((g<<10)+V)%g;
I=((S<<10)+I)%S}if(0<=V&&0<=I&&V<g&&I<S){if(_==8)d[F]=m[~~I*g+~~V];else{var D=(~~I*g+~~V)*4,n,k,b,N;
if(_==16){n=M[D]>>>8;k=M[D+1]>>>8;b=M[D+2]>>>8;N=M[D+3]>>>8}else{n=M[D]*255;k=M[D+1]*255;b=M[D+2]*255;
N=M[D+3]*255}d[F]=N<<24|b<<16|k<<8|n}}V+=B;I+=e;F++}}};t.scale.w8=function(M,X,J,q,W,T,_){if(_<1)t.scale.a6O(M,X,J,q,W,T,Math.round(1/_));
else t.scale.a7a(M,X,J,q,W,T,_)};t.scale.JY=function(M,X,J,q,W,T,_,m){if(m)m=m.Lg(new gc(0,0,X,J));M=new Uint32Array(M.buffer);
q=new Uint32Array(q.buffer);if(_<1)t.scale.ax8(M,X,J,q,W,T,Math.round(1/_),m);else t.scale.aqI(M,X,J,q,W,T,_)};
t.scale.a7a=function(M,X,J,q,W,T,_){for(var m=0;m<J;m++)for(var d=0;d<X;d++){var A=M[m*X+d],p=Math.min(_,W-d*_),a=Math.min(_,T-m*_);
for(var $=0;$<a;$++)for(var f=0;f<p;f++)q[(_*m+$)*W+_*d+f]=A}};t.scale.a6O=function(M,X,J,q,W,T,_){for(var m=0;
m<T;m++)for(var d=0;d<W;d++){var A=0,p=Math.min(_,X-d*_),a=Math.min(_,J-m*_);for(var $=0;$<a;$++)for(var f=0;
f<p;f++)A+=M[(_*m+$)*X+(_*d+f)];q[m*W+d]=Math.round(A/(p*a))}};t.scale.aqI=function(M,X,J,q,W,T,_){for(var m=0;
m<J;m++)for(var d=0;d<X;d++){var A=M[m*X+d],p=Math.min(_,W-d*_),a=Math.min(_,T-m*_);for(var $=0;$<a;
$++)for(var f=0;f<p;f++)q[(_*m+$)*W+_*d+f]=A}};t.scale.auX=function(M,X,J){return(M>>>J&255)+(X>>>J&255)>>>1};
t.scale.PA=function(M,X){var J=t.scale.auX;return J(M,X,24)<<24|J(M,X,16)<<16|J(M,X,8)<<8|J(M,X,0)};
t.scale.a6i=function(M,X,J,q,W,T){var _=t.qP(M);if(_==8){var m=new Uint32Array(M.buffer),d=new Uint32Array(q.buffer);
for(var A=0;A<J;A++){for(var p=0;p<X;p++){var a=A*X+p,f=m[a],s=f,j=f,Y=f;if(p<X-1)s=t.scale.PA(f,m[a+1]);
if(A<J-1)j=t.scale.PA(f,m[a+X]);if(p<X-1&&A<J-1)Y=t.scale.PA(f,m[a+X+1]);var G=(A*W+p)*2;d[G]=f;d[G+1]=s;
d[G+W]=j;d[G+W+1]=Y}}if((W&1)==1)for(var A=0;A<T;A++)d[A*W+W-1]=d[A*W+W-2];var Q=W*(T-1);if((T&1)==1)for(var p=0;
p<W;p++)d[Q+p]=d[Q-W+p]}else{var Z=t.scale.a6L,g=t.scale.ayM;for(var A=0;A<J;A++){for(var p=0;p<X;p++){var a=A*X+p,G=(A*W+p)*2;
Z(M,a,q,G);if(p<X-1)g(M,a,a+1,q,G+1);else Z(M,a,q,G+1);if(A<J-1)g(M,a,a+X,q,G+W);else Z(M,a,q,G+W);if(p<X-1&&A<J-1)g(M,a,a+X+1,q,G+W+1);
else Z(M,a,q,G+W+1)}}if((W&1)==1)for(var A=0;A<T;A++)Z(q,A*W+W-2,q,A*W+W-1);var Q=W*(T-1);if((T&1)==1)for(var p=0;
p<W;p++)Z(q,Q-W+p,q,Q+p)}};t.scale.a6L=function(M,X,J,q){var W=X<<2,T=q<<2;J[T]=M[W];J[T+1]=M[W+1];J[T+2]=M[W+2];
J[T+3]=M[W+3]};t.scale.ayM=function(M,X,J,q,W){var T=X<<2,_=J<<2,m=W<<2;q[m]=(M[T]+M[_])*.5;q[m+1]=(M[T+1]+M[_+1])*.5;
q[m+2]=(M[T+2]+M[_+2])*.5;q[m+3]=(M[T+3]+M[_+3])*.5};t.scale.ax8=function(M,X,J,q,W,T,_,m){var d=0,A=W,p=0,a=T;
if(m){d=Math.floor(m.x/_);A=Math.ceil((m.x+m.r)/_);p=Math.floor(m.y/_);a=Math.ceil((m.y+m.$)/_)}for(var f=p;
f<a;f++)for(var s=d;s<A;s++){var j=0,Y=0,G=0,Q=0,Z=Math.min(_,X-s*_),g=Math.min(_,J-f*_);for(var $=0;
$<g;$++)for(var S=0;S<Z;S++){var U=M[(_*f+$)*X+_*s+S],B=U>>>24;j+=B;Y+=B*(U>>>16&255);G+=B*(U>>>8&255);
Q+=B*(U&255)}if(j!=0){var e=1/j;q[f*W+s]=j/(Z*g)<<24|Y*e<<16|G*e<<8|Q*e}else q[f*W+s]=0}};t.c=function(){function M(m,d,$){return(128&m[$-d-1]&m[$-d]&m[$-2]&m[$-1]&m[$+1]&m[$+d-1]&m[$+d])==0}function X(m,d,$){return(128&m[$-d-d]&m[$-d+1]&m[$+2]&m[$+d+1]&m[$+d+d])==0}function J(m,d,$){return(m[$-d]&m[$-1]&m[$+1]&m[$+d]&128)==0}function q(m,$){return(m[$]&128)!=0}function W(m,d,A,p){var $=0,a=A.r,f=A.$;
if(p)for(var s=0;s<f;s++)for(var j=0;j<a;j++){if(q(m,$)&&(j<2||s<2||j>a-3||s>f-3||((m[$-1]&128)==0||d[$-1]!=0)&&M(m,a,$)||X(m,a,$)))d[$]=255;
$++}else for(var s=0;s<f;s++)for(var j=0;j<a;j++){if(q(m,$)&&(j==0||s==0||j==a-1||s==f-1||J(m,a,$)))d[$]=255;
$++}}function T(m,d,A,p,a){var f=A.r,s=A.$,j=new Uint8Array(d.buffer),Y=new Uint32Array(d.buffer);if(a)for(var G=2;
G<s-2;G++)for(var Q=2;Q<f-2;Q++){var $=G*f+Q;if(q(m,$)&&(((m[$-1]&128)==0||Y[$-1]!=0)&&M(m,f,$)||X(m,f,$)))Y[$]=p[(Q+G&4)>>>2]}else for(var G=1;
G<s-1;G++)for(var Q=1;Q<f-1;Q++){var $=G*f+Q;if(q(m,$)&&J(m,f,$)){Y[$]=p[(Q+G&4)>>>2]}}}function _(m,d,A,p,a){var f=A.r,s=A.$,j=new Uint8Array(d.buffer),Y=new Uint32Array(d.buffer),$=0;
if(p==1)for(var G=0;G<s;G++)for(var Q=0;Q<f;Q++,$++){var Z=m[$];Y[$]=255-Z>>>1<<24|255}else for(var G=0;
G<s;G++)for(var Q=0;Q<f;Q++,$++){var Z=m[$];Y[$]=255<<24|(Z<<16|Z<<8|Z)}}return{alP:W,aFk:T,a4o:_}}();
t.w3={};t.w3.yW=function(M,X,J){var q,W;if(J==0){q=M.S.Q();W=t.w3.aEn}if(J==1){q=M.S.m0(X.S);W=t.w3.m0}if(J==2){q=X.S.Q();
W=t.w3.aAj}if(J==3){q=M.S.Lg(X.S);W=t.w3.Lg}if(J==4){q=M.S.m0(X.S);W=t.w3.acI}if(q.M5())return null;
var T=t.qP(M.N),_=t.j(q.o(),T);t.Rc(X.N,X.S,_,q);var m=t.j(q.o(),T);t.Rc(M.N,M.S,m,q);W(m,_,_);var d=t.pT(_,q);
if(d.M5())return null;if(!d.w6(q)){var A=t.j(d.o(),T);t.Rc(_,q,A,d);_=A;q=d}return{N:_,S:q}};t.w3.aEn=function(M,X,J){for(var $=0;
$<M.length;$++)J[$]=M[$]};t.w3.m0=function(M,X,J){var q=t.P0(t.qP(M));for(var $=0;$<M.length;$++)J[$]=Math.min(M[$]+X[$],q)};
t.w3.aAj=function(M,X,J){for(var $=0;$<M.length;$++)J[$]=Math.max(X[$]-M[$],0)};t.w3.Lg=function(M,X,J){var q=t.P0(t.qP(M)),W=1/q;
for(var $=0;$<M.length;$++)J[$]=M[$]*X[$]*W};t.w3.acI=function(M,X,J){var q=t.P0(t.qP(M)),W=1/q;for(var $=0;
$<M.length;$++)J[$]=Math.min(M[$]+X[$],q)-M[$]*X[$]*W};t.aV=function(M,X){this.m=[];this.vy=[0];this.e8=[];
this.gd=[];this.Fu=[0];this.ki=[];this.Ue=[];this.rows=M;this.cols=X};t.aV.prototype.Q=function(){var M=this,X=M.rows,J=M.cols,q=new t.aV(X,J);
q.m=M.m.slice(0);q.vy=M.vy.slice(0);q.e8=M.e8.slice(0);q.gd=M.gd.slice(0);q.Fu=M.Fu.slice(0);q.ki=M.ki.slice(0);
q.Ue=M.Ue.slice(0);return q};t.aV.prototype.Pw=function(M,X,J){var q=this.vy.length-1;for(var $=0;$<J;
$++){var W=M[$],T=X[$];this.m.push(W);this.e8.push(T);if(T==q){this.Ue.push(W==0?0:1/W)}else{this.gd.push(W);
this.ki.push(T)}}this.vy.push(this.m.length);this.Fu.push(this.gd.length)};t.aV.prototype.jh=function(M,X){var J=this,q=J.rows,W=J.m,T=J.e8;
if(X==null)X=new Array(q);for(var $=0;$<q;$++){var _=J.vy[$],m=J.vy[$+1],d=0;while((m-_&3)!=0){d+=W[_]*M[T[_]];
_++}for(var A=_;A<m;A+=4)d+=W[A]*M[T[A]]+W[A+1]*M[T[A+1]]+W[A+2]*M[T[A+2]]+W[A+3]*M[T[A+3]];X[$]=d}return X};
t.aV.prototype.multiply=function(M){return this.Qw(M.jJ())};t.aV.prototype.Qw=function(M){var X=this,J=X.rows,q=X.cols,W=M.rows,T=new t.aV(J,W),_=X.e8,m=M.e8;
for(var $=0;$<J;$++){var d=[],A=[],p=X.vy[$],a=X.vy[$+1];for(var f=0;f<W;f++){var s=M.vy[f],j=M.vy[f+1],Y=0,G=p,Q=s;
while(G<a&&Q<j){var Z=Math.max(_[G],m[Q]);while(G<a&&_[G]<Z)G++;while(Q<j&&m[Q]<Z)Q++;if(G<a&&Q<j&&_[G]==m[Q])Y+=X.m[G++]*M.m[Q++]}if(Y!=0){d.push(Y);
A.push(f)}}T.Pw(d,A,d.length)}return T};t.aV.prototype.jJ=function(){var M=this.rows,X=this.cols,J=[];
for(var $=0;$<X;$++)J.push([[],[]]);var q=this.m,W=this.vy,T=this.e8;for(var $=0;$<M;$++){var _=W[$],m=W[$+1];
for(var d=_;d<m;d++){var A=J[T[d]];A[0].push(q[d]);A[1].push($)}}var p=new t.aV(X,M);for(var $=0;$<X;
$++)p.Pw(J[$][0],J[$][1],J[$][1].length);return p};t.aV.prototype.a8B=function(){var M=this.rows,X=this.cols,J=new Array(M),q=this.m,W=this.vy,T=this.e8;
for(var $=0;$<M;$++){var _=J[$]=new Array(X);for(var m=0;m<X;m++)_[m]=0;var d=W[$],A=W[$+1];for(var p=d;
p<A;p++)_[T[p]]=q[p]}return J};t.aV.prototype.Kg=function(M,X,J,q,W){function T(e,X,P,h){var V=e.length;
for(var $=0;$<V;$++)h[$]=e[$]-X[$]*P}function _(e,X,P,h){var V=e.length,I=0;while((V-I&3)!=0){h[I]=e[I]+X[I]*P;
I++}for(var $=I;$<V;$+=4){h[$]=e[$]+X[$]*P;h[$+1]=e[$+1]+X[$+1]*P;h[$+2]=e[$+2]+X[$+2]*P;h[$+3]=e[$+3]+X[$+3]*P}}function m(e,X,P){var h=e.length;
for(var $=0;$<h;$++)P[$]=e[$]*X[$]}function d(e,X){var P=e.length,h=0,V=0;while((P-h&3)!=0){V+=e[h]*X[h];
h++}for(var $=h;$<P;$+=4)V+=e[$]*X[$]+e[$+1]*X[$+1]+e[$+2]*X[$+2]+e[$+3]*X[$+3];return V}var A=q!=null?2:1,p=Date.now(),a=0,f=this,s=M.slice(0),j=M.slice(0);
f.jh(M,j);T(X,j,1,s);var Y=this.Ue;if(A==0){Y=s.slice(0);Y.fill(1)}var G=s.slice(0);m(Y,s,G);var Q=G.slice(0),Z=d(s,G);
while(!0){f.jh(Q,j);var g=Z/d(Q,j);_(M,Q,g,M);T(s,j,g,s);if((a&7)==0&&Math.sqrt(d(s,s))<J)break;if(A<=1)m(Y,s,G);
else{var S=s.slice(0);q.a0G(S,s);W.axf(G,S)}var U=d(s,G),B=U/Z;_(G,Q,B,Q);Z=U;a++}};t.aV.prototype.adI=function(M,X,J,q){var W=Date.now(),T=1.96,m=0;
if(J==null)J=5e-6;if(q==null)q=1e9;var _=1-T,jX=this.rows,d=this.gd,A=this.Fu,p=this.ki,a=this.Ue;while(!0){var f=0;
for(var $=0;$<jX;$++){var s=X[$],j=A[$],Y=A[$+1];if(Y-j==4)s-=d[j]*M[p[j]]+d[j+1]*M[p[j+1]]+d[j+2]*M[p[j+2]]+d[j+3]*M[p[j+3]];
else for(var G=j;G<Y;G++)s-=d[G]*M[p[G]];var Q=M[$]*_+a[$]*s*T,Z=Q-M[$];f+=Z*Z;M[$]=Q}if(f/jX<J||Date.now()>W+q)break}};
t.aV.prototype.a1$=function(M,X,J,q){var W=Date.now(),T=1.96,m=0;if(J==null)J=5e-5;if(q==null)q=1e9;
var _=1-T,jX=this.rows,d=this.gd,A=this.Fu,p=this.ki,a=this.Ue;while(!0){var f=0;for(var $=0;$<jX;$++){var s=$*3,j=X[s],Y=X[s+1],G=X[s+2],Q=A[$],Z=A[$+1];
for(var g=Q;g<Z;g++){var S=d[g],U=p[g]*3;j-=S*M[U+0];Y-=S*M[U+1];G-=S*M[U+2]}var B=a[$]*T,e=M[s+0]*_+j*B,P=M[s+1]*_+Y*B,h=M[s+2]*_+G*B,V=e-M[s+0],I=P-M[s+1],F=h-M[s+2];
f+=.4*V*V+.5*I*I+.1*F*F;M[s+0]=e;M[s+1]=P;M[s+2]=h}if(f/jX<J||Date.now()>W+q)break}};t.pq={};t.pq.Z4=function(M,X,J){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:M},Vrtc:{t:"doub",v:X},Cnty:{t:"bool",v:J}}}};
t.pq.u=function(M,X){for(var $=0;$<M.length;$++){var J=M[$].v,q=X.y8(new es(J.Hrzn.v,J.Vrtc.v));J.Hrzn.v=Math.round(q.x);
J.Vrtc.v=Math.round(q.y)}};t.pq.ag9=function(M,X,J){var jX=M.length-1,q=t.FB.tE(jX+1,jX+2);for(var $=1;
$<jX;$++){q[$][$-1]=1/(M[$]-M[$-1]);q[$][$]=2*(1/(M[$]-M[$-1])+1/(M[$+1]-M[$]));q[$][$+1]=1/(M[$+1]-M[$]);
q[$][jX+1]=3*((X[$]-X[$-1])/((M[$]-M[$-1])*(M[$]-M[$-1]))+(X[$+1]-X[$])/((M[$+1]-M[$])*(M[$+1]-M[$])))}q[0][0]=2/(M[1]-M[0]);
q[0][1]=1/(M[1]-M[0]);q[0][jX+1]=3*(X[1]-X[0])/((M[1]-M[0])*(M[1]-M[0]));q[jX][jX-1]=1/(M[jX]-M[jX-1]);
q[jX][jX]=2/(M[jX]-M[jX-1]);q[jX][jX+1]=3*(X[jX]-X[jX-1])/((M[jX]-M[jX-1])*(M[jX]-M[jX-1]));t.FB.mH(q,J)};
t.pq.apY=function(M,X,J,q){if(M<=X[0])return J[0];if(M>=X[X.length-1])return J[X.length-1];var $=1;while(X[$]<M)$++;
var W=X[$],T=X[$-1],_=J[$],m=J[$-1],d=(M-T)/(W-T),A=q[$-1]*(W-T)-(_-m),p=-q[$]*(W-T)+(_-m),a=(1-d)*m+d*_+d*(1-d)*(A*(1-d)+p*d);
return a};t.pq.ahs=function(M,X,J,q){var W={kP:[M[0]],A2:[X[0]],Ti:[]};q[0]=W;for(var $=1;$<M.length-1;
$++){W.kP.push(M[$]);W.A2.push(X[$]);if(J[$]==!1){t.pq.ag9(W.kP,W.A2,W.Ti);W={kP:[M[$]],A2:[X[$]],Ti:[]}}q[$]=W}W.kP.push(M[$]);
W.A2.push(X[$]);t.pq.ag9(W.kP,W.A2,W.Ti);q[$]=W};t.pq.a7d=function(M,X,J,q){if(M<=X[0])return J[0];if(M>=X[X.length-1])return J[X.length-1];
var $=1;while(X[$]<M)$++;var W=q[$-1];return t.pq.apY(M,W.kP,W.A2,W.Ti)};t.pq.ajp=function(M){var X={kP:[],A2:[],ei:[]};
for(var $=0;$<M.length;$++){X.kP[$]=M[$].v.Hrzn.v;X.A2[$]=M[$].v.Vrtc.v;X.ei[$]=M[$].v.Cnty?M[$].v.Cnty.v:!0}return X};
t.pq.qr=function(M,jX,X){var J=0,q=255;if(X){J=-1e9;q=1e9}var W=t.pq.ajp(M),T=[];t.pq.ahs(W.kP,W.A2,W.ei,T);
var _=new Float32Array(jX);for(var $=0;$<jX;$++)_[$]=1/255*Math.max(J,Math.min(q,t.pq.a7d($*(255/(jX-1)),W.kP,W.A2,T)));
return _};t.pq.aa6=function(M,jX,X){var J=Math.round(M.length/20),q=jX-M.length,W=X?(M[J]-M[0])/J:0,T=X?M[0]-q*W:M[M.length-1],_=new Float32Array(jX);
_.set(M,X?q:0);for(var $=0;$<q;$++)_[$+(X?0:q)]=T+$*W;return _};t.pq.s$=function(M,jX,X){var J=t.pq.ajp(M),q=[];
t.pq.ahs(J.kP,J.A2,J.ei,q);var W=new Uint8Array(jX),T=jX/256;for(var $=0;$<jX;$++)W[$]=Math.max(0,Math.min(jX-1,t.pq.a7d($*T,J.kP,J.A2,q)));
if(X){W[0]=0;if(W[1]>100)W[1]=.4*W[1];if(W[2]>150)W[1]=.7*W[2]}return W};t.pq.awD=function(M,X){var J=new Uint8Array(M.length);
for(var $=0;$<M.length;$++)J[$]=X[M[$]];return J};t.pq.apv=function(M,X){var J=X.length,q=new Float32Array(J);
for(var $=0;$<J;$++)q[$]=X[~~(M[$]*(J-1))];return q};t.pq.aw=function(M,X,J){var q=document.createElement("canvas");
q.width=X;q.height=J;var W=q.getContext("2d"),T=t.pq.s$(M,256);W.scale(X/255,J/255);W.fillStyle="#fff";
W.fillRect(0,0,255,255);W.fillStyle="#333";W.beginPath();W.moveTo(0,255);for(var $=0;$<T.length;$++)W.lineTo($,255-T[$]);
W.lineTo(255,255);W.closePath();W.fill();return q.toDataURL()};t.style={};t.style.stroke=function(M,X,J,q){var W=J.r,T=J.$,_=t.style.Pl(M,W,T);
t.style.jz(X,J,_,J,q)};t.style.jz=function(M,X,J,q,W){var T=X.Lg(q),_=T.r,m=T.$;W+=.5;var d=T.x-X.x,A=T.y-X.y,p=X.r,a=T.x-q.x,f=T.y-q.y,s=q.r;
for(var j=0;j<m;j++){var Y=(j+f)*s+a,G=(j+A)*p+d;for(var Q=0;Q<_;Q++){var Z=Math.max(0,Math.min(1,W-J[Y+Q]));
M[G+Q]=Math.round(Z*255)}}};t.style.akh=function(M,X,J,q){for(var W=0;W<J;W++)for(var T=0;T<X;T++){var _=W*X+T,m=0,d=0,A=M[_];
if(T==0||W==0){m=M[_+1]-A;d=M[_+X]-A}else if(T==J-1||W==X-1){m=A-M[_-1];d=A-M[_-X]}else{m=M[_+1]-M[_-1];
d=M[_+X]-M[_-X]}if(m!=0||d!=0){var p=1/Math.sqrt(m*m+d*d);m*=p;d*=p}q[_+_]=m;q[_+_+1]=d}};t.style.Pl=function(M,X,J){var q=X*J,W=new ArrayBuffer((q+X*4)*4),T=new Float32Array(W,0,q),_=new Uint16Array(W,0,q<<1),m=new Int32Array(W,q*4,X),d=new Int32Array(W,(q+X)*4,X),A=new Int32Array(W,(q+X*2)*4,X),p=new Int32Array(W,(q+X*3)*4,X),a=1/255;
for(let $=0;$<X;++$){let f=-J-X,s=0,j=$,Y=0;for(;Y<J;++Y,j+=X){if(M[j]>128)f=Y,s=M[j];_[j<<1]=Y-f;_[(j<<1)+1]=s}f=_[j+=j-X-X],s=_[j+1];
for(;Y>1;--Y){if(_[j-=X+X]>f)_[j]=++f,_[j+1]=s;else f=_[j],s=_[j+1]}}for(let G=0;G<q;G+=X){var Q=G+X,Z=_[G<<1]*_[G<<1],g=0;
let S=m[0]=G,U=d[0]=G,B=Z,e=B;for(let j=G+1;j<Q;++j){var P=_[j<<1]*_[j<<1];while(g&&e>(U-j)*(U-j)+P){U=d[--g],S=m[g],B=_[S<<1]*_[S<<1],e=(U-S)*(U-S)+B}if(g||e<=(U-j)*(U-j)+P){var h=j-S,V=G+Math.floor((h*(j+S-G-G)+P-B)/(h<<1))+1;
if(V<Q){U=d[++g]=V,S=m[g]=j,B=P,e=(U-S)*(U-S)+B}}else U=G,S=m[0]=j,B=P,e=(U-S)*(U-S)+B}for(let $=0;$<g;
++$){var I=m[$]<<1;A[$]=_[I]*_[I];p[$]=_[I+1]}let F=.5-_[(m[g]<<1)+1]*a;for(let j=Q-1;j>=G;--j){T[j]=Math.max(0,Math.sqrt((j-S)*(j-S)+B)+F);
if(g&&j==U){U=d[--g],S=m[g],B=A[g],F=.5-p[g]*a}}}return T};t.style.aEM=function(M,X,J){var q=new Float64Array(X*J),W=0,T=X*J;
for(var $=0;$<T;$++)W|=M[$];if(W==0){q.fill(1e9);return}var _=t.style.x5(M,X,J);for(var m=0;m<J;m++)for(var d=0;
d<X;d++){var $=m*X+d,A=_[$*2],p=_[$*2+1];if(A==0&&p==0){q[$]=0;continue}var a=Math.sqrt(A*A+p*p),f=M[(m+p)*X+d+A]*(1/255);
q[$]=a+.5-f}return q};t.style.a3V=function(M,X,J){return(.5-J)*M};t.style.x5=function(M,X,J,q){var W=new Int16Array(X*J*2);
t.style.amW(M,W,X,J,128);return W};t.style.amW=function(M,X,J,q,W){var T=new Int32Array(J*q);t.style.apJ(M,T,J,q,W);
t.style.a8t(T,X,J,q)};t.style.apJ=function(M,X,J,q,W){var T=new Int32Array(q);for(var _=0;_<J;_++){var m=J+q;
for(var d=q-1;d>=0;d--){if(M[d*J+_]>W)m=0;else m++;T[d]=m}m=J+q;for(var d=0;d<q;d++){if(M[d*J+_]>W)m=0;
else m++;X[d*J+_]=m<T[d]?-m:T[d]}}};t.style.a8t=function(M,X,J,q){var W=(J+q)*(J+q),T=new Float64Array(J),_=new Uint16Array(J);
for(var m=0;m<q;m++){var d=m*J,A=0;_[0]=0;T[0]=-W;T[1]=+W;for(var p=1;p<J;p++){var a=M[p+d]*M[p+d]+p*p,f=(a-(M[_[A]+d]*M[_[A]+d]+_[A]*_[A]))/(2*p-2*_[A]);
while(f<=T[A]){A--;f=(a-(M[_[A]+d]*M[_[A]+d]+_[A]*_[A]))/(2*p-2*_[A])}A++;_[A]=p;T[A]=f;T[A+1]=W}A=0;
for(var p=0;p<J;p++){while(T[A+1]<p)A++;var s=_[A]-p,j=M[_[A]+d],$=m*J+p<<1;X[$]=s;X[$+1]=j}}};t.style.YM=function(M,X,J){if(J)for(var $=0;
$<M.length;$++){var q=M[$];if(q>0)M[$]=Math.max(0,Math.min(255,q+X*2*(t.style.HO($)-128)))}else for(var $=0;
$<M.length;$++){var q=M[$];if(q>0)M[$]=Math.max(0,Math.min(255,q+Math.min(q*3,X*2*(t.style.HO($)-128))))}};
t.style.HO=function(M){M=M^61^M>>16;M=M+(M<<3);M=M^M>>4;M=M*668265261;M=M^M>>15;return M&255};t.Xn={};
t.Xn.ji=function(M,X,J){var q=M.canvas;if(q.width!=X||q.height!=J){q.width=X;q.height=J}};t.Xn.Z0=function(M,X,J,q,W,T){var _=t.qP(W.N),m=_==8?255:_==16?65535:1,d=1/m;
t.Xn.ji(M,X,J);if(T==null)T=!1;var A=W.N,p=W.S,a=!W.isEnabled;if(X*J==0)return;var f=new ImageData(X,J),s=f.data,j=1/X,Y=1/J,G=W.color/255;
for(var $=0;$<J;$++)for(var Q=0;Q<X;Q++){var Z=($*X+Q)*4,g=Math.round(q.x+Q*j*q.r),S=Math.round(q.y+$*Y*q.$),U=0;
if(g<p.x||g>=p.x+p.r||S<p.y||S>=p.y+p.$)U=G;else U=A[(S-p.y)*p.r+(g-p.x)]*d;U=255-W.Fw+U*W.Fw;if(T)U=170+Math.round(.4*(U-170));
s[Z]=U;s[Z+1]=U;s[Z+2]=U;s[Z+3]=255}M.putImageData(f,0,0);if(a)t.Xn.a2c(M,X,J)};t.Xn.an$={};t.Xn.aBQ=function(M,X,J,q){var W,T,_;
W=Math.ceil(Math.max(X,J)*.35);T=X-W;_=J-W;var m=q.generativeDocInfo,d=W+"-"+(m?1:0),A=t.Xn.an$[d];if(A==null){var p=t.mt(W,W),a=Math.round(W*.27),f=p.lineWidth=Math.max(1,Math.round(W*.12)),s=f/2;
if(m){p.fillStyle="black";p.fillRect(0,0,W,W);p.beginPath();for(var j=0;j<1;j++)for(var $=0;$<10;$++){var Y=-Math.PI/2+$*2*Math.PI/10,G=(($&1)==0?1:.4)*W*.52,Q=.5,Z=.52;
Q=W*Q+Math.cos(Y)*G;Z=W*Z+Math.sin(Y)*G;if($==0)p.moveTo(Q,Z);else p.lineTo(Q,Z)}p.closePath();p.fillStyle="white";
p.fill()}else{p.fillStyle="#eeeeee";p.fillRect(0,0,W,W);p.strokeRect(1+s,1+s,W-f-2,W-f-2);p.strokeRect(a+s,a+s,W-a-a-f,W-a-a-f)}A=t.Xn.an$[d]=p.getImageData(0,0,W,W)}M.putImageData(A,T,_)};
t.Xn.afD=[];t.Xn.a87=function(M,X,J){var q,W,T;q=Math.ceil(Math.max(X,J)*.35);W=X-q;T=J-q;var _=t.Xn.afD[q];
if(_==null){var m=t.mt(q,q);m.fillStyle="#eeeeee";m.fillRect(0,0,q,q);m.lineWidth=1;m.strokeRect(2.5,2.5,q-5,q-5);
var d=new ImageData(3,3),A=d.data;t.Tb(A,4278190080);A[4*4]=A[4*4+1]=A[4*4+2]=238;m.putImageData(d,1,1);
m.putImageData(d,q-4,1);m.putImageData(d,1,q-4);m.putImageData(d,q-4,q-4);_=t.Xn.afD[q]=m.getImageData(0,0,q,q)}M.putImageData(_,W,T)};
t.Xn.aIq=function(M,X,J,q,W,T){t.Xn.ji(M,X,J);var _=X/q.r;if(X*J==0)return;M.fillStyle="#999999";M.setTransform(1,0,0,1,0,0);
M.clearRect(0,0,X,J);M.save();var m=t.Xn.anF;if(m==null)m=t.Xn.anF=kf.XZ.IH(!0,!0);m.strokeStyleLineWidth.v.val=1/_;
M.fillStyle="#ffffff";M.scale(_,_);t.I.ai(W.X,M,0,0);t.I.ai(W.X,M,0,0,m);M.restore();if(T){M.save();
var d=X*.4,A=J*.4;M.fillRect(X-d,J-A,d,A);M.beginPath();M.moveTo(X-d/2,J-A);M.lineTo(X-d/2,J);M.setLineDash([3,3]);
M.stroke();M.restore()}};t.Xn.axq=function(M,X,J,q,W){t.Xn.ji(M,X,J);if(X*J==0)return;M.setTransform(1,0,0,1,0,0);
M.fillStyle="white";M.fillRect(0,0,X,J);var T=W.w,_;if(T.add.SoLd)_=o.fx.Bz(T.add.SoLd.nonAffineTransform);
else if(T.add.vmsk)_=T.add.vmsk.F_();else if(T.add.TySh){if(T.ws.Bm==null)return;_=t.G.mP(T.ws.Bm).d;
t.G.u(_,T.add.TySh.u,_)}var m=t.G.Cs(_),d=Math.min(X/m.r,J/m.$),A=m.r*d,p=m.$*d;M.translate(-m.x*d+(X-A)*.5,-m.y*d+(J-p)*.5);
M.scale(d,d);W.OV(q,M,null,null)};t.Xn.a1A=null;t.Xn.L0=function(M,X,J,q,W,T,_,m,d){t.Xn.ji(M,X,J);if(X*J==0)return;
var A=Math.max(X,J),p=t.Xn.a1A;if(p==null||p.width<A||p.height<A){t.Xn.a1A=p=new ImageData(A,A)}A=p.width;
var a=p.data,f=q.r/X,s=q.$/J,j=T.x,Y=T.x+T.r,G=T.y,Q=T.y+T.$,Z=t.qP(W)-8;for(var $=0;$<J;$++)for(var g=0;
g<X;g++){var S=$*A+g,U=S*4,B=~~(q.x+g*f),e=~~(q.y+$*s),P=t.ajc($,g,2);if(B<j||B>=Y||e<G||e>=Q||d){a[U]=P;
a[U+1]=P;a[U+2]=P;a[U+3]=255}else{var h=(e-T.y)*T.r+(B-T.x)<<2;if(Z!=24){var V=(W[h+3]>>>Z)*(1/255);
a[U]=(W[h+0]>>>Z)*V+P*(1-V);a[U+1]=(W[h+1]>>>Z)*V+P*(1-V);a[U+2]=(W[h+2]>>>Z)*V+P*(1-V)}else{var V=W[h+3];
a[U]=W[h+0]*V*255+P*(1-V);a[U+1]=W[h+1]*V*255+P*(1-V);a[U+2]=W[h+2]*V*255+P*(1-V)}a[U+3]=255}}if(m!=null)for(var $=0;
$<a.length;$+=4)a[$]=a[$+1]=a[$+2]=a[$+m];M.putImageData(p,0,0);if(_)t.Xn.a2c(M,X,J)};t.Xn.a1U=function(M,X,J,q){t.Xn.ji(M,X,J);
M.fillStyle=t.Xn.NH(q.Clr.v);M.fillRect(0,0,X,J);t.Xn.xD(M,X,J)};t.Xn.Jy=null;t.Xn.a10=function(M,X,J,q){t.Xn.ji(M,X,J);
var W=M.canvas.width,T=M.canvas.height,_=t.Xn.Jy;if(_==null||_.width!=W||_.height!=T){M.fillStyle="#ffffff";
M.fillRect(0,0,X,J);M.fillStyle="#000000";M.font=""+J*.7+"px serif";M.fillText("T",(X-J*.43)/2,J*.75);
M.fillText("T",(X-J*.43)/2,J*.75);t.Xn.Jy=M.getImageData(0,0,W,T)}else M.putImageData(_,0,0)};t.Xn.aIO=function(M,X,J){t.Xn.ji(M,X,J);
M.clearRect(0,0,X,J);M.font=J*.7+"px serif";M.fillText(":(",(X-J*.43)/2,J*.7)};t.Xn.a3H=function(M,X,J,q){t.Xn.ji(M,X,J);
var W=ia.get(q),T=M.canvas.width,_=t.Xn.a2q[T+W];if(_==null){var m=PIMG["adj/"+W],d=h1.ut(m),A=UPNG.decode(d.buffer),p=new Uint8Array(UPNG.toRGBA8(A)[0]),a=new gc(0,0,160,160),f=0,s=T-f*2,j=o.fx.gj([p,a],new kp(s/160,0,0,s/160,0,0)),Y=new gc(0,0,T,T),G=t.j(Y.o()*4);
t.v.r$("norm",j.buffer,j.S,G,Y,j.S,1);_=t.Xn.a2q[T+W]=new ImageData(new Uint8ClampedArray(G.buffer),T,T)}M.putImageData(_,0,0)};
t.Xn.a2q={};t.Xn.aBB=function(M,X,J,q){t.Xn.ji(M,X,J);var W=M.canvas.width,T=M.canvas.height,_=M.getImageData(0,0,W,T);
t.NX.Bt(q.Grad.v,new Uint8Array(_.data.buffer),new gc(0,0,W,T),[1/W,0,0,1/T],W/2,T/2,!1,0,16711680,65280);
M.putImageData(_,0,0);t.Xn.xD(M,X,J)};t.Xn.aar=function(M,X,J,q,W){t.Xn.ji(M,X,J);var T=M,_=hA.AK(q.Ptrn.v,W.add.Patt);
if(_==null)return;var m=_.c5[1];t.Xn.L0(M,X,J,m,_.c5[0],m,!1);t.Xn.xD(T,X,J)};t.Xn.a2c=function(M,X,J){M.strokeStyle="#bb0000";
M.lineWidth=3;M.beginPath();M.moveTo(X*.15,J*.15);M.lineTo(X*.85,J*.85);M.moveTo(X*.85,J*.15);M.lineTo(X*.15,J*.85);
M.closePath();M.stroke()};t.Xn.xD=function(M,X,J){M.fillStyle="#eeeeee";M.fillRect(0,J*.75,X,J*.25);
M.beginPath();M.moveTo(0,J*.75);M.lineTo(X,J*.75);M.moveTo(X*.1,J*.875);M.lineTo(X*.9,J*.875);M.moveTo(X*.65,J*.825);
M.lineTo(X*.65,J*.95);M.closePath();M.stroke()};t.Xn.NH=function(M){var X=t.NX.NH(M),J=Math.round(X.z)<<16|Math.round(X.L)<<8|Math.round(X.g);
return"#"+t.NZ(J)};t.I={};t.I.dl=function(M,X,J){var q=[],W=-1;for(var $=0;$<M.length;$++){var T=M[$];
if((T.e==0||T.e==3)&&T.li!=-1)W++;if(T.e>5||T.e==0||T.e==3)continue;if(X!=null&&X.indexOf(W)==-1)continue;
if(J!=null&&J.indexOf($)==-1)continue;q.push(T.vX.x);q.push(T.vX.y);q.push(T.Z.x);q.push(T.Z.y);q.push(T.vJ.x);
q.push(T.vJ.y)}return q};t.I.$F=function(M,X,J,q){var W=0,T=-1;for(var $=0;$<X.length;$++){var _=X[$];
if((_.e==0||_.e==3)&&_.li!=-1)T++;if(_.e>5||_.e==0||_.e==3)continue;if(J!=null&&J.indexOf(T)==-1)continue;
if(q!=null&&q.indexOf($)==-1)continue;_.vX.cn(M[W],M[W+1]);_.Z.cn(M[W+2],M[W+3]);_.vJ.cn(M[W+4],M[W+5]);
W+=6}};t.I.cI=function(M,X,J,q){var W=t.I.dl(M,J,q);t.G.u(W,X,W);t.I.$F(W,M,J,q)};t.I.aqt=function(M,X,J,q){var W=t.I.dl(M,J,q);
t.t.u(X,W);t.I.$F(W,M,J,q)};t.I.axl=function(M,X,J,q){if(q==null){var W=t.I.adY(M,40,J);for(var $=0;
$<W.length;$++)M[$]=W[$]}var T=t.I.dl(M,J,q);t.BF.u(X,T,t.G.Cs(T));t.I.$F(T,M,J,q)};t.I.adY=function(M,X,J){var q=[],W=-1;
for(var $=0;$<M.length;$++){var T=M[$],_=T.length;if(T.e>5){q.push(t.b(T));continue}T=t.b(T);q.push(T);
if(T.li!=-1)W++;if(J&&J.indexOf(W)==-1){q=q.concat(M.slice($+1,$+1+_))}else{var m=t.I.a2k(M,$+1,_);m=t.G.yI(m,X);
var d=t.I.ahW(m);T.length=d.length;for(var A=0;A<d.length;A++)q.push(d[A])}$+=_}return q};t.I.a2k=function(M,X,J){var q={C6:["M"],d:[]},W=M[X],T=M[X+J-1];
q.d.push(W.Z.x,W.Z.y);for(var $=1;$<J;$++){var _=M[X+$-1],m=M[X+$];q.C6.push("C");q.d.push(_.vJ.x,_.vJ.y,m.vX.x,m.vX.y,m.Z.x,m.Z.y)}q.C6.push("C");
q.d.push(T.vJ.x,T.vJ.y,W.vX.x,W.vX.y,W.Z.x,W.Z.y);return q};t.I.ahW=function(M){var X=[],J=M.C6,q=M.d,W=0,jX=q.length;
X.push({e:2,vX:new es(q[jX-4],q[jX-3]),Z:new es(q[0],q[1]),vJ:new es(q[2],q[3])});for(var $=0;$<J.length-2;
$++){var T=$*6+4;X.push({e:2,vX:new es(q[T],q[T+1]),Z:new es(q[T+2],q[T+3]),vJ:new es(q[T+4],q[T+5])})}return X};
t.I.aCs=function(M){for(var $=0;$<M.length;$++){if(M[$].e>5)continue;var X=M[$].length;if(!(X==4||X==6||X==8)){$+=X;
continue}for(var J=0;J<X;J++){var q=M[$+1+J],W=M[$+1+(J+1)%X],T=Math.min(q.Z.x,W.Z.x),_=Math.min(q.Z.y,W.Z.y),m=0,d=0;
if(q.Z.x<W.Z.x){m=q.Z.y-_;d=m-(W.Z.x-T)}else{m=W.Z.y-_;d=m-(q.Z.x-T)}if(Math.abs(d)<.2*m)return m}}return-1};
t.I.NP=function(M,X,J){function q(f,s){var j=Math.min(f.x,s.x),Y=Math.min(f.y,s.y),G=Math.max(f.x+f.r,s.x+s.r),Q=Math.max(f.y+f.$,s.y+s.$);
return new gc(j,Y,G-j,Q-Y)}var W=null,T=-1,_=!t.I.Fq(M);for(var $=0;$<M.length;$++){var m=M[$];if(m.e>5)continue;
if((m.e==0||m.e==3)&&m.li!=-1)T++;if(X!=null&&X.indexOf(T)==-1)continue;if($==M.length-1)break;var d=m.e==3,A=m.length,p=m.li,a=t.I.zs(M,$+1,A,d);
if(W==null)W=a;else if(J)W=q(W,a);else if(_){if(X!=null||p==0||p==-1||p==2)W=q(W,a);else if(p==1)W=W;
else if(p==3){W=a;_=!1}}else{if(X!=null||p==0||p==-1||p==1)W=q(W,a);else if(p==2)W=W;else if(p==3)W=W.Lg(a)}$+=A}if(W==null||W.r<0||W.$<0)W=new gc(0,0,0,0);
return W};t.I.aDN=new Float64Array(4);t.I.zs=function(M,$,X,J){var q=t.I.aDN;q[0]=1e30;q[1]=1e30;q[2]=-1e30;
q[3]=-1e30;var W=M[$+X-1];if(!J)t.I.aB0(W.Z.x,W.Z.y,W.vJ.x,W.vJ.y,M[$].vX.x,M[$].vX.y,M[$].Z.x,M[$].Z.y,q);
for(var T=$;T<$+X-1;T++){var _=M[T],m=M[T+1];t.I.aB0(_.Z.x,_.Z.y,_.vJ.x,_.vJ.y,m.vX.x,m.vX.y,m.Z.x,m.Z.y,q)}return new gc(q[0],q[1],q[2]-q[0],q[3]-q[1])};
t.I.aB0=function(M,X,J,q,W,T,_,m,d){if(M==J&&X==q&&W==_&&T==m){d[0]=Math.min(d[0],Math.min(M,_));d[1]=Math.min(d[1],Math.min(X,m));
d[2]=Math.max(d[2],Math.max(M,_));d[3]=Math.max(d[3],Math.max(X,m));return}var A=M,p=X,a=M,f=X,s=40,j=1/(s-1);
for(var Y=0;Y<s;Y++){var G=Y*j,Q=1-G,Z=Q*Q*Q,g=3*Q*Q*G,S=3*Q*G*G,U=G*G*G,B=Z*M+g*J+S*W+U*_,e=Z*X+g*q+S*T+U*m;
if(B<A)A=B;else if(B>a)a=B;if(e<p)p=e;else if(e>f)f=e}if(A<d[0])d[0]=A;if(p<d[1])d[1]=p;if(a>d[2])d[2]=a;
if(f>d[3])d[3]=f};t.I.aC_=function(M,X){var J=M.length-3,q=X%J,W=Math.floor(q);if(X<0||W>=J)return null;
var T=M[3+W],_=M[3+(W+1)%J],m=T.Z,d=T.vJ,A=_.vX,p=_.Z,a=q-W,f=1-a,s=f*f*f*m.x+3*f*f*a*d.x+3*f*a*a*A.x+a*a*a*p.x,j=f*f*f*m.y+3*f*f*a*d.y+3*f*a*a*A.y+a*a*a*p.y;
return new es(s,j)};t.I.MH=function(M,X){var J=t.G.WN(M),q=J.zm;J.zm=Typr.U.pathToSVG({crds:q.d,cmds:q.C6},X==null?2:X);
return J};t.I.HP=function(M){t.I.ur();var X,J=t.I.oe(M),q=[];for(var $=0;$<J.length;$++){var W=J[$][0],T=J[$][1];
if(Math.abs(W.area)<1e-5)q.push(W);else if(X==null)X=W;else{if(!W.closed)W.closed=!0;X=X[T](W);X.remove()}}if(X==null)X=new paper.CompoundPath(q);
else{if(X.segments)X=new paper.CompoundPath(X);for(var $=0;$<q.length;$++){X.addChild(q[$])}}var _=M.slice(0,2);
_=_.concat(t.I.Np(X));t.I.oA(J);t.I.oA([[X]]);if(_[2])_[2].li=1;for(var $=3;$<_.length;$++)if(_[$].li!=null)_[$].li=-1;
return _};t.I.ur=function(){if(t.I.aJ5==null){var M=document.createElement("canvas");paper.setup(M);
t.I.aJ5=!0}};t.I.alW=function(M,X){t.I.ur();var J=[],q=t.I.oe(M),W=new paper.Path.Rectangle(new paper.Rectangle(X.x,X.y,X.r,X.$));
W.remove();W.fillColor=new paper.Color(1,0,0);for(var $=0;$<q.length;$++){if(W.intersects(q[$][0])||W.contains(q[$][0].children[0].segments[0].point))J.push($)}t.I.oA(q);
return J};t.I.WR=function(M,X,J,q){t.I.ur();var W=J?{curves:!0,tolerance:q}:null,T=new paper.Point(X.x,X.y),_=t.I.oe(M);
t.I.oA(_);for(var $=_.length-1;$>=0;$--){var m=_[$][0],d=m.hitTest(T,W);if(d!=null)return{gO:$,sQ:J?d.location.index:null,_H:J?d.location.time:0}}return{gO:-1}};
t.I.t4=function(M,X,J,q){var W=[[],[],[]];for(var $=0;$<M.length;$++){var T=M[$];if(T.e>5||T.e==0||T.e==3)continue;
var _=X.ZO(T.Z),m=X.ZO(T.vX),d=X.ZO(T.vJ);if(J&&J.indexOf($)==-1){if(q){if(J.indexOf($-1)==-1)m=!1;if(J.indexOf($+1)==-1)d=!1}else m=d=!1}if(_)W[0].push($);
if(m)W[1].push($);if(d)W[2].push($)}W[3]=W[0].length+W[1].length+W[2].length;return W};t.I.adh=function(M,X,J){var q=M[X];
for(var W=X+1;W<J;W++)M[W-1]=M[W];M[J-1]=q};t.I.aH5=function(M,X,J,q){var $,W,T,_=0;M=M.slice(0);X.sort(function(j,Y){return j-Y});
T=-1;for($=2;$<M.length;){var m=M[$],d=m.length;if(m.li!=-1)T++;var A=_;while(A<X.length&&X[A]<$+1+d)A++;
if(_!=A){var p=X.slice(_,A);_=A;for(W=0;W<d;W++)if(p.indexOf($+1+W)!=-1)M[$+1+W]=null;if(m.e==0){var a=p[0]-($+1);
while(a!=0){t.I.adh(M,$+1,$+1+d);a--}}var f=m;f.length=0;W=0;while(W<d&&M[$+1+W]==null)W++;while(W<d){var s=M[$+1+W];
if(s!=null)f.length++;else if(W<d+1&&M[$+1+W+1]&&q){f=M[$+1+W]={e:0,li:-1,length:0,gF:0,Ni:0,h8:1}}W++}if(q)for(W=-1;
W<d;W++)if(M[$+1+W]&&M[$+1+W].e<3)M[$+1+W].e+=3;t.fg.hZ(J,T)}$+=1+d}for($=0;$<M.length;$++)if(M[$]==null){M.splice($,1);
$--}T=0;for($=2;$<M.length;$++){var m=M[$];if(m.length==0){if(M[$+1]&&M[$+1].li==-1)M[$+1].li=m.li;else if(m.li!=-1)J.splice(T,1);
M.splice($,1);$--}else if(m.length!=null&&m.li!=-1)T++}return M};t.I.ax$=function(M,X){var J=M.slice(0,2),q=-1;
for(var $=2;$<M.length;$++){if((M[$].e==0||M[$].e==3)&&M[$].li!=-1)q++;if(X.indexOf(q)==-1)J.push(M[$])}return J};
t.I.aE6=function(M,X){var J=M.slice(0,2),q=-1;for(var $=2;$<M.length;$++){if((M[$].e==0||M[$].e==3)&&M[$].li!=-1)q++;
if(X.indexOf(q)!=-1)J.push(M[$])}return J};t.I.aCo=function(M){var X=0;for(var $=0;$<M.length;$++)if(M[$].e==0||M[$].e==3)X=$;
return M[X]};t.I.Qa=function(M,X){var J=-1;for(var $=0;$<M.length;$++)if((M[$].e==0||M[$].e==3)&&(X||M[$].li!=-1))J++;
return J+1};t.I.kj=function(M,X,J){var q=-1;for(var $=0;$<M.length;$++)if((M[$].e==0||M[$].e==3)&&(J||M[$].li!=-1)){q++;
if(q==X)return $}return-1};t.I.Ph=function(M,X,J){var q=-1;for(var $=0;$<M.length;$++)if((M[$].e==0||M[$].e==3)&&(J||M[$].li!=-1)){if($>=X)return q;
q++}return q};t.I.ZH=function(M,X){var J=-1,q=0;for(var $=0;$<M.length;$++){if((M[$].e==0||M[$].e==3)&&M[$].li!=-1)J++;
if(J==X)q++}return q};t.I.avI=function(M){var X=180;for(var $=0;$<M.length;$++){if(M[$].e!=0&&M[$].e!=3)continue;
var J=M[$].length;if(J<3)continue;for(var q=0;q<J;q++){var W=M[$+1+(q-1+J)%J],T=M[$+1+q],_=M[$+1+(q+1)%J],m=T.Z,d=T.vX.w6(m)?W.vJ:T.vX,A=T.vJ.w6(m)?_.vX:T.vJ;
if(m.w6(d)||m.w6(A))continue;var p=d.x-m.x,a=d.y-m.y,f=A.x-m.x,s=A.y-m.y,d=Math.atan2(d.y-m.y,d.x-m.x)*180/Math.PI,A=Math.atan2(A.y-m.y,A.x-m.x)*180/Math.PI,j=Math.abs(A-d)%360,Y=j>180?360-j:j;
if(Y<X)X=Y}}return X*Math.PI/180};t.I.Np=function(M){var X=M.segments?[M]:M.children,J=[];for(var $=0;
$<X.length;$++){var q=X[$],W=q.segments,T=q.closed?0:3,_=J.length,m=null;if(W.length<=1)continue;J.push({e:T,length:W.length,li:0,h8:2});
for(var d=0;d<W.length;d++){var A=W[d],p=new es(A.handleIn.x,A.handleIn.y),a=new es(A.handleOut.x,A.handleOut.y),f=new es(A.point.x,A.point.y),s={e:T+1,vX:f.add(p),Z:f,vJ:f.add(a)};
if(m==null)m=s;J.push(s);if(d+1==W.length&&es.Yq(m.Z,s.Z)<1e-5){J.pop();J[_].length--;m.vX=s.vX;if(T==3)for(var j=_;
j<J.length;j++)J[j].e-=3}}}return J};t.I.oe=function(M){t.I.ur();var X=[],J,q=new paper.Color(1,0,0);
function W(s,m){s.remove();s.closed=!m;s.fillRule="evenodd"}for(var $=0;$<M.length;$++){if(M[$].e>5)continue;
var T=M[$].length,_;if($==M.length-1)break;var m=M[$].e==3;if($==2){if(!t.I.xf(M))_="subtract";else _="unite"}else{if(M[$].li==0)_="exclude";
if(M[$].li==1)_="unite";if(M[$].li==2)_="subtract";if(M[$].li==3)_="intersect"}if(M[$].li!=-1){J=new paper.CompoundPath;
X.push([J,_]);J.fillRule="evenodd";J.fillColor=q}var d=[];for(var A=0;A<T;A++){var p=M[$+1+A],a=p.vX.d7(p.Z),f=p.vJ.d7(p.Z);
d.push([[p.Z.x,p.Z.y],[a.x,a.y],[f.x,f.y]])}var s=new paper.Path(d);W(s,m);J.addChild(s);$+=T}return X};
t.I.oA=function(M){for(var $=0;$<M.length;$++)M[$][0].remove()};t.I._8=function(M){for(var $=0;$<M.length;
$++){var X=M[$];if(X.Z==null)continue;if(!X.Z.w6(X.vX)||!X.Z.w6(X.vJ))return!1}return!0};t.I.aHv=function(M){if(M.length<=5)return 0;
var X=0,J=M.length-3-1;for(var $=0;$<J;$++){var q=M[3+$],W=M[3+$+1];if(q.e==0||W.e==0)return 0;X+=(W.Z.x-q.Z.x)*(q.Z.y+W.Z.y)}X+=(M[3].Z.x-M[3+J].Z.x)*(M[3+J].Z.y+M[3+1].Z.y);
return-X*.5};t.I.Fq=function(M){var X=M[2],J=!1;if(M.length==2)J=M[1].all==0;else if(M[1].all==1){if(X.li==1||X.li==3)J=!0;
else J=!1}else{if(X.li==1||X.li==3||X.li==0)J=!0;else J=!1}return J};t.I.xf=function(M){var X=t.I.Fq(M);
for(var $=3;$<M.length;$++)if(M[$].li==3)X=!0;return X};t.I.alH=0;t.I.ac4=0;t.I.ab$=0;t.I.aoc=function(M,X,J,q){if(J.M5())return;
var W=J.o(),Q=16384;t.I.alH+=W;if(W>t.I.ac4){t.I.ac4=W}var T=J.r,_=J.$;if(q==null&&t.I._8(M)&&M[2]&&M[2].li!=2){var m=!0;
for(var $=2;$<M.length;)if(M[$].length==2)$+=3;else{m=!1;break}if(m){return}if(t.I.bW(M)){X.fill(255);
var d=t.I.NP(M);if(d.o()!=W){var A=1-(d.x-J.x),p=1-(d.y-J.y),a=1-(J.x+J.r-(d.x+d.r)),f=1-(J.y+J.$-(d.y+d.$)),s=~~(A*255),j=~~(a*255),Y=~~(p*255),G=~~(f*255);
X.fill(Y,0,T);X[0]=~~(A*p*255);X[T-1]=~~(a*p*255);for(var $=T;$<W;$+=T){X[$]=s;X[$+T-1]=j}X.fill(G,(_-1)*T,_*T);
X[W-T]=~~(A*f*255);X[W-1]=~~(a*f*255)}return}}var Z=Math.ceil(T/Q),g=Math.ceil(_/Q),S=Math.ceil(T/Z),U=Math.ceil(_/g),B=Date.now();
for(var e=0;e<g;e++)for(var P=0;P<Z;P++){var h=P*S,V=e*U,I=S,F=U,c=t.mt(I,F);if(!t.I.Fq(M))c.fillRect(0,0,I,F);
t.I.ai(M,c,-J.x-h,-J.y-V,q);var D=new Uint8Array(c.getImageData(0,0,I,F).data.buffer);if(I==T&&F==_)t.SF(D,X,3);
else t.gt(D,new gc(h,V,I,F),X,new gc(0,0,T,_))}};t.I.ap_=function(M){var X=!1,J=!1,q=0,W=!1;for(var $=0;
$<M.length;$++){var T=M[$].li;if(T!=null){q++;if(T==-1)X=!0;if(T==1||T==2||T==3)J=!0;if(M[$].e==0)W=!0}}if(!X&&q<20&&W&&J)M=t.I.HP(M);
return M};t.I.ai=function(M,X,J,q,W,T){if(W!=null){M=t.I.ap_(M)}for(var $=0;$<M.length;$++){if(M[$].e>5)continue;
var _=M[$].length;if(_==0)continue;if($==M.length-1)break;var m=M[$].e==3,d=M[$].li;if(d!=-1&&W==null){var A=["xor","source-over","destination-out","source-in"][d];
X.globalCompositeOperation=A}if(M[$].li!=-1){X.beginPath();if(W)t.I.rP(kf.XZ.tx(W),X)}t.I.a3z(X,M,$+1,_,J,q,m);
if(m){}else X.closePath();if(M[$+1+_]==null||M[$+1+_].li!=-1){if(W){if(T)X.clip();X.stroke()}else X.fill(d==-1?"nonzero":"evenodd")}$+=_}X.globalCompositeOperation="source-over";
X.setLineDash([])};t.I.rP=function(M,X){var J=M.G2;X.setLineDash(M.hc);X.lineCap=["butt","round","square"][M.o5];
X.lineJoin=["miter","round","bevel"][M.NT];X.lineWidth=M.JJ==1?J:J*2;X.miterLimit=M.tu};t.I.a3z=function(M,X,$,J,q,W,T){var _=X[$],m=null;
M.moveTo(_.Z.x+q,_.Z.y+W);for(var d=$;d<$+J-1;d++){_=X[d];m=X[d+1];if(_.Z.w6(_.vJ)&&m.vX.w6(m.Z))M.lineTo(m.Z.x+q,m.Z.y+W);
else M.bezierCurveTo(_.vJ.x+q,_.vJ.y+W,m.vX.x+q,m.vX.y+W,m.Z.x+q,m.Z.y+W)}if(!T){_=X[d];m=X[$];if(_.Z.w6(_.vJ)&&m.vX.w6(m.Z))M.lineTo(m.Z.x+q,m.Z.y+W);
else M.bezierCurveTo(_.vJ.x+q,_.vJ.y+W,m.vX.x+q,m.vX.y+W,m.Z.x+q,m.Z.y+W)}};t.I.an_=function(M,X){var J=[],q=X?4:1;
for(var $=0;$<M.length;$+=2){var W=new es(M[$],M[$+1]);J.push({e:q,vX:W.Q(),Z:W.Q(),vJ:W.Q()})}return J};
t.I.anJ=function(M,X,J){var q=(1-(J!=null?J:25)*.01)*10;if(q>0){for(var $=0;$<X.length;$++){var W=X[$],T=t.I.kj(M,W),_=t.I.ZH(M,W),m=M.slice(T,T+_);
t.I.ur();var d=new paper.Path;d.remove();d.closed=!0;for(var A=1;A<m.length;A++)d.add(new paper.Point(m[A].Z.x,m[A].Z.y));
var p=d.simplify(q);if(p)M.splice(T,_,...t.I.Np(d))}}return M};t.I.zH=function(M,X,J){var q=t.G.Cs(M),W=Math.sqrt(Math.sqrt(q.o()))*.2,T=.2;
M=M.slice(0);var _=M.length,m=X?0:2;for(var d=0;d<5;d++)for(var $=m;$<M.length-m;$+=2){var A=($-2+_)%_,p=($+2)%_,a=M[$],f=M[$+1],s=(M[A]+M[p])*.5,j=(M[A+1]+M[p+1])*.5;
M[$]=a+(s-a)*T;M[$+1]=f+(j-f)*T}if(J)return t.I.bg.Uw(M,null,!X);t.I.ur();var Y=new paper.Path;Y.remove();
Y.closed=X;for(var $=0;$<M.length;$+=2)Y.add(new paper.Point(M[$],M[$+1]));Y.simplify(W);var G=[{e:6},{e:8,all:0}];
G=G.concat(t.I.Np(Y));return G};t.I.TO=function(M,X,J){var q=M[X].length,W=M[X].e,T=0,_=M.slice(X+1,X+1+q);
for(var $=0;$<q;$++){var m=J[($-1+q)%q],d=J[($+1+q)%q],A=J[$];if(A!=0){var p=_[($-1+q)%q].Z,a=_[($+0+q)%q].Z,f=_[($+1+q)%q].Z,s=es.Yq(a,p),j=es.Yq(a,f),Y=t.G.a4I(p.x,p.y,a.x,a.y,f.x,f.y,A)[0],G=Math.min(Y,m==0?s:s/2,d==0?j:j/2);
A*=G/Y;var Q=t.G.aBD(p.x,p.y,a.x,a.y,f.x,f.y,A),Z={e:W+1,vX:new es(Q[2],Q[3]),Z:new es(Q[2],Q[3]),vJ:new es(Q[4],Q[5])},g={e:W+1,vX:new es(Q[6],Q[7]),Z:new es(Q[8],Q[9]),vJ:new es(Q[8],Q[9])};
M.splice(X+T+1,1,Z,g);T++;M[X].length++}T++}};t.I._8=function(M){for(var $=0;$<M.length;$++){var X=M[$],J=X.e;
if(J==1||J==2||J==4||J==5)if(!X.Z.w6(X.vX)||!X.Z.w6(X.vJ))return!1}return!0};t.I.bW=function(M){if(M.length!=7||M[2].length!=4||!t.I._8(M))return!1;
for(var $=0;$<4;$++){var X=!0;for(var J=0;J<4;J++){var q=M[3+($+J&3)],W=M[3+($+J+1&3)];if(q.Z.x!=W.Z.x&&q.Z.y!=W.Z.y)X=!1}if(X)return!0}return!1};
t.I.a6b=function(M){if(M.length<6)return 0;var X=M.length-2,J=0;for(var $=0;$<X;$+=2)J+=(M[$+2]-M[$])*(M[$+1]+M[$+3]);
J+=(M[0]-M[X])*(M[X+1]+M[1]);return-J*.5};t.I.aCB=function(M){M=K.JL.Oz(M);var X=t.I.Qa(M);for(var J=0;
J<X;J++){var q=t.I.kj(M,J)+1,W=M[q-1].length,T=[];for(var $=0;$<W;$++){var _=M[q+$].Z;T.push(_.x,_.y)}var m=t.I.a6b(T);
if(m<0)t.I.asY(M,q-1)}return M};t.I.asY=function(M,X){var J=X+1,q=M[X].length,W=[];for(var $=0;$<q;$++){var T=M[J+$],_=T.vX;
T.vX=T.vJ;T.vJ=_;W.push(T)}for(var $=0;$<q;$++)M[J+$]=W[q-1-$]};t.I.bg={};t.I.bg.Uw=function(M,X,J){var q=[{e:6},{e:8,all:0}],W=null;
q.push({e:J?3:0,li:1,length:0,gF:0,Ni:0,h8:1});if(X==0||X==null)W=null;else if(X instanceof Array)W=X;
else{W=[];for(var $=0;$<M.length;$+=2)W.push(X)}q=q.concat(t.I.an_(M,J));q[2].length=q.length-3;if(W)t.I.TO(q,2,W);
return q};t.I.bg.a2m=function(M,X,J,q,W){var T=[],_=[],m=.553,d=1,A=-1;T.push({e:1,vX:new es(0,m),Z:new es(0,0),vJ:new es(0,-m)});
W+=2;for(var $=0;$<W;$++){var p={e:1};if($==0){p.Z=new es(1,-1);p.vX=new es(1-m,-1);p.vJ=new es(1+m,-1)}else{var a=-($+2)*Math.PI/2,f=1+(($&1)==1?$-1:$),s=Math.sin(a),j=Math.cos(a);
d+=f*(s-j);A+=f*(j+s);p.Z=new es(d,A);p.vX=new es(d+f*j*m,A-f*s*m);if(($&1)==1)f+=2;p.vJ=new es(d-f*j*m,A+f*s*m)}var Y={e:1,vX:new es(-p.vJ.x,-p.vJ.y),Z:new es(-p.Z.x,-p.Z.y),vJ:new es(-p.vX.x,-p.vX.y)};
T.push(p);if($<W-2)_.push(Y)}_.reverse();T=T.concat(_);var G=[{e:6},{e:8,all:0}];G.push({e:0,li:1,length:T.length,gF:0,Ni:0,h8:1});
G=G.concat(T);var Q=new kp(J/W,0,0,J/W,0,0);Q.rotate(q);Q.translate(M,X);t.I.cI(G,Q);return G};t.I.bg.Rect=function(M,X,J,q,W){var T=[M,X,M+J,X,M+J,X+q,M,X+q];
return t.I.bg.Uw(T,W)};t.I.bg.dQ=function(M,X,J,q,W,T,_,m){var d=[],A=2*Math.PI/W;for(var $=0;$<W;$++)d.push(Math.cos($*A-q),Math.sin($*A-q));
if(_!=null){var p=t.G.Cs(d),a=p.r,f=p.$,s=_/(a/2),j=m/(f/2);for(var $=0;$<d.length;$+=2){d[$]=(d[$]-(p.x+a/2))*s;
d[$+1]=(d[$+1]-(p.y+f/2))*j}J=1}var Y=new kp(J,0,0,J,0,0);Y.translate(M,X);t.G.u(d,Y,d);return t.I.bg.Uw(d,T)};
t.I.bg.agG=function(M,X,J,q,W,T,_){var m=[],d=Math.PI/W;for(var $=0;$<W*2;$++){var A=($&1)==0?1:_;m.push(A*Math.cos($*d),A*Math.sin($*d))}var p=new kp(J,0,0,J,0,0);
p.rotate(q);p.translate(M,X);t.G.u(m,p,m);return t.I.bg.Uw(m,T)};t.I.bg.VL=function(M,X,J,q,W){return t.I.bg.tw(0,M,X,J,q,W)};
t.I.bg.a3s=function(M,X,J,q,W,T){return t.I.bg.tw(1,M,X,J,q,W,T)};t.I.bg.xp=function(M,X,J,q,W,T){return t.I.bg.tw(2,M,X,J,q,W,T)};
t.I.bg.tw=function(M,X,J,q,W,T,_){var m=Math.sqrt((q-X)*(q-X)+(W-J)*(W-J)),d;T/=2;if(M==0)d=[-T,0,T,0,T,m,-T,m];
if(M==1){var A=T*2*_*1.3/1.5,p=T*_;d=[-T,0,T,0,T,m-A,p,m-A,0,m,-p,m-A,-T,m-A]}if(M==2){var A=_[3],p=_[2]/2,a=A*(2/3)*_[4]/100,f=A-a,s=A;
d=[];if(_[0])d.push(-T,f,-p,s,0,0,p,s,T,f);else if(T==0)d.push(0,0);else d.push(-T,0,T,0);if(_[1])d.push(T,m-f,p,m-s,0,m,-p,m-s,-T,m-f);
else if(T==0)d.push(0,m);else d.push(T,m,-T,m)}var j=new kp(1,0,0,1,0,0);j.rotate(Math.atan2(-W+J,q-X)+Math.PI/2);
j.translate(X,J);t.G.u(d,j,d);return t.I.bg.Uw(d,0)};t.I.bg.hQ=function(M,X,J,q){var W=[{e:6},{e:8,all:0}],a=.553;
W.push({e:0,li:1,length:4,gF:0,Ni:0,h8:1});var T=M,_=X,m=M+J,d=X+q,M=(T+m)/2,X=(_+d)/2,A=(T-m)/2,p=(_-d)/2;
W.push({e:1,vX:new es(M-a*A,X-p),Z:new es(M,X-p),vJ:new es(M+a*A,X-p)});W.push({e:1,vX:new es(M+A,X-a*p),Z:new es(M+A,X),vJ:new es(M+A,X+a*p)});
W.push({e:1,vX:new es(M+a*A,X+p),Z:new es(M,X+p),vJ:new es(M-a*A,X+p)});W.push({e:1,vX:new es(M-A,X+a*p),Z:new es(M-A,X),vJ:new es(M-A,X-a*p)});
return W};t.I.bg.azE=function(M,X,J,q,W){var T=[{e:6},{e:8,all:0}];T.push({e:3,li:1,length:5,gF:0,Ni:0,h8:1});
var _=(W-q)/4;for(var $=0;$<5;$++){var m=$*_,d=Math.cos(m),A=Math.sin(m),p=.553*(_/(Math.PI/2)),a=A*p,f=-d*p,s=new es(d,A);
T.push({e:4,vX:$==0?s.Q():new es(d+a,A+f),Z:s,vJ:$==4?s.Q():new es(d-a,A-f)})}var j=new kp;j.rotate(-q);
j.scale(J,J);j.translate(M,X);t.I.cI(T,j);return T};t.Rl={};t.Rl.e={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15],warpCylinder:"Cylinder"};
t.Rl.alU={warpNone:[],warpCustom:[],warpArc:[.5,0,.5,1],warpArcLower:[.5,1,.5,1],warpArcUpper:[.5,0,.5,1],warpArch:[.5,0,.5,1],warpBulge:[.5,0,.5,1],warpShellLower:[.5,1,.5,1],warpShellUpper:[.5,0,.5,1],warpFlag:[.25,0,.5],warpWave:[.25,.501,.25],warpFish:[.25,0,.5],warpRise:[0,1,2],warpFisheye:[.5,.66,.1],warpInflate:[.5,0,.25],warpSqueeze:[.5,0,.25],warpTwist:[.33,.5,.16]};
t.Rl.tU=function(M){var X=M.warpStyle.v.warpStyle;if(X=="warpNone")return!0;else if(X=="warpCylinder")return!1;
else if(X=="warpCustom"){var J=!1,q=t.Rl.asS(M);for(var $=0;$<4;$++)for(var W=0;W<4;W++){var T=q[$*2]-q[(W*4+$)*2],_=q[$*4*2+1]-q[($*4+W)*2+1];
if(T*T>1||_*_>1)J=!0}return!J}else return M.warpValue.v==0&&M.warpPerspective.v==0&&M.warpPerspectiveOther.v==0};
t.Rl.aD2=function(M){var X=t.b(M);X.v.classID="quiltWarp";X.v.deformNumRows={t:"long",v:4};X.v.deformNumCols={t:"long",v:4};
if(X.v.customEnvelopeWarp)t.Rl.aDJ(X.v,[[0,1],[0,1]]);return X};t.Rl.adU=function(M){var X;if(t.Rl.bd(M.v)==16)X=t.b(M);
else X={t:"Objc",v:t.Rl.j(t.Rl.Hg(M.v))};X.v.classID="warp";delete X.v.deformNumRows;delete X.v.deformNumCols;
var J=X.v.customEnvelopeWarp;if(J){delete J.v.quiltSliceX;delete J.v.quiltSliceY}return X};t.Rl.bd=function(M){return M.deformNumRows.v*M.deformNumCols.v};
t.Rl.j=function(M){var X={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(M){X.classID="quiltWarp";X.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:M.y}},Left:{t:"UntF",v:{type:"#Pxl",val:M.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:M.y+M.$}},Rght:{t:"UntF",v:{type:"#Pxl",val:M.x+M.r}}}};
X.uOrder={t:"long",v:4};X.vOrder={t:"long",v:4};X.deformNumRows={t:"long",v:4};X.deformNumCols={t:"long",v:4}}return X};
t.Rl.az1=function(M,X,J){for(var $=0;$<M.length;$+=2){var q=M[$],W=M[$+1],T=(1-X)/2,_=1-T,m=T+q*(_-T);
W=.5+(W-.5)*m*2;var d=(1-J)/2,A=1-d,p=d+W*(A-d);q=.5+(q-.5)*p*2;M[$]=q;M[$+1]=W}};t.Rl.yv=function(M,X){return{id:M,type:"UnFl",uID:"#Pxl",arr:X}};
t.Rl.aDJ=function(M,X){var J=t.Rl.Hg(M);function q(T,_){T=T.slice(0);var m=T.length,$;for($=0;$<m;$++)T[$]*=_;
T[0]-=.6;T[m-1]+=.6;return T}var W=M.customEnvelopeWarp.v;W.quiltSliceX={t:"ObAr",v:{classID:"UntF",arr:[t.Rl.yv("quiltSliceX",q(X[0],J.r))]}};
W.quiltSliceY={t:"ObAr",v:{classID:"UntF",arr:[t.Rl.yv("quiltSliceY",q(X[1],J.$))]}}};t.Rl.aCE=function(M){var X=t.Rl.Hg(M);
function J(_,m){_=_.slice(0);var T=_.length,$,d=1e9,A=-d;for($=0;$<T;$++){if(_[$]<d)d=_[$];if(_[$]>A)A=_[$]}for($=0;
$<T;$++)_[$]=(_[$]-d)/(A-d);_[0]=0;_[T-1]=1;return _}var q=M.customEnvelopeWarp.v,W=[],T=["X","Y"];for(var $=0;
$<2;$++)W.push(J(q["quiltSlice"+($==0?"X":"Y")].v.arr[0].arr.slice(0),$==0?X.r:X.$));return W};t.Rl.a8p=function(M,X){var J=[],q=[];
for(var $=0;$<X.length;$+=2){J.push(X[$]);q.push(X[$+1])}M.customEnvelopeWarp.v.meshPoints.v.arr=[t.Rl.yv("Hrzn",J),t.Rl.yv("Vrtc",q)]};
t.Rl.asS=function(M){var X=[],J=M.customEnvelopeWarp.v.meshPoints.v.arr,q=J[0].arr,W=J[1].arr;for(var $=0;
$<q.length;$++)X.push(q[$],W[$]);return X};t.Rl.LK=function(M,X){var J,q=M.warpStyle.v.warpStyle;if(q=="warpCustom")J=[M.deformNumCols.v,M.deformNumRows.v,t.Rl.aCE(M),t.Rl.asS(M)];
else{if(X==null)X=t.Rl.Hg(M);if(X.M5())X.r=X.$=1;if(q=="warpCylinder"){var W=o.fx.Bz(M.warpValues);J=t.Rl.Rl(q,W)}else{var T="warpPerspective";
J=t.Rl.Rl(q,M.warpValue.v/100,M.warpRotate.v.Ornt=="Hrzn",M[T].v/100,M[T+"Other"].v/100,X.r/X.$)}t.Rl.aB2(J[3],X)}return J};
t.Rl.aB2=function(M,X){for(var $=0;$<M.length;$+=2){M[$]=X.x+M[$]*X.r;M[$+1]=X.y+M[$+1]*X.$}};t.Rl.aHT=function(M){var X=Math.sin(M*Math.PI/2),J=Math.pow(M,1/3.5),q=(1-M)*X+M*J;
q=Math.pow(q,1.045);var W=.1725+.0573*q,T=1-(.96*X+.04*J);T=Math.pow(T,1.27);var _=1/129+(.167684-1/129)*T;
return[W,_]};t.Rl.hI=function(M,X){M.warpStyle.v.warpStyle="warpCustom";M.deformNumCols.v=X[0];M.deformNumRows.v=X[1];
var J="customEnvelopeWarp";if(M[J]==null)M[J]={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:[]}}}};
t.Rl.aDJ(M,X[2]);t.Rl.a8p(M,X[3])};t.Rl.Hg=function(M){var X=M.bounds.v,J=X.Left.v.val,q=X.Rght.v.val,W=X.Top.v.val,T=X.Btom.v.val;
if(J==null){J=X.Left.v,q=X.Rght.v;W=X.Top.v,T=X.Btom.v}return new gc(J,W,q-J,T-W)};t.Rl.Rl=function(M,X,J,q,W,T){if(M=="warpCylinder"){var _=X,m=_[0],d=_[1],A=_[2],p=_[3],a=_[4],f=_[5],s=_[6],j=[];
for(var Y=0;Y<4;Y++)for(var G=0;G<13;G++)j.push(G/12,Y/3);var Q=A-m,Z=d-p,g=a*.5*(Q/Z),S=f*.5*(Q/Z),U=t.Rl.aHT(s),B=[0,0,0,0,0,U[0],.5],e=[0,0,0,0,g*.42,g,g],P=[0,0,0,0,S*.42,S,S];
for(var Y=0;Y<4;Y++)for(var G=0;G<7;G++){var $=Y*13+G;j[$*2]=B[G];var h=e[G],V=1+P[G],I=Y/3;j[$*2+1]=h*(1-I)+V*I}for(var Y=0;
Y<4;Y++)for(var G=0;G<6;G++){var $=Y*13+G,F=Y*13+12-G;j[F*2]=1-j[$*2];j[F*2+1]=j[$*2+1]}var I=U[1];return[13,4,[[0,I,.5,1-I,1],[0,1]],j]}var c=t.BF.j(0,0,1,1);
if(M!="warpNone"){if(!J)T=1/T;t.Rl.aHU(c,M,X,q,W,T);var D=c.slice(0);if(!J)for(var Y=0;Y<4;Y++)for(var G=0;
G<4;G++){c[(Y*4+G)*2]=D[(G*4+Y)*2+1];c[(Y*4+G)*2+1]=D[(G*4+Y)*2]}if(X==0)t.Rl.az1(c,q,W);else{var n=new kp;
n.translate(-.5,-.5);t.G.u(c,n,c);t.Rl.ag5(c,W,q);n.vN();t.G.u(c,n,c)}}return[4,4,[[0,1],[0,1]],c]};
t.Rl.aHU=function(M,X,J,q,W,T){var _=new gc(0,0,T,1);for(var $=0;$<M.length;$+=2)M[$]*=T;for(var $=0;
$<4;$++){for(var m=0;m<4;m++){var d=2*(4*$+m),A=M[d]-_.x,p=M[d+1]-_.y,a=A,f=p;if(J!=0){var s=_.r/2,j=_.$/2;
a-=s;f-=j;var Y=a,G=a,Q=-j,Z=j,g=Math.abs(J),S=Math.tan((1-g)*Math.PI/2),U=Math.sqrt(S*S+1),B=Math.atan2(1,S),e=a/s*B,P=s*U,h=s*U+_.$,V=Math.cos(B),I=Math.sin(B),F=t.Rl.aDk(V,I),c=t.Rl.aIW(V,I),D=-S*s+F*P;
if(X=="warpArc"){Y=Math.sin(e)*h;Q=S*s-Math.cos(B)*h+j;G=Math.sin(e)*P;Z=S*s-Math.cos(B)*P+j;if(m==1||m==2){Y=m==1?-c*h:c*h;
G=m==1?-c*P:c*P;Q=S*s+j-F*h;Z=S*s+j-F*P}if(J<0){var n=Y;Y=G;G=n;n=Q;Q=-Z;Z=-n}}if(X=="warpArcLower"){if(m==1||m==2){G=m==1?-c*P:c*P;
Z=J<0?j-D:j+D}}if(X=="warpArcUpper"||X=="warpArch"||X=="warpBulge"){if(m==1||m==2){Y=m==1?-c*P:c*P;Q=J<0?-j+D:-j-D}if(X=="warpArch"){G=Y;
Z=Q+2*j}if(X=="warpBulge"){G=Y;Z=-Q}}if(X=="warpFish"||X=="warpFlag"||X=="warpWave"){var k=m;if(X=="warpFlag")k=3-m;
if(k==1){Q-=J*4*j;Z+=J*4*j}if(k==2){Q+=J*4*j;Z-=J*4*j}if(X=="warpFlag"||X=="warpWave")Q=Z-2*j}if(X=="warpRise"){if(m<2)Q=-j+J*j*4;
Z=Q+2*j}var b=(f+j)/_.$;a=Y+b*(G-Y);f=Q+b*(Z-Q);if(X=="warpWave"){if($==0)f=-j;if($==3)f=j;if($==1||$==2)f=2*j*($/3-.5)*(1/3)+f*(2/3)}if(X=="warpFisheye"){if(($==1||$==2)&&(m==1||m==2)){a=a+4*a*J;
f=f+4*f*J}}if(X=="warpInflate"){var N=2/3;if(($==1||$==2)&&(m==1||m==2)){a=a+.5*a*J;f=f+.5*f*J}else if($==1||$==2)a=a+N*a*J;
else if(m==1||m==2)f=f+N*f*J}if(X=="warpSqueeze"){var N=2/3;if(($==1||$==2)&&(m==1||m==2)){if(J>0)a=a-N*a*J;
else f=f+N*f*J}else if($==1||$==2)a=a-N*a*J;else if(m==1||m==2)f=f+N*f*J}if(X=="warpTwist"){if(($==1||$==2)&&(m==1||m==2)){var L=J*Math.PI/2,U=1+Math.abs(J)*2,R=a*Math.cos(L)-f*Math.sin(L),i=a*Math.sin(L)+f*Math.cos(L);
a=R*U;f=i*U}}if(X=="warpShellLower"||X=="warpShellUpper"){if(X=="warpShellUpper"){$=3-$;f=-f}if($>2||$==2&&(m==0||m==3)){if(J>0){var v=P+$/3*2*j;
a=Math.sin(e)*v;f=-S*s-j+Math.cos(e)*v;if(m==1||m==2){a=m==1?-c*v:c*v;f=-S*s-j+F*v}}else{if((m==1||m==2)&&$==3){a=m==1?-c*P:c*P;
f=S*s-F*P+j}else if($==2){f=j-j*(2/3)*Math.cos(e);a=a+j*(2/3)*Math.sin(e)}}}if(X=="warpShellUpper"){$=3-$;
f=-f}}a+=s;f+=j}A=a,p=f;M[d]=A+_.x;M[d+1]=p+_.y}}for(var $=0;$<M.length;$+=2)M[$]/=T};t.Rl.ag5=function(M,X,J){var q=[];
for(var W=0;W<4;W++)q.push(1-J+W/3*2*J);var T=[];for(var W=0;W<4;W++)T.push(1-X+W/3*2*X);var _=[0,0,0,0],m=[0,0,0,0];
for(var $=0;$<4;$++)for(var W=0;W<4;W++){var d=2*(4*$+W),A=M[d],p=M[d+1];_[W]+=A/4;m[W]+=p/4}for(var $=0;
$<4;$++)for(var W=0;W<4;W++){var a=q[W],d=2*(4*$+W),A=M[d],p=M[d+1],f=_[W],s=m[W];M[d]=f+a*(A-f);M[d+1]=s+a*(p-s)}var j=M.slice(0);
for(var $=0;$<4;$++)for(var W=1;W<3;W++){var d=2*(4*$+W),A=M[d],p=M[d+1],Y=d+(W==1?-2:2),G=M[Y],Q=M[Y+1];
M[d]=A-G;M[d+1]=p-Q}var Z=M[0],g=M[1],S=M[8],U=M[9],B=M[16],e=M[17],P=M[24],h=M[25],V=M[6],I=M[7],F=M[14],c=M[15],D=M[22],n=M[23],k=M[30],b=M[31],N=V-Z,L=I-g,R=F-S,i=c-U,v=D-B,E=n-e,u=k-P,C=b-h;
for(var $=0;$<4;$++){var l=2*$*4,x=0,y=0,ge=$==1?.33:.66,O=1-ge;if($==0){x=N;y=L}if($==1){x=O*N+ge*-u;
y=O*L+ge*-C}if($==2){x=O*N+ge*-u;y=O*L+ge*-C}if($==3){x=-u;y=-C}M[l]=M[l]+x/2;M[l+1]=M[l+1]+y/2;M[l+6]=M[l+6]-x/2;
M[l+7]=M[l+7]-y/2}for(var $=0;$<4;$++)for(var W=1;W<3;W++){var d=2*(4*$+W),A=M[d],p=M[d+1],Y=d+(W==1?-2:2),G=M[Y],Q=M[Y+1],a=2*$/3;
M[d]=G+a*A;M[d+1]=Q+a*p}for(var $=1;$<3;$++)for(var W=1;W<3;W++){var d=2*(4*$+W),A=M[d],p=M[d+1],kz=$==1?-8:-16,z=$==1?16:8,eZ=M[d+kz],kM=M[d+kz+1],jV=M[d+z],cL=M[d+z+1],a=$/3;
A=(1-a)*eZ+a*jV;p=(1-a)*kM+a*cL;M[d]=A;M[d+1]=p}t.G.ah$(j,M,M,X)};t.Rl.aDk=function(M,X){return(4-M)*(1/3)};
t.Rl.aIW=function(M,X){return(1-M)*(3-M)/(3*X)};var jO={};jO.aoW={x:.34567,y:.3585};jO.azp=[{z:0,jQ:.18006,tz:.26352,Y:-.24341},{z:10,jQ:.18066,tz:.26589,Y:-.25479},{z:20,jQ:.18133,tz:.26846,Y:-.26876},{z:30,jQ:.18208,tz:.27119,Y:-.28539},{z:40,jQ:.18293,tz:.27407,Y:-.3047},{z:50,jQ:.18388,tz:.27709,Y:-.32675},{z:60,jQ:.18494,tz:.28021,Y:-.35156},{z:70,jQ:.18611,tz:.28342,Y:-.37915},{z:80,jQ:.1874,tz:.28668,Y:-.40955},{z:90,jQ:.1888,tz:.28997,Y:-.44278},{z:100,jQ:.19032,tz:.29326,Y:-.47888},{z:125,jQ:.19462,tz:.30141,Y:-.58204},{z:150,jQ:.19962,tz:.30921,Y:-.70471},{z:175,jQ:.20525,tz:.31647,Y:-.84901},{z:200,jQ:.21142,tz:.32312,Y:-1.0182},{z:225,jQ:.21807,tz:.32909,Y:-1.2168},{z:250,jQ:.22511,tz:.33439,Y:-1.4512},{z:275,jQ:.23247,tz:.33904,Y:-1.7298},{z:300,jQ:.2401,tz:.34308,Y:-2.0637},{z:325,jQ:.24792,tz:.34655,Y:-2.4681},{z:350,jQ:.25591,tz:.34951,Y:-2.9641},{z:375,jQ:.264,tz:.352,Y:-3.5814},{z:400,jQ:.27218,tz:.35407,Y:-4.3633},{z:425,jQ:.28039,tz:.35577,Y:-5.3762},{z:450,jQ:.28863,tz:.35714,Y:-6.7262},{z:475,jQ:.29685,tz:.35823,Y:-8.5955},{z:500,jQ:.30505,tz:.35907,Y:-11.324},{z:525,jQ:.3132,tz:.35968,Y:-15.628},{z:550,jQ:.32129,tz:.36011,Y:-23.325},{z:575,jQ:.32931,tz:.36038,Y:-40.77},{z:600,jQ:.33724,tz:.36051,Y:-116.45}];
jO.aqK=function(M){var X=jO.azp,J=2*M.x/(1.5-M.x+6*M.y),q=3*M.y/(1.5-M.x+6*M.y),W=0,T=0,_=0;for(;_<31;
_++){W=q-X[_].tz-X[_].Y*(J-X[_].jQ);if(_>0&&W<0){break}T=W}while(_>=X.length)_--;W/=Math.sqrt(1+X[_].Y*X[_].Y);
T/=Math.sqrt(1+X[_-1].Y*X[_-1].Y);var m=T/(T-W),d=1e6/((X[_].z-X[_-1].z)*m+X[_-1].z),A=J-((X[_].jQ-X[_-1].jQ)*m+X[_-1].jQ),p=q-((X[_].tz-X[_-1].tz)*m+X[_-1].tz),a=Math.sqrt(1+X[_].Y*X[_].Y),f=1/a,s=X[_].Y/a,j=Math.sqrt(1+X[_-1].Y*X[_-1].Y),Y=1/j,G=X[_-1].Y/j,Q=(f-Y)*m+Y,Z=(s-G)*m+G,g=Math.sqrt(Q*Q+Z*Z);
Q/=g;Z/=g;var S=(A*Q+p*Z)*-3e3;return{SZ:d,kF:S}};jO.$L=function(M,X){var J=jO.azp,q=1e6/M,W=1;for(;
W<31;W++){if(q<J[W].z){break}}var T=(J[W].z-q)/(J[W].z-J[W-1].z),_=(J[W-1].jQ-J[W].jQ)*T+J[W].jQ,m=(J[W-1].tz-J[W].tz)*T+J[W].tz,d=Math.sqrt(1+J[W].Y*J[W].Y),A=1/d,p=J[W].Y/d,a=Math.sqrt(1+J[W-1].Y*J[W-1].Y),f=1/a,s=J[W-1].Y/a,j=(f-A)*T+A,Y=(s-p)*T+p,G=Math.sqrt(j*j+Y*Y);
j/=G;Y/=G;_+=j*X/-3e3;m+=Y*X/-3e3;return{x:1.5*_/(_-4*m+2),y:m/(_-4*m+2)}};jO.a2_=function(M){var X=M[0]+M[1]+M[2];
return{x:M[0]/X,y:M[1]/X}};jO.oS=function(M){return{x:M.x/M.y,y:1,t6:(1-M.x-M.y)/M.y}};jO.aDZ=function(M,X){var J=t.XS.eY([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),q=[M.x,M.y,M.t6,0],W=[X.x,X.y,X.t6,0];
q=t.XS.ea(J,q);W=t.XS.ea(J,W);var T=W[0]/q[0],_=W[1]/q[1],m=W[2]/q[2],d=t.XS.eY([T,0,0,0,_,0,0,0,m]),A=t.XS.vN(J);
return t.XS.multiply(t.XS.multiply(A,d),J)};t.lL={};t.lL.aDq=function(M,X,J,q,W,T,_,m,d,A){for(var p=0;
p<m;p++)for(var a=0;a<_;a++){var f=3*(p*_+a),s=p+T,j=a+W,Y=M[s*X+j];q[f]=Y;q[f+1]=Y;q[f+2]=Y}};t.lL.w8=function(M,X,J,q,W,T,_,m,d,A){var p=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],a=1/d,f=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],s=new Uint32Array(6);
for(var j=0;j<m;j++){for(var Y=0;Y<_;Y++){var G=3*(j*_+Y),Q=j+T,Z=Y+W;s[0]=0;s[1]=0;s[2]=0;s[3]=0;s[4]=0;
s[5]=0;for(var $=0;$<16;$+=2){var g=Z+f[$],S=Q+f[$+1],U=g-d*~~(g*a),B=S-d*~~(S*a),e=A[B*d+U];s[e]+=M[S*X+g];
s[e+3]++}var g=Z,S=Q,U=g-d*~~(g*a),B=S-d*~~(S*a),e=A[B*d+U];s[e]=M[Q*X+Z];s[e+3]=1;q[G]=s[0]*p[s[3]];
q[G+1]=s[1]*p[s[4]];q[G+2]=s[2]*p[s[5]]}}};t.lL.aGO=function(M,X,J){for(var $=0;$<J;$+=2)M[X+$]=M[X+$+1];
X=X+J;for(var $=0;$<J;$+=2)M[X+$+1]=M[X+$]};t.lL.aBN=function(M,X,J,q){for(var $=0;$<q;$+=2){var W=X+$*J;
M[W]=M[W+J];M[W+J+1]=M[W+1]}};t.lL.aE2=function(M,X,J,q,W,T){var _=q[W],m=q[W+1],d=q[T],A=q[T+1],p=m+d>>>1;
M[X]=M[X+3]=M[J]=M[J+3]=_;M[X+1]=p;M[X+4]=m;M[J+1]=d;M[J+4]=p;M[X+2]=M[X+5]=M[J+2]=M[J+5]=A};t.lL.a7T=function(M,X,J,q,W,T){var _=T*3;
for(var $=0;$<T;$+=2){var m=X+$,d=W+$*3;t.lL.aE2(q,d,d+_,M,m,m+J)}};t.lL.aC7=function(M,X,J,q,W,T,_){var m=T*3;
for(var $=0;$<_;$+=2){var d=X+$*J,A=W+$*T*3;t.lL.aE2(q,A,A+m,M,d,d+J)}};t.lL.auo=function(M,$,X){var J=M[$-X-X],q=M[$-X],W=M[$-2],T=M[$-1],_=M[$],m=M[$+1],d=M[$+2],A=M[$+X],p=M[$+X+X],a=Math.abs(q-A),f=Math.abs(T-m),s=Math.abs(_-J)*2+a,j=Math.abs(_-d)*2+f,Y=Math.abs(_-W)*2+f,G=Math.abs(_-p)*2+a,Q=Math.min(s,Math.min(j,Math.min(Y,G)));
if(Q==s)return q*3+A+_-J>>2;if(Q==j)return m*3+T+_-d>>2;if(Q==Y)return T*3+m+_-W>>2;return A*3+q+_-p>>2};
t.lL.qC=function(M,X,J,q,W){if(M<X&&X<J||M>X&&X>J)return~~(.5+q+(W-q)*(X-M)/(J-M));else return(q+W>>1)+(X+X-M-J>>2)};
t.lL.aFL=function(M,X,$,J){var q=X[$-J-1],W=X[$-J+1],T=X[$],_=X[$+J-1],m=X[$+J+1],d=M[$-J-1],A=M[$-J+1],p=M[$],a=M[$+J-1],f=M[$+J+1],s=Math.abs(A-a)+Math.abs(M[$-J-J+2]-p)+Math.abs(p-M[$+J+J-2])+Math.abs(W-T)+Math.abs(T-_),j=Math.abs(d-f)+Math.abs(M[$-J-J-2]-p)+Math.abs(p-M[$+J+J+2])+Math.abs(q-T)+Math.abs(T-m);
if(s<j)return t.lL.qC(W,T,_,A,a);else return t.lL.qC(q,T,m,d,f)};t.lL.$o=function(M,X,J,q,W,T){M[X+0]=J[W];
M[X+1]=q[W];M[X+2]=t.lL.aFL(J,q,W,T)};t.lL.D7=function(M,X,J,q,W,T){var _=q[W];M[X+0]=t.lL.qC(q[W-1],_,q[W+1],J[W-1],J[W+1]);
M[X+1]=_;M[X+2]=t.lL.qC(q[W-T],_,q[W+T],J[W-T],J[W+T])};t.lL.dt=function(M,X,J,q,W,T){var _=q[W];M[X+0]=t.lL.qC(q[W-T],_,q[W+T],J[W-T],J[W+T]);
M[X+1]=_;M[X+2]=t.lL.qC(q[W-1],_,q[W+1],J[W-1],J[W+1])};t.lL.P3=function(M,X,J,q,W,T){M[X+0]=t.lL.aFL(J,q,W,T);
M[X+1]=q[W];M[X+2]=J[W]};t.lL.aw_=function(M,X,J,q,W,T,_,m,d){var A=Date.now(),p=2,a=X-2,f=2;if((W&1)==1){p++;
a--}var s=J-2;if((T&1)==1){f++;s--}if(d==1||d==3){p++;a--}var j=M.slice(0);t.lL.aGO(j,0,X);t.lL.aBN(j,0,X,J);
t.lL.aBN(j,X-2,X,J);t.lL.aGO(j,(J-2)*X,X);for(var Y=f;Y<s;Y+=2)for(var G=p;G<a;G+=2){var $=Y*X+G,Q=t.lL.auo(j,$,X),Z=t.lL.auo(j,$+X+1,X);
j[$]=Math.max(0,Q);j[$+X+1]=Math.max(0,Z)}var g=_,S=m;if(T+m==J){S-=2;t.lL.a7T(M,(J-2)*X+W,X,q,(m-2)*_*3,_)}if(W+_==X){g-=2;
t.lL.aC7(M,T*X+W+_-2,X,q,(_-2)*3,_,m)}if(d==0)for(var Y=0;Y<S;Y+=2)for(var G=0;G<g;G+=2){var U=(Y+T)*X+G+W,B=(Y*_+G)*3;
t.lL.$o(q,B,M,j,U,X);t.lL.D7(q,B+3,M,j,U+1,X);U+=X;B+=3*_;t.lL.dt(q,B,M,j,U,X);t.lL.P3(q,B+3,M,j,U+1,X)}else if(d==1)for(var Y=0;
Y<S;Y+=2)for(var G=0;G<g;G+=2){var U=(Y+T)*X+G+W,B=(Y*_+G)*3;t.lL.D7(q,B,M,j,U,X);t.lL.$o(q,B+3,M,j,U+1,X);
U+=X;B+=3*_;t.lL.P3(q,B,M,j,U,X);t.lL.dt(q,B+3,M,j,U+1,X)}else if(d==2)for(var Y=0;Y<S;Y+=2)for(var G=0;
G<g;G+=2){var U=(Y+T)*X+G+W,B=(Y*_+G)*3;t.lL.P3(q,B,M,j,U,X);t.lL.dt(q,B+3,M,j,U+1,X);U+=X;B+=3*_;t.lL.D7(q,B,M,j,U,X);
t.lL.$o(q,B+3,M,j,U+1,X)}else if(d==3)for(var Y=0;Y<S;Y+=2)for(var G=0;G<g;G+=2){var U=(Y+T)*X+G+W,B=(Y*_+G)*3;
t.lL.dt(q,B,M,j,U,X);t.lL.P3(q,B+3,M,j,U+1,X);U+=X;B+=3*_;t.lL.$o(q,B,M,j,U,X);t.lL.D7(q,B+3,M,j,U+1,X)}};
t.raw={};t.raw.aaq=function(M){var X=Date.now(),J=M.width,q=M.height,W=0,T=0,_=J,m=q;if(M.t50829){var d=M.t50829;
W=d[1];T=d[0];_=d[3];m=d[2]}if(M.t50720&&M.t50720[0]*1.2>J){if(M.t50719){var A=M.t50719;W+=A[0]>>1<<1;
T+=A[1]>>1<<1}if(M.t50720){var p=M.t50720;_=W+p[0];m=T+p[1]}}var a=_-W,f=m-T,s=t.raw.aJ8(M),j=M.t33422,Y=M.t33421;
if(Y){var p=Y[0],G=j.slice(0);for(var Q=0;Q<p;Q++)for(var Z=0;Z<p;Z++){var g=(Z+(W&1))%p,S=(Q+(T&1))%p;
G[Q*p+Z]=j[S*p+g]}j=G}if(M.t277[0]==1&&j)t.raw.agJ(s,J,q,M,j);t.raw.rd(2,M,s,J,q);var U=new Float32Array(a*f*3);
if(M.t277[0]==1){if(Y==null){t.lL.aDq(s,J,q,U,W,T,a,f)}else if(Y.length!=2||Y[0]!=2||Y[1]!=2){console.log("Unknown CFA pattern size",Y);
t.lL.w8(s,J,q,U,W,T,a,f,Y[0],j)}else{var B=M.t33422.join(","),e=0;if(B=="0,1,1,2")e=0;else if(B=="1,0,2,1")e=1;
else if(B=="2,1,1,0")e=2;else if(B=="1,2,0,1")e=3;else throw"Unknown CFA pattern "+B;if((a&1)!=0||(f&1)!=0)throw"e";
t.lL.aw_(s,J,q,U,W,T,a,f,e)}}else{for(var Q=0;Q<f;Q++)for(var Z=0;Z<a;Z++){var P=((Q+T)*J+Z+W)*3,h=(Q*a+Z)*3;
U[h+0]=s[P+0];U[h+1]=s[P+1];U[h+2]=s[P+2]}}var V=U,I=U.length,F=t.raw.IL(M),c=1/F;for(var $=0;$<I;$+=3){U[$]=V[$]*c;
U[$+1]=V[$+1]*c;U[$+2]=V[$+2]*c}t.raw.rd(3,M,U,a,f);var D=M.lY,n=a,k=f;if(D==1||D==9){}else{var b=t.raw.afa(D,a,f),h=0;
n=b[0];k=b[1];var N=U.slice(0);for(var Q=0;Q<k;Q++)for(var Z=0;Z<n;Z++){var L=b[2]*Z+b[3]*Q+b[4],R=b[5]*Z+b[6]*Q+b[7],P=(R*a+L)*3;
U[h]=N[P];U[h+1]=N[P+1];U[h+2]=N[P+2];h+=3}}return{hT:U,at2:n,adR:k}};t.raw.afa=function(M,X,J){var q=X,W=J;
if(!1){}else if(M==0)return[J,X,0,-1,X-1,1,0,0];else if(M==2)return[X,J,-1,0,X-1,0,1,0];else if(M==3)return[X,J,-1,0,X-1,0,-1,J-1];
else if(M==4)return[X,J,1,0,0,0,-1,J-1];else if(M==5)return[J,X,0,1,0,1,0,0];else if(M==6)return[J,X,0,1,0,-1,0,J-1];
else if(M==7)return[J,X,0,-1,X-1,-1,0,J-1];else if(M==8)return[J,X,0,-1,X-1,1,0,0];else throw"unknown orientation "+M};
t.raw.agJ=function(M,X,J,q,W){var T=Date.now(),c=0,k=0;if(t.raw.IL(q)>4e4){for(var $=0;$<M.length;$++)M[$]>>=1;
var _=["t50714","t50715","t50712","t50717"];for(var $=0;$<_.length;$++){var m=q[_[$]];if(m)for(var d=0;
d<m.length;d++)m[d]>>>=1}console.log("remapping to lower bit depth")}var A=~~Math.sqrt(W.length),p=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],a=[];
for(var f=0;f<A;f++)for(var s=0;s<A;s++){var $=f*A+s,j=W[$],Y=4,G=4,Q=8,Z=0,g=0;for(var d=0;d<18;d+=2){var S=(A+s+p[d])%A,U=(A+f+p[d+1])%A,B=W[U*A+S];
if(B==j){}else if(Y==4){Y=B;Z=d}else if(G==4&&B!=Y){G=B;g=d;break}}if(G<Y){var e=G;G=Y;Y=e;e=g;g=Z;Z=e}if(Y<j){var e=Y;
Y=j;j=e;e=Z;Z=Q;Q=e}if(G<Y){var e=G;G=Y;Y=e;e=g;g=Z;Z=e}a[$*3]=p[Q+1]*X+p[Q];a[$*3+1]=p[Z+1]*X+p[Z];
a[$*3+2]=p[g+1]*X+p[g]}var P=~~(.996*t.raw.IL(q)),h=~~(.992*t.raw.IL(q)),V=q.t50728;if(V==null||V[0]==0)V=[1,1,1];
var I=[],F=[0,0,0];for(var f=1;f<J-1;f++)for(var s=1;s<X-1;s++){var $=f*X+s,D=f%A*A+s%A,j=M[$+a[D*3+0]],Y=M[$+a[D*3+1]],G=M[$+a[D*3+2]],n=Math.max(j,Y,G);
if(n>P)I.push($);else if(n>h){F[0]+=j;F[1]+=Y;F[2]+=G;c++}}if(I.length==0)return;if(c/(X*J)<1e-5){console.log("not enough semi-saturated pixels",c);
F=V}if(F[1]<F[k])k=1;if(F[2]<F[k])k=2;var b=[F[0]/F[k],F[1]/F[k],F[2]/F[k]],N=M.slice(0);for(var L=0;
L<I.length;L++){var $=I[L],f=~~($/X),s=$-f*X,D=f%A*A+s%A,R=Math.min(65535,~~(M[$+a[D*3+k]]*b[W[D]]));
if(R>N[$])N[$]=R}M.set(N)};t.raw.zJ=function(M,X,J,q,W){console.log(W);var T=jO.$L(q[0],q[1]),_=t.raw.aI9(J,T),m=[t.XS.Kf,t.XS.acl,t.XS.avf,t.XS.aAc][W],d=t.XS.multiply(m,_),A=Math.pow(2,q[2]+(J.t50730?J.t50730[0]:0));
d=t.XS.multiply(d,t.XS.tC(A,A,A));var p=t.raw.zJ.at9[W];if(p==null){p=t.raw.zJ.at9[W]=new Float32Array(5e3);
var a=1/[2.4,2.1992,1.8,2.4][W];if(W==0||W==3)for(var $=0;$<5e3;$++)p[$]=t.jm($*(1/4e3));else for(var $=0;
$<5e3;$++)p[$]=Math.pow($*(1/4e3),a)}var f=M.length;for(var $=0;$<f;$+=4){var s=M[$],j=M[$+1],Y=M[$+2],G=d[0]*s+d[1]*j+d[2]*Y,Q=d[4]*s+d[5]*j+d[6]*Y,Z=d[8]*s+d[9]*j+d[10]*Y;
if(G<0)G=0;else if(G>1)G=1;if(Q<0)Q=0;else if(Q>1)Q=1;if(Z<0)Z=0;else if(Z>1)Z=1;X[$]=p[~~(G*4e3)];X[$+1]=p[~~(Q*4e3)];
X[$+2]=p[~~(Z*4e3)]}};t.raw.zJ.at9=[];t.raw.aJ8=function(M){var X=M.width,J=M.height,q=X*J*M.t277,W=new Uint16Array(q),T=null,_=0;
t.raw.avF(M,W);t.raw.rd(1,M,W,X,J);if(M.t50712){T=M.t50712;_=T.length-1;if(T[_]>65535)throw"too big values"}var m=t.raw.atb(M),d=t.raw.a5z(M);
if(T==null)for(var $=0;$<q;$++)W[$]=Math.max(0,W[$]-m);else for(var $=0;$<q;$++){var A=W[$];if(A>_)A=_;
A=T[A];W[$]=Math.max(0,A-m)}return W};t.raw.atb=function(M){var X=M.t50714,J=X?X[0]:0,q=M.t50715,W=M.t50716;
if(q)J+=q[0][0]/q[0][1];if(W)J+=W[0][0]/W[0][1];return Math.round(J)};t.raw.a5z=function(M){var X=null,J=0;
if(M.t50712){X=M.t50712;J=X.length-1}var q=M.t50717?M.t50717[0]:(1<<M.t258[0])-1;if(X)q=Math.min(q,X[J]);
return q};t.raw.IL=function(M){var X=t.raw.atb(M),J=t.raw.a5z(M);return J-X};t.raw.avF=function(M,X){var J=X.length,q=M.data,W=M.t258[0];
if(W!=16&&W!=14&&W!=12&&W!=10&&W!=8)throw"Unsupported Bits Per Sample:"+W;W=Math.round(q.length*8/J);
if(W==16&&M.isLE){t.fc(q,X);return}for(var $=0;$<J;$+=2){var T=0,_=0,m=0;if(W==16){T=$<<1;_=q[T]<<8|q[T+1];
m=q[T+2]<<8|q[T+3]}else if(W==14){var d=$*14,A=d>>>3,p=q[A]<<24|q[A+1]<<16|q[A+2]<<8|q[A+3];if((d&7)==0){_=p>>>18;
m=p>>>4&16383}else{_=p>>>14&16383;m=p&16383}}else if(W==12){T=$+($>>>1);_=q[T]<<4|q[T+1]>>4;m=(q[T+1]&15)<<8|q[T+2]}else if(W==10){var d=$*10,A=d>>>3;
if((d&7)==0){_=(q[A]<<2|q[A+1]>>6)&1023;m=(q[A+1]<<4|q[A+2]>>4)&1023}else{_=(q[A]<<6|q[A+1]>>2)&1023;
m=(q[A+1]<<8|q[A+2]>>0)&1023}}else if(W==8){T=$;_=q[T];m=q[T+1]}X[$]=_;X[$+1]=m}};t.raw.aqg=function(M,X,J,q,W,T,_){var m=M-.499999,d=X-.499999,A=~~m,p=~~d,a=m-A,f=d-p,s=(1-f)*(1-a),j=(1-f)*a,Y=f*(1-a),G=f*a,Q=(p*q+A)*3,Z=((p+1)*q+A)*3,g=s*J[Q]+j*J[Q+3]+Y*J[Z]+G*J[Z+3],S=s*J[Q+1]+j*J[Q+4]+Y*J[Z+1]+G*J[Z+4],U=s*J[Q+2]+j*J[Q+5]+Y*J[Z+2]+G*J[Z+5];
T[_]=g;T[_+1]=S;T[_+2]=U};t.raw.rd=function(M,X,J,q,W){var T=X["t"+[51008,51009,51022][M-1]],p=0;if(T==null)return;
var _=q*W,m=H.Z3,d=H.LF,A=new Uint8Array(T),c$=H.Z3(A,p);p+=4;for(var a=0;a<c$;a++){var f=m(A,p);p+=4;
var s=m(A,p);p+=4;var j=m(A,p);p+=4;var Y=m(A,p);p+=4;if(!1){}else if(f==1&&M==3){var G=p,Q=m(A,G);G+=4;
var Z=d(A,G);G+=8;var g=d(A,G);G+=8;var S=d(A,G);G+=8;var U=d(A,G);G+=8;var B=d(A,G);G+=8;var e=d(A,G);
G+=8;G+=(Q-1)*8*6;var P=d(A,G);G+=8;var h=d(A,G);G+=8;var V=P*q,I=h*W,F=Math.max(V,q-V),c=Math.max(I,W-I),D=Math.sqrt(F*F+c*c),n=1/D,k=J.slice(0);
for(var b=0;b<W;b++)for(var N=0;N<q;N++){var L=(N+.5-V)*n,R=(b+.5-I)*n,i=L*L+R*R,v=Z+g*i+S*(i*i)+U*(i*i)*i,E=B*(2*L*R)+e*(i+2*L*L),u=e*(2*L*R)+B*(i+2*R*R),C=Math.min(V+D*(v*L+E),q-1),l=Math.min(I+D*(v*R+u),W-1),x=(b*q+N)*3;
t.raw.aqg(C,l,k,q,W,J,x)}}else if(f==3&&M==3){var G=p,y=d(A,G);G+=8;var ge=d(A,G);G+=8;var O=d(A,G);
G+=8;var kz=d(A,G);G+=8;var z=d(A,G);G+=8;var P=d(A,G);G+=8;var h=d(A,G);G+=8;var V=P*q,I=h*W,F=Math.max(V,q-V),c=Math.max(I,W-I),D=Math.sqrt(F*F+c*c),n=1/D;
for(var b=0;b<W;b++)for(var N=0;N<q;N++){var L=(N+.5-V)*n,R=(b+.5-I)*n,i=L*L+R*R,eZ=1+(y+(ge+(O+(kz+z*i)*i)*i)*i)*i,x=(b*q+N)*3;
J[x]=eZ*J[x];J[x+1]=eZ*J[x+1];J[x+2]=eZ*J[x+2]}}else if(f==4&&M==1){var G=p,kM=m(A,G);G+=4;var jV=m(A,G);
G+=4;for(var $=0;$<_;$++)if(J[$]==kM)J[$]=J[$-2]+J[$+2]>>1}else if(f==5&&M==1){var G=p,cL=m(A,G);G+=4;
var aw=m(A,G);G+=4;var h2=m(A,G);G+=4;for(var $=0;$<aw;$++){var ea=m(A,G);G+=4;var ht=m(A,G);G+=4;var $=ea*q+ht;
J[$]=J[$-2]+J[$+2]>>1}}else if(f==7&&M==1){var G=p,jn=H.Y$(A,G);G+=16;var gE=m(A,G);G+=4;var bS=m(A,G);
G+=4;var bi=m(A,G),cj=m(A,G+4);G+=8;var bb=m(A,G);G+=4;var c0=new Uint16Array(bb);for(var $=0;$<bb;$++)c0[$]=H.uC(A,G+2*$);
var cV=jn.r,g_=jn.$;for(var b=0;b<g_;b+=bi)for(var N=0;N<cV;N+=cj){var $=(jn.y+b)*q+(jn.x+N);J[$]=c0[J[$]]}}else if(f==8&&M==2){var G=p,jn=H.Y$(A,G);
G+=16;var gE=m(A,G);G+=4;var bS=m(A,G);G+=4;var bi=m(A,G),cj=m(A,G+4);G+=8;var hx=m(A,G);G+=4;var au=[];
for(var $=0;$<=hx;$++)au[$]=H.LF(A,G+$*8);var kP=jn.x,iK=jn.x+jn.r,b3=jn.y,fs=jn.y+jn.$,ch=X.t50717[0],hv=1/ch;
for(var g6=0;g6<bS;g6++)for(var b=b3;b<fs;b+=bi){var x=3*b*q+gE+g6;for(var N=kP;N<iK;N+=cj){var $=x+3*N,ef=J[$]*hv,fN=au[hx];
for(var kb=hx;kb>0;kb--)fN=fN*ef+au[kb-1];J[$]=Math.max(0,Math.min(65535,~~(fN*ch)))}}}else if(f==9&&M==2){var G=p,jn=H.Y$(A,G),iX=!0;
G+=16;var gE=m(A,G);G+=4;var bS=m(A,G);G+=4;var bi=m(A,G),cj=m(A,G+4);G+=8;var cn=m(A,G),dF=m(A,G+4);
G+=8;var et=d(A,G),bh=d(A,G+8);G+=16;var dY=d(A,G),jM=d(A,G+8);G+=16;var bz=m(A,G);G+=4;if(bz!=1)throw"more than one map plane";
var hh=cn*dF,dM=new Float32Array(hh);for(var kb=0;kb<hh;kb++)dM[kb]=H.Ot(A,G+kb*4);for(var kb=0;kb<hh;
kb++)if(dM[kb]!=1)iX=!1;if(!iX){var cV=jn.r,g_=jn.$,aW=.9999*(dF-1)/cV,eC=.9999*(cn-1)/g_;for(var b=0;
b<g_;b+=bi)for(var N=0;N<cV;N+=cj){var $=(jn.y+b)*q+(jn.x+N),dh=N*aW,ff=b*eC,fE=Math.floor(dh),dX=Math.floor(ff),i2=dh-fE,ew=ff-dX,x=dX*dF+fE,hW=dM[x]*(1-i2)+dM[x+1]*i2,jt=dM[x+dF]*(1-i2)+dM[x+1+dF]*i2,h3=hW*(1-ew)+jt*ew;
J[$]=Math.max(0,Math.min(65535,~~(J[$]*h3+.5)))}}}else console.log("Unknown opcode "+f+" in OpcodeList"+M+". Length: "+Y);
p+=Y}};t.raw.aI9=function(M,X){var J=jO.oS(X),q=t.raw.apF(M,X),W=t.XS.vN(q),T=jO.aDZ(J,jO.oS(jO.aoW)),_=t.XS.multiply(T,W);
return _};t.raw.a2D=function(M){var X=M.t50728,W=1;if(X==null||X[0]==0)X=[1,1,1];var J=X.slice(0);J.push(0);
var q={x:.34567,y:.3585};do{var T=t.XS.vN(t.raw.apF(M,q)),_=t.XS.ea(T,J),m=jO.a2_(_);W=Math.abs(q.x-m.x)+Math.abs(q.y-m.y);
q=m}while(W>1e-7);return q};t.raw.apF=function(M,X){var J=jO.aqK(X),q=t.raw.avG,W=M.t50778?M.t50778[0]:0,T=M.t50779?M.t50779[0]:0,_=M.t50723,m=M.t50724;
if(_&&_.length==3)_=null;if(m&&m.length==3)m=null;var d=q(M.t50721,M.t50722,W,T,J.SZ),A=q(_,m,W,T,J.SZ);
d=d||[1,0,0,0,1,0,0,0,1];A=A||[1,0,0,0,1,0,0,0,1];var p=M.t50727?[M.t50727[0],0,0,0,M.t50727[1],0,0,0,M.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return t.XS.multiply(t.XS.eY(p),t.XS.multiply(t.XS.eY(A),t.XS.eY(d)))};t.raw.avG=function(M,X,J,q,W){if(!M&&!X){return null}else if(M&&!X){return M}else if(W<J){return M}else if(W>q){return X}else{var T=(1/W-1/q)/(1/J-1/q),_=1-T,m=[];
for(var $=0;$<9;$++)m[$]=M[$]*T+X[$]*_;return m}};t.raw.FH={};t.raw.bO=function(M){M*=8;var X=[8,10,12,14,16];
for(var J in CAMS){var q=CAMS[J];if(q.length==4)continue;var W=q[4],T=q[5];for(var $=0;$<X.length;$++)if(W*T*X[$]==M)return[J,X[$]]}var _=[[4e3,3e3]];
for(var $=0;$<_.length;$++){var q=_[$],W=q[0],T=q[1];for(var $=0;$<X.length;$++)if(W*T*X[$]==M)return[q,X[$]]}return null};
t.raw.aHZ=function(M){var M=new Uint8Array(M);for(var $=0;$<M.length;$+=2){var X=M[$];M[$]=M[$+1];M[$+1]=X}var J=t.raw.bO(M.length),q=CAMS[J[0]];
if(q==null)q=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,J[0][0],J[0][1]];var W=q[4],T=q[5],_=Math.max(q[2],116),m={data:M,lY:1,width:W,height:T,t256:[W],t257:[T],t258:[J[1]],t277:[1],t33421:[2,2],t33422:t.raw.Gc[q[1]],t50706:[1,2,0,0],t50714:[_,_,_,_],t50717:[q[3]],t50721:q[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var $=0;$<9;$++)m.t50721[$]/=1e4;return m};t.raw.a21=function(M){if(M==null||M.length==0||typeof M[0]=="number")return M;
var X=[];for(var $=0;$<M.length;$++)X[$]=M[$][1]==0?0:M[$][0]/M[$][1];return X};t.raw.Gc=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
t.raw.normalize=function(M,X){if(M.t50706!=null||M.t271[0].startsWith("Hasselblad")){var J=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var $=0;$<J.length;$++)if(M["t"+J[$]]!=null)M["t"+J[$]]=t.raw.a21(M["t"+J[$]]);if(M.t271&&M.t271[0].startsWith("Hasselblad")){M.t50706=[1,2,0,0];
M.t33422=t.raw.Gc[1];M.t50723=[1,0,0,0,1,0,0,0,1];M.t50778=[17];if(!M.isLE)for(var $=0;$<M.data.length;
$+=2){var q=M.data[$];M.data[$]=M.data[$+1];M.data[$+1]=q}}if(M.t272&&M.t272[0]=="HERO10 Black"){M.t50728=[.469725,1,.739884];
if(!M.t305[0].startsWith("Adobe")){var W=new Uint16Array(M.data.buffer);for(var $=0;$<W.length;$++)W[$]>>>=2}}return}var T=M.t258[0],_=M.exifIFD,X=new Uint8Array(X);
M.t50706=[1,2,0,0];var m=M.t271[0].trim(),d=M.t272[0].trim();if(M.t50708==null)M.t50708=[m+" "+d];var A=(m+":"+d).toLowerCase().trim(),p=CAMS[A];
if(A=="panasonic:dmc-lx2")p[3]=1<<16;if(p==null){alert("Unknown camera:"+A);if(A.startsWith("canon"))p=[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,512,16e3]}if(p!=null){var a=p[2];
M.t50714=[a,a,a,a];if(M.t272=="Canon EOS REBEL T3")p[3]=13584;M.t50717=[p[3]];M.t50721=p[0].slice(0);
for(var $=0;$<9;$++)M.t50721[$]=M.t50721[$]*(1/1e4)}M.t50723=[1,0,0,0,1,0,0,0,1];if(M.t50728==null)M.t50728=[.35,1,.6];
M.t50778=[17];if(m.startsWith("OLYMPUS")||m.startsWith("OM Digital Solutions")){M.t33422=[2,1,1,0];var f=_.t41730,G;
if(f)M.t33422=[f[4],f[5],f[6],f[7]];var s=M.t50341;if(s==null)s=_.t36864;var j=t.raw.aza(s.buffer,M);
M.data=new Uint8Array(j.buffer);if((M.height&1)==1)M.t50829=[0,0,M.height-1,M.width];var Y=_.makerNote,Q=Y.t8256;
if(Q)G=Q.t256;else G=Y.t12288.t256;if(G)M.t50728=[256/G[0],1,256/G[1]]}else if(M.t271[0].startsWith("SONY")){var Z=UTIF["_bin"+(M.isLE?"LE":"BE")],g=M.t28688,V;
if(JSON.stringify(g)!="[8000,10400,12900,14100]")console.log(g);if(g&&g.join("")!="0000"){var S=[0,0,0,0,0,4095],U=new Uint16Array(16385);
for(var $=0;$<4;$++){var B=g[$]>>>2;S[$+1]=B;if(B>4095)throw"e"}for(var $=0;$<16385;$++)U[$]=$;for(var $=0;
$<5;$++)for(var e=S[$]+1;e<=S[$+1];e++)U[e]=U[e-1]+(1<<$);var P=X.length*8<M.width*M.height*T;if(P)M.t50712=U}else console.log("no curve");
var h=M.dngPrvt;if(h){var I=h.t29184[0],F=h.t29185[0],c=(M.isLE?H.UQ:H.Z3)(h.t29217,0),D=new Uint32Array(X.slice(I,I+(F&4294967292)).buffer),n=new Uint32Array(F>>>2);
t.raw.aFS(D,n,F>>>2,c);var k=new Uint8Array(I+F);k.set(new Uint8Array(n.buffer),I);var b=[];UTIF._readIFD(Z,k,I,b,0,!1);
var N=b.pop(),L=N.t29458;M.t50728=[L[1]/L[0],1,L[1]/L[3]];M.t50730=[.5];var R=N.t29891;M.t50829=[R[1],R[0],R[3],R[2]]}else if(_.makerNote&&_.makerNote.t8208){var V=_.makerNote,i=V.t8208,v=i.length,E=0,u=new Uint8Array(256);
for(var $=249;$<256;$++)u[$]=$;for(var $=0;$<249;$++)u[$*$*$%249]=$;for(var $=0;$<v;$++)i[$]=u[i[$]];
if(v==6604)E=612;else throw"e";var L=[];for(var $=0;$<3;$++)L.push(H.MZ(i,E+$*2));console.log(L);M.t50728=[L[1]/L[0],1,L[1]/L[2]]}else console.log("no white balance");
if(M.width*M.height*1.5==M.t279[0]){a=a>>>2;M.t50714=[a,a,a,a];M.t50717=[p[3]>>>2]}}else if(M.t271[0].startsWith("Canon")){var X=M.data,C=X.slice(0),l=M.t50752,x=[],ge=0;
if(l==null||l[0]==0&&l[1]==0)x.push(M.width);else{for(var $=0;$<l[0];$++)x.push(l[1]);x.push(l[2])}var y=M.width*2,O=M.t50885&&M.t50885[0]==4;
if(!O)for(var kz=0;kz<x.length;kz++){var z=x[kz],eZ=2*ge,kM=2*z;for(var jV=0;jV<M.height;jV+=2){var cL=jV*y+eZ,aw=M.height*eZ+jV*kM;
for(var $=0;$<kM;$++){X[cL+$]=C[aw+$];X[cL+$+y]=C[aw+$+kM]}}ge+=z}else{var h2=new Uint16Array(C.buffer),ea=new Uint16Array(X.buffer);
function ht(gE,bS){ea[bS*3+0]=h2[gE*3+0];ea[bS*3+1]=h2[gE*3+1];ea[bS*3+2]=h2[gE*3+2]}var jn=(l[0]*l[1]+l[2])/M.width;
for(var kz=0;kz<x.length;kz++){var z=Math.round(x[kz]/jn);for(var jV=0;jV<M.height;jV++){var gE=M.height*ge+(jn==3?(jV>>>3)*8+[0,4,1,5,2,6,3,7][jV&7]:jV)*z,bS=jV*M.width+ge;
for(var bi=0;bi<z;bi++)ht(gE+bi,bS+bi)}ge+=z}var cj=new Uint16Array(X.buffer),bb=new Uint16Array(1),c0=new Int16Array(bb.buffer);
for(var $=0;$<cj.length;$+=3){var cV=cj[$],g_=cj[$+1],hx=cj[$+2];bb[0]=g_<<2;g_=c0[0]>>2;bb[0]=hx<<2;
hx=c0[0]>>2;cj[$+0]=Math.max(0,hx+cV);cj[$+1]=Math.max(0,(cV<<12)-g_*778-(hx<<11)>>12);cj[$+2]=Math.max(0,g_+cV)}}var V=_.makerNote,gE=V.t224;
if(gE){var I=M.t50719=[gE[5],gE[6]],au=M.t50720=[gE[7]+1-gE[5],gE[8]+1-gE[6]],kP=V.t154;if(kP){I[0]+=kP[3];
I[1]+=kP[4];au[0]=kP[1];au[1]=kP[2]}}if(V.t16385){var iK=V.t16385,b3=iK.length;if(iK instanceof Array)iK=new Uint16Array(iK);
if(iK instanceof Uint8Array)iK=new Int16Array(iK.slice(0).buffer);var fs=iK[0];if(b3==1273||b3==1275)fs=66;
var ch=[[null,null,null],[63,196,null],[63,231,null],[63,231,null],[63,231,696],[63,231,696],[63,231,719],[63,231,719],[null,null,null],[63,231,723],[63,504,508],[63,728,732],[63,326,782],[63,326,782],[63,326,560],[63,326,782],[71,329,796],[71,329,796],[71,329,796],[71,329,796]];
ch[-3]=[71,264,662];ch[-4]=[71,333,1385];ch[66]=[63,251,483];ch[32]=[85,343,810];ch[33]=[85,343,810];
ch[34]=[105,363,640];ch[48]=[105,363,640];var hv=ch[fs];if(hv==null){if(b3==582)hv=[25,166,null];if(b3==653)hv=[34,286,null]}var E=hv[0],g6=hv[1],ef=hv[2];
if(E)M.t50728=[iK[E+1]/iK[E],1,iK[E+1]/iK[E+3]];if(g6)M.t50714=[iK[g6],iK[g6],iK[g6],iK[g6]];if(ef)M.t50717=[iK[ef]]}else{M.t50728=[.4,1,.6]}if(O){M.t277=[3];
M.t50728=[1,1,1];M.t50714=[0,0,0,0]}}else if(M.t271[0].startsWith("NIKON")){var V=_.makerNote,fN=M.isLE?H.MZ:H.Wp,dY=0,jM=0,aW,ew=0;
if(V.t61){var kb=V.t61,cn=[];for(var $=0;$<4;$++)cn[$]=kb[$]/Math.pow(2,14-T);M.t50714=cn}if(V.t3585){var dF=V.t3585,$=0,I=22;
while(I<dF.length&&$!=-4){var et=H.UQ(dF,I);I+=4;I+=14;$=H.UQ(dF,I)-4;I+=4;if(et==1990472198){if(dF[I]!=0)throw"Flip"}if(et==1990472199){var bh=H.MZ(dF,I);
if(bh==0)M.lY=1;else if(bh==270)M.lY=8;else throw"e "+bh}I+=$}}if(V.t183){var bz=V.t183,au=[];for(var $=0;
$<6;$++)au.push(fN(bz,16+$*2));dY=au[0];jM=au[1]}if(V.t3614){var hh=V.t3614;dY=H.UQ(hh,8);jM=H.UQ(hh,12)}if(dY!=0&&Math.max(dY,jM)<Math.max(M.width,M.height)){if(dY<jM){var q=dY;
dY=jM;jM=q}var bi=M.width-dY>>>1,jV=M.height-jM>>>1;M.t50829=[jV,bi,jV+jM,bi+dY]}else M.t50829=[8,8,M.height-8,M.width-56];
var dM=V.t69;if(dM){var iX=dM[1];if((iX&1)==1)iX++;M.t50829=[iX,dM[0],iX+dM[3],dM[0]+dM[2]]}if(V.t12){var eC=t.raw.a21(V.t12);
aW=[1/eC[0],1,1/eC[1]]}else if(V.t151){var dh=t.raw.avJ(V,151),ff=dh[0],i3=dh[1],fE=dh[2];if(ff=="0100"&&i3>=80){var dX=[];
for(var $=0;$<4;$++)dX.push(fN(fE,68+$*2));aW=[dX[3]/dX[0],1,dX[3]/dX[1]]}else if(ff=="0102"){var dX=[];
for(var $=0;$<4;$++)dX.push(fN(fE,6+$*2));aW=[dX[1]/dX[0],1,dX[1]/dX[3]]}else if(ff=="0103"&&i3>=26){var dX=[];
for(var $=0;$<4;$++)dX.push(fN(fE,16+$*2));aW=[dX[1]/dX[0],1,dX[3]/dX[2]]}else if(ff=="0204"&&i3>=564||ff=="0205"&&i3>=284){var I=ff=="0204"?6:14,dX=[];
for(var $=0;$<4;$++)dX.push(fN(fE,I+$*2));aW=[dX[1]/dX[0],1,dX[1]/dX[3]]}else throw"e"}else console.log("no white balance info");
if(d=="NIKON D1")aW=[1,1,1];if(aW)M.t50728=aW;var i2=V.t150?V.t150:V.t140;if(i2){var hW=i2[ew++],jt=i2[ew++],ba;
if(hW==73||jt==88)ew+=2110;ew+=8;var h3=1<<T&32767,dl=fN(i2,ew);ew+=2;var U=[];if(dl>1)ba=Math.floor(h3/(dl-1));
if(hW==68&&jt==32&&ba>0){for($=0;$<dl;$++){U[$*ba]=fN(i2,ew);ew+=2}for($=0;$<h3;$++)U[$]=Math.floor((U[$-$%ba]*(ba-$%ba)+U[$-$%ba+ba]*($%ba))/ba)}else if(hW!=70&&dl<=16385){h3=dl;
for(var $=0;$<dl;$++)U[$]=fN(i2,ew+2*$);ew+=2*dl}var d=M.t272[0];if(U.length!=0)M.t50712=new Uint16Array(U);
if(M.t258[0]==14&&M.t50717&&M.t50717[0]<1e4){console.log("fixing white");M.t50717[0]*=4}}}else if(m.startsWith("FujiFilm")){}else if(m.startsWith("Panasonic")){if(M.t277==null)M.t277=[1]}else alert("Unknown camera "+m)};
t.raw.aFS=function(M,X,J,q){if(0==J)return;var W=new Uint32Array(128),T=new Uint8Array(W.buffer),_=127,m=0,d=0;
for(var _=0;_<4;_++)W[_]=q=(q*15625>>>0)*3125+1>>>0;W[3]=W[3]<<1|(W[0]^W[2])>>>31;for(var _=4;_<127;
_++)W[_]=(W[_-4]^W[_-2])<<1|(W[_-3]^W[_-1])>>>31;for(var _=0;_<127;_++)W[_]=H.Z3(T,_*4);for(;J>0;J--){W[_&127]=W[_+1&127]^W[_+1+64&127];
var A=W[_&127],p=M[m];p^=A;X[d]=p;m++;d++;_++}};t.raw.aHz=function(M,X){var J=H.zb(X,0,4),q=t.raw.a7y;
for(var $=0;$<q.length;$++)if(q[$][0]==M&&J.startsWith(q[$][1])&&(q[$][2]==0||q[$][2]==X.length))return q[$];
throw"e"};t.raw.aiD=function(M){if(M.t29==null)return[];var X=t.raw.aHA,J=t.raw.as2,q=M.t29[0],W=0,_=0;
for(var $=0;$<q.length;$++){var T=q.charCodeAt($);W=W*10+(48<=T&&T<=57?T-48:T%10)}var i3=M.t167[0];for(var $=0;
$<4;$++)_^=i3>>>($<<3)&255;var m=X[W&255],d=J[_&255];return[m,d,96]};t.raw.avJ=function(M,X){var J=M["t"+X],i3=J.length,q=t.raw.aHz(X,J),W=H.zb(J,0,4),T,_=q[4];
if(_==null)T=J.slice(4);else{T=new Uint8Array(i3-_);var m=t.raw.aiD(M),d=m[0],A=m[1],p=m[2];for(var $=0;
$<T.length;$++){A=A+d*p++&255;T[$]=J[_++]^A}}return[W,i3,T]};t.raw.aza=function(M,X){var J=X.t271[0],q=X.t272[0],W=X.t256[0],T=X.t257[0],_=X.t258[0],m=X.t273[0],d=m,A=new Uint8Array(M),p,a=W-4,f=T,s=A.length-m,G=0,Q=0;
function j(){var B=new Uint16Array(4096),jX=0;B[jX]=3084;for(var $=12;$--;)for(var e=0;e<2048>>$;e++)B[++jX]=$+1<<8|$;
return B}function Y(){return A[d++]}function Z(B,e){var P;if(B>25)return 0;if(B==0||Q<0)return 0;if(B<0){G=0;
Q=0;return 0}while(Q<B){P=Y();if(P==null)break;G=(G<<8)+(255&P);Q+=8}P=Q==0?0:G<<32-Q>>>32-B;if(e){Q-=e[P]>>8;
P=255&e[P]}else Q-=B;return P}function g(){var B=j();d+=7;Z(-1);for(var e=0;e<f;e++){var P=[new Int32Array(3),new Int32Array(3)];
for(var h=0;h<W;h++){var V=P[h&1],$=2*(V[2]<3),I;for(I=2+$;(65535&V[0])>>I+$;I++);var F=Z(3),c=F&3;F=F<<29>>31;
var D=Z(12,B);if(D==12)D=Z(16-I)>>>1;var n=Z(I);V[0]=D<<I|n;var k=(V[0]^F)+V[1];V[1]=k*3+V[1]>>5;V[2]=V[0]>16?0:V[2]+1;
if(h>=a)continue;var b=p[e*W+h-2],jX=p[(e-2)*W+h],N=p[(e-2)*W+h-2];p[e*W+h]=(e<2&&h<2?0:e<2?b:h<2?jX:b<N&&N<jX||jX<N&&N<b?Math.abs(b-N)>32||Math.abs(jX-N)>32?b+jX-N:b+jX>>1:Math.abs(b-N)>Math.abs(jX-N)?b:jX)+(k<<2|c)}}}function S(){var B=W*_/8,e=T+1>>1,h=0,V=0;
B+=B&6>>7;var P=B*8-W*_;for(var I=0;I<T;I++){var F=I%e*2+~~(I/e);if(F==1){h=0;d=m-(-e*B&-2048)}for(var c=0;
c<W;c++){for(h-=_;h<0;h+=8){V<<=8;for(var $=0;$<8;$+=8)V|=Y()<<$}var D=V<<64-_-h>>>64-_;p[F*W+c]=D}h-=P}}function U(){var B=!J.startsWith("OLYMPUS")||!J.startsWith("OM Digi")||!J.toLowerCase().startsWith("clauss")&&!q.toLowerCase().startsWith("pix 5oo");
return B&&s<W*T*(_/8)}if(U()){p=new Uint16Array(a*f);g()}else if(W*T*2==X.data.length){p=new Uint16Array(X.data.buffer)}else{p=new Uint16Array(W*T);
S()}return p};t.raw.a7y=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
t.raw.aHA=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
t.raw.as2=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
t.iN={};t.iN.iN=function(M,X,J,q,W){if(q==null)q=3;if(W==null)W=!0;var T=M.r,_=M.$,m=1/T,d=T*_,A=Date.now(),p=!1,a=t.iN.apc(J,T,_,255,128),f=t.iN.apc(J,T,_,0,128),ge=0;
if(p)console.log("extract contours",Date.now()-A);A=Date.now();var s=function(cn,dF){var et=cn<<2,bh=dF<<2;
return X[et]+X[et+1]+X[et+2]-(X[bh]+X[bh+1]+X[bh+2])};a.sort(s);f.sort(s);var j=t.j(d),Y=t.j(d),G=[],Q=new Uint32Array(T*_);
Q.fill(4294967295);for(var $=0;$<d;$++)if(J[$]==0)Y[$]=255;else if(J[$]==255)j[$]=255;else{Q[$]=G.length;
G.push($)}var Z=a.length,g=f.length,S=G.length;function U(cn,dF,et,bh){var dY=cn.length,jM=new Array(dY*2);
for(var $=0;$<dY;$++){var b=cn[$],N=~~(b*bh),L=b-N*et,ef=b<<2;jM[$*2]=L<<16|N;jM[$*2+1]=dF[ef]<<16|dF[ef+1]<<8|dF[ef+2]}return jM}var B=U(a,X,T,m),e=U(f,X,T,m),P=U(G,X,T,m);
if(p)console.log("Itemize",Date.now()-A,"Unknown:",S,Z,g);A=Date.now();var h=t.style.x5(j,T,_,!0),V=t.style.x5(Y,T,_,!0),I=new Array(S),F=new Array(S),c=new Array(S),D=new Array(S),n=new Array(S);
if(p)console.log("Dist transform",Date.now()-A);A=Date.now();var k=t.iN.rx;for(var $=0;$<S;$++){var b=G[$],N=~~(b*m),L=b-N*T,R=h[b<<1],i=h[(b<<1)+1],v=Math.sqrt(R*R+i*i),E=V[b<<1],u=V[(b<<1)+1],C=Math.sqrt(E*E+u*u);
I[$]=1/v;F[$]=1/C;var l=Math.floor(t.v.HO(b*17)*Z),x=Math.floor(t.v.HO(b*19)*g);c[$]=l;D[$]=x;n[$]=k(P[$*2],P[$*2+1],B[l*2],B[l*2+1],e[x*2],e[x*2+1],I[$],F[$],1e9)}var y=[-T-1,-T,-T+1,-1,1,T-1,T,T+1];
while(Math.floor(Math.max(Z,g)*Math.pow(.5,ge))>1)ge++;for(var O=0;O<q;O++){var kz=0;for(var $=0;$<S;
$++){var b=G[$],N=~~(b*m),L=b-N*T,z=I[$],eZ=F[$],kM=P[$*2],jV=P[$*2+1],cL=n[$],l=c[$],x=D[$],bi=1;if(N!=0&&L!=0&&L!=T-1&&N!=_-1)for(var ea=0;
ea<8;ea++){var ht=Q[b+y[ea]];if(ht==4294967295)continue;var jn=c[ht],gE=D[ht];if(jn==l&&gE==x)continue;
var bS=k(kM,jV,B[jn*2],B[jn*2+1],e[gE*2],e[gE*2+1],z,eZ,cL);if(bS<cL){cL=bS;l=jn;x=gE}}for(var cj=0;
cj<ge;cj++){var bb=~~(Z*bi),c0=~~(g*bi);bi*=.5;var cV=t.v.HO(b+O*17+cj*31),g_=t.v.HO(b+O*29+cj*63),hx=Math.max(0,l-bb),au=Math.min(l+bb,Z-1),kP=Math.max(0,x-c0),b3=Math.min(x+c0,g-1),jn=hx+~~(cV*(au-hx)),gE=kP+~~(g_*(b3-kP)),bS=k(kM,jV,B[jn*2],B[jn*2+1],e[gE*2],e[gE*2+1],z,eZ,cL);
if(bS<cL){cL=bS;l=jn;x=gE}}n[$]=cL;c[$]=l;D[$]=x;kz+=cL}}if(p)console.log(kz);if(p)console.log("iterations",Date.now()-A);
A=Date.now();var fs=J.slice(0);for(var $=0;$<S;$++){var ch=t.iN.alpha(P[$*2+1],B[c[$]*2+1],e[D[$]*2+1]);
fs[G[$]]=~~(.5+255*ch)}fs=t.U5.atx(fs,X,new gc(0,0,T,_),16,.01*.01);if(p)console.log("guided filter",Date.now()-A);
A=Date.now();if(W)for(var $=0;$<d;$++)if(J[$]==255||J[$]==0)fs[$]=J[$];var hv=X.slice(0);for(var $=0;
$<S;$++){var g6=G[$],l=a[c[$]],cL=n[$],ef=g6<<2,fN=fs[g6],kb=(fN>=250?g6:l)<<2;hv[ef]=X[kb];hv[ef+1]=X[kb+1];
hv[ef+2]=X[kb+2]}t.ix(fs,hv,3);if(p)console.log(Date.now()-A);A=Date.now();return hv};t.iN.rx=function(M,X,J,q,W,T,_,m,d){var A=M>>>16,p=M&65535,a=A-(J>>>16),f=p-(J&65535),s=A-(W>>>16),j=p-(W&65535),Y=Math.sqrt(a*a+f*f)*_,G=Math.sqrt(s*s+j*j)*m;
if(Y+G>=d)return 1e9;var Q=t.iN.aku(X,q,T);return Q+Y+G};t.iN.aku=function(M,X,J){var q=M>>>16,W=M>>>8&255,T=M&255,_=X>>>16,m=X>>>8&255,d=X&255,A=J>>>16,p=J>>>8&255,a=J&255,f=t.iN.alpha(M,X,J),s=q-(f*_+(1-f)*A),j=W-(f*m+(1-f)*p),Y=T-(f*d+(1-f)*a);
return Math.sqrt(s*s+j*j+Y*Y)};t.iN.alpha=function(M,X,J){var q=M>>>16,W=M>>>8&255,T=M&255,_=X>>>16,m=X>>>8&255,d=X&255,A=J>>>16,p=J>>>8&255,a=J&255,f=_-A,s=m-p,j=d-a,Y=q-A,G=W-p,Q=T-a,Z=f*f+s*s+j*j,g=Z==0?.5:(Y*f+G*s+Q*j)/Z;
return Math.max(0,Math.min(1,g))};t.iN.aly=function(M){};t.iN.apc=function(M,X,J,q,W){var T=[],_=X-1,m=J-1;
for(var d=1;d<m;d++)for(var A=1;A<_;A++){var $=d*X+A;if(M[$]==q&&(M[$-X-1]==W||M[$-X]==W||M[$-X+1]==W||(M[$-1]==W||M[$+1]==W)||(M[$+X-1]==W||M[$+X]==W||M[$+X+1]==W)))T.push($)}return T};
t.U5={};t.U5.a0l=function(M,X,J,q,W){var T=J.r,_=J.$,m=T*_,d=t.U5.a4X,A=t.j(m*4),p;A.fill(255);var a=J,f=M,s=X,j=q;
t.ix(M,A,0);p=t.Es(A,J);p=t.Es(p.hT,p.S);a=p.S;j=q>>>2;console.log(a,j);f=t.j(a.o());t.SF(p.hT,f,0);
t.ix(X,A,0);p=t.Es(A,J);p=t.Es(p.hT,p.S);s=t.j(a.o());t.SF(p.hT,s,0);var Y=t.U5.aH8(f,s,a,j,W),G=Y[0],Q=Y[1],Z=new gc(0,0,a.r*2,a.$*2);
G=d(G,a,Z,!0);G=d(G,Z,J,!0);Q=d(Q,a,Z,!0);Q=d(Q,Z,J,!0);var g=t.j(m);for(var $=0;$<m;$++)g[$]=Math.max(0,Math.min(255,Math.floor(.5+(G[$]*X[$]+255*Q[$]))));
return g};t.U5.zp=function(M,X,J,q){X.set(M);t.zp.IV(X,J,q)};t.U5.a4X=function(M,X,J,q){var W=J.r,T=J.$,_=X.r,m=X.$,d=t.U5.GN,A=new Float32Array(W*T);
for(var p=0;p<m;p++){var a=(p+p)*W;for(var f=0;f<_;f++){if(!0||f==0||p==0||f==_-1||p==m-1)A[a]=A[a+1]=A[a+W]=A[a+W+1]=M[p*_+f];
else{A[a]=d(f+.25,p+.25,M,_,m);A[a+1]=d(f+.75,p+.25,M,_,m);A[a+W]=d(f+.25,p+.75,M,_,m);A[a+W+1]=d(f+.75,p+.75,M,_,m)}a+=2}}return A};
t.U5.GN=function(M,X,J,q,W){M-=.499999;X-=.499999;var T=Math.floor(M),_=Math.floor(X),m=_*q+T,d=M-T,A=X-_,p=(1-A)*(1-d),a=(1-A)*d,f=A*(1-d),s=A*d;
if(J[m]==null||J[m+q+1]==null){console.log(M,X,q,W);throw"e"}return p*J[m+0]+a*J[m+1]+f*J[m+q+0]+s*J[m+q+1]};
t.U5.aH8=function(M,X,J,q,W){var T=J.r,_=J.$,m=T*_,d=t.U5.aeN,A=t.U5.j,p=t.U5.zp,a=t.U5.Ry,X=d(X,m),M=d(M,m),f=A(m);
p(X,f,J,q);var s=A(m);p(M,s,J,q);var j=A(m);a(X,X,j);p(j,j,J,q);var Y=A(m);a(X,M,Y);p(Y,Y,J,q);var G=A(m),Q=A(m);
for(var $=0;$<m;$++){var Z=f[$],g=s[$],S=j[$]-Z*Z,U=Y[$]-Z*g,B=U/(S+W),e=g-B*Z;G[$]=B;Q[$]=e}var P=A(m);
p(G,P,J,q);var h=A(m);p(Q,h,J,q);return[P,h]};t.U5.atx=function(M,X,J,q,W){var T=J.r,_=J.$,m=T*_,d=t.U5.a4X,A=Date.now(),p=!1,a=J,f=M,s=X,j=q;
a=new gc(0,0,T>>>2,_>>>2);j=q>>>2;f=t.U5.au5(M,T,_);s=t.U5.agP(X,T,_);if(p)console.log(Date.now()-A);
A=Date.now();var Y=t.U5.a3n(f,s,a,j,W),G=Y[0],Q=Y[1],Z=Y[2],g=Y[3];if(p)console.log(Date.now()-A);A=Date.now();
var S=t.j(m);for(var U=0;U<_;U++)for(var B=0;B<T;B++){var $=U*T+B,e=(U>>>2)*(T>>>2)+(B>>>2),P=$<<2,h=G[e]*X[P]+Q[e]*X[P+1]+Z[e]*X[P+2]+g[e]*255;
S[$]=Math.max(0,Math.min(255,~~(.5+h)))}if(p)console.log(Date.now()-A);A=Date.now();return S};t.U5.au5=function(M,X,J){var q=X>>>2,W=J>>>2,T=t.j(q*W);
for(var _=0;_<W;_++)for(var m=0;m<q;m++)T[_*q+m]=M[_*X+m<<2];return T};t.U5.agP=function(M,X,J){var q=X>>>2,W=J>>>2,T=t.j(q*W*4);
for(var _=0;_<W;_++)for(var m=0;m<q;m++){var d=_*q+m<<2,A=_*X+m<<4;T[d]=M[A];T[d+1]=M[A+1];T[d+2]=M[A+2];
T[d+3]=M[A+3]}return T};t.U5.a3n=function(M,X,J,q,W){var T=J.r,_=J.$,m=T*_,d=t.U5.aeN,A=t.U5.j,p=t.U5.zp,a=t.U5.Ry,M=d(M,m),f=new t.Uy(T*_);
t.Qf(X,f);var X=[d(f.z,m),d(f.L,m),d(f.g,m)],s=t.U5.apn(M,X,J,q,W),j=A(m);p(M,j,J,q);var Y=A(m);a(X[0],M,Y);
p(Y,Y,J,q);var G=A(m);a(X[1],M,G);p(G,G,J,q);var Q=A(m);a(X[2],M,Q);p(Q,Q,J,q);var Z=A(m),g=A(m),S=A(m),U=A(m);
for(var $=0;$<m;$++){var B=j[$],e=s.zT[$],P=s.K1[$],h=s.S2[$],V=Y[$]-e*B,I=G[$]-P*B,F=Q[$]-h*B;Z[$]=s.avw[$]*V+s.wY[$]*I+s.GW[$]*F;
g[$]=s.wY[$]*V+s.adm[$]*I+s.HT[$]*F;S[$]=s.GW[$]*V+s.HT[$]*I+s.aw1[$]*F;U[$]=B-Z[$]*e-g[$]*P-S[$]*h}p(Z,Z,J,q);
p(g,g,J,q);p(S,S,J,q);p(U,U,J,q);return[Z,g,S,U]};t.U5.apn=function(M,X,J,q,W){var T=J.r,_=J.$,m=T*_,d=t.U5.j,A=t.U5.zp,p=t.U5.Ry,a={};
a.zT=d(m);A(X[0],a.zT,J,q);a.K1=d(m);A(X[1],a.K1,J,q);a.S2=d(m);A(X[2],a.S2,J,q);var f=d(m);p(X[0],X[0],f);
A(f,f,J,q);var s=d(m);p(X[0],X[1],s);A(s,s,J,q);var j=d(m);p(X[0],X[2],j);A(j,j,J,q);var Y=d(m);p(X[1],X[1],Y);
A(Y,Y,J,q);var G=d(m);p(X[1],X[2],G);A(G,G,J,q);var Q=d(m);p(X[2],X[2],Q);A(Q,Q,J,q);a.avw=f;a.wY=s;
a.GW=j;a.adm=Y;a.HT=G;a.aw1=Q;for(var $=0;$<m;$++){var Z=a.zT[$],g=a.K1[$],S=a.S2[$],U=f[$]-Z*Z+W,B=s[$]-Z*g,e=j[$]-Z*S,P=Y[$]-g*g+W,h=G[$]-g*S,V=Q[$]-S*S+W,I=P*V-h*h,F=h*e-B*V,c=B*h-P*e,D=U*V-e*e,n=e*B-U*h,k=U*P-B*B,b=I*U+F*B+c*e,N=1/b;
a.avw[$]=I*N;a.wY[$]=F*N;a.GW[$]=c*N;a.adm[$]=D*N;a.HT[$]=n*N;a.aw1[$]=k*N}return a};t.U5.j=function(M){return new Float32Array(M)};
t.U5.aeN=function(M,X){var J=new Float32Array(X);for(var $=0;$<X;$++)J[$]=M[$]*(1/255);return J};t.U5.Ry=function(M,X,J){for(var $=0;
$<M.length;$++)J[$]=M[$]*X[$]};t.u$={};t.u$.o4=function(M,X,J,q){var W=M[X]-J[q],T=M[X+1]-J[q+1],_=M[X+2]-J[q+2];
return Math.sqrt(W*W+T*T+_*_)*(1/441.7)};t.u$.getSelection=function(M,X,J){var q=X*J,W=t.j(q),T=!1,_=Math.round(J*.7),m=1,d=new Uint32Array(12),A=t.j(12);
for(var p=0;p<_;p++)for(var a=0;a<X;a++){if(a<m||p<m||a>X-m-1||p>J-m-1){var $=p*X+a,f=$<<2,s=0;if(p<m)s=4;
else if(a>X-m-1)s=8;d[s]+=M[f];d[s+1]+=M[f+1];d[s+2]+=M[f+2];d[s+3]++;W[$]=255}}for(var $=0;$<12;$+=4)for(var j=0;
j<3;j++)A[$+j]=d[$+j]/d[$+3];var Y=new Float32Array(q);for(var $=0;$<q;$++){var f=$*4,G=t.u$.o4(M,f,A,0),Q=t.u$.o4(M,f,A,4),Z=t.u$.o4(M,f,A,8),g=Math.max(G,Math.max(Q,Z));
Y[$]=G+Q+Z-g}t.u$.sE(Y);var S=Date.now(),U=new Float32Array(q),B=[],e=t.j(q);for(var $=0;$<3;$++){t.SF(M,e,$);
var P=new Uint16Array(q);B.push(P);t.u$.aGW(e,W,X,J,P)}if(T)console.log("MBD",Date.now()-S);S=Date.now();
for(var $=0;$<q;$++)U[$]=B[0][$]+B[1][$]+B[2][$];t.u$.sE(U);for(var $=0;$<q;$++)U[$]+=.4*Y[$];var h=X>>>1,_=J>>>1,V=1/Math.sqrt(h*h+_*_);
for(var p=0;p<J;p++)for(var a=0;a<X;a++){var I=a-h,F=p-_,c=1-Math.sqrt(I*I+F*F)*V;U[p*X+a]*=c}if(T)console.log("Centeredness",Date.now()-S);
S=Date.now();for(var $=0;$<q;$++)W[$]=U[$]*255;var D=Math.round(X/120),n=Math.round(D*.8);if(T)console.log(D,n);
t.u7.dV(W,W,X,J,D+D+1,!1);if(T)console.log("erosion",Date.now()-S);S=Date.now();for(var $=0;$<q;$++)U[$]=W[$];
t.u$.sE(U);var k=t.j(256);for(var $=0;$<256;$++)k[$]=256/(1+Math.exp(-20*($/255-.5)));for(var $=0;$<q;
$++){var b=~~(U[$]*255+.5);W[$]=k[b]}if(T)console.log("Simoid",Date.now()-S);S=Date.now();return W};
t.u$.sE=function(M){var X=M.length,J=0;for(var $=0;$<X;$++)J=Math.max(J,M[$]);var q=1/J;for(var $=0;
$<X;$++)M[$]=M[$]*q};t.u$.aGW=function(M,X,J,q,W){var T=J*q,_=M.slice(0),m=M.slice(0);for(var $=0;$<T;
$++)W[$]=X[$]==255?0:65535;t.u$.a1w(M,m,_,W,J,q);t.u$.aEw(M,m,_,W,J,q);t.u$.a1w(M,m,_,W,J,q);t.u$.aEw(M,m,_,W,J,q);
return W};t.u$.a1w=function(M,X,J,q,W,T){for(var _=1;_<W;_++)t.u$.WF(_,-1,M,X,J,q);for(var m=1;m<T;m++){t.u$.WF(m*W,-W,M,X,J,q);
for(var _=1;_<W;_++){var $=m*W+_;t.u$.WF($,-1,M,X,J,q);t.u$.WF($,-W,M,X,J,q)}}};t.u$.aEw=function(M,X,J,q,W,T){for(var _=W-2;
_>=0;_--)t.u$.WF(W*T-W+_,1,M,X,J,q);for(var m=T-2;m>=0;m--){t.u$.WF(m*W+W-1,W,M,X,J,q);for(var _=W-2;
_>=0;_--){var $=m*W+_;t.u$.WF($,1,M,X,J,q);t.u$.WF($,W,M,X,J,q)}}};t.u$.WF=function($,M,X,J,q,W){var T=$+M,_=X[$],m=J[T],d=q[T];
if(m<_)m=_;else if(_<d)d=_;var A=m-d;if(W[T]!=65535&&A<W[$]){W[$]=A;J[$]=m;q[$]=d}};t.Qb={};t.Qb.filter=function(M,X,J,q){var W=X.r,T=X.$,_=W*T,m=q[0],d=q[1],A=q[2],p=q[3],a=q[4],f=q[5],s=q[6],j=Date.now(),Y=new Float32Array(W*T*4);
t.Qb.a30(M,W,T,Y);var G=Math.ceil(m*Math.sqrt(-2*Math.log(.1))),Q=new ArrayBuffer(_*4),Z=new Float32Array(Q),g=new Float32Array(_),S=new Float32Array(_);
for(var $=0;$<_;$++){var U=$*4;Z[$]=Y[U];g[$]=Y[U+1];S[$]=Y[U+2]}t.zp.zk(Z,X,G*1/2.4,2);t.zp.zk(g,X,G*1/2.4,2);
t.zp.zk(S,X,G*1/2.4,2);for(var $=0;$<_;$++){var U=$*4;Y[U]=Z[$];Y[U+1]=g[$];Y[U+2]=S[$]}var B=new Uint8Array(Q);
for(var $=0;$<_;$++){var U=$*4,e=$*4,Z=Y[U],g=Y[U+1],S=Y[U+2],P=Math.sqrt((Z-S)*(Z-S)+4*g*g),h=(Z+S+P)*.5,V=(Z+S-P)*.5,I=V-S,F=g,c=I*I+F*F;
if(c!=0){var D=Math.sqrt(c),n=1/D;I*=n;F*=n}B[e]=128+127*I;B[e+1]=128+127*F}var k=1.3*d+2,b=p*(2/10),N=M.slice();
if(aq.zw){var L=new Float32Array([1/W,1/T]),R=aq.hu(0,W,T);R.set(N);var i=aq.hu(1,W,T);i.set(B);aq.O$(R,X);
if(a){R.YB(X);aq.filter.te({e:aq.filter.aDB,LU:L,aIn:1/A,aAp:b},R.cR)}R.YB(X);aq.filter.te({e:aq.filter.PN,g6:i.SX,LU:L,J6:k,lT:2},R.cR);
if(a){R.YB(X);aq.filter.te({e:aq.filter.afZ,LU:L,awC:new Float32Array(s),aeE:f},R.cR)}R.get(J)}else{if(a)t.Qb.YM(1/A,b,N,W,T);
t.Qb.PN(N,J,B,W,T,k);if(a)t.Qb.a66(W,T,J,s,f)}var v=_*4;for(var $=3;$<v;$+=4)J[$]=M[$]};t.Qb.PN=function(M,X,J,q,W,T){var _=Math.ceil(2*T),m=-1/(2*T*T),d=[],A=1;
for(var $=0;$<_+20;$++)d[$]=Math.exp($*$*m);var p=[0,0,0,0];for(var a=0;a<W;a++){for(var f=0;f<q;f++){var s=a*q+f,j=s*4,Y=1,G=M[j],Q=M[j+1],Z=M[j+2],g=M[j+3],S=(J[j]-128)*(1/127),U=(J[j+1]-128)*(1/127),B=S,e=U,P=f==0?.51:.49,h=a==0?.51:.49;
for(var $=0;$<2;$++){var V=f+P,I=a+h,F=0;while(F<_){if(V<.5||q-.5<V||I<.5||W-.5<I)break;var c=~~V,D=~~I,n=D*q+c,k=n*4,b=(J[k]-128)*(1/127),N=(J[k+1]-128)*(1/127);
if(b*B+N*e<0){b=-b;N=-N}B=b;e=N;V+=A*b;I+=A*N;if(V<.5||q-.5<V||I<.5||W-.5<I)break;var L=~~V,R=~~I,i=R*q+L<<2;
F+=A;var v=d[~~F];t.t.atW(V,I,M,q,W,p);G+=p[0]*v;Q+=p[1]*v;Z+=p[2]*v;g+=p[3]*v;Y+=v}B=-S;e=-U}var E=1/Y;
X[j]=~~(.5+G*E);X[j+1]=~~(.5+Q*E);X[j+2]=~~(.5+Z*E);X[j+3]=~~(.5+g*E)}}};t.Qb.a66=function(M,X,J,q,W){for(var T=0;
T<X;T++)for(var _=0;_<M;_++){var m=T*M+_<<2,d=1+t.Qb.awZ(_,T,J,M,X,q)*W;J[m]=Math.max(0,Math.min(255,J[m]*d));
J[m+1]=Math.max(0,Math.min(255,J[m+1]*d));J[m+2]=Math.max(0,Math.min(255,J[m+2]*d))}};t.Qb.awZ=function(M,X,J,q,W,T){var _=J[(X*q+Math.max(0,M-1))*4+3],m=J[(X*q+Math.min(q-1,M+1))*4+3],d=J[(Math.max(0,X-1)*q+M)*4+3],A=J[(Math.min(W-1,X+1)*q+M)*4+3],p=.7,a=(m-_)*(1/255),f=.7,s=(A-d)*(1/255),j=-a*f,Y=-p*s,G=p*f,Q=Math.sqrt(j*j+Y*Y+G*G),Z=1/Q,g=j*Z,S=Y*Z,U=G*Z,B=T[0]*g+T[1]*S+T[2]*U;
return B};t.Qb.YM=function(M,X,J,q,W){function T(m,A,p){return Math.max(A,Math.min(p,m))}for(var _=0;
_<W;_++)for(var m=0;m<q;m++){var d=t.Qb.agB(m+.5,_+.5,M,X);J[(_*q+m)*4+3]=Math.max(0,Math.min(255,d*255))}};
t.Qb.agB=function(M,X,J,q){function W(e,P,h){return(1-h)*e+h*P}var T=(M+613)*J,_=(X+117)*J,m=~~T,d=~~_,A=T-m,p=_-d,a=Math.sin(11),f=Math.cos(m)*a,s=Math.cos(m+1)*a,j=Math.cos(d)*a,Y=Math.cos(d+1)*a,jX=t.Qb.hash(f,j),G=t.Qb.hash(s,j),Q=t.Qb.hash(f,Y),Z=t.Qb.hash(s,Y),g=W(jX,G,A),S=W(Q,Z,A),U=W(g,S,p);
U=U<.5?0:1;var B=U+q*t.Qb.hash(Math.cos(T)*a,Math.cos(_)*a);return B*(1/3)};t.Qb.hash=function(M,X){var J=Math.sin(M*11.697096+X*73.32456)*12157.47691;
return J-Math.floor(J)};t.Qb.a30=function(M,X,J,q){var W=[-1,0,1,-2,0,2,-1,0,1],T=[-1,-2,-1,0,0,0,1,2,1],_=X-1,m=J-1,d=X*4;
for(var A=1;A<m;A++)for(var p=1;p<_;p++){var $=A*X+p,a=$*4,f=t.Qb.cx(M,a,d,W),s=t.Qb.cx(M,a,d,T),j=t.Qb.cx(M,a+1,d,W),Y=t.Qb.cx(M,a+1,d,T),G=t.Qb.cx(M,a+2,d,W),Q=t.Qb.cx(M,a+2,d,T);
q[a]=f*f+j*j+G*G;q[a+1]=f*s+j*Y+G*Q;q[a+2]=s*s+Y*Y+Q*Q}t.Qb.axG(q,X,J)};t.Qb.cx=function(M,X,J,q){return M[X-J-4]*q[0]+M[X-J]*q[1]+M[X-J+4]*q[2]+M[X-4]*q[3]+M[X]*q[4]+M[X+4]*q[5]+M[X+J-4]*q[6]+M[X+J]*q[7]+M[X+J+4]*q[8]};
t.Qb.axG=function(M,X,J){function q(d,$,A){var p=$*4,a=A*4;d[a]=d[p];d[a+1]=d[p+1];d[a+2]=d[p+2]}var W=X-1,T=J-1;
q(M,X+1,0);q(M,2*X-2,X-1);for(var _=1;_<W;_++)q(M,X+_,_);for(var m=1;m<T;m++){q(M,m*X+1,m*X);q(M,m*X+X-2,m*X+X-1)}for(var _=1;
_<W;_++)q(M,(J-2)*X+_,(J-1)*X+_);q(M,(m-2)*X+1,(m-1)*X);q(M,(m-1)*X-2,m*X-1)};t.wc=function(){function M(A,p,a,f){var s=new Float32Array(A*A),j=A/2;
for(var Y=0;Y<A;Y++)for(var G=0;G<A;G++){var Q=G+a-j,Z=Y+f-j;s[Y*A+G]=Math.max(0,Math.min(1,p+.5-Math.sqrt(Q*Q+Z*Z)))}return s}var X=[],q=null;
function J(A,p,a,f){var s=Math.floor(p*10),j=X[s],Y=A*8,G=Y>>>1;if(j==null){j=X[s]=[];var Q=new gc(0,0,Y,Y),Z=A/2/(1+.2*p),g=Math.floor(A*s*.1);
for(var S=0;S<2;S++)for(var U=0;U<2;U++){var B=M(Y,Z,.25+U*.5,.25+S*.5),e=0;t.zp.zk(B,Q,g);while(B[Y*G+e]<.005)e++;
if(e!=0)e--;var P=2*(G-e),h=new gc(e,e,P,P),V=new Float32Array(P*P);for(var I=0;I<P;I++)for(var F=0;
F<P;F++)V[I*P+F]=B[(e+I)*Y+e+F];j.push([V,h])}}var c=Math.floor(a),D=Math.floor(f),n=a-c,k=f-D,b=n<.5?1:0,N=k<.5?1:0;
j=j[N*2+b];var h=j[1].Q();h.x+=c-G;h.y+=D-G;return[j[0],h]}function W(A,p,a){if(q==null){q=new Uint8Array(4e4);
for(var $=0;$<4e4;$++)q[$]=Math.min(255,~~(.5+255*t.HR($*(1/255))))}var f=A.length;for(var $=0;$<f;$++){var s=A[$],j=~~(255*s);
p[$]=q[j]<<24|a}}function T(A,p,a,f,s){var j=p.Lg(f),Y=Math.max(0,j.x-p.x),G=Math.max(0,j.x-f.x),Q=Math.max(0,j.y-p.y),Z=Math.max(0,j.y-f.y),g=j.r,S=j.$;
for(var $=0;$<S;$++){var U=(Q+$)*p.r+Y,B=(Z+$)*f.r+G;for(var e=0;e<g;e++){a[B+e]+=s*A[U+e]}}}var _=-1;
function m(A,p,a,f,s){var j=Math.round(f[1]*p*a*.01),Y=f[2],G=f[3],Q=f[4],Z=f[5],g=f[6],S=f[7],U=f[8],B=f[9],e=f[10]?f[10]:1,v=!1;
if(Y!=_){X=[];_=Y}var P=Date.now(),h=new gc(0,0,p,a),V=new d(f[0]);if(s)A.fill(0);var I=new Float32Array(s?A.buffer:p*a);
for(var $=0;$<j;$++){var F=V.get()*p,c=V.get()*a,D=V.get()*G,n=V.get()*Y*4,k=(V.get()+g)*Math.PI*2,b=V.get()*Y*4,N=(V.get()+2*g)*Math.PI*2;
F+=B*(n*Math.cos(k)+b*Math.cos(N));c+=B*(n*Math.sin(k)+b*Math.sin(N));if(U)c=c+g*a*e;var L=J(Y,D,F,c%a),R=Q,i=V.get();
if(S)R=.5+.5*Q*(.5+.5*Math.sin((2*g+i)*2*Math.PI));T(L[0],L[1],I,h,R)}if(v)console.log(Date.now()-P,"add floats");
P=Date.now();var E=new Uint8Array(I.buffer);W(I,new Uint32Array(E.buffer),Z.g<<16|Z.L<<8|Z.z);if(v)console.log(Date.now()-P,"toInt");
P=Date.now();if(!s){t.v.r$("scrn",E,h,A,h,h,1);if(v)console.log(Date.now()-P,"blendOver")}}function d(A){this.ab=123456789;
this.DB=987654321;this.JS=4294967295;this.yi(A)}d.prototype.yi=function($){this.ab=123456789+$&this.JS;
this.DB=987654321-$&this.JS};d.prototype.get=function(){this.DB=36969*(this.DB&65535)+(this.DB>>16)&this.JS;
this.ab=18e3*(this.ab&65535)+(this.ab>>16)&this.JS;var A=(this.DB<<16)+(this.ab&65535)>>>0;A/=4294967296;
return A};return{ZY:m}}();t.oV={};t.oV.P6=function(M,X,J,q){var W=M[X*2],T=M[X*2+1],_=M[J*2],m=M[J*2+1],d=M[q*2],A=M[q*2+1];
return W*m+_*A+d*T-d*m-_*T-W*A};t.oV.aoT=function(M,X){var J=[],q=[],W=[],T={};for(var $=0;$<X.length;
$+=3){var _=~~($*(1/3)),m=X[$+0],d=X[$+1],A=X[$+2],p=t.oV.P6(M,m,d,A);if(p>0){var a=d;d=A;A=a}var f=T[A+"-"+d],s=T[d+"-"+m],j=T[m+"-"+A],Y=[A,f,_,null],G=[d,s,_,Y],Q=[m,j,_,G];
Y[3]=Q;if(f)f[1]=Y;if(s)s[1]=G;if(j)j[1]=Q;T[A+"-"+m]=Q;T[m+"-"+d]=G;T[d+"-"+A]=Y;J[m]=G;W[$]=G;J[d]=Y;
W[$+1]=Y;J[A]=Q;W[$+2]=Q;q[_]=G}return{fZ:J,z1:q,Qp:W}};t.oV.ar1=function(M){var X=[],J=M.z1;for(var $=0;
$<J.length;$++){var q=J[$];X.push(q[0]);q=q[3];X.push(q[0]);q=q[3];X.push(q[0])}return X};t.oV.a54=function(M,X,J,q){var W=M[X*2],T=M[X*2+1],_=M[J*2],m=M[J*2+1],d=M[q*2],A=M[q*2+1],p=_-W,a=m-T,f=d-W,s=A-T,j=p*(W+_)+a*(T+m),Y=f*(W+d)+s*(T+A),G=2*(p*(A-m)-a*(d-_));
if(Math.abs(G)<1e-5){var Q=Math.min(W,_,d),Z=Math.min(T,m,A),g=(Math.max(W,_,d)-Q)*.5,S=(Math.max(T,m,A)-Z)*.5;
return[Q+g,Z+S,g*g+S*S,1]}var U=(s*j-a*Y)/G,B=(p*Y-f*j)/G,g=U-W,S=B-T;return[U,B,g*g+S*S,0]};t.oV.aHo=function(M,X,J){var q=J[1],W=J[3],T=W[3],_=q[3],m=_[3],d=J[2],A=q[2],p=J[0],a=q[0],f=W[0],s=_[0],j=t.oV.a54(M,a,s,f),Y=M[p*2]-j[0],G=M[p*2+1]-j[1],Q=Y*Y+G*G>j[2]&&j[3]==0&&t.oV.P6(M,s,p,f)<0&&t.oV.P6(M,f,a,s)<0;
if(Q){J[0]=f;q[0]=s;J[3]=T;T[3]=_;_[3]=J;q[3]=m;m[3]=W;W[3]=q;W[2]=A;_[2]=d;X.z1[A]=m;X.z1[d]=T;X.fZ[a]=_;
X.fZ[p]=W}return Q};t.oV.aAQ=function(M,X,J){var q=M[X*2]-M[J*2],W=M[X*2+1]-M[J*2+1];return Math.sqrt(q*q+W*W)};
t.oV.aIP=function(M,X,J){var q=J[1],W=J[3],T=W[3],_,m,d=J[2],A,p=J[0],a=T[0],f=W[0],s;if(q){_=q[3];m=_[3];
A=q[2];s=_[0]}var j=M.length>>>1;M[2*j]=(M[2*a]+M[2*p])*.5;M[2*j+1]=(M[2*a+1]+M[2*p+1])*.5;if(!0){var Y=d,G=J,Q=X.z1.length,Z=[j,null,Y,G],g=[f,Z,Q,T];
Z[1]=g;var S=[j,null,Q,g];W[3]=Z;T[3]=S;T[2]=Q;X.z1[Y]=W;X.z1[Q]=S;X.fZ[p]=W;X.fZ[f]=T;X.Qp.push(Z,g,S)}if(q){var U=A,B=q,e=Q+1;
S[1]=B,B[1]=S;var P=[j,null,U,B],h=[s,P,e,m];P[1]=h;var V=[j,G,e,h];G[1]=V;_[3]=P;m[3]=V;m[2]=e;X.z1[U]=_;
X.z1[e]=m;X.fZ[a]=_;X.fZ[s]=m;X.Qp.push(P,h,V)}X.fZ[j]=G};t.oV.ajl=function(M,X){var J=0;while(!0){var q=J;
for(var $=0;$<X.Qp.length;$++){var W=X.Qp[$];if(W[1]==null)continue;var T=t.oV.aHo(M,X,W);if(T){J++;
break}}if(q==J)break}return J!=0};t.oV.aEs=function(M,X,J,q){var W=0;for(var $=0;$<q;$++){var T=null,_=0;
for(var m=0;m<X.Qp.length;m++){var d=X.Qp[m],A=t.oV.aAQ(M,d[0],d[3][3][0])*(d[1]?1:2);if(A>_){T=d;_=A}}if(_>J){t.oV.aIP(M,X,T);
W++}}return W!=0};t.oV.abg=function(M,X){var J=[],f=0;for(var $=0;$<M.length;$++)J.push(0);for(var $=0;
$<X.Qp.length;$++){var q=X.Qp[$],W=q[0],T=q[3][3][0],_=M[W*2],m=M[W*2+1],d=M[T*2],A=M[T*2+1],p=_-d,a=m-A;
J[W*2]+=-p;J[W*2+1]+=-a;J[T*2]+=p;J[T*2+1]+=a}for(var $=0;$<M.length;$+=2){var s=$>>>1,j=X.fZ[s],q=j,Y=!0;
do{if(q[1]==null){Y=!1;break}q=q[1][3]}while(q!=j);if(Y){var G=.02;M[$]+=G*J[$];M[$+1]+=G*J[$+1];f+=G*(J[$]*J[$]+J[$+1]*J[$+1])}}return f};
t.oV.aGy=function(M,X,J){var q=t.G.Cs(M),W=t.oV.aoT(M,X);t.oV.ajl(M,W);for(var T=0;T<300;T++){var _=!1,m=!1;
_=t.oV.aEs(M,W,J,5);if(_)m=t.oV.ajl(M,W);var d=t.oV.abg(M,W);if(!_&&!m&&d<1e-4){break}}return t.oV.ar1(W)};
t.xl={};t.xl.av4=function(M){var X=M.FO,J=M.sM,q=M.jw,W=M.Mu,T=M.eE,_=M.KS,m=M.at,d=t.FB.jh,Z,g,S=0;
function A(jX){var kz=new Array(jX);for(var $=0;$<jX;$++)kz[$]=0;return kz}var p=J.length>>>1,a=A(X.mV*2),f=A(X.mV),s=A(X.mV),j=Date.now();
for(var $=0;$<M.ks.length;$++){var Y=X.aDH+$,G=X.a3*(_[$*2]+m[$*2]),Q=X.a3*(_[$*2+1]+m[$*2+1]);a[Y*2]=G;
a[Y*2+1]=Q;f[Y]=G;s[Y]=Q}X.aia.Kg(W,X.a0r.jh(a),.01,Z,g);for(var $=0;$<X.ahx.Qp.length;$++){var U=X.ahx.Qp[$],B=U[3][3][0],e=U[0],P=U[3][0],h=U[1]?U[1][3][0]:P;
if(U[1]&&B>e)continue;var V=J[B*2],I=J[B*2+1],F=J[e*2],c=J[e*2+1],D=W[B*2],n=W[B*2+1],k=W[e*2],b=W[e*2+1],N=W[P*2],L=W[P*2+1],R=W[h*2],i=W[h*2+1],v=[D,n,k,b,N,L];
if(U[1])v.push(R,i);var E=d(X.aBu[S],v),u=E[0],C=E[1],l=1/Math.sqrt(u*u+C*C);u*=l;C*=l;var x=F-V,y=c-I;
f[S]=u*x+C*y;s[S]=-C*x+u*y;S++}var ge=new Array(p),O=new Array(p);for(var $=0;$<p;$++){ge[$]=T[$*2];
O[$]=T[$*2+1]}X.a0z.Kg(ge,X.a5F.jh(f),.5);X.a0z.Kg(O,X.a5F.jh(s),.5);for(var $=0;$<p;$++){T[$*2]=ge[$];
T[$*2+1]=O[$]}};t.xl.a5y=function(M){var X=M.sM,J=M.jw,q=M.ks,W=t.FB.multiply,T=Date.now(),_=t.oV.aoT(X,J),m=X.length>>>1,d=0,j=0,C=1e3;
for(var $=0;$<_.Qp.length;$++)d+=_.Qp[$][1]?.5:1;var A=d+q.length,p=[],a=new t.aV(A*2,m*2),f=new t.aV(A,m),s=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],Y=[],G=[];
for(var $=0;$<_.Qp.length;$++){var Q=_.Qp[$],Z=Q[3][3][0],g=Q[0],S=Q[3][0],U=Q[1]?Q[1][3][0]:S;if(Q[1]&&Z>g)continue;
var B=X[Z*2],e=X[Z*2+1],P=X[g*2],h=X[g*2+1],V=X[S*2],I=X[S*2+1],F=X[U*2],c=X[U*2+1],D=[[B,e,1,0],[e,-B,0,1],[P,h,1,0],[h,-P,0,1],[V,I,1,0],[I,-V,0,1]];
if(Q[1])D.push([F,c,1,0],[c,-F,0,1]);var n=t.FB.jJ(D),k=W(linear.invert(W(n,D)),n);k.pop();k.pop();p.push(k);
var b=P-B,N=h-e,L=s[Q[1]?1:0];L=t.FB.d7(L,W([[b,N],[N,-b]],k));var R=[Z*2,Z*2+1,g*2,g*2+1,S*2,S*2+1,U*2,U*2+1],i=Q[1]?8:6,v=[];
for(var E=0;E<i;E++)v.push([R[E],L[0][E],L[1][E]]);v.sort(function(kz,z){return kz[0]-z[0]});for(var u=0;
u<2;u++){for(var E=0;E<i;E++){Y[E]=v[E][0];G[E]=v[E][1+u]}a.Pw(G,Y,i)}if(Z<g)f.Pw([-1,1],[Z,g],2);else f.Pw([1,-1],[g,Z],2);
j++}for(var $=0;$<q.length;$++){var l=q[$];a.Pw([C],[l*2],1);a.Pw([C],[l*2+1],1);f.Pw([C],[l],1)}var x=a.jJ(),y=x.Qw(x),ge=f.jJ(),O=ge.Qw(ge);
return{aDH:d,mV:A,a0r:x,aia:y,a5F:ge,a0z:O,ahx:_,aBu:p,a3:C}};t.xl.awK=function(M,X,J,q,W){var T=new gc(0,0,X,J),_=t.j(T.o());
t.SF(M,_,3);t.round(_,70);var m=t.pT(_,T),d=[.1,.065,.035][q]*Math.max(m.r,m.$),A=W+1,p=X+A*2,a=J+A*2,f=new gc(-A,-A,p,a),s=t.j(f.o());
t.Rc(_,T,s,f);var j=s.slice(0);for(var Y=0;Y<W;Y++){for(var G=1;G<a-1;G++){for(var Q=1;Q<p-1;Q++){var $=G*p+Q;
j[$]=s[$-p]|s[$-1]|s[$]|s[$+1]|s[$+p]}}var Z=j;j=s;s=Z}var g=bX.Nb(s,p,a,Math.round(m.o()*5e-4)),S=bX.ZX(g),U=new kp(1,0,0,1,-A,-A);
for(var $=0;$<S.length;$++){var B=S[$];t.G.u(B.path.d,U,B.path.d);B.sM=t.xl.aEB(B.path);B.jw=t.G.a4Y(B.sM);
B.jw=t.oV.aGy(B.sM,B.jw,d)}return S};t.xl.aEB=function(M){var X=t.G.ae1(M);X=t.G.atq(X,1);var J=[],q=X.length;
for(var $=0;$<q;$+=2){var W=X.pop(),T=X.pop();J.push(T,W)}return J};t.xl.axo=function(M,X,J,q){function W(P,h,V,I,F){var c=F[P*2]-F[h*2],D=F[P*2+1]-F[h*2+1],n=Math.sqrt(c*c+D*D);
if(V[P].indexOf(h)==-1){V[P].push(h);I[P].push(n)}if(V[h].indexOf(P)==-1){V[h].push(P);I[h].push(n)}}var T=M.length>>>1,_=new Array(T);
if(J.length==0){_.fill(0);return _}var m=new Array(T),d=new Array(T);for(var $=0;$<T;$++){m[$]=[];d[$]=[]}for(var $=0;
$<X.length;$+=3){W(X[$],X[$+1],m,d,M);W(X[$],X[$+2],m,d,M);W(X[$+1],X[$+2],m,d,M)}var A=new Float64Array(T*2),p=new Uint32Array(T*2);
A.fill(1e9);var a=new Uint8Array(T);for(var f=0;f<J.length;f++){a.fill(0);var s=["---",[0,J[f]]];while(s.length!=1){var j=t.akt.qK(s),Y=j[0],G=j[1];
if(a[G]==1)continue;var Q=G<<1;if(Y<A[Q]){A[Q+1]=A[Q];p[Q+1]=p[Q];A[Q]=Y;p[Q]=f}else if(Y<A[Q+1]){A[Q+1]=Y;
p[Q+1]=f}a[G]=1;var Z=m[G],g=d[G];for(var $=0;$<Z.length;$++){var S=Z[$];if(a[S]!=1){t.akt.rG(s,[Y+g[$],S])}}}}for(var $=0;
$<T;$++){var Q=$<<1,U=A[Q],B=A[Q+1],e=1/(U+B);_[$]=(1-U*e)*q[p[Q]]+(1-B*e)*q[p[Q+1]]}return _};t.xl.aih=function(M){var X={C6:[],d:[]},J=[M];
while(J.length!=0){var q=J.pop(),W=q.ny;if(q.anZ instanceof Array||q.auB instanceof Array){X.C6.push("M","L","L","L","Z");
X.d.push(W[0],W[1],W[2],W[1],W[2],W[3],W[0],W[3])}else J.push(q.anZ,q.auB)}return X};t.xl.bo=function(M,X,J,q,W,T,_,m,d,A,p){var a=Math.round(A.length/3),f=new Array(a);
for(var $=0;$<a;$++)f[$]=$;f.sort(function(j,Y){return d[A[j*3]]-d[A[Y*3]]});for(var $=0;$<a;$++){var s=f[$]*3;
t.xl.a4R(A[s]*2,A[s+1]*2,A[s+2]*2,_,m,M,X,J,q,W,T,p)}};t.xl.a4R=function(M,X,J,q,W,T,_,m,d,A,p,a){var f=[M,X,J,1.2,1.2,1.2,0],s=[0,0,0,0],j=W[M],Y=W[M+1],G=W[X],Q=W[X+1],Z=W[J],g=W[J+1],S=G-j,U=Q-Y,B=Z-j,e=g-Y,P=S*e-B*U+1e-9,h=1/P,V=Math.max(0,Math.min(_-1,q[M])),I=Math.max(0,Math.min(_-1,q[X])),F=Math.max(0,Math.min(_-1,q[J])),c=Math.max(0,Math.min(m-1,q[M+1])),D=Math.max(0,Math.min(m-1,q[X+1])),n=Math.max(0,Math.min(m-1,q[J+1])),k=j<G?j<Z?M:J:G<Z?X:J,b=W[k+1]+.5,N=Math.max(0,Math.floor(Math.min(j,G,Z))),L=Math.min(A,Math.ceil(Math.max(j,G,Z))),R=Math.max(0,Math.floor(Math.min(Y,Q,g))),i=Math.min(p,Math.ceil(Math.max(Y,Q,g))),v=1e9;
for(var E=R;E<i;E++){var u=E>b&&v!=1e9?v:N;v=1e9;for(var C=u;C<L;C++){var l=C+.5-j,x=E+.5-Y,y=(l*e-B*x)*h,ge=(S*x-l*U)*h;
if(y>=0&&ge>=0&&y+ge<=1){if(v==1e9)v=C;var O=1-y-ge,kz=V*O+I*y+F*ge,z=c*O+D*y+n*ge;if(a){var eZ=Math.floor(.5+z)*_+Math.floor(.5+kz),kM=eZ<<2,jV=E*A+C<<2;
d[jV]=T[kM];d[jV+1]=T[kM+1];d[jV+2]=T[kM+2];d[jV+3]=T[kM+3]}else{t.t.atW(kz,z,T,_,m,s);t.xl.apb(s,d,E*A+C<<2)}}else if(v!=1e9)break}}};
t.xl.apb=function(M,X,J){if(M[3]>250){X[J]=~~(.5+M[0]);X[J+1]=~~(.5+M[1]);X[J+2]=~~(.5+M[2]);X[J+3]=~~(.5+M[3])}else{var q=X[J],W=X[J+1],T=X[J+2],_=X[J+3],m=1-M[3]*(1/255);
X[J]=~~(.5+M[0]+q*m);X[J+1]=~~(.5+M[1]+W*m);X[J+2]=~~(.5+M[2]+T*m);X[J+3]=~~(.5+M[3]+_*m)}};t.xl.a19=function(){var M=function(J,q,W,T){var _=T[0],m=T[1],d=T[2],A=J[_+0],p=J[_+1],a=J[m+0],f=J[m+1],s=J[d+0],j=J[d+1],Y=a-A,G=f-p,Q=s-A,Z=j-p,g=q-A,S=W-p,U=Y*Z-Q*G,B=1/(U+1e-9),e=(g*Z-Q*S)*B,P=(Y*S-g*G)*B;
if(e>=0&&P>=0&&e+P<=1){T[3]=1-e-P;T[4]=e;T[5]=P;return 1}return 0},X=function(J,q,W,T){var _=[0,0,0,0,0,0];
for(var $=0;$<q.length;$+=3){_[0]=q[$]*2;_[1]=q[$+1]*2;_[2]=q[$+2]*2;if(M(J,W,T,_)==1)return!0}return!1};
return{a0I:M,a1V:X}}();t.b1={};t.b1.axw=function(M,X,J,q){M=M.slice(0);if(q)t.ix(q,M,3);else for(var $=0;
$<M.length;$+=4)M[$+3]=0;var W=t.j(X*J*4),T=!1;t.t.w8(M,X,J,W,[J,X,0,1,0,1,0,0]);return[t.b1.Wm(M,X,J,T),t.b1.Wm(W,J,X,T)]};
t.b1.u=function(M,X){var J=!1,q=M[0],W=M[1],T=q[1],_=q[2],m=q[3],d=X.r,A=X.$;if(_==d&&m==A)T=T.slice(0);
else if(m!=A){var p=t.j(_*A*4);t.b1.dz(W,A,p,J);T=t.j(_*A*4);t.t.w8(p,A,_,T,[_,A,0,1,0,1,0,0]);if(_!=d){q=t.b1.Wm(T,_,A,J);
T=t.j(d*A*4);t.b1.dz(q,d,T,J)}}else if(_!=d){T=t.j(d*m*4);t.b1.dz(q,d,T,J)}for(var $=0;$<T.length;$+=4)T[$+3]=255;
return T};t.b1.Wm=function(M,X,J,q){var W=Date.now(),T=new Uint16Array(X*J),A=1;t.b1.akw(M,X,J,T);var _=t.j(X*J);
t.SF(M,_,3);for(var m=0;m<J;m++)for(var d=0;d<X;d++)T[m*X+d]+=Math.floor((65535-T[m*X+d])*_[m*X+d]*(1/255));
var p=Math.ceil(X/A),a=new Uint32Array(A),f=new Uint32Array(A),p=Math.floor(X/A);for(var s=0;s<A;s++)f[s]=s<A-1?p:X-(A-1)*p;
for(var m=0;m<J;m++){var $=m*X;for(var s=0;s<A;s++){var p=f[s];for(var d=0;d<p;d++)a[s]+=T[$+d];$+=p}}if(q){console.log(Date.now()-W,"cost");
W=Date.now()}var j=new Uint32Array(X),Y=new Uint32Array(X),G=new Uint32Array(X*J);for(var d=0;d<X;d++){G[(J-1)*X+d]=T[(J-1)*X+d]}for(var m=J-2;
m>=0;m--){var Q=m*X;for(var s=0;s<A;s++){var p=f[s];G[Q]=T[Q]+Math.min(G[Q+X],G[Q+X+1]);for(var d=1;
d<p-1;d++){var $=Q+d;G[$]=T[$]+Math.min(G[$+X-1],Math.min(G[$+X],G[$+X+1]))}Q+=p-1;G[Q]=T[Q]+Math.min(G[Q+X-1],G[Q+X]);
Q++}}if(q){console.log(Date.now()-W,"Building M");W=Date.now()}function Z(F,c){return F<c?F:c}function g($,F){var c=Y[$],D=G[F],n=~~(c*D*1e-4);
return n}var S=new Uint8Array(X*J),U=new Uint32Array(X);for(var $=0;$<X;$++){j[$]=$;Y[$]=T[$]}for(var m=1;
m<J;m++){var B=0,Q=m*X;for(var s=0;s<A;s++){var p=f[s],$=Q;U[B]=g(B,$);var e=U[B]+g(B+1,$+1),P=g(B,$+1)+g(B+1,$);
U[B+1]=Z(e,P);for(var d=2;d<p;d++){var $=Q+d,h=U[B+d-1]+g(B+d-1,$-1),V=U[B+d-2]+g(B+d-1,$-2)+g(B+d-2,$-1);
U[B+d]=Z(h,V)}var d=p-1;while(d>=2){var $=Q+d,h=U[B+d-1]+g(B+d-1,$-1),V=U[B+d-2]+g(B+d-1,$-2)+g(B+d-2,$-1);
if(U[B+d]==h){S[$-X]=1;d-=1}else{S[$-X]=0;S[$-X-1]=2;d-=2}}var $=Q;if(d==0){S[$-X]=1}else{if(U[B+1]==e){S[$+1-X]=1;
S[$-X]=1}else{S[$+1-X]=0;S[$-X]=2}}Q+=p;B+=p}t.b1.aFl(m,X,S,T,j,Y,!0,W)}if(q){console.log(Date.now()-W,"Matching");
W=Date.now()}var I=T;return[UZIP.adler(M,0,M.length),M,X,J,A,f,a,j,Y,S,I]};t.b1.dz=function(M,X,J,q){var W=M.slice(0),T=W.shift(),_=W.shift(),m=W.shift(),d=W.shift(),A=W.shift(),p=W.shift(),a=W.shift(),f=W.shift(),s=W.shift().slice(0),j=W.shift(),Y=W.shift(),G=Date.now(),Q=Math.abs(m-X),Z=Math.floor(Q/A),g=new Uint32Array(A),U=0,B=1e9,P=0,h=0,V=0;
for(var S=0;S<A;S++)g[S]=S<A-1?Z:Q-(A-1)*Z;Y.fill(0);for(var e=0;e<m;e++){U=Math.max(U,s[e]);B=Math.min(B,s[e])}for(var S=0;
S<A;S++){var I=p[S],Z=g[S];for(var F=0;F<Z;F++){var c=0,D=1e9;for(var e=0;e<I;e++)if(s[h+e]<D){D=s[h+e];
c=h+e}if(X<m)s[c]=1e9;else s[c]*=1.2;if(V<m/3)P+=D;var n=f[c],k=Y[n],b=k<65280?65280:k+1;if(b<65280)throw"e";
for(var N=0;N<d;N++){var $=N*m+n;Y[$]=b;n+=j[$]-1}V++}h+=I}if(q){console.log(Date.now()-G,"Removing best seams");
G=Date.now()}function L($,i){var v=$<<2,E=i<<2;J[v]=_[E];J[v+1]=_[E+1];J[v+2]=_[E+2];J[v+3]=_[E+3]}for(var N=0;
N<d;N++){var R=0,$=N*m;for(var e=0;e<X;e++,R++){if(X<m){while(Y[$+R]==65280)R++;L(N*X+e,N*m+R)}else{L(N*X+e,N*m+R);
while(Y[$+R]>=65280){Y[$+R]--;e++;L(N*X+e,N*m+R)}}}}if(q){console.log(Date.now()-G,"Shifting image pixels");
G=Date.now()}};t.b1.aFl=function(M,X,J,q,W,T){var _=0,$=M*X;while(_<X){if(J[$-X]==1){T[_]=T[_]+q[$];
_++;$++}else{var m=W[_];W[_]=W[_+1];W[_+1]=m;var d=T[_];T[_]=T[_+1]+q[$];T[_+1]=d+q[$+1];_+=2;$+=2}}};
t.b1.akw=function(M,X,J,q){function W(M,$,d){var a=$<<2,f=d<<2,s=M[a]-M[f],j=M[a+1]-M[f+1],Y=M[a+2]-M[f+2];
return Math.abs(s)+Math.abs(j)+Math.abs(Y)}for(var T=1;T<X;T++){var _=W(M,T,T-1);q[T-1]+=_;q[T]+=_}for(var m=1;
m<J;m++){var d=m*X,_=W(M,d,d-X);q[d]+=_;q[d-X]+=_;for(var T=1;T<X;T++){var $=m*X+T,A=W(M,$,$-1),p=W(M,$,$-X);
q[$-X]+=p;q[$-1]+=A;q[$]+=p+A}}for(var m=0;m<J;m++){q[m*X]*=2;q[m*X+X-1]*=2}for(var $=0;$<q.length;$++)if(q[$]==0)q[$]=1};
t.Xk=function(){function M(){return 1953e6+Math.floor(Math.random()*999999)}function X(D,n){var k=n[0]-D[0],b=n[1]-D[1];
return k*k+b*b}function J(D,n,k,b,N,L,R,i){var v=k-D,E=b-n,u=t.G.n5(D,n,v,E,N,L,R-N,i-L),C=[D+u*v,n+u*E],l=u>0?[[[D,n],C,!1,0,1],[[N,L],C,!1,0,5]]:[[[k,b],C,!1,0,1],[[R,i],C,!1,0,5]];
return l}function q(D,n){var k=J(D[0],D[1],D[2],D[3],D[6],D[7],D[4],D[5]),b=J(D[0],D[1],D[6],D[7],D[2],D[3],D[4],D[5]),N=[k,b],L=[k[0][1],b[0][1]];
for(var $=0;$<2;$++){var R=L[1-$],i=N[$];if(X(i[0][0],R)<X(i[1][0],R)){var v=i[0];i[0]=i[1];i[1]=v}}var E=[M(),0,-1,0,[0,0],k[0],k[1],b[0],b[1]],u=U(E,n),C=u[1][0];
E[3]=C;E[4]=u[0][C];E[5][3]=E[6][3]=u[0].indexOf(E[5][1]);E[7][3]=E[8][3]=u[0].indexOf(E[7][1]);if((E[6][3]+1)%3!=E[7][3]){var v=E[5];
E[5]=E[7];E[7]=v;var v=E[6];E[6]=E[8];E[8]=v}for(var $=0;$<4;$++)E[5+$][4]=[1,5,7,3][$];return E}function W(D){var n=D[5],k=D[8],b=D[6],N=n[0],L=k[0],R=b[0],i=n[1],v=k[1],E=L[0],u=L[1],C=v[0]-E,l=v[1]-u,x=t.G.n5(E,u,C,l,R[0],R[1],i[0]-R[0],i[1]-R[1]);
return[N[0],N[1],E,u,E+x*C,u+x*l,R[0],R[1]]}function T(D,n){return D[0]==n[0]&&D[1]==n[1]}function _(D){return{1:0,5:1,7:2,3:3}[D]}function m(D,n,k){var b=n[5+_(D)],N=b[1],L=b[0][0]-N[0],R=b[0][1]-N[1],i=Math.sqrt(L*L+R*R);
L/=i;R/=i;for(var v=0;v<k.length;v++){var E=k[v];if(E[0]!=n[1]&&E[1]!=n[0])continue;for(var $=0;$<4;
$++){var u=E[5+$],C=u[0];if(!T(N,u[1]))continue;var l=C[0]-N[0],x=C[1]-N[1];i=Math.sqrt(l*l+x*x);l/=i;
x/=i;var y=l*L+x*R;if(Math.abs(y-1)<1e-7)return!0}}return!1}function d(D,n){t.t.u(D,n);return n}function A(D,n){var k=[];
for(var b=0;b<D.length;b++){var N=D[b],L=N[1];for(var R=0;R<L.length;R++){if(n&&n[b].indexOf(R)==-1)continue;
var i=L[R],v=[],E=t.t.bw(W(i),new gc(0,0,1,1));for(var $=1;$<=7;$+=2){v[$]=m($,i,L)}if(!v[1]){if(!v[7])k.push([d(E,[0,0]),b,R,0]);
k.push([d(E,[.5,0]),b,R,1])}if(!v[3]){if(!v[1])k.push([d(E,[1,0]),b,R,2]);k.push([d(E,[1,.5]),b,R,3])}if(!v[5]){if(!v[3])k.push([d(E,[1,1]),b,R,4]);
k.push([d(E,[.5,1]),b,R,5])}if(!v[7]){if(!v[5])k.push([d(E,[0,1]),b,R,6]);k.push([d(E,[0,.5]),b,R,7])}}}return k}function p(D){var n=D.length-2,k=0;
for(var $=0;$<n;$+=2)k+=(D[$+2]-D[$])*(D[$+1]+D[$+3]);k+=(D[0]-D[n])*(D[n+1]+D[1]);return-k*.5}function a(D,n,k,b){}function f(D,$){var n=D[$+2&7]-D[$&7],k=D[$+3&7]-D[$+1&7],b=1/Math.sqrt(n*n+k*k);
return[n*b,k*b]}function s(D){var n=D[2];D[2]=D[6];D[6]=n;var n=D[3];D[3]=D[7];D[7]=n}function j(D,n,k,b){if(b==null)b=0;
var N=n[1],L=W(n),x=null,y,z,eZ,hx,au,l,kP;if(N==0){if(p(L)<0)s(L);var R=6,i=L[7]+L[1];for(var $=0;$<6;
$+=2){var v=L[$+1]+L[$+3];if(v<i){i=v;R=$}}L=L.slice(R).concat(L.slice(0,R));var E=o.VN.cr(L,k[0],k[1]),u=Math.sqrt(X(L,L.slice(2))),C=Math.sqrt(X(L.slice(4),L.slice(6))),l=(u+C)*.5;
return[L,new gc(0,0,l,l/E)]}for(var $=0;$<D.length&&x==null;$++){y=D[$][1];for(var ge=0;ge<y.length&&x==null;
ge++)if(y[ge][0]==N)x=y[ge]}var O=j(D,x,k,b+1),kz=O[0];O=O[1];for(var $=0;$<8;$+=2){var kM=kz[$&7],jV=kz[$+1&7],cL=kz[$+2&7],aw=kz[$+3&7];
for(var ge=0;ge<8;ge+=2){var h2=L[ge],ea=L[ge+1],ht=L[ge+2&7],jn=L[ge+3&7],gE=Math.abs(t.G.qZ(kM,jV,cL,aw,h2,ea))+Math.abs(t.G.qZ(kM,jV,cL,aw,ht,jn));
if(gE<=30){z=ge;eZ=$}}}var bS=f(kz,eZ),bi=f(L,z),cj=bS[0]-bi[0],bb=bS[1]-bi[1],c0=cj*cj+bb*bb;if(c0<.001){s(L);
z={0:6,2:4,4:2,6:0}[z]}while(z!=(eZ+4&7)){L.unshift(L.pop());z=z+1&7}var E=o.VN.cr(L,k[0],k[1]),cV=t.t.bw(kz,O);
cV=t.t.vN(cV);var g_=[L[z],L[z+1],L[z+2&7],L[z+3&7]];t.t.u(cV,g_);var iK=t.G.Cs(g_);if(eZ==0||eZ==4){l=iK.r;
kP=l/E;hx=iK.x;au=iK.y+(eZ==0?-kP:0)}else{kP=iK.$;l=kP*E;au=iK.y;hx=iK.x+(eZ==6?-l:0)}return[L,new gc(hx,au,l,kP)]}function Y(D,n){function k(C,l,x,y){var ge=d(C,[l,x]);
ge.push(y);return ge}var b=[];for(var N=0;N<D.length;N++){var L=D[N],R=L[1];for(var i=0;i<R.length;i++){var v=R[i],E=j(D,v,n),u=E[0],C=t.t.bw(u,new gc(0,0,1,1));
b.push(k(C,.5,0,1));b.push(k(C,1,.5,3));b.push(k(C,.5,1,5));b.push(k(C,0,.5,7));b.push(k(C,.5,.5,[E?(E[1].r/E[1].$).toFixed(2):""].join(", ")))}}return b}function G(D,n,k,b){var N=[n],L=[n];
while(!0){var R=[];for(var $=0;$<D.length;$++){var i=D[$],v=!1;for(var E=0;E<N.length;E++){if(i[1]==D[N[E]][0]||i[0]==D[N[E]][1])R.push($)}}var u=N.length;
for(var $=0;$<R.length;$++){var C=R[$],i=D[C];if(L.indexOf(C)!=-1)continue;L.push(C);var l=j([[10,D]],i,b);
if(l[1].B8(k))N.push(C)}if(u==N.length)break}return N}function Q(D,n,k){var b=k[0],N=k[1],L=n.x-D[0],R=n.y-D[1],i=t.G.n5(D[0],D[1],L,R,N[0],N[1],b[0]-N[0],b[1]-N[1]);
return[D[0]+i*L,D[1]+i*R]}function Z(D,n,k){D=t.b(D);var b=D[n[1]][1][n[2]],N=n[3]>=8,L=n[3]&7;if((L&1)==0)return D;
var R=_(L);if(L==1||L==7){var i=b[5+R],v=b[5+2-R],E=b[5+(L==1?3:1)],u=b[5+(L==1?1:3)],C=i[1],l=Q(C,k,v);
if(!N&&X(l,v[1])<X(u[0],v[1]))return D;i[0]=v[0]=l;E[0]=Q(C,k,E)}else{var E=b[5+R],C=E[1],i=b[5+(L==3?0:2)],l=Q(C,k,i);
if(!N&&X(l,i[1])>X(i[0],i[1]))return D;if(Math.sign(i[1][0]-i[0][0])!=Math.sign(i[1][0]-l[0]))return D;
E[0]=l}return D}function g(D,n,k){var b=n[0]-D[0],N=n[1]-D[1],L=t.G.n5(k[0],k[1],-N,b,D[0],D[1],b,N);
return[k[0]-N*L,k[1]+b*L]}function S(D,n,k){var b=k[0],N=k[1],d=g(D,n,k),L=d[0],R=d[1],i=g(D,k,n),v=t.G.n5(L,R,b-L,N-R,n[0],n[1],i[0]-n[0],i[1]-n[1]);
return[L+(b-L)*v,R+(N-R)*v]}function U(D,n){var k=D[5][1],b=D[7][1],N=S(k,b,n),L=[k,b,N];L.sort(function(v,E){return v[0]-E[0]});
if(p([L[0][0],L[0][1],L[1][0],L[1][1],L[2][0],L[2][1]])<0){var R=L[1];L[1]=L[2];L[2]=R}var i=[L.indexOf(k),L.indexOf(b),L.indexOf(N)];
return[L,i]}function B(D,n,k){D=t.b(D);var b=n[1],N=D[b][1][n[2]],L=n[3];if((L&1)!=1)return D;var R=U(N,k),i=R[1][2],v=R[0][i],E=t.b(N);
D[b][1].push(E);E[0]=M();E[1]=N[0];E[2]=-10+L;E[3]=i;E[4]=v;if(L==1||L==5){E[7][3]=E[8][3]=i;E[7][1]=E[8][1]=v;
if(L==5){E[5][0]=E[7][0]=N[6][0];E[8][0]=W(N).slice(4,6)}}else{E[5][3]=E[6][3]=i;E[5][1]=E[6][1]=v;if(L==3){E[5][0]=E[7][0]=N[8][0];
E[6][0]=W(N).slice(4,6)}}return D}function e(D,n,k){D=t.b(D);var b=n[1],N=D[b][1][n[2]],L=N[2]+10,R=L+4&7,i=L==1||L==5,v=N[5+_(i?7:1)][1],E=N[5+_(R)][0],u=N[5+_(L)][0];
N[2]=(i?90:0)+(X(E,v)<X(u,v)?180:0);var C=q(W(N),k);for(var $=5;$<9;$++)N[$]=C[$];return D}function P(D,n,k){var jX=D.length>>1,b,N=D[2*jX-3]-k,L=D[2*jX-2]-n,R=D[2*jX-1]-k,i=!1,v=0;
for(var $=0;$<jX;$++){b=L;N=R;L=D[2*$]-n;R=D[2*$+1]-k;if(N==R)continue;i=R>N}for(var $=0;$<jX;$++){b=L;
N=R;L=D[2*$]-n;R=D[2*$+1]-k;if(N<0&&R<0)continue;if(N>0&&R>0)continue;if(b<0&&L<0)continue;if(N==R&&Math.min(b,L)<=0)return!0;
if(N==R)continue;var E=b+(L-b)*-N/(R-N);if(E==0)return!0;if(E>0)v++;if(N==0&&i&&R>N)v--;if(N==0&&!i&&R<N)v--;
i=R>N}return(v&1)==1}function h(D,n,k,b,N){var L=null;for(var R=0;R<D.length;R++){var i=D[R][1];for(var v=0;
v<i.length;v++){var E=W(i[v]);if(P(E,n,k)||N&&N[0]==R&&N[1]==v&&L==null){L=[R,v];if(b){var u=j(D,i[v],b),C=t.t.bw(u[0],u[1]),l=[n,k];
C=t.t.vN(C);t.t.u(C,l);L.push(l)}}}}return L}function V(D,n){for(var k=0;k<D.length;k++){var b=D[k][1],N=n[k];
if(N.length==0)continue;var L=I(b,N);for(var R=0;R<b.length;R++){if(L.indexOf(b[R][0])!=-1){b.splice(R,1);
R--}}}for(var k=0;k<D.length;k++)if(D[k][1].length==0){D.splice(k,1);k--}return D}function I(D,n){var k=[];
for(var $=0;$<10;$++)for(var b=0;b<D.length;b++){var N=D[b];if(n.indexOf(b)!=-1||k.indexOf(N[1])!=-1)if(k.indexOf(N[0])==-1)k.push(N[0])}return k}function F(D){var n=H.zb(D,0,D.length),k=n.split("\n").slice(1);
function b(){return parseFloat(k.shift())}function N(){var h2=[b(),b()];L(1);return h2}function L(jX){for(var $=0;
$<jX;$++)k.shift()}var R=[],i=b();for(var v=0;v<i;v++){var E=b(),u=b(),C=[];R.push([E,C]);for(var l=0;
l<u;l++){var x=b(),y=b(),ge=b(),O=b(),kz=N(),z=[x,y,ge,O,kz];C.push(z);for(var $=0;$<4;$++){var eZ=N(),kM=N(),jV=b()==1,cL=b(),aw=b();
z.push([eZ,kM,jV,cL,aw])}}}return R}function c(D){function n(u){k.push(u[0],u[1],"")}var k=["tNaF203"];
k.push(D.length);for(var b=0;b<D.length;b++){k.push(D[b][0]);var N=D[b][1];k.push(N.length);for(var L=0;
L<N.length;L++){var R=N[L];k.push(R[0],R[1],R[2],R[3]);n(R[4]);for(var $=0;$<4;$++){var i=R[5+$];n(i[0]);
n(i[1]);k.push(i[2]?1:0,i[3],i[4])}}}var v=k.join("\n"),E=new Uint8Array(v.length);H.WB(E,0,v);return E}return{Ah:F,yo:c,ayn:W,aa2:q,PL:A,agb:Z,lQ:Y,aAa:function(D,n){return n&&(n[3]&1)==0&&D[n[1]][1].length==1},TY:function(D,n){return n&&(n[3]&1)==1},j3:j,aCy:B,asD:e,aH0:V,sP:I,wS:h,bc:G}}();
t.aCX=function(){var M=0,X=0,q=15,T=256;function J(p,a,f,s,j,Y){var G=(j-1)*a,Q=Y*a;return p[Q+s]-p[Q+f-1]-p[G+s]+p[G+f-1]}var W=Math.round(q/8),_=[];
function m(p,a){for(var f=0;f<a.length;f++){var s=a[f],j=0,Y=0,G=p[s.Xr],Q=G.fo,Z=G.a3,g=G.oz;for(var S=-q;
S<=q;S++)for(var U=-q;U<=q;U++){var B=U+s.app,e=S+s.aue;if(U*U+S*S>q*q||B<0||e<0||B>=Z||e>=Z)continue;
var P=Q[e*Z+B];j+=U*P;Y+=S*P}s.$R=Math.atan2(Y,j)}}function d(p,a,f,s,j){var Y=~~(p+.5),G=~~(a+.5);return J(f,s,Y-W,Y+W,G-W,G+W)}function A(p,a,f,s,j){M=s;
X=j;if(_.length==0){var Y=new t.v.bN(16200817),g=8,S=0;function G(kz){var V=kz[0]-kz[2],I=kz[1]-kz[3];
return V*V+I*I}function Q(){var kz=0,z=0;while(kz===0)kz=Y.get();while(z===0)z=Y.get();return Math.sqrt(-2*Math.log(kz))*Math.cos(2*Math.PI*z)}var Z=Q,U=[];
while(S!=T){var B=Math.max(-q,Math.min(q,Z()*g)),e=Math.max(-q,Math.min(q,Z()*g)),P=Math.max(-q,Math.min(q,Z()*g)),h=Math.max(-q,Math.min(q,Z()*g)),V=B-P,I=e-h,F=Math.sqrt(V*V+I*I);
if(F<3||F>12)continue;_.push(B,e,P,h);S++}}var c=20;for(var D=0;D<a.length;D++){var n=a[D],k=p[n.Xr],b=k.X1,f=k.fo,s=k.a3,j=k.oz,N=n.app,L=n.aue,R=n.$R,i=Math.cos(R),v=Math.sin(R),E=new Uint8Array(T>>>3);
n.Qd=E;for(var $=0;$<T;$++){var u=$*4,B=_[u+0],e=_[u+1],P=_[u+2],h=_[u+3],C=i*B-v*e,l=v*B+i*e,x=i*P-v*h,y=v*P+i*h,ge=d(N+C,L+l,b,s,j),O=d(N+x,L+y,b,s,j);
E[$>>>3]|=(ge<O?0:1)<<($&7)}}}return{a7n:m,ajZ:A}}();t.agy=function(){function M(X,J){var q=[[9]],W=Date.now(),T=[];
for(var _=0;_<X.length;_++){var m=X[_],d=m.X1,A=m.a3,p=m.oz,s=9,g=1,n=24;if(d==null)continue;var a=new Float32Array(A*p),f=new Uint8Array(A*p),j=s>>>1,Y=j>>>1,G=Math.round(s/3);
if(G!=s/3)throw"e";var Q=1/(s*s),Z=1.2*(s/9);for(var S=j+1;S<p-j;S+=g)for(var U=j+1;U<A-j;U+=g){var B=t.qF(d,A,U-Y,U+Y,S-j,S+j)-3*t.qF(d,A,U-Y,U+Y,S-j+G,S+j-G),e=t.qF(d,A,U-j,U+j,S-Y,S+Y)-3*t.qF(d,A,U-j+G,U+j-G,S-Y,S+Y),P=U-j+1,h=U+j-1,V=S-j+1,I=S+j-1,F=t.qF(d,A,P,U-1,V,S-1)+t.qF(d,A,U+1,h,S+1,I)-t.qF(d,A,U+1,h,V,S-1)-t.qF(d,A,P,U-1,S+1,I),c=(e*B-.9*F*(.9*F))*(Q*Q);
a[S*A+U]=Math.abs(c);f[S*A+U]=c<0?0:1}var D=A*g;for(var S=n;S<p-n;S+=g)for(var U=n;U<A-n;U+=g){var $=S*A+U,k=a[$];
if(k<16)continue;if(a[$-g]>=k||a[$+g]>=k)continue;if(a[$-D-g]>=k||a[$-D]>=k||a[$-D+g]>=k)continue;if(a[$+D-g]>=k||a[$+D]>=k||a[$+D+g]>=k)continue;
T.push({x:~~(U*m.bu+.5),y:~~(S*m.bu+.5),app:U,aue:S,Xr:_,K:k,ajO:f[$],i$:Z})}}if(J!=null){T.sort(function(u,C){return C.K-u.K});
T=T.slice(0,J)}return T;var b=[];for(var $=0;$<T.length;$++){var N=!0,L=T[$];for(var R=0;R<T.length;
R++){var i=T[R];if(R!=$&&i.K>L.K&&(i.Xr==L.Xr+1||i.Xr==L.Xr-1)){var v=L.x-i.x,E=L.y-i.y;if(v*v+E*E<5){N=!1;
break}}}if(N)b.push(L)}console.log(T.length,b.length);return b}return{aFO:M}}();t.Fy={};t.Fy.aIt=function(M){var X=M.length,J=t.Fy.aif(M,!1),W=0,T=1;
throw"e";var q=[];for(var $=0;$<X;$++)q[$]=t.Fy.a0O(J[$]);var _=M[0][1],m=t.Fy.match(J[W],J[T],q[T]);
console.log(m.length);var d=Math.max(Math.min(m.length,40),m.length*.54);d=Math.min(d,200);var A=m.slice(0,d),p=t.qe.aeZ(J[W],J[T],A,_.r,_.$),a=t.qe.a9u(p,[0,0,0],1),f=_.r/2,s=_.$/2,j=1/Math.max(f,s);
for(var $=0;$<1;$++){var Y=A[$],G=J[W][Y[0]],Q=J[T][Y[1]],Z=t.qe.alm(a,j*(G.x-f),j*(G.y-s),j*(Q.x-f),j*(Q.y-s))}var g=t.qe.aq1(p,_),S=[];
for(var $=0;$<2;$++){var U=g[$],B=[U[0][0],U[0][1],U[0][2],U[1][0],U[1][1],U[1][2],U[2][0],U[2][1]],e=o.fx.IA(M[$],null,B);
S.push([e.buffer,e.S])}return[t.Fy.aAP(S[0],S[1],J[W],J[T],A,p,g,_)]};t.Fy.db=function(M,X){var J=M.length,q=!1,W=Date.now(),T=t.Fy.aif(M,!1,1e4);
if(q)console.log("Descriptors ready",Date.now()-W);W=Date.now();for(var $=0;$<J;$++){var _=M[$][1];for(var m=0;
m<T[$].length;m++){T[$][m].x+=_.x;T[$][m].y+=_.y}}if(q)console.log("shifted",Date.now()-W);W=Date.now();
var d=[];for(var $=0;$<J;$++)d[$]=t.Fy.a0O(T[$]);if(q)console.log("trees built",Date.now()-W);W=Date.now();
var A=[];for(var $=0;$<J-1;$++)for(var m=$+1;m<J;m++){var p=t.Fy.match(T[$],T[m],d[m]);if(q)console.log("Matches found",$,m,p.length);
p=p.slice(0,p.length>>>1);if(p.length<10)continue;var a=t.Fy.aB4(T[$],T[m],p,2);A.push([$,m,p,a])}A.sort(function(h,V){return V[2].length-h[2].length});
if(q)console.log("Matches found",Date.now()-W);W=Date.now();var f=[],s=new UnionFind(J);for(var $=0;
$<A.length;$++){var j=A[$],Y=s.find(j[0]),G=s.find(j[1]);if(Y!=G){f.push(j);s.link(Y,G)}}var Q=[];for(var $=0;
$<J;$++)Q[$]=[1,0,0,0,1,0,0,0];var Z=[0],g=new Uint8Array(J);g[Z[0]]=1;while(Z.length!=0){var G=Z.pop(),a=Q[G],S=[];
for(var $=0;$<f.length;$++){var j=f[$],U=j[0],B=j[1];if(U==G&&g[B]==0){Q[B]=t.t.uM(a,j[3]);Z.push(B);
g[B]=1}if(B==G&&g[U]==0){Q[U]=t.t.uM(a,t.t.vN(j[3]));Z.push(U);g[U]=1}}}if(X==null){var e=[];for(var $=0;
$<J;$++)e.push([Q[$][2],$]);e.sort(function(h,V){return h[0]-V[0]});X=e[e.length>>>1][1]}var P=t.t.vN(Q[X]);
for(var $=0;$<J;$++)Q[$]=t.t.uM(Q[$],P);if(q)console.log("Transforms reordered",Date.now()-W);W=Date.now();
return Q};t.Fy.aif=function(M,X,J){var q=[],W=!1;for(var $=0;$<M.length;$++){var T=M[$][0],_=M[$][1],m=_.r,d=_.$,A=t.j(_.o());
t.i5(T,A);var p=Date.now(),a=t.Fy.aaA(A,_,!0);if(W)console.log("Pyramid built ---------------",Date.now()-p);
p=Date.now();var f=t.agy.aFO(a,J);if(W)console.log("SURF Generation",Date.now()-p);p=Date.now();if(!X){t.aCX.a7n(a,f);
if(W)console.log("ORB Orientations",Date.now()-p);p=Date.now();t.aCX.ajZ(a,f,A,m,d);if(W)console.log("ORB Descriptors",Date.now()-p);
p=Date.now()}q.push(f)}return q};t.Fy.aaA=function(M,X,J){var q=[],W=[M,X];t.LH(W);if(J){var T=t.af2(M,X),_=T.S,m=[T.hT,_];
t.LH(m)}for(var $=0;$<W.length;$++){var d=W[2*$],A=W[2*$+1],p=A.r,a=A.$,f=Math.min(p,a);if(f<30)break;
if(f<1600)q.push({fo:d,a3:p,oz:a,bu:1<<$,X1:t.$M(d,p,a)});if(!J)continue;var d=m[2*$],A=m[2*$+1],p=A.r,a=A.$,f=Math.min(p,a);
if(f<30)break;if(f<1600)q.push({fo:d,a3:p,oz:a,bu:(1<<$)*3/2,X1:t.$M(d,p,a)})}return q};t.Fy.aB4=function(M,X,J,q){var W=Date.now(),T,_=0,m=0,d=J.length,A=new Float64Array(2);
for(var p=0;p<3e3;p++){var a=~~(Math.random()*d),f=~~(Math.random()*d),s=~~(Math.random()*d),j=~~(Math.random()*d),D=0,n=0;
if(a==f||a==s||a==j||f==s||f==j||s==j)continue;var Y=J[a],G=J[f],Q=J[s],Z=J[j],g=M[Y[0]],S=X[Y[1]],U=M[G[0]],B=X[G[1]],e=M[Q[0]],P=X[Q[1]],h=M[Z[0]],V=X[Z[1]],I=[g.x,g.y,U.x,U.y,e.x,e.y,h.x,h.y],F=[S.x,S.y,B.x,B.y,P.x,P.y,V.x,V.y],c=t.t.a6z(I,F);
if(c[0]==0&&c[1]==0&&c[3]==0&&c[4]==0)continue;var k=d-_+2;for(var $=0;$<d&&$-D<k;$++){var b=M[J[$][0]],N=X[J[$][1]];
t.t.l8(N.x,N.y,c,A);var L=A[0]-b.x,R=A[1]-b.y,i=L*L+R*R;if(i<q){D++;n+=i}}if(D>_||D==_&&n<m){T=c;_=D;
m=n}}return T};var c$=new Uint8Array(256);for(var $=0;$<256;$++){var i3=0,jX=$;while(jX!=0){jX=jX&jX-1;
i3++}c$[$]=i3}t.Fy.a0L=function(M,X,J){var q=0,W=M.length;for(var $=0;$<W&&q<J;$++)q+=c$[M[$]^X[$]];
return q};t.Fy.a8m=function(M,X,J,top,q){if(q[J]==1)return;var W=t.Fy.a0L(M.Qd,X.Qd,top[0]);if(W<top[0]){if(W<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=W;top[3]=J}else{top[0]=W;top[1]=J}}q[J]=1};t.Fy.a0O=function(M){var X=[],J=[],q=[[],[]],W=4;
for(var $=0;$<M.length;$++)(M[$].ajO==0?X:J).push($);for(var T=0;T<2;T++){var _=new Array(W),m=[],d=T==0?X:J,A=d.length/256,p=[];
for(var a=0;a<32;a++){var f=new Array(256),Y=0;for(var s=0;s<256;s++)f[s]=[];for(var s=0;s<d.length;
s++){var j=d[s];f[M[j].Qd[a]].push(j)}for(var s=0;s<256;s++)Y+=Math.abs(f[s].length-A);p.push([Y,a,f])}p.sort(function(G,Q){return G[0]-Q[0]});
var m=[],_=[];q[T]=[m,_];for(var $=0;$<W;$++){m.push(p[$][1]);_.push(p[$][2])}}return q};t.Fy.match=function(M,X,J){var q=[],W=new Uint16Array(X.length);
W.fill(65535);var T=new Uint8Array(X.length),top=new Uint32Array(4),_=[];for(var m=0;m<M.length;m++){var d=M[m],A=d.Qd;
top.fill(1e6);T.fill(0);var p=J[d.ajO];for(var a=0;a<p[1].length;a++){var f=p[1][a][A[p[0][a]]];for(var s=0;
s<f.length;s++){var j=f[s];t.Fy.a8m(d,X[j],j,top,T)}}if(top[2]<50&&top[2]<top[0]*.5){var Y=W[top[3]];
if(Y==65535){W[top[3]]=q.length;q.push([m,top[3],top[2]])}else if(top[2]<q[Y][2]){q[Y]=[m,top[3],top[2]]}}}q.sort(function(G,Q){return G[2]-Q[2]});
return q};t.Fy.a2p=function(M){var X=new gc;for(var $=0;$<M.length;$++)X=X.m0(M[$][1]);var J=t.j(X.o()*4);
for(var $=0;$<M.length;$++)t.v.r$("norm",M[$][0],M[$][1],J,X,X,1);return[J,X]};t.Fy.aAP=function(M,X,J,q,W,T,_,m){var d=M[1].Q(),A=d.Q();
d.x=d.y=0;var p=X[1].Q(),a=p.Q();p.x=p.y=0;p.x=d.r;var f=d.m0(p),s=a.y-A.y,j=t.j(f.o()*4);t.fA(M[0],d,j,f);
t.fA(X[0],new gc(p.x,p.y+s,p.r,p.$),j,f);var Y=document.createElement("canvas");Y.width=f.r;Y.height=f.$;
var G=Y.getContext("2d");G.lineWidth=.5;G.putImageData(new ImageData(new Uint8ClampedArray(j.buffer),f.r,f.$),0,0);
if(T){var Q=T[0],Z=t.FB.jJ(Q),g=d.r,S=m.r;for(var $=0;$<W.length;$++){var U=W[$],M=J[U[0]],X=q[U[1]];
G.strokeStyle="#"+"ff0000";G.beginPath();var B=t.qe.aDs(Z,_[0],X,0,S),e=t.qe.aDs(Q,_[1],M,0,S);G.moveTo(-A.x+B[0],-A.y+B[1]);
G.lineTo(-A.x+B[2],-A.y+B[3]);G.moveTo(g-a.x+e[0],-a.y+s+e[1]);G.lineTo(g-a.x+e[2],-a.y+s+e[3]);G.stroke()}}if(W){var P=W.length;
for(var $=0;$<P;$++){var U=W[$],M=J[U[0]],X=q[U[1]];G.strokeStyle="#"+"ffff00"}}var h=new Uint8Array(G.getImageData(0,0,f.r,f.$).data.buffer);
if(!1){for(var V=0;V<2;V++){var I=V==0?J:q,F=V*d.r;for(var $=0;$<I.length;$++){var c=I[$],D=~~c.x,n=~~c.y,k=(n*f.r+D+F)*4;
h[k+1]=h[k+2]=c.a8Z*60;h[k+0]=0;h[k+3]=255}}}return[h,f]};t.iJ={};t.iJ.list=[[[22,4,1],0],[[22,4,0],0],["Dual Axis",0],["Diagonal",0],[[22,5,9],0],[[12,93,5],0],[[12,93,2],0],["Parallel",0],[[19,0,1],1],["Mandala",2]];
t.iJ.aCT=["BasicPath","Radial","Mandala","RectangularTile"];t.iJ.nO=function(M,X){var J=.28*.5,q=[{C6:["M","L"],d:[.5,.1,.5,.9]},{C6:["M","L"],d:[.1,.5,.9,.5]},{C6:["M","L","M","L"],d:[.5,.1,.5,.9,.1,.5,.9,.5]},{C6:["M","L"],d:[.1,.1,.9,.9]},{C6:["M","C","C"],d:[.5,.1,.4,.2,.4,.4,.5,.5,.6,.6,.6,.8,.5,.9]},{C6:["M","C","C","C","C"],d:[.5,.25,.5+J,.25,.75,.5-J,.75,.5,.75,.5+J,.5+J,.75,.5,.75,.5-J,.75,.25,.5+J,.25,.5,.25,.5-J,.5-J,.25,.5,.25]},null,{C6:["M","L","M","L"],d:[.35,.1,.35,.9,.65,.1,.65,.9]}],m=.4;
if(q[M])return q[M];if(M==6){var W="m418 377c30 0 16-55-28-48-78 12-76 160 54 166 135 6 204-212 34-302-135-71-303 53-296 214 8 177 170 240 236 243",T=Typr.U.SVGToPath(W);
T={d:T.crds,C6:T.cmds};t.G.u(T.d,new kp(1/840,0,0,1/840,0,0),T.d);return T}var _={C6:[],d:[]},d=2*Math.PI/X;
for(var $=0;$<X;$++){_.C6.push("M","L");_.d.push(.5,.5,.5+Math.sin($*d)*m,.5-Math.cos($*d)*m)}return _};
t.iJ.L2=function(M,X){var J=Math.PI*.5+Math.atan2(M.y-X.y,X.x-M.x),q=new kp;q.translate(-M.x,-M.y);q.rotate(-J);
q.scale(-1,1);q.rotate(J);q.translate(M.x,M.y);return q};t.iJ.a06=function(M,X,J){var q=[new kp];if(J==null)return q;
var W=J[0],T=J[1],_=J[2];if(W==0){var m=t.I.Qa(_,!0),d=t.I.kj(_,0,!0),A=_[d].length;if(m==1){if(A==2){q.push(t.iJ.L2(_[d+1].Z,_[d+2].Z))}else{var p=t.G.BM(_);
p=t.G.qG(p);var a=t.G.ae1(p),f=t.G.aG(a,M.x,M.y),jX=new es(a[f*2],a[f*2+1]),s=M.x-jX.x,j=M.y-jX.y,Y=new es(jX.x-j,jX.y+s);
q.push(t.iJ.L2(jX,Y))}}if(m==2){var G=t.I.kj(_,1,!0),Q=_[G].length;if(A==2&&Q==2){var Z=_[d+1].Z,g=_[d+2].Z,S=_[G+1].Z,U=_[G+2].Z,B=t.G.n5(Z.x,Z.y,g.x-Z.x,g.y-Z.y,S.x,S.y,U.x-S.x,U.y-S.y),e=t.iJ.L2(Z,g);
q.push(e);var P=t.iJ.L2(S,U);q.push(P);if(0<B&&B<1){e=e.Q();e.concat(P);q.push(e)}}else alert("two curves")}}if(W==1||W==2){q=[];
var h=_[3].Z,V=_[4].Z;for(var $=0;$<T;$++){var I=new kp;I.translate(-h.x,-h.y);I.rotate($*Math.PI*2/T);
I.translate(h.x,h.y);q.push(I);if(W==2){I=I.Q();I.concat(t.iJ.L2(h,V));q.push(I)}}}if(W==3){q=[];for(var F=-1;
F<2;F++)for(var c=-1;c<2;c++){var I=new kp;I.translate(c*X.r,F*X.$);q.push(I)}}return q};t.stack={};
t.stack.stack=function(M,X,J){var q=M.length,W=X.length;if(q==1){X.set(M[0]);return}if(J=="avrg"||J=="stdv"||J=="summ"||J=="vari"){var T=1/q;
for(var $=0;$<W;$++){var _=0;for(var m=0;m<q;m++)_+=M[m][$];var d=~~(_*T+.5);if(J=="avrg"||($&3)==3)X[$]=d;
else if(J=="summ")X[$]=255*Math.pow(Math.min(255,_)*(1/255),1/2.4);else{var A=0;for(var m=0;m<q;m++){var p=M[m][$]-d;
A+=p*p}var a=Math.sqrt(A*T)*(1/255);if(J=="stdv")X[$]=255*Math.pow(a,1/2.4);else X[$]=255*Math.pow(a*a,1/2.4)}}}else if(J=="maxx"){for(var $=0;
$<W;$++){var f=0;for(var m=0;m<q;m++)f=Math.max(f,M[m][$]);X[$]=f}}else if(J=="minn"){for(var $=0;$<W;
$++){var f=255;for(var m=0;m<q;m++)f=Math.min(f,M[m][$]);X[$]=f}}else if(J=="medn"||J=="rang"){var s=function(Q,Z){return Q-Z},j=new Array(q),Y=0,G=0;
if((q&1)==0){G=q>>>1;Y=G-1}else{Y=G=q>>>1}for(var $=0;$<W;$++){for(var m=0;m<q;m++)j[m]=M[m][$];j.sort(s);
if(J=="medn")X[$]=j[Y]+j[G]>>>1;else X[$]=($&3)==3?j[q-1]:j[q-1]-j[0]}}else console.log(J)};t.GI={};
t.GI.a4D=function(M,X,J,q){var W=Date.now(),T=new Uint32Array(X*J),_=new Uint8Array(X*J);while(!0){_.fill(0);
T.fill(0);var m=[],d=0;for(var A=0;A<J;A++){for(var p=0;p<X;p++){var $=A*X+p;if(_[$]==0){var a=m.length,f=t.GI.Dd(M,X,J,p,A,_,T,a);
m.push([a,p,A,f[0],f[1],M[$]]);if(f[0]<q)d++}}}if(d==0)break;var s=m.length,j=new UnionFind(s),Y=[];
for(var $=0;$<s;$++)Y.push([]);for(var $=0;$<s;$++){var f=m[$],G=f[4],Q=0,Z=0;if(f[3]>=q)continue;var a=f[0];
for(var g=0;g<G.length;g+=2){var S=T[G[g+1]*X+G[g]],U=m[S];if(U[3]>Z){Z=U[3];Q=S}}if(j.find(a)!=j.find(Q)){j.link(a,Q);
Y[a].push(Q);Y[Q].push(a)}}var B=new Uint32Array(s);B.fill(4294967295);var e=new Uint32Array(s);for(var $=0;
$<s;$++){if(B[$]!=4294967295||Y[$].length==0)continue;var P=[$],h=[$],V=$,I=m[$][3];while(h.length!=0){var F=h.pop(),c=Y[F];
for(var g=0;g<c.length;g++){var D=c[g];if(P.indexOf(D)==-1){P.push(D);h.push(D);var n=m[D];if(n[3]>I){I=n[3];
V=D}}}}for(var g=0;g<P.length;g++){B[P[g]]=V;var k=m[V];e[P[g]]=M[k[2]*X+k[1]]}}for(var A=0;A<J;A++)for(var p=0;
p<X;p++){var $=A*X+p,b=B[T[$]];if(b!=4294967295)M[$]=e[b]}}};t.GI.Dd=function(M,X,J,q,W,T,_,m){var d=[q,W],A=M[W*X+q],p=0,a=[];
T[W*X+q]=1;while(d.length!=0){var f=d.pop(),s=d.pop(),$=f*X+s;_[$]=m;p++;if(f!=J-1)if(M[$+X]==A){if(T[$+X]==0){d.push(s,f+1);
T[$+X]=1}}else a.push(s,f+1);if(f!=0)if(M[$-X]==A){if(T[$-X]==0){d.push(s,f-1);T[$-X]=1}}else a.push(s,f-1);
if(s!=X-1)if(M[$+1]==A){if(T[$+1]==0){d.push(s+1,f);T[$+1]=1}}else a.push(s+1,f);if(s!=0)if(M[$-1]==A){if(T[$-1]==0){d.push(s-1,f);
T[$-1]=1}}else a.push(s-1,f)}return[p,a]};t.GI.aaa=function(M,X,J){var q=new Uint32Array(X*J);for(var $=0;
$<q.length;$++)q[$]=M[$];var W=[];for(var T=0;T<J;T++){for(var _=0;_<X;_++){var $=T*X+_,m=q[$];if(m<1e3){var d=t.GI.aBv(q,X,J,_,T,1e3+W.length);
W.push([_,T,m,d,0])}}}for(var $=0;$<q.length;$++)q[$]-=1e3;var A=new Float32Array(X*J);A.fill(X+J);for(var T=0;
T<J;T++)for(var _=0;_<X;_++){var $=T*X+_,m=q[$];if(_==0||T==0||q[$-1]!=m||q[$-X]!=m)A[$]=0;else{var p=Math.min(A[$],A[$-1]+1,A[$-X]+1);
if(q[$-X-1]==m)p=Math.min(p,A[$-X-1]+1.414);A[$]=p}}for(var T=J-1;T>=0;T--)for(var _=X-1;_>=0;_--){var $=T*X+_,m=q[$];
if(_==X-1||T==J-1||q[$+1]!=m||q[$+X]!=m)A[$]=0;else{var p=Math.min(A[$],A[$+1]+1,A[$+X]+1);if(q[$+X+1]==m)p=Math.min(p,A[$+X+1]+1.414);
A[$]=p}}for(var T=0;T<J;T++)for(var _=0;_<X;_++){var $=T*X+_,a=W[q[$]];if(A[$]>a[4]){a[4]=A[$];a[0]=_;
a[1]=T}}return W};t.GI.aBv=function(M,X,J,q,W,T){var _=[q,W],m=M[W*X+q],d=0;M[W*X+q]=4294967295;while(_.length!=0){var W=_.pop(),q=_.pop(),$=W*X+q;
d++;M[$]=T;if(W<J-1&&M[$+X]==m){_.push(q,W+1);M[$+X]=4294967295}if(W>0&&M[$-X]==m){_.push(q,W-1);M[$-X]=4294967295}if(q>0&&M[$-1]==m){_.push(q-1,W);
M[$-1]=4294967295}if(q<X-1&&M[$+1]==m){_.push(q+1,W);M[$+1]=4294967295}}return d};t.GI.ah3=function(M,X,J,q,W){var T=t.GI.acL(M.buffer,X,J).MM,_=Date.now(),m=[];
for(var $=0;$<T.length;$++){var d=T[$],A=1;for(var p=0;p<A;p++)m.push(d.br)}var a=new Uint32Array(m),f=UPNG.quantize.getKDtree(new Uint8Array(a.buffer),q),s=[X,1,-X,-1,X+1,-X+1,-X-1,X-1,X+X,2,-X-X,-2,X+X-1,X+X+1,X+2,-X+2,-X-X+1,-X-X-1,-X-2,X-2,X+X+2,-X-X+2-X-X-2,X+X-2],j=new Uint8Array(X*J),Y=M;
for(var G=0;G<J;G++)for(var Q=0;Q<X;Q++){var $=G*X+Q<<2,Z=Y[$]*(1/255),g=Y[$+1]*(1/255),S=Y[$+2]*(1/255),U=Y[$+3]*(1/255),B=t.GI.Jc(f,Z,g,S,U,W);
if(B==null){var e=[],P=0;while(P<20){var h=G*X+Q+s[P]<<2,V=Y[h]*(1/255),I=Y[h+1]*(1/255),F=Y[h+2]*(1/255),c=Y[h+3]*(1/255),D=t.GI.Jc(f,V,I,F,c,.005);
if(D!=null){if(e.indexOf(D)==-1){e.push(D);D.nn=1}else D.nn++}P++}e.sort(function(U,S){return S.nn-U.nn});
while(e.length!=0&&e[e.length-1].nn<3)e.pop();if(e.length==0)B=t.GI.Jc(f,Z,g,S,U,100);else if(e.length==1)B=e[0];
else if(e.length==2){var n=e[0],k=e[1],b=n.est.q,N=k.est.q,L=N[0]-b[0],R=N[1]-b[1],i=N[2]-b[2],v=N[3]-b[3],E=Z-b[0],u=g-b[1],C=S-b[2],l=U-b[3],x=L*L+R*R+i*i+v*v,y=E*E+u*u+C*C+l*l,ge=(E*L+u*R+C*i+l*v)/x,O=y-ge*ge*x;
if(O<.5)B=ge<.5?n:k;else{B=t.GI.Jc(f,Z,g,S,U,100)}}else{var n=e[0],k=e[1],kz=e[2],b=n.est.q,N=k.est.q,z=kz.est.q,eZ=b[0]-z[0],kM=b[1]-z[1],jV=b[2]-z[2],cL=b[3]-z[3],aw=N[0]-z[0],h2=N[1]-z[1],ea=N[2]-z[2],ht=N[3]-z[3],jn=z[0]-Z,gE=z[1]-g,bS=z[2]-S,bi=z[3]-U,cj=eZ*eZ+kM*kM+jV*jV+cL*cL,bb=eZ*aw+kM*h2+jV*ea+cL*ht,c0=jn*eZ+gE*kM+bS*jV+bi*cL,cV=eZ*aw+kM*h2+jV*ea+cL*ht,g_=aw*aw+h2*h2+ea*ea+ht*ht,hx=jn*aw+gE*h2+bS*ea+bi*ht,au=1/(bb*cV-cj*g_),ge=(g_*c0-hx*bb)*au,kP=(hx*cj-c0*cV)*au,iK=1-ge-kP,b3=Math.max(ge,kP,iK);
if(b3==ge)B=n;else if(b3==kP)B=k;else B=kz}}j[$>>2]=B.ind}return{jw:j,MM:f[1]}};t.GI.acL=function(M,X,J){var q=[],W={},T=X-1,_=J-1,m=0,d=new Uint32Array(M),A=[-X-1,-X,-X+1,-1,1,X-1,X,X+1,X+X,2,-X-X,-2,X+X-1,X+X+1,X+2,-X+2,-X-X+1,-X-X-1,-X-2,X-2,X+X+2,-X-X+2-X-X-2,X+X-2];
for(var p=1;p<_;p++)for(var a=1;a<T;a++){var f=p*X+a,s=d[f],j=!0;for(var $=0;$<8;$++)j=j&&d[f+A[$]]==s;
if(j){m++;var Y=W[s];if(Y==null){W[s]=q.length;q.push({br:s,fu:1})}else q[Y].fu++}}return{MM:q,ayq:m}};
t.GI.Jc=function(M,X,J,q,W,T){var _=UPNG.quantize.getNearest(M[0],X,J,q,W);return t.GI.aCv(_,X,J,q,W)<T?_:null};
t.GI.aCv=function(M,X,J,q,W){var T=M.est.q,_=X-T[0],m=J-T[1],d=q-T[2],A=W-T[3];return _*_+m*m+d*d+A*A};
(function(){t.GI.zH=function(m,d,A,p,a){var f=m.q9,s=d*A,j=m.tP,Y=m.jw,G=q(p,Y,f,s),Q=new UnionFind(f),e=0;
for(var Z=1;Z<A;Z++)for(var g=1;g<d;g++){var $=Z*d+g,S=Y[$],U=0;if((U=Y[$-1])!=S&&G[U]==G[S]&&M(j,0,S*6,U*6)<a)Q.link(S,U);
if((U=Y[$-d])!=S&&G[U]==G[S]&&M(j,0,S*6,U*6)<a)Q.link(S,U)}var B=new Uint16Array(f);B.fill(65535);var P=new Uint16Array(f);
for(var $=0;$<f;$++){var h=Q.find($);if(B[h]==65535)B[h]=e++;P[$]=B[h]}var V=new Uint16Array(s);for(var $=0;
$<s;$++)V[$]=P[Y[$]];return{jw:V,q9:e}};t.GI.Ez=function(m,d,A){var p=t.j(d),a=m.length;for(var $=0;
$<a;$++){var f=A[$];if(f==0||f==255){var s=m[$],j=2-(f>>>7),Y=p[s]=p[s]|j;if(Y==3)return s}}return-1};
function M(m,d,A,p){var a=1/m[A+5],f=1/m[p+5],s=m[A]*a-m[p]*f,j=m[A+1]*a-m[p+1]*f,Y=m[A+2]*a-m[p+2]*f,G=m[A+3]*a-m[p+3]*f,Q=m[A+4]*a-m[p+4]*f,Z=Math.sqrt(s*s+j*j+Y*Y),g=Math.sqrt(G*G+Q*Q);
return~~(Z+d*g+.5)}function X(m,d){var $=0,A=m.length;while($!=A&&m[$]!=d)$+=2;return $==A?-1:$}function J(m,$){if($==m.length-2){m.pop();
m.pop()}else{m[$+1]=m.pop();m[$]=m.pop()}}t.GI.a2R=function(m,d,A,p,a){var f=new Uint32Array(a*4400),s=[];
for(var $=0;$<a;$++)s.push([]);for(var j=0;j<A;j++)for(var Y=0;Y<d;Y++){var $=j*d+Y,G=$<<2,Q=p[$],Z=0,g=m[G]>>>4,S=m[G+1]>>>4,U=m[G+2]>>>4;
f[Q*4400+(g<<8|S<<4|U)]++;f[Q*4400+4096]++;f[Q*4400+4100+(g<<4|S)]++;f[Q*4400+4360+g]++;if(Y!=0&&(Z=p[$-1])!=Q&&X(s[Q],Z)==-1){s[Q].push(Z,0);
s[Z].push(Q,0)}if(j!=0&&(Z=p[$-d])!=Q&&X(s[Q],Z)==-1){s[Q].push(Z,0);s[Z].push(Q,0)}}for(var $=0;$<a;
$++){var U=s[$];for(var B=0;B<U.length;B+=2)U[B+1]=_(f,$,U[B])}return[f,s]};function q(m,d,A,p){var a=t.j(A);
for(var $=0;$<p;$++){var f=m[$];if(f==0||f==255)a[d[$]]=2-(f>>>7)}return a}t.GI.aCn=function(m,d,A,p,a,f,s){var j=d*A,Y=s[0],G=s[1],Q=new UnionFind(p),Z=q(a,m,p,j),g=-1,S=!0,U=0;
for(var $=0;$<p;$++)if(Z[$]==1){if(g==-1)g=$;else Q.link($,g)}if(g==-1){for(var $=0;$<j;$++)f[$]=a[$]==255?255:0;
return}while(S){while(S){S=!1;for(var $=0;$<p;$++){if(Z[$]==0){var B=W(G[$]);if(Z[B]==1){Z[$]=Z[B];S=!0;
Q.link($,B)}}}}S=!0;U=0;while(S){S=!1;for(var $=0;$<p;$++){if(Z[$]==0){var B=W(G[$]);if(Z[B]==0){var e=$*4400,P=B*4400;
for(var h=0;h<4400;h+=2){Y[e+h]+=Y[P+h];Y[e+h+1]+=Y[P+h+1]}T(G,Y,$,B);U++;Z[B]=3;S=!0;Q.link($,B)}}}}S=U!=0}var V=Q.find(g);
for(var $=0;$<p;$++)Z[$]=Q.find($)==V?255:0;for(var $=0;$<j;$++){f[$]=Z[m[$]]}for(var $=0;$<j;$++){var B=a[$];
if(B==0||B==255)f[$]=B}};function W(m){var d=0,A=0,p=m.length;for(var a=0;a<p;a+=2){var f=m[a+1];if(f>A){A=f;
d=a}}return m[d]}function T(m,d,A,p){var a=m[A],f=m[p];J(a,X(a,p));J(f,X(f,A));for(var $=0;$<f.length;
$+=2){var s=f[$],j=m[s];J(j,X(j,p));if(X(j,A)==-1){j.push(A,0);a.push(s,0)}}for(var $=0;$<a.length;$+=2){var s=a[$],j=m[s],Y=_(d,A,s);
a[$+1]=Y;j[X(j,A)+1]=Y}}function _(m,d,A){var p=0,a=4096,f=d*4400,s=A*4400;for(var j=0;j<16;j++){if(m[f+4360+j]==0||m[s+4360+j]==0)continue;
for(var Y=0;Y<16;Y++){var G=j<<4|Y;if(m[f+4100+G]==0||m[s+4100+G]==0)continue;var Q=f+(G<<4),Z=s+(G<<4);
for(var $=0;$<16;$++)p+=Math.sqrt(m[Q+$]*m[Z+$])}}var g=p/Math.sqrt(m[f+a]*m[s+a]);return~~(999.99999*g)}}());
t.GI.Cj=function(){var M,X,J,_=0,m=0;function q(s,j,Y){var G=[],Q=Y,Z=Y,g=Y>>>2;for(var S=0;S<j;S++)for(var U=0;
U<s;U++){var B=~~((U+.5)*Q),e=~~((S+.5)*Z),P=1e9,h=Math.max(0,B-g),V=Math.min(X,B+g+1),I=Math.max(0,e-g),F=Math.min(J,e+g+1);
for(var c=I;c<F;c++)for(var D=h;D<V;D++){var n=W(D,c);if(n<P){B=D;e=c;P=n}}G.push(B,e)}return G}function W(s,j){var Y=(j*X+s)*4,G=X*4,Q=T(Y-4,Y)+T(Y,Y+4),Z=T(Y-G,Y)+T(Y,Y+G);
return Q+Z}function T(s,j){var Y=M[s]-M[j],G=M[s+1]-M[j+1],Q=M[s+2]-M[j+2];return Y*Y+G*G+Q*Q}function d(s,j,Y,G){m++;
if(G<_)_=G;s[G].push(j,Y)}function A(s){m--;while(s[_].length==0)_++}function p(s,j,Y,G,Q){var Z=(Y*X+j)*4,g=G[Q+5],S=1/g,U=M[Z]*g-G[Q],B=M[Z+1]*g-G[Q+1],e=M[Z+2]*g-G[Q+2],P=j*g-G[Q+3],h=Y*g-G[Q+4],V=Math.sqrt(U*U+B*B+e*e),I=Math.sqrt(P*P+h*h);
return~~((V+s*I)*S+.5)}function a(s,j,Y,G,Q){M=s;X=j;J=Y;_=0;m=0;var Z=X*J,g=Math.round(Math.min(X,J)/(G?G:30));
if(g==0)g=1;var S=(Q?Q:30)/g,U=Math.floor(X/g),B=Math.floor(J/g),e=new Uint16Array(Z);for(var $=0;$<Z;
$++)e[$]=65535;var P=q(U,B,g),h=P.length>>>1;if(h>65535)throw h;var V=new Uint32Array(h*6),I=[];for(var $=0;
$<1e3+J;$++)I.push([]);var F=1e3*700/(X*J),c=Math.floor(B*F);c=Math.min(B,Math.max(4,c));c=B;var V=new Uint32Array(h*6);
for(var D=0;D<B;D+=c){var n=Math.min(D+c,B);for(var k=D;k<n;k++)for(var b=0;b<U;b++){var $=k*U+b;d(I,P[$*2+1]<<16|P[$*2],$,0)}var N=Math.min(J,n*g);
if(D+c>=B)N=J;f(V,I,e,S,N)}M=null;return{jw:e,q9:h,tP:V,a6n:S}}function f(s,j,Y,G,Q){while(m!=0){A(j);
var Z=j[_].pop(),g=j[_].pop(),S=g>>>16,U=g&65535,$=S*X+U;if(Y[$]==null)throw"e";if(Y[$]==65535){var B=Z*6,e=$<<2;
Y[$]=Z;s[B]+=M[e];s[B+1]+=M[e+1];s[B+2]+=M[e+2];s[B+3]+=U;s[B+4]+=S;s[B+5]++;if(S!=Q-1&&Y[$+X]==65535)d(j,S+1<<16|U,Z,p(G,U,S+1,s,B));
if(S!=0&&Y[$-X]==65535)d(j,S-1<<16|U,Z,p(G,U,S-1,s,B));if(U!=0&&Y[$-1]==65535)d(j,S<<16|U-1,Z,p(G,U-1,S,s,B));
if(U!=X-1&&Y[$+1]==65535)d(j,S<<16|U+1,Z,p(G,U+1,S,s,B))}}}a.yI=function(s,j,Y,G,Q,Z){M=s;X=j;J=Y;var g=G.q9=G.q9+1,S=G.jw,U=G.tP,B=G.tP=new Uint32Array(g*6);
B.set(U,0);var e=S[Q[1]*X+Q[0]];for(var $=0;$<S.length;$++)if(S[$]==e)S[$]=65535;for(var $=0;$<6;$++)B[e*6+$]=0;
var P=[];for(var $=0;$<1e3+J;$++)P.push([]);for(var $=0;$<Q.length;$+=2)d(P,Q[$+1]<<16|Q[$],e,0);for(var $=0;
$<Z.length;$+=2)d(P,Z[$+1]<<16|Z[$],g-1,0);f(B,P,S,G.a6n,J);M=null};return a}();t.auh={};t.auh.adq=function(){var M=11,X=7,J=M>>>1,jX=X>>>1,q=2,W=2e3/q,T=[],m=null,d="";
function _(p,a,f){var s=(p[a+0]-p[f+0])*(1/255),j=(p[a+1]-p[f+1])*(1/255),Y=(p[a+2]-p[f+2])*(1/255),G=(p[a+3]-p[f+3])*(1/255),Q=s*s*.125+j*j*.25+Y*Y*.5+G*G;
return T[~~(Q*W)]}function A(p,a,f,s,j,Y){var G=Date.now(),Q=t.j(a*f);t.i5(p,Q);var Z=UZIP.adler(Q,0,a*f);
if(Z!=d){var g=t.$M(Q,a,f);m=t.j(a*f*4);d=Z;var S=[1,1/9,1/25,1/49,1/81];for(var U=0;U<f;U++)for(var B=0;
B<a;B++)for(var $=0;$<4;$++){var e=Math.max(1,B-$),P=Math.min(a-1,B+$),h=Math.max(1,U-$),V=Math.min(f-1,U+$),I=t.qF(g,a,e,P,h,V);
if(isNaN(I))throw B+","+U+","+$+","+I;m[(U*a+B)*4+$]=I*S[$]}}if(aq.zw){var F=aq.hu(0,a,f);F.set(p);var c=aq.hu(1,a,f);
c.set(m);var D=aq.hu(2,a,f);aq.O$(D);aq.filter.te({e:aq.filter.ayG,LU:new Float32Array([1/a,1/f]),a13:c.SX,aqb:j,agC:Y},F.SX);
D.get(s)}else{for(var $=0;$<2e3;$++)T[$]=Math.exp(-($/2e3)*q*(100+(1-j)*(1-j)*1e4));var n=jX+2;for(var U=n;
U<f-n;U++)for(var B=n;B<a-n;B++){var k=0,b=0,N=0,L=0;for(var R=0;R<M;R++)for(var i=0;i<M;i++){var v=B+i-J,E=U+R-J;
if(v==B&&E==U||v<n||E<n||v>=a-n||E>=f-n)continue;var u=_(m,(U*a+B)*4,(E*a+v)*4),C=E*a+v<<2;k+=u*p[C+0];
b+=u*p[C+1];N+=u*p[C+2];L+=u}if(L==0){continue}var l=1/L,x=(U*a+B)*4;s[x+0]=~~((1-Y)*l*k+Y*s[x+0]);s[x+1]=~~((1-Y)*l*b+Y*s[x+1]);
s[x+2]=~~((1-Y)*l*N+Y*s[x+2])}}}return A}();t.ave=function(){var M=6,X=M>>>1,J=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],q=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function W(Y,G){var Q=!1,Z=Y.length,g=G[0],e=5,h=0,V=0;for(var $=1;$<Z;$++)g=g.m0(G[$]);if((g.r&1)!=0)g.r++;
if((g.$&1)!=0)g.$++;var S=g.r,U=g.$,B=Math.max(S,U);while(B>>>e>8&&e<10)e++;var P=1<<e;if(S%P!=0)h=P-S%P;
if(U%P!=0)V=P-U%P;g.$K(h>>>1,V>>>1);S=g.r;U=g.$;if(S%P!=0||U%P!=0)throw"e";var I=Date.now(),F=[],c=t.j(g.o()),D=[],n=S*U,k=new Float32Array(S*U*2);
for(var $=0;$<Z;$++){var b=G[$],N=t.j(b.o());t.i5(Y[$],N);c.fill(0);t.Rc(N,b,c,g);F.push(c.slice(0));
var L=b.x-g.x,R=b.y-g.y,i=L+b.r-2,v=R+b.$;for(var E=0;E<b.$;E++){var u=(E+R)*S;for(var C=0;C<L;C++)c[u+C]=c[u+L];
for(var C=i;C<S;C++)c[u+C]=c[u+i-1]}for(var C=0;C<S;C++){for(var E=0;E<R;E++)c[E*S+C]=c[R*S+C];for(var E=v;
E<U;E++)c[E*S+C]=c[(v-1)*S+C]}var l=new Float32Array(S*U*2);D.push(l);for(var x=0;x<n;x++)l[x*2]=c[x]*(1/255);
d(l,k,S,U,e);T(l,S,U,e)}if(Q)console.log("to gray, decompose",Date.now()-I);I=Date.now();var y=t.j(S*U);
for(var E=0;E<U;E++)for(var C=0;C<S;C++){var ge=0,O=0,kz=E*S+C<<1;for(var $=0;$<Z;$++){var z=D[$],eZ=z[kz],kM=z[kz+1],jV=eZ*eZ+kM*kM;
if(jV>O){O=jV;ge=$}}y[kz>>>1]=ge}if(Q)console.log("max abs value",Date.now()-I);I=Date.now();_(y,S,U,e);
m(y,S,U);if(Q)console.log("denoise",Date.now()-I);I=Date.now();var cL=k.slice(0);for(var E=0;E<U;E++)for(var C=0;
C<S;C++){var $=E*S+C,kz=$<<1,aw=D[y[$]];cL[kz]=aw[kz];cL[kz+1]=aw[kz+1]}A(cL,k,S,U,e);if(Q)console.log("compose",Date.now()-I);
I=Date.now();for(var x=0;x<n;x++){var jV=cL[x*2]*255,ge=0,O=1e9;for(var $=0;$<Z;$++){var h2=Math.abs(F[$][x]-jV);
if(h2<O){O=h2;ge=$}F[$][x]=0}F[ge][x]=255}if(Q)console.log("toRGB",Date.now()-I);I=Date.now();return[F,g]}function T(Y,G,Q,Z){var g=G>>>Z,S=Q>>>Z,U=1e-4;
for(var B=0;B<Q;B++)for(var e=0;e<G;e++){if(e<g&&B<S)continue;var P=(B*G+e)*2,h=Y[P],V=Y[P+1],I=h*h+V*V;
if(I<U)h=V=0;else{var F=(I-U)/I;h*=F;V*=F}Y[P]=h;Y[P+1]=V}}function _(Y,G,Q,Z){for(var g=0;g<Z;g++){var S=G>>>g,U=Q>>>g,B=S>>>1,e=U>>>1;
for(var P=0;P<e;P++)for(var h=0;h<B;h++){var V=P*G+B+h,I=(P+e)*G+B+h,F=(P+e)*G+h,c=Y[V],D=Y[I],n=Y[F];
if(c==D==n){}else if(c==D)Y[F]=c;else if(D==n)Y[V]=D;else if(c==n)Y[I]=c}}}function m(Y,G,Q){for(var Z=1;
Z<Q-1;Z++)for(var g=1;g<G-1;g++){var $=Z*G+g,S=Y[$-G],U=Y[$-1],B=Y[$],e=Y[$+1],P=Y[$+G],h=S==U&&S==e||S==e&&e==P||e==P&&U==P||S==U&&P==U;
if(h)Y[$]=S==U?S:U==e?U:S;else if(B>S&&B>U&&B>e&&B>P)Y[$]=S+U+e+P>>>2;else if(B<S&&B<U&&B<e&&B<P)Y[$]=S+U+e+P>>>2}}function d(Y,G,Q,Z,g){for(var $=0;
$<g;$++){var S=Q>>>$,U=Z>>>$;p(Y,G,Q,Z,S,U)}}function A(Y,G,Q,Z,g){for(var $=g-1;$>=0;$--){var S=Q>>$,U=Z>>$;
a(Y,G,Q,Z,S,U)}}function p(Y,G,Q,Z,g,S){s(Y,G,Q,Z,g,S,!0);s(G,Y,Q,Z,g,S,!1)}function a(Y,G,Q,Z,g,S){j(Y,G,Q,Z,g,S,!0);
j(G,Y,Q,Z,g,S,!1)}function f(Y,G,Q,Z,g,S){var U=Q*Z+G<<1;Y[U]=g;Y[U+1]=S}function s(Y,G,Q,Z,g,S,U){var i3=U?g:S,B=U?S:g,e=B>>>1;
for(var P=0;P<i3;P++){for(var h=0;h<B;h+=2){var V=0,I=0,F=0,c=0,D=h>>>1;for(var n=0;n<6;n++){var k=h+n-3;
if(k<0)k=B+k;if(k>=B)k=k-B;var b=(U?k*Q+P:P*Q+k)<<1,N=Y[b],L=Y[b+1],R=J[n],i=q[n];V+=N*R[0]-L*R[1];I+=L*R[0]+N*R[1];
F+=N*i[0]-L*i[1];c+=L*i[0]+N*i[1]}if(U){f(G,P,D,Q,V,I);f(G,P,D+e,Q,F,c)}else{f(G,D,P,Q,V,I);f(G,D+e,P,Q,F,c)}}}}function j(Y,G,Q,Z,g,S,U){var i3=U?g:S,B=U?S:g,e=B>>>1,P,h,V,I;
for(var F=0;F<i3;F++){for(var c=0;c<B;c++){var D=0,n=0;for(var k=c+3&1;k<6;k+=2){var b=c-k+3>>1;if(b<0)b=e+b;
if(b>=e)b=b-e;if(U){P=F;h=b;V=F;I=b+e}else{h=F;P=b;I=F;V=b+e}var N=h*Q+P<<1,L=I*Q+V<<1,R=Y[N],i=Y[N+1],v=Y[L],E=Y[L+1],u=J[k],C=q[k];
D+=R*u[0]+v*C[0];D+=i*u[1]+E*C[1];n+=i*u[0]+E*C[0];n-=R*u[1]+v*C[1]}if(U)f(G,F,c,Q,D,n);else f(G,c,F,Q,D,n)}}}return{dV:W}}();
t.a0p=function(){var M=Math.floor(12e3/8),X=UPNG.quantize.findNearest,J,q,W,T;function _(f,s,j,Y){var G=[f,new gc(0,0,s,j)],Z;
t.uW(G);var Q=Date.now(),g=s+j>>>1;for(var $=g<1e3?2:4;$>=0;$-=2){var S=G[$+1],q=S.r,W=S.$;if(Z==null){Z=new Uint8Array(q*W);
X(G[$],Z,Y)}m(G[$],q,W,Y,Z);if($!=0){var U=G[$-1],B=U.r,e=U.$,P=new Uint8Array(B*e);for(var h=0;h<e;
h++)for(var V=0;V<B;V++)P[h*B+V]=Z[(h>>>1)*q+(V>>>1)];Z=P}}return Z}function m(f,s,j,Y,G){J=f;q=s;W=j;
T=Y;var Q=T.length>>>2,Z=[-1,-q,1,q],g=[-1,-q,-q+1,2,q+1,q],S=[-1,-q,1,q+1,q+q,q-1],U=8,B=q+W>>>1,e=1e9;
while(B>512){U>>=1;B>>=1}U=Math.max(1,Math.min(4,U));for(var P=0;P<U;P++){var h=0;for(var V=0;V<W;V++)for(var I=0;
I<q;I++){if(p(G,I,V)<2)continue;var F=V*q+I,c=G[F],D=1e9,n=0,k=I==0||V==0||I>q-3||V>W-3;if(k){D=1e9;
for(var $=0;$<Q;$++){G[F]=$;var b=a(G,I,V,2);if(b<D){D=b;n=$}}G[F]=n;if(n==c&&I+1<q&&G[F+1]==c){D=1e9;
for(var $=0;$<Q;$++){G[F]=G[F+1]=$;var b=a(G,I,V,2)+a(G,I+1,V,2);if(b<D){D=b;n=$}}G[F]=G[F+1]=n}if(n==c&&V+1<W&&G[F+q]==c){D=1e9;
for(var $=0;$<Q;$++){G[F]=G[F+q]=$;var b=a(G,I,V,2)+a(G,I,V+1,2);if(b<D){D=b;n=$}}G[F]=G[F+q]=n}}else{D=1e9;
n=-1;for(var $=0;$<4;$++){var N=G[F+Z[$]];if(N==n)continue;G[F]=N;var b=a(G,I,V,2);if(b<D){D=b;n=N}}G[F]=n;
if(n==c&&I+1<q&&G[F+1]==c){D=1e9;n=-1;for(var $=0;$<6;$++){var N=G[F+g[$]];if(N==n)continue;G[F]=G[F+1]=N;
var b=a(G,I,V,2)+a(G,I+1,V,2);if(b<D){D=b;n=N}}G[F]=G[F+1]=n}if(n==c&&V+1<W&&G[F+q]==c){D=1e9;n=-1;for(var $=0;
$<6;$++){var N=G[F+S[$]];if(N==n)continue;G[F]=G[F+q]=N;var b=a(G,I,V,2)+a(G,I,V+1,2);if(b<D){D=b;n=N}}G[F]=G[F+q]=n}}h+=D}}}function d(f){var s=0;
for(var j=0;j<W;j++)for(var Y=0;Y<q;Y++)s+=a(f,Y,j,1);return s/(q*W)}function A(f,s,j){var $=j*q+s,Y=$*4,G=f[$]*4,Q=J[Y]-T[G],Z=J[Y+1]-T[G+1],g=J[Y+2]-T[G+2],S=J[Y+3]-T[G+3];
return Q*Q+Z*Z+g*g+S*S}function p(f,s,j){if(s<0||s>=q||j<0||j>=W)throw"e";var $=j*q+s,Y=f[$],G=0;if(j>0&&Y!=f[$-q])G+=2;
if(s>0&&Y!=f[$-1])G+=2;if(s<q-1&&Y!=f[$+1])G+=2;if(j<W-1&&Y!=f[$+q])G+=2;if(j>0&&s>0&&Y!=f[$-q-1])G++;
if(j<W-1&&s>0&&Y!=f[$+q-1])G++;if(j>0&&s<q-1&&Y!=f[$-q+1])G++;if(j<W-1&&s<q-1&&Y!=f[$+q+1])G++;return G}function a(f,s,j,Y){return A(f,s,j)+p(f,s,j)*Y*M}return _}();
var bX=function(){function M(){this.o=0;this.dR=0;this.aI={};this.MD=[];this.cw=1e5;this.w2=1e5;this.ZR=-1;
this.MV=-1;this.color=0}function X(jX){this.q=jX;this.AW=new Array(jX);this.br=new Array(jX*6);this.ac$=0;
this.Xc=new Array(jX*2);this.alpha=new Array(jX);this.yK=new Array(jX);this.$a=new Array(jX)}function J(W,T,_,m){function d(G,Q,W,T){return W[T*Q+G]}function A($){var e=W.length;
while($<e&&W[$]==0)$++;return $<e?$:-1}function p(G,Q,e){for(var $=2;$<5;$++){var P=0;for(var h=-$+1;
h<=$-1;h++){P+=d(G+h,Q+$-1,W,T)==e?1:-1;P+=d(G+$-1,Q+h-1,W,T)==e?1:-1;P+=d(G+h-1,Q-$,W,T)==e?1:-1;P+=d(G-$,Q+h,W,T)==e?1:-1}if(P>0)return 1;
else if(P<0)return 0}return 0}function a(e,j){var Y=new M,G=e,Q=j,P=0,h=1,V;Y.color=W[j*T+e];Y.sign=d(e,j,W,T)==Y.color?"+":"-";
while(1){Y.MD.push(G,Q);if(G>Y.ZR)Y.ZR=G;if(G<Y.cw)Y.cw=G;if(Q>Y.MV)Y.MV=Q;if(Q<Y.w2)Y.w2=Q;Y.dR++;G+=P;
Q+=h;Y.o-=G*h;if(G==e&&Q==j)break;var I=d(G+(P+h-1>>1),Q+(h-P-1>>1),W,T)==Y.color,F=d(G+(P-h-1>>1),Q+(h+P-1>>1),W,T)==Y.color;
if(F&&!I){if(m.zB=="right"||m.zB=="black"&&Y.sign=="+"||m.zB=="white"&&Y.sign=="-"||m.zB=="majority"&&p(G,Q,Y.color)||m.zB=="minority"&&!p(G,Q,Y.color)){V=P;
P=-h;h=V}else{V=P;P=h;h=-V}}else if(F){V=P;P=-h;h=V}else if(!I){V=P;P=h;h=-V}}return Y}var f=0,s=[];
while(!0){var f=A(f);if(f==-1)break;var j=Math.floor(f/T),Y=a(f-j*T,j);for(var $=0;$<Y.MD.length-2;$+=2){var G=Y.MD[$],Q=Y.MD[$+1],Z=Q*T+G;
if(G==Y.MD[$+2]&&Q+1==Y.MD[$+3]&&W[Z]!=0)bX.fill(Z,W,T,0)}if(Y.o>m.a7A)s.push(Y)}for(var $=0;$<s.length;
$++)s[$].parent=-1;var g=Date.now();for(var $=1;$<s.length;$++){var S=s[$];for(var U=$-1;U>=0;U--){var B=s[U];
if(S.cw<B.cw||S.ZR>B.ZR||S.w2<B.w2||S.MV>B.MV)continue;if(!bX.UZ(B.MD,S.MD[0]+.5,S.MD[1]+.5))continue;
S.parent=U;break}}return s}function q(W,T){function _(P,h,V,I,F){this.x=P;this.y=h;this.r4=V;this.T8=I;
this.SP=F}function m(P,jX){return(jX+P)%jX}function d(P,h,V,I){return P*I-V*h}function A(P,h,V,I){return P*V+h*I}function p(P,h,V){if(P<=V)return P<=h&&h<V;
else return P<=h||h<V}function a(P,h,V){var I=0;I+=h*P[0]*h;I+=h*P[1]*V;I+=h*P[2];I+=V*P[3]*h;I+=V*P[4]*V;
I+=V*P[5];I+=P[6]*h;I+=P[7]*V;I+=P[8];return I}function f(P,h,V){return h+P*(V-h)}function s(P,h,V,I){var F=Math.sign(V-P),c=-Math.sign(I-h);
return F*(V-P)-c*(I-h)}function j(P,h){return Math.sqrt(P*P+h*h)}function Y(P,h,V,I,F){var c=1-P;return c*c*c*h+3*(c*c*P)*V+3*(P*P*c)*I+P*P*P*F}function G(P,h,V,I,F,c,D,n){var k=d(P,h,D,n),b=d(V,I,D,n),N=d(F,c,D,n),L=k-2*b+N,R=-2*k+2*b,i=k,v=R*R-4*L*i;
if(L==0||v<0)return-1;var E=Math.sqrt(v),u=(-R+E)/(2*L),C=(-R-E)/(2*L);if(u>=0&&u<=1)return u;else if(C>=0&&C<=1)return C;
else return-1}function Q(e){var $,P,h;e.Wr=e.MD[0];e.aHC=e.MD[1];e.Hv=[];var V=e.Hv;V.push(new _(0,0,0,0,0));
for($=0;$<e.dR;$++){P=e.MD[$<<1]-e.Wr;h=e.MD[($<<1)+1]-e.aHC;V.push(new _(V[$].x+P,V[$].y+h,V[$].r4+P*h,V[$].T8+P*P,V[$].SP+h*h))}}function Z(e){var jX=e.dR,P=e.MD,h,V=new Array(jX),I=new Array(jX),F=new Array(4),c,D,n,k,b,N,L,R,i,v,E,$,u,C,l,x,y,ge,O=0;
e.pO=new Array(jX);for($=jX-1;$>=0;$--){if(P[$<<1]!=P[O<<1]&&P[($<<1)+1]!=P[(O<<1)+1])O=$+1;I[$]=O}for($=jX-1;
$>=0;$--){var kz=m($+1,jX)<<1;F[0]=F[1]=F[2]=F[3]=0;h=(3+3*(P[kz]-P[$<<1])+(P[kz+1]-P[($<<1)+1]))/2;
F[h]++;c=0;D=0;n=0;k=0;O=I[$];C=$;while(1){E=0;h=(3+3*Math.sign(P[O*2]-P[C*2])+Math.sign(P[O*2+1]-P[C*2+1]))/2;
F[h]++;if(F[0]&&F[1]&&F[2]&&F[3]){V[$]=C;E=1;break}i=P[O*2]-P[$*2];v=P[O*2+1]-P[$*2+1];if(d(c,D,i,v)<0||d(n,k,i,v)>0){break}if(Math.abs(i)<=1&&Math.abs(v)<=1){}else{b=i+(v>=0&&(v>0||i<0)?1:-1);
N=v+(i<=0&&(i<0||v<0)?1:-1);if(d(c,D,b,N)>=0){c=b;D=N}b=i+(v<=0&&(v<0||i<0)?1:-1);N=v+(i>=0&&(i>0||v<0)?1:-1);
if(d(n,k,b,N)<=0){n=b;k=N}}C=O;O=I[C];if(!p(O,$,C)){break}}if(E==0){L=Math.sign(P[O*2]-P[C*2]);R=Math.sign(P[O*2+1]-P[C*2+1]);
i=P[C*2]-P[$*2];v=P[C*2+1]-P[$*2+1];l=d(c,D,i,v);x=d(c,D,L,R);y=d(n,k,i,v);ge=d(n,k,L,R);u=1e7;if(x<0){u=Math.floor(l/-x)}if(ge>0){u=Math.min(u,Math.floor(-y/ge))}V[$]=m(C+u,jX)}}u=V[jX-1];
e.pO[jX-1]=u;for($=jX-2;$>=0;$--){if(p($+1,V[$],u)){u=V[$]}e.pO[$]=u}for($=jX-1;p(m($+1,jX),u,e.pO[$]);
$--){e.pO[$]=u}}function g(e){function P(e,$,h){var jX=e.dR,i=e.MD,v=e.Hv,E,u,C,l,x,I,y,ge,R,O,kz,z,eZ,kM,jV=0;
if(h>=jX){h-=jX;jV=1}if(jV==0){E=v[h+1].x-v[$].x;u=v[h+1].y-v[$].y;l=v[h+1].T8-v[$].T8;C=v[h+1].r4-v[$].r4;
x=v[h+1].SP-v[$].SP;I=h+1-$}else{E=v[h+1].x-v[$].x+v[jX].x;u=v[h+1].y-v[$].y+v[jX].y;l=v[h+1].T8-v[$].T8+v[jX].T8;
C=v[h+1].r4-v[$].r4+v[jX].r4;x=v[h+1].SP-v[$].SP+v[jX].SP;I=h+1-$+jX}kz=(i[$<<1]+i[h<<1])/2-i[0];z=(i[($<<1)+1]+i[(h<<1)+1])/2-i[1];
kM=i[h<<1]-i[$<<1];eZ=-(i[(h<<1)+1]-i[($<<1)+1]);y=(l-2*E*kz)/I+kz*kz;ge=(C-E*z-u*kz)/I+kz*z;R=(x-2*u*z)/I+z*z;
O=eZ*eZ*y+2*eZ*kM*ge+kM*kM*R;return Math.sqrt(O)}var $,h,V,I,jX=e.dR,F=new Array(jX+1),c=new Array(jX+1),D=new Array(jX),n=new Array(jX+1),k=new Array(jX+1),b=new Array(jX+1),N,L,R;
for($=0;$<jX;$++){R=m(e.pO[m($-1,jX)]-1,jX);if(R==$){R=m($+1,jX)}if(R<$){D[$]=jX}else{D[$]=R}}h=1;for($=0;
$<jX;$++){while(h<=D[$]){n[h]=$;h++}}$=0;for(h=0;$<jX;h++){k[h]=$;$=D[$]}k[h]=jX;V=h;$=jX;for(h=V;h>0;
h--){b[h]=$;$=n[$]}b[0]=0;F[0]=0;for(h=1;h<=V;h++){for($=b[h];$<=k[h];$++){L=-1;for(I=k[h-1];I>=n[$];
I--){N=P(e,I,$)+F[I];if(L<0||N<L){c[$]=I;L=N}}F[$]=L}}e.D=V;e.ady=new Array(V);for($=jX,h=V-1;$>0;h--){$=c[$];
e.ady[h]=$}}function S(e){function P(e,$,N,D,n,cL){var jX=e.dR,aw=e.Hv,h2=0,R;while(N>=jX){N-=jX;h2+=1}while($>=jX){$-=jX;
h2-=1}while(N<0){N+=jX;h2-=1}while($<0){$+=jX;h2+=1}var ea=aw[N+1].x-aw[$].x+h2*aw[jX].x,ht=aw[N+1].y-aw[$].y+h2*aw[jX].y,jn=aw[N+1].T8-aw[$].T8+h2*aw[jX].T8,gE=aw[N+1].r4-aw[$].r4+h2*aw[jX].r4,bS=aw[N+1].SP-aw[$].SP+h2*aw[jX].SP,L=N+1-$+h2*jX;
D[cL]=ea/L;D[cL+1]=ht/L;var bi=(jn-ea*ea/L)/L,cj=(gE-ea*ht/L)/L,bb=(bS-ht*ht/L)/L,c0=(bi+bb+Math.sqrt((bi-bb)*(bi-bb)+4*cj*cj))/2;
bi-=c0;bb-=c0;if(Math.abs(bi)>=Math.abs(bb)){R=Math.sqrt(bi*bi+cj*cj);if(R!=0){n[cL]=-cj/R;n[cL+1]=bi/R}}else{R=Math.sqrt(bb*bb+cj*cj);
if(R!=0){n[cL]=-bb/R;n[cL+1]=cj/R}}if(R==0){n[cL]=n[cL+1]=0}}var h=e.D,V=e.ady,jX=e.dR,I=e.MD,F=e.Wr,c=e.aHC,D=new Array(h*2),n=new Array(h*2),k=new Array(h),b=new Array(3),$,N,L,R,u,C,l,x,y,ge,O;
e.aI=new X(h);for($=0;$<h;$++){N=V[m($+1,h)];N=m(N-V[$],jX)+V[$];D[$<<1]=0;D[($<<1)+1]=0;n[$<<1]=0;n[($<<1)+1]=0;
P(e,V[$],N,D,n,$<<1)}for($=0;$<h;$++){k[$]=[0,0,0,0,0,0,0,0,0];var i=n[$<<1]*n[$<<1]+n[($<<1)+1]*n[($<<1)+1],v=1/i;
if(i!=0){b[0]=n[($<<1)+1];b[1]=-n[$<<1];b[2]=-b[1]*D[($<<1)+1]-b[0]*D[$<<1];for(R=0;R<3;R++){k[$][R*3+0]=b[R]*b[0]*v;
k[$][R*3+1]=b[R]*b[1]*v;k[$][R*3+2]=b[R]*b[2]*v}}}var E=[0,0,0,0,0,0,0,0,0];for($=0;$<h;$++){E[0]=E[1]=E[2]=E[3]=E[4]=E[5]=E[6]=E[7]=E[8]=E[9]=0;
var kz=I[V[$]<<1]-F,z=I[(V[$]<<1)+1]-c,eZ=0,kM=0;N=m($-1,h);for(R=0;R<9;R+=3){E[R+0]=k[N][R+0]+k[$][R+0];
E[R+1]=k[N][R+1]+k[$][R+1];E[R+2]=k[N][R+2]+k[$][R+2]}while(1){var jV=E[0]*E[4]-E[1]*E[3];if(jV!=0){eZ=(-E[2]*E[4]+E[5]*E[0])/jV;
kM=(E[2]*E[3]-E[5]*E[0])/jV;break}if(E[0]>E[4]){b[0]=-E[1];b[1]=E[0]}else if(E[4]){b[0]=-E[4];b[1]=E[3]}else{b[0]=1;
b[1]=0}var i=b[0]*b[0]+b[1]*b[1],v=1/i;b[2]=-b[1]*z-b[0]*kz;for(R=0;R<3;R++){E[R*3+0]+=b[R]*b[0]*v;E[R*3+1]+=b[R]*b[1]*v;
E[R*3+2]+=b[R]*b[2]*v}}u=Math.abs(eZ-kz);C=Math.abs(kM-z);if(u<=.5&&C<=.5){e.aI.Xc[$<<1]=eZ+F;e.aI.Xc[($<<1)+1]=kM+c;
continue}l=a(E,kz,z);y=kz;ge=z;if(E[0]!=0){for(O=0;O<2;O++){kM=z-.5+O;eZ=-(E[1]*kM+E[2])/E[0];u=Math.abs(eZ-kz);
x=a(E,eZ,kM);if(u<=.5&&x<l){l=x;y=eZ;ge=kM}}}if(E[4]!=0){for(O=0;O<2;O++){eZ=kz-.5+O;kM=-(E[3]*eZ+E[5])/E[4];
C=Math.abs(kM-z);x=a(E,eZ,kM);if(C<=.5&&x<l){l=x;y=eZ;ge=kM}}}for(R=0;R<2;R++){for(L=0;L<2;L++){eZ=kz-.5+R;
kM=z-.5+L;x=a(E,eZ,kM);if(x<l){l=x;y=eZ;ge=kM}}}e.aI.Xc[$<<1]=y+F;e.aI.Xc[($<<1)+1]=ge+c}}function U(e){var P=e.aI.q,h=e.aI,$,V,I,F,c,D,n,k,b;
for($=0;$<P;$++){V=m($+1,P);I=m($+2,P);var N=h.Xc[$<<1],L=h.Xc[($<<1)+1],R=h.Xc[I<<1],i=h.Xc[(I<<1)+1],v=h.Xc[V<<1],E=h.Xc[(V<<1)+1],u=f(.5,R,v),C=f(.5,i,E);
c=s(N,L,R,i);if(c!=0){F=d(v-N,E-L,R-N,i-L)/c;F=Math.abs(F);D=F>1?1-1/F:0;D=D*(1/.75)}else{D=4/3}h.yK[V]=D;
var l=3*V<<1;if(D>=T.ao0){h.AW[V]=0;h.br[l+0]=h.br[l+1]=0;h.br[l+2]=v;h.br[l+3]=E;h.br[l+4]=u;h.br[l+5]=C}else{if(D<.55){D=.55}else if(D>1){D=1}var x=.5+.5*D;
h.AW[V]=1;h.br[l]=f(x,N,v);h.br[l+1]=f(x,L,E);h.br[l+2]=f(x,R,v);h.br[l+3]=f(x,i,E);h.br[l+4]=u;h.br[l+5]=C}h.alpha[V]=D;
h.$a[V]=.5}h.awN=1}function B(e){function P(){this.UU=0;this.EH=0;this.FM=0;this.hk=0;this.Rq=0;this.Y=0;
this.i$=0;this.alpha=0}function h(e,$,N,g_,hx,y,ge){var I=e.aI.q,au=e.aI.br,kP=e.aI.Xc;if($==N)return 1;
var iK=$,v=m($+1,I),b3=m(iK+1,I),gE=kP[$<<1],bS=kP[($<<1)+1],fs=kP[v<<1],ch=kP[(v<<1)+1],hv=y[b3];if(hv==0)return 1;
var g6=j(gE-fs,bS-ch);for(iK=b3;iK!=N;iK=b3){var b3=m(iK+1,I),ef=m(iK+2,I),fN=kP[b3<<1],kb=kP[(b3<<1)+1],cn=kP[ef<<1],dF=kP[(ef<<1)+1];
if(y[b3]!=hv)return 1;if(Math.sign(d(fs-gE,ch-bS,cn-fN,dF-kb))!=hv)return 1;if(A(fs-gE,ch-bS,cn-fN,dF-kb)<g6*j(fN-cn,kb-dF)*-.999847695156)return 1}var et=m($,I)*3+2<<1,bh=m($+1,I)<<1,dY=m(N,I)<<1,jM=m(N,I)*3+2<<1,cL=au[et],aw=au[et+1],bz=kP[bh],hh=kP[bh+1],dM=kP[dY],iX=kP[dY+1],aW=au[jM],eC=au[jM+1],O=kP[0],kz=kP[1];
et=N*3+2<<1;var dh=au[et],ff=au[et+1],E=ge[N]-ge[$];E-=d(dh-O,ff-kz,dh-O,ff-kz)/2;if($>=N){E+=ge[I]}var fE=bz-cL,dX=hh-aw,i2=dM-cL,ew=iX-aw,hW=aW-cL,jt=eC-aw,h3=d(fE,dX,i2,ew),dl=d(fE,dX,hW,jt),ba=d(i2,ew,hW,jt),b_=h3+ba-dl;
if(dl==h3)return 1;var x=ba/(ba-b_),l=dl/(dl-h3),f8=dl*x/2;if(f8==0)return 1;var ak=E/f8,u=2-Math.sqrt(4-ak/.3);
g_.EH=f(x*u,cL,bz);g_.FM=f(x*u,aw,hh);g_.hk=f(l*u,aW,dM);g_.Rq=f(l*u,eC,iX);g_.alpha=u;g_.Y=x;g_.i$=l;
bz=g_.EH;hh=g_.FM;dM=g_.hk;iX=g_.Rq;g_.UU=0;for(iK=m($+1,I);iK!=N;iK=b3){b3=m(iK+1,I);var jk=kP[iK<<1],i6=kP[(iK<<1)+1],fN=kP[b3<<1],kb=kP[(b3<<1)+1];
x=G(bz-cL,hh-aw,dM-bz,iX-hh,aW-dM,eC-iX,fN-jk,kb-i6);if(x<-.5)return 1;var k2=Y(x,cL,bz,dM,aW),gm=Y(x,aw,hh,iX,eC),g6=j(fN-jk,kb-i6);
if(g6==0)return 1;var cu=d(fN-jk,kb-i6,k2-jk,gm-i6)/g6;if(Math.abs(cu)>hx)return 1;if(A(fN-jk,kb-i6,k2-jk,gm-i6)<0||A(jk-fN,i6-kb,k2-fN,gm-kb)<0){return 1}g_.UU+=cu*cu}for(iK=$;
iK!=N;iK=b3){b3=m(iK+1,I);var et=iK*3+2<<1,bh=b3*3+2<<1,ek=au[et],i_=au[et+1],iP=au[bh],cf=au[bh+1];
x=G(bz-cL,hh-aw,dM-bz,iX-hh,aW-dM,eC-iX,iP-ek,cf-i_);if(x<-.5)return 1;var k2=Y(x,cL,bz,dM,aW),gm=Y(x,aw,hh,iX,eC),g6=j(iP-ek,cf-i_);
if(g6==0)return 1;var cu=d(iP-ek,cf-i_,k2-ek,gm-i_)/g6,id=d(iP-ek,cf-i_,kP[b3<<1]-ek,kP[(b3<<1)+1]-i_)/g6;
id*=.75*e.aI.alpha[b3];if(id<0){cu=-cu;id=-id}if(cu<id-hx)return 1;if(cu<id){g_.UU+=(cu-id)*(cu-id)}}return 0}var V=e.aI,I=V.q,F=V.Xc,c=new Array(I+1),D=new Array(I+1),n=new Array(I+1),k=new Array(I+1),b,$,N,L,R=new P,i,v,E,u,C,l,x,y=new Array(I),ge=new Array(I+1);
for($=0;$<I;$++){if(V.AW[$]=="CURVE"){var O=F[m($-1,I)<<1],kz=F[(m($-1,I)<<1)+1],z=F[$<<1],eZ=F[($<<1)+1],kM=F[m($+1,I)<<1],jV=F[(m($+1,I)<<1)+1];
y[$]=Math.sign(d(z-O,eZ-kz,kM-z,jV-eZ))}else{y[$]=0}}E=0;ge[0]=0;var cL=V.Xc[0],aw=V.Xc[1];for($=0;$<I;
$++){v=m($+1,I);if(V.AW[v]=="CURVE"){u=V.alpha[v];var h2=$*3+2<<1,ea=v*3+2<<1,ht=V.br[h2],jn=V.br[h2+1],gE=F[v<<1],bS=F[(v<<1)+1],bi=V.br[ea],cj=V.br[ea+1];
E+=.3*u*(4-u)*d(gE-ht,bS-jn,bi-ht,cj-jn)/2;E+=d(ht-cL,jn-aw,bi-cL,cj-aw)/2}ge[$+1]=E}c[0]=-1;D[0]=0;
n[0]=0;for(N=1;N<=I;N++){c[N]=N-1;D[N]=D[N-1];n[N]=n[N-1]+1;for($=N-2;$>=0;$--){L=h(e,$,m(N,I),R,T.atQ,y,ge);
if(L){break}if(n[N]>n[$]+1||n[N]==n[$]+1&&D[N]>D[$]+R.UU){c[N]=$;D[N]=D[$]+R.UU;n[N]=n[$]+1;k[N]=R;R=new P}}}b=n[I];
C=new X(b);l=new Array(b);x=new Array(b);N=I;for($=b-1;$>=0;$--){var bb=m(N,I),c0=$*3+0<<1,cV=bb*3+0<<1;
if(c[N]==N-1){C.AW[$]=V.AW[bb];C.br[c0]=V.br[cV];C.br[c0+1]=V.br[cV+1];C.br[c0+2]=V.br[cV+2];C.br[c0+3]=V.br[cV+3];
C.br[c0+4]=V.br[cV+4];C.br[c0+5]=V.br[cV+5];C.Xc[$<<1]=V.Xc[bb<<1];C.Xc[($<<1)+1]=V.Xc[(bb<<1)+1];C.alpha[$]=V.alpha[bb];
C.yK[$]=V.yK[bb];C.$a[$]=V.$a[bb];l[$]=x[$]=1}else{C.AW[$]="CURVE";C.br[c0]=k[N].EH;C.br[c0+1]=k[N].FM;
C.br[c0+2]=k[N].hk;C.br[c0+3]=k[N].Rq;C.br[c0+4]=V.br[cV+4];C.br[c0+5]=V.br[cV+5];C.Xc[$<<1]=f(k[N].i$,V.br[cV+4],F[bb<<1]);
C.Xc[($<<1)+1]=f(k[N].i$,V.br[cV+5],F[(bb<<1)+1]);C.alpha[$]=k[N].alpha;C.yK[$]=k[N].alpha;l[$]=k[N].i$;
x[$]=k[N].Y}N=c[N]}for($=0;$<b;$++){v=m($+1,b);C.$a[$]=l[$]/(l[$]+x[v])}C.awN=1;e.aI=C}for(var $=0;$<W.length;
$++){var e=W[$];Q(e);Z(e);g(e);S(e);U(e);if(T.aHJ)B(e)}}return{afG:J,ayf:q}}();bX.Nb=function(M,X,J,q){var W={zB:"minority",a7A:q,aHJ:!0,ao0:1,atQ:.2},T=bX.afG(M,X,J,W);
bX.ayf(T,W);return T};bX.ZX=function(M){var X=[];for(var $=0;$<M.length;$++){var J=M[$],q=J.aI,W=["M"],T=[q.br[(q.q-1)*6+4],q.br[(q.q-1)*6+5]];
for(var _=0;_<q.q;_++){var m=_*6;if(q.AW[_]==1){W.push("C");for(var d=0;d<6;d++)T.push(q.br[m+d])}else if(q.AW[_]==0){W.push("L");
for(var d=2;d<4;d++)T.push(q.br[m+d])}}W.push("Z");X.push({parent:J.parent,color:J.color,path:{d:T,C6:W}})}return X};
bX.UZ=function(M,X,J){var jX=M.length>>1,q,W=M[2*jX-3]-J,T=M[2*jX-2]-X,_=M[2*jX-1]-J,m=_>W,d=0;for(var $=0;
$<jX;$++){q=T;W=_;T=M[2*$]-X;_=M[2*$+1]-J;if(W==_)continue;m=_>W}for(var $=0;$<jX;$++){q=T;W=_;T=M[2*$]-X;
_=M[2*$+1]-J;if(W<0&&_<0)continue;if(W>0&&_>0)continue;if(q<0&&T<0)continue;if(W==_&&Math.min(q,T)<=0)return!0;
if(W==_)continue;var A=q+(T-q)*-W/(_-W);if(A==0)return!0;if(A>0)d++;if(W==0&&m&&_>W)d--;if(W==0&&!m&&_<W)d--;
m=_>W}return(d&1)==1};bX.fill=function(M,X,J,q){var W=X[M],T=[M],_=0;while(_<T.length){var m=T[_];_++;
X[m]=q;if(X[m-J]==W){T.push(m-J);X[m-J]=254}if(X[m-1]==W){T.push(m-1);X[m-1]=254}if(X[m+1]==W){T.push(m+1);
X[m+1]=254}if(X[m+J]==W){T.push(m+J);X[m+J]=254}}};var e4=function(){function M(A){return Math.max(0,Math.min(1,A))}function X(A,p){var a=p<0?-p:p;
if(A>1)A=.99;A=A*.99;var f=Math.pow(a/5,.16),s=Math.pow(2,a<1?a:1+(a-1)*.8);if(p<0)s=1/s;A=f*(1-Math.pow(1-A,s))+(1-f)*A;
return A}function J(A,p){var a=p/100;A=A*.99;A=a*(.5-.5*Math.cos(A*Math.PI))+(1-a)*A;return A}function q(A,p){var a=p*.01,f=Math.abs(a);
if(p<0)A=Math.max(0,-f*.33+A*(1+f*.33));else{var s=.25+.15*f;if(A<.25)A*=s/.25;else A=s+(1-s)*((A-.25)/(1-.25))}return A}function W(A,p){if(p<0)A=A*(1+862e-6*p);
else A=A*(1+.012*p);return A}var T=t.XS.MC(1,1,1,-.3),_=t.XS.vN(T);function m(A,p,a,f,s,j,Y,G,Q){var Z=A[a],g=A[a+1],S=A[a+2],U=t.XS.ea(T,[Z,g,S,1]);
Z=U[0];g=U[1];S=U[2];Z=X(Z,f);g=X(g,f);S=X(S,f);var U=t.XS.ea(_,[Z,g,S,1]);Z=U[0];g=U[1];S=U[2];Z=M(Z);
g=M(g);S=M(S);Z=J(Z,s);g=J(g,s);S=J(S,s);Z=q(Z,Y);g=q(g,Y);S=q(S,Y);Z=W(Z,j);g=W(g,j);S=W(S,j);var B=i8.aGA(Z,g,S,G);
Z=B[0];g=B[1];S=B[2];Z=M(Z);g=M(g);S=M(S);if(Q){var e=new Uint8Array(4);e[0]=~~(.5+Z*255);e[1]=~~(.5+g*255);
e[2]=~~(.5+S*255);ia.U3(Q,e,e,new gc(0,0,1,1));Z=e[0]/255;g=e[1]/255;S=e[2]/255}p[a]=Z;p[a+1]=g;p[a+2]=S}function d(A,p,a,f,s){var j=s.Ex12?s.Ex12.v:0,Y=s.Cr12?s.Cr12.v:0,G=s.Wh12?s.Wh12.v:0,Q=s.Bk12?s.Bk12.v:0,Z=s.Temp?s.Temp.v:0,g=s.Tint?s.Tint.v:0,S=s.Vibr?s.Vibr.v:0,U=s.Strt?s.Strt.v:0,B=i8.bw(Z,g),e=null,v=.3,E=.59,u=.11;
j+=B.awo;if(S!=0||U!=0)e=ia.BZ("vibA",{Strt:s.Strt,vibrance:s.Vibr});console.log(s);var P=Date.now();
if(f!=A)f.set(A);if(j!=0||Y!=0||G!=0||Q!=0||Z!=0||g!=0||e){console.log(j,Y,G,Q,Z,g,e);var h=17,V=1/(h-1),I=h*h*h,F=new Array(I*3);
for(var c=0;c<h;c++)for(var D=0;D<h;D++)for(var n=0;n<h;n++){var $=c*h*h+D*h+n,k=$*3;F[k]=c*V;F[k+1]=D*V;
F[k+2]=n*V}for(var $=0;$<I;$++)m(F,F,$*3,j,Y,G,Q,B,e);console.log(Date.now()-P,"making LUT");P=Date.now();
ICC.U.applyLUT(F,h,f,f);console.log(Date.now()-P,"applying LUT");P=Date.now()}var b=(s.Hi12?s.Hi12.v:0)*.01,N=(s.Sh12?s.Sh12.v:0)*.01;
if(b!=0||N!=0){var P=Date.now(),L=!1,R=t.j(p*a,32),i=f.length,v=.3,E=.59,u=.11;for(var $=0;$<i;$+=4){var C=f[$+0]*v+f[$+1]*E+f[$+2]*u;
R[$>>2]=C<.3?N*3*(.3-C):b*.7*(C-.3)}if(L)console.log(0,Date.now()-P);P=Date.now();t.zp.zk(R,new gc(0,0,p,a),8);
if(L)console.log(1,Date.now()-P);P=Date.now();for(var l=0;l<a;l++)for(var x=0;x<p;x++){var $=l*p+x,y=$*4,ge=1+R[$];
f[y]=M(f[y]*ge);f[y+1]=M(f[y+1]*ge);f[y+2]=M(f[y+2]*ge)}if(L)console.log(2,Date.now()-P,p,a);P=Date.now()}return;
var R=t.j(p*a,32),i=f.length;v=E=u=.333333;for(var $=0;$<i;$+=4){var C=f[$+0]*v+f[$+1]*E+f[$+2]*u;R[$>>2]=C}if(L)console.log(0,Date.now()-P);
P=Date.now();var O=R.slice(0);t.zp.zk(O,new gc(0,0,p,a),15);if(L)console.log(1,Date.now()-P);P=Date.now();
for(var l=0;l<a;l++)for(var x=0;x<p;x++){var $=l*p+x,y=$*4,kz=(R[$]-O[$])*1.5,z=O[$]+kz,z=R[$]*(1+kz);
f[y]=M(z);f[y+1]=M(z);f[y+2]=M(z)}}return d}();function ft(){}ft.Ah=function(M,X){var J=new Uint8Array(M),q=0,W=X.split("/").pop().split(".")[0];
function T(G){for(var $=0;$<G.length;$++)G[$].v.Nm.v=W+"/"+G[$].v.Nm.v.split("/").pop()}var _={Kj:[],a5:[],list:[]},m=H.uC(J,q);
q+=2;if(m<=2){_=ft.aim(J);T(_.list);return _}var d=H.uC(J,q);q+=2;var A=H.zb(J,q,8);q+=8;var p=H.Z3(J,q);
q+=4;if(p>0)_.Kj=ft.aGr(J,q,p,d,m);q+=p;var a=H.zb(J,q,8);q+=8;var f=H.Z3(J,q);q+=4;if(f>0)_.a5=e_.bn(J,q,f);
q+=f;var s=H.zb(J,q,8);q+=8;var j=H.Z3(J,q);q+=4;if(j>0){var Y={};dH.rK(J,Y,q+4);_.list=Y.Brsh.v}q+=j;
var G=_.list;for(var $=0;$<G.length;$++){kW.FH.check(G[$].v)}T(G);return _};ft.hK=function(M,X){M.v.Nm.v=X};
ft.aim=function(M){var X={Kj:[],a5:[],list:[]},J=0,q=H.uC(M,J);J+=2;var W=H.uC(M,J);J+=2;for(var $=0;
$<W;$++){var T=H.uC(M,J);J+=2;var _=H.Z3(M,J);J+=4;var m=J;if(T==2){var d={};X.Kj.push(d);var A=H.Z3(M,m);
m+=4;var p=H.uC(M,m);m+=2;if(q==2){var a=H.Vy(M,m);m+=4+a.length*2+2}d.id=dD.dG()+"-d71c-11e5-b1ae-a548a96e5f9f";
m++;m+=8;d.Os=H.Y$(M,m);m+=16;var f=H.uC(M,m);m+=2;var s=M[m];m++;var j=bf.BB(!1,f,M,d.Os.r,d.Os.$,m,s);
j=t.cY(j,8);ft.asy(d,j);var Y=kW.e$(d.id),G=Y.Brsh.v;G.Dmtr.v.val=d.Os.r;G.Spcn.v.val=p;X.list.push({t:"Objc",v:Y})}J+=_}return X};
ft.Aw=function(M){var X=new bJ,J=0,q=0;H.ac(X,J,6);J+=2;H.ac(X,J,2);J+=2;var W={},T=[],_={},m=[];for(var $=0;
$<M.list.length;$++){var d=M.list[$].v,A=d.Brsh.v;if(A.classID=="sampledBrush")W[A.sampledData.v]=!0;
if(d.Txtr)_[d.Txtr.v.Idnt.v]=!0}for(var $=0;$<M.Kj.length;$++)if(W[M.Kj[$].id])T.push(M.Kj[$]);for(var $=0;
$<M.a5.length;$++)if(W[M.a5[$].id])m.push(M.a5[$]);H.JZ(X,J,"8BIMsamp");J+=8;J+=4;q=J;J=ft.a5C(X,J,T);
H.Ou(X,q-4,J-q);H.JZ(X,J,"8BIMpatt");J+=8;J+=4;q=J;J=e_.RZ(X,J,m);H.Ou(X,q-4,J-q);var p=t.b(M.list);
for(var $=0;$<p.length;$++)p[$].v.Nm.v=p[$].v.Nm.v.split("/").pop();var a={classID:"null",Brsh:{t:"VlLs",v:p}};
H.JZ(X,J,"8BIMdesc");J+=8;J+=4;q=J;H.Ou(X,J,16);J+=4;J+=dH.nw(X,a,J);H.Ou(X,q-4,J-q);return X.data.slice(0,J).buffer};
ft.aGr=function(M,X,J,q,W){var T=H.Z3,_=H.Y$,m=X+J,d=[];while(X<m){var A={};d.push(A);var p=T(M,X);X+=4;
var a=X,f=H.TJ(M,X);X+=f.length;A.id=f.rJ;if(q==1){X+=9;A.Os=_(M,X);X+=16}else{X+=7;var s=T(M,X);X+=4;
A.Os=_(M,X);X+=16;var j=T(M,X);X+=4;X+=j*4;var Y=T(M,X);X+=4;var G=T(M,X);X+=4;var Q=_(M,X);X+=16}var Z=H.uC(M,X);
X+=2;var g=M[X];X+=1;var S=bf.BB(!1,Z,M,A.Os.r,A.Os.$,X,g);S=t.cY(S,8);ft.asy(A,S);if(p%4!=0)p+=4-p%4;
X=a+p}return d};ft.asy=function(M,X){var J=M.Os.Q();J.x=J.y=0;M.c5=[X,J]};ft.a5C=function(M,X,J){var q=H.Ou,W=H.oZ;
for(var $=0;$<J.length;$++){var T=J[$],_=X+4,d=56,p=1;X+=4;H.v7(M,X,T.id);X+=T.id.length+2;M.q0(X,1);
M.data[X]=1;X+=3;q(M,X,3);X+=4;var m=X;X+=4;W(M,X,T.Os);X+=16;q(M,X,d);X+=4;X+=d*4;q(M,X-4,1);var A=X;
X+=4;q(M,X,8);X+=4;W(M,X,T.Os);X+=16;H.ac(M,X,8);X+=2;M.q0(X,1);M.data[X]=p;X++;var a=T.c5[0];M.q0(X,T.Os.o()*2);
X=bf.Oh(!1,a,M.data,T.Os.r,T.Os.$,X,p);M.q0(X,8);X+=8;var f=X-_;q(M,_-4,f);q(M,m,f-49);q(M,A,f-305);
if(f%4!=0)X+=4-f%4}return X};function hg(){}hg.Ah=function(M,X){var J=new Uint8Array(M),q=[],W=0,T=H.uC(J,W);
W+=2;if(T!=4){throw"Unknown version of curves: "+T}var _=H.uC(J,W);W+=2;for(var $=0;$<_;$++){var m=hg.aG0(J,W);
W+=2+2*m.length;q.push(m)}if(W!=J.length){var d=H.zb(J,W,4);W+=4;var A=H.uC(J,W);W+=2;var p=H.uC(J,W);
W+=2;if(p!=0)throw"extra curves for channels"}var a=hg.amU(q,0);a.presetKind={t:"long",v:3};a.presetFileName={t:"TEXT",v:X.split("/").pop().split(".")[0]};
return[a]};hg.b$=function(M,X,J,q){var W=q?H.UQ:H.Z3,T=X,_=[],m=M[X];X+=3;var d=W(M,X);X+=4;for(var $=0;
$<4;$++){var A=d>>>$&1;if(A){if(m==0){var p=hg.aG0(M,X,q);X+=2+2*p.length}else{var p=hg.anv(M,X);X+=256}_.push(p)}else _.push(m==0?[0,0,255,255]:hg.aoz())}var a=hg.amU(_,m);
return a};hg.amU=function(M,X){var J=fV.IH("curv");for(var $=0;$<4;$++){if(X==0){var q=M[$],W=[];for(var T=0;
T<q.length;T+=2)W.push(t.pq.Z4(q[T],q[T+1],!0));hg.eA(J,$,W)}else hg.eA(J,$,M[$])}return J};hg.mk=function(M,X,J){var q=[];
for(var $=0;$<4;$++){var W=hg.ev(J,$);if(W.length==256)q.push(W);else{var T=[];for(var _=0;_<W.length;
_++)T.push(W[_].v.Hrzn.v,W[_].v.Vrtc.v);q.push(T)}}var m=X,d=q[0].length==256?1:0;M.q0(X,3);M.data[X]=d;
M.data[X+1]=0;M.data[X+2]=1;X+=3;H.Ou(M,X,15);X+=4;for(var $=0;$<4;$++){var A=q[$];if(d==0){hg.a4l(M,X,A);
X+=2+2*A.length}else{hg.atR(M,X,A);X+=256}}return X-m};hg.aoz=function(){var M=[];for(var $=0;$<256;
$++)M.push($);return M};hg.eA=function(M,X,J){var q=el.N4("CrvA",X);if(J.length<256)q.Crv={t:"VlLs",v:J};
else{q.Mpng={t:"VlLs",v:[]};for(var $=0;$<256;$++)q.Mpng.v[$]={t:"long",v:J[$]}}q={t:"Objc",v:q};if(M.Adjs==null)M.Adjs={t:"VlLs",v:[]};
var W=M.Adjs.v,T=el.Wh(W,X);if(T==-1)W.push(q);else W[T]=q};hg.ev=function(M,X){var J=M.Adjs?M.Adjs.v:[],q=el.Wh(J,X);
if(q==-1){if(J.length==0||J[0].v.Crv)return[t.pq.Z4(0,0,!0),t.pq.Z4(255,255,!0)];if(J[0].v.autoMachineLearning||J[0].v.AuCo)return[t.pq.Z4(0,0,!0),t.pq.Z4(128,160,!0),t.pq.Z4(255,255,!0)];
var W=[];for(var $=0;$<256;$++)W.push($);return W}var T=J[q].v;if(T.Crv)return T.Crv.v;if(T.Mpng){var W=[];
for(var $=0;$<256;$++)W.push(T.Mpng.v[$].v);return W}return[t.pq.Z4(0,0,!0),t.pq.Z4(255,255,!0)]};hg.aG0=function(M,X,J){var q=J?H.Fn:H.uC,W=[],T=q(M,X);
X+=2;for(var _=0;_<T;_++){var m=q(M,X);X+=2;var d=q(M,X);X+=2;W.push(d,m)}return W};hg.a4l=function(M,X,J){var q=J.length/2;
H.ac(M,X,q);X+=2;for(var W=0;W<q;W++){H.ac(M,X,J[W*2+1]);X+=2;H.ac(M,X,J[W*2+0]);X+=2}};hg.anv=function(M,X){var J=[];
for(var $=0;$<256;$++)J.push(M[X+$]);return J};hg.atR=function(M,X,J){M.q0(X,256);for(var $=0;$<256;
$++)M.data[X+$]=J[$]};function gg(){}gg.b$=function(M,X,J,q){var W={},T=q?H.Fn:H.uC,_=q?H.MZ:H.Wp,m=T(M,X);
X+=2;W.AY=M[X]==1;X++;X++;W.ED=[_(M,X),_(M,X+2),_(M,X+4)];X+=6;W.jI=[_(M,X),_(M,X+2),_(M,X+4)];X+=6;
W.FW=[];for(var $=0;$<6;$++){var d={};d.OL=[_(M,X),_(M,X+2),_(M,X+4),_(M,X+6)];X+=8;d.en=[_(M,X),_(M,X+2),_(M,X+4)];
X+=6;W.FW.push(d)}var A=fV.IH("hue2"),p=W;if(A.Clrz==null)A.Clrz={t:"bool",v:!1};A.Clrz.v=p.AY;for(var $=0;
$<7;$++){var a=$==0?p.AY?p.ED:p.jI:p.FW[$-1];gg.eA(A,$,a)}return A};gg.aEh=function(M){return{classID:"Hst2",H:{t:"long",v:M[0]},Strt:{t:"long",v:M[1]},Lght:{t:"long",v:M[2]}}};
gg.Wh=function(M,X){for(var $=0;$<M.length;$++){var J=M[$].v.LclR;if(X==0&&J==null||J!=null&&J.v==X)return $}return-1};
gg.eA=function(M,X,J){var q=X==0?J:J.en,W=gg.aEh(q);if(X!=0){var T=J.OL;W.LclR={t:"long",v:X},W.BgnR={t:"long",v:T[0]};
W.BgnS={t:"long",v:T[1]};W.EndS={t:"long",v:T[2]};W.EndR={t:"long",v:T[3]}}W={t:"Objc",v:W};var _=M.Adjs.v,m=gg.Wh(_,X);
if(m==-1)_.push(W);else _[m]=W};gg.ev=function(M,X){var J=M.Adjs.v,q=gg.Wh(J,X);if(q==-1){if(X==0)return[0,0,0];
else return[{OL:[315,345,15,45],en:[0,0,0]},{OL:[15,45,75,105],en:[0,0,0]},{OL:[75,105,135,165],en:[0,0,0]},{OL:[135,165,195,225],en:[0,0,0]},{OL:[195,225,255,285],en:[0,0,0]},{OL:[255,285,315,345],en:[0,0,0]}][X-1]}var W=J[q].v,T=[W.H.v,W.Strt.v,W.Lght.v];
if(X==0)return T;return{en:T,OL:[W.BgnR.v,W.BgnS.v,W.EndS.v,W.EndR.v]}};gg.mk=function(M,X,J){var q={AY:J.Clrz?J.Clrz.v:!1,FW:[]};
q.ED=q.jI=gg.ev(J,0);for(var $=1;$<7;$++)q.FW.push(gg.ev(J,$));var W=2+2+12+6*14,T=M.data;M.q0(X,W);
H.cB(T,X,2);X+=2;T[X]=q.AY?1:0;X++;X++;H.Ym(T,X+0,q.ED[0]);H.Ym(T,X+2,q.ED[1]);H.Ym(T,X+4,q.ED[2]);X+=6;
H.Ym(T,X+0,q.jI[0]);H.Ym(T,X+2,q.jI[1]);H.Ym(T,X+4,q.jI[2]);X+=6;for(var $=0;$<6;$++){var _=q.FW[$].OL,m=q.FW[$].en;
H.Ym(T,X+0,_[0]);H.Ym(T,X+2,_[1]);H.Ym(T,X+4,_[2]);H.Ym(T,X+6,_[3]);X+=8;H.Ym(T,X+0,m[0]);H.Ym(T,X+2,m[1]);
H.Ym(T,X+4,m[2]);X+=6}return W};function el(){}el.Ah=function(M,X){var J=new Uint8Array(M),q=2,W=X?H.Fn:H.uC,T=[];
for(var $=0;$<29;$++){var _=[];T.push(_);for(var m=0;m<5;m++)_.push(W(J,q+$*10+m*2))}q+=29*10;if(q<J.length){var d=H.qv(J,q,X);
q+=4;var A=W(J,q);q+=2;var p=W(J,q);q+=2;var a=p-29;for(var $=0;$<a;$++){var _=[];T.push(_);for(var m=0;
m<5;m++)_.push(W(J,q+$*10+m*2))}}var f=fV.IH("levl");for(var $=0;$<4;$++)el.eA(f,$,T[$]);return f};el.N4=function(M,$){var X=["Cmps","Rd","Grn","Bl"],J={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:X[$]}}]};
return{classID:M,Chnl:J}};el.Wh=function(M,X){var J={Cmps:0,Rd:1,Grn:2,Bl:3};for(var $=0;$<M.length;
$++){var q=M[$].v,W=J[q.Chnl.v[0].v.enum];if(W==X)return $}return-1};el.eA=function(M,X,J){var q=el.N4("LvlA",X);
q.Inpt={t:"VlLs",v:[{t:"long",v:J[0]},{t:"long",v:J[1]}]};q.Otpt={t:"VlLs",v:[{t:"long",v:J[2]},{t:"long",v:J[3]}]};
q.Gmm={t:"doub",v:J[4]/100};q={t:"Objc",v:q};var W=M.Adjs.v,T=el.Wh(W,X);if(T==-1)W.push(q);else W[T]=q};
el.ev=function(M,X){var J=[0,255,0,255,100],q=M.Adjs.v,W=el.Wh(q,X);if(W==-1)return J;var T=q[W].v;if(T.Inpt){J[0]=T.Inpt.v[0].v;
J[1]=T.Inpt.v[1].v}if(T.Otpt){J[2]=T.Otpt.v[0].v;J[3]=T.Otpt.v[1].v}if(T.Gmm){J[4]=Math.round(T.Gmm.v*100)}return J};
el.Aw=function(M,X){var J=[],q=0;for(var $=0;$<4;$++)J.push(el.ev(X,$));while(J.length<29)J.push([0,255,0,255,100]);
M.q0(0,2+10*29);H.cB(M.data,q,2);q+=2;for(var $=0;$<29;$++){var W=J[$];for(var T=0;T<5;T++)H.cB(M.data,q+$*10+T*2,W[T])}q+=29*10;
if(J.length==29)return q;M.q0(q,8+10*(J.length-29));H.WB(M.data,q,"Lvls");q+=4;H.cB(M.data,q,3);q+=2;
H.cB(M.data,q,J.length);q+=2;var _=J.length-29;for(var $=0;$<_;$++){var W=J[29+$];for(var T=0;T<5;T++)H.cB(M.data,q+$*10+T*2,W[T])}q+=10*_;
return q};function dT(){}dT.Ah=function(M,X){var J=new Uint8Array(M),q=2,W=X.split("/").pop().split(".")[0],T={l9:[],oN:[]},_=H.zb(J,q,4);
q+=4;var m=H.uC(J,q);q+=2;var d=H.Z3(J,q);q+=4;T.l9=e_.bn(J,q,d);q+=d;var A=H.Z3(J,q);q+=4;for(var $=0;
$<A;$++){var p=H.Z3(J,q);q+=4;var a=q,f={W7:{},$m:{}};T.oN.push(f);q+=4;q+=dH.rK(J,f.W7,q);f.W7.Nm.v=W+"/"+f.W7.Nm.v.split("=").pop();
q+=4;q+=dH.rK(J,f.$m,q);q=a+p;var s=f.$m.blendOptions,j=f.$m.Lefx;if(s&&Object.keys(s.v).length>1){}if(j){if(j.v.masterFXSwitch==null)j.v.masterFXSwitch={t:"bool",v:!0};
dL.jT(j.v)}}return T};dT.hK=function(M,X){M.W7.Nm.v=X};dT.Aw=function(M){var X=new bJ,J=0;H.ac(X,J,2);
J+=2;H.JZ(X,J,"8BSL");J+=4;H.ac(X,J,3);J+=2;var q=J;J+=4;J=e_.RZ(X,J,M.l9);H.Ou(X,q,J-q-4);var W=M.oN.length;
H.Ou(X,J,W);J+=4;for(var $=0;$<W;$++){J+=4;var T=J,_=M.oN[$];H.Ou(X,J,16);J+=4;var m=_.W7.Nm.v;_.W7.Nm.v=_.W7.Nm.v.split("/").pop();
J+=dH.nw(X,_.W7,J);_.W7.Nm.v=m;var d=_.$m.Lefx;if(d){_.$m.Lefx=t.b(d);dL.ja(_.$m.Lefx.v)}H.Ou(X,J,16);
J+=4;J+=dH.nw(X,_.$m,J);if(d)_.$m.Lefx=d;H.Ou(X,T-4,J-T)}return X.data.slice(0,J).buffer};function by(){}by.b$=function(M,X,J,q){var W=q?H.Fn:H.uC,T=q?H.MZ:H.Wp,_=W(M,X);
X+=2;var m={};m.wp=W(M,X)==1;X+=2;m.ML=[];for(var $=0;$<10;$++){var d=[];m.ML.push(d);for(var A=0;A<4;
A++)d.push(T(M,X+A*2));X+=8}var p=fV.IH("selc");p.Mthd.v.CrcM=m.wp?"Absl":"Rltv";for(var $=1;$<10;$++)by.eA(p,$-1,m.ML[$]);
return p};by.vf="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");by.N4=function(M,$){var X=["Cmps","Rd","Grn","Bl"],J={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:X[$]}}]};
return{classID:M,Chnl:J}};by.Wh=function(M,X){var J=by.vf;for(var $=0;$<M.length;$++){var q=M[$].v,W=J.indexOf(q.Clrs.v.Clrs);
if(W==X)return $}return-1};by.eA=function(M,X,J){var q=["Cyn","Mgnt","Ylw","Blck"],W={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:by.vf[X]}}};
for(var T=0;T<4;T++)W[q[T]]={t:"UntF",v:{type:"#Prc",val:J[T]}};W={t:"Objc",v:W};var _=M.ClrC.v,m=by.Wh(_,X);
if(m==-1)_.push(W);else _[m]=W};by.ev=function(M,X){var J=[0,0,0,0],q=M.ClrC.v,W=by.Wh(q,X);if(W==-1)return J;
var T=["Cyn","Mgnt","Ylw","Blck"];for(var $=0;$<4;$++)if(q[W].v[T[$]])J[$]=q[W].v[T[$]].v.val;return J};
by.mk=function(M,X,J){var q={wp:J.Mthd.v.CrcM=="Absl",ML:[[0,0,0,0]]};for(var $=0;$<9;$++)q.ML.push(by.ev(J,$));
M.q0(X,84);H.cB(M.data,X,1);X+=2;H.cB(M.data,X,q.wp?1:0);X+=2;for(var $=0;$<10;$++){var W=q.ML[$];for(var T=0;
T<4;T++)H.Ym(M.data,X+T*2,W[T]);X+=8}return 84};function iv(){}iv.IH=function(){return{ny:new gc(0,0,50,50),W7:"",EX:"play",X:t.I.bg.Uw([.1,.1,.9,.5,.1,.9],0)}};
iv.Ah=function(M,X){M=new Uint8Array(M);var J=0,q=[],W=X.split("/").pop().split(".")[0],T=Date.now(),_=H.zb(M,0,4);
J+=4;var m=H.Z3(M,J);J+=4;var d=H.Z3(M,J);J+=4;for(var $=0;$<d;$++){var A=H.Vy(M,J);J+=A.length*2+4+2;
if((A.length&1)==0)J+=2;J=iv.aGE(M,J,A,q);q[$].EX=W+"/"+q[$].EX}return q};iv.aGE=function(M,X,J,q){var W=H.Z3(M,X);
X+=4;var T=H.Z3(M,X);X+=4;var _=X,m=H.TJ(M,_).rJ;_+=m.length+1;var d=H.Y$(M,_);_+=16;var A=iv.Q7(M,_,T-(_-X)),p=t.I.dl(A),a=t.G.Cs(p),f=1/a.r,s=1/a.$;
t.I.cI(A,new kp(f,0,0,s,-a.x*f,-a.y*s));q.push({EX:J,W7:m,X:A,ny:d});X+=T;return X};iv.hK=function(M,X){M.EX=X};
iv.Aw=function(M){var X=new bJ,J=0;H.JZ(X,J,"cush");J+=4;H.Ou(X,J,2);J+=4;H.Ou(X,J,M.length);J+=4;for(var $=0;
$<M.length;$++){var q=M[$],W=q.EX.split("/").pop()+"\0";H.yt(X,J,W);J+=4+W.length*2;if((W.length&1)==1)J+=2;
H.Ou(X,J,1);J+=4;J+=4;var T=J;H.v7(X,J,q.W7);J+=q.W7.length+1;H.oZ(X,J,q.ny);J+=16;X.q0(J,q.X.length*26);
iv.QY(X.data,J,q.X,1,1);J+=q.X.length*26;var _=J-T;if((_&3)!=0)_+=4-(_&3);H.Ou(X,T-4,_);J=T+_}return X.data.slice(0,J).buffer};
iv.aI7=function(M){var X=[];for(var $=0;$<M.length;$++){var J=M[$],q=J.e,W={type:q};X.push(W);if(q==6){}else if(q==8)W.all=J.all;
else if(q==0||q==3){W.length=J.length;W.frule=J.li;W.third=J.h8;W.prmA=J.gF;W.prmB=J.Ni}else{W.c=[J.vX.x,J.vX.y,J.Z.x,J.Z.y,J.vJ.x,J.vJ.y]}}return X};
iv.acZ=function(M){var X=[];for(var $=0;$<M.length;$++){var J=M[$],q=J.type,W={e:q};X.push(W);if(q==6){}else if(q==8)W.all=J.all;
else if(q==0||q==3){W.length=J.length;W.li=J.frule;W.h8=J.third;W.gF=J.prmA;W.Ni=J.prmB}else{var T=J.c;
W.vX=new es(T[0],T[1]);W.Z=new es(T[2],T[3]);W.vJ=new es(T[4],T[5])}}return X};iv.Q7=function(M,X,J,q,W,T){if(q==null)q=1;
if(W==null)W=1;var _=T?H.afy:H.aiv;function m(Z,g,S){var U=_(Z,g)*S,B=Math.round(U);return Math.abs(U-B)<1e-6?B:U}var d=T?H.MZ:H.Wp,A=T?H.UQ:H.Z3,p=[],a=Math.floor(J/26);
for(var $=0;$<a;$++){var f=X+$*26,s={},j=0;p.push(s);s.e=d(M,f);f+=2;if(s.e==6){j=24}if(s.e==8){s.all=d(M,f);
f+=2;j=22}if(s.e==0||s.e==3){s.length=d(M,f);f+=2;s.li=d(M,f);f+=2;s.h8=d(M,f);f+=2;s.gF=A(M,f);f+=4;
s.Ni=A(M,f);f+=4;j=10}if(s.e==1||s.e==2||s.e==4||s.e==5){var Y,G;G=m(M,f,W);f+=4;Y=m(M,f,q);f+=4;s.vX=new es(Y,G);
G=m(M,f,W);f+=4;Y=m(M,f,q);f+=4;s.Z=new es(Y,G);G=m(M,f,W);f+=4;Y=m(M,f,q);f+=4;s.vJ=new es(Y,G);j=0}for(var Q=0;
Q<j;Q++)if(M[f+Q]!=0){console.log("Unexpected non-zero byte!",s,Q,M[f+Q])}}return p};iv.QY=function(M,X,J,q,W){var T=H.Ym,_=H.aax,m=J.length;
for(var $=0;$<m;$++){var d=X+$*26,A=J[$];T(M,d,A.e);d+=2;if(A.e==6){}if(A.e==8)T(M,d,A.all);if(A.e==0||A.e==3){T(M,d,A.length);
d+=2;T(M,d,A.li);d+=2;T(M,d,A.h8);d+=2}if(A.e==1||A.e==2||A.e==4||A.e==5){_(M,d,A.vX.y/W);d+=4;_(M,d,A.vX.x/q);
d+=4;_(M,d,A.Z.y/W);d+=4;_(M,d,A.Z.x/q);d+=4;_(M,d,A.vJ.y/W);d+=4;_(M,d,A.vJ.x/q);d+=4}}};function hu(){}hu.aF$=function(M,X,J,q){var W=q.split(".")[0];
if(X+3<M.length){var T={},d=0;dL.kU(M,X,M.length,T);var _=T.phry.hierarchy.v,m=[[]];for(var $=0;$<_.length;
$++){var top=m[m.length-1],A=_[$].v,p=A.classID;if(p=="Grup"){var a=[];m.push(a);top.push([A.Nm.v,null,a,!0])}else if(p=="preset"){top.push(J[d]);
d++}else if(p=="groupEnd"){m.pop()}}var f=hu.aFt(m[0],hu);return[[W,null,m[0],!0]]}else{for(var $=0;
$<J.length;$++){var s=J[$][0].split("/");if(s.length>1){W=s[s.length-2];J[$][0]=s.pop().split("=").pop()}}return[[W,null,J,!0]]}};
hu.aFt=function(M,X){var J=[],q=[];hu.lv(M,J,q);var W=new Uint8Array(X.Aw(J)),T=new bJ;T.q0(0,W.length);
T.data.set(W,0);var _={phry:{classID:"null",hierarchy:{t:"VlLs",v:q}}},m=dL.XO(T,W.length,_);return T.data.slice(0,m)};
hu.lv=function(M,X,J){for(var $=0;$<M.length;$++){var q=M[$];if(q[1]==null){J.push({t:"Objc",v:{classID:"Grup",Nm:{t:"TEXT",v:q[0]},zuid:{t:"TEXT",v:"0e93da90-b25e-9745-a55e-af1d4451561b"}}});
hu.lv(q[2],X,J);J.push({t:"Objc",v:{classID:"groupEnd"}})}else{J.push({t:"Objc",v:{classID:"preset"}});
X.push(q)}}};hu.Ah=function(M,X){var J=new Uint8Array(M),q=[],W=0;if(H.zb(J,0,4)=="ASEF")W=hu.a7s(J,q);
else{W=hu.adD(J,W,q);if(W+3<J.length){q=[];W=hu.adD(J,W,q)}}return hu.aF$(J,W,q,X)};hu.a7s=function(M,X){var J=8,q=H.Z3(M,J),W,T=null,_,m,d,A;
J+=4;for(var p=0;p<q;p++){var a=H.uC(M,J);J+=2;var f=H.Z3(M,J);J+=4;var s=J+f;if(a==49153||a==1){var j=H.uC(M,J);
J+=2;var Y=H.c8(M,J,j-1);J+=j*2;if(a==1)W=Y;else T=Y}if(a==1){var G=H.zb(M,J,4);J+=4;_=H.Ot(M,J);J+=4;
m=H.Ot(M,J);J+=4;d=H.Ot(M,J);J+=4;if(G=="RGB "){}else if(G=="CMYK"){A=H.Ot(M,J);J+=4;var Q=UDOC.C.cmykToRgb([_,m,d,A]);
_=Q[0];m=Q[1];d=Q[2]}else alert("Unknown color space: "+G);X.push([(T?T+" : ":"")+W,{z:_*255,L:m*255,g:d*255}])}J=s}return J};
hu.adD=function(M,X,J){var q=H.uC,W=H.Wp,T=q(M,X);X+=2;var _=q(M,X);X+=2;for(var $=0;$<_;$++){var m=hu.WC(M,X),d="clr"+$;
X+=10;if(T==2){d=H.Vy(M,X);X+=4+d.length*2+2}J.push([d,m])}return X};hu.WC=function(M,X,J){var q=J?H.Fn:H.uC,W=J?H.MZ:H.Wp,T=q(M,X),j=null;
X+=2;var _=q(M,X);X+=2;var m=q(M,X);X+=2;var d=q(M,X);X+=2;var A=q(M,X);X+=2;var p=1/65535,a=255/65535,f=100/65535,s=255/1e4;
if(T==0)j={z:_*a,L:m*a,g:d*a};else if(T==1){j=t.HQ(_*p,m*p,d*p);j.z*=255;j.L*=255;j.g*=255}else if(T==2)j=t.NX.NH({classID:"CMYC",Cyn:{t:"doub",v:100-_*f},Mgnt:{t:"doub",v:100-m*f},Ylw:{t:"doub",v:100-d*f},Blck:{t:"doub",v:100-A*f}});
else if(T==7){var Y=t._l(_/100,W(M,X-6)/100,W(M,X-4)/100);j=Y}else if(T==8){j={z:255-_*s,L:255-m*s,g:255-d*s}}else if(T==18){var G=255*_/16384;
j={z:G,L:G,g:G}}else{throw T}return j};hu.Aw=function(M){var X=new bJ,J=0,q=H.ac;for(var W=1;W<3;W++){q(X,J,W);
J+=2;q(X,J,M.length);J+=2;for(var $=0;$<M.length;$++){var T=M[$];X.q0(J,10);hu.Yk(X.data,J,T[1]);J+=10;
if(W==2){var _=T[0]+"\0";H.yt(X,J,_);J+=4+_.length*2}}}return X.data.slice(0,J).buffer};hu.Yk=function(M,X,J){var q=65535/255,W=H.cB;
W(M,X,0);W(M,X+2,Math.round(J.z*q));W(M,X+4,Math.round(J.L*q));W(M,X+6,Math.round(J.g*q));W(M,X+8,0)};
hu.aw=function(M,X,J){var q=M[1],W=255<<24|q.g<<16|q.L<<8|q.z,T=new Uint32Array(X*J);T.fill(W);var _=UPNG.encode([T.buffer],X,J);
return"data:image/png;base64,"+h1.qf(_)};function bC(){}bC.Ah=function(M){var X=new Uint8Array(M),J=4,q={};
q.AC=H.Vy(X,J);J+=4+q.AC.length*2+2;q.exp=X[J++]==1;q.dy=[];var W=H.Z3(X,J);J+=4;for(var $=0;$<W;$++){var T={};
q.dy.push(T);T.gO=H.uC(X,J);J+=2;T.shift=X[J++]==1;T.a5b=X[J++]==1;T.color=H.uC(X,J);J+=2;T.AC=H.Vy(X,J);
J+=4+T.AC.length*2+2;T.exp=X[J++]==1;T.dy=[];var _=H.Z3(X,J);J+=4;for(var m=0;m<_;m++){var d={};T.dy.push(d);
d.exp=X[J++]==1;d.i=X[J++]==1;d.ayV=X[J++]==1;d.aEN=X[J++];var A=H.zb(X,J,4);J+=4;if(A=="TEXT"){d.hC=bC.a9d(X,J);
J+=4+d.hC.length}else if(A=="long"){d.hC=H.zb(X,J,4);J+=4}else throw"e";d.$w=bC.a9d(X,J);J+=4+d.$w.length;
var p=H.Pp(X,J);J+=4;if(p==-1){d.Qd={};var a=dH.rK(X,d.Qd,J);J+=a}}}console.log(q);var f=new Uint8Array(bC.Aw(q));
for(var $=0;$<f.length;$++)if(f[$]!=X[$]&&H.zb(X,$+1,4)!="None"){console.log(X.length,f.length);var s=4*($>>>2)-16;
console.log(H.t_(X,s,64));console.log(H.t_(f,s,64));console.log(X.slice(s,s+64));console.log(f.slice(s,s+64));
throw"i"}return[q]};bC.a9d=function(M,X){var J=H.Z3(M,X);return H.zb(M,X+4,J)};bC.atK=function(M,X,J){H.Ou(M,X,J.length);
H.JZ(M,X+4,J)};bC.Aw=function(M){var X=new bJ,J=0;H.Ou(X,J,16);J+=4;H.yt(X,J,M.AC+"\0");J+=4+M.AC.length*2+2;
X.q0(J,1);X.data[J++]=M.exp?1:0;var q=M.dy.length;H.Ou(X,J,q);J+=4;for(var $=0;$<q;$++){var W=M.dy[$];
H.ac(X,J,W.gO);J+=2;X.q0(J,2);X.data[J++]=W.shift?1:0;X.data[J++]=W.a5b?1:0;H.ac(X,J,W.color);J+=2;H.yt(X,J,W.AC+"\0");
J+=4+W.AC.length*2+2;X.q0(J,1);X.data[J++]=W.exp?1:0;var T=W.dy.length;H.Ou(X,J,T);J+=4;for(var _=0;
_<T;_++){var m=W.dy[_];X.q0(J,4);X.data[J++]=m.exp?1:0;X.data[J++]=m.i?1:0;X.data[J++]=m.ayV?1:0;X.data[J++]=m.aEN;
var d="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr HsbP".split(" ").indexOf(m.hC)!=-1;H.JZ(X,J,d?"long":"TEXT");
J+=4;if(!d){bC.atK(X,J,m.hC);J+=4+m.hC.length}else{H.JZ(X,J,m.hC);J+=4}bC.atK(X,J,m.$w);J+=4+m.$w.length;
H.YD(X,J,m.Qd?-1:0);J+=4;if(m.Qd){var A=dH.nw(X,m.Qd,J);J+=A}}}return X.data.slice(0,J).buffer};function cb(){}cb.Ah=function(M){var X=new Uint8Array(M),J=0,q=H.Z3(X,J),d;
J+=4;var W=H.zb(X,J,8);J+=8;var T=H.UQ(X,J);J+=4;var _=H.UQ(X,J);J+=4;var m=H.UQ(X,J);J+=4;console.log(T,_,m);
if(q==2){d=new Float32Array(M,32,M.byteLength-32>>>2)}else if(q==3||q==4){d=new Float32Array(_*m*2);
var A=0,p=0,a=!0;J=q==3?32:16+8+40;while(J<X.length){var f=H.UQ(X,J);J+=4;if(a)p+=f;else{for(var $=0;
$<f;$++){d[A+p+$<<1]=H.eV(X,J);d[(A+p+$<<1)+1]=H.eV(X,J+4);J+=8}p+=f}a=!a;if(f!=0&&p==_){A+=_;p=0;a=!0;
if(A==_*m)break}}}else throw"unknown Mesh version: "+q;return{a3:_,oz:m,map:d}};cb.yo=function(M){var X=M.a3,J=M.oz,q=M.map,W=new Uint8Array(32+J*X*8+J*8),T=0,_=0;
H.R2(W,T,3);T+=4;H.WB(W,T,"yfqLhseM");T+=8;H.sY(W,T,2);T+=4;H.sY(W,T,X);T+=4;H.sY(W,T,J);T+=4;H.sY(W,T,0);
T+=4;H.sY(W,T,1);T+=4;for(var m=0;m<J;m++){H.sY(W,T,0);T+=4;H.sY(W,T,X);T+=4;for(var d=0;d<X;d++){H.l1(W,T,q[_]);
H.l1(W,T+4,q[_+1]);_+=2;T+=8}}return W.buffer};function eB(){}eB.Ah=function(M){var X=new Uint8Array(M),J=0,q=H.zb(X,J,4);
J+=4;var W=H.uC(X,J);J+=2;var T=H.Z3(X,J);J+=4;var _=[];for(var $=0;$<T;$++){var m=H.Z3(X,J);J+=4;var d={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
_.push(d);var A=H.Vy(X,J);d.Nm.v=A;J+=4+A.length*2+2;var p=H.uC(X,J);J+=2;var a=H.uC(X,J);J+=2;for(var f=0;
f<a;f++){var s=t.pq.Z4(0,0,!0);s.v.Vrtc.v=H.uC(X,J);J+=2;s.v.Hrzn.v=H.uC(X,J);J+=2;d.Crv.v.push(s)}if(m==1){}else if(m==2){for(var f=0;
f<a;f++){d.Crv.v[f].v.Cnty.v=X[J]==1;J+=1}}else throw"error";var j=H.Z3(X,J);J+=4;var Y=H.Z3(X,J);J+=4}return _};
eB.hK=function(M,X){M.Nm.v=X};eB.Aw=function(M){var X=new bJ,J=0;H.JZ(X,J,"8BFS");J+=4;H.ac(X,J,1);J+=2;
H.Ou(X,J,M.length);J+=4;for(var $=0;$<M.length;$++){H.Ou(X,J,2);J+=4;var q=M[$];H.yt(X,J,q.Nm.v+"\0");
J+=4+q.Nm.v.length*2+2;H.ac(X,J,2);J+=2;var W=q.Crv.v.length;H.ac(X,J,W);J+=2;for(var T=0;T<W;T++){var _=q.Crv.v[T];
H.ac(X,J,_.v.Vrtc.v);J+=2;H.ac(X,J,_.v.Hrzn.v);J+=2}X.q0(J,W);for(var T=0;T<W;T++){X.data[J]=q.Crv.v[T].v.Cnty.v;
J++}H.Ou(X,J,0);J+=4;H.Ou(X,J,0);J+=4}return X.data.slice(0,J).buffer};function e_(){}e_.Ah=function(M,X){var J=new Uint8Array(M),q=4,W=X.split("/").pop().split(".")[0],T=H.uC(J,q);
q+=2;var _=H.Z3(J,q);q+=4;var m=[];for(var $=0;$<_;$++){var d={};m.push(d);q=e_.aB_(J,q,d);d.name=W+"/"+d.name.split("=").pop()}return m};
e_.hK=function(M,X){M.name=X};e_.Aw=function(M){var X=new bJ,J=0;H.JZ(X,J,"8BPT");J+=4;H.ac(X,J,1);J+=2;
H.Ou(X,J,M.length);J+=4;for(var $=0;$<M.length;$++){var q=M[$],W=q.name;q.name=q.name.split("/").pop();
J=e_.aEk(X,J,q);q.name=W}return X.data.slice(0,J).buffer};e_.bn=function(M,X,J,q){var W=q?H.UQ:H.Z3,T=X+J,_=[];
while(X<T){var m={},d=W(M,X);X+=4;var A=X;X=e_.aB_(M,X,m,q);if(!m.c5[1].M5())_.push(m);if(d%4!=0)d+=4-d%4;
X=A+d}return _};e_.RZ=function(M,X,J){for(var $=0;$<J.length;$++){var q=J[$];X+=4;var W=X;X=e_.aEk(M,X,q);
var T=X-W;H.Ou(M,W-4,T);if(T%4!=0)W+=4-T%4;X=W+T}return X};e_.aB_=function(M,X,J,q){var W=q?H.UQ:H.Z3,T=q?H.Fn:H.uC,_=q?H.Od:H.Vy,m=W(M,X);
X+=4;if(m!=1)alert("Unknown version of pattern");var d=W(M,X);X+=4;if(d!=1&&d!=2&&d!=3)console.log("Unsupported mode of pattern: "+d);
var A=T(M,X);X+=2;var p=T(M,X);X+=2;var a=new gc(0,0,p,A);J.name=_(M,X);X+=4+2*J.name.length+2;var f=M[X];
X++;J.id=H.zb(M,X,f);X+=J.id.length;var s=-1;if(d==2){s=X;X+=3*256+4}var j=new t.Uy(p*A);X=e_.a2O(M,X,j,q);
if(d==2){for(var $=0;$<j.z.length;$++){var Y=3*j.z[$];j.z[$]=M[s+Y+0];j.L[$]=M[s+Y+1];j.g[$]=M[s+Y+2]}}var G=t.j(a.o()*4);
t.Uq(j,G);J.c5=[G,a];return X};e_.aEk=function(M,X,J){var q=J.c5[0],W=J.c5[1];H.Ou(M,X,1);X+=4;H.Ou(M,X,3);
X+=4;H.ac(M,X,W.$);X+=2;H.ac(M,X,W.r);X+=2;H.yt(M,X,J.name+"\0");X+=4+2*J.name.length+2;H._r(M,X,J.id.length);
X++;H.JZ(M,X,J.id);X+=J.id.length;var T=new t.Uy(W.o());t.Qf(q,T);X=e_.ajM(M,X,T,W);return X};e_.a2O=function(M,X,J,q){var W=q?H.UQ:H.Z3,T=q?H.Fn:H.uC,_=X,m={Os:null,KV:[],a4k:null,SC:null},d=W(M,X);
X+=4;var A=W(M,X);X+=4;m.Os=H.Y$(M,X,q);X+=16;var p=W(M,X);X+=4;for(var $=0;$<p+2;$++){var a=W(M,X);
X+=4;if(a==0)continue;var f=W(M,X);X+=4;if(f==0)continue;var s=W(M,X);X+=4;var j=H.Y$(M,X,q);X+=16;var Y=T(M,X);
X+=2;var G=M[X];X++;var Q=bf.BB(!1,s,M,j.r,j.$,X,G,f,q);Q=t.cY(Q,8);if($<p)m.KV.push(Q);if($==p)m.a4k=Q;
if($==p+1)m.SC=Q;X+=f-23}if(!m.Os.M5()){if(m.KV[0])J.z=m.KV[0];if(m.KV[1])J.L=m.KV[1];else J.L=m.KV[0].slice(0);
if(m.KV[2])J.g=m.KV[2];else J.g=m.KV[0].slice(0);if(m.SC)J.Jm=m.SC;else J.Jm.fill(255)}return X};e_.ajM=function(M,X,J,q){var W=X,T={Os:q,KV:[J.z,J.L,J.g],a4k:null,SC:J.Jm};
H.Ou(M,X,3);X+=4;H.Ou(M,X,0);X+=4;H.oZ(M,X,q);X+=16;H.Ou(M,X,24);X+=4;for(var $=0;$<24+2;$++){var _=X,m=$<3||$==25?1:0;
H.Ou(M,X,m);X+=4;if(m==0)continue;H.Ou(M,X,0);X+=4;H.Ou(M,X,8);X+=4;H.oZ(M,X,q);X+=16;H.ac(M,X,8);X+=2;
H._r(M,X,1,1);X++;var d=$<3?T.KV[$]:T.SC;M.q0(X,q.o()+2);X=bf.Oh(!1,d,M.data,q.r,q.$,X,1);H.Ou(M,_+4,X-_-8)}H.Ou(M,W+4,X-W-8);
return X};function dB(){}dB.Ah=function(M,X){var J=new Uint8Array(M),W=0;if(J[0]==71)return dB.asm(J);
var q=X.split("/").pop().split(".")[0],T=H.zb(J,W,4);W+=4;var _=H.uC(J,W);W+=2;var m=[];if(_<=3){var d=H.uC(J,W);
W+=2;for(var $=0;$<d;$++){var A=J[W++],p=H.zb(J,W,A);W+=A;var a=dB.am$(J,W,p),f=a[0];W=a[1];m.push(f)}}else{var a={},s=dH.rK(J,a,W+4),j=a.GrdL.v;
for(var $=0;$<j.length;$++)m[$]=j[$].v.Grad.v;W+=4+s}for(var $=0;$<m.length;$++)m[$]=[m[$].Nm.v,m[$]];
return hu.aF$(J,W,m,X)};dB.hK=function(M,X){M.Nm.v=X};dB.Aw=function(M){var X=new bJ,J=0;H.JZ(X,J,"8BGR");
J+=4;H.ac(X,J,5);J+=2;H.Ou(X,J,16);J+=4;var q={classID:"null",GrdL:{t:"VlLs",v:[]}},W=q.GrdL.v;for(var $=0;
$<M.length;$++){var T=t.b(M[$]);T[1].Nm.v=T[0];W[$]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:T[1]}}}}J+=dH.nw(X,q,J);
return X.data.slice(0,J).buffer};dB.am$=function(M,X,J,q){var W={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:J},Trns:{t:"VlLs",v:[]}},T=q?H.Fn:H.uC,_=q?H.UQ:H.Z3,m=T(M,X);
X+=2;if(m==0)throw"e";for(var $=0;$<m;$++){var d=_(M,X),A=_(M,X+4),p=hu.WC(M,X+8,q),a={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:p.z},Grn:{t:"doub",v:p.L},Bl:{t:"doub",v:p.g}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:d},Mdpn:{t:"long",v:A}}};
W.Clrs.v.push(a);X+=20}var f=T(M,X);X+=2;for(var $=0;$<f;$++){var d=_(M,X),A=_(M,X+4),s=T(M,X+8),a={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*s/255)}},Lctn:{t:"long",v:d},Mdpn:{t:"long",v:A}}};
W.Trns.v.push(a);X+=10}var j=T(M,X);X+=2;W.Intr.v=j==2?T(M,X):4096;X+=2;var Y=T(M,X);X+=2;return[W,X]};
dB.afA=function(M,X,J){var q=J.Clrs.v.length;H.ac(M,X,q);X+=2;for(var $=0;$<q;$++){var W=J.Clrs.v[$];
H.Ou(M,X,W.v.Lctn.v);H.Ou(M,X+4,W.v.Mdpn.v);H.ac(M,X+8,0);var T=t.NX.$J(t.NX.NH(W.v.Clr.v)),_=[T.Rd.v,T.Grn.v,T.Bl.v,0];
for(var m=0;m<4;m++)H.ac(M,X+10+m*2,Math.round(65535*(_[m]/255)));X+=20}var d=J.Trns.v.length;H.ac(M,X,d);
X+=2;for(var $=0;$<d;$++){var W=J.Trns.v[$];H.Ou(M,X,W.v.Lctn.v);H.Ou(M,X+4,W.v.Mdpn.v);H.ac(M,X+8,Math.round(255*W.v.Opct.v.val/100));
X+=10}H.ac(M,X,2);X+=2;H.ac(M,X,J.Intr.v);X+=2;H.ac(M,X,32);X+=2;return X};dB.asm=function(M){var X=H.Og(M,0,M.length).split("\n"),J=parseFloat(X[2]),q=[],W=JSON.parse(kf.px[kf.order.indexOf("GrFl")]).Grad.v;
W.Intr.v=0;W.Nm.v=X[1];for(var $=0;$<J;$++){var T=X[3+$].split(" ").map(parseFloat),_=T[11],m=T[12];
q.push([T[0],T.slice(3,6),T[6]]);if(m!=0){var d=t.G7(T[3],T[4],T[5]),A=t.G7(T[7],T[8],T[9]),p=d.oz,a=A.oz;
if(m==1&&p>a)a++;if(m==2&&p<a)p++;var f=Math.round(Math.abs(a-p)*7);if(f>1)for(var s=0;s<f;s++){var j=1-(s+1)/(f+1),Y=1-j,G=t.HQ(j*p+Y*a,j*d.i$+Y*A.i$,j*d.tz+Y*A.tz);
q.push([j*T[0]+Y*T[2],[G.z,G.L,G.g],j*T[6]+Y*T[10]])}}q.push([T[2],T.slice(7,10),T[10]])}q.sort(function(Q,Z){return Q[0]-Z[0]});
t.NX.ex(q,W);return[W]};dB.aw=function(M,X,J){var q=o.kO.aw(M[1],X,J,Math.PI/4,16777215,0);return q};
function gL(){}gL.Ah=function(M){var X=new Uint8Array(M),J=[],q=[],W=[],T=[],_=[],m=0,d=H.zb(X,m,4);
m+=4;var A=H.Z3(X,m);m+=4;var p=H.Z3(X,m);m+=4;while(m<X.length){var a=H.zb(X,m,4);m+=4;var f=H.zb(X,m,4);
m+=4;var s=H.Z3(X,m);m+=4;if(f=="tppa"){q=e_.bn(X,m,s);m+=s}else if(f=="tpbd"){W=ft.aGr(X,m,s,1,1);m+=s}else if(f=="tptp"){var j=H.Z3(X,m);
m+=4;for(var $=0;$<j;$++){var Y=H.Vy(X,m);m+=6+Y.length*2;m+=4;var G={};m+=dH.rK(X,G,m);J.push([Y,G])}while((m&3)!=0)m++}else if(f=="tpsh"){var Q=m,Z=X.slice(m,m+s);
while(m<Q+s){var g=H.Z3(X,m);m+=4;m=iv.aGE(X,m,"Shape",T)}m=Q+s}else if(f=="tpst"){var Q=m;m+=4;while(m<Q+s){var S=H.Z3(X,m);
m+=4;var U=m,B=H.Z3(X,m);m+=4;var G={W7:{},$m:{}};_.push(G);m+=4;m+=dH.rK(X,G.W7,m);m+=4;m+=dH.rK(X,G.$m,m);
m=U+S;var e=G.$m.Lefx;if(e){if(e.v.masterFXSwitch==null)e.v.masterFXSwitch={t:"bool",v:!0};dL.jT(e.v)}}m=Q+s}else{console.log(X.slice(m-8,m+64));
console.log(H.zb(X,m-8,64));throw f}}return{Kj:W,a5:q,list:J,azL:T,oN:_}};gL.hK=function(M,X){M[0]=X};
gL.Aw=function(M){var X=new bJ,J=0;H.JZ(X,J,"8BTP");J+=4;H.Ou(X,J,3);J+=4;H.Ou(X,J,1);J+=4;var q=[M.a5,M.Kj,M.list];
for(var $=0;$<3;$++){if(q[$].length==0)continue;H.JZ(X,J,"8BIM");J+=4;var W=["tppa","tpbd","tptp"][$];
H.JZ(X,J,W);J+=4;var T=J;J+=4;if(W=="tppa"){J=e_.RZ(X,J,M.a5)}else if(W=="tpbd"){J=ft.a5C(X,J,M.Kj)}else if(W=="tptp"){H.Ou(X,J,M.list.length);
J+=4;for(var _=0;_<M.list.length;_++){var m=M.list[_];H.yt(X,J,m[0]+"\0");J+=6+m[0].length*2;H.Ou(X,J,16);
J+=4;J+=dH.nw(X,m[1],J)}}H.Ou(X,T,J-T-4);while((J&3)!=0)J++;X.q0(J,0)}return X.data.slice(0,J).buffer};
function j$(){}j$.Ah=function(M,X){var J=new Uint8Array(M),q;if(H.Z3(J,0)==J.length)q="icc";else if(J[0]=="<".charCodeAt(0))q="look";
else if(H.Gs(J,"LUT_3D_SIZE")!=-1)q="cube";else q="3DL";if(q!="icc"){var W=j$.aqc(J,q),T=j$.auJ(W[0],W[1]);
J=T}var _=[];for(var $=0;$<J.length;$++)_.push(J[$]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:X?X:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:_}}]};
j$.Aw=function(M){var X=M[0],J=new Uint8Array(X.profile.v);return J.buffer};j$.hK=function(M,X){M.Nm.v=X};
j$.auJ=function(M,X){var J=new bJ,q=128;J.q0(0,128);var W=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var $=0;$<W.length;$++)J.data[$]=W[$];var T=["desc","A2B0"],_=T.length,m=128+4+_*12;H.Ou(J,q,_);
q+=4;for(var d=0;d<_;d++){var A=T[d];H.JZ(J,q,A);q+=4;H.Ou(J,q,m);q+=4;var p=m;if(A=="desc"){H.JZ(J,p,"mluc");
p+=4;p+=4;H.Ou(J,p,1);p+=4;H.Ou(J,p,12);p+=4;H.JZ(J,p,"enUS");p+=4;var a="ICC by Photopea\0",f=a.length*2+2;
H.Ou(J,p,f);p+=4;H.Ou(J,p,28);p+=4;J.q0(p,f);for(var $=0;$<a.length;$++)J.data[p+$*2+1]=a.charCodeAt($);
p+=f}if(A=="A2B0"){H.JZ(J,p,"mAB ");p+=4;p+=4;J.q0(p,4);J.data[p]=3;J.data[p+1]=3;p+=4;J.q0(p,4*5);p+=4*3;
H.Ou(J,p,p+8-m);p+=4;p+=4;J.q0(p,20);J.data[p]=M;J.data[p+1]=M;J.data[p+2]=M;p+=16;J.data[p]=2;p+=4;
var s=M*M*M*3;J.q0(p,s*2);for(var $=0;$<s;$++)H.cB(J.data,p+$*2,Math.max(0,Math.min(65535,Math.round(X[$]*65535))));
p+=s*2}var j=p-m;while((j&3)!=0)j++;H.Ou(J,q,j);q+=4;m+=j}H.Ou(J,0,m);return J.data.slice(0,m)};j$.aqc=function(M,X){X="LUTFormat"+X.toUpperCase();
var J=[],q=0,W=H.Og(M,0,M.length),T="";for(var $=0;$<M.length&&T=="";$++){if(M[$]==10)T="\n";else if(M[$]==13){T="\r";
if(M[$+1]==10)T+="\n"}}if(X=="LUTFormatCUBE"){var _=W.split(T);for(var $=0;$<_.length;$++){if(_[$]==""||_[$][0]=="#")continue;
var m=_[$].split(" "),d=m[0];if(d=="LUT_3D_SIZE"){q=parseInt(m[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(d)!=-1)continue;
J.push(parseFloat(m[0]),parseFloat(m[1]),parseFloat(m[2]))}J=j$.aeW(q,J)}else if(X=="LUTFormat3DL"){var _=W.split(T),A=1/4095;
for(var $=0;$<_.length;$++){var p=_[$];if(p==""||p=="3DMESH"||p.startsWith("Mesh")||p[0]=="#")continue;
var m=p.split(" "),d=m[0];if(q==0){q=m.length;continue}J.push(parseFloat(m[0])*A,parseFloat(m[1])*A,parseFloat(m[2])*A)}}else if(X=="LUTFormatLOOK"){var a=new DOMParser,f=a.parseFromString(W,"text/xml"),s=f.getElementsByTagName("LUT")[0],j=s.children[0].textContent;
q=parseInt(JSON.parse(j));var Y=s.children[1].textContent;Y=Y.replace(/"/g,"").replace(/\s/g,"");var G=3*q*q*q,Q=G*4,Z=new Uint8Array(Q);for(var $=0;$<Q;$++){var g=Y.charCodeAt($*2),S=Y.charCodeAt($*2+1),U=g<58?g-48:g-55,B=S<58?S-48:S-55;Z[$]=(U<<4)+B}for(var $=0;$<G;$++)J.push(H.eV(Z,$<<2));J=j$.aeW(q,J)}else throw X;return[q,J]};j$.alQ=function(M,X,J){var q=["#Created by www.Photopea.com","TITLE \""+J+"\"","","#LUT size","LUT_3D_SIZE "+X,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],W=6;
for(var $=0;$<M.length;$+=3){q.push(M[$].toFixed(W)+" "+M[$+1].toFixed(W)+" "+M[$+2].toFixed(W))}q.push("");
return H.y4(q.join("\n")).buffer};j$.aeW=function(M,X){var J=[],q=M*M*M;for(var $=0;$<q;$++)J.push(0,0,0);
for(var W=0;W<M;W++)for(var T=0;T<M;T++)for(var _=0;_<M;_++){var $=3*(_+T*M+W*M*M),m=3*(W+T*M+_*M*M);
J[m]=X[$];J[m+1]=X[$+1];J[m+2]=X[$+2]}return J};function dH(){}dH.rK=function(M,X,J,q,W,T){var _=J,p;
if(W==null)W=0;var m=T?H.UQ:H.Z3,d=T?H.Xv:H.Pp,A=T?H.Od:H.Vy,a=m(M,J);if(a==0){p="";J+=4}else{p=A(M,J);
J+=4+2*p.length+2}if(p!="")X.__name=p;X.classID=dH.eG(M,J,T);if(q)console.log("\t".repeat(W),"- reading descriptor",X.classID,J);
J+=dH.u8(M,J,T);var f=d(M,J);J+=4;for(var $=0;$<f;$++){var s=dH.eG(M,J,T);J+=dH.u8(M,J,T);var j=dH.amq(M,J,q,W,T);
X[s]=j;J+=j.size;delete j.size}return J-_};dH.nw=function(M,X,J,q){var W=J,T=X.__name;if(T==null)T="";
T+="\0";H.yt(M,J,T);J+=4+2*T.length;dH.I_(M,J,X.classID);J+=dH.u8(M.data,J);H.YD(M,J,Object.keys(X).length-1-(X.__name==null?0:1));
J+=4;for(var _ in X){if(_=="classID")continue;if(_=="__name")continue;dH.I_(M,J,_);J+=dH.u8(M.data,J);
J+=dH.a6U(M,J,X[_])}return J-W};dH.amq=function(M,X,J,q,W){var T=X,_=H.qv(M,X,W);X+=4;var m=W?H.f1:H.LF,d=W?H.UQ:H.Z3,A=W?H.Xv:H.Pp,p=W?H.Od:H.Vy,a={size:0,t:_,v:null};
if(J)console.log("\t".repeat(q),"reading key",_,T);switch(_){case"obj ":case"VlLs":a.v=[];var f=d(M,X);
X+=4;for(var $=0;$<f;$++){var s=dH.amq(M,X,J,q+1,W);X+=s.size;delete s.size;a.v.push(s)}break;case"UntF":a.v={type:H.qv(M,X,W),val:m(M,X+4)};
X+=12;break;case"doub":{a.v=m(M,X);X+=8;break}case"bool":a.v=M[X]==1;X+=1;break;case"long":a.v=A(M,X);
X+=4;break;case"comp":a.v=A(M,X+4);X+=8;break;case"Objc":a.v={};var j=dH.rK(M,a.v,X,J,q+1,W);X+=j;break;
case"TEXT":var Y=d(M,X);if(Y==0){a.v="";X+=4}else{a.v=p(M,X);X+=4+a.v.length*2+2}break;case"enum":var G=dH.eG(M,X,W);
X+=dH.u8(M,X,W);var Q=dH.eG(M,X,W);X+=dH.u8(M,X,W);a.v={};a.v[G]=Q;break;case"tdta":var Z=A(M,X);X+=4;
a.v=Array.from(M.slice(X,X+Z));X+=Z;break;case"ObAr":var g=d(M,X);X+=4;var S=p(M,X);X+=4+2*S.length+2;
if(S!="")throw S;var U=dH.eG(M,X,W);X+=4+Math.max(4,U.length);a.v={classID:U,arr:[]};var B=d(M,X);X+=4;
for(var $=0;$<B;$++){var U=dH.eG(M,X,W);X+=4+Math.max(4,U.length);var G=H.qv(M,X,W);X+=4;var e=H.qv(M,X,W);
X+=4;var P={id:U,type:G,uID:e,arr:[]};a.v.arr.push(P);var h=d(M,X,4);X+=4;for(var V=0;V<h;V++){var I=m(M,X);
X+=8;P.arr.push(I)}}break;case"Pth ":if(W)throw"e";var F=X,Z=H.Z3(M,X);X+=4;var c=H.zb(M,X,4);X+=4;var D=H.UQ(M,X);
X+=4;var n=H.azC(M,X);X+=4+n.length*2;a.v={sig:c,pth:n};break;case"Clss":case"type":case"rele":var n=p(M,X);
X+=4+n.length*2+2;var k=dH.eG(M,X,W);X+=4+Math.max(4,k.length);a.v={classID:k};if(n!="")a.v.__name=n;
if(_=="rele"){a.v.val=A(M,X);X+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var b=dH.za[_],n=p(M,X);
X+=4+n.length*2+2;if(n.length!=0){console.log("String found",_,n)}a.v={};for(var $=0;$<b.length;$++){var k=dH.eG(M,X,W);
X+=4+Math.max(4,k.length);a.v[b[$]]=k}if(_=="name"){var n=p(M,X);X+=4+n.length*2+2;a.v.val=n}if(_=="indx"||_=="Idnt"){a.v.val=d(M,X);
X+=4}break;case"alis":var Z=d(M,X);X+=4;a.v=H.zb(M,X,Z);X+=Z;break;default:{console.log("unknown oskey: "+_+", "+T);
throw"e";return a}}if(J){console.log("\t".repeat(q),a.v);console.log("\t".repeat(q),"======",X)}a.size=X-T;
return a};dH.za={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
dH.a6U=function(M,X,J){var q=X,W=J.t;J=J.v;H.JZ(M,X,W);X+=4;switch(W){case"obj ":case"VlLs":H.YD(M,X,J.length);
X+=4;for(var T=0;T<J.length;T++){var _=dH.a6U(M,X,J[T]);X+=_}break;case"UntF":H.JZ(M,X,J.type);H.zA(M,X+4,J.val);
X+=12;break;case"doub":H.zA(M,X,J);X+=8;break;case"bool":H._r(M,X,J?1:0,1);X+=1;break;case"long":H.YD(M,X,J);
X+=4;break;case"comp":H.YD(M,X+4,J);X+=8;break;case"Objc":var _=dH.nw(M,J,X);X+=_;break;case"TEXT":H.yt(M,X,J+"\0");
X+=4+J.length*2+2;break;case"enum":var m=Object.keys(J)[0],d=J[m];dH.I_(M,X,m);X+=dH.u8(M.data,X);dH.I_(M,X,d);
X+=dH.u8(M.data,X);break;case"tdta":H.Ou(M,X,J.length);X+=4;H.BX(M,X,J);X+=J.length;break;case"ObAr":H.Ou(M,X,J.arr[0].arr.length);
X+=4;H.yt(M,X,"\0");X+=6;dH.I_(M,X,J.classID);X+=4+Math.max(4,J.classID.length);H.Ou(M,X,J.arr.length);
X+=4;for(var $=0;$<J.arr.length;$++){var A=J.arr[$];dH.I_(M,X,A.id);X+=4+Math.max(4,A.id.length);H.JZ(M,X,A.type);
X+=4;H.JZ(M,X,A.uID);X+=4;H.Ou(M,X,A.arr.length);X+=4;for(var T=0;T<A.arr.length;T++){H.zA(M,X,A.arr[T]);
X+=8}}break;case"Pth ":var p=J.pth.length*2+4+8;H.Ou(M,X,p);X+=4;H.JZ(M,X,J.sig);X+=4;H.SE(M,X,p);X+=4;
H.amy(M,X,J.pth);X+=J.pth.length*2+4;break;case"Clss":case"type":case"rele":var a=J.__name;if(a==null)a="";
H.yt(M,X,a+"\0");X+=4+a.length*2+2;var f=J.classID;dH.I_(M,X,f);X+=4+Math.max(4,f.length);if(W=="rele"){H.YD(M,X,J.val);
X+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var s=dH.za[W],j="";if(W=="name"&&J.classID=="Grdn")j="Gradient";
H.yt(M,X,j+"\0");X+=4+j.length*2+2;for(var $=0;$<s.length;$++){var f=J[s[$]];dH.I_(M,X,f);X+=4+Math.max(4,f.length)}if(W=="name"){H.yt(M,X,J.val+"\0");
X+=4+J.val.length*2+2}if(W=="indx"||W=="Idnt"){H.Ou(M,X,J.val);X+=4}break;case"alis":var p=J.length;
H.Ou(M,X,p);X+=4;H.JZ(M,X,J);X+=p;break;default:console.log("unknown oskey: "+W);X=q;break}return X-q};
dH.eG=function(M,X,J){var q=J?H.Xv:H.Pp,W=q(M,X);if(W>1e3)throw"e";if(W==0)return H.qv(M,X+4,J).trim();
return H.zb(M,X+4,W).trim()};dH.u8=function(M,X,J){var q=J?H.Xv:H.Pp,W=q(M,X);return W==0?8:4+W};dH.I_=function(M,X,J){var q="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),W=4<J.length||q.indexOf(J)!=-1;
H.YD(M,X,W?J.length:0);H.JZ(M,X+4,J);if(J.length<4&&!W){var T="";for(var $=J.length;$<4;$++)T+=" ";H.JZ(M,X+4+J.length,T)}};
dH.ana=function(M){var X={};for(var J in M){if(J=="classID")X[J]=M[J];else if(J=="__name")X[J]=M[J];
else X[J]=dH.aAL(M[J])}return X};dH.aAL=function(M){if(M.Y=="Objc")return dH.ana(M.v);else if(M.Y=="VlLs"){var X=[];
for(var $=0;$<M.v.length;$++)X.push(dH.aAL(M.v[$]));return X}else if(M.Y=="UntF")return M.v.val;else return M.v};
function dL(){}dL.kU=function(M,X,J,q,W,T,_){var m=_?H.UQ:H.Z3,d=_?H.Xv:H.Pp,A=_?H.Fn:H.uC,p=_?H.MZ:H.Wp,a=_?H.aFh:H.L$,f=_?H.f1:H.LF,s=_?H.eV:H.Ot,j=_?H.azC:H.iA;
while(X<J){var Y=H.qv(M,X,_);X+=4;if(Y!="8BIM"&&Y!="8B64"){console.log("layer information signature error! "+Y,"PSB = "+W);
alert("Error in PSD file: wrong signature.");return J}var G=H.qv(M,X,_);X+=4;var Q=m(M,X);X+=4;var Z=W&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(G)!=-1;
if(Z){Q=Q<<32|d(M,X);X+=4}var g=["lrFX","PlLd"];if(g.indexOf(G)!=-1){if(Q%4!=0)Q+=4-Q%4;X+=Q;continue}switch(G){case"iOpa":q[G]=M[X];
break;case"brst":q[G]=[1,1,1];for(var $=0;$<Q;$+=4)q[G][m(M,X+$)]=0;break;case"knko":q[G]=M[X];break;
case"infx":q[G]=M[X];break;case"clbl":q[G]=M[X];break;case"lmgm":q[G]=M[X];break;case"vmgm":q[G]=M[X];
break;case"fcmy":q[G]=M[X];break;case"lyid":q[G]=m(M,X);break;case"lsct":q[G]={e:m(M,X)};if(Q>=12)q[G].Sw=H.qv(M,X+8,_);
break;case"lsdk":q.lsct={e:m(M,X)};break;case"lyvr":q[G]=m(M,X);break;case"lnsr":var S={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
q[G]=H.qv(M,X,_);break;case"lspf":q[G]=m(M,X);break;case"lclr":q[G]=A(M,X);break;case"luni":q[G]=j(M,X);
break;case"fxrp":q[G]=new es(f(M,X),f(M,X+8));break;case"phry":case"artb":case"artd":q[G]={};dH.rK(M,q[G],X+4,!1,null,_);
break;case"SoCo":q[G]={};dH.rK(M,q[G],X+4,!1,null,_);break;case"GdFl":q[G]={};dH.rK(M,q[G],X+4,!1,null,_);
dL.ES(q[G],G);break;case"PtFl":q[G]={};dH.rK(M,q[G],X+4,!1,null,_);dL.ES(q[G],G);break;case"CgEd":q[G]={};
dH.rK(M,q[G],X+4,!1,null,_);break;case"brit":var U=q.brit=fV.IH("brit"),B={};U.Brgh.v=p(M,X);U.Cntr.v=p(M,X+2);
U.useLegacy.v=!0;break;case"levl":var e=M.buffer.slice(X,X+Q);q[G]=el.Ah(e,_);break;case"curv":q[G]=hg.b$(M,X,Q,_);
break;case"expA":var P=p(M,X),h=q[G]=fV.IH("expA");h.Exps.v=s(M,X+2);h.Ofst.v=s(M,X+6);h.gammaCorrection.v=s(M,X+10);
break;case"vibA":q[G]={};dH.rK(M,q[G],X+4,!1,null,_);break;case"hue2":q[G]=gg.b$(M,X,Q,_);break;case"blnc":var h=q[G]=fV.IH(G);
h.PrsL.v=M[X+18]==1;var V=["ShdL","MdtL","HghL"];for(var $=0;$<3;$++)for(var I=0;I<3;I++)h[V[$]].v[I].v=p(M,X+$*6+I*2);
break;case"blwh":var F={};dH.rK(M,F,X+4,!1,null,_);var h=fV.IH(G),c="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var $=0;$<c.length;$++){h[c[$]]=F[c[$]];delete F[c[$]]}q[G]=h;break;case"phfl":var h=q[G]=fV.IH(G),D=h.Clr.v,P=A(M,X);
if(P==3){var n=[m(M,X+2),m(M,X+6),m(M,X+10)],k=32768,b=t.a3_(n[0]/k,n[1]/k,n[2]/k);D.Lmnc.v=b.q6;D.A.v=b.Jm;
D.B.v=b.g}if(P==2){var N=A(M,X+2);if(N!=7)throw"e";D.Lmnc.v=p(M,X+4)/100;D.A.v=p(M,X+6)/100;D.B.v=p(M,X+8)/100}var L=X+2+(P==3?12:10);
h.Dnst.v=m(M,L);L+=4;h.PrsL.v=M[L]==1;break;case"mixr":var R={TG:A(M,X+2)==1,K:[]};for(var $=0;$<20;
$++)R.K.push(p(M,X+4+$*2));q[G]=ia.YU(R);break;case"clrL":case"rplc":q[G]={};dH.rK(M,q[G],X+6,!1,null,_);
break;case"nvrt":q[G]={};break;case"post":q[G]=fV.IH("post");q[G].Lvls.v=A(M,X);break;case"thrs":q[G]=fV.IH("thrs");
q[G].Lvl.v=A(M,X);break;case"grdm":var i=X,v=A(M,i);i+=2;var E=M[i]==1,u=M[i+1]==1;i+=2;var C=H.qv(M,i,_);
if(C=="Perc"||C=="Gcls"||C=="Lnr "||C=="Smoo"||C=="\0\0\x0B\x1D")i+=4;var l=j(M,i);i+=4+l.length*2;var x=dB.am$(M,i,l,_),y=x[0];
i=x[1];var ge=A(M,i);i+=2;var O=m(M,i);i+=4;var kz=A(M,i)==1;i+=2;var z=A(M,i)==1;i+=2;var eZ=m(M,i);
i+=4;var kM=A(M,i);i+=2;var jV=[],cL=[];for(var $=0;$<4;$++){jV.push({t:"long",v:~~(A(M,i+$*2)*100/32768)});
cL.push({t:"long",v:~~(A(M,i+$*2+8)*100/32768)})}i+=16;var aw=A(M,i);i+=2;if(ge==1)y={classID:"Grdn",Nm:{t:"TEXT",v:l},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:kz},VctC:{t:"bool",v:z},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:O},Smth:{t:"long",v:eZ},Mnm:{t:"VlLs",v:jV},Mxm:{t:"VlLs",v:cL}};
var h2=fV.IH("grdm");h2.Rvrs.v=E;h2.Grad.v=y;q[G]=h2;break;case"selc":q[G]=by.b$(M,X,Q,_);break;case"vmsk":case"vsms":var ea=q.vmsk=new K.JL,ht=d(M,X+4),jn=(ht>>0&1)==1;
ea.kx=(ht>>1&1)==0;ea.isEnabled=(ht>>2&1)==0;ea.X=iv.Q7(M,X+8,Q-8,T.r,T.$,_);break;case"shmd":q[G]={};
var gE=m(M,X),L=X+4;for(var $=0;$<gE;$++){var Y=H.qv(M,L,_);L+=4;var bS=H.qv(M,L,_);L+=4;var bi=M[L];
L++;if(Math.max(M[L],M[L+1])!=0)throw"e";L+=3;var cj=m(M,L);L+=4;if(bS=="cust"||bS=="cmls"||bS=="extn"||bS=="mlst"){var bb=m(M,L);
if(bb!=16)L+=4;if(m(M,L)==16){var F={};dH.rK(M,F,L+4,!1,null,_);q[G][bS]=F;if(bS=="cmls")o.on.ac2(q[G][bS])}}else{console.log("unknown shmd key: "+bS+", size: "+cj)}L+=cj}break;
case"shpa":var P=m(M,X),c0=m(M,X+4);if(c0!=0)console.log("some patterns present!");break;case"TySh":var cV=q[G]={},P=A(M,X);
cV.u=H.dr(M,X+2,_);var g_=A(M,X+2+48);cV.PX={};try{var hx=dH.rK(M,cV.PX,X+56)}catch(hP){q[G]=null;break}var au=f5.aaG();
for(var kP in au)if(cV.PX[kP]==null)cV.PX[kP]=au[kP];cV.OG={};var iK=dH.rK(M,cV.OG,X+56+hx+6,!1,null,_);
cV.hd=H.ad2(M,X+56+hx+6+iK);cV.Zj=cU.Ah(cV.PX.EngineData.v);f5.a6S(cV.Zj.EngineDict.StyleRun.RunArray);
if(cV.Zj.ResourceDict==null)cV.Zj.ResourceDict=t.b(cV.Zj.DocumentResources);delete cV.PX.EngineData;
break;case"lfx2":case"lmfx":case"lfxs":var b3=m(M,X),fs=m(M,X+4);q.lmfx={};var hx=dH.rK(M,q.lmfx,X+8,!1,null,_);
dL.jT(q.lmfx);break;case"FMsk":q[G]=M.slice(X,X+Q);break;case"Txt2":q[G]={};q[G].raw=M.slice(X,X+Q);
q[G].IG=dN.Ah(q[G].raw);break;case"Patt":q[G]=e_.bn(M,X,Q,_);break;case"SoLd":var ch=H.qv(M,X,_),hv=m(M,X+4),g6=m(M,X+8),ef=q[G]={},fN=dH.rK(M,ef,X+12,null,null,_),kb=ef.warp,cn=ef.quiltWarp;
if(cn==null)cn=ef.quiltWarp=t.Rl.aD2(kb);delete ef.warp;var dF=cn.v.warpStyle.v.warpStyle,et=cn.v.warpValues;
if(dF!="warpCylinder"&&et){cn.v.warpValue={t:"doub",v:et.v[0].v};delete cn.v.warpValues}if(ef.nonAffineTransform==null)ef.nonAffineTransform=t.b(ef.Trnf);
if(ef.Impr==null)ef.Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var hv=m(M,X);
q[G]={};var fN=dH.rK(M,q[G],X+4,!1,null,_);break;case"vscg":var bS=H.qv(M,X,_),hv=m(M,X+4);q[bS]={};
var fN=dH.rK(M,q[bS],X+8,!1,null,_);dL.ES(q[bS],bS);break;case"vogk":var bh=m(M,X),hv=m(M,X+4);q[G]={};
var fN=dH.rK(M,q[G],X+8,!1,null,_);q[G]=q[G].keyDescriptorList.v;for(var $=0;$<q[G].length;$++){var dY=q[G][$].v;
if(!t.fg.RS(dY))continue;if(dY.keyOriginBoxCorners==null){var jM=t.fg.v5(dY);dY.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};
var bz=[jM[0],jM[1],jM[2],jM[1],jM[2],jM[3],jM[0],jM[3]];if(dY.keyOriginType.v==4)bz=t.fg.av8(t.fg.Ks(dY),dY.keyOriginLineWeight.v);
t.fg.LT(dY,"keyOriginBoxCorners",bz)}}break;case"lnk2":case"lnkD__":case"lnk3__":q[G]=[];var i=X;while(i<X+Q){var hh=new K.oE;
q[G].push(hh);var dM=a(M,i);i+=8;var iX=i;hh.e=H.qv(M,i,_);i+=4;if(hh.e!="liFD"){alert("Unknown Linked Layer type: "+hh.e);
break;throw hh.e}hh.MR=m(M,i);i+=4;var aW=H.TJ(M,i);i+=1+aW.rJ.length;hh.qM=aW.rJ;var eC=_?H.Od:H.Vy;
hh.iW=eC(M,i);i+=4+hh.iW.length*2+2;hh.fH=H.qv(M,i,_);i+=4;hh.gi=H.qv(M,i,_);i+=4;var dh=a(M,i);i+=8;
hh.open=M[i];i+=1;if(hh.open!=0){var ff={},hx=dH.rK(M,ff,i+4,null,null,_);if(hx%4!=0)hx+=4-hx%4;console.log(ff);
i+=hx+4}hh.open=0;hh.raw=M.slice(i,i+dh);i=iX+dM;if(dM%4!=0)i+=4-dM%4}break;case"FEid":var i=X;q[G]=[];
var fE=i+Q,P=m(M,i);i+=4;while(i<fE){var dM=a(M,i);i+=8;var x={};q[G].push(x);x.id=H.TJ(M,i).rJ;i+=x.id.length+1;
var P=m(M,i);i+=4;i+=4;var dX=m(M,i);i+=4;x.S=H.Y$(M,i,_);i+=16;var i2=m(M,i);i+=4;var ew=m(M,i);i+=4;
var hW=new t.Uy(0);for(var $=0;$<ew+2;$++){var jt=m(M,i);i+=4;if(jt!=0){var h3=a(M,i),dl=null;i+=8;if($<3||$==25){dl=bf.wx(!0,i2,M,x.S.r,x.S.$,i,h3,_)}if($==0)hW.z=dl;
if($==1)hW.L=dl;if($==2)hW.g=dl;if($==25)hW.Jm=dl;i+=h3}}x.buffer=t.j(x.S.o()*4,i2);t.Uq(hW,x.buffer);
var ba=M[i];i++;if(ba!=0){x.JS=new K.$O;x.JS.S=H.Y$(M,i,_);i+=16;var b_=a(M,i);i+=8;var dl=bf.wx(!0,i2,M,x.JS.S.r,x.JS.S.$,i,b_,_);
x.JS.N=dl;x.JS.color=255;x.JS.Wn();i+=b_}if(dM%4!=0)i+=4-dM%4}break;case"Lr16":bB.d4(T,M,X,_);break;
case"Lr32":bB.d4(T,M,X,_);break;case"Anno":q[G]=[];var f8=X,ak=X+4,c0=m(M,ak);ak+=4;for(var $=0;$<c0;
$++){var dM=m(M,ak);ak+=4;var jk=H.qv(M,ak,_);ak+=4;if(jk!="txtA")throw jk;var i6=M[ak++],k2=M[ak++],gm=A(M,ak);
ak+=2;var cu=H.Y$(M,ak,_);ak+=16;var ek=H.Y$(M,ak,_);ak+=16;var D=hu.WC(M,ak,_);ak+=10;var i_=H.TJ(M,ak);
ak+=i_.length;var iP=H.TJ(M,ak);ak+=iP.length;var cf=H.TJ(M,ak);ak+=cf.length;var id=m(M,ak);ak+=4;var i1=H.qv(M,ak,_);
ak+=4;var f0=m(M,ak);ak+=4;var ej=_?H.$_:H.c8,kk=ej(M,ak+2,f0-2>>1);ak+=f0;q[G].push([cu.x,cu.y,D,i_.rJ,kk])}break;
default:break}var dZ="Layr,Lr16,Lr32,LMsk,Txt2,artd,extd,luni,pths,extn,tySh,lfx2,cinf,Anno,CAI ,GenI,phry".split(",");
if(dZ.indexOf(G)==-1)if(Q%4!=0)console.log("size not multiple of 4!!!",G);if(G!="luni"&&G!="TySh"&&G!="tySh"&&G!="lfx2"&&G!="iOpa"&&G!="SoCo")if(Q%4!=0)Q+=4-Q%4;
X+=Q}var B=q.CgEd;if(B){var U=q.brit;if(U){U.Brgh.v=B.Brgh?B.Brgh.v:0;U.Cntr.v=B.Cntr?B.Cntr.v:0;U.useLegacy.v=B.useLegacy?B.useLegacy.v:0}delete q.CgEd}var cq=[];
for(var $=0;$<cq.length;$++)delete q[cq[$]];return X};dL.XO=function(M,X,J,q,W){if(J.SoLd){var T={};
for(var _ in J){if(_=="SoLd")T.PlLd={};T[_]=J[_]}J=T}for(var m in J)if(J[m]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+m+"\" tag was present with a null value.");delete J[m]}for(var m in J){var d=q&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(m)!=-1,p=0;
H.JZ(M,X,d?"8B64":"8BIM");X+=4;var A=X;H.JZ(M,X,m);X+=4;H.YD(M,X,0);X+=d?8:4;switch(m){case"iOpa":H._r(M,X,J[m],1);
p=4;break;case"brst":p=0;for(var $=0;$<3;$++)if(J[m][$]==0){H.Ou(M,X+p,$);p+=4}break;case"knko":H._r(M,X,J[m],1);
p=4;break;case"infx":H._r(M,X,J[m],1);p=4;break;case"clbl":H._r(M,X,J[m],1);p=4;break;case"lmgm":H._r(M,X,J[m],1);
p=4;break;case"vmgm":H._r(M,X,J[m],1);p=4;break;case"fcmy":H._r(M,X,J[m],1);p=4;break;case"lyid":H.Ou(M,X,J[m]);
p=4;break;case"lsct":H.Ou(M,X,J[m].e);p=4;if(J[m].Sw){H.JZ(M,X+4,"8BIM");H.JZ(M,X+8,J[m].Sw);p=12}break;
case"lyvr":H.Ou(M,X,J[m]);p=4;break;case"lnsr":H.JZ(M,X,J[m]);p=4;break;case"lspf":H.Ou(M,X,J[m]);p=4;
break;case"lclr":H.ac(M,X,J[m]);p=8;break;case"luni":H.yt(M,X,J[m]);p=4+2*J[m].length;break;case"fxrp":H.zA(M,X,J[m].x);
H.zA(M,X+8,J[m].y);p=16;break;case"phry":case"artb":case"artd":H.Ou(M,X,16);p=dH.nw(M,J[m],X+4)+4;break;
case"SoCo":H.Ou(M,X,16);p=dH.nw(M,J[m],X+4)+4;break;case"GdFl":H.Ou(M,X,16);p=dH.nw(M,J[m],X+4)+4;break;
case"PtFl":H.Ou(M,X,16);p=dH.nw(M,J[m],X+4)+4;break;case"CgEd":var a={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},f=a,s=J[m];
f.Brgh.v=s.Brgh.v;f.Cntr.v=s.Cntr.v;f.useLegacy.v=s.useLegacy.v;H.Ou(M,X,16);p=dH.nw(M,a,X+4)+4;break;
case"brit":M.q0(X,8);p=8;break;case"levl":var j=new bJ;p=el.Aw(j,J[m]);H.BX(M,X,j.data);break;case"curv":p=hg.mk(M,X,J[m]);
break;case"expA":p=14;M.q0(X,14);H.cB(M.data,X,1);H.sp(M.data,X+2,J[m].Exps?J[m].Exps.v:0);H.sp(M.data,X+6,J[m].Ofst?J[m].Ofst.v:0);
H.sp(M.data,X+10,J[m].gammaCorrection?J[m].gammaCorrection.v:1);break;case"vibA":H.Ou(M,X,16);p=dH.nw(M,J[m],X+4)+4;
break;case"hue2":p=gg.mk(M,X,J[m]);break;case"blnc":p=19;M.q0(X,p);var Y=["ShdL","MdtL","HghL"];for(var $=0;
$<3;$++){var G=J[m][Y[$]].v;for(var Q=0;Q<3;Q++)G.push(H.Ym(M.data,X+$*6+Q*2,G[Q].v))}M.data[X+18]=J[m].PrsL.v?1:0;
break;case"blwh":var a={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},Z="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var $=0;$<Z.length;$++){a[Z[$]]=J[m][Z[$]]}H.Ou(M,X,16);p=dH.nw(M,a,X+4)+4;break;case"phfl":H.ac(M,X,2);
var g=J[m].Clr.v;H.ac(M,X+2,7);H.ac(M,X+4,Math.round(g.Lmnc.v*100));H.ac(M,X+6,Math.round(g.A.v*100));
H.ac(M,X+8,Math.round(g.B.v*100));H.ac(M,X+10,0);var S=X+2+10;M.q0(S,5);H.R2(M.data,S,J[m].Dnst.v);S+=4;
M.data[S]=J[m].PrsL.v?1:0;S++;p=S-X;break;case"mixr":p=44;M.q0(X,p);var U=ia.kw(J[m]);H.cB(M.data,X,1);
H.cB(M.data,X+2,U.TG?1:0);for(var $=0;$<20;$++)H.Ym(M.data,X+4+$*2,U.K[$]);break;case"clrL":case"rplc":H.ac(M,X,1);
H.Ou(M,X+2,16);p=dH.nw(M,J[m],X+6)+6;break;case"nvrt":p=0;break;case"post":H.ac(M,X,J[m].Lvls.v);p=2;
break;case"thrs":H.ac(M,X,J[m].Lvl.v);p=2;break;case"grdm":var B=J[m].Rvrs?J[m].Rvrs.v:!1,e=!1,P=867527939,h=!1,V=!1,I=2048,F=[0,0,0,0],c=[32768,32768,32768,32768],D=J[m].Grad.v,n,k,b=D.Clrs==null?1:0;
if(b==0){n=D;k=JSON.parse(kf.rs.acj).v}else{n=fV.IH("grdm").Grad.v;k=D}M.q0(X,4);H.cB(M.data,X,1);M.data[X+2]=B?1:0;
M.data[X+3]=e?1:0;var N=X+4;H.yt(M,N,D.Nm.v);N+=4+D.Nm.v.length*2;N=dB.afA(M,N,n);H.ac(M,N,b);N+=2;H.Ou(M,N,k.RndS.v);
N+=4;H.ac(M,N,k.ShTr.v?1:0);N+=2;H.ac(M,N,k.VctC.v?1:0);N+=2;H.Ou(M,N,k.Smth.v);N+=4;H.ac(M,N,3);N+=2;
for(var $=0;$<4;$++)H.ac(M,N+$*2,F[$]);N+=8;for(var $=0;$<4;$++)H.ac(M,N+$*2,c[$]);N+=8;N+=2;p=N-X;break;
case"selc":p=by.mk(M,X,J[m]);break;case"FMsk":H.BX(M,X,J[m]);p=J[m].length;break;case"Txt2":var L=new bJ,R=dN.yo(J[m].IG,L),i=L.data.slice(0,R);
H.BX(M,X,i);p=i.length;break;case"vmsk":var v=J[m],E=0;H.Ou(M,X,3);if(!v.kx)E+=1<<1;if(!v.isEnabled)E+=1<<2;
H.Ou(M,X+4,E);p=8;var u=v.X.length;M.q0(X+8,u*26);iv.QY(M.data,X+8,v.X,W.r,W.$);p+=u*26;break;case"shmd":H.Ou(M,X,Object.keys(J[m]).length);
var S=X+4;for(var C in J[m]){H.JZ(M,S,"8BIM");S+=4;H.JZ(M,S,C);S+=4;H.Ou(M,S,0);S+=4;H.Ou(M,S,0);S+=4;
H.Ou(M,S,16);S+=4;var l=dH.nw(M,J[m][C],S);if(l%4!=0)l+=4-l%4;H.Ou(M,S-8,l+4);S+=l}p=S-X;break;case"TySh":var S=X;
H.HW(M,S,1);S+=2;var x=J[m],L=new bJ;x.Zj.DocumentResources=t.b(x.Zj.ResourceDict);var R=cU.yo(x.Zj,L),i=L.data.slice(0,R);
x.PX.EngineData={t:"tdta",v:i};var y=x.Zj.EngineDict.Editor.Text;x.PX.Txt.v=y.substring(0,y.length-1);
H.a1x(M,S,x.u);S+=48;H.HW(M,S,50);S+=2;H.Ou(M,S,16);S+=4;S+=dH.nw(M,x.PX,S);H.HW(M,S,1);S+=2;H.Ou(M,S,16);
S+=4;S+=dH.nw(M,x.OG,S);H.amJ(M,S,x.hd);S+=16;p=S-X;break;case"lmfx":H.Ou(M,X,0);H.Ou(M,X+4,16);var a=t.b(J[m]),ge=!1;
dL.ja(a);for(var $=0;$<kf.an.length;$++)if(a[kf.an[$]]!=null)ge=!0;H.JZ(M,A,ge?"lmfx":"lfx2");p=dH.nw(M,a,X+8)+8;
break;case"Patt":var S=e_.RZ(M,X,J[m]);p=S-X;break;case"PlLd":var O=X;M.q0(X,60);var G=J.SoLd;H.JZ(M,X,"plcL");
H.Ou(M,X+4,3);var kz=M.data[X+8]=G.Idnt.v.length;H.JZ(M,X+9,G.Idnt.v);var S=X+9+kz,z=[1,1,16,2];for(var $=0;
$<4;$++)H.Ou(M,S+$*4,z[$]);S+=16;z=o.fx.Bz(G.nonAffineTransform);for(var $=0;$<8;$++)H.zA(M,S+$*8,z[$]);
S+=64;H.Ou(M,S,0);H.Ou(M,S+4,16);var eZ=t.Rl.adU(G.quiltWarp).v;S+=8+dH.nw(M,eZ,S+8);p=S-X;break;case"SoLd":var G=J[m],kM=G.quiltWarp;
G.warp=t.Rl.adU(kM);if(t.Rl.bd(kM.v)==16)delete G.quiltWarp;H.JZ(M,X,"soLD");H.Ou(M,X+4,4);H.Ou(M,X+8,16);
p=dH.nw(M,G,X+12)+12;G.quiltWarp=kM;delete G.warp;break;case"vstk":case"pths":H.Ou(M,X,16);p=dH.nw(M,J[m],X+4)+4;
break;case"vscg__":H.JZ(M,X,J[m].key);H.Ou(M,X+4,16);p=dH.nw(M,J[m].K,X+8)+8;break;case"vogk":H.Ou(M,X,1);
H.Ou(M,X+4,16);t.fg.alh(J[m]);for(var $=0;$<J[m].length;$++){var jV=J[m][$].v.keyOriginResolution;if(jV)jV.v=W.Qv}var cL={classID:"null",keyDescriptorList:{t:"VlLs",v:J[m]}};
p=dH.nw(M,cL,X+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var N=X;for(var $=0;$<J[m].length;$++){var aw=J[m][$],h2=N;
H.y0(M,N,0);N+=8;H.JZ(M,N,aw.e);N+=4;H.Ou(M,N,aw.MR);N+=4;M.q0(N,1);M.data[N]=aw.qM.length;N++;H.JZ(M,N,aw.qM);
N+=aw.qM.length;H.yt(M,N,aw.iW+"\0");N+=4+aw.iW.length*2+2;H.JZ(M,N,aw.fH);N+=4;H.JZ(M,N,aw.gi);N+=4;
H.y0(M,N,aw.raw.length);N+=8;M.q0(N,1);M.data[N]=aw.open;N++;H.BX(M,N,aw.raw);N+=aw.raw.length;H.Ou(M,N,1);
N+=4;N+=11;var ea=N-h2-8;H.y0(M,h2,ea);if(ea%4!=0){M.q0(N,4-ea%4);N+=4-ea%4}}p=N-X;break;case"FEid":var N=X;
H.Ou(M,N,3);N+=4;for(var ht=0;ht<J[m].length;ht++){var jn=J[m][ht];N+=4;var gE=N;N+=4;H.v7(M,N,jn.id);
N+=jn.id.length+1;H.Ou(M,N,1);N+=4;var bS=t.j(jn.S.o(),W.depth),bi=jn.S,cj=t.j(bi.o(),W.depth);N+=4;
var bb=N;N+=4;H.oZ(M,N,bi);N+=16;H.Ou(M,N,W.depth);N+=4;H.Ou(M,N,24);N+=4;for(var $=0;$<24+2;$++){var c0=-1;
if($==0)c0=0;if($==1)c0=1;if($==2)c0=2;if($==25)c0=3;H.Ou(M,N,c0!=-1?1:0);N+=4;if(c0!=-1){t.SF(jn.buffer,bS,c0);
t.Rc(bS,jn.S,cj,bi);N+=4;var cV=N;N+=4;M.q0(N,bi.o()+2);N=bf.Nl(!0,cj,M.data,bi.r,bi.$,N,3);H.Ou(M,cV,N-(cV+4))}}H.Ou(M,bb,N-(bb+4));
M.q0(N,1);M.data[N]=jn.JS?1:0;N++;if(jn.JS!=null){var g_=bi,hx=t.j(g_.o(),W.depth);hx.fill(t.P0(W.depth)*jn.JS.color/255);
t.Rc(jn.JS.N,jn.JS.S,hx,g_);H.oZ(M,N,g_);N+=16;N+=4;var au=N;N+=4;M.q0(N,g_.o()+2);N=bf.Nl(!0,hx,M.data,g_.r,g_.$,N,3);
H.Ou(M,au,N-(au+4))}var ea=N-(gE+4);H.Ou(M,gE,ea);if(ea%4!=0)N+=4-ea%4}p=N-X;break;case"Lr16":case"Lr32":var kP=bB.acP(W,M,X,[],!1);
p=kP-X;break;case"Anno":var kP=X,iK=J[m].length;H.ac(M,kP,2);H.ac(M,kP+2,1);kP+=4;H.Ou(M,kP,iK);kP+=4;
for(var $=0;$<iK;$++){var b3=J[m][$],fs=b3[0],ch=b3[1],hv=kP;kP+=4;H.JZ(M,kP,"txtA");kP+=4;M.q0(kP,2);
M.data[kP]=1;M.data[kP+1]=28;kP+=2;H.ac(M,kP,1);kP+=2;H.oZ(M,kP,new gc(fs,ch,17,21));kP+=16;H.oZ(M,kP,new gc(fs+8,ch+10,241,141));
kP+=16;M.q0(kP,10);hu.Yk(M.data,kP,b3[2]);kP+=10;kP+=H.v7(M,kP,b3[3]);kP+=H.v7(M,kP,"");kP+=H.v7(M,kP,"D:20211012120233+01'00'");
var g6=b3[4].length*2;H.Ou(M,kP,12+2+g6);kP+=4;H.JZ(M,kP,"txtC");kP+=4;H.Ou(M,kP,2+g6);kP+=4;M.q0(kP,2);
M.data[kP]=254;M.data[kP+1]=255;kP+=2;H.a47(M,kP,b3[4]);kP+=g6;H.Ou(M,hv,kP-hv)}p=kP-X;break;default:console.log("unknown layer tag: "+m+", size: "+p);
X-=12;continue}var ef=["Txt2","artd","extd","pths"];if(ef.indexOf(m)==-1)if(p%4!=0)p+=4-p%4;if(d)H.y0(M,X-8,p);
else H.Ou(M,X-4,p);if(m!="luni"&&m!="TySh")if(p%4!=0)p+=4-p%4;X+=p}return X};dL.jT=function(M){for(var $=0;
$<kf.order.length;$++){var X=kf.order[$],J=kf.an[$];if(M[J]==null)M[J]={t:"VlLs",v:[]};if(M[X]!=null){M[J].v.push(M[X]);
delete M[X]}var q=[];for(var W=0;W<M[J].v.length;W++){var T=M[J].v[W];if(T.v.present==null||T.v.present.v==!0)q.push(T)}M[J].v=q}};
dL.ja=function(M){for(var $=0;$<kf.order.length;$++){var X=kf.order[$],J=kf.an[$],q=M[J].v.length;if(q==0){delete M[J];
continue}if(q==1){M[X]=M[J].v[0];delete M[J];continue}}};dL.ES=function(M,X){if(X=="GdFl"){if(M.Angl==null)M.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(M.Algn==null)M.Algn={v:!0,t:"bool"};if(M.Scl==null)M.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(M.Ofst==null)M.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(M.Rvrs==null)M.Rvrs={v:!1,t:"bool"};if(M.Dthr==null)M.Dthr={v:!1,t:"bool"}}if(X=="PtFl"){if(M.Algn==null)M.Algn={v:!0,t:"bool"};
if(M.Angl==null)M.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(M.Scl==null)M.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(M.phase==null)M.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};dL.Q=function(M,X){var J={};
if(M=="TySh"){J.u=X.u.Q();J.PX=t.b(X.PX);J.OG=t.b(X.OG);J.hd=X.hd.Q();J.Zj=t.b(X.Zj);if(X.add)J.add={vmsk:X.add.vmsk.Q(),vogk:t.b(X.add.vogk)};
return J}else if(M=="fxrp")return X.Q();else if(M=="vmsk")return X.Q();else return t.b(X)};function f1(M,X){}f1.Ah=function(M,X,J,q,W){q=f1.acw(M,X,J,q,W);
return q};f1.yo=function(M,X,J,q,W){q=f1.aoO(M,X,J,q,W);return q};f1.acw=function(M,X,J,q,W){var T=q;
M.S=H.Y$(J,q,W);q+=16;var _=W?H.Fn:H.uC,m=W?H.MZ:H.Wp,d=_(J,q);q+=2;M.I4=[];var A=X.bt,p=W?H.aFh:H.L$,a=W?H.UQ:H.Z3,f=A?p:a;
for(var $=0;$<d;$++){M.I4[$]={id:m(J,q),length:f(J,q+2)};q+=A?10:6}var s=H.qv(J,q,W);q+=4;if(s!="8BIM"){console.log("Invalid Blend mode signature: "+JSON.stringify(s));
alert("Error in Photoshop file: wrong signature.");throw"e"}M.Sw=H.qv(J,q,W);q+=4;M.G8=J[q];q+=1;M.H2=J[q]==1;
q+=1;M.l4=J[q];q+=1;if(J[q]!=0)console.log("error in filler!");q+=1;var j=a(J,q);q+=4;var Y=q;q=f1.aCC(M,J,q,W);
q=f1.anp(M,J,q,W);var G=H.TJ(J,q);M.name=G.rJ;q+=G.length;if(G.length%4!=0)q+=4-G.length%4;q=dL.kU(J,q,Y+j,M.add,A,X,W);
if(M.add.lsct){if(M.add.lsct.Sw)M.Sw=M.add.lsct.Sw;M.add.lsct=M.add.lsct.e}return q};f1.aoO=function(M,X,J,q,W){var T=q;
H.oZ(J,q,M.S);q+=16;var _=X.add.fcmy==1,m=M.ax7(_);H.ac(J,q,m.length);q+=2;var d=X.bt;W.push(q);for(var $=0;
$<m.length;$++){H.HW(J,q,m[$]);if(d)H.y0(J,q+2,0);else H.Ou(J,q+2,0);q+=d?10:6}H.JZ(J,q,"8BIM");q+=4;
H.JZ(J,q,M.Sw);q+=4;H._r(J,q,M.G8,1);q+=1;H._r(J,q,M.H2?1:0,1);q+=1;H._r(J,q,M.l4,1);q+=1;H._r(J,q,0,1);
q+=1;var A=q;H.Ou(J,q,0);q+=4;var p=q;q=f1.ads(M,J,q);q=f1.aE8(M,J,q);var a=H.v7(J,q,M.name.slice(0,255));
q+=a;if(a%4!=0)q+=4-a%4;if(M.add.lsct){M.add.lsct={e:M.add.lsct};if(M.Sw=="pass"){M.add.lsct.Sw="pass";
M.Sw="norm"}}if(M.Sw=="pass")M.add.lsct={e:M.add.lsct,Sw:"pass"};if(M.add.brit)M.add.CgEd=M.add.brit;
q=dL.XO(J,q,M.add,d,X);delete M.add.CgEd;if(M.add.lsct){if(M.add.lsct.Sw)M.Sw=M.add.lsct.Sw;M.add.lsct=M.add.lsct.e}var f=q-p;
H.Ou(J,A,f);return q};f1.aCC=function(M,X,J,q){var W=q?H.UQ:H.Z3,T=W(X,J);J+=4;if(T==0)return J;var _=J;
M.JS=new K.$O;M.JS.S=H.Y$(X,J,q);J+=16;M.JS.color=X[J];J+=1;var m=f1.aou(M.JS,X,J);J+=1;if(m){var d=!1,A=255,p=0,a=255,f=0;
for(var $=0;$<M.I4.length;$++)if(M.I4[$].id==-3)d=!0;if(d){M.i4=f1.arT(X,J,q);J+=18}var s=J,j=X[J];J++;
var Y=q?H.f1:H.LF;if(j>>0&1){A=X[J];J++}if(j>>1&1){p=Y(X,J);J+=8}if(j>>2&1){a=X[J];J++}if(j>>3&1){f=Y(X,J);
J+=8}if((J-s&1)==1)J++;M.MO=[A,p,a,f]}else{if(T==20)J+=2;else{M.i4=f1.arT(X,J,q);J+=18}}return _+T};
f1.ads=function(M,X,J){H.Ou(X,J,0);J+=4;if(M.JS==null)return J;var q=M.hM(),W=M.add.vmsk,T=J,_=!0;H.Ou(X,J,0);
H.oZ(X,J,M.JS.S);J+=16;H._r(X,J,M.JS.color);J+=1;f1.awi(M.JS,X,J,_);J+=1;if(_){if(M.i4){f1.a60(X,J,M.i4);
J+=18}var m=J;H._r(X,J,W?15:3);J+=1;H._r(X,J,q?q.Fw:255);J+=1;H.zA(X,J,q?q.VU:0);J+=8;if(W){H._r(X,J,W?W.Fw:255);
J+=1;H.zA(X,J,W?W.VU:0);J+=8}if((J-m&1)==1)J++}H.Ou(X,T-4,J-T);return J};f1.arT=function(M,X,J){var q=new K.$O;
f1.aou(q,M,X);X+=1;q.color=M[X];X+=1;q.S=H.Y$(M,X,J);X+=16;return q};f1.a60=function(M,X,J){f1.awi(J,M,X,!1);
X+=1;H._r(M,X,J.color);X+=1;H.oZ(M,X,J.S);X+=16};f1.aou=function(M,X,J){var q=X[J];M.kx=(q>>0&1)==0;
M.isEnabled=(q>>1&1)==0;M.qO=(q>>3&1)==1;return q>>4&1};f1.awi=function(M,X,J,q){var W=0;if(!M.kx)W+=1<<0;
if(!M.isEnabled)W+=1<<1;if(M.qO)W+=1<<3;if(q)W+=1<<4;H._r(X,J,W)};f1.anp=function(M,X,J,q){var W=q?H.UQ:H.Z3,T=W(X,J);
J+=4;for(var $=0;$<T;$++)M.NQ[$]=X[J+$];return J+T};f1.aE8=function(M,X,J){H.Ou(X,J,M.NQ.length);J+=4;
X.q0(J,40);for(var $=0;$<40;$++){X.data[J+$]=M.NQ[$]}return J+40};function bf(){}bf.Ah=function(M,X,J,q,W){q=bf.ajf(M,X,J,q,W);
return q};bf.Aw=function(M,X,J,q,W,T,_){q=bf.a74(M,X,J,q,W,T,_);return q};bf.ajf=function(M,X,J,q,W){var T=X.s6,_=M.I4,m={},d=q;
for(var $=0;$<_.length;$++){var A=_[$],p=A.id,a=A.length,f;if(p==-2&&M.JS==null)p=-1;if(p==-3)f=M.i4.S;
else if(p==-2)f=M.JS.S;else f=M.S;var s=bf.wx(X.bt,X.vY,J,f.r,f.$,q,a,W);s=t.cY(s,X.depth);q+=a;if(p==-3)M.i4.N=s;
else if(p==-2)M.JS.N=s;else m["c"+p]=s}var j=new t.Uy(0);j.Jm=null;if(T==3){j.z=m.c0;j.L=m.c1;j.g=m.c2;
j.Jm=m["c-1"]}else if(T==1){j.z=m.c0;j.L=m.c0;j.g=m.c0;j.Jm=m["c-1"]}else if(T==4){var Y=X.YG.r1039,G=null,Q=m.c0,Z=m.c1,g=m.c2,S=m.c3;
if(Y){var G=Y.aa0,U=17;if(G==null){var B=ICC.R(Y.buffer);if(B.header.spaceIn=="RGB "){}else G=Y.aa0=ICC.U.sampleLUT(B,U)}}if(G){var e={z:Q,L:Z,g:g,Jm:S},P=t.j(Q.length*4,X.depth);
t.Uq(e,P);t.vN(P);ICC.U.applyLUT4(G,U,P,P);t.Qf(P,e)}else{for(var $=0;$<Q.length;$++){var h=1-Q[$]*(1/255),V=1-Z[$]*(1/255),I=1-g[$]*(1/255),F=1-S[$]*(1/255),c=t.RP([h,V,I,F]);
Q[$]=Math.floor(.5+c[0]*255);Z[$]=Math.floor(.5+c[1]*255);g[$]=Math.floor(.5+c[2]*255)}}j.z=Q;j.L=Z;
j.g=g;j.Jm=m["c-1"]}if(j.z==null)j.z=t.j(0);if(j.Jm==null&&j.z!=null){j.Jm=j.z.slice(0);j.Jm.fill(t.P0(t.qP(j.Jm)))}if(j.L==null)j.L=j.z.slice(0);
if(j.g==null)j.g=j.z.slice(0);M.buffer=t.j(Math.max(0,M.S.o()*4),X.depth);t.Uq(j,M.buffer);return q};
bf.a74=function(M,X,J,q,W,T,_){var m=X.ax7(_),d=X.buffer,A=null,p=t.qP(d),a=t.j(X.S.o(),p);if(_){A=t.j(X.S.o(),p);
t.SF(d,A,3);d=d.slice(0);t.ayO(d)}for(var $=0;$<m.length;$++){var f=m[$],s;if(f==-3)s=X.i4.S;else if(f==-2)s=X.JS.S;
else s=X.S;var j=a;if(f==-3)j=X.i4.N;if(f==-2)j=X.JS.N;if(f==-1){if(A)j=A;else t.SF(d,a,3)}if(f==0)t.SF(d,a,0);
if(f==1)t.SF(d,a,1);if(f==2)t.SF(d,a,2);if(f==3)t.SF(d,a,3);J.q0(q,s.o()*3+4);var Y=q;q=bf.Nl(M,j,J.data,s.r,s.$,q,p!=8||T[1]?3:1);
var G=q-Y;if(M)H.aAy(J.data,W+$*10+2,G);else H.R2(J.data,W+$*6+2,G)}return q};bf.wx=function(M,X,J,q,W,T,_,m){var d=m?H.Fn:H.uC,A=d(J,T);
T+=2;var p=bf.BB(M,X,J,q,W,T,A,_-2,m);return p};bf.Nl=function(M,X,J,q,W,T,_){H.Ym(J,T,_);T+=2;T=bf.Oh(M,X,J,q,W,T,_);
return T};bf.BB=function(M,X,J,q,W,T,_,m,d){var A,p=q*W*(X>>>3),a=p&3,f=p+(a==0?0:4-a);if(m<=0){return t.j(f,X)}if(_==0){A=t.j(p);
A.set(new Uint8Array(J.buffer,T,p));if(X==16)for(var $=0;$<p;$+=2){var s=A[$];A[$]=A[$+1];A[$+1]=s}if(X==32)for(var $=0;
$<p;$+=4){var s=A[$];A[$]=A[$+3];A[$+3]=s;s=A[$+1];A[$+1]=A[$+2];A[$+2]=s}T+=p}else if(_==1){A=t.j(p);
var j=M?4:2,Y=bf.av6(J,A,q,W,T,T+j*W,j,d);T+=j*W+Y}else if(_==2||_==3){var G=new Uint8Array(J.buffer,T+2,m-6),Q=t.j(f);
UZIP.inflateRaw(G,Q);if(_==3){if(X==8)for(var Z=0;Z<W;Z++){var g=Z*q+1,S=g+q-1,U=Q[g-1];for(var B=g;
B<S;B++){U+=Q[B];Q[B]=U&255}}else if(X==16)for(var Z=0;Z<W;Z++){var g=Z*q,S=g+q,U=0;for(var B=g;B<S;
B++){var e=B<<1;U+=Q[e]<<8|Q[e+1];Q[e]=U&255;Q[e+1]=U>>>8}}else{var P=q,h=Q.slice(0,P*4);for(var Z=0;
Z<W;Z++){var g=Z*P*4+1,S=g+P*4-1,U=Q[g-1];for(var B=g;B<S;B++){U+=Q[B];Q[B]=U&255}var V=Z*P*4;for(var B=0;
B<P;B++){h[4*B+3]=Q[V+B];h[4*B+2]=Q[V+P+B];h[4*B+1]=Q[V+P+P+B];h[4*B]=Q[V+P+P+P+B]}Q.set(h,V)}}}if(Q.length==f)A=Q;
else{A=t.j(f);for(var $=0;$<Q.length;$++)A[$]=Q[$]}}else A=t.j(f);if(X==16)A=new Uint16Array(A.buffer);
if(X==32)A=new Float32Array(A.buffer);return A};bf.Oh=function(M,X,J,q,W,T,_){var m=q*W,d=t.qP(X);if(d!=8)X=new Uint8Array(X.buffer);
var A=X;if(_==0)for(var $=0;$<m;$++)J[T++]=A[$];else if(_==1){var p=M?4:2,a=bf.a9h(A,J,q,W,T,T+p*W,p);
T+=p*W+a}else if(_==2||_==3){function f(h,$){return h[$+1]<<8|h[$]}if(_==3){if(d==8)for(var s=0;s<W;
s++){var j=s*q,Y=j+q;for(var G=Y-1;G>j;G--)A[G]=A[G]-A[G-1]+256&255}else if(d==16)for(var s=0;s<W;s++){var j=s*q,Y=j+q;
for(var G=Y-1;G>j;G--){var Q=G<<1,Z=f(A,Q)-f(A,Q-2)+65536&65535;A[Q]=Z>>>8;A[Q+1]=Z&255}var g=A[j*2];
A[j*2]=A[j*2+1];A[j*2+1]=g}else if(d==32){var S=q,U=A.slice(0,S*4);for(var s=0;s<W;s++){var B=s*S*4;
for(var G=0;G<S;G++){var e=B+4*G;U[G]=A[e+3];U[S+G]=A[e+2];U[S+S+G]=A[e+1];U[S+S+S+G]=A[e]}for(var G=S*4-1;
G>0;G--)U[G]=U[G]-U[G-1]+256&255;A.set(U,B)}}}J[T]=120;J[T+1]=156;T+=2;var P=pako.deflateRaw(A,{akr:4});
J.set(P,T);T+=P.length+4}else console.log("Unknown compression: "+_);return T};bf.av6=function(M,X,J,q,W,T,_,m){if(!(M instanceof Uint8Array)||!(X instanceof Uint8Array))throw"e";
var d=T,A=q|0;if(m){if(_==2)for(var $=0;$<A;$++){var p=H.Fn(M,W+($<<1));bf.XY(M,T,p,X,$*J,J);T+=p}else for(var $=0;
$<A;$++){var p=H.UQ(M,W+($<<2));bf.XY(M,T,p,X,$*J,J);T+=p}}else{if(_==2)for(var $=0;$<A;$++){var p=H.uC(M,W+($<<1));
bf.XY(M,T,p,X,$*J,J);T+=p}else for(var $=0;$<A;$++){var p=H.Z3(M,W+($<<2));bf.XY(M,T,p,X,$*J,J);T+=p}}return T-d};
bf.a9h=function(M,X,J,q,W,T,_){var m=T;if(_==2)for(var $=0;$<q;$++){var d=bf.arH(M,$*J,J,X,T);H.cB(X,W+$*2,d);
T+=d}else for(var $=0;$<q;$++){var d=bf.arH(M,$*J,J,X,T);H.R2(X,W+$*4,d);T+=d}return T-m};bf.arH=function(M,X,jX,J,q){var W,T,_,m,d,i3,A;
m=X+jX;for(_=X,T=q;jX>0;_=W,jX-=i3){A=jX<128?jX:128;if(_<=m-3&&M[_+1]==M[_+0]&&M[_+2]==M[_+0]){for(W=_+3;
W<_+A&&M[W]==M[_+0];)++W;i3=W-_;J[T++]=1+256-i3;J[T++]=M[_+0]}else{for(W=_;W<_+A;)if(W<=m-3&&M[W+1]==M[W+0]&&M[W+2]==M[W+0])break;
else++W;i3=W-_;J[T++]=i3-1;for(var $=0;$<i3;$++)J[T+$]=M[_+$];T+=i3}}return T-q};bf.XY=function(M,X,J,q,W,T){for(var _=0;
_<J;){var jX=M[X++];if(jX>=128){var m=M[X++],d=W+(257-jX);q.fill(m,W,d);W=d;_+=2}else{for(var $=0;$<=jX;
$++)q[W+$]=M[X+$];X+=jX+1;W+=jX+1;_+=1+1+jX}}};function bB(){}bB.cM=function(M,X,J){return;var q="",W=X;
while(W!=0){var T=W%1e3+"";while(T.length<3)T="0"+T;q=(q==""?T:T+" ")+q;W=Math.floor(W/1e3)}while(q.startsWith("0")&&q!="0")q=q.slice(1);
while(q.length<11)q=" "+q;console.log("===",q,"\t".repeat(M),": "+J)};bB.a7K=function(M){var X={YG:{},add:{},depth:8},q=0,W=0,m;
X.bt=!1;X.vY=8;var J=new Uint8Array(M);W=bB.Rf(X,J,q);q=W;W=bB.aDS(X,J,q);q=W;var T=H.Z3(J,q);q+=4+T;
var _=X.bt?8:4;if(X.bt)m=H.L$(J,q);else m=H.Z3(J,q);q+=_+m;W=bB.anO(X,J,q);return[{kq:new gc(0,0,X.r,X.$),data:X.buffer.buffer}]};
bB.Ah=function(M,X){X.bt=!1;var J=new Uint8Array(M),q=0,W=0,m=0,y,ge,h2=null,cj=!1,bb=!0,c0=!1,cV=0,id=0;
W=bB.Rf(X,J,q);bB.cM(0,W-q,"PSD Header");q=W;W=bB.aDS(X,J,q);bB.cM(0,W-q,"Color Mode Data");q=W;W=bB.adG(X,J,q);
bB.cM(0,W-q,"Image Resources");q=W;var T=q;W=bB.an4(X,J,q);bB.cM(0,W-q,"Layer And Mask Info");q=W;var T=q;
W=bB.anO(X,J,q);bB.cM(0,W-q,"Merged Image");q=W;if(X.U.length==0){var _=X.C0();_.EC("Background");X.U.push(_);
_.buffer=X.buffer.slice(0);_.S=new gc(0,0,X.r,X.$)}for(var $=0;$<X.U.length;$++){var W=X.U[$],d=W.add.lsct;
if(d==gO.Vd)m++;else if(d==gO.A$||d==gO.dw)m--}while(m<0){X.U.unshift(X.mm());m++}if(X.YG.r1005){X.Qv=H.By(X.YG.r1005,0)}if(X.YG.r1026){var J=X.YG.r1026;
for(var $=0;$<J.length;$+=2){var W=X.U[$>>>1];if(W)W.pZ=H.uC(J,$)}}if(X.YG.r1072){var J=X.YG.r1072;for(var $=0;
$<J.length;$++){var W=X.U[$];if(W)W.ed=J[$]==1}}if(X.YG.r1032){X.aZ=bB.aAK(X.YG.r1032,0)}delete X.YG.r1036;
X.vR(X.YG.r1039);if(X.YG.r1050){var A=H.Z3,p=X.YG.r1050,a=H.Z3(p,0);if(a==6){var f=4,s=H.Y$(p,f);f+=16;
var j=H.iA(p,f);f+=4+j.length*2;var Y=A(p,f);f+=4;var G=X.YY;for(var $=0;$<Y;$++){var Q=o.OZ.$t(),g;
G.push(Q);Q=Q.v;Q.sliceID.v=A(p,f);f+=4;Q.groupID.v=A(p,f);f+=4;var Z=A(p,f);f+=4;if(Z==1){g=A(p,f);
f+=4}var j=H.iA(p,f);f+=4+j.length*2;var S=A(p,f);f+=4;var U=[A(p,f),A(p,f+4),A(p,f+8),A(p,f+12)];f+=16;
o.OZ.Wf(G,G.length-1,U);var B=Q.url.v=H.iA(p,f);f+=4+B.length*2;var e=Q.null.v=H.iA(p,f);f+=4+e.length*2;
var P=Q.Msge.v=H.iA(p,f);f+=4+P.length*2;var h=Q.altTag.v=H.iA(p,f);f+=4+h.length*2;Q.cellTextIsHTML.v=p[f]==1;
f++;var V=Q.cellText.v=H.iA(p,f);f+=4+V.length*2;var I=A(p,f);f+=4;var F=A(p,f);f+=4;var c=p.slice(f,f+4);
f+=4;if(Z!=2)G.pop()}}else if(a==8){var D={},n=new gc(0,0,X.r,X.$);dH.rK(p,D,8,!1);var p=X.YY=D.slices.v;
for(var $=0;$<p.length;$++){var k=o.OZ.f9(p,$),b=new gc(k[0],k[1],k[2]-k[0],k[3]-k[1]);if(p[$].v.origin.v.ESliceOrigin!="userGenerated"||b.Lg(n).M5()){p.splice($,1);
$--}}}}if(X.YG.r1058){var N=X.YG.r1058,L=UTIF.decode(N.buffer,{parseMN:!1,debug:!1});kY.WZ(L[0],X.eJ);
delete X.YG.r1058}if(X.YG.r1060){var R=H.Og(X.YG.r1060);kY.M$(R,X.eJ);delete X.YG.r1060}if(X.YG.r1065){var J=X.YG.r1065;
X.ZU={};dH.rK(J,X.ZU,4,!1)}if(X.YG.r1069){var J=X.YG.r1069,i=[];for(var $=2;$<J.length;$+=4){var g=H.Z3(J,$);
for(var v=0;v<X.U.length;v++){var W=X.U[v];if(W.add.lyid==g&&W.add.lsct!=3&&i.indexOf(v)==-1)i.push(v)}}X.O=i}if(X.YG.r1073){var J=X.YG.r1073,f=0,E=H.Pp(J,f);
f+=4;var u=H.Pp(J,f);f+=4;for(var $=0;$<u;$++){X.O2.push({y:E>=2?H.Ot(J,f+2):H.By(J,f+2),x:E>=2?H.Ot(J,f+6):H.By(J,f+6)});
f+=14}delete X.YG.r1073}if(X.YG.r1074){X.jk={};dH.rK(X.YG.r1074,X.jk,4,!1);delete X.YG.r1074}if(X.YG.r1025){var C=X.YG.r1025;
delete X.YG.r1025;var l=iv.Q7(C,0,C.length,X.r,X.$),x=new K.JL;x.X=l;X.Qt[0]=dD.Sp("Work Path",{vmsk:x})}if(X.YG.r3000){y={};
dH.rK(X.YG.r3000,y,4,!1);delete X.YG.r3000}if(X.add.pths){ge=X.add.pths;delete X.add.pths}for(var O=0;
O<=997;O++){var kz="r"+(2e3+O),C=X.YG[kz];if(C==null)break;var l=iv.Q7(C,0,C.length,X.r,X.$),z="Path "+O,eZ=[0,0];
if(ge){var kM=ge.pathList.v[O].v,jV=kM.pathSymmetryClass;if(jV){jV=jV.v;var cL=jV.pathSymmetryMode.v.pathSymmetryModeEnum.slice(16),Y=jV.pathSymmetryCount;
eZ=[t.iJ.aCT.indexOf(cL),Y?Y.v:0]}z=kM.pathUnicodeName.v}var aw=y?y.keyRootDescriptorList.v[O].v.keyDescriptorList.v:K.hg(l),x=new K.JL;
x.X=l;X.Qt.push(dD.Sp(z,{vmsk:x,vogk:aw},eZ));delete X.YG[kz]}if(ge){var ea=ge.pathSymmetrySelectedPath;
if(ea)h2=X.Qt[ea.v+1]}for(var $=0;$<X.Qt.length;$++)if(X.Qt[$].D_[0]==3){X.Qt.splice($,1);$--}if(h2){if(h2.D_[0]==3)X.RM=!0;
else X.n4=X.Qt.indexOf(h2)}delete X.bt;if(X.YG.r4000){X.Xk=t.Xk.Ah(X.YG.r4000)}var ht=X.YG.r7000,jn=X.YG.r7001;
if(ht){var gE=H.Og(ht);X.ty=bB.aaw(gE)}if(jn){var gE=H.Og(jn);X.a1=bB.akV(gE)}delete X.YG.r7000;delete X.YG.r7001;
var n=new gc(0,0,X.r,X.$),bS=X.add.Txt2,bi=bS;if(bi){bi=bi.IG;if(bi._DocumentResources==null)bi=aK.auA(bi)}var g_=-1;
for(var $=0;$<X.U.length;$++){var W=X.U[$],hx=W.add.lsct,au=W.add.vmsk,kP=W.hM();if(hx==gO.Vd){cV++;
W.add.lspf=0}else if(hx==gO.A$||hx==gO.dw)cV--;if(W.name==""){W.name="Layer "+($+1);c0=!0}if(c0&&W.nA()&&W.Sw=="norm")W.Sw="pass";
if(W.mT()&&W.uV(X)==null)delete W.add.SoLd;if(W.mT()&&W.uV(X).JS){var iK=W.uV(X);iK.JS.isEnabled=W.add.SoLd.filterFX.v.filterMaskEnable.v}if(au&&W.eQ()){var b3=kf.XZ.IH(!0);
if(W.add.vstk==null)W.add.vstk=t.b(b3);else{var fs="strokeStyleLineDashSet";if(W.add.vstk[fs]==null)W.add.vstk[fs]=t.b(b3[fs])}W.add.vstk.strokeStyleLineWidth.v.type="#Pxl";
W.add.vstk.strokeStyleResolution.v=X.Qv}if(au&&(W.add.vogk==null||t.I.Qa(au.X)!=W.add.vogk.length))W.hg();
if(!1){var ch=W.add.vogk,hv=!0;for(var g6=0;g6<ch.length;g6++){var ef=ch[g6].v.keyShapeInvalidated;if(ef==null||ef.v==!1)hv=!1}if(hv)W.hg()}if(W.add.SoLd&&W.S.M5()){console.log("redrawing smart instance");
W.el(X,null,null,!0,!0)}if(kP==null&&W.JS!=null){if(W.JS.qO==!1){W.JS.qO=!0;W.i4=W.JS.Q()}}kP=W.hM();
if(W.MO){var b3=W.MO,x=au;if(kP){kP.Fw=b3[0];kP.VU=b3[1]}if(x){x.Fw=b3[2];x.VU=b3[3]}W.MO=null}if(kP!=null&&au!=null&&(kP.VU+au.VU!=0||kP.Fw+au.Fw!=2*255))W.j$(X);
else if(au!=null&&!W.eQ())W.j$(X);else if(kP&&kP.Fw!=255&&W.eQ())W.j$(X);var fN=W.add.artb;if(fN&&fN.artboardBackgroundType==null)fN.artboardBackgroundType={t:"long",v:1};
if(fN&&cV!=0)delete W.add.artb;var kb=W.add.vstk;if(W.eQ()&&(W.S.M5()||au&&au.VU!=0||kb&&!kb.fillEnabled.v&&(!kb.strokeEnabled.v||kb.strokeStyleLineWidth.v.val==0)))W.xT(X);
if(W.add.TySh){cj=!0;if(!W.S.M5())bb=!1}if(W.add.TySh&&bi){g_++;var cn=W.add.TySh.Zj,dF=f5.jA(cn),et=bi._DocumentObjects._TextObjects;
if(et.length<=g_){console.log("Txt2 incomplete");continue}var bh=et[g_]._Model,dY=bh._StyleRun?bh._StyleRun._RunArray:[],jM=cn.EngineDict.StyleRun.RunArray;
for(var bz=0;bz<jM.length;bz++){var hh=jM[bz].StyleSheet.StyleSheetData;if(dY[bz]==null)continue;var dM=dY[bz]._RunData._StyleSheet._Features;
if(dM){if(dM._BaselineDirection)hh.BaselineDirection=parseInt(dM._BaselineDirection.slice(1));if(dM._FillBackgroundFlag)hh._FillBackgroundFlag=dM._FillBackgroundFlag;
if(dM._FillBackgroundColor)hh._FillBackgroundColor={Type:1,Values:he.DN(dM._FillBackgroundColor._Color._Values)};
var d=f5.QI;for(var v=0;v<d.length;v++)if(dM[d[v]]!=null)hh[d[v]]=dM[d[v]];var iX=["_LineCap","_LineJoin","_MiterLimit","_LineDashOffset"];
for(var v=0;v<iX.length;v++)if(dM[iX[v]]!=null)hh[iX[v]]=parseFloat(dM[iX[v]].slice(1));if(dM._MiterLimit!=null)hh._MiterLimit=Math.max(hh._MiterLimit,1);
if(dM._LineDashArray!=null)hh._LineDashArray=he.DN(dM._LineDashArray)}}var aW=cn.EngineDict.ParagraphRun.RunArray,eC=bh._ParagraphRun._RunArray;
if(eC==null)eC=[];var dh=Math.min(eC.length,aW.length);for(var v=0;v<dh;v++){var ff=aW[v].ParagraphSheet.Properties,fE=bi._DocumentResources._ParagraphSheetSet._Resources,dX=eC[v]._RunData._ParagraphSheet;
if(typeof dX=="string")dX=fE[parseInt(dX.slice(1))]._Resource;var i2=dX._Parent==null?dX:fE[parseInt(dX._Parent.slice(1))]._Resource;
dX=dX._Features;i2=i2._Features;var ew=dX._ParagraphDirection;if(ew==null)ew=i2._ParagraphDirection;
if(ew)ff._Direction=parseInt(ew.slice(1));if(dX._ComposerEngine)ff._ComposerEngine=parseInt(dX._ComposerEngine.slice(1))}if(bh._AlternateGlyphRun){var eC=bh._AlternateGlyphRun._RunArray,dh=eC.length,hW=cn.EngineDict.AlternateGlyphRun=f5.aFC();
for(var v=0;v<dh;v++){var dX=eC[v],jt={},h3=dX._RunData._AlternateGlyphSheet;if(h3)jt.Glyph=parseInt(h3._Glyph.slice(1));
hW.RunArray.push(jt);hW.RunLengthArray.push(parseInt(dX._Length.slice(1)))}}var dl=bi._DocumentResources,ba=dl._TextFrameSet._Resources,b_=ba[g_]._Resource,f8=b_._Data,ak=new kp(1,0,0,1,0,0);
if(b_._0){var jk=parseFloat(b_._0[0].slice(1)),k2=parseFloat(b_._0[1].slice(1));ak.translate(jk,k2)}if(dF){ak.translate(dF[0],dF[1]);
f5.Tf(cn,[0,0,dF[2]-dF[0],dF[3]-dF[1]])}else{if(b_._Bezier&&b_._Bezier._Points){var l=b_._Bezier._Points,jk=parseFloat(l[0].slice(1)),k2=parseFloat(l[1].slice(1));
if(jk!=0||k2!=0){ak.translate(jk,k2)}}}if(b_._Data&&b_._Data._FrameMatrix){var gm=b_._Data._FrameMatrix;
gm=gm.map(function(ej){return parseFloat(ej.slice(1))});ak.concat(new kp(gm[0],gm[1],gm[2],gm[3],gm[4],gm[5]))}ak.concat(W.add.TySh.u);
W.add.TySh.u=ak;var S=f8._Type?parseInt(f8._Type.slice(1)):0;if(S==2||S==1&&f8._PathData&&f8._PathData._Spacing=="i-3")if(b_._Bezier){var cu=function(ej){return parseFloat(ej.slice(1))},l=b_._Bezier._Points.map(cu);
if(dF)t.G.u(l,new kp(1,0,0,1,-dF[0],-dF[1]),l);var ek=f8._PathData?f8._PathData._Reversed:!1,i_=f8._TextOnPathTRange;
if(i_==null)i_=["f-3","f-3"];cn.Curve={Points:l,TextOnPathTRange:i_.map(cu),Reversed:ek==null?!1:ek};
W.add.TySh.add={vmsk:new K.JL,vogk:null};f5.GT(W.add.TySh)}if(f8._LineOrientation=="i2")cn._LineOrientation=2}}o.on.eh(X,!0);
var iP={},i1=[];for(var $=0;$<X.U.length;$++){var f0=X.U[$].add.lyid;if(f0==null)continue;var id=Math.max(id,f0);
if(iP[f0]!=null)i1.push($);else iP[f0]=!0}for(var $=0;$<i1.length;$++)X.U[i1[$]].add.lyid=id+1+$};bB.aAK=function(M,X){X+=12;
var J=H.Z3(M,X),q=[];X+=4;J=Math.min(J,Math.floor((M.length-X)/5));for(var $=0;$<J;$++){var W=Math.min(M[X+$*5+4],1),T=H.Pp(M,X+$*5)/32;
q.push([W,T])}return q};bB.aaw=function(M){var X=new DOMParser,J=X.parseFromString(M,"text/xml").firstChild.children[0],q=J.getElementsByTagName("variables");
if(q.length==0)return[];q=q[0].children;var W=[],T="varName trait docRef placementMethod align valign clip".split(" ");
for(var _=0;_<q.length;_++){var m=q[_],d={};W.push(d);for(var A=0;A<T.length;A++){var p=T[A],a=m.getAttribute(p);
if(a==null)continue;d[p]=a}}return W};bB.akV=function(M){var X=new DOMParser,J=X.parseFromString(M,"text/xml").firstChild.children,q=[[]];
if(J==null)return q;for(var $=0;$<J.length;$++){var W=J[$],T=[];q.push(T);for(var _=0;_<W.children.length;
_++){var m=W.children[_];if($==0)q[0].push(m.tagName);T.push(m.textContent)}}return q};bB.yo=function(M,X,J){o.on.OK(M);
o.on.eh(M,!1);M.bt=J[3]==!0;var q=[],W=[],G=0,Z=1,j=16,gE=0;for(var $=0;$<M.U.length;$++){var T=M.U[$];
if(T.mT()&&T.uV(M).JS){T.add.SoLd.filterFX.v.filterMaskEnable.v=T.uV(M).JS.isEnabled}if(T.add.TySh){var _=T.add.TySh.Zj,m=f5.mj(_);
T.add.TySh.PX.TextIndex={t:"long",v:q.length};q.push(_);if(m==2)f5.xV(T.add.TySh)}var d=T.add.vstk;if(d)d.strokeStyleResolution.v=M.Qv;
if(T.eQ()||J[2]&&T.add.SoLd){W[$]=[T.S,T.buffer];T.S=new gc;T.buffer=t.j(0);if(T.add.SoLd){var A=T.uV(M);
if(A!=null){W[$].push(A.buffer);A.buffer=t.j(A.buffer.length)}}}}if(q.length>0){var p=M.add.Txt2?M.add.Txt2.IG:null;
if(M.add.Txt2==null)M.add.Txt2={};M.add.Txt2.IG=he.a1b(q,null,p)}var a=[M.add.lnk2,M.add.FEid,M.add.Patt],f=M.a0U(M.U);
M.ayg(f);M.YG.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);H.aCa(M.YG.r1005,0,M.Qv);H.aCa(M.YG.r1005,8,M.Qv);
if(M.O2.length>0){var s=M.O2;M.YG.r1073=new Uint8Array(8+s.length*14);H.Uv(M.YG.r1073,0,3);H.Uv(M.YG.r1073,4,s.length);
for(var $=0;$<s.length;$++){var j=8+14*$;H.Ym(M.YG.r1073,j,14);H.sp(M.YG.r1073,j+2,s[$].y);H.sp(M.YG.r1073,j+6,s[$].x);
H.Ym(M.YG.r1073,j+10,-1);H.Ym(M.YG.r1073,j+12,8)}}if(M.p1()){M.YG.r1022=new Uint8Array([0,3+M.OD.length-1,0])}else delete M.YG.r1022;
var Y=new Uint8Array(M.U.length*2),Q=new Uint8Array(M.U.length);for(var $=0;$<M.U.length;$++){var T=M.U[$],g=T.pZ,S=T.ed?1:0;
H.cB(Y,$*2,g);Q[$]=S;if(g>G)G=g;if(S==0)Z=0}if(G>0)M.YG.r1026=Y;if(Z<1)M.YG.r1072=Q;var U=M.aZ,B=U.length,e=M.YG.r1032=new Uint8Array(16+5*B);
H.R2(e,0,1);H.R2(e,4,576);H.R2(e,8,576);H.R2(e,12,B);for(var $=0;$<B;$++){H.Uv(e,j,Math.round(U[$][1]*32));
e[j+4]=U[$][0];j+=5}if(J[4]!=!0){var P=[M.m7(),new gc(0,0,M.r,M.$)],h=0;t.uW(P);while(P[h+1].o()>200*200)h+=2;
var V=h1.mr("jpg"),I=P[h+1],F=new Uint8Array(V.iL([[P[h].buffer,null,M.Qv]],I.r,I.$)),e=M.YG.r1036=new Uint8Array(28+F.length);
H.R2(e,0,1);H.R2(e,4,I.r);H.R2(e,8,I.$);H.R2(e,12,I.r*3);H.R2(e,16,I.o()*3);H.R2(e,20,F.length);H.cB(e,24,24);
H.cB(e,26,1);e.set(F,28)}var c=t.CH(M.buffer);if(M.add.fcmy)c=!1;var D=[];if(c)D.push({name:"Transparency",t9:{z:255,L:0,g:0},N6:100,Dv:1});
D=D.concat(M.OD);delete M.YG.r1045;delete M.YG.r1006;delete M.YG.r1077;var n=new bJ;j=0;var k=new Uint8Array(4+D.length*13);
k[3]=1;for(var $=0;$<D.length;$++){var b=D[$],N=b.name+"\0";H.yt(n,j,N);j+=4+N.length*2;var L=4+$*13;
hu.Yk(k,L,b.t9);k[L+11]=b.N6;k[L+12]=b.Dv}if(j!=0)M.YG.r1045=n.data.slice(0,j);M.YG.r1077=k;for(var $=0;
$<M.YY.length;$++)M.YY[M.YY.length-$-1].v.sliceID.v=2+$*3;var R={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:M.YY}},n=new bJ;
H.Ou(n,0,8);H.Ou(n,4,16);var i=dH.nw(n,R,8);M.YG.r1050=n.data.slice(0,i+8);var n=new bJ;H.Ou(n,0,16);
var i=dH.nw(n,M.ZU,4);M.YG.r1065=n.data.slice(0,i+4);if(M.jk){var n=new bJ;H.Ou(n,0,16);var i=dH.nw(n,M.jk,4);
M.YG.r1074=n.data.slice(0,i+4)}var v=M.O;e=M.YG.r1069=new Uint8Array(2+v.length*4);H.cB(e,0,v.length);
for(var $=0;$<v.length;$++)H.R2(e,2+4*$,M.U[v[$]].add.lyid);delete M.YG.r1058;delete M.YG.r1060;if(Object.keys(M.eJ).length!=0){var E=[[Math.round(M.Qv*1e4),1e4]],u=[{t274:[1],t282:E,t283:E,t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
kY.t8(M.eJ,u[0],J[0]&&J[1]);M.YG.r1058=new Uint8Array(UTIF.encode(u));var C=kY.mS(M.eJ);M.YG.r1060=H.y4(C)}var l=[],x=[],y=M.Qt.slice(0);
if(M.RM){var ge=iv.acZ([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),O=new K.JL;
O.X=ge;y.push(dD.Sp("Tile Symmetry 1",{vmsk:O,vogk:K.hg(ge)},[3,1]))}var kz=M.RM?M.Qt.length-1:M.n4-1;
for(var $=0;$<y.length;$++){var z=y[$],ge=z.add.vmsk.X;if($==0&&ge.length==2)continue;var eZ=t.j(ge.length*26);
iv.QY(eZ,0,ge,M.r,M.$);var kM=$==0?1025:2e3+$-1;M.YG["r"+kM]=eZ;if($!=0){var jV={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:z.name}},cL=jV.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryMode"+t.iJ.aCT[z.D_[0]]}}}};
if(z.D_[1]!=0)cL.v.pathSymmetryCount={t:"long",v:z.D_[1]};l.push({t:"Objc",v:jV});x.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:z.add.vogk}}})}}if(l.length!=0){M.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:l}};
if(kz!=-1)M.add.pths.pathSymmetrySelectedPath={t:"long",v:kz};x={classID:"null",keyRootDescriptorList:{t:"VlLs",v:x}};
var n=new bJ;H.Ou(n,0,16);var i=dH.nw(n,x,4);M.YG.r3000=n.data.slice(0,i+4)}else{delete M.add.pths;delete M.YG.r3000}if(M.Xk&&M.Xk.length!=0){M.YG.r4000=t.Xk.yo(M.Xk)}if(M.ty.length!=0){var aw="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var $=0;$<M.ty.length;$++){var h2=M.ty[$],ea=[];for(var kM in h2)ea.push(kM+"=\""+h2[kM]+"\"");aw+="<variable "+ea.join(" ")+">\n</variable>\n"}aw+="</variables>\n</variableSet>\n</variableSets>";
M.YG.r7000=H.y4(aw)}if(M.a1.length!=0){var aw="<sampleDataSets psdPath=\""+M.name+"\">\n";for(var $=1;
$<M.a1.length;$++){var ht=M.a1[$];aw+="<sampleDataSet dataSetName=\"Data Set "+$+"\">\n";for(var jn=0;
jn<ht.length;jn++)aw+="<"+M.a1[0][jn]+">"+ht[jn].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+M.a1[0][jn]+">\n";
aw+="</sampleDataSet>\n"}aw+="</sampleDataSets>";M.YG.r7001=H.y4(aw)}gE=bB.ax_(M,X,gE,3+D.length);gE=bB.al2(M,X,gE);
gE=bB.axP(M,X,gE);gE=bB.aiz(M,X,gE,J,c);gE=bB.amz(M,X,gE,J[0],c);var bS=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var $=0;$<bS.length;$++)delete M.YG["r"+bS[$]];for(var $=0;$<M.U.length;$++){var T=M.U[$];if(T.eQ()||J[2]&&T.add.SoLd){T.S=W[$][0];
T.buffer=W[$][1];if(W[$][2]){var A=T.uV(M);W[$].push(A.buffer);A.buffer=W[$][2]}}}M.ayg(a);o.on.eh(M,!0);
delete M.bt;return gE};bB.Rf=function(M,X,J){var q=H.zb(X,J,4);J+=4;if(q!="8BPS")alert("invalid header signature: "+q);
var W=H.uC(X,J);J+=2;M.bt=W==2;if(W!=1&&W!=2)alert("invalid version: "+W);J+=6;M.bF=H.uC(X,J);J+=2;M.$=H.Pp(X,J);
J+=4;M.r=H.Pp(X,J);J+=4;M.vY=H.uC(X,J);if(iW)M.depth=M.vY;J+=2;M.s6=H.uC(X,J);J+=2;return J};bB.ax_=function(M,X,J,q){var W=M.add.fcmy==1;
X.q0(0,64);H.WB(X.data,J,"8BPS");J+=4;H.cB(X.data,J,M.bt?2:1);J+=2;H.R2(X.data,J,0);J+=4;H.cB(X.data,J,0);
J+=2;H.cB(X.data,J,q+(W?1:0));J+=2;H.Uv(X.data,J,M.$);J+=4;H.Uv(X.data,J,M.r);J+=4;H.cB(X.data,J,M.depth);
J+=2;H.cB(X.data,J,W?4:3);J+=2;return J};bB.aDS=function(M,X,J){var q=H.Pp(X,J);J+=4;if(q!=0)M.dh=X.slice(J,J+q);
J+=q;return J};bB.al2=function(M,X,J){if(M.depth==32){var q=new Uint8Array([104,100,114,116,0,0,0,3,62,107,133,31,0,0,0,2,0,0,0,7,0,76,0,105,0,110,0,101,0,97,0,114,0,0,0,2,0,2,0,0,0,0,0,255,0,255,1,1,0,0,0,0,0,0,0,0,65,128,0,0,0,0,0,1,0,0,0,0,63,128,0,0,104,100,114,97,0,0,0,6,0,0,0,0,65,160,0,0,65,240,0,0,0,0,0,0,0,0,0,0,63,128,0,0,0,0,0,0,0,0]);
H.YD(X,J,q.length);J+=4;X.q0(J,q.length);X.data.set(q,J);J+=q.length}else{H.YD(X,J,0);J+=4}return J};
bB.adG=function(M,X,J){var q=H.Z3(X,J),W=0;J+=4;var T=[];while(W<q){var _=H.zb(X,J+W,4);W+=4;var m=H.uC(X,J+W);
W+=2;var d=H.TJ(X,J+W);W+=d.length;if(_=="MeSa"&&(m==7e3||m==7001)){}else if(_!="8BIM"){T.push(m);console.log("Unknown Image Resources signature: "+_+", ID: "+m)}var A=H.Z3(X,J+W);
W+=4;if(M.YG["r"+m]!=null)console.log("--- two resources with same ID");M.YG["r"+m]=H.gy(X,J+W,A);W+=A+(A&1)}for(var $=0;
$<T.length;$++)delete M.YG["r"+T[$]];delete M.YG.r1092;return J+q};bB.axP=function(M,X,J){var q=J,_=0;
J+=4;var W=[];for(var T in M.YG){W.push(parseInt(T.slice(1)))}W.sort(function(a,f){return a-f});for(var $=0;
$<W.length;$++){var m=W[$];H.JZ(X,J+_,m==7e3||m==7001?"MeSa":"8BIM");_+=4;H.ac(X,J+_,m);_+=2;var d=H.v7(X,J+_,"");
_+=d;var A=M.YG["r"+m],p=A.length;H.Ou(X,J+_,p);_+=4;H.BX(X,J+_,A);_+=p;if(p%2==1)_++}H.Ou(X,q,_);return J+_};
bB.an4=function(M,X,J){var q=J,W,T,_=M.bt?8:4;if(M.bt)W=H.L$(X,J);else W=H.Z3(X,J);J+=_;if(W==0)return q+_;
T=bB.a3B(M,X,J);bB.cM(1,T-J,"Layer Info");J=T;T=bB.a02(M,X,J);bB.cM(1,T-J,"Global Layer Mask Info");
J=T;T=dL.kU(X,J,q+_+W,M.add,M.bt,M);bB.cM(1,T-J,"Project Add Info");J=T;return q+_+W};bB.aiz=function(M,X,J,q,W){var T=J;
H.Ou(X,J,0);J+=4;if(M.bt){H.Ou(X,J,0);J+=4}J=bB.aIT(M,X,J,q,W);J=bB.az2(M,X,J);var _=M.add;if(M.depth!=8){_={};
_["Lr"+M.depth]={};for(var m in M.add)_[m]=M.add[m]}J=dL.XO(X,J,_,M.bt,M);if(M.bt)H.y0(X,T,J-T-8);else H.Ou(X,T,J-T-4);
return J};bB.a3B=function(M,X,J){var q,W=M.bt?8:4;if(M.bt)q=H.L$(X,J);else q=H.Z3(X,J);J+=W;if(q!=0)bB.d4(M,X,J);
return J+q};bB.d4=function(M,X,J,q){var W=J,T=q?H.MZ:H.Wp,_=T(X,J);J+=2;var m=Math.abs(_);for(var $=0;
$<m;$++){var d=new K;J=f1.Ah(d,M,X,J,q);M.U[$]=d}var A=new gc(0,0,M.r,M.$);for(var $=0;$<m;$++){var p=M.U[$],a=p.hM(),f=bf.Ah(p,M,X,J,q);
if(f-J>8)bB.cM(2,f-J,"Lay: "+p.getName());J=f;bB.a95(p,A);if(a)bB.a95(a,A)}};bB.a95=function(M,X){};
bB.aIT=function(M,X,J,q,W){var T=J,_=M.bt;J+=_?8:4;if(M.depth==8)J=bB.acP(M,X,J,q,W);var m=J-T-(_?8:4);
if(m%2!=0)m++;if(_)H.y0(X,T,m);else H.Ou(X,T,m);return T+m+(_?8:4)};bB.acP=function(M,X,J,q,W){var T=M.U.length;
H.HW(X,J,W?-T:T);J+=2;var _=[];for(var $=0;$<T;$++)J=f1.yo(M.U[$],M,X,J,_);for(var $=0;$<T;$++)J=bf.Aw(M.bt,M.U[$],X,J,_[$],q,M.add.fcmy==1);
return J};bB.a02=function(M,X,J){var q=H.Z3(X,J);J+=4;J+=q;return J};bB.az2=function(M,X,J){var q=H.Ou(X,J,0);
J+=4;return J};bB.anO=function(M,X,J){var q=M.s6,W="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),T=[1,1,1,3,4,1,1,3],_,Y;
delete M.add.fcmy;if(q!=3){if(q==1||q==2||q==4)console.log("Project will be converted from "+W[q]+" to "+W[3]+" mode.");
else{alert("Color mode "+W[q]+" is not supported yet :(")}if(q==4)M.add.fcmy=1}if(M.YG.r1045){_=[];var m=M.YG.r1045,d=0;
while(d<m.length){var A=H.Vy(m,d);_.push(A);d+=4+2+A.length*2}}var p=T[q]+(_==null||_[0]=="Transparency"?1:0),a=M.r,f=M.$,s=a*f,j=H.uC(X,J);
J+=2;M.buffer=t.j(s*4,M.depth);t.Ya(M.buffer,1);var G=J;for(var Q=0;Q<M.bF;Q++){if(j==0){Y=bf.BB(M.bt,M.vY,X,a,f,J,j);
Y=t.cY(Y,M.depth);J+=s*(M.vY>>>3)}else if(j==1){var Z=M.vY==8?1:M.vY==16?2:4;Y=t.j(s*Z);var g=M.bt?4:2;
if(Q==0)J+=M.bF*f*g;J+=bf.av6(X,Y,a*Z,f,G+Q*f*g,J,g);if(M.vY==16){for(var $=0;$<Y.length;$+=2){var S=Y[$];
Y[$]=Y[$+1];Y[$+1]=S}Y=new Uint16Array(Y.buffer)}if(M.vY==32){for(var $=0;$<Y.length;$+=4){var S=Y[$];
Y[$]=Y[$+3];Y[$+3]=S;S=Y[$+1];Y[$+1]=Y[$+2];Y[$+2]=S}Y=new Float32Array(Y.buffer)}Y=t.cY(Y,M.depth)}else{console.log("unknown compression of image data: ",j);
return}if(Q<p){t.ix(Y,M.buffer,Q);if(M.bF==1&&Q==0){t.ix(Y,M.buffer,1);t.ix(Y,M.buffer,2)}}else{var U=new K.$O,B=Q-p,e=Q-T[M.s6];
U.name=_?_[e]:"Alpha";if(U.name=="Quick Mask"){U.OI=!0;M.LV.push(B)}U.S=new gc(0,0,a,f);U.N=Y;U.color=0;
U.Wn();M.OD[B]=U;if(M.YG.r1077){var m=M.YG.r1077.slice(4+e*13);U.t9=hu.WC(m,0);U.N6=m[11];U.Dv=m[12];
if(U.Dv==2)U.OI=!0}}}M.bF=4;if(M.s6==2)for(var $=0;$<s;$++){var P=$*4,h=M.buffer[P];M.buffer[P]=M.dh[0+h];
M.buffer[P+1]=M.dh[256+h];M.buffer[P+2]=M.dh[512+h]}return J};bB.amz=function(M,X,J,q,W){var T=1,_=16,m=M.r,d=M.$,p,a,f;
H.ac(X,J,T);J+=2;if(M.depth!=8)q=!0;var A=m*d;if(!q){a=new t.Uy(m*d);t.Qf(M.buffer,a);var s=a.z,j=a.L,Y=a.g,G=a.Jm;
for(var $=0;$<A;$++){var Q=G[$]*(1/255);s[$]=~~(s[$]*Q+255*(1-Q));j[$]=~~(j[$]*Q+255*(1-Q));Y[$]=~~(Y[$]*Q+255*(1-Q))}f=[a.z,a.L,a.g];
if(M.add.fcmy==1){f.push(t.j(A));var Z=M.buffer.slice(0);t.ayO(Z);t.Qf(Z,{z:f[0],L:f[1],g:f[2],Jm:f[3]})}if(W)f.push(a.Jm)}else{p=t.j(A,M.depth);
if(M.depth==16)p.fill(65535);f=[p,p,p];if(M.add.fcmy==1)f.push(p);if(W)f.push(p)}for(var $=0;$<M.OD.length;
$++){f.push(M.OD[$].Xu(new gc(0,0,M.r,M.$)))}var g=J;for(var S=0;S<f.length;S++){X.q0(J,m*d+4);p=f[S];
if(T==0||T==2||T==3)J=bf.Oh(M.bt,p,X.data,m,d,J,T);else{var U=new Uint8Array(p.buffer),B=m*(M.depth>>>3),e=M.bt?4:2;
if(S==0)J+=f.length*d*e;var P=J;J+=bf.a9h(U,X.data,B,d,g+S*d*e,J,e)}}return J};function cU(){}cU.Ah=function(M){var X={};
cU._V(M,X,0,0);return X};cU.yo=function(M,X){var J=0;J=cU.RO(M,X,J,0);return J};cU._V=function(M,X,J,q){while(M[J]!="<".charCodeAt(0))J++;
J+=2;while(!0){if(M[J]=="/".charCodeAt(0)){J++;var W=H.indexOf(M," ".charCodeAt(0),J,J+50),T=H.indexOf(M,"\n".charCodeAt(0),J,J+50);
if(T==-1)T=Infinity;if(W==-1)W=Infinity;var _=Math.min(T,W),m=H.zb(M,J,_-J),d=cU.Xd(M,_+1,q+1,m);X[m]=d.K;
J=_+1;J+=d.size}else if(M[J]==">".charCodeAt(0)){J+=2;break}else{var A=M[J];if(A==10||A==9||A==32)J++;
else{console.log("unknown byte: "+A+", char: "+String.fromCharCode(A),J);J++}}}return J};cU.RO=function(M,X,J,q){H.JZ(X,J,"<<\n");
J+=3;var W=cU.auH;for(var T in M){H._r(X,J,"\t".charCodeAt(0),q+1);J+=q+1;H.JZ(X,J,"/"+T);J+=1+T.length;
if(W(M[T])||M[T]instanceof Array){H.JZ(X,J," ");J++}else{H.JZ(X,J,"\n");J++;H._r(X,J,"\t".charCodeAt(0),q+1);
J+=q+1}J=cU.JA(M[T],X,J,q+1);H.JZ(X,J,"\n");J++}H._r(X,J,"\t".charCodeAt(0),q);J+=q;H.JZ(X,J,">>");J+=2;
return J};cU.Xd=function(M,X,J,q){var W=X,T={size:0,K:0};while(!0){while(M[X]==" ".charCodeAt(0)||M[X]=="\t".charCodeAt(0)||M[X]=="\n".charCodeAt(0))X++;
if(M[X]=="<".charCodeAt(0)){T.K={};X=cU._V(M,T.K,X,J+1);break}else if(M[X]=="(".charCodeAt(0)){X+=3;
var _=X;while(!0){if(M[_-1]!="\\".charCodeAt(0)&&M[_]==")".charCodeAt(0)&&(M[_+1]=="\n".charCodeAt(0)||M[_+1]==" ".charCodeAt(0)))break;
else _++}T.K=H.asx(M,X,_);X=_+2;break}else if(M[X]=="[".charCodeAt(0)){X++;T.K=[];while(M[X]==" ".charCodeAt(0)||M[X]=="\t".charCodeAt(0)||M[X]=="\n".charCodeAt(0))X++;
while(M[X]!="]".charCodeAt(0)){var m=cU.Xd(M,X,J+1,q);T.K.push(m.K);X+=m.size;while(M[X]==" ".charCodeAt(0)||M[X]=="\t".charCodeAt(0)||M[X]=="\n".charCodeAt(0))X++}X++;
break}else{var d=H.indexOf(M," ".charCodeAt(0),X,X+50),A=H.indexOf(M,"\n".charCodeAt(0),X,X+50);if(A==-1)A=Infinity;
if(d==-1)d=Infinity;var p=H.zb(M,X,Math.min(d,A)-X).trim(),a=parseFloat(p);if(!isNaN(a)){T.K=parseFloat(p);
X=Math.min(d,A)+1;break}else if(p=="true"||p=="false"){T.K=p=="true";X=Math.min(d,A)+1;break}else if(p=="null"||p=="NaN"||p=="undefined"){T.K=0;
X=Math.min(d,A)+1;break}else{console.log("unknown identifier: "+p);throw"e"}X=Math.min(d,A)+1}}T.size=X-W;
return T};cU.JA=function(M,X,J,q){if(M instanceof Array){var W=M.length==0||typeof M[0]=="number";if(W){H.JZ(X,J,"[ ");
J+=2;for(var $=0;$<M.length;$++){var T=M[$]+" ";H.JZ(X,J,T);J+=T.length}H.JZ(X,J,"]");J+=1}else{H.JZ(X,J,"[\n");
J+=2;for(var $=0;$<M.length;$++){H._r(X,J,"\t".charCodeAt(0),q);J+=q;J=cU.JA(M[$],X,J,q);H.JZ(X,J,"\n");
J++}H._r(X,J,"\t".charCodeAt(0),q);J+=q;H.JZ(X,J,"]");J+=1}}else if(M instanceof Object){J=cU.RO(M,X,J,q)}else if(typeof M=="string"){H.JZ(X,J,"(");
J++;H._r(X,J,254);J++;H._r(X,J,255);J++;J=H.a9l(X,J,M);H.JZ(X,J,")");J+=1}else{var T=M+"";H.JZ(X,J,T);
J+=T.length}return J};cU.auH=function(M){var X=typeof M;return X=="string"||X=="number"||X=="boolean"};
function dN(){}dN.Ah=function(M){var X={};dN.at7(M,X,0,0);return X};dN.yo=function(M,X){var J=0;H.JZ(X,J," ");
J++;J=dN.afS(M,X,J,0);J--;X.q0(J,2);X.data[J]=X.data[J+1]=0;J+=2;return J};dN._V=function(M,X,J,q){while(M[J]!="<".charCodeAt(0)){J++;
console.log("šipka")}J+=2;J=dN.at7(M,X,J,q);return J};dN.RO=function(M,X,J,q){H.JZ(X,J,"<< ");J+=3;J=dN.afS(M,X,J,q);
H.JZ(X,J,">>");J+=2;return J};dN._$=function(M){return M==9||M==10||M==32};dN.at7=function(M,X,J,q){while(!0){while(dN._$(M[J])||M[J]==0)J++;
if(J>=M.length)break;if(M[J]=="/".charCodeAt(0)){J++;var W=J;while(!dN._$(M[W]))W++;var T=H.zb(M,J,W-J);
J=W+1;var _=dN.Xd(M,J,q,T);X["_"+T]=_.K;J+=_.size}else if(M[J]==">".charCodeAt(0)){J+=2;break}else{var m=M[J];
console.log(H.zb(M,J,J+100));console.log("unknown byte: "+m+", char: "+String.fromCharCode(m)+", offset: "+J);
J++;throw"e";return-1}}return J};dN.afS=function(M,X,J,q){for(var W in M){var T=W.substring(1,W.length);
H.JZ(X,J,"/"+T);J+=1+T.length;H.JZ(X,J," ");J++;J=dN.JA(M[W],X,J,q+1,T);H.JZ(X,J," ");J++}return J};
dN.Xd=function(M,X,J,q){var W=X,T={e:"",size:0,K:0};while(dN._$(M[X]))X++;if(M[X]=="<".charCodeAt(0)){T.e="Object";
T.K={};X=dN._V(M,T.K,X,J+1)}else if(M[X]=="(".charCodeAt(0)){T.e="String";X++;if(M[X]==")".charCodeAt(0)){T.K="e";
X++}else if(M[X]==254&&M[X+1]==255){X+=2;var _=X,m=0;while(!0){if(M[_]==")".charCodeAt(0)&&M[_-1]!="\\".charCodeAt(0))break;
else _+=1}T.K="s"+H.asx(M,X,_);X=_+2}else{var _=X;while(M[_]!=")".charCodeAt(0))_++;T.K="s"+H.zb(M,X,_-X);
X=_+1}}else if(M[X]=="[".charCodeAt(0)){X++;T.K=[];T.e="Array";while(dN._$(M[X]))X++;while(M[X]!="]".charCodeAt(0)){var d=dN.Xd(M,X,J+1,q);
if(d==-1)return-1;T.K.push(d.K);X+=d.size;delete d.size;while(dN._$(M[X]))X++}X++}else{var A=X;while(!dN._$(M[A]))A++;
var p=H.zb(M,X,A-X),a=parseFloat(p);if(!isNaN(a)&&p.indexOf(".")!=-1){T.e="Float";var f=parseFloat(p);
T.K="f"+f}else if(!isNaN(a)&&p.indexOf(".")==-1){T.e="Integer";T.K="i"+parseInt(p)}else if(p=="true"||p=="false"){T.e="Boolean";
T.K=p=="true"}else if(p.charAt(0)=="/"){T.e="BString";T.K=p}else if(p=="NaN"||p=="undefined"){T.e="Float";
T.K="f0"}else{console.log("unknown value",JSON.stringify(p));throw"e"}X=A+1}T.size=X-W;return T};dN.axO=function(M){if(M==Math.round(M))return M+".0";
var X=M.toFixed(5);while(X.endsWith("0")&&X[X.length-2]!=".")X=X.slice(0,X.length-1);if(0<M&&M<1)X=X.slice(1);
if(-1<M&&M<0)X="-"+X.slice(2);return X};dN.JA=function(M,X,J,q,W){var T=typeof M=="string"?M.charAt(0):"";
if(M instanceof Array){H.JZ(X,J,"[ ");J+=2;for(var $=0;$<M.length;$++){J=dN.JA(M[$],X,J,q,"");H.JZ(X,J," ");
J++}H.JZ(X,J,"]");J+=1}else if(M instanceof Object){J=dN.RO(M,X,J,q)}else if(T=="e"){H.JZ(X,J,"()");
J+=2}else if(T=="s"){H.JZ(X,J,"(");J++;if(W=="97"){H.JZ(X,J,M.slice(1));J+=M.length-1}else{H._r(X,J,254);
J++;H._r(X,J,255);J++;J=H.a9l(X,J,M.slice(1))}H.JZ(X,J,")");J++}else if(T=="/"){H.JZ(X,J,M);J+=M.length}else if(T=="f"){var _=parseFloat(M.substring(1)),m=dN.axO(_);
H.JZ(X,J,m);J+=m.length}else if(T=="i"){H.JZ(X,J,M.substring(1));J+=M.length-1}else{var m=M+"";H.JZ(X,J,m);
J+=m.length}return J};function H(){}H.aHH=function(jX){var M="";for(var $=3;$>=0;$--)M+=String.fromCharCode(jX>>$*8&255);
return M};H.avl=function(M){var jX=0;for(var $=M.length-1;$>=0;$--)jX|=M.charCodeAt($)<<(3-$)*8;return jX};
H.indexOf=function(M,X,J,q){if(J==null)J=0;if(q==null)q=M.length;q=Math.min(q,M.length);for(var $=J;
$<q;$++)if(M[$]==X)return $;return-1};H.Gs=function(M,X,J){if(J==null)J=0;var q=X.length,W=M.length-q;
if(typeof X=="string"){var T=[];for(var $=0;$<q;$++)T.push(X.charCodeAt($));X=T}if(X.length>0){var _=X[0];
for(var $=J;$<W;$++)if(M[$]==_){var m=!0;for(var d=1;d<q;d++)if(X[d]!=M[$+d]){m=!1;break}if(m)return $}}return-1};
H.asx=function(M,X,J){var q=[],T="";while(X<J){var W=M[X++];if(W=="\\".charCodeAt(0))q.push(M[X++]);
else q.push(W)}for(var $=0;$<q.length;$+=2)T+=String.fromCharCode(q[$]<<8|q[$+1]);return T};H.a7q=function(M,X,J){var q=new Uint8Array(2);
for(var $=0;$<J.length;$++){H.cB(q,0,J.charCodeAt($));if(q[0]==")".charCodeAt(0)||q[0]=="(".charCodeAt(0)||q[0]=="\\".charCodeAt(0)){M[X]="\\".charCodeAt(0);
X++}M[X]=q[0];X++;if(q[1]==")".charCodeAt(0)||q[1]=="(".charCodeAt(0)||q[1]=="\\".charCodeAt(0)){M[X]="\\".charCodeAt(0);
X++}M[X]=q[1];X++}return X};H.a9l=function(M,X,J){M.q0(X,4*J.length);return H.a7q(M.data,X,J)};H.$_=function(M,X,J){var q="";
for(var $=0;$<J;$++){var W=M[X++]|M[X++]<<8;q+=String.fromCharCode(W)}return q};H.c8=function(M,X,J){var q="";
for(var $=0;$<J;$++){var W=M[X++]<<8|M[X++];q+=String.fromCharCode(W)}return q};H.aqi=function(M,X,J){for(var $=0;
$<J.length;$++){var q=J.charCodeAt($);H.jr(M,X+2*$,q)}};H.aes=function(M,X,J){for(var $=0;$<J.length;
$++){var q=J.charCodeAt($);H.cB(M,X+2*$,q)}};H.a47=function(M,X,J){M.q0(X,2*J.length);H.aes(M.data,X,J)};
H.aA_=function(M,$,X){var J=[],q=0,W=0;X+=$;while($<X){q=M[$++];if((q&128)==0)W=q;else if((q&224)==192){W=(q&31)<<6;
q=M[$++];W|=q&63}else if((q&240)==224){W=(q&15)<<12;q=M[$++];W|=(q&63)<<6;q=M[$++];W|=q&63}else if((q&248)==240){W=(q&7)<<18;
q=M[$++];W|=(q&63)<<12;q=M[$++];W|=(q&63)<<6;q=M[$++];W|=q&63}else throw"e";J.push(W)}return J};H.ai2=window.TextDecoder?new window.TextDecoder("utf8"):null;
H.Og=function(M,X,J){if(X==null)X=0;if(J==null)J=M.length;if(H.ai2&&X==0&&J==M.length)return H.ai2.decode(M);
var q=H.aA_(M,X,J),W=q.length;for(var $=0;$<W;$++)q[$]=String.fromCharCode(q[$]);return q.join("")};
H.aBh=window.TextEncoder?new window.TextEncoder("utf8"):null;H.y4=function(M){if(H.aBh)return H.aBh.encode(M);
var X=new Uint8Array(M.length*4),J=H.un(M,X,0);return X.slice(0,J)};H.un=function(M,X,J){var q=M.length,$=0;
for(var W=0;W<q;W++){var T=M.charCodeAt(W);if((T&4294967295-(1<<7)+1)==0){X[J+$]=T;$++}else if((T&4294967295-(1<<11)+1)==0){X[J+$]=192|T>>6;
X[J+$+1]=128|T>>0&63;$+=2}else if((T&4294967295-(1<<16)+1)==0){X[J+$]=224|T>>12;X[J+$+1]=128|T>>6&63;
X[J+$+2]=128|T>>0&63;$+=3}else if((T&4294967295-(1<<21)+1)==0){X[J+$]=240|T>>18;X[J+$+1]=128|T>>12&63;
X[J+$+2]=128|T>>6&63;X[J+$+3]=128|T>>0&63;$+=4}else throw"e"}return $};H.V4=function(M,X){var J=H.Z3(M,X),q=H.Og(M,X+4,J-1);
return{i$:q,lj:4+J}};H.azC=function(M,X){var J=H.UQ(M,X),q=H.$_(M,X+4,J);return q};H.iA=function(M,X){var J=H.Z3(M,X),q=H.c8(M,X+4,J);
return q};H.Vy=function(M,X){var J=H.Z3(M,X),q=H.c8(M,X+4,J-1);return q};H.Od=function(M,X){var J=H.UQ(M,X),q=H.$_(M,X+4,J-1);
return q};H.awm=function(M,X,J){H.sY(M,X,J.length);X+=4;H.aqi(M,X,J)};H.a2u=function(M,X,J){H.R2(M,X,J.length);
X+=4;H.aes(M,X,J)};H.yt=function(M,X,J){M.q0(X,4+2*J.length);H.a2u(M.data,X,J)};H.amy=function(M,X,J){M.q0(X,4+2*J.length);
H.awm(M.data,X,J)};H.t_=function(M,X,J){var q=[];for(var $=0;$<J;$++)q.push(String.fromCharCode(M[X+$]));
return q};H.aFG=function(M,X,J){var q=!1,W=M.length-J.length;for(var $=X;$<W;$++){for(var T=0;T<J.length;
T++){if(M[$+T]!=J.charCodeAt(T))break;if(T==J.length-1)return $}}};H.qv=function(M,X,J){var q=H.zb(M,X,4);
if(J)q=q.split("").reverse().join("");return q};H.zb=function(M,X,J){var q="";for(var $=0;$<J;$++)q+=String.fromCharCode(M[X+$]);
return q};H.WB=function(M,X,J){for(var $=0;$<J.length;$++)M[X+$]=J.charCodeAt($)};H.JZ=function(M,X,J){M.q0(X,J.length);
H.WB(M.data,X,J)};H.apT=function(M,X,J){var q="";for(var $=0;$<J;$++){var W=M[X+$];if(W<10)q+="  ";else if(W<100)q+=" ";
q+=W+", "}return q};H.uC=function(M,X){return M[X]<<8|M[X+1]};H.cB=function(M,X,jX){M[X]=jX>>8&255;M[X+1]=jX&255};
H.ac=function(M,X,jX){M.q0(X,4);H.cB(M.data,X,jX)};H.By=function(M,X){var J=H.uC(M,X),q=H.uC(M,X+2);
return J+q*(1/65536)};H.aCa=function(M,X,jX){var J=Math.floor(jX),q=Math.floor((jX-J)*65536);H.cB(M,X,J);
H.cB(M,X+2,q)};H.Fn=function(M,X){return M[X+1]<<8|M[X]};H.jr=function(M,X,jX){M[X+1]=jX>>8&255;M[X]=jX&255};
H.Fo=function(M,X,jX){M.q0(X,4);H.jr(M.data,X,jX)};H.Wp=function(M,X){H.H1[0]=M[X+1];H.H1[1]=M[X];return H.gU[0]};
H.MZ=function(M,X){H.H1[0]=M[X];H.H1[1]=M[X+1];return H.gU[0]};H.Ym=H.cB;H.HW=H.ac;H.Pp=function(M,X){H.qU[0]=M[X+3];
H.qU[1]=M[X+2];H.qU[2]=M[X+1];H.qU[3]=M[X];return H.O6[0]};H.Uv=function(M,X,jX){H.O6[0]=jX;M[X+3]=H.qU[0];
M[X+2]=H.qU[1];M[X+1]=H.qU[2];M[X+0]=H.qU[3]};H.YD=function(M,X,jX){M.q0(X,4);H.Uv(M.data,X,jX)};H._w=function(M,X,J,q){J[q+0]=M[X+0];
J[q+1]=M[X+1];J[q+2]=M[X+2];J[q+3]=M[X+3]};H.UQ=function(M,X){H._w(M,X,H.qU,0);return H.aBK[0]};H.sY=function(M,X,jX){H.aBK[0]=jX;
H._w(H.qU,0,M,X)};H.SE=function(M,X,jX){M.q0(X,4);H.sY(M.data,X,jX)};H.Xv=function(M,X){H._w(M,X,H.qU,0);
return H.O6[0]};H.aqH=function(M,X,jX){H.O6[0]=jX;H._w(H.qU,0,M,X)};H.aDw=function(M,X,jX){M.q0(X,4);
H.aqH(M.data,X,jX)};H.Z3=function(M,X){var J=M[X]*(256*256*256)+(M[X+1]<<16|M[X+2]<<8|M[X+3]);return J};
H.R2=function(M,X,jX){M[X]=jX>>24&255;M[X+1]=jX>>16&255;M[X+2]=jX>>8&255;M[X+3]=jX>>0&255};H.Ou=function(M,X,jX){M.q0(X,4);
H.R2(M.data,X,jX)};H.L$=function(M,X){return H.Z3(M,X)<<32|H.Z3(M,X+4)};H.aAy=function(M,X,jX){H.R2(M,X,jX>>16>>16);
H.R2(M,X+4,jX&4294967295)};H.y0=function(M,X,jX){M.q0(X,8);H.aAy(M.data,X,jX)};H.aFh=function(M,X){return H.UQ(M,X+4)|H.UQ(M,X)<<32};
H.LF=function(M,X){var J=new Uint8Array(8);for(var $=0;$<8;$++)J[$]=M[X+7-$];var q=new Float64Array(J.buffer);
return q[0]};H.f1=function(M,X){var J=new Uint8Array(8);for(var $=0;$<8;$++)J[$]=M[X+$];var q=new Float64Array(J.buffer);
return q[0]};H.J8=function(M,X,jX){var J=new Float64Array(1);J[0]=jX;var q=new Uint8Array(J.buffer);
for(var $=0;$<4;$++){var W=q[$];q[$]=q[7-$];q[7-$]=W}for(var $=0;$<8;$++)M[X+$]=q[$]};H.zA=function(M,X,jX){M.q0(X,8);
H.J8(M.data,X,jX)};H.Ot=function(M,X){H.qU[0]=M[X+3];H.qU[1]=M[X+2];H.qU[2]=M[X+1];H.qU[3]=M[X+0];return H.jY[0]};
H.eV=function(M,X){H.qU[0]=M[X+0];H.qU[1]=M[X+1];H.qU[2]=M[X+2];H.qU[3]=M[X+3];return H.jY[0]};H.sp=function(M,X,jX){H.jY[0]=jX;
M[X+0]=H.qU[3];M[X+1]=H.qU[2];M[X+2]=H.qU[1];M[X+3]=H.qU[0]};H.awR=function(M,X,jX){M.q0(X,4);H.sp(M.data,X,jX)};
H.l1=function(M,X,jX){H.jY[0]=jX;M[X+0]=H.qU[0];M[X+1]=H.qU[1];M[X+2]=H.qU[2];M[X+3]=H.qU[3]};H.aw7=function(M,X,jX){M.q0(X,4);
H.l1(M.data,X,jX)};H.aiv=function(M,X){var J=H.Pp(M,X),q=J*(1/(1<<24));return q};H.afy=function(M,X){var J=H.Xv(M,X),q=J*(1/(1<<24));
return q};H.aax=function(M,X,J){var q=Math.floor(J*(1<<24));H.Uv(M,X,q)};H.auy=function(M,X,J){M.q0(X,4);
H.aax(M.data,X,J)};H.TJ=function(M,X){var J=M[X],q=H.zb(M,X+1,J);J+=1-J%2;return{rJ:q,length:J+1}};H.a3x=function(M,X,J){var q=J.length;
M[X]=q;H.WB(M,X+1,J);if(q%2==0){M[X+1+q]=0;++q}return q+1};H.v7=function(M,X,J){M.q0(X,J.length+2);return H.a3x(M.data,X,J)};
H.dr=function(M,X,J){var q=J?H.f1:H.LF,W=new kp;W.Jm=q(M,X+0*8);W.g=q(M,X+1*8);W.br=q(M,X+2*8);W.Bi=q(M,X+3*8);
W._f=q(M,X+4*8);W.Ey=q(M,X+5*8);return W};H.DW=function(M,X,J){H.J8(M,X+0*8,J.Jm);H.J8(M,X+1*8,J.g);
H.J8(M,X+2*8,J.br);H.J8(M,X+3*8,J.Bi);H.J8(M,X+4*8,J._f);H.J8(M,X+5*8,J.Ey)};H.a1x=function(M,X,J){M.q0(X,48);
H.DW(M.data,X,J)};H.ad2=function(M,X){var J=H.Ot(M,X),q=H.Ot(M,X+4),W=H.Ot(M,X+8),T=H.Ot(M,X+12);return new gc(J,q,W-J,T-q)};
H.ar0=function(M,X,J){H.sp(M,X,J.x);H.sp(M,X+4,J.y);H.sp(M,X+8,J.x+J.r);H.sp(M,X+12,J.y+J.$)};H.amJ=function(M,X,J){M.q0(X,16);
H.ar0(M.data,X,J)};H.Y$=function(M,X,J){var q=J?H.Xv:H.Pp,W=q(M,X),T=q(M,X+4),_=q(M,X+8),m=q(M,X+12);
return new gc(T,W,m-T,_-W)};H.at5=function(M,X,J){H.Uv(M,X,J.y);H.Uv(M,X+4,J.x);H.Uv(M,X+8,J.y+J.$);
H.Uv(M,X+12,J.x+J.r)};H.oZ=function(M,X,J){M.q0(X,16);H.at5(M.data,X,J)};H.gy=function(M,X,J){var q=new Uint8Array(J);
for(var $=0;$<J;$++)q[$]=M[X+$];return q};H.a9i=function(M,X,J){M.set(J,X)};H.BX=function(M,X,J){M.q0(X,J.length);
H.a9i(M.data,X,J)};H.agA=function(M,X,J,jX){if(!jX)jX=1;for(var $=0;$<jX;$++)M[X+$]=J};H._r=function(M,X,J,jX){if(!jX)jX=1;
M.q0(X,jX);H.agA(M.data,X,J,jX)};H.gU=new Int16Array(1);H.H1=new Uint8Array(H.gU.buffer);H.O6=new Int32Array(1);
H.aBK=new Uint32Array(H.O6.buffer);H.qU=new Uint8Array(H.O6.buffer);H.jY=new Float32Array(H.O6.buffer);
function aO(){}aO.Ah=function(M,X){var J=new Uint8Array(M),q=0,W=H.zb(J,q,9),m=4,d=100;q+=9;var T=H.zb(J,q,4);
q+=4;q++;X.r=H.Z3(J,q);q+=4;X.$=H.Z3(J,q);q+=4;var _=H.Z3(J,q);q+=4;if(_!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(T)==-1){d=H.Z3(J,q);q+=4;if(parseInt(T.slice(1))>=7){d=d}else alert("Unknown XCF version: "+T);
m=8}var A={};q=aO.pM(J,q,A);var p=[];q=aO.bj(J,q,p,m);var a=[];q=aO.bj(J,q,a,m);X.kT=0;for(var $=0;$<p.length;
$++)aO.a2t(J,p[$],X,A,m,d);while(X.kT>0){X.U.push(X.mm());X.kT--}X.U.reverse();delete X.kT;X.buffer=t.j(X.r*X.$*4);
if(X.U.length==0)console.log("No layers!!!");for(var $=0;$<a.length;$++){var f=aO.alz(J,a[$],A,m,d);
if(f.ko[hs.alw])X.c={N:f.fo,S:new gc(0,0,X.r,X.$)}}};aO.a2t=function(M,X,J,q,W,T){var _=J.C0(),m=H.Z3(M,X),a=0;
X+=4;var d=H.Z3(M,X);X+=4;_.S=new gc(0,0,m,d);var A=H.Z3(M,X);X+=4;var p=H.V4(M,X);X+=p.lj;_.EC(p.i$);
var f={};X=aO.pM(M,X,f);if(f[hs.aac]){var s=f[hs.aac];a=s.length/4-1}if(f[hs.QS]){_.S.x=H.Pp(f[hs.QS],0);
_.S.y=H.Pp(f[hs.QS],4)}if(f[hs.az3]){_.G8=H.Z3(f[hs.az3],0)}if(f[hs.aBX]){_.add.lsct=gO.A$;_.l4=24}if(f[hs.alK]){var j=H.Z3(f[hs.alK],0);
_.Sw=hs.aAX[j];if(_.nA()&&_.Sw=="norm")_.Sw="pass"}if(f[hs.afv]){if(H.Z3(f[hs.afv],0)==0)_.l4+=2}if(f[hs.aG2]){var Y=H.Z3(f[hs.aG2],0);
_.add.lsct=Y&1==1?gO.A$:gO.dw}if(f[hs.w1]){var G=f[hs.w1];for(var Q in G){var Z=G[Q];if(Q=="gimp-text-layer"){var g=aO.aiE(Z),S=g.text,U=g.font,B=g.color,e=g["font-size"];
if(S==null&&g.markup){var P=new DOMParser,h=P.parseFromString(g.markup,"image/svg+xml");while(h.firstChild!=null&&h.firstChild.tagName!=null){h=h.firstChild;
var V=h.getAttribute("font"),I=h.getAttribute("foreground"),F=h.getAttribute("size");if(V!=null)U=V;
if(I!=null){I=CSS.WC(I);B=[1,I.z/255,I.L/255,I.g/255]}if(F!=null){e=""+parseFloat(F)/245}}S=h.textContent}_.add.lnsr="rend";
_.add.TySh=f5.c7(0,0);_.add.TySh.hd=new gc(0,0,100,100);_.add.TySh.u=new kp(1,0,0,1,_.S.x,_.S.y);var c=_.add.TySh.Zj;
f5.p7(c,0,S);var D=f5.TC(c,0,0),n=g.justify,k=g["line-spacing"];if(B)D.cN.FillColor={Type:1,Values:[1,parseFloat(B[1]),parseFloat(B[2]),parseFloat(B[3])]};
if(e){e=Math.round(parseFloat(e));D.cN.FontSize=e;_.add.TySh.u.Ey+=Math.min(17,e*.17)}if(k){k=Math.round(parseFloat(k)+D.cN.FontSize*1.2);
D.cN.Leading=k;D.cN.AutoLeading=!1}if(n)D.Js.Justification=["left","right","center","fill"].indexOf(n);
if(U&&U!="Sans-serif"){var b=U.toLowerCase(),N="bold italic semi extra regular condensed light".split(" "),L=b.length;
for(var $=0;$<N.length;$++){var R=b.indexOf(N[$]);if(R!=-1&&R<L&&b[R-1]==" ")L=R}if(L!=b.length)U=U.slice(0,L-1).split(" ").join("")+"-"+U.slice(L).split(" ").join("");
f5.fa(D,U)}f5.oW(c,0,S.length,D);var i=g["box-width"],v=g["box-height"],E=i?parseFloat(i):_.S.r,u=v?parseFloat(v):_.S.$;
f5.Wu(c,1);f5.Tf(c,[0,0,Math.ceil(E),Math.ceil(u)])}else console.log("Unknown property "+Q)}}while(J.kT>a){J.U.push(J.mm());
J.kT--}J.kT=a;if(_.add.lsct==gO.A$||_.add.lsct==gO.dw)J.kT++;var C=W==4?H.Z3:H.L$,l=C(M,X);X+=W;var y=C(M,X);
X+=W;if(_.nQ()){_.buffer=t.j(_.S.o()*4);var ge=new t.Uy(_.S.o());aO.a5R(M,l,ge,q,W,T);t.Uq(ge,_.buffer)}if(y!=0){_.JS=new K.$O;
var O=aO.alz(M,y,q,W,T);_.JS.N=O.fo;_.JS.S=_.S.Q();if(f[hs.ayc])_.JS.isEnabled=H.Z3(f[hs.ayc],0)==1;
_.JS.color=_.JS.N[0];_.JS.Wn()}if(_.nA())_.S=new gc;J.U.push(_)};aO.aiE=function(M){var X="("+H.Og(M,0,M.length-1)+")",J=[],q={};
aO.auP(X,1,J);aO.aBJ(J,q);return q};aO.aBJ=function(M,X){for(var $=0;$<M.length;$++){var J=M[$],q=J[0];
if(J.length==2)X[q]=J[1];else X[q]=J.slice(1)}};aO.auP=function(M,X,J){while(!0){if(X>=M.length)throw"e";
var q=M.charAt(X);X++;if(q=="("){var W=[];X=aO.auP(M,X,W);J.push(W)}else if(q==" "||q=="\n"||q=="\r"){}else if(q==")")return X;
else if(q=="\""){var T=X;while(!0){var _=M[X];X++;if(_=="\"")break;if(_=="\\")X++}J.push(JSON.parse(M.slice(T-1,X)))}else{var T=X-1;
while(M[X]!=" "&&M[X]!=")")X++;J.push(M.slice(T,X))}}};aO.alz=function(M,X,J,q,W){var T=H.Z3(M,X);X+=4;
var _=H.Z3(M,X);X+=4;var m=H.V4(M,X);X+=m.lj;var d={};X=aO.pM(M,X,d);var A=new t.Uy(T*_),p=q==4?H.Z3:H.L$,a=p(M,X);
X+=q;aO.a5R(M,a,A,J,q,W);return{fo:A.z,ko:d}};aO.a5R=function(M,X,J,q,W,T){var _=H.Z3(M,X);X+=4;var m=H.Z3(M,X);
X+=4;var d=H.Z3(M,X);X+=4;var A=W==4?H.Z3:H.L$,p=A(M,X);X+=W;aO.ajg(M,p,J,q,d,W,T)};aO.ajg=function(M,X,J,q,W,T,_){var m=H.Z3(M,X),p=0,$=0;
X+=4;var d=H.Z3(M,X);X+=4;var A=new gc(0,0,m,d);if(_==100||_==150)p=1;else if(_==200||_==250)p=2;else if(_==300||_==350)p=4;
else if(_==500||_==550)p=2;else if(_==600||_==650)p=4;else if(_==700||_==750)p=8;else{alert("unsupported bit depth "+_);
throw"e"}var a=W/p,p=Math.round(W/a),f=[];X=aO.bj(M,X,f,T);var s=new t.Uy(64*64*p),j=new gc,Y=q[hs.ajL][0],G=[s.z,s.L,s.g,s.Jm];
if(a==3)s.Jm.fill(255);var Q=Date.now();if(f.length!=0)for(var Z=0;Z<d;Z+=64)for(var g=0;g<m;g+=64){var S=Math.min(m-g,64),U=Math.min(d-Z,64),B=S*U;
j.cn(g,Z,S,U);aO.aD_(M,f[$++],B*p,Y,a,G);if(_==100||_==150){}else if(_==250){for(var e=0;e<a;e++){var P=G[e];
for(var h=0;h<B;h++){var V=P[h]<<8|P[B+h];P[h]=Math.min(V>>>8,255)}}}else if(_==600){var I=aO.aeQ(),F=new Uint32Array(1),c=new Float32Array(F.buffer);
for(var e=0;e<a;e++){var P=G[e];for(var h=0;h<B;h++){F[0]=P[h]<<24|P[B+h]<<16|P[(B<<1)+h]<<8|P[(B<<1)+B+h]<<0;
var D=c[0];if(D<0)D=0;else if(D>1)D=1;P[h]=I[~~(.5+D*1e3)]}}}else console.log("unknown data format",_);
t.yR(s,j,J,A)}};aO.aeQ=function(){var M=aO.asu;if(M!=null)return M;M=aO.asu=new Uint8Array(1001);for(var $=0;
$<1001;$++)M[$]=~~(.49+255*t.jm($*.001));return M};aO.aD_=function(M,X,J,q,W,T){if(q==1){for(var _=0;
_<W;_++){var m=T[_],d=0;while(d<J){var jX=M[X];X++;if(jX<127){var A=M[X];X++;jX++;for(var $=0;$<jX;$++)m[d+$]=A}else if(jX==127){var p=M[X];
X++;var a=M[X];X++;var A=M[X];X++;jX=p<<8|a;for(var $=0;$<jX;$++)m[d+$]=A}else if(jX==128){var p=M[X];
X++;var a=M[X];X++;jX=p<<8|a;for(var $=0;$<jX;$++)m[d+$]=M[X+$];X+=jX}else{jX=256-jX;for(var $=0;$<jX;
$++)m[d+$]=M[X+$];X+=jX}d+=jX}}}else if(q==2){var f=pako.inflate(M.slice(X)),s=Math.round(f.length/J);
for(var $=0;$<J;$++){var j=$*s;T[0][$]=f[j];T[1][$]=f[j+1];T[2][$]=f[j+2];T[3][$]=s==3?255:f[j+3]}}else alert("Unknown compression "+q)};
aO.bj=function(M,X,J,q){var W=q==4?H.Z3:H.L$;while(!0){var T=W(M,X);X+=q;if(T==0)break;else J.push(T)}return X};
aO.pM=function(M,X,J){while(!0){var q=H.Z3(M,X);X+=4;var W=H.Z3(M,X);X+=4;if(q==hs.aB8)break;else if(q==hs.w1)J[q]=aO.a44(M,X,X+W);
else J[q]=H.gy(M,X,W);X+=W}return X};aO.a44=function(M,X,J){var q={};while(X<J){var W=H.V4(M,X);X+=W.lj;
var T=H.Z3(M,X);X+=4;if(T!=1)console.log("unknown flags",T);var _=H.Z3(M,X);X+=4;q[W.i$]=H.gy(M,X,_);
X+=_}return q};var hs={aB8:0,atP:1,awJ:2,arZ:3,alw:4,aHR:5,az3:6,alK:7,afv:8,a8A:9,a53:10,ayc:11,aAB:12,aun:13,a9T:14,QS:15,aFj:16,ajL:17,a5x:18,a2Z:19,as$:20,w1:21,axB:22,adv:23,atU:24,aBE:25,anT:26,avO:27,adp:28,aBX:29,aac:30,aG2:31,agQ:32,arv:33,as0:34,apG:35,a6u:36,an7:37,ae$:38,aqS:0,a36:1,aqO:2,ayL:3,akD:1,aE3:2,aa7:0,a2W:1,a16:1};
hs.aAX="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var dg=function(){var M=!1,X,J,Q=0,S;function q(){var e=H.zb(X,J,4);J+=4;return e[3]+e[2]+e[1]+e[0]}function W(){var e=H.zb(X,J,4);
J+=4;return e}function T(){var e=X[J];J+=1;return e}function _(){var e=H.Fn(X,J);J+=2;return e}function m(){var e=H.UQ(X,J);
J+=4;return e}function d(){var e=H.Xv(X,J);J+=4;return e}function A(){var e=H.UQ(X,J);J+=8;return e}function p(){var e=H.eV(X,J);
J+=4;return e}function a(){var e=H.f1(X,J);J+=8;return e}function f(){var e=H.Fn(X,J),P=H.Og(X,J+2,e);
J+=2+e;return P}function s(){var e=H.UQ(X,J),P=H.Og(X,J+4,e);J+=4+e;return P}function j(e){J=e;var P=[];
while(J!=0){var h=W();if(h!="#FT4"&&h!="#FT3"&&h!="#FT2")throw h;var V=A(),I=A(),F=A(),c=A(),D=A(),n=m(),k=m(),b=m(),N=_(),L=T(),R={};
P.push(R);for(var $=0;$<n;$++){var i=m(),v=T();if(v!=0&&v!=1&&v!=2)throw v;var E=[];if(v==0||v==1){var u=A(),C=A(),l=A(),x=m(),y=T(),ge=m(),O=h!="#FT4"?0:m(),kz=null;
if(h=="#FAT"||h=="#FT2"){switch(y){case 1:y=1;break;case 2:y=65;break;case 3:y=129;break;case 4:y=193;
break;default:y=0;break}}if(v==0)kz=f();E=[u,C,l,y,kz]}R["i"+i]=[v,E]}for(var $=0;$<N;$++){var z=_(),eZ=_(),kM=A(),jV=H.zb(X,J,z);
J+=z}J=V}P.reverse();for(var cL=1;cL<P.length;cL++){var R=P[cL],aw=P[cL]=t.b(P[cL-1]);for(var h2 in R){var ea=R[h2];
if(ea[0]==0)aw[h2]=ea;else if(ea[0]==1){ea[1][4]=aw[h2][1][4];aw[h2]=ea}else if(ea[0]==2)delete aw[h2]}}var ht=P.pop(),jn=[];
for(var h2 in ht)jn.push(ht[h2][1]);jn.sort(function(gE,bS){return gE[0]-bS[0]});return jn}function Y(e,P,h,V){while(J<X.length){var I=T(),n=null;
if(I==0){if(V){var F=T();if(F!=2){var c=q()}if(F==0)J+=4;V=!1;continue}else{break}}var D=q();if(M)console.log("  ".repeat(P),I,I&127,D,e._type);
if(I>127)n=G(I,P,h);else n=Z(I,P,h);if(M)console.log("  ".repeat(P),n);e[D]=n}}function G(e,P,h){var V=[];
e=e&127;if(e==43)J+=4;var I=m();if(e==50){var F=q(),c=_();if(c!=1)throw"e";for(var $=0;$<I;$++){var D={_status:"NotShared",_type:F};
V.push(D);var n=T();if(n!=0&&n!=1)throw n;Y(D,P+1,h)}}else if(e==41){if(I>8)throw I;for(var $=0;$<I;
$++)V.push((X[J]>>>$&1)==1);J++}else for(var $=0;$<I;$++){V.push(Z(e,P,h,$!=0));if(e==42)e=2}return V}function Z(e,P,h,V){var I=null;
if(e==49){I={};var F=T();if(F!=0){var c=m();if(h==null){I._id=c;I._status=["Shared","Link"][F-1]}if(h&&F==2)I=h[c];
if(F==1){if(h)h[c]=I;var D=T(),n=!1;if(D>1)throw D;I._type=q();if(M)console.log("  ".repeat(P),"new",I._type,D,J);
if(D==0){while(!0){var k=_();if(k!=0&&k!=1&&k!=2&&k!=3&&k!=4)throw k;if(X[J]!=0){n=!0;break}var b=_();
if(b==512)break;var N=q();if(b==256)break}}Y(I,P+1,h,n)}}}else if(e==50){I={_status:"NotShared"};if(T()==1){I._type=q();
J+=2;Y(I,P+1,h)}}else if(e==1)I={type:"byte",value:T()};else if(e==2)I={type:"uint16",value:_()};else if(e==3)I={type:"uint32",value:m()};
else if(e==4)I={type:"uint64",value:A()};else if(e==7)I={type:"int32",value:d()};else if(e==8)I={type:"int64",value:A()};
else if(e==9)I={type:"float32",value:p()};else if(e==10)I={type:"float64",value:a()};else if(e==21)I={type:"Vec2i",value:[m(),m()]};
else if(e==23)I={type:"Vec4i",value:[m(),m(),m(),m()]};else if(e==33)I={type:"Vec4f",value:[p(),p(),p(),p()]};
else if(e==36)I={type:"Vec2",value:[a(),a()]};else if(e==38)I={type:"Vec4",value:[a(),a(),a(),a()]};
else if(e==40)I={type:"Vec6",value:[a(),a(),a(),a(),a(),a()]};else if(e==41)I={type:"bool",value:T()!=0};
else if(e==42)I={type:"Enum",value:m()};else if(e==43)I={type:"string",value:s()};else if(e==44){if(V!=!0)Q=_();
I={type:"curv16",value:[a(),Q==12?[T(),T(),T(),T()]:[m(),m()]]}}else if(e==45){var L=m();I={type:"buff",value:X.slice(J,J+L)};
J+=L}else if(e==47){I={type:"uint32",value:m()}}else if(e==48){var R=[],i=_();if(i!=1)throw i;while(!0){if(X[J]==135){var v=G(T(),P+1,h),E=G(T(),P+1,h),u=G(T(),P+1,h);
R.push([v,E,u])}else{var C=1;if(X[J]==3){T();C=m()}for(var $=0;$<C;$++){if(T()!=41)throw"e";var c=T();
if(c!=0&&c!=1)throw c;if(T()!=172)throw"e";var l=m(),x=_(),y=[];R.push(y);if(x!=18)throw x;if(l>4e3)throw l;
for(var ge=0;ge<l;ge++)y.push([a(),a(),T(),T()])}}if(X[J]==0){J++;break}}I={type:"curve",value:R}}else if(e==51){I={type:"EmbeddedData"};
I[q()]=s()}else if(e==52)I={type:"uint32",value:m()};else if(e==56)I={type:"Color32",value:[T(),T(),T(),T()]};
else if(e==60)I={type:"ColorGRAY",value:[p(),p()]};else if(e==68)I={type:"ColorRGBA",value:[p(),p(),p(),p()]};
else if(e==72)I={type:"ColorCMYK",value:[p(),p(),p(),p(),p()]};else{throw e}return e==49||e==50||e==51?I:I.value}function g(e){var P=0,h=e.length;
for(var $=0;$<h;$+=4){e[$]=P=P+e[$];e[$+1]=P=P+e[$+1];e[$+2]=P=P+e[$+2];e[$+3]=P=P+e[$+3]}}function U(e){X=e;
J=4;var P=m(),h=W();if(h!="nsrP")throw h;var h=W();if(h!="#Inf")throw h;var V=A();S=A();var I=A(),F=A(),c=A(),D=m(),n=m(),h=W();
if(h!="Prot")throw h;var D=m(),k=j(V),b={},N=Date.now();for(var L=0;L<k.length;L++){var R=k[L],i=R[3],x=null;
J=R[0];var h=W();if(h!="#Fil")throw h;var E=i>>>5&1,u=i&3,C=i&192;switch(C){case 64:C=1;E=0;break;case 128:C=2;
break;case 192:C=3;break;default:C=0;E=0}var l=new Uint8Array(X.buffer,J,R[2]);if(u==0)x=l;else if(u==1)x=pako.inflate(l);
else if(u==2)x=h1.oC.Sg(l,R[1]);else throw u;if(E==0){if(C==1)g(x);if(C==2)throw"e"}else if(E==1){if(C==2)g(x);
else throw C}else throw E;b[R[4]]=x}return b}function B(e){var P=U(new Uint8Array(e));X=P["doc.dat"];
J=16;var h={};Y(h,0,[]);return[P,h,S]}return{aeb:B}}();function ic(){}ic.Ah=function(){function M(Y,G){var Q=Date.now(),Z=dg.aeb(Y),g=Z[0],S=Z[1],U=Z[2],B=S.DocR,e=B.DfSz,P=B.Chld;
if(P.length!=1)console.log(P);var h=P[0],V=h.SprB;P=h.Chld;if(V){G.r=~~V[2];G.$=~~V[3]}else{G.r=1920;
G.$=1080}G.buffer=t.j(G.r*G.$*4);var I=[0,{}];for(var $=0;$<P.length;$++)T(P[$],G,g,new kp,I,[],0);G.TU(I[0]);
console.log(Date.now()-Q,"Document created");Q=Date.now()}function X(Y){return new kp(Y[0],Y[3],Y[1],Y[4],Y[2],Y[5])}function J(Y,G){var Q=G.Xfrm;
Q=Q?X(Q):new kp;Q.concat(Y);return Q}function q(Y){var G={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[Y];
return G?G:"norm"}function W(Y,G){var Q=Y[G],Z=Y.DsMa;if(Q==null&&Z)Q=Z[G];return Q}function T(Y,G,Q,Z,g,S,U){var B=Y._type,e=Y.Chld,P=G.C0();
P.EC(Y.Desc==null||Y.Desc==""?B=="Grup"?"Folder":"Layer":Y.Desc);var h=W(Y,"Visi");if(h!=null)P.EG(h);
var V=W(Y,"Opac");if(V!=null)P.G8=Math.round(255*V);var I=W(Y,"FOpc");if(I!=null)P.add.iOpa=Math.round(255*I);
var F=W(Y,"Blnd");if(F!=null)P.Sw=q(F);if(Y.BFFl&&Y.BFFl[0])S.push(Y.BFFl[0]);var c=J(Z,Y),D=B=="ShpN"||B=="PCrv";
if(e){G.U.push(G.mm());P.add.lsct=gO.A$;if(P.Sw=="norm")P.Sw="pass";P.l4=24;if(h!=null)P.EG(h);if(B=="ShpN"&&U==0){var n=Y.ShpB;
P.oQ(new gc(n[0]+c._f,n[1]+c.Ey,Math.round(c.Jm*(n[2]-n[0])),Math.round(c.Bi*(n[3]-n[1]))));g[0]++;P.add.artb.Clr={t:"Objc",v:t.NX.$J({z:255,L:255,g:255})};
var k=S[0];for(var $=0;$<S.length;$++)if(S[$].FDeF._type!="FilN")k=S[$];if(k.FDeF._type=="FilS"){P.add.artb.Clr=A(k.FDeF.Colr);
P.add.artb.artboardBackgroundType.v=4}}var b=Y.Shpe?Y:null;if(b==null)b=Y.DsMa&&Y.DsMa.Shpe?Y.DsMa:null;
if(b){var N=m(b);if(N.X.length!=7){P.add.vmsk=N;t.I.cI(N.X,c);P.hg();P.j$(G)}}for(var $=0;$<e.length;
$++)T(e[$],G,Q,c,g,S,U+1)}else if(B=="Rstr"||B=="ImgN"||B=="MRst"){var L=W(Y,"Bitm"),R=L.Bckg,i=Date.now(),v;
if(R==null){v=a(L,Q,g[1]);P.S=v[2].Q();P.buffer=v[1].slice(0);P.S.x+=c._f;P.S.y+=c.Ey}if(R||c.zQ()!=1){var E,u=0,C=0;
if(R){var l=Q[R.Data],x=H.Gs(l,"ataD")+4,y=H.UQ(l,x);x+=4;E=l.slice(x,x+y)}else{u=P.S.x-c._f;C=P.S.y-c.Ey;
if(v[3]==null)v[3]=new Uint8Array(h1.mr("PNG").iL([[P.buffer.buffer]],P.S.r,P.S.$));E=v[3].slice(0)}var ge=G.Xg(E,P.getName(),0,0);
ge.l4=P.l4;ge.G8=P.G8;P=ge;var O=new kp;O.translate(u,C);O.concat(c);var kz=P.S.Q();kz.x=kz.y=0;var z=t.G.mP(kz).d;
t.G.u(z,O,z);P.add.SoLd.Trnf=o.fx.qT(z);P.add.SoLd.nonAffineTransform=o.fx.qT(z);P.el(G,!1)}}else if(B=="TxtA"||B=="TxtF"){P.add.lnsr="rend";
P.add.TySh=f5.c7(0,0);P.add.TySh.hd=new gc(0,0,100,100);var eZ=Y.TxtH?Y:Y.DsMa,kM=eZ.TxtH.FrmB,jV=1,cL=1,aw=P.add.TySh.u=new kp,gE=0;
aw.translate(kM[0],kM[1]);aw.concat(c);if(B=="TxtF"){var h2=Math.atan2(-aw.g,aw.Jm);aw.rotate(-h2);jV=aw.Jm;
cL=aw.Bi;aw.Bi=aw.Jm=1;aw.rotate(h2)}var ea=P.add.TySh.Zj,ht=eZ.StSt;if(ht==null)ht=eZ.StMa.StSt;var jn=ht.Blok;
if(jn.length!=1)throw"e";for(var bS=0;bS<jn.length;bS++){var bi=jn[bS],cj=gE,bb=0,c0=bi.Glyp.Utf8;if(c0==null)continue;
c0=c0.replace(/\u2028/g,"\n");c0=c0.replace(/\u2029/g,"\n");c0=c0.slice(0,c0.length-1);if(c0=="")continue;
P.EC(c0.slice(0,255));f5.p7(ea,gE,c0);gE+=c0.length;var cV=bi.GAtt.Runs,g_=bi.PAtt.Runs[0],hx=g_.Item.Ints[0];
for(var au=0;au<cV.length;au++){var kP=cV[au],iK=kP.Indx,b3=kP.Item,fs=b3.Objs,ch=f5.TC(ea,cj,1);ch.Js.Justification=hx==0?0:hx==1?2:1;
f5.fa(ch,b3.DFnt.Post);ch.cN.FontSize=b3.Doub[0];for(var $=0;$<fs.length;$++){var hv=fs[$];if(hv._type=="FDsc"){var g6=hv.FDeF;
if(g6._type=="FilS"){var ef=p(g6.Colr);ch.cN.FillColor={Type:1,Values:[1,ef[0],ef[1],ef[2]]}}}}f5.oW(ea,cj+bb,cj+Math.min(iK,c0.length),ch);
bb=iK}}f5.Wu(ea,1);f5.Tf(ea,[0,0,Math.round((kM[2]-kM[0])*jV*1.02),Math.round((kM[3]-kM[1])*cL*1.2)]);
G.hj=!0}else if(D){P.l4|=16;var fN=P.add.vstk=kf.XZ.IH(!0),N=P.add.vmsk=m(Y);t.I.cI(N.X,c);var k=S[0];
for(var $=0;$<S.length;$++)if(S[$].FDeF._type!="FilN")k=S[$];if(k){var kb=k.FDeF,cn=kb._type;if(cn=="FilS")P.add.SoCo={classID:"null",Clr:A(kb.Colr)};
else if(cn=="FilG"){var dF=P.add.GdFl=JSON.parse(kf.px[kf.order.indexOf("GrFl")]);d(k,dF,t.I.NP(N.X))}else if(cn=="FilN"){P.add.SoCo={classID:"null",Clr:{t:"Objc",v:t.NX.$J({z:0,L:0,g:0})}};
fN.fillEnabled.v=!1}else console.log(cn)}if(Y.LILn){var et=Y.LILn[0].LDeL,bh=et.Wght;if(bh!=0){fN.strokeEnabled.v=!0;
fN.strokeStyleLineWidth.v.val=bh;var kb=Y.LIFl[0].FDeF,cn=kb._type;if(cn=="FilS")fN.strokeStyleContent.v.Clr=A(kb.Colr);
else if(cn=="FilN")fN.strokeEnabled.v=!1}}P.hg();P.j$(G)}else if(B=="RcRA"){var dY=Y.AdjP,jM="hue2",bz=P.add[jM]=fV.IH(jM);
_(bz,dY)}else console.log(B);var hh=Y.AdCh,dM=[];if(hh)for(var $=0;$<hh.length;$++){var iX=hh[$],aW=iX._type;
if(aW=="ShpN"||aW=="PCrv"){var N=P.add.vmsk=m(iX),eC=J(c,iX);t.I.cI(N.X,eC);P.hg();P.j$(G)}else if(iX.AdjP){var dY=iX.AdjP,dh=dY._type;
console.log(dh);var ff={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[dh];
if(ff==null){console.log(dY);continue}var fE=fV.re(ff,{});dM.push(fE);var bz=fE.v.Fltr.v;if(dh=="LevP"){var dX=el.ev(bz,0);
dX[0]=dY.OutB*255;dX[1]=dY.OutW*255;el.eA(bz,0,dX)}else if(dh=="WhBP"){var dX=el.ev(bz,2);dX[4]=100+dY.WBTi*20;
el.eA(bz,2,dX);var dX=el.ev(bz,3);dX[4]=100+dY.WBTi*200;el.eA(bz,3,dX)}else if(dh=="HSSP"){var dX=gg.ev(bz,0);
dX[0]=Math.round(dY.HueA*256);dX[1]=Math.round(dY.SatA*256);dX[2]=Math.round(dY.LumA*256);gg.eA(bz,0,dX)}else if(dh=="RecP"){_(bz,dY)}else if(dh=="B&CP"){bz.Brgh.v=Math.round(dY.Brig*100);
bz.Cntr.v=Math.round(dY.Ctrs*100-100)}else if(dh=="PosP"){bz.Lvls.v=dY.Post}else if(dh=="VibP"){bz.vibrance.v=dY.Vibr-100;
bz.Strt.v=Math.round(dY.Satu*100)}else if(dh=="ExpP"){bz.Exps.v=dY.Expo;bz.gammaCorrection.v=dY.Gamm/2.2}else if(dh=="ThrP"){bz.Lvl.v=Math.round(dY.Thre*255)}else if(dh=="CrvP"){var i2=dY.Mast["Cnt "],ew=dY.Mast.Vals,dX=hg.ev(bz,0),hW=dX[0];
for(var jt=0;jt<i2;jt++){var h3=dX[jt]=t.b(hW);h3.v.Hrzn.v=Math.round(ew[jt]*255);h3.v.Vrtc.v=Math.round(ew[4+jt]*255)}hg.eA(bz,0,dX)}}else console.log(iX)}if(dM.length!=0&&P.add.SoLd){P.add.SoLd.filterFX=fV.U2();
G.yE({id:P.add.SoLd.placed.v,S:new gc,buffer:t.j(1),JS:new K.$O});P.add.SoLd.filterFX.v.filterFXList.v=dM;
P.el(G,!1)}var dl=Y.FiEf;if(dl&&dl.length!=0){var ba=P.add.lmfx=JSON.parse(kf.default);for(var $=0;$<kf.order.length;
$++)ba[kf.an[$]]={t:"VlLs",v:[]};for(var b_=0;b_<dl.length;b_++){var f8=dl[b_],ak=f8._type,jk={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[ak],dF=jk?JSON.parse(kf.px[kf.order.indexOf(jk)]):null,i6=1;
if(ak=="ColO"){dF.Clr=A(f8.Colr)}else if(ak=="GrdO"){d(f8.GrFl,dF)}else if(ak=="Shad"||ak=="InnS"||ak=="OutG"||ak=="InnG"){dF.Clr=A(f8.Colr);
dF.blur.v.val=Math.round(f8.Radi);var k2=f8.Comp;if(k2!=null){if(k2>.5)i6=1-.5*(k2-.5);else dF.Ckmt.v.val=Math.round(100*(.5-k2))}if(f8.Offs!=null){dF.Dstn.v.val=f8.Offs;
dF.lagl.v.val=Math.round(180-f8.Angl*180/Math.PI);dF.uglg.v=!1}}else if(ak=="Strk"){if(f8.Ftyp==0)dF.Clr=A(f8.Colr);
else{d(f8.GrFl,dF);dF.PntT.v.FrFl="GrFl"}dF.Sz.v.val=Math.round(f8.Radi)}else if(ak=="PhgB"||ak=="BevE"){dF.blur.v.val=Math.round(f8.Radi);
if(ak=="BevE")dF.bvlS.v.BESl="PlEb"}else if(ak=="Gaus"){if(D&&f8.Enab){P.add.vmsk.VU=f8.Radi/2.4;P.add.vmsk.A8=!0;
P.hg();P.j$(G)}}if(jk){dF.enab.v=f8.Enab;if(dF.Md&&f8.BlnM!=null)dF.Md.v.BlnM=ae.fF(q(f8.BlnM));if(dF.Opct&&f8.Opac!=null)dF.Opct.v.val=Math.round(i6*f8.Opac*100);
var gm=kf.an[kf.order.indexOf(jk)];ba[gm].v.unshift({t:"Objc",v:dF})}}}if(Y.BFFl&&Y.BFFl[0])S.pop();
G.U.push(P)}function _(Y,G){Y.Clrz.v=!0;var Q=gg.ev(Y,0);Q[0]=Math.round(G.RecH*360);Q[1]=Math.round(G.RecS*100);
Q[2]=Math.round(G.RecL*100);gg.eA(Y,0,Q)}function m(Y){var G=new K.JL,Q=Y._type;if(Y.ShpB==null&&Y.Crvs==null)Y=Y.DsMa;
if(Q=="PCrv"){var Z=Y.Crvs.Data,g=[],S=[];for(var $=0;$<Z.length;$++){var U=Z[$],B=U.length%3;if(B!=1){U=B==2?U[0][2]!=0?U.slice(0,U.length-1):U.slice(1):U.slice(1,U.length-1)}for(var e=0;
e<U.length;e++){var P=U[e],h=P[2];if(h!=0)g.push(e==0?"M":"C");S.push(P[0],P[1])}}G.X=t.G.n$({d:S,C6:g},!0)}else{var V=Y.ShpB,I=Y.Shpe,F=I._type,c=V[2]-V[0];
if(F=="ShpE"){G.X=t.I.bg.hQ(V[0],V[1],V[2]-V[0],V[3]-V[1])}else if(F=="ShNR"){var D=[0,0,0,0];if(I.CTyp){D=I.ShCR.slice(0);
for(var $=0;$<4;$++)D[$]*=V[2]-V[0];for(var $=1;$<4;$++)D[$]=D[0]}G.X=t.I.bg.Rect(V[0],V[1],V[2]-V[0],V[3]-V[1],D)}else if(F=="ShpT"){G.X=t.G.n$({C6:["M","L","L","Z"],d:[V[0],V[3],V[2],V[3],V[0]+c*.5,V[1]]},!0)}else if(F=="ShTz"){G.X=t.G.n$({C6:["M","L","L","L","Z"],d:[V[0]+c*I.PosL,V[1],V[0]+c*I.PosR,V[1],V[2],V[3],V[0],V[3]]},!0)}else{console.log("--",F);
G.X=t.I.bg.Rect(V[0],V[1],V[2]-V[0],V[3]-V[1],[0,0,0,0])}}return G}function d(Y,G,Q){var Z=Y.FDeF,g=Y.FDeX;
if(g)g=X(g);var S=Z.Grad,U=S.Cols;G.Type.v.GrdT=Z.Type==0?"Lnr":"Rdl";var B=[];for(var $=0;$<U.length;
$++){var e=p(U[$]);B.push([S.Posn[$][0],e])}G.Grad.v.Intr.v=0;t.NX.ex(B,G.Grad.v);var P=S.Posn,h=new es(P[0][0],P[0][1]),V=new es(P[1][0],P[1][1]);
if(g){var I=new kp;if(Q==null)I.translate(-.5,-.5);I.concat(g);if(Q==null)I.translate(.5,.5);h=I.y8(h);
V=I.y8(V)}if(Z.Type==0)h=new es((h.x+V.x)/2,(h.y+V.y)/2);t.NX.Z5(h,V,Q?Q:new gc(0,0,1,1),G)}function A(Y){var G=p(Y);
return{t:"Objc",v:t.NX.$J({z:G[0]*255,L:G[1]*255,g:G[2]*255})}}function p(Y){var G=Y._col,Q=Y._type;
if(Q=="HSLA"){var Z=t.Io(G[0],G[1],G[2]);return[Z.z,Z.L,Z.g,G[3]]}else if(Q=="RGBA")return G;else if(Q=="CMYK")return t.RP(G);
else if(Q=="GRAY")return[G[0],G[1],G[2]];else if(Q=="Pant")return Y.srgb._col;else{console.log(G);throw Q}}function a(Y,G,Q){var Z=Y.Frmt,n="";
if(Z!=0&&Z!=1&&Z!=4&&Z!=6)throw Z;var g=Y.BmpW,S=Y.BmpH,U=Z==1?128:256,B=Z==4?5:Z==0||Z==1?4:1,e=Math.ceil(g/U),P=Math.ceil(S/256),h=new gc(0,0,e,P),V=new gc;
for(var $=0;$<B;$++){var I=new Uint8Array(Y["Sta"+($+1)]);for(var F=0;F<I.length;F++)if(I[F]==1)I[F]=0;
var c=t.pT(I,h);V=V.m0(c)}var D=[];for(var $=0;$<B;$++){var I=new Uint8Array(Y["Sta"+($+1)]),k=t.j(V.o());
t.Rc(I,h,k,V);D[$]=[];for(var F=0;F<k.length;F++)D[$][F]=k[F];n+=JSON.stringify(D[$])+","+JSON.stringify(Y["Idx"+($+1)])+","}if(Q[n]==null){var b=V.r*U,N=V.$*256,L=new Array(B);
for(var $=0;$<B;$++){var I=L[$]=new Uint8Array(b*N);f(I,Y["Idx"+($+1)],D[$],G,b,N,U)}var R=t.j(b*N*4);
if(Z==0||Z==1)t.Uq({z:L[0],L:L[1],g:L[2],Jm:L[3]},R);else if(Z==4){for(var $=0;$<L[0].length;$++){var i=$*4,v=L[0][$]*(1/255),E=L[1][$]*(1/255),u=L[2][$]*(1/255),C=L[3][$]*(1/255),l=UDOC.C.cmykToRgb([v,E,u,C]);
R[i]=l[0]*255;R[i+1]=l[1]*255;R[i+2]=l[2]*255;R[i+3]=L[4][$]}}else{R.fill(255);t.Qh(L[0],R)}var x=new gc(0,0,b,N),y={buffer:R,S:x};
t.yn(y);Q[n]=[y.S,y.buffer]}var c=Q[n][2]=Q[n][0].Q();c.x+=V.x*U;c.y+=V.y*256;return Q[n]}function f(Y,G,Q,Z,g,S,U){var B=0,e=g>>>(U==256?8:7),P=S>>>8;
for(var h=0;h<P;h++)for(var V=0;V<e;V++){var I=V*U,F=h*256,c=h*e+V,D=F*g+I,n=Q[c];if(n<=1){}else if(n==2)s(Y,D,255,g,U,256);
else if(n==4){var k=G[B];B++;var b=Z[k.Data.DatI],N=k.Rect;if(N==null)N=[0,0,U,256];j(Y,(F+N[1])*g+I+N[0],b,N[1]*U+N[0],g,U,N[2]-N[0],N[3]-N[1])}else console.log(n)}}function s(Y,G,Q,Z,g,S){var U=G+Z*S;
for(;G<U;G+=Z){var B=G+g;for(var e=G;e<B;e++){Y[e]=Q}}}function j(Y,G,Q,Z,g,S,U,B){var e=G+g*B,P=Z+S*B;
for(;G<e&&Z<P;G+=g,Z+=S){for(var $=0;$<U;$++)Y[G+$]=Q[Z+$]}}return M}();function bk(){}bk.Ah=function(M,X){var J=bk,q=fp.parse(M),T=0;
if(q.pages.length>1)console.log(q.pages.length,"pages");var W=[],_=new gc;for(var m=0;m<q.pages.length;
m++){var d=q.pages[m],A=d.layers,p=J.Cs(A,m),f=!1;if(p.o()>8e3*8e3||p.r>3e4||p.$>3e4){J.alA(A,!0);var a=J.Cs(A,m);
if(a.o()>=p.o())J.alA(A,!1)}p=J.Cs(A,m);for(var s=0;s<A.length;s++){var j=A[s];if(J.Ly(j)=="artboard")f=!0}if(!f){console.log("no artboard");
var Y={};for(var G in d)Y[G]=d[G];Y._class="group";d.layers=[Y]}W.push(p.Q());if(p.M5())continue;p.x=0;
p.y=T;T+=p.$+200;_=_.m0(p)}var Q={};if(q.foreignSymbols)for(var $=0;$<q.foreignSymbols.length;$++){var Z=q.foreignSymbols[$].symbolMaster;
Q[Z.symbolID]={NY:Z}}J.a3u(q.pages,Q,X);for(var g in Q){var j=Q[g].NY,S=J.ar9(j.layers)}var U=bk.Bg(_,8192*8192);
X.hj=!0;X.r=Math.round(_.r/U);X.$=Math.round(_.$/U);X.buffer=t.j(X.r*X.$*4);X.TU(q.pages[0].layers.length);
X.nB={};X.hB=[];T=0;for(var m=0;m<q.pages.length;m++){var B=q.pages[m],p=W[m],e=new kp(U,0,0,U,p.x,p.y-T);
J.XA(B.layers,X,e,q,Q,{},[]);T+=p.$+200}delete X.nB;delete X.hB;if(U!=1)alert("File scaled down "+U+"x");
X.a9V()};bk.a4E=0;bk.Ly=function(M){return M._class?M._class:M.$class};bk.Bg=function(M,X){var J=1;while(Math.round(M.r/J)*Math.round(M.$/J)>X||Math.max(Math.round(M.r/J),Math.round(M.$/J))>3e4)J++;
if(window.ax5)return J;if(J!=1&&!window.confirm("Your image is quite large ("+M.r+" x "+M.$+" px).\n"+"Press OK to scale it down "+J+"x, or Cancel to keep the size."))J=1;
return J};bk.Cs=function(M,X){var J=[],q=bk;for(var W=0;W<M.length;W++){var T=M[W],_=q.Y$(T.frame);if(X==0||q.Ly(T)=="artboard")J.push(_)}return t.S.dF(J)};
bk.alA=function(M,X){var J=[],q=bk;for(var W=0;W<M.length;W++){var T=M[W],_=q.Y$(T.frame);_.r+=150;_.$+=150;
J.push(_)}var m=t.S.dF(J);t.S.avC(J,X);var d=t.S.dF(J);if(d.o()*1.5<m.o()||m.r>3e4&&d.r<=3e4||m.$>3e4&&d.$<=3e4){alert("Re-arranging artboards");
for(var W=0;W<M.length;W++){var A=J[W],T=M[W],p=T.frame;p.x=A.x;p.y=A.y}}};bk.a3u=function(M,X,J){if(M==null)return;
var q=bk;for(var W=0;W<M.length;W++){var T=M[W],_=q.Ly(T);if(["page","artboard","group"].indexOf(_)!=-1)q.a3u(T.layers,X,J);
else if(_=="symbolMaster")X[T.symbolID]={NY:T}}};bk.ar9=function(M){var X=bk;for(var J=0;J<M.length;
J++){var q=M[J],W=X.Ly(q),T=null;if(["page","artboard","group"].indexOf(W)!=-1)T=X.ar9(q.layers);if(W=="symbolMaster"||W=="symbolInstance")T=q;
if(T!=null)return T}return null};bk.XA=function(M,X,J,q,W,T,_){if(M==null)return;var m=bk,d=[];for(var A=0;
A<M.length;A++){var p=M[A],a=p.frame?m.Y$(p.frame):null,f=p.style,Q="",e=null,P=!1;if(f==null){console.log("no styles")}var s=m.a7W(p,J),j=m.Ly(p),Y=j=="shapeGroup"||j=="shapePath"||j=="rectangle"||j=="oval"||j=="triangle"||j=="polygon",G=["page","artboard","group"].indexOf(j)!=-1;
if(j=="shapeGroup"){for(var $=0;$<p.layers.length;$++)if(m.Ly(p.layers[$])=="shapeGroup")G=!0}var Z=p.exportOptions;
if(Z){var g=Z.exportFormats;if(g==null)g=Z.sizes;if(j!="artboard"&&(g&&g.length!=0)){var S=g[0].scale}}var U=X.C0();
U.EG(p.isVisible);var B=p.name;if(!(typeof B=="string"))B=j;U.EC(Q+B.slice(0,250));if(f!=null)e=m.aCu(q,X,f,a,s,U.getName(),Y||j=="artboard"||G);
if(j=="rectangle"&&f&&f.fills&&f.fills[0]){var h=f.fills[0];if(h.fillType==4&&h.patternFillType>1&&h.image!=null)P=!0}if(p.shouldBreakMaskChain){while(d.length!=0)m.a8j(d.pop(),X)}if(G){U.add.lsct=p.layerListExpandedType==2?gO.A$:gO.dw;
U.Sw="pass";U.l4=24;U.EG(p.isVisible);X.U.push(X.mm());if(j=="artboard"){var V=a.Q(),I=s.zQ();V.x=-Math.floor(s._f/I);
V.y=-Math.floor(s.Ey/I);V.r=Math.floor(V.r/I);V.$=Math.floor(V.$/I);U.oQ(V);var F=p.backgroundColor,c=F?{z:255*F.red,L:255*F.green,g:255*F.blue}:{z:255,L:255,g:255};
U.add.artb.Clr={t:"Objc",v:t.NX.$J(c)};U.add.artb.artboardBackgroundType={t:"long",v:4}}m.XA(p.layers,X,s,q,W,T,_)}else if(Y&&!P){var D=e!=null&&e.frameFXMulti.v.length==1;
U.add.vmsk=new K.JL;U.add.vstk=kf.XZ.IH(!0,D);var n=f?f.fills:null,k=f?m.aer(q,n,a,s,U.getName(),X,m.yk(_,p.do_objectID+"_image")):[];
if(k.length==0){if(D)U.add.vstk.fillEnabled.v=!1;else U.add.iOpa=0;U.add.SoCo={classID:"null",Clr:{t:"Objc",v:t.NX.$J({z:0,L:0,g:0})}}}else{var b=k[0],N=null,L=null;
if(b.e=="SoFi"){N="SoCo";L=kf.dB}if(b.e=="GrFl"){N="GdFl";L=kf.iz}if(b.e=="patternFill"){N="PtFl";L=kf.T7}if(N!=null){U.add[N]={classID:"null"};
for(var $=0;$<L.length;$++){var R=L[$];U.add[N][R]=b.K.v[R]}var i=b.K.v.Opct.v.val;if(D&&i==0)U.add.vstk.fillEnabled.v=!1;
else U.add.iOpa=Math.round(255*i/100)}}U.l4|=16;U.add.vmsk.X=m.HS(p.layers?p.layers:[p],p.layers?s:J);
var v=f?f.blur:null;if(v&&v.isEnabled&&v.type<=1)U.add.vmsk.VU=v.radius;if(U.add.vmsk.X.length==2){console.log("shape with no content:",U.getName())}if(D){var E=e.frameFXMulti.v[0].v,u=U.add.vstk,C=f.borders[0];
e.frameFXMulti.v=[];hA.aHK(E,u);var l=f.borderOptions,x=f.miterLimit;if(l)kf.XZ.write(u,{o5:l.lineCapStyle,NT:l.lineJoinStyle,hc:l.dashPattern,tu:x})}U.hg();
U.j$(X)}else if(j=="bitmap"||P){if(!P&&p.image==null)continue;var y=P?f.fills[0]:null,ge=P?y.image.bdata:p.image.bdata,O=X.Xg(ge,U.getName(),0,0);
O.l4=U.l4;U=O;var v=f?f.blur:null,z=f?f.colorControls:null;if(v||z){U.add.SoLd.filterFX=fV.U2();X.yE({id:U.add.SoLd.placed.v,S:new gc,buffer:t.j(1),JS:new K.$O});
var n=U.add.SoLd.filterFX.v.filterFXList.v;if(v){var eZ=fV.re("GsnB",{});eZ.v.enab.v=v.isEnabled;eZ.v.Fltr.v.Rds.v.val=v.radius;
n.push(eZ)}if(z){var kM=z.brightness,jV=z.contrast,cL=z.hue,h2=z.saturation;if(cL!=0||h2!=1){var eZ=fV.re("hue2",{});
eZ.v.enab.v=z.isEnabled;gg.eA(eZ.v.Fltr.v,0,[Math.round(cL*180/Math.PI),Math.round((h2-1)*100),0]);n.push(eZ)}if(kM!=0||jV!=1){var eZ=fV.re("brit",{});
eZ.v.enab.v=z.isEnabled;jV=jV-1;if(jV>0)jV/=2;var ea=eZ.v.Fltr.v;ea.Brgh.v=Math.round(kM*255);ea.Cntr.v=Math.round(jV*255);
ea.useLegacy.v=!0;n.push(eZ)}}}if(P){var ht=y.patternFillType;if(ht==3){var jn=U.S.r/U.S.$,gE=a.r/a.$;
if(jn<gE){s.translate(-(a.r*(1-jn/gE))/2,0);s.scale(gE/jn,1)}else{s.translate(0,-(a.$*(1-gE/jn))/2);
s.scale(1,jn/gE)}}}a.x=a.y=0;var bS=t.G.mP(a).d;s.vN();t.G.u(bS,s,bS);U.add.SoLd.Trnf=o.fx.qT(bS);U.add.SoLd.nonAffineTransform=o.fx.qT(bS);
U.el(X,!1)}else if(j=="text"){if(p.attributedString==null)continue;var bi=s.Q(),cj,bb,au=0;bi.vN();bi.Jm=bi.Bi=Math.min(bi.Jm,bi.Bi);
U.add.lnsr="rend";U.add.TySh=f5.c7(0,0);U.add.TySh.hd=new gc(0,0,a.r,a.$);U.add.TySh.u=bi;var c0=p.attributedString;
if(c0.archivedAttributedString)c0=c0.archivedAttributedString;var cV=c0.NSString;if(cV==null)cV=c0.string;
if(cV==null)cV="";if(cV["NS.string"])cV=cV["NS.string"];if(T[p.do_objectID]!=null)cV=T[p.do_objectID];
var g_=m.yk(_,p.do_objectID+"_stringValue");if(g_)cV=g_.value;if(c0.attributes!=null){cj=[];bb=[];var hx=c0.attributes;
for(var $=0;$<hx.length;$++){cj.push(hx[$].length,$);bb.push(hx[$].attributes)}}else if(c0.NSAttributeInfo==null){cj=[cV.length,0];
bb=[c0.NSAttributes]}else{cj=c0.NSAttributeInfo["NS.data"];bb=c0.NSAttributes;cj=bk.aym(cj,bb)}for(var $=0;
$<cj.length;$+=2)au+=cj[$];if(au!=cV.length){while(au>cV.length){cj[cj.length-2]--;au--;if(cj[cj.length-2]==0){cj.pop();
cj.pop()}}cj[cj.length-2]+=cV.length-au}cV=cV.replace(/\u2028/g,"\n");cV=cV.replace(/\u2029/g,"\n");
cV=cV.replace(/\r/g,"\n");var kP=U.add.TySh.Zj;f5.p7(kP,0,cV);if(cV!=""){var iK=p.textBehaviour,b3=f.textStyle,fs=b3?b3.verticalAlignment:0,ch=m.auM(kP,cj,bb,cV),I=bi.zQ(),hv=f5.TC(kP,0,1),fN=0;
if(hv.cN.Font){var g6=hv.Hd[hv.cN.Font].Name;if(g6=="FontAwesome"||g6=="Ionicons")ch*=.87}var ef=hv.cN.AutoLeading?0:hv.cN.Leading*.6,kb=Math.max(ch,ef)*I,cn=a.r,dF=a.$;
if(iK==0){f5.Wu(kP,0);var et=f5.DO(hv.Js);if(et==1)fN=cn*I;if(et==2)fN=cn*I*.5;if(fs==0)kb*=1;else kb*=.9}else{f5.Wu(kP,1);
f5.Tf(kP,[0,0,Math.round(cn),Math.round(dF)]);if(iK==2&&fs==0)kb=kb*.2;else if(iK==2&&fs==1){kb=I*.5*(dF-hv.cN.FontSize)}else if(iK==1&&fs==0)kb=kb*.2;
else kb=kb*.35}U.add.TySh.u.translate(fN,kb)}}else if(j=="symbolInstance"||j=="symbolMaster"){var bh=p.symbolID;
if(T[p.do_objectID])bh=T[p.do_objectID].symbolID;var dY=m.yk(_,p.do_objectID+"_symbolID");if(dY)bh=dY.value;
if(bh=="")continue;var jM={};for(var R in T)jM[R]=T[R];if(p.overrides)for(var R in p.overrides)jM[R]=p.overrides[R];
var bz=_.slice(0);if(p.overrideValues)bz=bz.concat(p.overrideValues);var hh=W[bh];if(hh==null){console.log("Unknown master master",p.symbolID);
continue}var dM=bk.Y$(hh.NY.frame),iX=dM.r/a.r,aW=dM.$/a.$,eC=s.Q();eC.scale(iX,aW);U.add.lsct=gO.dw;
U.Sw="pass";U.l4=24;U.EG(p.isVisible);X.U.push(X.mm());var dh=hh.NY;if(X.hB.indexOf(dh)==-1){X.hB.push(dh);
m.XA(dh.layers,X,eC,q,W,jM,bz);X.hB.pop()}}else if(j=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+j,p);continue}if(f&&f.contextSettings){var ff=f.contextSettings,fE=ff.blendMode;
if(fE<m.Fv.length){U.Sw=ae.pi[ae.TW.indexOf(m.Fv[fE])];if(G&&U.Sw=="norm")U.Sw="pass"}U.G8=Math.round(U.G8*ff.opacity)}if(e!=null){U.add.lmfx=e}X.U.push(U);
if(p.hasClippingMask&&M.length>1){d.push(U);X.U.push(X.mm())}}while(d.length!=0)m.a8j(d.pop(),X)};bk.yk=function(M,X){for(var $=0;
$<M.length;$++)if(M[$].overrideName.startsWith(X))return M[$]};bk.aym=function(M,X){var J=0,q=[];while(J+1<M.length){var W=M[J];
J++;if(W>127){W+=128*(M[J]-1);J++;if(M[J-1]>127){W+=128*(M[J]-1);J++}}var T=M[J];J++;q.push(W,T)}return q};
bk.auM=function(M,X,J,q){var W=bk,T=0,p=0,a=0;for(var $=0;$<q.length;$++){var _=q.charCodeAt($),m=1473<=_&&_<=1479||1488<=_&&_<=1514||1520<=_&&_<=1524,d=1569<=_&&_<=1594||1600<=_&&_<=1749;
if(m||d)T++}var A=T>q.length/2;for(var $=0;$<X.length;$+=2){var f=X[$],U=14,B="DejaVuSans";if(f==0)continue;
var s=X[$+1],j=J[s],Y=f5.TC(M,p,p+f-1),G=j.NSColor;if(G==null){var G=j.MSAttributedStringColorDictionaryAttribute;
if(G==null)G=j.MSAttributedStringColorAttribute;if(G==null)G="0 0 0";else G=[G.red,G.green,G.blue].join(" ")}else if(W.Ly(G)=="MSArchivedColor")G=G.dr+" "+G.dg+" "+G.db;
else if(G.NSRGB){G=G.NSRGB;G=H.zb(G,0,G.length-1)}else if(G.NSCMYK){G=G.NSCMYK;G=H.zb(G,0,G.length-1);
G=G.split(" ").map(parseFloat);var Q=1-G[0],Z=1-G[1],g=1-G[2],S=1-G[3];G=Q*S+" "+Z*S+" "+g*S}else if(G.NSWhite){G="1 1 1"}G=G.split(" ");
Y.cN.FillColor={Type:1,Values:[1,parseFloat(G[0]),parseFloat(G[1]),parseFloat(G[2])]};var e=j.MSAttributedStringFontAttribute;
if(j.NSFont){U=j.NSFont.NSSize;B=j.NSFont.NSName}else if(e){if(e.attributes){e=e.attributes;U=e.size;
B=e.name}else{var P=e.NSFontDescriptorAttributes;if(P==null)P=e.UIFontDescriptorAttributes;e=P;U=e.NSFontSizeAttribute;
B=e.NSFontNameAttribute}if(B==null)B="DejaVuSans"}var a=Math.max(a,U);Y.cN.FontSize=Math.round(U);f5.fa(Y,B);
var h=j.NSKern;if(h==null)h=j.kerning;if(h!=null)Y.cN.Tracking=Math.round(1e3*h/U);if(j.NSUnderline!=null)Y.cN.Underline=j.NSUnderline>0;
var V=j.NSStrikethrough;if(V==null)V=j.strikethroughStyle;if(V!=null)Y.cN.Strikethrough=V>0;if(j.MSAttributedStringTextTransformAttribute==1)Y.cN.FontCaps=2;
var I=j.NSParagraphStyle;if(I==null)I=j.paragraphStyle;if(I){var F=I.paragraphSpacing;if(F!=null){Y.Js.SpaceAfter=F}var c=I.NSAlignment;
if(c==null)c=I.alignment;if(c!=null){var D=0;if(!1){}else if(c==1)D=1;else if(c==2)D=2;else if(c==4)D=0;
else{D=c;console.log("unknown align",c)}if(A&&D<2)D=1-D;Y.Js.Justification=D}var n=I.NSMinLineHeight;
if(n==null)n=I.minimumLineHeight;if(n!=null){Y.cN.AutoLeading=!1;Y.cN.Leading=n}}Y.Js._Direction=A?1:0;
f5.oW(M,p,p+f,Y);p+=f}return a};bk.aCu=function(M,X,J,q,W,T,_){var m=bk,d=JSON.parse(kf.default),A=!1;
for(var $=0;$<kf.order.length;$++)d[kf.an[$]]={t:"VlLs",v:[]};var p=J.fills,a=m.aer(M,p,q,W,T,X);for(var f=0;
f<2;f++){var s=J[["shadows","innerShadows"][f]];if(s==null)continue;var j=["DrSh","IrSh"][f],Y=kf.an[kf.order.indexOf(j)];
for(var $=0;$<s.length;$++){var G=s[$];if(!G.isEnabled)continue;var Q=G.contextSettings;if(Q&&Q.opacity==0||G.color.alpha==0)continue;
var Z=JSON.parse(kf.px[kf.order.indexOf(j)]);d[Y].v.unshift({t:"Objc",v:Z});A=!0;Z.Clr.v=m.WC(G.color);
Z.blur.v.val=Math.round(G.blurRadius/W.zQ());var g=W.Q();g._f=g.Ey=0;g.vN();var S=g.y8(new es(G.offsetX,G.offsetY)),U=Math.sqrt(S.x*S.x+S.y*S.y);
Z.Dstn.v.val=Math.round(U);Z.lagl.v.val=Math.round(Math.atan2(S.y,-S.x)*(180/Math.PI));if(Z.layerConceals)Z.layerConceals.v=a.length!=0;
m.x_(G,Z)}}var B=J.borders;if(B!=null&&(a.length==0||J.blur==null||!J.blur.isEnabled))for(var $=0;$<B.length;
$++){var e=B[$];if(!e.isEnabled)continue;var Z=JSON.parse(kf.px[kf.order.indexOf("FrFX")]),Y=kf.an[kf.order.indexOf("FrFX")];
d[Y].v.unshift({t:"Objc",v:Z});A=!0;Z.Clr.v=m.WC(e.color);if(e.fillType!=0&&e.gradient){var P=m.anD(e.gradient,q,W,T),h=["Type","Angl","Ofst","Scl"];
for(var $=0;$<h.length;$++)Z[h[$]]=P[h[$]];Z.Grad.v=P.Grad.v;Z.PntT.v.FrFl="GrFl"}Z.Sz.v.val=Math.round(e.thickness/W.zQ());
Z.Styl.v.FStl=["CtrF","InsF","OutF"][e.position];m.x_(e,Z)}for(var $=_?1:0;$<a.length;$++){var V=a[$],Y=kf.an[kf.order.indexOf(V.e)];
d[Y].v.unshift(V.K);A=!0}return A?d:null};bk.aer=function(M,X,J,q,W,T,_){if(X==null)return[];var m=bk,d=[];
for(var $=0;$<X.length;$++)if(X[$].isEnabled)d.push(X[$]);X=d;var A=[];for(var $=0;$<X.length;$++){var p=X[$],a=null,f=null;
if(p.fillType==0){a="SoFi";var s=JSON.parse(kf.px[kf.order.indexOf("SoFi")]);f={t:"Objc",v:s};f.v.Clr.v=m.WC(p.color)}else if(p.fillType==1){a="GrFl";
f={t:"Objc",v:m.anD(p.gradient,J,q,W)}}else if(p.fillType==4&&p.image!=null){var j=p.image;if(_)j=_.value;
var Y=h1.$Y(j.bdata.buffer);if(Y=="fpng")Y="png";if(Y!=null&&Y!="pdf"&&Y!="eps"){var G,U=0,B=0,e=0;if(T.nB[j.key])G=T.nB[j.key];
else{var Q={data:new ArrayBuffer(4),kq:new gc(0,0,1,1)};try{Q=h1.mr(Y).ss(j.bdata)[0]}catch(hP){}G={};
G.id=dD.dG()+"-d71c-11e5-b1ae-a548a96e5f9f";G.name="someImage";G.c5=[new Uint8Array(Q.data),Q.kq];T.m_(G);
T.nB[j.key]=G}var Z=G.c5[1],s=JSON.parse(kf.px[kf.order.indexOf("patternFill")]);a="patternFill";f={t:"Objc",v:s};
var g=p.patternFillType,S=p.patternTileScale;s.Algn.v=!0;s.Ptrn.v.Idnt.v=G.id;if(g==0){U=S*Z.r/Math.min(Z.r,Z.$);
B=-q._f;e=-q.Ey}else{U=Math.max(J.r/Z.r,J.$/Z.$);B=-q._f-(Z.r*U-J.r)/2;e=-q.Ey-(Z.$*U-J.$)/2}s.Scl.v.val=100*U*(1/q.zQ());
s.phase.v.Hrzn.v=Math.round(B/q.zQ());s.phase.v.Vrtc.v=Math.round(e/q.zQ())}}else if(p.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",p.fillType);
if(a!=null){m.x_(p,f.v);A.push({e:a,K:f})}}return A};bk.a0X=function(M){var X=bk,J=new gc(0,0,1,1);M=M.slice(0);
while(!0){var q=!1;for(var $=0;$<M.length-1;$++){var W=M[$],T=M[$+1],_=null,m=W.contextSettings;if(W.fillType==0&&(m==null||m.opacity==1&&m.blendMode==0)&&W.color.alpha==1){var d="norm",A=1,m=T.contextSettings;
if(m){A=m.opacity;d=ae.Wz(X.Fv[m.blendMode])}if(T.fillType==0){_=t.b(T);X.aEq(_.color,W.color,_.color,J,d,A)}if(T.fillType==1){_=t.b(T);
var p=_.gradient.stops;for(var a=0;a<p.length;a++)X.aEq(p[a].color,W.color,p[a].color,J,d,A)}if(_!=null&&_.contextSettings){var m=_.contextSettings;
m.opacity=1;m.blendMode=0}}if(_!=null){M.splice($,0,_);q=!0;break}}if(!q||M.length<2)break}return M};
bk.aEq=function(M,X,J,q,W,T){var _=bk,m=t.j(4);_.a3b(M,m);var d=t.j(4);_.a3b(X,d);t.v.r$(W,m,q,d,q,q,T);
_.ahf(d,J)};bk.a3b=function(M,X){X[0]=255*M.red;X[1]=255*M.green;X[2]=255*M.blue;X[3]=255*M.alpha};bk.ahf=function(M,X){X.red=M[0]/255;
X.green=M[1]/255;X.blue=M[2]/255;X.alpha=M[3]/255};bk.a8j=function(M,X){M=M.Q();M.l4=24;M.EC("Mask by "+M.getName());
X.U.push(M);M.add.lsct=gO.A$;M.add.lyid=X.ic();delete M.add.lmfx;delete M.add.SoCo;delete M.add.GdFl;
delete M.add.PtFl;delete M.add.iOpa;if(M.add.vmsk)M.add.vmsk.A8=!0;M.hg();M.j$(X);if((M.l4&16)==16)M.l4-=16;
if((M.l4&2)==2)M.l4-=2;M.Sw="pass";M.G8=255};bk.Fv="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
bk.anD=function(M,X,J,q){J=J.Q();J.vN();J._f=J.Ey=0;var W=J.zQ(),f=0,s=0;J.scale(1/W,1/W);var T=bk,_=JSON.parse(kf.px[kf.order.indexOf("GrFl")]),m=_.Grad.v;
m.Intr.v=0;if(M==null)return _;var d=M.gradientType,A=T.JF(M.from),p=T.JF(M.to);A.offset(-.5,-.5);p.offset(-.5,-.5);
A=J.y8(A);p=J.y8(p);var a=Math.atan2(-(p.y-A.y),p.x-A.x);_.Type.v.GrdT=["Lnr","Rdl","Angl"][d];_.Scl.v.val=100*es.Yq(A,p);
if(d==0){_.Angl.v.val=180/Math.PI*a;_.Scl.v.val=100*es.Yq(A,p);f=(A.x+p.x)/2;s=(A.y+p.y)/2}if(d==1){_.Scl.v.val=200*es.Yq(A,p);
f=A.x;s=A.y}if(d==2){_.Angl.v.val=180/Math.PI*(a-Math.PI/2)}var j=_.Ofst.v;j.Hrzn.v.val=f*100;j.Vrtc.v.val=s*100;
var Y=[];for(var $=0;$<M.stops.length;$++){var G=M.stops[$],Q=G.color;Y.push([G.position,Q?[Q.red,Q.green,Q.blue]:[0,0,0],Q.alpha])}t.NX.ex(Y,m);
return _};bk.x_=function(M,X){var J=bk,q=1,W=M.contextSettings;if(W!=null){X.Md.v.BlnM=J.Fv[W.blendMode];
q*=W.opacity}else X.Md.v.BlnM=J.Fv[0];X.enab.v=M.isEnabled;if(X.uglg!=null)X.uglg.v=!1;if(M.color!=null)q*=M.color.alpha;
X.Opct.v.val=Math.round(q*100)};bk.WC=function(M){return t.NX.$J(M?{z:M.red*255,L:M.green*255,g:M.blue*255}:{z:0,L:0,g:0})};
bk.HS=function(M,X){var J=bk,q=[{e:6},{e:8,all:0}];for(var W=0;W<M.length;W++){var T=M[W],_=T.booleanOperation,m=0,d=T._class,j=!1;
if(d=="group"||d=="text"||d=="symbolInstance"||d=="slice"){console.log(d+" inside ShapeGroup");continue}if(_==-1)m=0;
else if(_==0)m=1;else if(_==1)m=2;else if(_==2)m=3;else if(_==3)m=0;if(W==0)m=1;var A=bk.Y$(T.frame),p=J.a7W(T,X),a=T.path?T.path:T,f=[{e:0,length:0,li:m,h8:2,gF:0,Ni:0}],s=a.points;
for(var $=0;$<s.length;$++){var Y=s[$],G=J.JF(Y.curveTo),Q=J.JF(Y.point),Z=J.JF(Y.curveFrom);j=j||Y.hasCurveFrom&&!Z.w6(Q)||Y.hasCurveTo&&!G.w6(Q)}var g=[];
if(!j){var S=[],jX=s.length;if(jX==0)continue;for(var $=0;$<jX;$++){g[$]=s[$].cornerRadius;var Y=J.JF(s[$].point);
S.push(Y.x,Y.y)}p.scale(1/A.r,1/A.$);p.vN();t.G.u(S,p,S);f=t.I.bg.Uw(S,g).slice(2);f[0].li=m}else{var U=s.length;
f[0].length=U;for(var $=0;$<U;$++){var Y=s[$],B=Y.curveMode,e=J.JF(Y.point);f[1+$]={e:B==2||B==4?1:2,vX:Y.hasCurveTo?J.JF(Y.curveTo):e.Q(),Z:e,vJ:Y.hasCurveFrom?J.JF(Y.curveFrom):e.Q()}}p.scale(1/A.r,1/A.$);
p.vN();t.I.cI(f,p);var g=[];for(var $=0;$<U;$++){var Y=s[$],B=Y.curveMode,P=Y.cornerRadius;if(B==1&&P!=0)g.push(P);
else g.push(0)}}if(!a.isClosed)for(var $=0;$<f.length;$++)f[$].e+=3;q=q.concat(f);var h=J.Ly(T);if(p.g==0&&p.br==0){var V=p._f,I=p.Ey,F=V+p.Jm,c=I+p.Bi,D=[V,I,F,c]}}return q};
bk.a7W=function(M,X){var J=X.Q(),q=M.frame?bk.Y$(M.frame):null;if(q)J.translate(-q.x-q.r/2,-q.y-q.$/2);
if(M.isFlippedHorizontal)J.scale(-1,1);if(M.isFlippedVertical)J.scale(1,-1);J.rotate(-M.rotation*(Math.PI/180));
if(q)J.translate(q.r/2,q.$/2);return J};bk.JF=function(M){M=M.slice(1,M.length-1).split(",");return new es(parseFloat(M[0]),parseFloat(M[1]))};
bk.Y$=function(M){return new gc(M.x,M.y,M.width,M.height)};bk.at5=function(M){return{_class:"rect",constrainProportions:!1,x:M.x,y:M.y,width:M.r,height:M.$}};
function cr(){}cr.Ah=function(M,X){var J=Date.now(),q=cr,W=UZIP.parse(M),T=JSON.parse(H.Og(W.manifest)),_=JSON.parse(H.Og(W["resources/graphics/graphicContent.agc"])).resources,m=[],d=[],A=T.children;
for(var $=0;$<A.length;$++){var p=A[$];if(p.name=="artwork"){var a=p.children;for(var f=0;f<a.length;
f++){var s=a[f],j=JSON.parse(H.Og(W["artwork/"+s.path+"/graphics/graphicContent.agc"])),Y=j.children;
if(Y.length==0){}else if(Y.length==1){if(s["uxdesign#bounds"]){s._node=Y[0];m.push(s)}}else{var G=Y[0],Q=G.transform,Z=G.shape;
if(Z==null)Z={x:0,y:0,width:1e3,height:1e3};if(Z.type=="path"){var g=t.G.Oi(Typr.U.SVGToPath(Z.path).crds);
Z={x:g.x,y:g.y,width:g.r,height:g.$}}Z=t.b(Z);if(Q){Z.x+=Q.tx;Z.y+=Q.ty}s["uxdesign#bounds"]=Z;s._node={type:"artboard",artboard:{children:Y}};
d.push(s)}}}}if(m.length==0)m=d;var S=[],U=new gc;for(var $=0;$<m.length;$++){var s=m[$],B=bk.Y$(s["uxdesign#bounds"]);
S.push(B);U=U.m0(B)}var e=bk.Bg(U,8192*8192);X.hj=!0;X.r=Math.round(U.r/e);X.$=Math.round(U.$/e);X.buffer=t.j(X.r*X.$*4);
X.TU(m.length);var P=new kp(e,0,0,e,U.x,U.y);X.nB={};for(var $=0;$<m.length;$++){var s=m[$],B=bk.Y$(s["uxdesign#bounds"]),h=s._node,V=P.Q(),I=B.Q(),F=V.zQ();
V.translate(-B.x,-B.y);I.x=-Math.floor(V._f/F);I.y=-Math.floor(V.Ey/F);I.r=Math.floor(I.r/F);I.$=Math.floor(I.$/F);
V.translate(B.x,B.y);cr.lf(h,X,V,_,W,I);var c=X.U[X.U.length-1];c.EC(s.name);c.oQ(I);if($!=m.length-1)c.add.lsct=gO.dw}delete X.nB};
cr.dr=function(M){if(M==null)return new kp;return new kp(M.a,M.b,M.c,M.d,M.tx,M.ty)};cr.lf=function(M,X,J,q,W,T){var _=cr,m=M.type,d=M[m],A=M.style,p=_.dr(M.transform),j,Y="none",G,Q="none",Z,g;
p.vN();var a=J.Q();a.concat(p);var f=X.C0(),s=M.name;f.EC(s?s.slice(0,250):"Layer");if(M.visible!=null)f.EG(M.visible);
if(A){j=A.stroke;Y=j?j.type:"none";G=A.fill;Q=G?G.type:"none";if(G&&Object.keys(G).length==1)Q="none";
Z=A.filters;g=A.clipPath;if(g&&q.clipPaths[g.ref])g=q.clipPaths[g.ref].children;else g=null;if(A.opacity!=null)f.G8=Math.round(255*A.opacity);
if(Q=="solid"&&G.color.alpha)f.G8=Math.round(f.G8*G.color.alpha);if(Z){f.add.lmfx=_.axe(Z);for(var $=0;
$<Z.length;$++)if(Z[$].type=="uxdesign#blur"){var S=Z[$],U=S.params,B=U.brightnessAmount;if(B==null)B=0;
B=Math.abs(B/100);if((S.visible==null||S.visible==!0)&&U.backgroundEffect)f.G8=Math.round(f.G8*(B+(1-B)*U.fillOpacity))}}if(Q=="pattern"&&G.pattern.meta.ux.uid=="")Q="none"}if(g==null&&M.meta&&M.meta.ux&&M.meta.ux.clipPathResources)g=M.meta.ux.clipPathResources.children;
if(m=="artboard"||m=="group"){if(g){var e=g[0],P=e.shape,h=P!=null&&P.type=="rect"&&P.width*P.height>4e6;
if(e.type!="text"&&!h){if(P){var p=_.dr(e.transform);p.vN();var V=a.Q();V.concat(p);f.add.vmsk=new K.JL;
f.add.vmsk.X=_.HS(P);V=V.Q();V.vN();t.I.cI(f.add.vmsk.X,V);f.hg();f.j$(X)}}else if(!h)alert("Clipping by text has been ignored")}f.add.lsct=gO.A$;
f.Sw="pass";f.l4=24;if(M.visible!=null)f.EG(M.visible);X.U.push(X.mm());var I=d.children,F=G;if(F)F=F.color;
if(F)F=F.value;if(G){if(m=="artboard"&&Q=="solid"){f.oQ(new gc(0,0,10,10));f.add.artb.Clr={t:"Objc",v:t.NX.$J({z:F.r,L:F.g,g:F.b})};
f.add.artb.artboardBackgroundType={t:"long",v:4}}else{var c=X.C0();c.EC("BACKGROUND");c.l4|=16;c.add.vstk=kf.XZ.IH();
c.add.vmsk=new K.JL;c.add.vmsk.X=_.HS({type:"rect",x:T.x,y:T.y,width:T.r,height:T.$});_.d5(G,Q,a,T,T,c,X,q,W);
c.hg();c.j$(X);X.U.push(c)}}for(var $=0;$<I.length;$++){cr.lf(I[$],X,a,q,W,T)}}else if(m=="shape"&&(d.type=="rect"&&(d.r==null||d.r==0)||d.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(d.path)))&&Q=="pattern"&&(Math.abs(d.width/d.height-G.pattern.width/G.pattern.height)<.01||A.fill.pattern.meta.ux.scaleBehavior=="fill")){var D=G.pattern,n=D.meta.ux,k=n.uid,b=W["resources/"+k];
if(b==null){console.log(D);return}var N=X.Xg(b,f.getName(),0,0);N.l4=f.l4;N.G8=f.G8;f=N;var L=t.I.NP(_.HS(d),null),R=t.G.mP(new gc(0,0,D.width,D.height)).d,i=new kp;
i.scale(D.width/L.r,D.height/L.$);if(n.offsetX)i.translate(-n.offsetX*D.width,0);if(n.offsetY)i.translate(0,-n.offsetY*D.height);
a.concat(i);a.vN();t.G.u(R,a,R);f.add.SoLd.Trnf=o.fx.qT(R);f.add.SoLd.nonAffineTransform=o.fx.qT(R);
f.el(X,!1)}else if(m=="shape"){f.l4|=16;f.add.vstk=kf.XZ.IH();f.add.vmsk=new K.JL;f.add.vmsk.X=_.HS(d);
var L=t.I.NP(f.add.vmsk.X,null),V=a.Q();V.vN();t.I.cI(f.add.vmsk.X,V);var E=t.I.NP(f.add.vmsk.X,null);
if(Y=="none"){}else{var u=j.color.value,C,l;C="SoFi";var x=JSON.parse(kf.px[kf.order.indexOf("SoFi")]);
l={t:"Objc",v:x};l.v.Clr.v=t.NX.$J({z:u.r,L:u.g,g:u.b});var y=j.align,ge=j.cap;if(y==null)y="center";
var O=f.add.vstk;O.strokeEnabled.v=!0;O.strokeStyleLineWidth.v.val=j.width;if(y)O.strokeStyleLineAlignment.v.strokeStyleLineAlignment=kf.XZ._z[["inside","center","outside"].indexOf(y)];
if(ge)O.strokeStyleLineCapType.v.strokeStyleLineCapType=kf.XZ.fO[["butt","round","square"].indexOf(ge)];
var z=["SoFi","GrFl","patternFill"].indexOf(C),eZ=[kf.dB,kf.iz,kf.T7][z];O.strokeStyleContent.v={classID:kf.XZ.PP[0]};
var kM=O.strokeStyleContent.v={classID:kf.XZ.PP[z]};for(var $=0;$<eZ.length;$++)kM[eZ[$]]=l.v[eZ[$]]}if(Z)for(var $=0;
$<Z.length;$++)if(Z[$].type=="uxdesign#blur"&&Z[$].visible){var jV=Z[$];f.add.vmsk.VU=jV.params.blurAmount}_.d5(G,Q,a,L,E,f,X,q,W);
f.hg();f.j$(X)}else if(m=="text"&&M.text){var cL=M.text,aw=cL.frame,h2=A.font,ea=A.textAttributes,p=a.Q(),cj=0;
p.vN();f.add.lnsr="rend";f.add.TySh=f5.c7(0,0);f.add.TySh.hd=new gc(0,0,100,100);f.add.TySh.u=p;var ht=f.add.TySh.Zj,jn=cL.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
f5.p7(ht,0,jn);if(jn!=""){var gE=f5.TC(ht,0,1),bS=h2.postscriptName;if(bS==null)bS=h2.family;f5.fa(gE,bS);
gE.cN.FontSize=Math.round(h2.size);if(Q=="solid"){var u=G.color.value;gE.cN.FillColor={Type:1,Values:[1,u.r/255,u.g/255,u.b/255]}}if(ea){if(ea.paragraphAlign)gE.Js.Justification=["left","right","center"].indexOf(ea.paragraphAlign);
if(ea.letterSpacing)gE.cN.Tracking=Math.round(ea.letterSpacing);if(ea.lineHeight){gE.cN.AutoLeading=!1;
gE.cN.Leading=Math.round(ea.lineHeight)}}f5.oW(ht,0,jn.length,gE)}var bi=M.meta.ux.rangedStyles;if(bi)for(var $=0;
$<bi.length;$++){var d=bi[$],bb=Math.min(d.length,jn.length-cj);if($==bi.length-1)bb=jn.length-cj;var gE=f5.TC(ht,cj,cj+bb),bS=d.postscriptName;
if(bS==null)bS=d.family;if(bS!=null)f5.fa(gE,bS);var c0=d.textScript,cV=d.underline,g_=d.fontSize,S=d.fill,hx=d.textTransform;
if(c0&&c0!="none")gE.cN.FontBaseline=c0=="superscript"?1:2;if(cV!=null)gE.cN.Underline=cV;if(g_!=null)gE.cN.FontSize=Math.round(g_);
if(hx!=null)gE.cN.FontCaps=hx=="uppercase"?2:0;if(hx=="lowercase"){f5.FZ(ht,cj,cj+bb);f5.p7(ht,cj,jn.slice(cj,cj+bb).toLowerCase())}if(S!=null){var au=S.value;
gE.cN.FillColor={Type:1,Values:[1,(au>>>16&255)/255,(au>>>8&255)/255,(au>>>0&255)/255]}}f5.oW(ht,cj,cj+bb,gE);
cj+=bb}if(aw.type=="area"||aw.type=="autoHeight"){var kP=aw.width,iK=aw.height;f5.Wu(ht,1);f5.Tf(ht,[0,0,kP,iK!=null?iK:kP*2])}}else if(m=="syncRef"){var b3=M.syncSourceGuid,fs=q.meta.ux.symbols,ch=_.uq(fs,b3);
if(ch){var hv=a.Q();hv.concat(_.dr(ch.transform));cr.lf(ch,X,hv,q,W,T)}return}else console.log(m,M);
X.U.push(f)};cr.uq=function(M,X){for(var $=0;$<M.length;$++){var J=M[$],q=J.group;if(J.id==X)return J;
if(q){var W=cr.uq(q.children,X);if(W)return W}}return null};cr.HS=function(M){var X=M.type,J=[{e:6},{e:8,all:0}];
if(X=="rect"){var q=M.r,W=M.x,T=M.y,_=M.width,m=M.height;J=t.I.bg.Rect(W,T,_,m,q?q:0)}else if(X=="circle"){var q=M.r;
J=t.I.bg.hQ(M.cx-q,M.cy-q,2*q,2*q)}else if(X=="ellipse"){var d=M.rx,A=M.ry;J=t.I.bg.hQ(M.cx-d,M.cy-A,2*d,2*A)}else if(X=="path"||X=="compound"){var p=Typr.U.SVGToPath(M.path);
J=t.G.n$({C6:p.cmds,d:p.crds},!1)}else if(X=="line"){var a=M.x1,f=M.x2,s=M.y1,j=M.y2;J=t.I.bg.Uw([a,s,f,j],0,!0)}else if(X=="polygon"){var Y=M.points,G=[];
for(var $=0;$<Y.length;$++)G.push(Y[$].x,Y[$].y);J=J.concat(t.I.bg.Uw(G,0,!1).slice(2))}else console.log(X,M);
return J};cr.axe=function(M){var X=JSON.parse(kf.default);for(var $=0;$<kf.order.length;$++)X[kf.an[$]]={t:"VlLs",v:[]};
for(var $=0;$<M.length;$++){var J=M[$],q=J.type,W=J.params,T=J.visible;if(q=="dropShadow"){var _=kf.an[kf.order.indexOf("DrSh")],m=JSON.parse(kf.px[kf.order.indexOf("DrSh")]);
X[_].v.unshift({t:"Objc",v:m});var d=W.dropShadows;if(d.length!=1)throw"e";var A=d[0],p=A.color,a=p.value,f=A.dx,s=A.dy;
m.Clr.v=t.NX.$J({z:a.r,L:a.g,g:a.b});m.Opct.v.val=Math.round((p.alpha!=null?p.alpha:1)*100);m.uglg.v=!1;
m.enab.v=T!=null?T:!0;m.lagl.v.val=Math.round(180/Math.PI*Math.atan2(s,-f));m.Dstn.v.val=Math.round(Math.sqrt(f*f+s*s));
m.blur.v.val=Math.round(A.r*2.3)}}return X};cr.d5=function(M,X,J,q,W,T,_,m,d){var A=cr;T.add.vstk.fillEnabled.v=X!="none";
if(X=="none"){T.add.SoCo={classID:"null",Clr:{t:"Objc",v:t.NX.$J({z:0,L:0,g:0})}}}else{var p,a,f;if(X=="solid"){var s=M.color.value;
p="SoCo";a=kf.dB;var j=JSON.parse(kf.px[kf.order.indexOf("SoFi")]);f={t:"Objc",v:j};f.v.Clr.v=t.NX.$J({z:s.r,L:s.g,g:s.b})}else if(X=="gradient"){p="GdFl";
a=kf.iz;var j=JSON.parse(kf.px[kf.order.indexOf("GrFl")]),Y=j.Grad.v,S,U,B;Y.Intr.v=0;var G=M[X],Q=G.ref?m.gradients[G.ref]:G.meta.ux.gradientResources,Z=["linear","radial","angular"].indexOf(Q.type),g=Q.stops;
j.Type.v.GrdT=["Lnr","Rdl","Angl"][Z];if(Z==0){var S=new es(G.x1,G.y1),U=new es(G.x2,G.y2);S.x=U.x+.5*(S.x-U.x);
S.y=U.y+.5*(S.y-U.y)}else{var S=new es(G.cx,G.cy),U=new es(G.cx+G.r,G.cy)}B=W;if(G.units=="objectBoundingBox"){var e=new kp(q.r,0,0,q.$,q.x,q.y);
S=e.y8(S);U=e.y8(U)}var e=A.dr(G.transform);S=e.y8(S);U=e.y8(U);e=J.Q();e.vN();S=e.y8(S);U=e.y8(U);t.NX.Z5(S,U,B,j);
var P=[];for(var $=0;$<g.length;$++){var h=g[$],V=h.color,s=V.value,I=V.alpha;if(I==null)I=1;P.push([h.offset,[s.r/255,s.g/255,s.b/255],I])}t.NX.ex(P,Y);
f={t:"Objc",v:j}}else if(X=="pattern"){p="PtFl";a=kf.T7;var j=JSON.parse(kf.px[kf.order.indexOf("patternFill")]),R;
f={t:"Objc",v:j};var F=M[X],c=F.meta.ux,D=c.uid,n=d["resources/"+D].buffer,k=c.flipX,b=c.flipY,N=D+k+b,L=h1.$Y(n);
if(_.nB[N])R=_.nB[N];else{var i=new gc(0,0,F.width,F.height),v;if(i.M5()||L==null){i=new gc(0,0,1,1);
v=new ArrayBuffer(4)}else{var E=h1.mr(L);if(E.R8){var u=new dD;E.ss(n,u);v=u.m7().buffer}else{try{var C=E.ss(n)[0];
v=C.data;i=C.kq}catch(hP){v=new ArrayBuffer(i.o()*4)}}}R={};R.id=dD.dG()+"-d71c-11e5-b1ae-a548a96e5f9f";
R.name="someImage";R.c5=[new Uint8Array(v),i];if(k)t.t.E1(R.c5[0].slice(0),R.c5[0],i.r,i.$);if(b)t.t.aBq(R.c5[0].slice(0),R.c5[0],i.r,i.$);
_.m_(R);_.nB[N]=R}var l=J.Q();l.vN();l.translate(q.x,q.y);var x=q.r,y=q.$,ge=R.c5[1].r,O=R.c5[1].$,z=Math.max(x/ge,y/O);
if(c.scale)z*=c.scale;var eZ=new kp;eZ.translate(-ge/2,-O/2);eZ.scale(1/ge,1/O);if(c.offsetX!=null)eZ.translate(c.offsetX,c.offsetY);
eZ.scale(ge,O);eZ.scale(z,z);eZ.translate(x/2,y/2);eZ.concat(l);hA.a2U(R,j,0,0,1e3,eZ)}else console.log(X);
if(p!=null){T.add[p]={classID:"null"};for(var $=0;$<a.length;$++){var kM=a[$];T.add[p][kM]=f.v[kM]}}}};
var ka=function(){function M(G){return G.tagName?G.tagName.split(":").pop():null}function X(G,Q,Z){if(Z&&Z[0]==null)Z=null;
G=new Uint8Array(G);var g,L=1;if(G[0]==255&&G[1]==254)g=H.$_(G,2,(G.length>>>1)-1);else g=H.Og(G,0,G.length);
var S=new DOMParser,U=S.parseFromString(g,"image/svg+xml"),B=U.getElementsByTagName("style")[0];if(B)B=Typr.U.SVG.cssMap(B.textContent);
else B={};var e=U.firstChild;while(M(e)!="svg")e=e.nextSibling;var P=new gc(0,0,100,100),h=e.getAttribute("viewBox"),V=e.getAttribute("width"),I=e.getAttribute("height"),F=V!=null?parseFloat(V):parseFloat(I),c=I!=null?parseFloat(I):parseFloat(V);
if(h){var D=J(h);P.x=D[0];P.y=D[1];P.r=D[2];P.$=D[3];if(V!=null){var n=D[2]/D[3],k=F/c;if(k>n){var b=D[3]*k-P.r;
P.x-=b/2;P.r+=b}if(k<n){var N=D[2]/k-P.$;P.y-=N/2;P.$+=N}}}else if(V!=null||I!=null){P.r=F;P.$=c}P=t.G.JE(P);
while(Z&&Math.max(P.r*L,P.$*L)<Math.max(Z[0],Z[1]))L++;while(Z==null&&Math.max(P.r,P.$)*L>8192)L*=.5;
Q.hj=!0;Q.r=~~(P.r*L);Q.$=~~(P.$*L);var R=new kp(L,0,0,L,-P.x*L,-P.y*L),i={$m:a(e),a03:B,Kd:0};q(U,e.children,Q,R,i,new kp,0);
if(Q.U.length==0){var v=Q.C0();v.EC("Layer");Q.U.push(v)}}function J(G){var Q=" ";if(G.indexOf(",")!=-1)Q=",";
return G.split(Q).map(parseFloat)}function q(G,Q,Z,g,S,U,B,e){var P=["display","opacity","fill-opacity","filter","clip-path"],h=0;
for(var V=0;V<Q.length;V++){var I=Q[V],F=M(I),c=I.getAttribute("id"),k=13,i=1,u="clip-path",C=null,kM=0;
if(c==null)c=I.getAttribute("data-name");var D=a(I,S.a03);for(var n in S.$m)if((P.indexOf(n)==-1||e)&&D[n]==null)D[n]=S.$m[n];
if(D["font-size"])k=_(D["font-size"],k);var b=d(I);if(I.getAttribute("dx"))b._f+=_(I.getAttribute("dx"),k);
if(I.getAttribute("dy"))b.Ey+=_(I.getAttribute("dy"),k);b.concat(g);var N=I.getAttribute("visibility"),L=D.display,R=Z.C0();
if(N=="hidden"||L=="none")R.EG(!1);R.EC(c!=null?c.split(":::")[0]:"Layer");if(D.opacity)i*=parseFloat(D.opacity);
if(D["fill-opacity"]){var v=parseFloat(D["fill-opacity"]);if(v!=0)i*=v}R.G8=Math.round(255*i);if(D["mix-blend-mode"]){var E=ae.U_.indexOf(D["mix-blend-mode"]);
if(E!=-1)R.Sw=ae.pi[E]}if(I.getAttribute(u)==null)u="mask";if(I.getAttribute(u)!=null||D["clip-path"]){var l=I.getAttribute(u);
if(l==null)l=D["clip-path"];l=l.slice(4,l.length-1);var x=G.getElementById(l.slice(1));if(x){var y=x.children;
C=Z.C0();C.EC("Clip-Path"+(c?": "+c:""));C.add.lsct=B<2?gO.A$:gO.dw;C.Sw="pass";C.l4=24;var ge=C.add.vmsk=new K.JL;
Z.U.push(Z.mm());var O=[];if(x.getAttribute(u)){var l=x.getAttribute(u);l=l.slice(4,l.length-1);O=G.getElementById(l.slice(1)).children}for(var $=0;
$<y.length;$++){var kz=d(y[$]);kz.concat(b);var z=T(Z,G,y[$],!1).slice(2);t.I.cI(z,kz);ge.X=ge.X.concat(z)}for(var $=0;
$<O.length;$++){var kz=d(y[$]);kz.concat(b);var z=T(Z,G,O[$],!1).slice(2);for(var eZ=0;eZ<z.length;eZ++)if(z[$].li!=null)z[$].li=3;
t.I.cI(z,kz);ge.X=ge.X.concat(z)}for(var $=0;$<ge.X.length;$++)if(ge.X[$].li!=null)ge.X[$].li=0;C.hg();
C.j$(Z);B++}}if(D.filter&&D.filter!="none"){var jV=D.filter,aw,h2,ea,jn=!1,gE=!1,bS=!1;jV=jV.slice(5,jV.length-1);
var cL=G.getElementById(jV),ht=[0,0,0,.5],bi=b.zQ();if(cL)for(var $=0;$<cL.children.length;$++){var cj=cL.children[$],bb=M(cj);
if(bb=="feGaussianBlur"){jn=!0;aw=parseFloat(cj.getAttribute("stdDeviation"))*bi}if(bb=="feColorMatrix"){var c0=cj.getAttribute("values");
if(c0){c0=c0.split(" ").map(parseFloat);ht=[c0[4],c0[9],c0[14],c0[18]]}}if(bb=="feComposite"){bS=!0}if(bb=="feOffset"){gE=!0;
var cV=cj.getAttribute("dx"),g_=cj.getAttribute("dy");h2=parseFloat(cV?cV:0)*bi;ea=parseFloat(g_?g_:0)*bi}}if(jn&&(bS||gE)){var hx=bS?"IrSh":"DrSh";
if(hx=="IrSh"){R.add.iOpa=0}var au=JSON.parse(kf.px[kf.order.indexOf(hx)]);au.blur.v.val=Math.round(aw*2.4);
var kP=Math.sqrt(h2*h2+ea*ea);au.uglg.v=!1;au.Dstn.v.val=Math.round(kP);au.lagl.v.val=Math.round(Math.atan2(ea,-h2)*(180/Math.PI));
au.Clr.v=t.NX.$J({z:ht[0]*255,L:ht[1]*255,g:ht[2]*255});au.Opct.v.val=Math.round(ht[3]*100);W(R,kf.an[kf.order.indexOf(hx)],au)}else if(jn)kM=aw}if(F=="g"||F=="a"||F=="svg"||F=="switch"||(F=="text"||F=="textPath")&&I.children.length>0||F=="symbol"&&e){if(F=="text")U=A(I,U);
var iK=I.getAttribute("viewBox"),b3=I.getAttribute("width"),fs=I.getAttribute("height");if(F=="svg"&&b3&&fs&&iK==null)iK="0 0 "+b3+" "+fs;
if(iK&&b3&&fs){var ch=J(iK),hv=A(I),g6=new kp;g6.translate(-ch[0],-ch[1]);g6.scale(parseFloat(b3)/ch[2],parseFloat(fs)/ch[3]);
g6.translate(hv._f,hv.Ey);g6.concat(b);b=g6}var ef=I.children.length,fN=S.$m;S.$m=D;var kb=S.Kd;S.Kd=Math.max(S.Kd,kM);
var cn=F!="text"&&F!="textPath"||ef>1;if(cn){var dF=R.cV();R.add.lsct=B<2&&dF&&(c==null||!c.endsWith(":::"))?gO.A$:gO.dw;
R.Sw="pass";R.l4=24;R.EG(dF);Z.U.push(Z.mm())}q(G,I.children,Z,b,S,U,B+1);if(cn)Z.U.push(R);else{var et=Z.U[Z.U.length-1];
et.G8=R.G8;et.Sw=R.Sw}S.Kd=kb;S.$m=fN}else if(F=="use"){var g6=A(I);g6.concat(b);var bh=s(I),dY=G.getElementById(bh.slice(1));
if(dY){var fN=S.$m;S.$m=D;if(D.filter)dY.setAttribute("filter",D.filter);q(G,[dY],Z,g6,S,U,B+1,!0);S.$m=fN}}else if(F=="path"||F=="rect"||F=="circle"||F=="ellipse"||F=="polygon"||F=="polyline"||F=="line"){R.l4|=16;
var ge=R.add.vmsk=new K.JL,jM=D.fill,bz=jM=="none"||D["fill-opacity"]&&parseFloat(D["fill-opacity"])==0,hh=D["fill-rule"]=="evenodd"?1:0;
ge.X=T(Z,G,I,hh==1,bz);ge.li=hh;t.I.cI(ge.X,b);var dM=D.stroke,iX=D["stroke-width"],aW=D["stroke-dasharray"],eC=D["stroke-linejoin"];
if(eC==null)eC="miter";var dh=D["stroke-linecap"];if(dh==null)dh="butt";var ff=D["stroke-miterlimit"];
if(ff==null)ff=4;else ff=parseFloat(ff);var fE=D["paint-order"],dX=!(dM==null||dM=="none"||dM=="null"),i2=R.add.vstk=kf.XZ.IH(null,dX),ew=D["stroke-opacity"]?parseFloat(D["stroke-opacity"]):1;
if(dX){var hW=m(G,dM,b,ge.X,Z),jt=["SoFi","GrFl","patternFill"].indexOf(hW.e),h3=hW.K.v.Opct.v,b_=1;
if(h3.val!=100||ew!=1&&bz){R.G8=Math.round(ew*R.G8*h3.val/100);h3.val=100;ew=1}var dl=[kf.dB,kf.iz,kf.T7][jt],ba=i2.strokeStyleContent.v={classID:kf.XZ.PP[jt]};
for(var $=0;$<dl.length;$++)ba[dl[$]]=hW.K.v[dl[$]];iX=iX?parseFloat(iX):1;if(fE&&fE.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){b_=2;
iX/=2}var f8={NT:["miter","round","bevel"].indexOf(eC),o5:["butt","round","square"].indexOf(dh),G2:iX,tu:ff};
if(aW!=null&&aW!="none")f8.hc=aW.split(",").map(parseFloat);kf.XZ.write(i2,f8,b.zQ());i2.strokeStyleLineAlignment.v.strokeStyleLineAlignment=kf.XZ._z[b_];
i2.strokeStyleOpacity.v.val=100*ew;if(hW.nz)R.add._sstl=hW.nz}R.add.vstk.fillEnabled.v=!bz;if(bz){R.add.SoCo={classID:"null",Clr:{t:"Objc",v:t.NX.$J({z:0,L:0,g:0})}}}else{var hW=m(G,jM,b,ge.X,Z),ak=null,jk=null;
if(hW.e=="SoFi"){ak="SoCo";jk=kf.dB}if(hW.e=="GrFl"){ak="GdFl";jk=kf.iz}if(hW.e=="patternFill"){ak="PtFl";
jk=kf.T7}if(ak!=null){var h3=hW.K.v.Opct.v;if(h3.val!=100){R.G8=Math.round(R.G8*h3.val/100);h3.val=100}R.add[ak]={classID:"null"};
for(var $=0;$<jk.length;$++){var n=jk[$];R.add[ak][n]=hW.K.v[n]}}if(hW.nz)R.add._fstl=hW.nz}var i6=Math.max(kM,S.Kd);
if(i6!=0)R.add.vmsk.VU=i6;R.hg();R.j$(Z);Z.U.push(R)}else if((F=="text"||F=="tspan")&&I.textContent!=""){U=A(I,U);
var g6=U.Q(),ea=0;g6.concat(b);if(F=="tspan"&&U.x!=0){}else g6.translate(h,0);if(I.children.length>0){var k2=a(I.children[0],S.a03);
for(var n in k2)if(P.indexOf(n)==-1)D[n]=k2[n]}var gm=D["xml:space"],cu=I.textContent;if(gm=="preserve")cu=cu.replace(/\t/g," ").replace(/\n/g," ");
if(c==null)R.EC(cu);R.add.lnsr="rend";R.add.TySh=f5.c7(0,0);R.add.TySh.hd=new gc(0,0,100,100);R.add.TySh.u=g6.Q();
var ek=R.add.TySh.Zj;f5.p7(ek,0,cu);if(F=="tspan")h+=k*cu.length*.5*g6.zQ();var jM=D.fill,i_=D["font-weight"],iP=D["font-family"],cf=D["text-decoration"],dM=D.stroke,iX=D["stroke-width"],id=D["dominant-baseline"];
if(id=="text-before-edge")ea=k;else if(id=="middle")ea=k/2;else if(id=="hanging")ea=k;if(ea!=0)R.add.TySh.u.translate(0,ea);
var i1=f5.TC(ek,0,1);if(jM&&jM!="none"){var ht=CSS.WC(jM);i1.cN.FillColor={Type:1,Values:[1,ht.z/255,ht.L/255,ht.g/255]}}if(cf=="underline")i1.cN.Underline=!0;
i1.cN.FontSize=Math.round(k);f5.fa(i1,"LiberationSans");if(i_=="bold")f5.fa(i1,"LiberationSans-Bold");
if(iP){iP=iP.split(",")[0].trim();if(iP[0]=="\"")iP=iP.slice(1);if(iP[iP.length-1]=="\"")iP=iP.slice(0,iP.length-1);
var f0=iP+":"+(i_?i_:"normal"),ej={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold","Source Sans Pro:normal":"SourceSansPro-Regular","Source Sans Pro:bold":"SourceSansPro-Bold"};
if(ej[f0])f5.fa(i1,ej[f0]);else f5.fa(i1,iP)}if(D["text-anchor"])i1.Js.Justification=["start","end","middle"].indexOf(D["text-anchor"]);
f5.oW(ek,0,cu.length,i1);if(dM==null||dM=="none"){}else{var au=JSON.parse(kf.px[kf.order.indexOf("FrFX")]);
au.Clr.v=t.NX.$J(CSS.WC(dM));au.Sz.v.val=Math.round(parseFloat(iX)*g6.zQ());W(R,"frameFXMulti",au)}Z.U.push(R)}else if(F=="image"){var bh=s(I);
if(bh&&bh.slice(0,4)=="data"){var kk=h1.ut(bh),dZ=kk,cq=Z.Xg(dZ,R.getName(),0,0);cq.l4=R.l4;R=cq;var hh=R.S.Q();
hh.x=hh.y=0;var hI=I.getAttribute("width"),fb=I.getAttribute("height");if(hI)hh.r=parseFloat(hI);if(fb)hh.$=parseFloat(fb);
var d6=A(I);d6.concat(b);var kc=t.G.mP(hh).d;t.G.u(kc,d6,kc);R.add.SoLd.Trnf=o.fx.qT(kc);R.add.SoLd.nonAffineTransform=o.fx.qT(kc);
R.el(Z,!1);Z.U.push(R)}}else console.log("unknown tag: "+F,I.children.length,I.textContent.length);if(C!=null){Z.U.push(C);
B--}}}function W(G,Q,Z){var g=G.add.lmfx;if(g==null){var g=G.add.lmfx=JSON.parse(kf.default);for(var $=0;
$<kf.order.length;$++)g[kf.an[$]]={t:"VlLs",v:[]}}g[Q].v.push({t:"Objc",v:Z})}function T(G,Q,Z,g,S){var U=[{e:6},{e:8,all:0}],B=M(Z);
if(B=="use"){var e=s(Z),P=Q.getElementById(e.slice(1)),h=new kp;if(M(P)!="rect")h=A(P);h.concat(d(P));
U=T(G,Q,P,g,S);t.I.cI(U,h)}else if(B=="path"){var V=Z.getAttribute("d");if(V==null)return U;var I=Typr.U.SVGToPath(V);
U=t.G.n$({d:I.crds,C6:I.cmds},g,S)}else if(B=="rect"){var F=Z.getAttribute("rx"),c=new es(0,0);j("x",Z,G,c,!0);
j("y",Z,G,c,!1);var D=new es(0,0);j("width",Z,G,D,!0);j("height",Z,G,D,!1);U=t.I.bg.Rect(c.x,c.y,D.x,D.y,F?parseFloat(F):0)}else if(B=="circle"||B=="ellipse"){var n=[0,0,0,0],k=["cx","cy","rx","ry","r"];
for(var $=0;$<5;$++){var b=Z.getAttribute(k[$]);if(b){b=parseFloat(b);if($<4)n[$]=b;else n[2]=n[3]=b}}U=t.I.bg.hQ(n[0]-n[2],n[1]-n[3],2*n[2],2*n[3])}else if(B=="polygon"||B=="polyline"||B=="line"){var N;
if(B=="line")N=[Z.getAttribute("x1"),Z.getAttribute("y1"),Z.getAttribute("x2"),Z.getAttribute("y2")].map(parseFloat);
else N=Z.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
U=t.I.bg.Uw(N,0,B!="polygon")}return U}function _(G,Q){if(G.endsWith("em"))return Q*parseFloat(G.slice(0,G.length-2));
else return parseFloat(G)}function m(G,Q,Z,g,S){var U,B,e,P=JSON.parse(kf.px[kf.order.indexOf("SoFi")]),h=t.I.NP(g),V=Q!=null?Q.indexOf("("):-1;
if(V!=-1){var I=Q.indexOf(")"),F=Q.slice(0,V).trim(),c=Q.slice(V+1,I).trim();if(c.charAt(0)=="'"||c.charAt(0)=="\"")c=c.slice(1,c.length-1);
if(F=="url"){if(c.charAt(0)=="#"){var D=G.getElementById(c.slice(1));if(D&&M(D).toLowerCase().endsWith("gradient")){e=Y(G,D,Z,h,g);
var n=br.Ku(e,g);U="GrFl";B={t:"Objc",v:n}}else if(D&&M(D).toLowerCase()=="pattern"&&D.children[0]&&M(D.children[0])=="use"){U="SoFi";
B={t:"Objc",v:P};var k=D.children[0],b=d(k),N=s(k),L=G.getElementById(N.slice(1)),R=h1.ut(s(L)).buffer,i=h1.mr(h1.$Y(R)),v=i.ss(R)[0],E={};
E.id=dD.dG()+"-d71c-11e5-b1ae-a548a96e5f9f";E.name="someImage";E.c5=[new Uint8Array(v.data),v.kq];S.m_(E);
var P=JSON.parse(kf.px[kf.order.indexOf("patternFill")]);P.Scl.v.val=Math.round(100*h.r*b.Jm);var u=P.phase.v;
u.Hrzn.v=Math.round(h.x+b._f*h.r);u.Vrtc.v=Math.round(h.y+b.Ey*h.$);P.Ptrn.v.Idnt.v=E.id;U="patternFill";
B={t:"Objc",v:P}}else{U="SoFi";B={t:"Objc",v:P}}}else console.log("unknown url",c)}else if(F=="rgb"||F=="rgba"||F=="hsla"){U="SoFi";
B={t:"Objc",v:P};B.v.Clr.v=t.NX.$J(CSS.WC(Q));if(F=="rgba"||F=="hsla")B.v.Opct.v.val=Math.round(100*parseFloat(Q.split(",").pop()))}else console.log("unknown fill",Q)}else{U="SoFi";
B={t:"Objc",v:P};var x=CSS.WC(Q);B.v.Clr.v=t.NX.$J(x);if(x.Jm!=null)B.v.Opct.v.val=Math.round(100*x.Jm/255)}return{e:U,K:B,nz:e}}function d(G){var Q=new kp,Z=G.getAttribute("transform");
if(Z)Q=p(Z);var g=G.getAttribute("style");if(g!=null){var S={};f(S,g,["transform"]);g=S.transform;if(g)Q.concat(p(g))}return Q}function A(G,Q){var Z=new kp,g=G.getAttribute("x"),S=G.getAttribute("y");
if(g)Z._f=parseFloat(g);else if(Q)Z._f=Q._f;if(S)Z.Ey=parseFloat(S);else if(Q)Z.Ey=Q.Ey;return Z}function p(G){var Q=Typr.U.SVG.readTrnf(G);
return new kp(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5])}function a(G,Q){var Z={},g="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap stroke-miterlimit font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var $=0;$<g.length;$++){var S=G.getAttribute(g[$]);if(S!=null&&S!="inherit")Z[g[$]]=S}var U=G.getAttribute("class");
if(Q!=null&&U!=null&&Q["."+U]!=null)f(Z,Q["."+U],g);var B=G.getAttribute("id");if(Q!=null&&B!=null&&Q["#"+B]!=null)f(Z,Q["#"+B],g);
var e=G.getAttribute("style");if(e!=null)f(Z,e,g);return Z}function f(G,Q,Z){Q=Q.trim().split(";");for(var $=0;
$<Q.length;$++){var g=Q[$].split(":"),S=g[0]?g[0].trim():"",U=g[1]?g[1].trim():"";for(var B=0;B<Z.length;
B++)if(S==Z[B]&&U!="inherit")G[Z[B]]=U}}function s(G){var Q=G.getAttribute("xlink:href");if(Q==null)Q=G.getAttribute("href");
if(Q==null)Q=G.getAttribute("xl:href");return Q}function j(G,Q,Z,g,S){var U=Q.getAttribute(G);if(U==null)return;
var B=parseFloat(U);if(U.endsWith("%"))B*=(S?Z.r:Z.$)/100;if(S)g.x=B;else g.y=B}function Y(G,Q,Z,g,S){var U=j,B=new kp,e=Q.getAttribute("gradientTransform"),c=!1;
if(e)B=p(e);B.concat(Z);var P=M(Q)=="linearGradient"?0:1,h=new es(0,0),V=new es(1,0),I=h.Q();if(P==0){var F=new gc(0,0,1,1);
U("x1",Q,F,h,!0);U("y1",Q,F,h,!1);U("x2",Q,F,V,!0);U("y2",Q,F,V,!1);I.cn(h.x,h.y)}if(P==1){if(Q.getAttribute("cx"))h.x=parseFloat(Q.getAttribute("cx"));
if(Q.getAttribute("cy"))h.y=parseFloat(Q.getAttribute("cy"));V.cn(h.x,h.y);I.cn(h.x,h.y);if(Q.getAttribute("r"))V.x+=parseFloat(Q.getAttribute("r"));
if(Q.getAttribute("fx"))I.x=parseFloat(Q.getAttribute("fx"));if(Q.getAttribute("fy"))I.y=parseFloat(Q.getAttribute("fy"))}var D=Q;
while(!0){if(D.getAttribute("gradientUnits")=="userSpaceOnUse")c=!0;var n=s(D);if(n==null||n=="none")break;
D=G.getElementById(n.slice(1))}if(!c)B=new kp(g.r,0,0,g.$,g.x,g.y);B=br.Co(h,V,B);var k=br.Fa(P,B,S);
br.L_(k,h,V,I);var b=Q.children,N=k[1]=[];if(b.length==0){var L=s(Q);if(L==null)throw"gradient has no stops";
var R=G.getElementById(L.slice(1));if(R==null){console.log(L.slice(1))}else N=k[1]=Y(G,R,B,g,S)[1]}else for(var $=0;
$<b.length;$++){var i=b[$],v=a(i),E=v["stop-color"],u=v["stop-opacity"],C=i.getAttribute("offset");if(E==null)E="#000000";
u=u==null?1:parseFloat(u);var l=C?parseFloat(C):0;if(C&&C.endsWith("%"))l/=100;E=CSS.WC(E);if(E.Jm!=null)u*=E.Jm/255;
N.push([l,[E.z/255,E.L/255,E.g/255],parseFloat(u),.5])}return k}return{Ah:X}}();ka.Aw=function(){var M=null,X="",J="",q;
function W(h,V,I,F){var c=[],b=" { ",N=" } ",L=!1;M=V;J=V.pY?"":"\t";X=V.pY?"":" ";var D=V.abT,n=V.aE0;
q=gj==0?new gc(0,0,h.r,h.$):h.Vo();if(F!=null){q=h.root.children[F].w.PH();D=q.r;n=q.$}c.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\""+[q.x,q.y,q.r,q.$].join(" ")+"\" width=\""+D+"\" height=\""+n+"\">");
if(!V.pY)c.push(T(1)+"<title>"+Z(h.name.split(".")[0])+"</title>");var k={pV:[],dy:[],jB:0,jl:0,XQ:0,iG:{},AV:{},WX:0,oN:{},a7M:{},Zb:0,Rb:[]};
j(h,k,h.root.children,1,V,I,F);if(k.pV.length!=0){c.push(T(1)+"<defs>");c=c.concat(k.pV);c.push(T(1)+"</defs>")}c.push(T(1)+"<style>");
if(V.pY){b="{";N="}"}for(var $=0;$<h.U.length;$++)if(h.U[$].add.TySh)L=!0;if(L&&!V.aw2&&!V.ae7)c.push(T(2)+"tspan"+b+"white-space:pre"+N);
for(var R in k.oN)c.push(T(2)+"."+R+b+k.oN[R]+N);c.push(T(1)+"</style>");c=c.concat(k.dy);c.push("</svg>");
c=c.join(V.pY?"":"\n");return H.y4(c)}function T(jX){var h="";for(var $=0;$<jX;$++)h+=J;return h}function _(jX,h){if(h==null)h=1;
var V=""+parseFloat(jX.toFixed(h));if(V.startsWith("0."))V=V.slice(1);return V}function m(h,V){var I=h.add.lmfx;
if(I)I=I[V].v[0];if(I)I=I.v;if(I&&!I.enab.v)I=null;return I}function d(h,V){var I=m(h,"frameFXMulti");
if(I){var F=I.Sz.v.val;if(I.Styl.v.FStl=="OutF"){V.push("paint-order:stroke fill markers");F*=2}s(V,CSS.bx(I.Clr.v),1);
if(F!=1)V.push("stroke-width: "+F);V.push("stroke-linejoin: round;")}}var A="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function p(h){var V=A.length,I="";for(var F=1;F<10;F++){var c=(V-10)*~~Math.pow(V,F-1);if(h<c){for(var $=0;
$<F;$++){var D=$==F-1?10:0,n=V-D,k=h%n;I=A[k+D]+I;h=Math.floor((h-k)/n)}break}h-=c}return I}function a(h,V,I,F){if(h.length!=0){if(F==null)F="s";
var c=h.join(";"),D=V.a7M[c];if(D==null){D=M.pY?p(V.Zb):F+V.Zb;V.Zb++;V.a7M[c]=D;V.oN[D]=c}if(I)I.push(D);
return D}}function f(h){if(M.pY&&h.length==7&&h[0]=="#"){if(h[1]==h[2]&&h[3]==h[4]&&h[5]==h[6])h="#"+h[1]+h[3]+h[5]}return h}function s(h,V,I){V=f(V);
if(V!="#000"||I==1)h.push((I==0?"fill:":"stroke:")+X+V)}function j(h,V,I,F,c,D,n){var k=!1;for(var b=0;
b<I.length;b++){var N=I[b].w,L=N.add.lsct;if(N.Nx)continue;if(N.add.artb&&n!=null&&b!=n)continue;if(!N.H2&&I[b+1]&&I[b+1].w.H2&&N.eQ()&&N.add.vmsk){var R=[];
S(N,N.add.vmsk,V,R);V.dy.push(T(F)+"<g "+R[0]+">");F++;k=!0}else if(!N.H2&&I[b-1]&&I[b-1].w.H2&&k){F--;
V.dy.push(T(F)+"</g>");k=!1}var i=N.add.vmsk,v=N.add.vogk,E=N.add.vstk,u=N.add.TySh;if(i&&!i.isEnabled)i=E=null;
var C=[];if(!c.hidden&&!N.cV())continue;var l=N.G8/255,x=N.add.iOpa?N.add.iOpa/255:1;if(N.nA()){l*=x;
x=1}if(l!=1)C.push("opacity:"+X+_(l));if(x!=1)C.push("fill-opacity:"+X+_(x));if(N.Sw!="norm"){var y=ae.U_[ae.pi.indexOf(N.Sw)];
if(y!=null)C.push("mix-blend-mode:"+X+y)}if(!N.cV())C.push("display:"+X+"none");var R=[],ge=[],O=N.getName(),kz=O.indexOf(" .");
if(!c.pY)R.push("id=\""+Z(O)+"\"");var z=hA.abo(N.add.lmfx,N.add),eZ=z[0],kM=z[1],jV=N.add.SoLd;if(jV&&jV.filterFX){var cL=jV.filterFX.v;
if(cL.enab.v&&cL.filterFXList.v.length!=0)jV=null}var aw=[];if(i&&!N.eQ()&&!N.nA())S(N,i,V,aw);if(aw.length!=0)V.dy.push(T(F)+"<g "+Q(aw,ge)+">");
if(N.nA()){var h2=I[b].children;if(h2.length==1&&h2[0].w.add.SoLd&&!c.yc){}else{var ea=i,ht=h2.length==0?null:h2[h2.length-1].w;
if(gj==1&&ht&&ht.Nx&&ht.cV())ea=ht.add.vmsk;S(N,ea,V,R);if(C.length!=0)R.push("style=\""+C.join(";")+"\"");
if(eZ){var jn=CSS.bx(eZ.Clr.v),gE="f"+V.jl;V.jl++;V.dy.push(T(F)+"<filter id=\""+gE+"\">");V.dy.push(T(F+1)+"<feFlood flood-color=\""+jn+"\" flood-opacity=\""+_(eZ.Opct.v.val/100,2)+"\" />");
V.dy.push(T(F+1)+"<feBlend mode=\""+ae.U_[ae.pi.indexOf(ae.Wz(eZ.Md.v.BlnM))]+"\" in2=\"SourceGraphic\"/>");
V.dy.push(T(F+1)+"<feComposite in2=\"SourceAlpha\" operator=\"in\" />");V.dy.push(T(F)+"</filter>");
R.push("filter=\"url(#"+gE+")\"")}var bS=Q(R,ge),bi=c.pY&&bS=="";if(!bi)V.dy.push(T(F)+"<g"+(bS==""?"":" "+bS)+">");
j(h,V,h2,F+1,c,D);if(!bi)V.dy.push(T(F)+"</g>")}}else if(N.eQ()&&i==null){U(h,C,N.add,V,q,c);if(C.length!=0)R.push("style=\""+C.join(";")+"\"");
V.dy.push(T(F)+"<rect width=\""+q.r+"\" height=\""+q.$+"\" "+Q(R,ge)+"/>")}else if(i&&N.eQ()&&N.add.PtFl==null){U(h,C,N.add,V,iR,c,i.X);
a(C,V,ge);var cj,bb=null,c0=0,cV;if(v.length!=0){cj=v[0].v;bb=cj.keyOriginType;if(bb)bb=bb.v;if(bb==2){var g_=t.fg.S1(cj);
c0=g_[0];for(var $=0;$<3;$++)if(c0!=g_[$+1])bb=null}}if(v.length==1&&bb==5&&Math.abs(t.fg.aGT(cj))<1e-4){var hx=t.fg.v5(cj),au=(hx[0]+hx[2])/2,kP=(hx[1]+hx[3])/2,iK=au-hx[0],b3=kP-hx[1],fs=Math.abs(iK-b3)<.01,ch=fs?"r=\""+_(iK)+"\"":"rx=\""+_(iK)+"\" ry=\""+_(b3)+"\"";
cV="<"+(fs?"circle":"ellipse")+" "+Q(R,ge)+" cx=\""+_(au)+"\" cy=\""+_(kP)+"\" "+ch+"/>"}else if(v.length==1&&bb==2&&c0!=0&&Math.abs(t.fg.aGT(cj))<1e-4){var hx=t.fg.v5(cj),hv=hx[0],g6=hx[1],ef=hx[2]-hx[0],fN=hx[3]-hx[1],kb="";
if(hv!=0)kb+=" x=\""+_(hv)+"\"";if(g6!=0)kb+=" y=\""+_(g6)+"\"";kb+=" width=\""+_(ef)+"\"";kb+=" height=\""+_(fN)+"\"";
kb+=" rx=\""+_(c0)+"\"";cV="<rect "+Q(R,ge)+kb+"></rect>"}else{var cn,dF;if(gj==0){var et=t.I.MH(i.X,1);
cn=et.zm;dF=et.uF}else{var bh=t.G.BM(i.X);cn=Typr.U.pathToSVG({crds:bh.d,cmds:bh.C6},1);dF=i.li}if(dF!=0){R.push("fill-rule=\"evenodd\"")}cV="<path "+Q(R,ge)+" d=\""+cn+"\"/>"}V.dy.push(T(F)+cV)}else if(u&&c.aw2){X=c.pY?"":" ";
var dY=u.Zj,jM=new dV(dY,D,u.PX),bz=null;if(eZ)bz=CSS.bx(eZ.Clr.v);if(kM){var hx=N.S.Q();P(kM,V,hx,c);
bz="url(#g"+V.jB+")"}if(bz)C.push("fill:"+X+bz);d(N,C);var bh=i5.OY(jM,u,!0),hh=t.G.L3(bh);for(var dM in hh){var iX=C.slice(0),aW=ge.slice(0),eC=R.slice(0);
if(bz==null){s(iX,dM.slice(0,7),0);if(dM.length>7){var dh=i5.agk(dM.slice(7));s(iX,e(dh.s0),1);B(dh,iX)}}a(iX,V,aW);
var ff=hh[dM],fE=Typr.U.pathToSVG({crds:ff.d,cmds:ff.C6},1);V.dy.push(T(F)+"<path "+Q(eC,aW)+(c.pY?"":" "+G(u))+" d=\""+fE+"\"/>")}}else if(u&&!c.ae7){var dY=u.Zj,dX=u.u.Q(),bz=null;
C.push("transform:"+X+g(dX));var i2=f5.UP(dY),jM=new dV(dY,D,u.PX);d(N,C);if(C.length!=0)R.push("style=\""+C.join(";")+"\"");
V.dy.push(T(F)+"<text "+Q(R,ge)+" >");if(eZ)bz=CSS.bx(eZ.Clr.v);if(kM){var hx=N.S.Q();hx.x-=dX._f;hx.y-=dX.Ey;
P(kM,V,hx,c);bz=" url(#g"+V.jB+")"}for(var $=0;$<jM.Js.length;$++){var ew=jM.Js[$];if(ew.OF.length==1&&ew.OF[0].Vs)continue;
for(var hW=0;hW<ew.hR.length;hW++){var jt=ew.hR[hW],kP=ew.VX.y+jt.VX.y,h3=ew.OF[jt.start].start,dl=ew.OF[jt.end-1].end,ba=f5.abh(dY,h3,dl),b_="";
for(var f8=0;f8<ba.length;f8++){var ak=jM.fS(h3),jk=ba[f8],i6=f5.TC(dY,h3,h3),k2=i6.Hd[i6.cN.Font].Name,dM=f5.NH(i6.cN.FillColor),gm=Math.round(i6.cN.FontSize),cu=i2.slice(h3,h3+jk);
if(i6.cN.FontCaps==2)cu=cu.toUpperCase();var ek=new kp;ek.translate(ak.Os.x,-kP);var i_=[];CSS.aD0(i_,i6,null,!0,!0,bz);
var iP=a(i_,V,null,"t");iP=iP?" class=\""+iP+"\"":"";var au=ak.Os.x,cf=Y(i6,cu);b_+="<tspan "+(f8==0?"x=\""+_(ak.Os.x)+"\"":"")+" y=\""+_(kP)+"\""+iP+cf+">"+Z(cu)+"</tspan>";
h3+=jk}V.dy.push(T(F+1)+b_)}}V.dy.push(T(F)+"</text>")}else if(jV&&c.yc&&eZ==null){var gE=jV.Idnt.v,id=0,i1=jV.Crop?jV.Crop.v:null;
console.log(i1);if(V.AV[gE]!=null)id=V.AV[gE];else{V.WX++;id=V.WX;V.AV[gE]=V.WX;var f0=h.zh(gE,i1),dZ="";
if(f0==null)return;var ej=f0.SA,kk=h1.$Y(f0.raw.buffer);console.log(kk);if(kk=="pdf"){var cq=new dD("h");
h1.mr("PDF").ss(f0.raw.buffer,cq);cq.b8();cq.k1();cq.vV();cq.rD();if(jV.Crop&&jV.Crop.v==1){o.VN.cC(cq,cq.root.Hg(cq,!0))}var hI=h1.mr("SVG").iL(cq,cq.r,cq.$,null,{Rb:D});
dZ="data:image/svg+xml;base64,"+h1.qf(hI)}else if(kk=="jpg"||kk=="png"||kk=="gif"||kk=="svg"){var fb={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
dZ="data:"+fb[kk]+";base64,"+h1.qf(f0.raw.buffer)}else{dZ=h1.pI(ej[0].buffer,ej[1].r,ej[1].$)}var d6=jV.Sz.v;
V.pV.push(T(2)+"<image width=\""+d6.Wdth.v+"\" height=\""+d6.Hght.v+"\" id=\"img"+id+"\" href=\""+dZ+"\"/>")}var kc=t.t.sf(jV);
if(C.length!=0)R.push("style=\""+C.join(";")+"\"");var jm=Q(R,ge);V.dy.push(T(F)+"<use "+jm+" href=\"#img"+id+"\" transform=\""+g(kc)+"\"/>")}else if(!N.S.M5()&&(c.yc||u)){if(C.length!=0)R.push("style=\""+C.join(";")+"\"");
var jm=Q(R,ge),f4=N.buffer;if(eZ)f4=hA.a2r(f4,eZ,N.S);var dF=N.S;V.WX++;var dZ=h1.pI(f4.buffer,dF.r,dF.$,"png",null,!0);
V.pV.push(T(2)+"<image "+G(u)+" width=\""+N.S.r+"\" height=\""+N.S.$+"\" id=\"img"+V.WX+"\" href=\""+dZ+"\"/>");
V.dy.push(T(F)+"<use "+jm+" href=\"#img"+V.WX+"\" x=\""+dF.x+"\" y=\""+dF.y+"\"/>")}if(aw.length!=0)V.dy.push(T(F)+"</g>")}if(k){F--;
V.dy.push(T(F)+"</g>");k=!1}}function Y(h,V){var I=h.cN.Tracking,F="";if(I!=null&&I!=0){I=Math.round(I*h.cN.FontSize/1e3);
F=" dx=\"0";for(var c=1;c<V.length;c++)F+=" "+I;F+="\" "}return F}function G(h){if(h==null)return"";
var V=h.Zj,I=f5.UP(V);I=Z(I.slice(0,I.length-1));return"aria-label=\""+I+"\" "}function Q(h,V){if(V.length!=0)h.push("class=\""+V.join(" ")+"\"");
return h.join(" ")}function Z(h){return String(h).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function g(h){var V=[h.Jm,h.g,h.br,h.Bi,h._f,h.Ey];
for(var $=0;$<6;$++)V[$]=_(V[$],3);return"matrix("+V.join(",")+")"}function S(h,V,I,F){if(V||h.add.artb){var c;
if(V)c=t.I.MH(V.X).zm;else{var D=h.PH(),n=t.G.mP(D);c=Typr.U.pathToSVG({crds:n.d,cmds:n.C6},1)}I.XQ++;
F.push("clip-path=\"url(#cp"+I.XQ+")\"");I.pV.push(T(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+I.XQ+"\">");
I.pV.push(T(3)+"<path d=\""+c+"\"/>");I.pV.push(T(2)+"</clipPath>")}}function U(h,V,I,F,c,D,n){var k=I.vmsk,b=I.lmfx,N=[];
if(k&&k.VU!=0){var L=_(k.VU);if(F.iG[L]==null){F.jl++;F.iG[L]=F.jl;F.pV.push(T(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+F.jl+"\"> <feGaussianBlur stdDeviation=\""+L+"\"/> </filter>")}N.push("url(#f"+F.iG[L]+")")}if(b)for(var $=0;
$<kf.order.length;$++){var R=kf.order[$],i=kf.an[$],E=b[i].v;console.log(b);for(var u=0;u<E.length;u++){var C=E[u].v,l=C.classID;
if(!C.enab.v||!b.masterFXSwitch.v)continue;if(l=="OrGl"||l=="DrSh"){F.jl++;N.push("url(#f"+F.jl+")");
var x=0,y=0,ge=C.blur.v.val/2.4,O=C.Opct.v.val/100;if(l=="DrSh"){var kz=C.uglg&&C.uglg.v?h.Z$():C.lagl.v.val;
kz=kz*(Math.PI/180);var z=C.Dstn.v.val;x=-Math.cos(kz)*z;y=Math.sin(kz)*z}if(l=="OrGl")O/=C.Inpr.v.val/100;
var eZ="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+F.jl+"\" >";eZ+="<feDropShadow dx=\""+x+"\" dy=\""+y+"\" stdDeviation=\""+ge+"\" flood-color=\""+CSS.bx(C.Clr.v)+"\" flood-opacity=\""+_(O)+"\"/>";
eZ+="</filter>";F.pV.push(T(2)+eZ)}}}if(N.length!=0)V.push("filter:"+X+N.join(" "));var kM=I.vstl;if(kM==null)kM=dD.yg(I,h);
for(var $=0;$<2;$++){var jV=$==0?kM.nz:kM.s0;if(jV.length==0){if($==0)V.push("fill:"+X+"none")}else if(jV.length==3)s(V,e(jV),$);
else{P(jV,F,c,D,n);s(V,"url(#g"+F.jB+")",$)}}if(kM.s0.length!=0){B(kM,V)}}function B(h,V){var I=h.o5,F=h.NT,c=h.G2,D=h.JJ,n=h.hc;
if(D==2){c*=2;V.push("paint-order:stroke fill markers")}if(I!=0)V.push("stroke-linecap:"+X+["butt","round","square"][I]);
if(F!=0)V.push("stroke-linejoin:"+X+["miter","round","bevel"][F]);else if(h.tu!=4)V.push("stroke-miterlimit:"+h.tu);
if(c!=1)V.push("stroke-width:"+X+_(c));if(n.length!=0)V.push("stroke-dasharray:"+X+n.join(","))}function e(h){return CSS.Yk({z:h[0]*255,L:h[1]*255,g:h[2]*255})}function P(h,V,I,F,c){if(c==null)c=t.I.bg.Rect(I.x,I.y,I.r,I.$);
if(!(h instanceof Array))h=br.d0(h,c);V.jB++;var D=h[0],n=(D==1?"radial":"linear")+"Gradient",k=T(2)+"<"+n+" id=\"g"+V.jB+"\"",b="";
if(F.pY){if(V.jB==1)V.pV.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");b=" href=\"#P\""}else b=" gradientUnits=\"userSpaceOnUse\"";
var N=br.K9(h,c),L=[new es(0,0),new es(1,0)];b+=" gradientTransform=\""+g(N)+"\"";var R=F.pY?2:3;if(D==0)V.pV.push(k+" x2=\"1\""+b+">");
if(D==1){if(h[2][6]!=0){var i=h[2][5]*Math.PI/180,v=h[2][6];V.pV.push(k+" cx=\"0\" cy=\"0\" r=\"1\" fx=\""+_(Math.cos(i)*v,R)+"\" fy=\""+_(-Math.sin(i)*v,R)+"\""+b+">")}else V.pV.push(k+" cx=\"0\" cy=\"0\" r=\"1\""+b+">")}var E=h[1];
for(var $=0;$<E.length;$++){var u=E[$],C=u[0],l=u[1],x=u[2];x=x==1?"":" stop-opacity=\""+_(x,R)+"\"";
var y=C==0&&F.pY?"":" offset=\""+_(C,R)+"\"",ge=e(l);ge=F.pY&&ge=="#000000"?"":" stop-color=\""+f(ge)+"\"";
V.pV.push(T(3)+"<stop"+y+ge+x+"/>")}V.pV.push(T(2)+"</"+n+">")}ka.DW=g;return W}();ka.bg=function(M,X,J,q,W){var T=[],_=ka.bg,m=!1,d={a3:M,oz:X,c6:[!0,!0,!0],fe:!1,yi:J,agE:0};
d.Hj=Math.round(Math.max(M,X)*(.02+_.yU(d)*.03));d.bB=_.a6Q(d);d.Fc=_.aqh(d.bB,(_.yU(d)<.5?-1:1)*(.2+_.yU(d)*.3));
if(_.yU(d)<.5){var A=d.bB;d.bB=d.Fc;d.Fc=A}d.ahh=_.yU(d)<.4&&_.arf(d.Fc,{z:1,L:1,g:1})>.3;d.a3N=_.yU(d)<.5?0:1;
T.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+M+" "+X+"\" width=\""+M+"\" height=\""+X+"\">");
d.Nk=q[Math.floor(_.hv(d)*q.length)];d.MF=q[Math.floor(_.hv(d)*q.length)];T.push("<style>");T.push("@font-face {  font-family: "+d.Nk[2]+";  src: url("+hO.Tw("rsrc/fonts/"+d.Nk[5])+");  }");
T.push("@font-face {  font-family: "+d.MF[2]+";  src: url("+hO.Tw("rsrc/fonts/"+d.MF[5])+");  }");T.push("</style>");
var p=[0,0,M,X],a=p;if(W==null)T.push("<path style=\"fill: "+_.Ib(d.bB)+"\" d=\""+_.Rect(p[0],p[1],p[2]-p[0],p[3]-p[1])+"\" id=\"Background\" />");
else{d.fe=!0;_.aho(d,p,T,W)}if(_.yU(d)<.25&&!d.fe){d.c6[0]=d.c6[2]=!1;_.auV(p,d,T);a=p}else if(_.yU(d)<.25||d.fe)a=p;
else{var f=.52+_.yU(d)*.2;if(_.yU(d)<.5)f=1-f;var s=p.slice(0),j=p.slice(0);if(_.yU(d)<.5)s[2]=j[0]=Math.round(f*M);
else s[3]=j[1]=Math.round(f*X);if(_.yU(d)<.5){var A=s;s=j;j=A}a=s;_.asa(d,j,T,W)}_.aB9(d,a,T);T.push("</svg>");
T=T.join("\n");var Y=t.j(Math.round(T.length*1.5)),G=H.un(T,Y,0);return[Y.buffer.slice(0,G),d.J_]};ka.bg.auV=function(M,X,J){var q=ka.bg,W=M[2]-M[0],T=M[3]-M[1];
if(q.yU(X)<.5){J.push("<path id=\"Border\" style=\"fill: "+q.Ib(X.Fc)+"\" d=\""+q.atV(M[0],M[1],M[2]-M[0],M[3]-M[1],X.Hj)+"\" />")}else{var _=q.yU(X)<.5?0:1,m=(_==0?T:W)/4,d=q.Az(X,_,M,J,m,!0),d=q.Az(X,_+2,M,J,m,!0,d)}};
ka.bg.aB9=function(M,X,J){var q=ka.bg,W="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),T=2*Math.floor(q.yU(M)*W.length/2),_=X[2]-X[0],m=X[3]-X[1],A=0,a=0;
M.uY=(M.a3+_)*.5*(.04+q.yU(M)*.05);M.uY=Math.min(M.uY,m*.4,_*.12);M.uY=Math.round(M.uY);var d=Math.min(M.uY*W[T].length*(.35+.3*q.yU(M)),_*.9),p=(X[1]+X[3])/2,f=t.Jp(M.bB)<.85?{z:1,L:1,g:1}:{z:.1,L:.1,g:.1};
if(q.yU(M)<.25&&M.c6[0]){a=0;A=X[0]+M.Hj}else if(q.yU(M)<.33&&M.c6[2]){a=2;A=X[2]-M.Hj}else{a=1;A=(X[0]+X[2])/2}var s=f.z==1?"0,0,0":"255,255,255",j=M.fe&&q.yU(M)<1;
if(j){var Y=X[0],G=_,Q=p-M.uY*1.1,Z=M.uY*2.2,g=.7;if(a==1&&q.yU(M)<.5){Y=Q=.2*Math.min(_,m);G=_-2*Q;
Z=m-Q-Q}else if(q.yU(M)<.7){Y=Q=0;G=_;Z=m;g=.25}J.push("<path id=\"Strip\" style=\"fill: rgb("+s+"); opacity: "+g+"\" d=\""+q.Rect(Y,Q,G,Z)+"\" />")}if(q.yU(M)<.4){var S=M.uY*.07;
S*=1.5+q.yU(M)*1;if(a==-1&&_/m<3&&!j){J.push("<path id=\"Bar-bottom\" style=\"fill: "+q.Ib(f)+"\" d=\""+q.Rect(A-d/2,p+M.uY*1.1-S/2,d,S)+"\" />");
J.push("<path id=\"Bar-top\"    style=\"fill: "+q.Ib(f)+"\" d=\""+q.Rect(A-d/2,p-M.uY*1.1-S/2,d,S)+"\" />")}if(a!=1){J.push("<path id=\"Bar\" style=\"fill: "+q.Ib(f)+"\" d=\""+q.Rect(A-S/2,p-M.uY*.8,S,M.uY*.8*2)+"\" />");
A+=(a==0?1:-1)*M.uY/3}}var U=M.uY*.4;J.push(q.an8(W[T+1],A,p+U*1.6,U,f,a,M.MF));J.push(q.an8(W[T],A,p+M.uY*.04,M.uY,f,a,M.Nk))};
ka.bg.asa=function(M,X,J,q){var W=X[2]-X[0],T=X[3]-X[1],_=Math.max(W,T),m=Math.min(W,T),d=ka.bg;if(_/m<5&&!M.fe&&!1){d.aho(M,X,J,q)}else if(d.yU(M)<0)J.push("<path style=\"fill: "+d.Ib(M.Fc)+"\" d=\""+d.Rect(X[0],X[1],W,T)+"\" />");
else{var A=0;if(X[3]!=M.oz)A=0;if(X[2]!=M.a3)A=3;if(X[0]!=0)A=1;if(X[1]!=0)A=2;var p=A+2&3;if(_/m<3){var a=d.acu(p),f=a[Math.round(d.yU(M)*(a.length-1))],s=f.HH.slice(0,4),j=s.indexOf(1);
f=t.b(f);var Y=-1;if(s!="0000"){var G=new kp;if(f.HH[5]=="0"){if(j==3&&A==1){Y=1;G.scale(-1,1)}else Y=j}else{var Q=p;
while(Q==p)Q=Math.floor(d.yU(M)*4)&3;G.rotate((-j+Q)*Math.PI/2)}d.u(f,G)}var Z=d.Cs(f),g=W-2*M.Hj,S=T-2*M.Hj;
if(Y!=-1){if((Y&1)==0)S-=M.Hj;else g-=M.Hj}var U=Math.min(g/Z.r,S/Z.$),B=new kp;B.translate(-Z.x,-Z.y);
B.scale(U,U);var e=(W-Z.r*U)/2,P=(T-Z.$*U)/2;if(Y!=-1){if(Y==3)e=0;if(Y==0)P=0;if(Y==1)e=W-Z.r*U;if(Y==2)P=T-Z.$*U}B.translate(X[0]+e,X[1]+P);
d.QX(M,f,B,M.Fc,J)}else{d.Az(M,A,X,J,1e9)}}};ka.bg.aho=function(M,X,J,q){var W=X[2]-X[0],T=X[3]-X[1],_=Math.max(W,T),m=Math.min(W,T),d=ka.bg,A=d.hv(M),p,a,f,s=q[0]instanceof ArrayBuffer;
if(s){p="data:image/jpg;base64,"+gb.FS(q[0]);a=q[1];f=q[2]}else{var j=Math.floor(A*q.length),Y=q[j];
M.J_=Y;p=Y.webformatURL;a=Y.webformatWidth;f=Y.webformatHeight}var G=X[0],Q=X[1],Z=W,g=T;if(W/T>a/f){g=Z*f/a;
Q=Q-(g-T)/2}else{Z=g*a/f;G=G-(Z-W)/2}if(s){J.push("<defs>");J.push("<image width=\""+a+"\" height=\""+f+"\" id=\"Background\" href=\""+p+"\" />");
J.push("</defs>");var S=Z/a;J.push("<use href=\"#Background\" transform=\""+ka.DW(new kp(S,0,0,S,G,Q))+"\" />")}else{var U="cp"+Math.random();
J.push("<clipPath id=\""+U+"\">");J.push("<path style=\"fill: "+d.Ib(M.Fc)+"\" d=\""+d.Rect(X[0],X[1],W,T)+"\" />");
J.push("</clipPath>");J.push("<image  clip-path=\"url(#"+U+")\" xlink:href=\""+p+"\" x=\""+G+"\" y=\""+Q+"\" width=\""+Z+"\" height=\""+g+"\" />")}};
ka.bg.an8=function(M,X,J,q,W,T,_){var m=ka.bg;return"<text x=\""+X+"\" y=\""+J+"\" style=\"fill:"+m.Ib(W)+"; font-size:"+q+"px; text-anchor:"+["start","middle","end"][T]+"; font-family:"+_[2]+";\"><tspan>"+M+"</tspan></text>"};
ka.bg.QX=function(M,X,J,q,W){var T=ka.bg,_=[];for(var $=0;$<X.mO.length;$++){_.push(q);if(M.ahh){q=($&1)==M.a3N?{z:1,L:1,g:1}:_[0]}}W.push("<g id=\""+X.HH.split("-")[2]+":::\" style=\"transform: "+ka.DW(J)+";\" >");
for(var $=0;$<X.mO.length;$++){var m=X.mO[$];q=_.pop();W.push("<path style=\"fill: "+(q?T.Ib(q):"#"+m[0])+"\" d=\""+Typr.U.pathToSVG({crds:m[1].d,cmds:m[1].C6})+"\" />")}W.push("</g>")};
ka.bg.aEb=function(){if(SHPS[0].HH)return;for(var $=0;$<SHPS.length;$++){var M=SHPS[$],X=M[1],J=[];for(var q=0;
q<X.length;q++){var W=X[q],T=Typr.U.SVGToPath(W[1]);J.push([W[0],{C6:T.cmds,d:T.crds}])}SHPS[$]={HH:M[0],mO:J}}};
ka.bg.acu=function(M){var X=SHPS;ka.bg.aEb();var J=[];for(var $=0;$<X.length;$++){var q=X[$],W=q.HH.slice(0,4);
if(W=="0000"){J.push(q);continue}if(["1000","0100","0010","0001"].indexOf(W)==-1)continue;var T=W.indexOf("1");
if(q.HH[5]=="0"&&M==T&&T!=3)continue;J.push(q)}return J};ka.bg.Az=function(M,X,J,q,W,T,_){var m=SHPS,Z,g;
ka.bg.aEb();var d=ka.bg,A=[];for(var $=0;$<m.length;$++){var p=m[$],a=p.HH.slice(0,4);if(["1110","1101","1011","0111"].indexOf(a)==-1)continue;
var f=a.indexOf("0")+2&3;if(p.HH[5]=="0")if(T==!0||X!=f&&!(X==1&&f==3))continue;A.push(p)}var s=_!=null?_:Math.floor(d.yU(M)*A.length),p=A[s],p=t.b(p),a=p.HH.slice(0,4),f=a.indexOf("0")+2&3;
if(f==3&&X==1)t.u(p,new kp(1,0,0,-1,0,1e3));var j=new kp;j.translate(-500,-500);j.rotate(-f*Math.PI/2);
j.translate(500,500);d.u(p,j);var Y=J[3]-J[1],G=J[2]-J[0],Q=d.Cs(p);if(Q.y<0){Q.$+=Q.y;Q.y=0}if(Q.y>0){Q.$+=Q.y;
Q.y=0}if((X&1)==0){g=Y;Z=G}else{Z=Y;g=G}var S=Math.min(Math.min(.5+.5*d.yU(M))*Math.min(G,Y),W)/Q.$,U=Math.ceil(Z/(1e3*S)),B=new kp,e=new kp;
e.scale(S,S);if(X==0||X==2){e.translate(-(G/2),-(Y/2));e.rotate(-X*Math.PI/2);e.translate(G/2+J[0],Y/2+J[1])}else{e.rotate(Math.PI/2);
e.scale(1,-1);e.translate(J[0],J[1]);if(X==1){e.scale(-1,1);e.translate(G,0)}}q.push("<g id=\"Border-"+["top","right","bottom","left"][X]+":::\">");
for(var $=0;$<U;$++){var P=B.Q();P.concat(e);d.QX(M,p,P,M.Fc,q);B.translate(1e3-2,0)}q.push("</g>");
return s};ka.bg.Rect=function(M,X,J,q){return Typr.U.pathToSVG({crds:[M,X,M+J,X,M+J,X+q,M,X+q],cmds:["M","L","L","L","Z"]})};
ka.bg.atV=function(M,X,J,q,W){var T=[M,X,M+J,X,M+J,X+q,M,X+q];M+=W;X+=W;J-=2*W;q-=2*W;T.push(M,X,M,X+q,M+J,X+q,M+J,X);
return Typr.U.pathToSVG({crds:T,cmds:"M L L L Z M L L L Z".split(" ")})};ka.bg.aqh=function(M,X){var J=t.MT(M.z,M.L,M.g);
J.lj=Math.max(.1,Math.min(.9,J.lj+X));return t.Io(J.oz,J.i$,J.lj)};ka.bg.acs=function(M,X){var J=t.MT(M.z,M.L,M.g);
J.oz+=X;return t.Io(J.oz,J.i$,J.lj)};ka.bg.ao7=function(M){var X=t.MT(M.z,M.L,M.g);X.lj=1-X.lj;return t.Io(X.oz,X.i$,X.lj)};
ka.bg.arf=function(M,X){var J=M.z-X.z,q=M.L-X.L,W=M.g-X.g;return Math.sqrt(J*J+q*q+W*W)};ka.bg.a6Q=function(M){var X=ka.bg;
return{z:X.yU(M),L:X.yU(M),g:X.yU(M)}};ka.bg.Ib=function(M){return CSS.Yk({z:M.z*255,L:M.L*255,g:M.g*255})};
ka.bg.Cs=function(M){var X=M.mO,J=new gc;for(var $=0;$<X.length;$++)J=J.m0(t.G.Cs(X[$][1].d));return J};
ka.bg.u=function(M,X){var J=M.mO;for(var $=0;$<J.length;$++)t.G.u(J[$][1].d,X,J[$][1].d)};ka.bg.yU=function(M){M.agE++;
var X=M.agE&3;if(X==0)M.yi=ka.bg.YK(M.yi);var J=M.yi>>>8*X&255;return J*(.99999999/255)};ka.bg.hv=function(M){var X=ka.bg.YK(M.yi);
M.yi=ka.bg.YK(X);return X*(1/4294967295)};ka.bg.YK=function(M){M=(M^61^M>>>16)>>>0;M=M+(M<<3)>>>0;M=(M^M>>>4)>>>0;
M=M*668265261>>>0;M=(M^M>>>15)>>>0;return M};var fp={};fp.parse=function(M){var X=new Uint8Array(M),J=null;
if(X[0]==80&&X[1]==75){var q=Date.now(),W=UZIP.parse(X.buffer),J=W["document.json"];J=JSON.parse(H.Og(J,0,J.length));
fp.EV(J,W)}else{var T=gK.parse(M);J=fp.atY(T[2][0][1])}return J};fp.EV=function(M,X){var J=typeof M;
if(J=="string"||J=="number"||J=="boolean"||M==null)return M;if(M instanceof Array){for(var $=0;$<M.length;
$++)M[$]=fp.EV(M[$],X);return M}var q=M._class;if(q==null)return M;if(q=="MSJSONFileReference"){var W=M._ref;
if(!1){}else if(X[W+".json"]!=null){var T=X[W+".json"],_=T.length;for(var $=0;$<_;$++)if(T[$]==11||T[$]==3)T[$]=32;
var m=H.Og(T,0,_);M=JSON.parse(m)}else if(X[W+".png"]!=null)return{key:W.split("/").pop(),bdata:X[W+".png"]};
else if(X[W+".jpg"]!=null)return{key:W.split("/").pop(),bdata:X[W+".jpg"]};else if(X[W+".pdf"]!=null)return{key:W.split("/").pop(),bdata:X[W+".pdf"]};
else if(X[W]!=null)return{key:W.split("/").pop(),bdata:X[W]};else{console.log(M,X);return}}else if(q=="MSAttributedString"){var m=atob(M.archivedAttributedString._archive),d=m.length,A=new Uint8Array(d);
for(var $=0;$<d;$++)A[$]=m.charCodeAt($);M.archivedAttributedString=fp.atY(A)}for(var p in M)M[p]=fp.EV(M[p],X);
return M};fp.ao4=function(M,X,J,q,W){if(M instanceof Uint8Array)return null;if(q.indexOf(M)!=-1)return null;
q.push(M);if(M==X)return J;for(var T in M){J.push(T);var _=fp.ao4(M[T],X,J,q,W);if(_){console.log(M,_);
throw"e"}J.pop()}};fp.atY=function(M){var X=h_.parse(M,0),J=X.$objects,q=new Uint8Array(J.length),W=fp.iC(J,q,X.$top.root);
for(var $=0;$<J.length;$++)if(q[$]==0&&$!=0){console.log($,J[$]);fp.ao4(W,$,[],[],typeof J[$])}for(var $=0;
$<J.length;$++){var T=J[$];if(T._class&&(T._class=="bitmap"||T._class=="fill"&&T.fillType==4&&(T.image||T.imageSHA))){var _=T.image,m=T.imageSHA,d=null,A=null;
if(_=="$null")_=null;if(m=="$null")m=null;if(_&&_.data){A=_.sha1["NS.bytes"];A=btoa(H.zb(A,0,A.length));
d=_.data instanceof Uint8Array?_.data:_.data["NS.bytes"]}else if(_==null&&m==null){var p=h1.mr("PNG").iL([[t.j(4).buffer]],1,1);
d=new Uint8Array(p)}else{var a=(W.assets?W.assets.imageCollection:W.images).images;if(m)A=m instanceof Uint8Array?m:m["NS.bytes"];
else A=_.sha1["NS.bytes"];A=btoa(H.zb(A,0,A.length));var d=a[A].data;if(d["NS.bytes"])d=d["NS.bytes"]}d=new Uint8Array(d.buffer.slice(d.byteOffset,d.byteOffset+d.length));
delete T.imageSHA;T.image={key:A,bdata:d}}}return W};fp.ai0=function(M){return M.slice(0,11)=="MSImmutable"?"MS"+M.slice(11):M};
fp.iC=function(M,X,J){var q=M[J];if(X[J]==1){return q}X[J]=1;if(typeof q=="string")return q;if(typeof q=="number")return q;
if(typeof q=="boolean")return q;if(q instanceof Array)return q;if(q instanceof Uint8Array){return q}if(M[q.$class]==null){if(q.$class==null&&q["NS.data"]!=null)return q;
console.log(J,q);throw"e"}var W=M[q.$class],T=fp.ai0(W.$classname);X[q.$class]=1;q.$class=T;if(fp.aaU[T]){delete q.$class;
q._class=fp.aaU[T]}var _=fp.iC;if(T=="NSMutableArray"||T=="NSArray"){var m=[];if(q["NS.objects"]!=null)for(var $=0;
$<q["NS.objects"].length;$++)m.push(_(M,X,q["NS.objects"][$]));else for(var $=0;q["NS.object."+$]!=null;
$++)m.push(_(M,X,q["NS.object."+$]));M[J]=m;return m}if(T=="NSDictionary"||T=="NSMutableDictionary"){var d={$class:T};
if(q["NS.keys"]!=null)for(var $=0;$<q["NS.keys"].length;$++){var A=_(M,X,q["NS.keys"][$]);if(A instanceof Uint8Array)A=btoa(fp._4.zb(A,0,A.length));
else if(typeof A!="string"&&typeof A!="number")A=btoa(fp._4.zb(A["NS.bytes"],0,A["NS.bytes"].length));
d[A]=_(M,X,q["NS.objects"][$])}else for(var $=0;q["NS.key."+$]!=null;$++){var A=_(M,X,q["NS.key."+$]);
if(A instanceof Uint8Array)A=btoa(fp._4.zb(A,0,A.length));else if(typeof A!="string"&&typeof A!="number")A=btoa(fp._4.zb(A["NS.bytes"],0,A["NS.bytes"].length));
d[A]=_(M,X,q["NS.object."+$])}for(var p in q)delete q[p];for(var p in d)q[p]=d[p];return q}if(T=="NSURL")return{$class:T,base:_(M,X,q["NS.base"]),relative:_(M,X,q["NS.relative"])};
if(fp.aI5.indexOf(T)!=-1){M[J]=_(M,X,q.array_do);return M[J]}if(q.do_objectID!=null)q.do_objectID=_(M,X,q.do_objectID);
if(fp.a1X.indexOf(T)!=-1)return q;var a=fp.aw0[T];if(a==null){console.log(M,q);throw"unknown class "+T}for(var $=0;
$<a.length;$++)if(q[a[$]]!=null)q[a[$]]=_(M,X,q[a[$]]);if(T=="MSTextLayer"){var f=q,s,j,Y,G;if(f.attributedString)s=f.attributedString.archivedAttributedString;
else s=f.storage;G=s.NSString;if(typeof G!="string")G=H.Og(G["NS.bytes"],0,G["NS.bytes"].length);if(s.NSAttributeInfo)j=s.NSAttributeInfo["NS.bytes"];
else{var Q=G.length,Z=[];while(Q>0){var g=Math.min(100,Q);Z.push(g,0);Q-=g}j=new Uint8Array(Z)}Y=s.NSAttributes instanceof Array?s.NSAttributes:[s.NSAttributes];
var S={$class:"NSAttributedString",NSString:G,NSAttributes:Y};f.attributedString={_class:"MSAttributedString",archivedAttributedString:S};
S.NSAttributeInfo={$class:"NSMutableData","NS.data":j};delete f.storage}return q};fp._4={uC:function(M,X){return M[X+1]<<8|M[X]},Z3:function(M,X){return M[X+3]<<24|M[X+2]<<16|M[X+1]<<8|M[X]},zb:function(M,X,J){var q="";
for(var $=0;$<J;$++)q+=String.fromCharCode(M[X+$]);return q}};fp.aaU={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
fp.aI5=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
fp.a1X="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
fp.aw0={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo cloudShareID cloudShareURL cloudUserID".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var h_={};h_.parse=function(M,X){var J=H.zb(M,X,8);X+=8;var q=M.length-32,W=h_.parse.alL(M,q),T=[];if(W.vj==1){var X=q-W.vj*W.tH;
for(var $=0;$<W.tH;$++)T.push(M[X+$])}else if(W.vj==2){var X=q-W.vj*W.tH;for(var $=0;$<W.tH;$++)T.push(H.uC(M,X+$*2))}else if(W.vj==4){var X=q-W.vj*W.tH;
for(var $=0;$<W.tH;$++)T.push(H.Z3(M,X+$*4))}else{throw"e"}var _=h_.parse.iC(M,T,W.root,W);return _};
h_.parse.iC=function(M,X,J,q){var W=h_._4,T=q.a5S,_=T==4?W.Z3:T==2?W.uC:W.ahZ,m=h_.parse,d=X[J],A=M[d],p=A>>4,a=A&15,s=null;
d+=1;if([4,5,6,10,12,13].indexOf(p)!=-1&&a==15){var f=m.Pp(M,d);d+=f.dR;a=f.K}if(!1){}else if(p==0)s=a==8?!1:a==9?!0:null;
else if(p==1)s=m.Pp(M,d-1).K;else if(p==2)s=1<<a==4?H.Ot(M,d):H.LF(M,d);else if(p==3)s=H.LF(M,d);else if(p==4)s=new Uint8Array(M.buffer,d,a);
else if(p==5)s=H.zb(M,d,a);else if(p==6)s=H.c8(M,d,a);else if(p==8){s=0;for(var $=0;$<a+1;$++)s=s<<8|M[d+$]}else if(p==10){s=[];
for(var $=0;$<a;$++)s.push(m.iC(M,X,_(M,d+T*$),q))}else if(p==12){s=[];for(var $=0;$<a;$++)s.push(m.iC(M,X,_(M,d+T*$),q))}else if(p==13){s={};
for(var $=0;$<a;$++){var j=m.iC(M,X,_(M,d+T*$),q),Y=m.iC(M,X,_(M,d+T*(a+$)),q);s[j]=Y}}else throw"unknown mask "+p;
return s};h_.parse.Pp=function(M,X){var J=1<<(M[X]&15),q=0;for(var $=0;$<J;$++)q=q<<8|M[X+1+$];return{K:q,dR:J+1}};
h_.parse.alL=function(M,X){var J={};X+=6;J.vj=M[X];X++;J.a5S=M[X];X++;X+=4;J.tH=H.Z3(M,X);X+=4;X+=4;
J.root=H.Z3(M,X);X+=4;X+=4;J.abE=H.Z3(M,X);X+=4;return J};h_._4={ahZ:function(M,X){return M[X]},uC:function(M,X){return M[X]<<8|M[X+1]},Z3:function(M,X){return M[X]<<24|M[X+1]<<16|M[X+2]<<8|M[X+3]},zb:function(M,X,J){var q="";
for(var $=0;$<J;$++)q+=String.fromCharCode(M[X+$]);return q}};var gK={parse:function(M){var X=new Uint8Array(M),J=gK.Rf(X),q=[],W=new Uint8Array(X.length),T=[];
q.push(T);gK.V$(X,J,1,W,T);for(var $=0;$<T.length;$++){var _=[];q.push(_);gK.V$(X,J,T[$][3],W,_,$==11);
T[$][3]=$+1}return q},V$:function(M,X,J,q,W,T){J--;var _=J*X.TH+(J==0?100:0),m=M[_],d=gK.uC(M,_+1),A=gK.uC(M,_+3),p=gK.uC(M,_+5),f=0;
if(p==0)p=65536;var a=M[_+7];_+=8;if(m==2||m==5){f=gK.Z3(M,_);_+=4}for(var s=0;s<A;s++){var j=J*X.TH+gK.uC(M,_+2*s),Y=-1,G=0,Q=0,Z=0;
if(m==2||m==5){Y=gK.Z3(M,j);j+=4}if(m==2||m==10||m==13){G=gK.o$(M,j);j+=G.dR}if(m==5||m==13){Q=gK.o$(M,j);
j+=Q.dR}if(m==2||m==5){gK.V$(M,X,Y,q,W,T);continue}var g=X.TH-(J==0?100:0),S=G.tz,U=m==13?g-35:Math.floor((g-12)*64/255)-23,B=Math.floor((g-12)*32/255)-23,e=B+(S-B)%(g-4);
if(S<=U){gK.fc(M,j,q,0,S)}else{var P=e<=U?e:B,h=0;gK.fc(M,j,q,0,P);h+=P;Z=gK.Z3(M,j+P);while(Z!=0){var V=(Z-1)*X.TH;
Z=gK.Z3(M,V);var I=Math.min(X.TH-4,S-h);gK.fc(M,V+4,q,h,I);h+=I}}W.push(gK.ap3(q,S))}if(f!=0)gK.V$(M,X,f,q,W,T)},ap3:function(M,X){var J=0,q=gK.o$(M,J);
J+=q.dR;var W=[],T=[];while(J<q.tz){var _=gK.o$(M,J);J+=_.dR;W.push(_.tz)}if(J!=q.tz)throw"e";for(var $=0;
$<W.length;$++){var _=W[$];if(!1){}else if(_==0)T.push(null);else if(_==1){T.push(gK.aJc(M,J));J+=1}else if(_==2){T.push(gK.Wp(M,J));
J+=2}else if(_==3){T.push(gK.arP(M,J));J+=3}else if(_==4){T.push(gK.Pp(M,J));J+=4}else if(_==5){T.push(gK.Z3(M,J+2));
J+=6}else if(_==6){T.push(gK.Z3(M,J)+":"+gK.Z3(M,J+4));J+=8}else if(_==7){T.push(gK.azP(M,J));J+=8}else if(_==8)T.push(0);
else if(_==9)T.push(1);else if(_>=12&&(_&1)==0){var m=_-12>>1,d=new Uint8Array(m);gK.fc(M,J,d,0,m);T.push(d);
J+=m}else if(_>=13&&(_&1)==1){var m=_-13>>1;T.push(gK.Og(M,J,m));J+=m}else throw"unknonw type "+_}return T},Rf:function(M){if(!(M[18]==1&&M[19]==1&&M[20]==0&&M[21]==64&&M[22]==32&&M[23]==32))throw"unexpected SQL3 header";
var X={_S:gK.zb(M,0,15),TH:gK.uC(M,16),aGR:gK.Z3(M,24),size:gK.Z3(M,28),auc:gK.Z3(M,32),aJ6:gK.Z3(M,36),aGe:gK.Z3(M,40),a6o:gK.Z3(M,44),amQ:gK.Z3(M,48),a8a:gK.Z3(M,52),aJl:gK.Z3(M,56),aa9:gK.Z3(M,60),aqf:gK.Z3(M,64)!=0,aBL:gK.Z3(M,68),ahC:gK.Z3(M,92),ahB:gK.Z3(M,96)};
if(X.TH==1)X.TH=65536;if(X.aJl!=1)throw"unsupported text encoding "+X.aJl;return X},aGL:function(M,X){return M[X]<<16|M[X+1]<<8|M[X+2]},arP:function(M,X){var J=gK.aGL(M,X),q=J&8388608;
return q?-(16777215-J+1):J},aJc:function(M,X){gK.E3[0]=M[X];return gK.a9B[0]},Pp:function(M,X){var J=gK.E3;
for(var $=0;$<4;$++)J[$]=M[X+3-$];return gK.aA7[0]},Wp:function(M,X){var J=gK.E3;J[0]=M[X+1];J[1]=M[X];
return gK.agO[0]},uC:function(M,X){return M[X]<<8|M[X+1]},Z3:function(M,X){var J=gK.E3;for(var $=0;$<4;
$++)J[$]=M[X+3-$];return gK.a6d[0]},azP:function(M,X){var J=gK.E3;for(var $=0;$<8;$++)J[$]=M[X+7-$];
return gK.aHY[0]},o$:function(M,X){var J=X,jX=0;while(!0){var q=M[X];X++;jX=jX*128+(q&127);if(q<128)break}return{tz:jX,dR:X-J}},zb:function(M,X,J){var q="";
for(var $=0;$<J;$++)q+=String.fromCharCode(M[X+$]);return q},Og:function(M,X,J){var q="";for(var $=0;
$<J;$++)q+="%"+gK.aBW(M[X+$].toString(16));try{q=decodeURIComponent(q);return q}catch(hP){return q}},fc:function(M,X,J,q,W){if(W!=0&&(M[X+W-1]==null||J[q+W-1]==null)){console.log(X,q,W);
throw"e"}for(var $=0;$<W;$++)J[q+$]=M[X+$]},aBW:function(jX){return jX.length<2?"0"+jX:jX}};gK.E3=new Uint8Array(8);
gK.a9B=new Int8Array(gK.E3.buffer);gK.agO=new Int16Array(gK.E3.buffer);gK.aA7=new Int32Array(gK.E3.buffer);
gK.a6d=new Uint32Array(gK.E3.buffer);gK.aHY=new Float64Array(gK.E3.buffer);gK.a62=function(M,X){var J=M[0],q={};
for(var $=0;$<J.length;$++){var W=J[$],T=W[1];if(W[0]!="table")continue;var _=W[4];_=_.slice(_.indexOf("(")+1,_.indexOf(")"));
_=_.split(",");for(var m=0;m<_.length;m++){var d=_[m].trim().split(" ")[0];if(X&&d.startsWith(T))d=d.slice(T.length);
_[m]=d}var A=q[T]=[],p=M[W[3]];for(var m=0;m<p.length;m++){var a=p[m],f={};A.push(f);for(var s=0;s<_.length;
s++){if(f[_[s]]!=null)throw"e";f[_[s]]=a[s]}}}return q};function hT(M,X,J){this.je=M;this.PT=X;this.a0e=J;
this.lK=new es(0,0);this.Lw=-1;this.L9=0;this.Bj=0;this.BQ=new gc;this.P_=[];this.MB=null;this.asK=null;
this._C=null;this.RW=null;this.HD=null;this.ad_=null}hT.prototype.StartPage=function(M,X,J,q,W){var T=this.PT,_=T.zQ(),m=1,d=(J-M)*(q-X);
if(W!=null)d=W;while(d*_*_/(m*m)>2*8192*8192)m++;T.scale(1/m,1/m);this.asK=[M,X,J,q];var m=T.zQ();M=Math.round(M*m);
X=Math.round(X*m);J=Math.round(J*m);q=Math.round(q*m);var A=this.je,p=this._C;if(p==null){T._f=-M}else{var a=p[2]-p[0]+30,f=Math.round(J-M)+30;
if(this.lK.x+a+f>8192){T._f=-M;this.lK.x=0;this.lK.y+=this.Bj+120;this.Bj=0}else{T._f+=a;this.lK.x+=a}}T.Ey=this.lK.y+(this.a0e?q:-X);
this.Bj=Math.max(this.Bj,Math.round(q-X));this._C=[M,X,J,q];this.aG$=[];A.U.push(A.mm())};hT.prototype.StartTGroup=function(M){this.H0();
var X=this.je;X.U.push(X.mm());var J=hT.et[M.bmode];if(J==null)J="norm";var q=X.C0();q.EC("<Group>");
q.add.lsct=gO.A$;q.Sw=J=="norm"?"pass":J;q.l4=24;q.G8=Math.round(255*M.ca);this.aG$.push(q)};hT.prototype.EndTGroup=function(){this.je.U.push(this.aG$.pop())};
hT.prototype.afO=function(){var M=this.je,X=M.U[M.U.length-1];return X};hT.prototype.aAY=function(){var M=this.je,X=M.C0();
X.EC("Path "+M.U.length);this.je.U.push(X);X.l4|=16;X.add.SoCo={classID:"null",Clr:{t:"Objc",v:t.NX.$J({z:0,L:0,g:0})}};
X.add.vmsk=new K.JL;X.add.vstk=kf.XZ.IH();return X};hT.prototype.my=function(M){var X={d:M.crds,C6:M.cmds},J=t.G.n$(X,!1);
t.I.cI(J,this.PT);return J};hT.ax4=function(M,X){for(var $=0;$<M.length;$++)if(M[$].li!=null)M[$].li=X};
hT.wd=function(M){return t.NX.$J({z:M[0]*255,L:M[1]*255,g:M[2]*255})};hT.gh=function(M){return new kp(M[0],M[1],M[2],M[3],M[4],M[5])};
hT.prototype.Stroke=function(M){if(this.Lw!=-1&&this.Lw!=this.L9)return;if(M.pth.cmds.length<=1)return;
var X=this.my(M.pth),_=null;if(X.length<=2)return;this._F(M);hT.ax4(X,-1);X[2].li=1;var J=this.afO(),q=kf.XZ.IH(null,!0),W=M.ctm,T={};
hT.anU(T,M);kf.XZ.write(q,T,Math.sqrt(Math.abs(W[0]*W[3]-W[1]*W[2]))*this.PT.zQ());if(!(M.COLR instanceof Array)){_=t.G.Cs(M.pth.crds);
var m=t.G.mP(_);t.G.u(m.d,this.PT,m.d);_=t.G.Cs(m.d)}var d=hT.tv(M.COLR,this.PT,X),A=["SoFi","GrFl","patternFill"].indexOf(d.e),p=[kf.dB,kf.iz,kf.T7][A],a=q.strokeStyleContent.v={classID:kf.XZ.PP[A]};
for(var $=0;$<p.length;$++)a[p[$]]=d.K.v[p[$]];var f=J!=null&&J.add.vmsk!=null&&!J.nA(),s=f&&!J.add.vstk.fillEnabled.v&&JSON.stringify(q)==J.add.vsjs;
if(s){var j=J.add.vmsk.X;for(var $=2;$<X.length;$++)j.push(X[$])}else{var Y=f&&!J.add.vstk.strokeEnabled.v&&K.JL.av9(J.add.vmsk.X,X,!0);
if(Y){J.add.vstk=q;q.fillEnabled.v=!0}else{J=this.aAY();J.add.vmsk.X=X;J.add.vstk=q;J.add.vsjs=JSON.stringify(q)}}};
hT.anU=function(M,X){M.G2=X.lwidth;M.tu=X.mlimit;M.hc=X.dash.slice(0);M.qS=X.doff;M.NT=X.ljoin;M.o5=X.lcap;
M.JJ=1};hT.Dt=function(M,X){X.lwidth=M.G2*(M.JJ==2?2:1);X.mlimit=M.tu;X.doff=M.qS;X.ljoin=M.NT;X.lcap=M.o5;
X.sal=M.JJ;X.dash=M.hc.slice(0);if(X.dash.length==1&&X.dash[0]==0)X.dash=[]};hT.prototype.Fill=function(M,X){if(this.Lw!=-1&&this.Lw!=this.L9)return;
if(M.ca==0)return;var J=M.pth.cmds;if(J.length==0)return;if(J.length==2&&JSON.stringify(J)=="[\"M\",\"L\"]")return;
var q=t.G.Cs(M.pth.crds),W=t.G.Cs(M.cpth.crds);if(q.Lg(W).M5())return;var T=M.pth,_=UDOC.G.isBox(T,[q.x,q.y,q.x+q.r,q.y+q.$]),m=M.cpth,d=UDOC.G.isBox(m,[W.x,W.y,W.x+W.r,W.y+W.$]);
if(_&&d&&q.o()>W.o()*2){var A=q.Lg(W),p=A.x,a=A.y,f=p+A.r,s=a+A.$;T={cmds:["M","L","L","L","Z"],crds:[p,a,f,a,f,s,p,s]};
q=A}else if(this.RW==null&&UDOC.G.isBox(T,[q.x,q.y,q.x+q.r,q.y+q.$])&&q.wz(W)){T=m;q=W}else this._F(M);
var j=this.my(T),Y=hT.tv(M.colr,this.PT,j),G=this.afO(),Q=G!=null&&G.G8==Math.round(255*M.ca)&&G.add.vstk!=null&&!G.add.vstk.strokeEnabled.v&&G.add.SoCo&&Y.e=="SoFi"&&JSON.stringify(G.add.SoCo.Clr.v)==JSON.stringify(Y.K.v.Clr.v);
if(Q){var Z=!1;for(var $=0;$<j.length;$++){if(j[$].li==0||j[$].li==2)Z=!0}if(Z){var g=t.G.Cs(t.I.dl(G.add.vmsk.X)),S=t.G.Cs(t.I.dl(j));
Q=g.Lg(S).M5()}}if(Q){var U=G.add.vmsk.X;for(var $=2;$<j.length;$++)U.push(j[$])}else{G=this.aAY();delete G.add.SoCo;
G.add.vmsk.X=K.JL.Oz(j);hT.d5(M.colr,G,this.PT,j);hT.a6a(M,G)}};hT.d5=function(M,X,J,q){var W=hT.tv(M,J,q),T=null,_=null;
X.add.vstk.fillEnabled.v=!0;if(W.e=="SoFi"){T="SoCo";_=kf.dB}if(W.e=="GrFl"){T="GdFl";_=kf.iz}if(W.e=="patternFill"){T="PtFl";
_=kf.T7}if(T!=null){X.add[T]={classID:"null"};for(var $=0;$<_.length;$++){var m=_[$];X.add[T][m]=W.K.v[m]}if(T=="GdFl")X.add._fstl=W.nz}};
hT.prototype._F=function(M){var X=this.je,J=M.cpth,q=J.cmds.join(""),W=J.crds,T=q+" "+W.join(","),_=UDOC.G.isBox(J,this.asK);
if(_&&this.RW==null)return;if(T==this.RW)return;this.H0();if(!_){this.RW=T;X.U.push(X.mm());var m=X.C0();
m.EC("Mask");m.add.lsct=gO.dw;m.Sw="pass";m.l4=24;var d=m.add.vmsk=new K.JL;d.X=this.my(M.cpth);if(UDOC.G.isBox(J)){this.HD=t.I.NP(d.X);
this.HD.$K(3,3)}else this.HD=null;this.ad_=m}};hT.prototype.H0=function(){var M=this.je;if(this.RW!=null){var X=M.U.length-1,$=X,J=!1;
while($>=0&&M.U[$].add.lsct!=gO.Vd)$--;var q=this.HD;if(q){var W=new gc,T=X;while(T>$){W=M.U[T].d9(this.je,!1,!0);
T--}J=q.wz(W)}if(J){this.P_.splice($,1);M.U.splice($,1)}else{M.U.push(this.ad_)}this.RW=null}};hT.tv=function(M,X,J){var q,W,T;
if(M.length!=null){q="SoFi";var _=JSON.parse(kf.px[kf.order.indexOf("SoFi")]);W={t:"Objc",v:_};W.v.Clr.v=hT.wd(M)}else{var m=hT.axN(M,X,J);
q="GrFl";W={t:"Objc",v:br.Ku(m,J)};T=m}return{e:q,K:W,nz:T}};hT.axN=function(M,X,J){var q=hT.gh(M.mat);
q.concat(X);var W=new es(0,0),T=new es(0,0),_=new es,m=M.crds,d=M.typ=="rad"?1:0;if(d==1){var A=.7;_.x=m[0];
_.y=m[1];W.x=m[3];W.y=m[4];T.x=W.x;T.y=W.y;T.x+=m[5]}else{W.x=m[0];W.y=m[1];T.x=m[2];T.y=m[3];_.cn(W.x,W.y)}q=br.Co(W,T,q);
var p=br.Fa(d,q,J);br.L_(p,W,T,_);p[1]=t.b(M.grad);return p};hT.prototype.PutText=function(M,X,J,q){var W=X.charCodeAt(0),s=null;
if(this.Lw!=-1&&this.Lw!=this.L9)return;if(X.length==0||X.length==1&&(W==0||W==8203))return;this._F(M);
var T=this.je,_=M.font,m=Math.round(255*M.ca);if(M.font.Tmode==3)m=0;var d=hT.gh(M.ctm);d.concat(this.PT);
var A=hT.gh(_.Tm);A.concat(d);var p=A.zQ(),a=new kp(1/p,0,0,-1/p,0,0);a.concat(A);var f=_.Tfs*p,j=T.U.length-1;
while(j>=0&&T.U[j].add.TySh==null)j--;if(a.g*a.g+a.br*a.br<.001&&q==null&&j>=0&&T.U[j].add.TySh&&T.U[j].G8==m){var Y=T.U[j],G=this.P_[j],Q=Y.add.TySh.u,Z=(a._f-G.avP)/f,g=Math.abs(Z),S=Q.Jm==a.Jm&&Q.g==a.g&&Q.br==a.br&&Q.Bi==a.Bi,U=a.Ey-G.zR,B=S&&Math.abs(U)<1e-5&&g<1;
if(B){s=Y;if(Z>.2&&[".",",","?",":","!"].indexOf(X)==-1){X=" "+X;J+=.5}}else if(S&&0<U&&U<f*1.7&&G.a0_==f){s=Y;
this.ayJ(G);G.zR=a.Ey;G.avp=a._f;X="\n"+X}}if(s==null){j=T.U.length;this.P_[j]={H8:[],zl:0,avP:a._f,zR:a.Ey,avp:a._f,QU:"",a0_:f};
s=T.C0();T.U.push(s);s.add.lnsr="rend";s.add.TySh=f5.c7(0,0);s.add.TySh.u=a}var G=this.P_[j];G.zl+=J*f;
G.QU+=X;G.avP=a._f+J*f;var e=s.add.TySh.Zj,P=f5.UP(e);if(q){f5.Wu(e,1);var h=[0,0,Math.ceil(q[0]*p),Math.ceil(q[1]*p)];
f5.Tf(e,h)}var V=P.length-1,I=V+X.length;f5.p7(e,V,X);if(this.MB==null)this.MB=f5.TC(e,V,V);var F=this.MB;
F.cN.FontSize=Math.round(f);F.cN.Tracking=Math.round(_.Tc*100);F.cN.Underline=_.Tun==1;F.cN.FillColor={Type:1,Values:[1,M.colr[0],M.colr[1],M.colr[2]]};
if(_.Tal!=null)F.Js.Justification=_.Tal;if(G.H8.length!=0){F.cN.AutoLeading=!1;F.cN.Leading=G.zR-G.H8[G.H8.length-1].y}var c=_.Tf;
c=c.replace(/#2B/g,"+");c=c.replace(/#2C/g,"-");c=c.split("+").pop();var D={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(D[c])c=D[c];f5.fa(F,c);f5.oW(e,V,I-1,F);s.yH();s.G8=m};hT.prototype.ayJ=function(M){M.H8.push({a3:M.zl,Y:M.QU.slice(M.H8.length==0?0:1)+"\n",x:M.avp,y:M.zR,i$:M.a0_});
M.zl=0;M.QU=""};hT.prototype.MW=function(M,X,J){return new Uint8Array(h1.mr("PNG").iL([[M.buffer,0]],X,J))};
hT.prototype.PutImage=function(M,X,J,q,W,T,_){if(this.Lw!=-1&&this.Lw!=this.L9)return;var m=this.je,d=M.font.Tmode;
if(d==7&&m.U[m.U.length-1].add.TySh){return}this._F(M);var A=hT.gh(M.ctm);A.concat(this.PT);var p=new kp(1/J,0,0,-1/q,0,1);
p.concat(A);A=p;X=hT.apl(X,J,q,T,!1);if(W)W=hT.apl(W,J,q,_,!0);if(W==null){if(X.length==J*q*4)X=this.MW(X,J,q)}else{X=this.agn(X,J,q,T,!1);
W=this.agn(W,J,q,_,!0);var a=t.j(J*q);t.SF(W,a,0);t.ix(a,X,3);X=this.MW(X,J,q)}var f=m.Xg(X,"Bitmap",0,0),s=new gc(0,0,J,q),j=t.G.mP(s).d;
t.G.u(j,A,j);f.add.SoLd.Trnf=o.fx.qT(j);f.add.SoLd.nonAffineTransform=o.fx.qT(j);f.el(m,!1);hT.a6a(M,f);
m.U.push(f)};hT.a6a=function(M,X){X.G8=Math.round(255*M.ca);var J=hT.et[M.bmode];if(J==null)console.log("Unknown blend mode",J);
else X.Sw=J};hT.et={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
hT.aeY=function(M){if(M=="pass")M="norm";for(var X in hT.et)if(hT.et[X]==M)return X;return"/Normal"};
hT.apl=function(M,X,J,q,W){var T=h1.$Y(M.buffer);if(T=="jpg"){try{M=new Uint8Array(h1.mr("JPG").aBo(M.buffer))}catch(hP){M=new Uint8Array(X*J*4)}}else if(T=="jb2"){M=new Uint8Array(h1.mr("JPG").ss(M.buffer,q,W)[0].data)}else if(M.length!=X*J*4){var _=new Uint8Array(X*J*4),m=Math.ceil(X/8),d=new Uint8Array(J*m);
UTIF.decode._decodeG4(M,0,M.length,d,0,X,1);var A=d[0]==(W?255:0);for(var p=0;p<J;p++){var a=m*p;for(var f=0;
f<X;f++){var $=p*X+f,s=$*4,j=(d[a+(f>>3)]>>7-(f&7)&1)*255;if(A)j=255-j;_[s]=j;_[s+1]=j;_[s+2]=j;_[s+3]=255}}M=_}return M};
hT.prototype.agn=function(M,X,J,q,W){if(M.length!=X*J*4){var T=h1.$Y(M.buffer);if(T=="jb2")throw"e";
var _=h1.mr(T);if(_==null||T=="tga")_=h1.mr("jpg");M=new Uint8Array(_.ss(M,q,W)[0].data)}return M};hT.prototype.ShowPage=function(){var M=this.je;
this.L9++;var X=this._C;this.H0();var J=M.C0();M.U.push(J);var q=new gc(Math.round(this.lK.x),Math.round(this.lK.y),Math.round(X[2]-X[0]),Math.round(X[3]-X[1]));
if(q.M5())q.r=q.$=2e3;this.BQ=this.BQ.m0(q);J.oQ(q);J.add.artb.artboardBackgroundType.v=1;J.EC("Page "+this.L9);
J.add.lsct=gO.dw;J.Sw="pass";J.l4=24};hT.prototype.Print=function(M){console.log("Print:",M)};hT.prototype.Done=function(){var M=this.je;
if(this.L9==1)M.U[M.U.length-1].add.lsct=gO.A$;M.TU(this.L9);for(var $=0;$<M.U.length;$++){var X=M.U[$],J=X.add.vmsk,q=X.add.TySh,W=this.P_[$];
X.hg();delete X.add.vsjs;if(J){var T=!1;for(var _=0;_<J.X.length;_++){var m=J.X[_];if((m.e==0||m.e==3)&&m.length>32767)T=!0}if(T){M.U.splice($,1);
$--;continue}}X.j$(M);if(q&&W&&W.H8.length!=0){this.ayJ(W);var d=q.Zj,A=W.H8.length,p=W.H8[0],a=1e9,f=-1e9,B="";
for(var _=0;_<A;_++){var s=W.H8[_];a=Math.min(a,s.x);f=Math.max(f,s.x+s.a3)}var j=[];for(var _=0;_<A;
_++){var s=W.H8[_],Y=-1,G=p.i$*.1,Q=Math.abs(s.x-a),Z=Math.abs(s.x+s.a3-f),g=Math.abs(Q-Z);if(g<G)Y=2;
if(Z<G){Y=1;if(s.x!=a)if(_!=0&&W.H8[_-1].x==s.x||_!=A-1&&W.H8[_+1].x==s.x)Y=-1}if(Q<G)Y=0;if(s.a3==f-a)Y=3;
j.push(Y)}var S=[!1,!1,!1];for(var _=0;_<A;_++){var Y=j[_];if(Y==3)Y=_==0?j[_+1]:j[_-1];if(Y==3)Y=0;
j[_]=Y;S[Y]=!0}var U=(f-a)*.05;if(S[0]&&!S[1])f+=U;if(!S[0]&&S[1])a-=U;if(!S[0]&&!S[1]){a-=U;f+=2*U}f5.Wu(d,1);
q.u.Ey-=p.i$*.7;q.u._f=Math.round(a);f5.Tf(d,[0,0,Math.ceil(f-a),Math.ceil(W.H8[A-1].y-p.y+p.i$*2)]);
for(var _=0;_<A;_++){var s=W.H8[_],Y=j[_],e=0;if(Y==-1){Y=0;e=Math.round(s.x-a)}var P=B.length,h=P+s.Y.length;
B+=s.Y;var V={Hd:[],cN:{},Js:{Justification:Y,StartIndent:e}};f5.oW(q.Zj,P,h-1,V)}}if(q){var d=q.Zj;
f5.a72(d);var I=f5.UP(d).split("\n");for(var _=0;_<I.length-1;_++){var s=I[_],F=0;for(var c=0;c<s.length;
c++){var D=s.charCodeAt(c);if(1473<=D&&D<=1524)F++}if(F>s.length/2){I[_]=s.split("").reverse().join("");
var n=d.EngineDict.ParagraphRun.RunArray[_].ParagraphSheet.Properties;n._Direction=1;n.Justification=f5.DO(n)}}f5.cd(d,I.join("\n"))}}M.hj=!0;
M.r=this.BQ.r;M.$=this.BQ.$;M.buffer=t.j(this.BQ.o()*4)};var c8={};c8.iH=null;c8.Aw=function(M,X,J,q,W,T){var _=gj==0?new gc(0,0,M.r,M.$):M.Vo();
if(W==null)W=_.r;if(T==null)T=_.$;c8.iH=M;var m=[[M.root,_,null]];if(gj==0&&M.add.artd){var d=M.root.children,A=[],p=!0;
for(var $=0;$<d.length;$++){var a=d[$].w,f=a.add.artb,s=null;if(f==null){p=!1;break}var j=f.artboardBackgroundType.v;
if(j!=1&&j!=3)s=a.sS();A.push([d[$],a.PH(),s])}if(p)m=A}if(gj==1){var Y=M.add.arts;m=[];for(var $=0;
$<Y.length;$++)m.push([M.root,t.G.Oi(Y[$].ny),null])}var G=X[0];G=G.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
G=G.split(" ");var Q=[];for(var $=0;$<G.length;$++){var Z=G[$];if(Z=="-"){var g=Q.pop(),S=parseInt(G[$+1]);
while(g<S){Q.push(g);g++}}else Q.push(parseInt(Z))}G=Q;for(var $=0;$<G.length;$++)if(isNaN(G[$])||G[$]<1||G[$]>m.length){G.splice($,1);
$--}var U=W/_.r,B=T/_.$,e=U*72/M.Qv,P=B*72/M.Qv,h=X[5];if(h==null)h=0;var V=72*h,I=72*h;for(var F=0;
F<m.length;F++){var $=F;if(X[2])$=m.length-1-F;if(G.length!=0&&G.indexOf($+1)==-1)continue;var c=m[$][0],D=m[$][1];
if(!c.w.cV())continue;var n=Math.round(D.r*e+2*V),k=Math.round(D.$*P+2*I);J.StartPage(0,0,n,k);var b=UDOC.getState(),N=new kp;
N.translate(-D.x,-D.y-D.$);N.scale(e,-P);N.translate(V,I);if(m[$][2]){var L=m[$][2],R=V*e,i=I*P,v=R+D.r*e,E=i+D.$*P;
b.colr=[(L>>>0&255)/255,(L>>>8&255)/255,(L>>>16&255)/255];b.pth={cmds:["M","L","L","L","Z"],crds:[R,i,v,i,v,E,R,E]};
J.Fill(b)}if(gj==0&&X[3]){var u=t.j(D.o()*4);t.fA(M.m7(),_,u,D);var C=M.fW();if(C)ICC.U.applyLUT(C[M.add.fcmy==1?5:3],C[2],u,u);
var l=h1.mr("JPG").iL([[u.buffer]],D.r,D.$,[X[1]]);u=new Uint8Array(l);var x=new kp;x.translate(D.x,D.y);
c8.si(b,J,u,D,x,N)}else{c8.lv(M,c,b,J,N,D,X,q);if(V!=0){var R=V,i=I,v=R+D.r*72/M.Qv,E=i+D.$*72/M.Qv,y=v+V,ge=E+V;
b.ca=1;b.colr=[1,1,1];b.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,ge,y,ge,y,0,R,i,v,i,v,E,R,E]};
J.Fill(b)}}if(X[6]){var O=[[0,0],[1,0],[1,1],[0,1]],kz=50,z=5,eZ=kz*.5,kM=z*.5,jV=D.r*72/M.Qv,cL=D.$*72/M.Qv;
b.colr=[.1,.1,.1];for(var aw in O){var h2=O[aw],ea=[aw==0||aw==3?-1:1,aw==0||aw==1?-1:1],ht=[V-eZ+kM*ea[0]+h2[0]*jV,I-(ea[1]!=1?z:0)+h2[1]*cL],jn=[V-(ea[0]!=1?z:0)+h2[0]*jV,I-eZ+kM*ea[1]+h2[1]*cL];
b.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[ht[0],ht[1],ht[0]+kz,ht[1],ht[0]+kz,ht[1]+z,ht[0],ht[1]+z,jn[0],jn[1],jn[0]+z,jn[1],jn[0]+z,jn[1]+kz,jn[0],jn[1]+kz]};
J.Fill(b)}}var gE=M.YY;for(var bS=0;bS<gE.length;bS++){var bi=gE[bS].v,D=t.Rl.Hg(bi),cj=t.G.mP(D).d;
t.G.u(cj,N,cj);var bb=t.G.Cs(cj);if(!new gc(0,0,n,k).wz(bb))continue;if(J.AddAnnot)J.AddAnnot([bb.x,bb.y,bb.x+bb.r,bb.y+bb.$],bi.url.v)}J.ShowPage()}J.Done();
c8.iH=null};c8.DR=function(M){M=t.NX.NH(M);return[M.z/255,M.L/255,M.g/255]};c8.lv=function(M,X,J,q,W,T,_,m){var d=X.w,A=d.add.lsct,p=d.add.lmfx,S,U,D,k=!1;
if(d.Nx)return;var a=d.add.vmsk,f=d.add.vstk,s=d.add.TySh;if(gj==1&&!d.nA()&&!T.B8(t.G.Cs(d.i7())))return;
var j=X.children,Y=j&&j.length!=0?j[j.length-1].w:null;if(gj==1&&Y&&Y.Nx&&Y.cV())a=Y.add.vmsk;if(!d.cV())return;
var G=d.G8/255,Q=d.add.iOpa!=null?d.add.iOpa/255:1;J.bmode=hT.aeY(d.Sw);var Z=J.ca;J.ca=J.CA=G*Q;var g=p;
if(g)g=g.solidFillMulti.v[0];if(g)g=g.v;if(g&&!g.enab.v)g=null;var B=d.S;if(d.TN()&&(!d.nA()||d.ws&&d.ws.DY)){if(d.nA()){S=d.ws.DY;
B=d.ws.aHp}else{S=t.j(d.S.o());t.SF(d.buffer,S,3)}U=hA.xZ(p,d.add.fxrp,S,B,M,B).e;var e=["DrSh","OrGl"];
if(Q!=1||f&&!f.fillEnabled.v){var P=S.slice(0);t.vN(P);for(var $=0;$<e.length;$++){var h=U[e[$]];for(var V=0;
V<h.length;V++){var I=h[V],F=I.rR.Q();F.x+=B.x;F.y+=B.y;t.tc(P,B,I.hT,F)}}}}if(U)c8.aC0(d,S,B,U,J,q,W,_,!0);
var c=hA.atC(d,!1);if(c){q.StartTGroup(J);D=J;J=UDOC.getState()}var n=a&&!d.eQ(),b=d.add.GdFl;if(b&&b.Type.v.GrdT!="Lnr"&&b.Type.v.GrdT!="Rdl"){k=!0}if(n){var N=t.G.WN(a.X,!1),L=N.zm;
t.G.u(L.d,W,L.d);J.cpth={cmds:L.C6,crds:L.d}}if(d.nA()){for(var $=0;$<X.children.length;$++)c8.lv(M,X.children[$],J,q,W,T,_,m)}else if(d.eQ()&&d.add.PtFl==null&&!k){var R=a?a.X:t.I.bg.Rect(0,0,M.r,M.$),i=d.add.vstl,L,E;
if(i==null)i=dD.yg(d.add,M);for(var $=0;$<2;$++){var v=$==0?i.nz:i.s0;if(v&&v.length==4)for(var V=0;
V<v[1].length;V++)v[1][V][1]=c8.nP(v[1][V][1])}hT.Dt(i,J);J.lwidth*=W.zQ();for(var $=0;$<J.dash.length;
$++)J.dash[$]*=W.zQ();if(gj==0){var N=t.G.WN(R,i.s0==null);L=N.zm;E=N.uF}if(gj==1){L=t.G.BM(R);E=a.li}t.G.u(L.d,W,L.d);
J.pth={cmds:L.C6,crds:L.d};for(var V=0;V<2;V++){var $=i.JJ==2?1-V:V,u=$==0?i.nz:i.s0,C=null;if(u.length==0)continue;
else if(u.length==3)C=u;else{var l=br.K9(u,R);l.concat(W);var x=[0,0,1,0];if(u[0]==1){var y=u[2][5]*Math.PI/180,ge=u[2][6];
x=[Math.cos(y)*ge,-Math.sin(y)*ge,0,0,0,1]}C={typ:["lin","rad"][u[0]],mat:[l.Jm,l.g,l.br,l.Bi,l._f,l.Ey],grad:t.b(u[1]),crds:x}}J[$==0?"colr":"COLR"]=C;
q[$==0?"Fill":"Stroke"](J,E!=0)}}else if(s&&_[4]){var O=s.Zj,eZ=new dV(O,m,s.PX),L=i5.OY(eZ,s,!0),kM=t.G.L3(L),jV=null,f=hA.a7P(p);
if(f){jV=kf.XZ.tx(f);jV.s0=c8.DR(f.strokeStyleContent.v.Clr.v)}for(var cL in kM){var h2=parseInt(cL.slice(1,7),16),ea=0;
J.colr=g?c8.DR(g.Clr.v):c8.aHi(h2);var ht=kM[cL];t.G.u(ht.d,W,ht.d);ht=t.G.a2G(ht);J.pth={cmds:ht.C6,crds:ht.d};
var i=jV?t.b(jV):null;if(cL.length>7)i=i5.agk(cL.slice(7));if(i)i.G2*=W.zQ();if(i&&i.JJ==2){J.COLR=i.s0;
hT.Dt(i,J);q.Stroke(J)}q.Fill(J);if(i&&i.JJ!=2){J.COLR=i.s0;hT.Dt(i,J);q.Stroke(J)}}}else if(s){var O=t.b(s.Zj);
f5.a72(O);var jn=s.u.Q(),gE=new kp(1,0,0,-1,0,0);gE.concat(jn);gE.concat(W);var bS=f5.UP(O),eZ=new dV(O,m,s.PX);
for(var $=0;$<eZ.Js.length;$++){var bi=eZ.Js[$];if(bi.OF.length==1&&bi.OF[0].Vs)continue;for(var V=0;
V<bi.hR.length;V++){var cj=bi.hR[V],bb=bi.VX.y+cj.VX.y,c0=bi.OF[cj.start].start,cV=bi.OF[cj.end-1].end,g_=f5.abh(O,c0,cV);
for(var hx=0;hx<g_.length;hx++){var au=eZ.fS(c0),kP=g_[hx],iK=f5.TC(O,c0,c0),b3=iK.Hd[iK.cN.Font].Name;
J.font.Tf=b3;var cL=f5.NH(iK.cN.FillColor);J.colr=g?c8.DR(g.Clr.v):[cL.z/255,cL.L/255,cL.g/255];var fs=J.font.Tfs=Math.round(iK.cN.FontSize),ch=bS.slice(c0,c0+kP);
if(iK.cN.FontCaps==2)ch=ch.toUpperCase();var l=new kp;l.translate(au.Os.x,-bb);l.concat(gE);J.ctm=[l.Jm,l.g,l.br,l.Bi,l._f,l.Ey];
q.PutText(J,ch,0);for(var hv=0;hv<2;hv++){var g6=iK.cN[hv==0?"Strikethrough":"Underline"];if(!g6)continue;
var ef=eZ.fS(c0+kP-1),fN=hv==0?.27:-.2,kb=fs*fN,cn=fs*(fN+.07),ea=ef.Os.x+ef.Os.r-au.Os.x,dF=[0,kb,ea,kb,ea,cn,0,cn];
t.G.u(dF,l,dF);J.pth={cmds:["M","L","L","L","Z"],crds:dF};q.Fill(J)}J.ctm=[1,0,0,1,0,0];c0+=kP}}}}else if(!d.S.M5()||gj==1){var et,bh,dY=!1,jM=new kp,bz=d.add.SoLd,hh=!0;
if(bz)hh=t.t.Jb(t.t.bw(o.fx.Bz(bz.Trnf)));var dM=M.fW();if(bz&&hh&&dM==null){var iX=bz.Idnt.v,aW=M.zh(iX,bz.Crop?bz.Crop.v:null),ff="";
if(aW==null)return;var eC=aW.SA,dh=h1.$Y(aW.raw.buffer);if(_[7].indexOf(dh)!=-1){et=aW.raw;dY=!0}else et=eC[0];
bh=eC[1];jM=t.t.sf(bz)}else{et=d.buffer;bh=d.S;jM.translate(bh.x,bh.y);if(dM){et=et.slice(0);ICC.U.applyLUT(dM[M.add.fcmy==1?5:3],dM[2],et,et)}if(t.jd(et,bh.r,bh.$)&&_[7]&&_[7].indexOf("jpg")!=-1){var fE=h1.mr("JPG").iL([[et.buffer]],bh.r,bh.$,[_[1]]);
et=new Uint8Array(fE);dY=!0}}if(g&&!dY)et=hA.a2r(et,g,bh);c8.si(J,q,et,bh,jM,W);if(g&&dY){var dF=[0,0,bh.r,0,bh.r,bh.$,0,bh.$];
t.G.u(dF,jM,dF);t.G.u(dF,W,dF);var dX=t.b(J);dX.ca=g.Opct.v.val/100;dX.pth={cmds:["M","L","L","L","Z"],crds:dF};
dX.colr=c8.DR(g.Clr.v);q.Fill(dX)}}if(n)J.cpth=null;if(c){q.EndTGroup();J=D}J.ca=J.CA=Z;if(U)c8.aC0(d,S,B,U,J,q,W,_,!1)};
c8.nP=function(M){var X=c8.iH;if(X==null)return M;var J=X.fW();if(J&&X.add.fcmy){return t.RP(t.jW(M)).slice(0,3)}return M};
c8.DR=function(M){M=t.NX.NH(M);return c8.nP([M.z/255,M.L/255,M.g/255])};c8.aHi=function(M){return c8.nP([(M>>>16&255)/255,(M>>>8&255)/255,(M&255)/255])};
c8.aC0=function(M,X,J,q,W,T,_,m,d){var A=J.Q(),p=X;if(M.add.TySh&&!m[3]&&!m[4])return;var a=W.ca,f=W.bmode;
for(var $=kf.order.length-1;$>=0;$--){var s=kf.order[$];if(s=="GrFl"||s=="SoFi")continue;if((M.add.vmsk||M.add.TySh)&&s=="FrFX")continue;
var j=q[s],Y=$>7||s=="FrFX";if(Y!=d)continue;for(var G=0;G<j.length;G++){var Q=j[G];if(Q.rR==null)Q=Q.xI?Q.xI:Q.Fp;
if(Q==null)continue;var Z=Q.rR.Q();Z.offset(A.x,A.y);if(!Y){if(!A.wz(Z)){var g=A.m0(Z),S=t.j(g.o());
t.Rc(p,A,S,g);p=S;A=g}t.tc(p,A,Q.hT,Z)}if(Y&&s=="FrFX"&&Q.X0)t.tc(Q.X0,Z,Q.hT,Z);var U=new kp;U.translate(Z.x,Z.y);
W.ca=Q.PC;W.bmode=hT.aeY(Q.VC);c8.si(W,T,Q.hT,Z,U,_)}}W.ca=a;W.bmode=f};c8.si=function(M,X,J,q,W,T){var _=new kp;
_.scale(q.r,-q.$);_.translate(0,q.$);_.concat(W);_.concat(T);M.ctm=[_.Jm,_.g,_.br,_.Bi,_._f,_.Ey];X.PutImage(M,J,q.r,q.$);
M.ctm=[1,0,0,1,0,0]};var is={};is.Ah=function(M){var X=new Uint8Array(M);return is.Wx(X,0)};is.Wx=function(M,X){var J=H.Z3,q=H.zb,W={qM:q(M,X,4),s:X+8,size:J(M,X+4)},T=W.qM=="FORM"||W.qM=="FOR4"||W.qM=="LIST"||W.qM=="CAT ";
if(T)W.PP=q(M,X+8,4);if(W.size<0||W.s+W.size>M.length)throw"e";if(T){W.sub=[];X+=12;var _=W.s+W.size;
while(X<_){var m=is.Wx(M,X);W.sub.push(m);var d=m.size&1,A=m.size&3;if(W.qM=="FOR4")d=A==0?0:4-A;X+=8+m.size+d}}return W};
var h8={};h8.Ah=function(M,X){var J=new Uint8Array(M);return h8.Wx(J,0,X)};h8.Wx=function(M,X,J){var q=H.UQ,W=H.zb,T={qM:W(M,X,4),s:X+8,size:q(M,X+4)};
if(J&&J[T.size]!=null)T.size=J[T.size];if(T.qM=="RIFF"||T.qM=="LIST"){T.PP=W(M,X+8,4)}if(T.size<0||T.s+T.size>M.length)throw"e";
if(T.qM=="RIFF"||T.qM=="LIST"&&(T.PP!="cmpr"&&T.PP!="stlt")){T.sub=[];X+=12;var _=T.s+T.size;while(X<_){var m=h8.Wx(M,X,J);
T.sub.push(m);X+=8+m.size+(m.size&1)}}return T};var at=function(){function M(x,y){var ge=null;if(x.sub==null)return ge;
for(var $=0;$<x.sub.length;$++){var O=x.sub[$];if(O.qM==y||O.PP==y)ge=O}return ge}function X(x){if(x==32)return 300;
else if(x<49)return 0;else if(x<58)return 100*(x-48);else if(x<65)return 0;return 100*(x-55)}var J;function q(x,y){var ge=new Uint8Array(x);
y.hj=!0;J={};var O=H.zb(ge,0,2);if(O=="WL"){alert("Unsupported CDR version")}else{var kz,z,eZ,cL,cj=300,cV=0;
if(O=="PK"){z=UZIP.parse(ge);if(z["content/root.dat"]){ge=z["content/root.dat"];eZ=H.Og(z["content/dataFileList.dat"]).split("\n")}else{ge=z["content/riffData.cdr"];
z=null}}kz=h8.Ah(ge.buffer);console.log(kz);var kM=X(ge[11]),jV={data:ge,s:0,lE:kM};jV.D0=jV.lE<600?16:32;
P(ge,jV,eZ,z,kz.sub,0);var aw=[];if(z){cL=M(kz,"doc ");W(cL);var h2=kz.sub;for(var $=0;$<h2.length;$++)if(h2[$].PP=="page")aw.push(h2[$]);
aw=aw.slice(1)}else if(kz.sub[3]&&kz.sub[3].qM=="pack"){alert("We dont support this version of CDR files");
return}else if(M(kz,"cmpr")==null){cL=M(kz,"page");aw.push(cL);if(M(cL,"mcfg")==null){cL=M(kz,"doc ");
W(cL);aw=[];var h2=kz.sub;for(var $=0;$<h2.length;$++)if(h2[$].PP=="page")aw.push(h2[$]);aw=aw.slice(1)}}else{var ea=M(kz,"cmpr").sub;
cL=ea[0];aw=[ea.slice(1)[1]];if(M(cL,"filt"))W(cL)}var ht=M(cL,"mcfg").K,jn=ht.amh,gE=jn.x*.1,bS=jn.x*aw.length+gE*(aw.length-1),bi=jn.y;
cj/=bk.Bg(new gc(0,0,Math.round(bS*cj),Math.round(bi*cj)),8192*8192);var bb=Math.round(bS*cj),c0=Math.round(bi*cj);
y.r=bb;y.$=c0;y.buffer=t.j(y.r*y.$*4);for(var $=0;$<aw.length;$++){var g_=new kp(cj,0,0,-cj,jn.x*cj/2+cV,jn.y*cj/2);
T(aw[$],cL,y,g_);var hx=y.U[y.U.length-1];hx.oQ(new gc(Math.round(cV),0,Math.round(jn.x*cj),Math.round(jn.y*cj)));
hx.EC("Page "+($+1));cV+=jn.x*cj+gE*cj}y.TU(aw.length)}}function W(x){var y=M(x,"filt").sub,ge=M(x,"otlt").sub,O=M(x,"fntt");
if(O)O=O.sub;x.wA={};for(var $=0;$<y.length;$++)x.wA[y[$].sub[0].K.id]=y[$].sub[0].K;x.tf={};for(var $=0;
$<ge.length;$++)x.tf[ge[$].K.id]=ge[$].K;if(O){x.fonts={};for(var $=0;$<O.length;$++)x.fonts[O[$].K.id]=O[$].K}}function T(x,y,ge,O){var kz=x.PP?x.PP:x.qM,z=M(x,"lgob"),eZ=M(x,"txsm"),kM=null,jV=null;
if(z){kM=M(z,"trfl");jV=M(z,"loda")}else if(M(x,"lobj"))jV=M(x,"lobj");var cL=kM&&kM.sub[0].FB?kM.sub[0].FB.Q():new kp;
cL.concat(O);var aw=ge.C0();if(kz=="page"||kz=="layr"||kz=="grp "){aw.EC((kz=="page"?"Page":"Group")+" "+ge.U.length);
aw.add.lsct=gO.A$;aw.Sw="pass";aw.l4=24;var h2=[];if(kz=="page")h2=M(x,"gobj").sub;if(kz=="layr")h2=x.sub.slice(2);
if(kz=="grp ")h2=x.sub.slice(4);if(h2.length==0)return;ge.U.push(ge.mm());for(var $=h2.length-1;$>=0;
$--)T(h2[$],y,ge,O)}else if(kz=="obj "&&jV.K&&jV.K.path){var ea,ht;if(y.wA){ea=y.wA[jV.K.aDD];ht=y.tf[jV.K.a43]}if(ea==null)ea=jV.K.atd;
if(ht==null)ht=jV.K.a7V;aw=_(ge,jV.K.path,O,cL,ea,ht)}else if(kz=="obj "&&eZ){var jn=jV.K.a4Q,gE=jV.K.aDh,cj="";
aw.add.TySh=f5.c7(0,0);var bS=cL.zQ();aw.add.TySh.u.translate(cL._f,cL.Ey);var bi=aw.add.TySh.Zj,bb=eZ.K.wc;
if(bb==null)return;for(var $=0;$<bb.length;$++){var c0=bb[$],cV=cj.length;cj+=c0.text+"\n";f5.p7(bi,cV,c0.text+"\n");
if(c0.text=="")continue;var g_=m(c0.a0q,y),hx=g_.am0,au=y.fonts[hx.azU],kP=f5.TC(bi,cV,cj.length);if(g_.align==3)kP.Js.Justification=1;
else if(g_.align==2)kP.Js.Justification=2;else kP.Js.Justification=0;var iK=g_.fill.K;if(iK==null)iK=[0,0,0];
if(au.wn)f5.fa(kP,au.wn);kP.cN.FillColor={Type:1,Values:[1,iK[0],iK[1],iK[2]]};kP.cN.FontSize=Math.round(hx.fontSize*O.zQ());
f5.oW(bi,cV,cj.length-1,kP)}if(gE){f5.Wu(bi,0)}else{f5.Wu(bi,1);f5.Tf(bi,[0,0,Math.round(jn.x*cL.Jm),Math.round(-jn.y*cL.Bi)])}aw.EC(cj.slice(0,10))}else{aw=null}if(aw)ge.U.push(aw)}function _(x,y,ge,O,kz,z){var eZ=x.C0();
eZ.EC("Object "+x.U.length);eZ.l4|=16;var kM=eZ.add.vstk=kf.XZ.IH();eZ.add.vmsk=new K.JL;eZ.add.vmsk.X=t.G.n$(y,!1);
t.I.cI(eZ.add.vmsk.X,O);var jV=kz&&kz.e!=0,cL=jV&&kz.K!=null?kz.K:[0,0,0];hT.d5(cL,eZ,O,eZ.add.vmsk.X);
kM.fillEnabled.v=jV;if(z&&z.a2l!=1){kM.strokeEnabled.v=!0;kM.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var aw=kM.strokeStyleLineWidth.v.val=z.lineWidth*ge.zQ(),h2=z.color;kM.strokeStyleContent.v.Clr.v=t.NX.$J({z:h2[0]*255,L:h2[1]*255,g:h2[2]*255});
if(z.hc.length!=0)kM.strokeStyleLineDashSet.v=hA.ts(z.hc,4/aw);var ea=z.a1j,ht=z.a8z;if(ht!=0){var jn=y.d,$=jn.length-4,gE=jn[$],bS=jn[$+1],bi=jn[$+2],cj=jn[$+3],bb=new kp;
bb.scale(.15,.15);bb.rotate(-Math.PI/2+Math.atan2(cj-bS,-(bi-gE)));bb.translate(bi,cj);bb.concat(O);
if(J[ht]){var c0=_(x,J[ht],ge,bb,h2,null);x.U.push(c0)}}}eZ.hg();eZ.j$(x);return eZ}function m(x,y){var ge=M(y,"stlt").K,O=t.b(ge.bV[x]);
if(O.vO!=0){var kz=ge.bV[O.vO];for(var z in kz)if(O[z]==null||O[z]==0)O[z]=kz[z];delete O.vO}O.align=ge.adk[O.afn];
O.fill=y.wA[ge.azj[O.aj5]];O.aBl=y.tf[ge.aa4[O.ajV]];O.am0=ge.a5u[O.awU];return O}function d($){var jX=$.data[$.s];
$.s+=1;return jX}function A($){var jX=H.Fn($.data,$.s);$.s+=2;return jX}function p($){var jX=H.UQ($.data,$.s);
$.s+=4;return jX}function a($){var jX=H.UQ($.data,$.s);$.s+=8;return jX}function f($){var jX=H.MZ($.data,$.s);
$.s+=2;return jX}function s($){var jX=H.Xv($.data,$.s);$.s+=4;return jX}function j($){var jX=H.f1($.data,$.s);
$.s+=8;return jX}function Y($){if($.s>=$.data.length)throw"e";var x=0;while($.data[$.s+x]!=0)x++;var y=H.zb($.data,$.s,x);
$.s+=x+1;return y}function G($){var x="";while(!0){var y=A($);if(y==0)break;x+=String.fromCharCode(y)}return x}function Q(x){var y=p(x),ge=(y&4294901760)>>>16,O=(y&65535)/65535;
return ge+O}function Z(x){if(x.lE<600)return Math.PI*f(x)/1800;return Math.PI*s(x)/18e7}function g(x){if(x.lE<1500)return S(x);
else return j(x)/254e3}function S(x){if(x.lE<600)return f(x)/1e3;else return s(x)/254e3}function U(x){if(x.lE<600)return A(x);
else return p(x)}function B(x){if(x.lE<600)return f(x);else return s(x)}function e(x,y,ge){var O="";
for(var $=0;$<ge;$++){for(var kz=0;kz<y;kz+=4){var jX=H.UQ(x.data,x.s+$*y+kz);O+=(jX<500?jX:jX)+","}O+="\n"}return O}function P(x,y,ge,O,kz,z){var eZ,kM,jV;
for(var cL=0;cL<kz.length;cL++){var aw=y.lE,h2=kz[cL];y.data=x;y.s=h2.s+(h2.qM=="LIST"?4:0);if(O&&h2.sub==null){eZ=p(y);
kM=p(y);jV=p(y);var ea=A(y);if(ea!=0&&ea!=768)throw"e";var ht=A(y);if(ht>32)throw"e";y.s-=16;if(eZ!=4294967295){y.data=O["content/data/"+ge[eZ]];
y.s=jV}}if(h2.qM=="vrsn"){if(h2.size==16)y.s+=8;var jn=A(y);y.lE=jn;console.log("Version",jn);y.D0=jn<600?16:32}else if(h2.qM=="DISP"){}else if(h2.qM=="pack"){var gE=p(y),bS=H.zb(y.data,y.s,4),bb=0;
if(bS!="CPng")throw bS;var bi=new Uint8Array(y.data.buffer,y.s+8+2,h2.size-10-4),cj=pako.inflateRaw(bi);
h2.sub=[];while(bb<cj.length){var c0=h8.Wx(cj,bb);bb=c0.s+c0.size;h2.sub.push(c0)}var cV={data:cj,s:0,lE:aw,D0:y.D0};
P(cj,cV,ge,O,h2.sub,z+1)}else if(h2.qM=="LIST"&&h2.PP=="cmpr"){var g_=p(y),hx=p(y),au=p(y),gE=p(y),bS=H.zb(y.data,y.s,4),bb=0;
if(bS!="CPng")throw bS;var bi=new Uint8Array(y.data.buffer,y.s+8+2,g_-6-8),cj=pako.inflateRaw(bi);y.s+=g_;
bi=new Uint8Array(y.data.buffer,y.s+8+2);var kP=pako.inflateRaw(bi),iK=[];for(var b3=0;b3<kP.length;
b3+=4)iK.push(H.UQ(kP,b3));h2.sub=[];while(bb<cj.length){var c0=h8.Wx(cj,bb,iK);bb=c0.s+c0.size;h2.sub.push(c0)}var cV={data:cj,s:0,lE:aw,D0:y.D0};
P(cj,cV,ge,O,h2.sub,z+1)}else if(h2.qM=="LIST"&&h2.PP=="stlt"||h2.qM=="stlt"){if(eZ==4294967295)return;
var fs=y.s,cn="",fE=32;h2.K={};var ch=p(y);if(ch==0)return;h2.K.azj=b(y,aw>=1300);h2.K.aa4=b(y);h2.K.a5u={};
var hv=p(y);for(var $=0;$<hv;$++){var g6=p(y);y.s+=aw<1e3?12:20;var ef=A(y),fN=A(y);y.s+=8;var kb=S(y);
y.s+=aw<1e3?12:20;h2.K.a5u[g6]={azU:ef,ag0:fN,fontSize:kb}}h2.K.adk=b(y);var dF=p(y);cn+="Intervals\n"+e(y,52,dF)+"\n";
y.s+=52*dF;var et=p(y);cn+="Set5s\n"+e(y,152,et)+"\n";y.s+=152*et;var bh=p(y);cn+="Tabs\n"+e(y,784,bh)+"\n";
y.s+=784*bh;var dY=p(y);cn+="Bullets\n";for(var $=0;$<dY;$++){var jM=y.s,bz=p(y);y.s+=4*3;if(aw>1300)y.s+=4;
var hh=p(y);y.s+=4*5;if(aw>=1300){var dM=p(y);if(dM){if(p(y))y.s+=64;else y.s+=60}else y.s+=12}else{y.s+=20;
if(aw>=1e3)y.s+=8;if(p(y))y.s+=8;y.s+=8}var iX=y.s;y.s=jM;cn+=e(y,iX-jM,1);y.s=iX}cn+="\n";var aW=p(y);
cn+="Indents\n";h2.K.aDQ={};for(var $=0;$<aW;$++){var jM=y.s,eC=p(y),dh={};y.s+=12;dh.right=S(y);dh.a77=S(y);
dh.left=S(y);h2.K.aDQ[eC]=dh;var iX=y.s;y.s=jM;cn+=e(y,iX-jM,1);y.s=iX}cn+="\n";var ff=p(y);if(aw>=1300)fE+=4;
cn+="Hypens\n"+e(y,fE,ff)+"\n";y.s+=fE*ff;var dX=p(y);cn+="Dropcaps\n"+e(y,28,dX)+"\n";y.s+=28*dX;if(aw>800){var i2=p(y);
cn+="Set11s\n"+e(y,28,i2)+"\n";y.s+=12*i2}h2.K.bV={};for(var $=0;$<ch;$++){var ew=p(y);if(ew>3)throw ew;
var hW=p(y),jt={};jt.vO=p(y);y.s+=8;var h3=p(y);if(aw>=1200)h3*=2;y.s+=h3;jt.aj5=p(y);jt.ajV=p(y);if(ew>1){jt.awU=p(y);
jt.afn=p(y);jt.aIE=p(y);jt.a3I=p(y);if(aw>800)jt.aGj=p(y)}if(ew>2){jt.ati=p(y);jt.abG=p(y);jt.aec=p(y);
jt.a8H=p(y);jt.aa5=p(y)}h2.K.bV[hW]=jt}}else if(h2.qM=="LIST")P(x,y,ge,O,h2.sub,z+1);else if(h2.qM=="txsm"){h2.K={};
if(aw<600)throw"e";if(aw<700)throw"e";if(aw>=1600){h2.K=k(y);return}if(aw>=1500)y.s+=37;else y.s+=36;
if(p(y)){if(aw<800)y.s+=32}if(aw<800)y.s+=4;h2.K.aCe=p(y);h2.K.wc=[];y.s+=48;if(aw>=800){if(p(y)){y.s+=32;
if(aw>=1300)y.s+=8}}if(aw>=1500)y.s+=12;var ew=p(y),dl=1,ba=!1;if(!ew){if(aw>=800)y.s+=4;if(aw>800)y.s+=2;
if(aw>=1400)y.s+=2;y.s+=24;if(aw<800)y.s+=8;dl=p(y)}for(var b3=0;b3<dl;b3++){var b_=p(y),$=0;if(aw>=1300&&ew)y.s++;
y.s++;var ch=p(y),f8=[];for($=0;$<ch;$++){var ak=d(y),i6=0;d(y);var jk=d(y);if(aw>=800)i6=d(y);var jt={};
if(jk&1){jt.azU=A(y);var k2=A(y);if(k2)jt.asd=k2}if(jk&2)y.s+=4;if(jk&4)jt.as7=S(y);if(jk&8)y.s+=4;if(jk&16)y.s+=4;
if(jk&32)y.s+=4;if(jk&64){jt.aj5=p(y);if(aw>=1500)y.s+=48}if(jk&128){jt.ajV=p(y)}if(i6&8){if(aw>=1300){var gm=p(y);
if(y.s+gm*2>=y.data.length){ba=!0;break}y.s+=gm*2}else y.s+=4}if(i6&32){var cu=d(y);if(cu)y.s+=52}if(ak==2)if(aw>=1300)y.s+=48;
f8.push(jt)}if(ba){break}var ek=p(y);if(y.s+ek*4>y.data.length)break;var i_=[];for($=0;$<ek;$++){var iP=0;
if(aw>=1200)iP=a(y)&4294967295;else iP=p(y);i_[$]=iP>>16|iP&1}var cf=ek;if(aw>=1200)cf=p(y);var id=Y(y);
h2.K.wc.push({a0q:b_,text:id,bV:f8})}}else if(h2.qM=="arrw")h2.K=h(y);else if(h2.qM=="font"){var jM=y.s,i1=A(y),f0=A(y),ej="";
y.s+=14;if(y.lE>=1200)ej=G(y);else ej=Y(y);h2.K={id:i1,aHk:f0,name:ej};if(O){var kk=jM+kM;while(y.data[y.s]==0)y.s++;
y.s+=2;var dZ=G(y);while(y.data[y.s]==0)y.s++;while(y.data[y.s]<=2)y.s+=4;h2.K.wn=G(y)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(h2.qM)!=-1){}else if(h2.qM=="flgs")h2.K=p(y);
else if(h2.qM=="bbox"){var cq=S(y),hI=S(y),fb=S(y),d6=S(y);h2.K=new gc(cq,hI,fb-cq,d6-hI)}else if(h2.qM=="fild"){var kc=p(y),f4;
if(aw>=1300)y.s+=8;var jm=A(y);if(jm==0){}else if(jm==1){y.s+=aw>=1300?13:2;f4=C(y)}else if(jm==2){y.s+=aw>=1300?8:2;
var ib=d(y),ds=0;if(aw>=1300){y.s+=17;ds=f(y)}else if(aw>=600){y.s+=19;ds=s(y)}else{y.s+=11;ds=f(y)}var i7=Z(y),hU=.5+B(y),jy=.5+B(y)-.5;
if(aw>=600)y.s+=2;var fi=U(y)&255,g$=d(y)/100;y.s++;var aS=U(y)&65535;if(aw>=1300)y.s+=3;var a9=[];for(var $=0;
$<aS;$++){var j5=C(y);if(aw>=1400)y.s+=26;else if(aw>=1300)y.s+=5;var fD=(U(y)&65535)/100;if(aw>=1300)y.s+=3;
a9.push([fD,j5])}f4={typ:ib==1?"lin":"rad",crds:[hU-Math.cos(i7)/2,jy-Math.sin(i7)/2,hU,jy],grad:a9,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",jm);
h2.K={id:kc,e:jm,K:f4}}else if(h2.qM=="outl"){var e2=p(y);if(aw>=1300){var kZ=0,a_=0;while(kZ!=1){y.s+=a_;
kZ=p(y);a_=p(y)}}var g5=A(y),hG=A(y),f7=A(y);if(aw<1300&&aw>=600)y.s+=2;var e$=S(y),j8=A(y)/100;if(aw>=600)y.s+=2;
var aB=Z(y);if(aw>=1300)y.s+=46;else if(aw>=600)y.s+=52;var f4=C(y);if(aw<600)y.s+=10;else y.s+=16;var a2=A(y),hS=y.s,fH=[];
for(var $=0;$<a2;++$)fH.push(A(y));if(aw<600)y.s=hS+20;else y.s=hS+22;var bZ=p(y),iM=p(y);h2.K={id:e2,a2l:g5,aHS:hG,aIB:f7,lineWidth:e$,color:f4,hc:fH,a1j:bZ,a8z:iM}}else if(h2.qM=="mcfg"){if(1300<=aw)y.s+=12;
else if(900<=aw)y.s+=4;else if(600<=aw&&aw<700)y.s+=28;var hz=0,d1=0;if(aw<400){y.s+=2;var cq=S(y),hI=S(y),fb=S(y),d6=S(y);
hz=Math.abs(fb-cq);d1=Math.abs(d6-hI)}else{hz=S(y);d1=S(y)}h2.K={amh:new es(hz,d1)}}else if(h2.qM=="loda"||h2.qM=="lobj"){var fs=y.s,fx=U(y),jQ=U(y),e9=U(y),eV=U(y),gT=U(y),fn=[],gW=[],$=0,c1=null;
y.s=fs+e9;while($<jQ)fn[$++]=U(y);y.s=fs+eV;while($>0)gW[--$]=U(y);h2.K={};for($=0;$<jQ;$++){y.s=fs+fn[$];
var bD=gW[$];if(bD==30){if(aw>=400&&gT==1||aw<400&&gT==0){h2.K.path=D(y)}else if(aw>=400&&gT==2||aw<400&&gT==1){h2.K.path=c(y)}else if(aw>=400&&gT==3||aw<400&&gT==2){h2.K.path=i(y)}else if(gT==37){h2.K.path=R(y)}else if(aw>=400&&gT==4||aw<400&&gT==3){h2.K.aDh=N(y)}else if(aw>=400&&gT==6||aw<400&&gT==5){h2.K.a4Q=L(y)}else console.log(gT)}else if(bD==20){if(aw<400)h2.K.atd=I(y);
else h2.K.aDD=p(y)}else if(bD==10){if(aw<400)h2.K.a7V=F(y);else h2.K.a43=p(y)}else if(bD==200)h2.K.aEC=U(y);
else if(bD==100){if(aw<400)c1=V(y)}}if(c1&&h2.K.path)t.G.u(h2.K.path.d,c1,h2.K.path.d)}else if(h2.qM=="trfd"){var fs=y.s,fx=U(y),jQ=U(y),e9=U(y);
y.s=fs+e9;var fn=[];for(var $=0;$<jQ;$++)fn[$]=U(y);for(var $=0;$<jQ;$++){y.s=fs+fn[$];if(aw>=1300)y.s+=8;
var eT=A(y);if(eT==8){var bp,ck,cq,aY,bx,hI;if(aw>=600)y.s+=6;if(aw>=500){bp=j(y);ck=j(y);cq=j(y)/(aw<600?1e3:254e3);
aY=j(y);bx=j(y);hI=j(y)/(aw<600?1e3:254e3)}else throw"e";h2.FB=new kp(bp,aY,ck,bx,cq,hI)}else console.log(eT)}}else if(!1){console.log(h2);
var gk=Math.min(h2.size,32);console.log(H.t_(x,h2.s,gk));console.log(H.apT(x,h2.s,gk))}}}function h(x){var y=p(x);
x.s+=4;var ge=A(x);x.s+=4;var O=[];for(var kz=0;kz<ge;kz++)O.push(d(x));x.s+=1;var z=[];for(var eZ=0;
eZ<ge;eZ++){var kM=[];kM[1]=S(x);kM[0]=S(x);z.push(kM)}var jV=E(z,O);J[y]=jV}function V(x){var y=0,ge=0,O=0,kz=0,z=0,eZ=0;
if(x.lE>=300){var kM=x.s;x.s+=10;var jV=U(x);x.s=kM+jV;y=Q(x);ge=Q(x);O=s(x)/1e3;kz=Q(x);z=Q(x);eZ=s(x)/1e3}else{O=S(x);
eZ=S(x);y=Q(x);ge=Q(x);O+=Q(x)/1e3;kz=Q(x);z=Q(x);eZ+=Q(x)/1e3}return new kp(y,ge,kz,z,O,eZ)}function I(x){var y=d(x);
if(y==0)return null;else if(y==1)return C(x);else console.log(y)}function F(x){var y=d(x);y<<=1;var ge=S(x),O=A(x)/100,kz=Z(x),z=C(x);
return{a2l:y,lineWidth:ge,color:z,hc:[],a1j:0,a8z:0}}function c(x){var y=S(x),ge=S(x),O=Z(x),kz=Z(x),z=t.G.BM(t.I.bg.hQ(0,0,y,ge));
return z}function D(x){var y=x.lE,ge=g(x),O=g(x),kz=0,z=0,eZ=0,kM=0,jV=0,cL=1,aw=1;if(y<1500){kM=g(x);
eZ=y<900?kM:g(x);z=y<900?kM:g(x);kz=y<900?kM:g(x)}else{var h2=j(x);if(h2!=0)cL=h2;h2=j(x);if(h2!=0)aw=h2;
var ea=d(x);x.s+=7;if(ea==0){kM=j(x);jV=d(x);x.s+=15;eZ=j(x);x.s+=16;z=j(x);x.s+=16;kz=j(x);var ht=Math.abs(ge*cL/2),jn=Math.abs(O*aw/2);
kM*=ht<jn?ht:jn;eZ*=ht<jn?ht:jn;z*=ht<jn?ht:jn;kz*=ht<jn?ht:jn}else{kM=g(x);jV=d(x);x.s+=15;eZ=g(x);
x.s+=16;z=g(x);x.s+=16;kz=g(x)}}return t.G.BM(t.I.bg.Rect(0,0,ge,O,[kz,z,eZ,kM]))}function n(x){var y=p(x);
if(x.lE<1700)y*=2;x.s+=y;return""}function k(x){var y=p(x),O=0;x.s+=37;var ge=p(x);for(var $=0;$<ge;
$++){var kz=p(x);O=kz;x.s+=48;var z=p(x);if(z==1)x.s+=12*4;else x.s+=8;if(!y){x.s+=16;n(x)}}var eZ={aCe:O,wc:[]},kM=p(x);
for(var jV=0;jV<kM;jV++){if(x.s>x.data.length)throw"e";var cL=p(x),aw=d(x),h2=-1,g_="";if(y){h2=d(x);
if(h2==1)x.s+=64}var ea=n(x),ht=p(x);for(var $=0;$<ht;$++){x.s+=2;var jn=A(x),gE=A(x);if(gE&4){var bS=p(x);
bS*=2;x.s+=bS}if(jn||gE&4){var bi=n(x)}}var cj=p(x),bb=[];for(var $=0;$<cj;$++){var c0=a(x)&4294967295;
bb[$]=c0>>16|c0&1}var cV=p(x);for(var $=0;$<cj;$++){var hx=bb[$]&7,au=0;if(hx==0||hx==2||hx==4||hx==6)au=x.data[x.s++];
else if(hx==1||hx==3||hx==5||hx==7)au=x.data[x.s++]+x.data[x.s++]*256;else throw hx;g_+=String.fromCharCode(au)}if(jV+1<kM)x.s++;
var kP=g_.split("\r");for(var $=0;$<kP.length;$++)eZ.wc.push({text:kP[$],a0q:cL,bV:[]})}return eZ}function b(x,y){var ge={},O=p(x);
for(var $=0;$<O;$++){var kz=p(x);x.s+=4;var z=p(x);ge[kz]=z;if(y)x.s+=48}return ge}function N(x){var y=S(x),ge=S(x);
return new es(y,ge)}function L(x){x.s+=4;var y=S(x),ge=S(x);return new es(y,ge)}function R(x){x.s+=4;
var y=A(x)+A(x);x.s+=16;var ge=v(x,y);return ge}function i(x){var y=A(x);x.s+=2;return v(x,y)}function v(x,y){var ge=[],O=[];
for(var $=0;$<y;$++)ge.push([S(x),S(x)]);for(var $=0;$<y;$++)O.push(d(x));return E(ge,O)}function E(x,y){var ge={d:[],C6:[]},O=0,kz=0,z=0;
for(var $=0;$<x.length;$++){var O=x[$][0],kz=x[$][1],eZ=y[$];if(!(eZ&64)&&!(eZ&128)||$==0){ge.d.push(O,kz);
ge.C6.push("M");z+=2}else if(eZ&64&&!(eZ&128)){ge.d.push(O,kz);ge.C6.push("L");z+=2}else if(!(eZ&64)&&eZ&128){ge.d.push(O,kz);
ge.C6.push("C");z+=6}else if(eZ&64&&eZ&128){ge.d.push(O,kz)}}if(z!=ge.d.length)throw"e";return ge}function u(x,y){var ge=H.UQ;
y+=8;var O=ge(x,y);y+=4;var kz=ge(x,y);y+=4;y+=4*7;var z=y,eZ=t.j(O*kz*4);y+=1024;for(var kM=0;kM<kz;
kM++)for(var jV=0;jV<O;jV++){var $=kM*O+jV,cL=(kz-kM-1)*O+jV,aw=x[y+$]<<2,h2=cL<<2;eZ[h2+0]=x[z+aw+2];
eZ[h2+1]=x[z+aw+1];eZ[h2+2]=x[z+aw+0];eZ[h2+3]=255}return{hT:eZ,S:new gc(0,0,O,kz)}}function C(x){var y=x.lE,ge=0,O=0,kz=0;
if(y>=500){ge=A(x);if(ge==1&&y>=1300)ge=25;if(ge==30){ge=25;O=30}else{O=A(x);x.s+=4}kz=p(x)}else if(y>=400)throw"e";
else{ge=d(x);kz=p(x)}return l(ge,O,kz)}function l(x,y,ge){var O=[0,0,0];if(x==2||x==3||x==9||x==17){var kz=[ge>>>0&255,ge>>>8&255,ge>>>16&255,ge>>>24&255];
if(x==2)for(var $=0;$<4;$++)kz[$]=Math.round(255*kz[$]/100);for(var $=0;$<4;$++)kz[$]/=255;O=UDOC.C.cmykToRgb(kz)}else if(x==1||x==5){O=[ge>>>0&255,ge>>>8&255,ge>>>16&255];
for(var $=0;$<3;$++)O[$]=O[$]/255;if(x==5)O.reverse()}else console.log("Unknown color model "+x,ge,ge.toString(16));
return O}return{Ah:q}}(),eo=function(){var M,X,J=new ArrayBuffer(4),q=new Uint8Array(J),W=new Uint32Array(J),T=new Float32Array(J);
function _(f,s){for(var j=0;j<f.length;j++)if(f[j][0]==s)return f[j]}function m(){var f=0,s=0,j=0;do{j=M[X++];
f|=(j&127)<<s;s+=7}while(j&128&&s<35);return f>>>0}function d(f,s,j,Y,G){M=f;X=s;var Q=Y[0]=="mesg",Z=Y[2],g={},S=1,U=Q?1e9:Z.length;
while(S<=U){var B=S;if(Q){B=m();if(B==0)break}var e=_(Z,B),P=e[2],h=e[1]==1,V=h?m():1,I=new Array(V);
if(P==3){if(!h)throw"e";I=M.slice(X,X+V);X+=V}else for(var $=0;$<V;$++){var F;if((P&1)==1){if(P==1)F=M[X++]==1;
else if(P==3)F=M[X++];else if(P==5){var c=m();F=c&1?~(c>>>1):c>>>1}else if(P==7)F=m();else if(P==9){if(M[X]==0){F=0;
X++}else{q[0]=M[X];q[1]=M[X+1];q[2]=M[X+2];q[3]=M[X+3];var D=W[0];W[0]=D<<23|D>>>9;F=T[0];X+=4}}else if(P==11){var n=A(M,X);
F=n[0];X+=n[1]+1}else throw P}else{var k=j[P>>>1];if(k[0]=="enum"){var b=m();F=k[2][b]}else{var N=d(M,X,j,k,G+1);
F=N[0];X=N[1]}}I[$]=F}g[e[3]]=h?I:I[0];S++}return[g,X]}function A(f,s){var j=s;while(f[j]!=0)j++;return[H.Og(new Uint8Array(f.buffer,s,j-s)),j-s]}function p(f,s){var j=s;
while(f[j]!=0)j++;for(var $=s;$<j;$++)if(f[$]>127)throw"e";return H.zb(f,s,j-s)}function a(f){M=f;X=1;
var s=[];while(X<f.length){var j=X,Y=s.length,G=p(f,X);X+=G.length+1;var Q=m();if(Q>2)throw"e";var Z=m(),g=[];
for(var $=0;$<Z;$++){var S=p(f,X);X+=S.length+1;var U=m(),B=m(),e=m();g.push(Q==0?S:[e,B,U,S])}s.push([["enum","strc","mesg"][Q],G,g])}return s}return{aqN:a,akQ:d}}();
function jR(){}jR.Ah=function(M,X){var J=Date.now(),q=new Uint8Array(M),W=8,T,a=0,N=0;if(q[0]==80&&q[1]==75){T=UZIP.parse(M);
q=T["canvas.fig"]}var _=H.UQ(q,W);W+=4;var m=[];while(W<q.length){var d=H.UQ(q,W);W+=4;var A=q.slice(W,W+d);
if(q[W]==137&&q[W+1]==80){}else A=UZIP.inflateRaw(A);m.push(A);W+=d}var p=eo.aqN(m[0]);for(var $=0;$<p.length;
$++)if(p[$][1]=="Message")a=$;var f=eo.akQ(m[1],0,p,p[a],0)[0],s={sQ:{},uj:{},aDF:{},Ga:T},j=f.nodeChanges;
for(var Y=0;Y<j.length;Y++){var G=j[Y],Q=G.guid;s.uj[Q.sessionID+","+Q.localID]=G}for(var Y=0;Y<j.length;
Y++){var G=j[Y],Q=G.parentIndex;if(Q){var Z=jR.uq(s.uj,Q.guid);if(Z.children==null)Z.children=[];Z.children.push(G)}}var g=j[0],S=g.children,U=new gc,B=[],e=[];
for(var Q=0;Q<S.length;Q++){var P=S[Q],h=P.children;if(P.name=="Internal Only Canvas"||h==null)continue;
var V=new gc;for(var $=0;$<h.length;$++){var I=h[$],F=I.transform,c=I.size;if(F.m00==1&&F.m10==0&&F.m01==0&&F.m11==1){var D=new gc(F.m02,F.m12,c.x,c.y);
V=V.m0(D)}}var n=U.$==0?0:U.$+100,k=V.Q();k.x=0;k.y=n;U=U.m0(k);B[Q]=V;e[Q]=n}var b=bk.Bg(new gc(0,0,U.r,U.$),8192*8192);
X.r=Math.round(U.r/b);X.$=Math.round(U.$/b);X.buffer=t.j(X.r*X.$*4);for(var Q=0;Q<S.length;Q++){var P=S[Q],h=P.children;
if(P.name=="Internal Only Canvas"||h==null)continue;h.sort(jR.and);var L=new kp(1,0,0,1,-B[Q].x,e[Q]-B[Q].y);
L.scale(1/b,1/b);for(var $=0;$<h.length;$++){var I=h[$];jR.lf(I,[],L,f.blobs,X,0,s);N++}}X.TU(N);X.hj=!0;
if(b!=1)alert("File scaled down "+b+"x")};jR.lf=function(M,X,J,q,W,T,_){var m=jR,V=!1,I,D=!1,n,k;X=t.b(X);
var d=M.overrideKey?M.overrideKey:M.guid;for(var $=0;$<X.length;$++){var A=X[$],p=A.guidPath.guids;if(m.aCh(p[0],d)){if(p.length==1){var a={};
for(var f in M)a[f]=A[f]!=null?A[f]:M[f];M=a}else A.guidPath.guids=p.slice(1)}}var s=M.type,j=M.children,Y=M.size,G=M.effects,Q=W.C0();
Q.EC(M.name);Q.EG(M.visible);Q.G8=Math.round(M.opacity*255);var Z=m.dr(M.transform),g=Z.Q();g.concat(J);
if(Y==null)Y={x:0,y:0};var S=new gc(Math.round(g._f),Math.round(g.Ey),Math.round(Y.x*g.zQ()),Math.round(Y.y*g.zQ()));
if(S.r==0||isNaN(S.r))S.r=100;if(S.$==0||isNaN(S.$))S.$=100;var U=M.fillPaints,B=M.inheritFillStyleID;
if(B){var a=m.uq(_.uj,B);if(a)U=a.fillPaints}if(U==null)U=[];var U=m.arh(U),e=U[0];if(e&&e.type=="IMAGE"&&m.m7(q,jR.BA(e),_,!0)==null)e=null;
var P=M.strokePaints,B=M.inheritFillStyleIDForStroke;if(B){var a=m.uq(_.uj,B);if(a)P=a.fillPaints}if(P==null)P=[];
var P=m.arh(P),h="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(s)!=-1;
if(h||s=="FRAME"){I=new K.JL;m.ajC(M,q,I);V=t.I.bW(I.X);t.I.cI(I.X,g);var F=t.G.JE(t.I.NP(I.X));if(!F.M5())S=F;
if(_.sQ.J7&&e){var c=K.JL.Oz(_.sQ.J7.X);for(var $=2;$<c.length;$++)if(c[$].li!=null)c[$].li=3;I.X=I.X.concat(c.slice(2))}}if(e&&e.type=="IMAGE"){k=e.imageScaleMode;
D=!0;var b=e.originalImageWidth,N=e.originalImageHeight;if(b*N==0){var L=m.m7(q,jR.BA(e),_);b=L.kq.r;
N=L.kq.$}var R=b/N,i=Y.x/Y.y;n=Math.abs(R-i)}if(s=="FRAME"){}else if(h&&V&&D&&(k=="FIT"||k=="FILL"&&n<=.05||k=="STRETCH"&&n<=.05)){var v=m.m7(q,jR.BA(e),_,!0),E=W.Xg(v,Q.getName(),0,0);
E.l4=Q.l4;E.G8=Q.G8;Q=E;var u=new gc(0,0,Y.x,Y.y);if(k=="FIT"){var C=e.originalImageWidth,l=e.originalImageHeight,x=Math.min(Y.x/C,Y.y/l),y=C*x,ge=l*x;
u=new gc(u.x+(u.r-y)/2,u.y+(u.$-ge)/2,y,ge)}var O=t.G.mP(u).d;t.G.u(O,g,O);Q.add.SoLd.Trnf=o.fx.qT(O);
Q.add.SoLd.nonAffineTransform=o.fx.qT(O);var kz=[],G=M.effects,z=e.paintFilter;if(G)for(var $=0;$<G.length;
$++)if(G[$].type=="FOREGROUND_BLUR"){var eZ=G[$],kM=fV.re("GsnB",{});kz.push(kM);kM.v.enab.v=eZ.visible;
kM.v.Fltr.v.Rds.v.val=eZ.radius/2.4}if(z&&z.exposure!=0){var kM=fV.re("brit",{});kz.push(kM);kM.v.Fltr.v.Brgh.v=Math.round(z.exposure*160);
kM.v.Fltr.v.useLegacy.v=!0}if(z&&z.vibrance!=0){var kM=fV.re("vibA",{});kz.push(kM);kM.v.Fltr.v.Strt.v=Math.round(Math.round(z.vibrance*100))}if(kz.length!=0){Q.add.SoLd.filterFX=fV.U2();
W.yE({id:Q.add.SoLd.placed.v,S:new gc,buffer:t.j(1),JS:new K.$O});Q.add.SoLd.filterFX.v.filterFXList.v=kz}Q.el(W,!1);
m.asz(_,Q,W)}else if(h){m.agx(Q,I,M,e,P,g,S,q,W,_);if(G)for(var $=0;$<G.length;$++){var eZ=G[$];if(eZ.type!="FOREGROUND_BLUR")continue;
I.VU=eZ.radius/2.4}Q.hg();Q.j$(W)}else if(s=="TEXT"){var jV=M.textData,cL=jV.layoutSize;if(cL==null)cL=M.size;
var aw=["LEFT","RIGHT","CENTER"].indexOf(M.textAlignHorizontal);Q.add.lnsr="rend";Q.add.TySh=f5.c7(0,0);
Q.add.TySh.hd=new gc(0,0,100,100);var h2=g.Q();Q.add.TySh.u=h2;var ea=Q.add.TySh.Zj,ht=jV.characters;
if(M.textCase=="TITLE"){for(var $=0;$<ht.length;$++)if($==0||ht[$-1]==" "){var jn=ht.slice(0,$),gE=ht.slice($+1);
ht=jn+ht[$].toUpperCase()+gE}}ht=ht.replace(/\u2028/g,"\n");ht=ht.replace(/\u2029/g,"\n");ht=ht.replace(/\r\n/g," \n");
f5.p7(ea,0,ht);var bS=M.textAutoResize,bi=jV.baselines;if(bS=="WIDTH_AND_HEIGHT"){var cj=aw==0?0:aw==1?cL.x:cL.x/2,bb=bi?bi[0].position.y:M.fontSize;
h2.translate(cj*g.zQ(),bb*g.zQ());f5.Wu(ea,0)}else if(bS=="HEIGHT"||bS=="NONE"||bS==null){var bb=bi?bi[0].position.y-M.fontSize*.7:0;
h2.translate(0,bb*g.zQ());f5.Wu(ea,1);f5.Tf(ea,[0,0,Math.round(cL.x),Math.round((bS=="NONE"?1.8:1)*cL.y)])}else throw bS;
if(ht!=""){var c0=f5.TC(ea,0,1);m.a9H(M,g,Y,c0,Q,q,W,_);f5.oW(ea,0,ht.length,c0);var cV=jV.characterStyleIDs,g_=jV.styleOverrideTable;
if(cV){cV=cV.slice(0);for(var $=0;$<cV.length;$++)if(ht[$]=="\n")cV[$]=-$-1;var hx=[0],au=0,kP=0;for(var $=0;
$<cV.length;$++){kP++;var iK=cV[$];if($==0||iK==cV[$-1]){}else{hx.push(kP-1,$);kP=1}}hx.push(kP);for(var $=0;
$<hx.length;$+=2){var b3=hx[$],fs=hx[$+1];if(ht[b3]=="\n")continue;var iK=cV[b3];if(iK!=0){var ch;for(var hv=0;
hv<g_.length;hv++)if(g_[hv].styleID==iK)ch=g_[hv];var c0=f5.TC(ea,b3,b3+1);m.a9H(ch,g,Y,c0,Q,q,W,_);
f5.oW(ea,b3,b3+fs-1,c0)}}}}}else if(s=="SYMBOL"){}else if(s=="INSTANCE"&&M.symbolData){var g6=M.symbolData,ef=g6.symbolOverrides,a=m.uq(_.uj,g6.symbolID);
if(a)j=a.children;else console.log(M.name,"symbol not found",g6.symbolID);X=X.slice(0);for(var $=0;$<ef.length;
$++)X.push(ef[$])}else console.log(s);if(!1){}else if(j&&!h){W.U.push(W.mm());var fN=!1,kb=T==0&&s!="SYMBOL"&&s!="INSTANCE";
if(kb){if(S.M5())console.log(S);Q.oQ(S)}e=U[U.length-1];if(e&&e.type=="IMAGE"&&m.m7(q,jR.BA(e),_,!0)==null)e=null;
if(kb&&e&&e.type=="SOLID"){var cn=e.color;Q.add.artb.artboardBackgroundType.v=4;Q.add.artb.Clr=m.WC(cn)}else if((e||P[0])&&I){var dF=W.C0();
dF.EC("Background");m.agx(dF,I,M,e,P,g,S,q,W,_);dF.hg();dF.j$(W);W.U.push(dF);fN=!0}j.sort(m.and);var et=_.sQ;
_.sQ={};for(var bh=0;bh<j.length;bh++)m.lf(j[bh],X,g,q,W,T+1,_);_.sQ=et;Q.add.lsct=!1?gO.A$:gO.dw;Q.Sw="pass";
var dY=Q.cV();Q.l4=24;Q.EG(dY);var jM=T!=0&&U.length!=0&&!M.frameMaskDisabled&&M.containerSupportsFillStrokeAndCorners;
if(!fN&&jM&&I){Q.add.vmsk=I;Q.hg();Q.j$(W)}else m.asz(_,Q,W);W.U.push(Q)}else if(M.mask){if(I){_.sQ.J7=I}}else{var bz=[],ff=1;
if(G)for(var hh=0;hh<G.length;hh++){var eZ=G[hh],dM=eZ.color,iX=eZ.type,aW=["DROP_SHADOW","INNER_SHADOW"].indexOf(iX);
if(aW!=-1){var eC=["DrSh","IrSh"][aW],dh=JSON.parse(kf.px[kf.order.indexOf(eC)]);bz.push([eC,dh]);dh.enab.v=eZ.visible;
dh.Md.v.BlnM=ae.fF(m.aoi(eZ.blendMode));dh.Opct.v.val=Math.round(100*dM.a);dh.blur.v.val=Math.round(eZ.radius*g.zQ());
dh.Clr=m.WC(dM);var cj=eZ.offset.x,bb=eZ.offset.y;dh.uglg.v=!1;dh.lagl.v.val=Math.round(180/Math.PI*Math.atan2(bb,-cj));
dh.Dstn.v.val=Math.round(Math.sqrt(cj*cj+bb*bb)*g.zQ())}}if(s=="TEXT"&&U[0]&&U[0].type!="SOLID")ff=0;
for(var $=ff;$<U.length;$++){var fE=U[$],dX=m.LE(M,fE,g,S,q,W,_);if(dX[0]=="GdFl")bz.push(["GrFl",dX[1]]);
else if(dX[0]=="SoCo")bz.push(["SoFi",dX[1]]);else if(dX[0]=="PtFl")bz.push(["patternFill",dX[1]]);else if(dX[0]=="None"){}else throw dX}if(!h)for(var $=0;
$<P.length;$++){var fE=P[$],dX=m.LE(M,fE,g,S,q,W,_);if(dX[0]=="SoCo"){var dh=JSON.parse(kf.px[kf.order.indexOf("FrFX")]);
bz.push(["FrFX",dh]);dh.enab=dX[1].enab;dh.Opct=dX[1].Opct;dh.Md=dX[1].Md;dh.Clr=dX[1].Clr;dh.Sz.v.val=Math.round(M.strokeWeight);
var i2=M.strokeAlign;if(i2)dh.Styl.v.FStl=kf.stroke.types[["INSIDE","CENTER","OUTSIDE"].indexOf(i2)]}}if(bz.length!=0){var ew=JSON.parse(kf.default);
for(var $=0;$<kf.order.length;$++)ew[kf.an[$]]={t:"VlLs",v:[]};for(var $=0;$<bz.length;$++){var hW=bz[$],eC=kf.an[kf.order.indexOf(hW[0])];
ew[eC].v.unshift({t:"Objc",v:hW[1]})}if(j==null)Q.add.lmfx=ew}W.U.push(Q)}};jR.agx=function(M,X,J,q,W,T,_,m,d,A){var p=jR;
M.l4|=16;M.add.vmsk=X;var a=M.add.vstk=kf.XZ.IH(),f=p.LE(J,q,T,_,m,d,A);a.fillEnabled.v=f[0]!="None";
if(f[0]=="None"){M.add.SoCo=f[1]}else{p.JR(f,M);M.add[f[0]]=f[1]}var f=p.LE(J,W[0],T,_,m,d,A);if(f[0]!="None"){var a=M.add.vstk;
a.strokeEnabled.v=!0;a.strokeStyleLineWidth.v.val=J.strokeWeight*T.zQ();a.strokeStyleLineAlignment.v.strokeStyleLineAlignment=kf.XZ._z[["INSIDE","CENTER","OUTSIDE"].indexOf(J.strokeAlign)];
var s={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[f[0]],j=["SoFi","GrFl","patternFill"].indexOf(s),Y=[kf.dB,kf.iz,kf.T7][j];
a.strokeStyleContent.v={classID:kf.XZ.PP[0]};var G=J.dashPattern;if(G)a.strokeStyleLineDashSet.v=hA.ts(G,1/J.strokeWeight);
var Q=a.strokeStyleContent.v={classID:kf.XZ.PP[j]};for(var $=0;$<Y.length;$++)Q[Y[$]]=f[1][Y[$]];if(!a.fillEnabled.v)p.JR(f,M)}};
jR.JR=function(M,X){var J=M[1].Opct.v.val;if(J!=100)X.G8=Math.round(X.G8/255*(J/100)*255)};jR.and=function(M,X){var J=M.parentIndex.position,q=X.parentIndex.position;
return J>q?1:-1};jR.arh=function(M){for(var $=1;$<M.length;$++){var X=M[$];if(X.type=="IMAGE"&&X.opacity==1){M=M.slice($);
break}}for(var $=0;$<M.length;$++){var X=M[$],J=X.imageThumbnail,q=X.type=="IMAGE";if(q&&(X.image==null||X.image.dataBlob==null)&&J&&J.dataBlob)X.image=J;
if(!X.visible||q&&X.image==null){M.splice($,1);$--}}return M};jR.asz=function(M,X,J){if(M.sQ.J7){X.add.vmsk=M.sQ.J7.Q();
X.hg();X.j$(J)}};jR.a9H=function(M,X,J,q,W,T,_,m){var d=M.fontSize,A=M.lineHeight,p=M.fontName,a=M.textAlignHorizontal,f=M.textTracking,s=M.textCase,j=M.textDecoration;
if(d==null)d=q.cN.FontSize;if(p){var Y=p.postscript;if(Y==""){var G=p.family,Q=p.style;Y=G.split(" ").join("")+"-"+Q}f5.fa(q,Y)}if(d!=null)q.cN.FontSize=Math.round(d);
if(j=="UNDERLINE")q.cN.Underline=!0;if(f)q.cN.Tracking=Math.round(f*1e3);if(s)q.cN.FontCaps=s=="UPPER"?2:0;
if(A&&(A.units!="PERCENT"||A.value!=100)){if(d==null)d=15;var Z=A.value;if(A.units=="PERCENT")Z=1*d*Z/100;
if(A.units=="RAW")Z=1*d*Z;q.cN.AutoLeading=!1;q.cN.Leading=Math.round(Z)}if(a)q.Js.Justification=["LEFT","RIGHT","CENTER"].indexOf(a);
var g=M.fillPaints,S=M.inheritFillStyleID;if(S){var U=jR.uq(m.uj,S);if(U)g=U.fillPaints}if(g&&g[0]){var B=jR.LE(M,g[0],X,J,T,_,m);
if(B[0]=="SoCo"){var e=t.NX.NH(B[1].Clr.v);q.cN.FillColor={Type:1,Values:[1,e.z/255,e.L/255,e.g/255]};
jR.JR(B,W)}}};jR.LE=function(M,X,J,q,W,T,_){var m=jR,d,A,p=M.size;if(p==null)p={x:0,y:0};if(X){var a=X.type,f=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(a);
if(a=="SOLID"){d="SoCo";var s=X.color;A=JSON.parse(kf.px[kf.order.indexOf("SoFi")]);A.Clr=m.WC(s)}else if(f!=-1){var j=JSON.parse(kf.px[kf.order.indexOf("GrFl")]),Y=j.Grad.v;
Y.Intr.v=0;j.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][f];var G=[],Q=X.stops;for(var $=0;$<Q.length;$++){var Z=Q[$],g=Z.color;
G.push([Z.position,[g.r,g.g,g.b],g.a])}t.NX.ex(G,Y);var S=m.dr(X.transform);S.vN();var U=S.Q();if(p)U.scale(p.x,p.y);
U.concat(J);var B=new es(0,.5),e=new es(1,.5);B=U.y8(B);e=U.y8(e);if(!0){B.x=e.x+.5*(B.x-e.x);B.y=e.y+.5*(B.y-e.y)}t.NX.Z5(B,e,q,j);
if(f==3){if(U.Jm*U.Bi-U.g*U.br<0)j.Rvrs.v=!j.Rvrs.v}d="GdFl";A=j}else if(a=="IMAGE"){var j=JSON.parse(kf.px[kf.order.indexOf("patternFill")]),S=m.dr(X.transform);
S.vN();var P=jR.BA(X),h=_.aDF[P];if(h==null){var V=m.m7(W,P,_);h=_.aDF[P]={};h.id=dD.dG()+"-d71c-11e5-b1ae-a548a96e5f9f";
h.c5=[new Uint8Array(V.data),V.kq];if(S.Jm<0){var I=h.c5[0].slice(0);t.t.E1(I,h.c5[0],V.kq.r,V.kq.$)}h.name="someImage";
T.m_(h)}if(S.Jm<0)S.Jm=-S.Jm;var F=["FILL","FIT","STRETCH","TILE"].indexOf(X.imageScaleMode),c=F==3?X.scale:1;
hA.a2U(h,j,p.x,p.y,F,J,S,c);d="PtFl";A=j}else if(a=="VIDEO"){d="SoCo";A=JSON.parse(kf.px[kf.order.indexOf("SoFi")]);
A.Clr=m.WC({r:255,g:0,b:255})}else throw a;if(A)A.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(X.opacity*100)}}}if(d==null||X.opacity<.001){d="None";
A={classID:"null",Clr:{t:"Objc",v:t.NX.$J({z:0,L:0,g:0})}}}return[d,A]};jR.BA=function(M){var X=M.image,J=X.dataBlob;
if(J==null){J="";for(var $=0;$<20;$++)J+=X.hash[$].toString(16).padStart(2,"0")}return J};jR.m7=function(M,X,J,q){if(M[X]){var W=M[X];
if(q)return W.bytes;if(W.rslt)return W.rslt;var T=W.bytes.buffer;W.rslt=jR.a0T(T);return W.rslt}else{if(J.Ga==null)return null;
if(q)return J.Ga["images/"+X];var T=J.Ga["images/"+X].buffer;if(J.Ga["images/-"+X])return J.Ga["images/-"+X];
J.Ga["images/-"+X]=jR.a0T(T);return J.Ga["images/-"+X]}};jR.a0T=function(M){var X=h1.$Y(M);if(X=="fpng")X="png";
var J=h1.mr(X);try{var q=J.ss(M)[0];if(q.depth==16){q.depth=8;q.data=t.cY(new Uint16Array(q.data),8).buffer}return q}catch(hP){return{data:t.j(4),kq:new gc(0,0,1,1)}}};
jR.ajC=function(M,X,J){var q=M.type,W=M.size,T=M.cornerRadius,A;if(T==null)T=0;var _=W.x,m=W.y,d=[T,T,T,T],p=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var $=0;$<4;$++)if(M[p[$]]!=null)d[$]=M[p[$]];if(q=="RECTANGLE"||q=="ROUNDED_RECTANGLE"||q=="FRAME"){A=t.I.bg.Rect(0,0,_,m,d)}else if(q=="ELLIPSE"){var a=M.arcData,f=a?a.startingAngle:0,s=a?a.endingAngle:2*Math.PI,j=a?a.innerRadius:0;
if(f==0&&s>1.999*Math.PI)A=t.I.bg.hQ(0,0,_,m,0);else A=t.I.bg.azE(_/2,m/2,m/2,f,s);if(j!=0&&j!=1){var Y=K.JL.Oz(A).slice(3);
Y.reverse();for(var $=0;$<Y.length;$++){var G=Y[$],Q=G.vX;G.vX=G.vJ;G.vJ=Q}var Z=new kp;Z.translate(-_/2,-m/2);
Z.scale(j,j);Z.translate(_/2,m/2);t.I.cI(Y,Z);A=A.concat(Y);A[2].length*=2}}else if(q=="LINE"){A=t.I.bg.Rect(0,0,_,m,0);
A.pop();A.pop();A[2].length=2}else if(q=="STAR"){A=t.I.bg.agG(_/2,m/2,_/2,2*Math.PI*(1/4),5,0,M.starInnerScale)}else if(q=="REGULAR_POLYGON"){A=t.I.bg.dQ(.5,.5,.5,Math.PI/2,M.count,0);
var g=new kp;g.scale(_,m);t.I.cI(A,g)}else if(q=="BOOLEAN_OPERATION"){A=[{e:6},{e:8,all:0}];var S=M.children,U=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(M.booleanOperation);
if(U==-1)throw M;if(S==null)S=[];for(var $=0;$<S.length;$++){var B=S[$],e=new K.JL,P=jR.ajC(B,X,e);if(e.X==null)continue;
t.I.cI(e.X,jR.dr(B.transform));A=A.concat(e.X.slice(2))}for(var $=3;$<A.length;$++)if(A[$].li!=null)A[$].li=U}else if(q=="VECTOR"){var h,V,i=3;
if(!0){var I=M.vectorData;if(I==null)return;h=I.normalizedSize;V=I.vectorNetworkBlob}var F=X[V].bytes,c=new Uint32Array(F.buffer),D=new Float32Array(F.buffer),n=c[0],k=c[1],b=c[2],N=[],L=[],R=[],v=i+n*3,E=v+k*7;
for(var $=0;$<n;$++){var u=i+$*3,C=new es(D[u+1],D[u+2]);N.push(C)}for(var $=0;$<k;$++){var l=v+$*7;
L.push([c[l+0],c[l+1],D[l+2],D[l+3],c[l+4],D[l+5],D[l+6]])}for(var $=0;$<b;$++){var x=c[E+1],y=R[$]=[];
E+=2;for(var ge=0;ge<x;ge++){var O=c[E++],kz=y[ge]=[];for(var z=0;z<O;z++)kz[z]=c[E+z];E+=O}}if(E!=c.length&&E!=c.length-1)throw"e";
if(b==0){var eZ=-1;for(var $=0;$<k;$++){if(eZ==-1){}else{var kM=-1;for(var ge=$;ge<k;ge++)if(L[ge][4]==eZ)kM=ge;
for(var ge=$;ge<k;ge++)if(L[ge][1]==eZ)kM=ge;if(kM!=-1){var jV=0,Q=L[kM];L[kM]=L[$];L[$]=Q;if(Q[1]!=eZ){jV=Q[1];
Q[1]=Q[4];Q[4]=jV;jV=Q[2];Q[2]=Q[5];Q[5]=jV;jV=Q[3];Q[3]=Q[6];Q[6]=jV}}}eZ=L[$][4]}R.push([[]]);for(var $=0;
$<k;$++)R[0][0].push($)}var cL=[],aw=[];for(var h2=0;h2<R.length;h2++){for(var ea=0;ea<R[h2].length;
ea++){var ht=R[h2][ea],jn=0;if(ht.length>1){var gE=L[ht[0]],bS=L[ht[1]];jn=gE[4]==bS[1]?1:0}for(var $=0;
$<ht.length;$++){var bi=L[ht[$]],cj=1,bb=4;if(jn==0){cj=4;bb=1}var c0=N[bi[cj]],cV=N[bi[bb]];if($==0){aw.push("M");
cL.push(c0.x,c0.y)}aw.push("C");cL.push(c0.x+bi[cj+1],c0.y+bi[cj+2],cV.x+bi[bb+1],cV.y+bi[bb+2],cV.x,cV.y)}}}A=t.G.n$({d:cL,C6:aw},!1);
if(T!=0){var d=[],g_=A[2].length;for(var $=0;$<g_;$++)d.push(T);if(t.I._8(A))t.I.TO(A,2,d)}var hx=new kp;
hx.scale(h.x==0?1:W.x/h.x,h.y==0?1:W.y/h.y);t.I.cI(A,hx)}J.X=A};jR.uq=function(M,X){return M[X.sessionID+","+X.localID]};
jR.aCh=function(M,X){return M.sessionID==X.sessionID&&M.localID==X.localID};jR.aoi=function(M){var X={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",LINEAR_BURN:"lbrn",SOFT_LIGHT:"sLit",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over",COLOR:"colr"}[M];
if(X==null)throw M;return X};jR.WC=function(M){return{t:"Objc",v:t.NX.$J({z:M.r*255,L:M.g*255,g:M.b*255})}};
jR.dr=function(M){if(M==null)return new kp;var X=[M.m00,M.m10,M.m01,M.m11,M.m02,M.m12];for(var $=0;$<6;
$++)if(Math.abs(X[$])<1e-20)X[$]=0;return new kp(X[0],X[1],X[2],X[3],X[4],X[5])};function eS(){}eS.Ah=function(){var M=H.zb;
function X(s,j,Y,G){var Q=G?[]:{};while(j<s.length-1&&s[j]!=125){var Z=M(s,j,3),g=M(s,j+3,1),S;j+=4;
j++;if(g=="v"){var U=X(s,j,Y+1,Z=="ELM"||Z=="TIL"||Z=="TFS");S=U.K;j=U.s}else if(g=="i"||g=="f"){var B=j;
while(s[B]!=125)B++;var e=M(s,j,B-j);S=g=="i"?parseInt(e,16):parseFloat(e);j=B+1}else if(g=="s"){var P=H.uC(s,j),e="";
j+=2;for(var $=0;$<P;$++)e+=String.fromCharCode(s[j+2*$+1]);S=e;j=j+2*P+1}else if(g=="b"){S=s[j]==49;
j=j+2}else throw"e";if(G)Q.push([Z,S]);else if(Q[Z]==null)Q[Z]=S;else{if(!(Q[Z]instanceof Array))Q[Z]=[Q[Z]];
Q[Z].push(S)}}j++;return{K:Q,s:j}}function J(s,j){var Y=q(s).slice(1),s=j.Clr.v;s.Rd.v=Y[0]*255;s.Grn.v=Y[1]*255;
s.Bl.v=Y[2]*255}function q(s){return[(s>>>24&255)/255,(s>>>16&255)/255,(s>>>8&255)/255,(s>>>0&255)/255]}function W(s,j){var Y=j&4278190080|(j&255)<<16|(j>>>8&255)<<8|j>>>16&255;
t.Tb(s,Y)}function T(s,j){var Y=s.TSZ,G=s.WPX,Q=s.HPX,Z=s.TIL,g=new gc(0,0,G,Q),S=t.j(G*Q*4),U=0;for(var B=0;
B<Q;B+=Y)for(var e=0;e<G;e+=Y){var P=new gc(e,B,Y,Y),h,V=Z[U];if(V[0]=="TMC"){h=t.j(P.o()*4);W(h,V[1])}else if(V[0]=="TID"){h=j[V[1]]}t.fA(h,P,S,g);
U++}return[S,g]}function _(s,j){s=new Uint8Array(s);var Y=8,G,Q={},k=0;while(Y<s.length){var Z=H.Z3(s,Y);
Y+=4;var g=M(s,Y,4);Y+=4;if(g=="mkTS"){var S=pako.inflate(s.slice(Y,Y+Z)),U=X(S,0,0);G=U.K}else if(g=="mkBT"){var B=H.Z3(s,Y+4),e=H.Z3(s,Y+8),S=pako.inflate(s.slice(Y+76,Y+Z));
if(e==0)for(var $=0;$<S.length;$+=4){var P=S[$],h=S[$+1],V=S[$+2],I=S[$+3];S[$+3]=P;S[$+2]=I;S[$+1]=V;
S[$]=h}else{var F=t.j(S.length*4);F.fill(255);t.Qh(S,F);S=F}Q[B]=S}Y+=Z+4}var c=G.PDC,D=c?c instanceof Array?c:[c]:[G.MKB],n=new gc;
for(var $=0;$<D.length;$++){var b=D[$];n=n.m0(new gc(0,k,b.WID,b.HIT));k+=b.HIT+100}j.r=n.r;j.$=n.$;
j.buffer=t.j(n.o()*4);j.TU(D.length);k=0;for(var N=0;N<D.length;N++){j.U.push(j.mm());var b=D[N],L=b.WID,R=b.HIT,i=b.BGC,v=(b.LYL?b:G).LYL.LAY,C=3;
for(var $=0;$<v.length;$++)d(v[$],j,null,Q,new kp(1,0,0,1,-b.XLC,-b.YLC+k));var E=j.C0();j.U.push(E);
var u=new gc(0,k,L,R);k+=R+100;E.oQ(u);if(i>>>24!=0){var l=t.NX.$J({z:i>>>16&255,L:i>>>8&255,g:i>>>0&255});
E.add.artb.Clr={t:"Objc",v:l};C=4}E.add.artb.artboardBackgroundType.v=C;E.EC(b.PGN?b.PGN:"Page "+(N+1));
E.add.lsct=gO.dw;E.Sw="pass";E.l4=24}}function m(s,j,Y){var G=s[j];return G instanceof Array?G[Y]:G}function d(s,j,Y,G,Q){var Z=j.C0();
if(s.VIS!=null)Z.EG(s.VIS);if(s.VIF!=null)Z.EG(s.VIF.VIS);if(s.OPA!=null)Z.G8=Math.round(255*s.OPA/1e3);
Z.Sw=s.CLL||Y=="GRP"?"pass":"norm";if(s.BLD!=null){var g=s.BLD,S={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[g+""];
if(S==null)console.log(s.OBN,g);else Z.Sw=S;if(g==30)Z.G8>>>=1}if(s.CLL){Z.EC(s.LNM);j.U.push(j.mm());
var U=s.CLL.CEL;if(U.length==null)U=[U];for(var B=U.length-1;B>=0;B--){var e=U[B].ELM;for(var $=e.length-1;
$>=0;$--)d(e[$][1],j,e[$][0],G,Q)}Z.add.lsct=s.DIS?gO.A$:gO.dw;Z.l4|=24}else if(Y=="GRP"){var P=Z.add.lmfx=p(s.EFL),h;
j.U.push(j.mm());var e=s.ELM,V=s.MRM;if(s.MNA){h=e[0][1];e=e.slice(1)}Z.EC("Group: "+e.length+" objects");
for(var $=e.length-1;$>=0;$--)d(e[$][1],j,e[$][0],G,Q);if(h){if(s.MRX){var I=T(h,G),F=Z.JS=new K.$O;
F.S=I[1].Q();F.S.x=h.XLC;F.S.y=h.YLC+Q.Ey;F.N=t.j(F.S.o());t.SF(I[0],F.N,0);t.vN(F.N)}else{A(Z,h,Q);
Z.hg();Z.j$(j)}}if(V){A(Z,V.PTH,Q);Z.hg();Z.j$(j)}Z.add.lsct=gO.dw;Z.l4|=24}else if(Y=="IMG"){Z.EC(s.OBN?s.OBN:"Bitmap");
var I=T(s,G);Z.S=I[1].Q();Z.S.x=s.XLC;Z.S.y=s.YLC+Q.Ey;Z.buffer=I[0]}else if(Y=="TXT"){var c=s.TFS,N="";
Z.add.lnsr="rend";Z.add.TySh=f5.c7(0,0);Z.add.TySh.hd=new gc(0,0,100,100);var D=new kp(1,0,0,1,s.LFT,s.TOP);
if(s.MTX){var n=s.MTX,F=new kp(n.M00,n.M01,n.M10,n.M11,n.M20,n.M21);D.concat(F)}D.concat(Q);Z.add.TySh.u=D;
var k=Z.add.TySh.Zj,b=f5.TC(k,0,0),L=m(s,"FON");if(L)f5.fa(b,L);var R=m(s,"PTS");if(R)b.cN.FontSize=Math.round(R);
var i=m(s,"ITL");if(i)b.cN.FauxItalic=i;if(s.PAT)b.cN.FillColor={Type:1,Values:q(m(s.PAT,"FCL"))};for(var $=0;
$<c.length;$++){var v=c[$][0],E=c[$][1];if(v=="TRN"){E=E.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
E=E.replaceAll("\x03","\n").replaceAll("\r","\n");f5.p7(k,N.length,E);f5.oW(k,N.length,N.length+E.length,b);
N+=E}else if(v=="FON")f5.fa(b,E);else if(v=="PTS")b.cN.FontSize=Math.round(E);else if(v=="ITL")b.cN.FauxItalic=E;
else if(v=="UND")b.cN.Underline=E;else if(v=="FCL")b.cN.FillColor={Type:1,Values:q(E)};else if(v=="LED"){b.cN.Leading=E*b.cN.FontSize;
b.cN.AutoLeading=!1}else if(v=="JST")b.Js.Justification=[0,2,1,3,5,4,6,7,8][E]}Z.EC(N.slice(0,255));
var u=s.RIT-s.LFT,C=s.BOT-s.TOP;if(s.IMG){d(s.IMG,j,"IMG",G,Q);var l=j.U.pop();Z.buffer=l.buffer;Z.S=l.S.Q()}f5.Wu(k,1);
f5.Tf(k,[0,0,u,C])}else if(Y=="PTH"){Z.EC(s.OBN?s.OBN:"Path");Z.l4|=16;var x=!1;A(Z,s,Q);var y=Z.add.vmsk,ge=Z.add.vstk,O=t.I.NP(y.X),kz=s.PAT,z=kz.BPL,eZ=kz.FPL,kM=kz.TXF;
if(eZ&&eZ.FEF)y.VU+=eZ.FEF/2.4;if(z){var jV=z.CAT;ge.strokeEnabled.v=!0;ge.strokeStyleLineWidth.v.val=z.BDI;
ge.strokeStyleLineAlignment.v.strokeStyleLineAlignment=kf.XZ._z[s.BRP];J(kz.BCL,ge.strokeStyleContent.v);
if(jV!="bc_Basic"&&jV!="bc_Pencil")x=!0}ge.fillEnabled.v=eZ!=null;if(eZ==null){Z.add.SoCo=JSON.parse(kf.px[kf.order.indexOf("SoFi")]);
J(0,Z.add.SoCo)}else if(eZ.CAT=="fc_Solid"){Z.add.SoCo=JSON.parse(kf.px[kf.order.indexOf("SoFi")]);J(s.PAT.FCL,Z.add.SoCo)}else if(eZ.CAT=="fc_Linear"||eZ.CAT=="fc_Circular"||eZ.CAT=="fc_Elliptical"){var cL=eZ.CAT=="fc_Linear",h2=Z.add.GdFl=JSON.parse(kf.px[kf.order.indexOf("GrFl")]),ea=h2.Grad.v,ht=[],jn=eZ.FGL,gE,bS=[];
if(jn.FGY){var bi=jn.FGY,gE=bi.FG0.FGI,bS=bi.FG1.FGI}else gE=jn.FGV.FGI;for(var $=0;$<gE.length;$++){var cj=gE[$],bb=q(cj.FGC),c0=1;
if(bS.length==gE.length)c0=q(bS[$].FGC)[0];ht.push([cj.FGP,bb.slice(1),c0])}h2.Type.v.GrdT=cL?"Lnr":"Rdl";
t.NX.ex(ht,ea);ea.Intr.v=0;var cV=s.PRI?s.PRI:s,g_=new es(cV.PSX,cV.PSY),hx=new es(cV.PEX,cV.PEY);if(eZ.CAT=="fc_Elliptical"&&cV.PFX!=null){var au=new es(cV.PFX,cV.PFY),kP=es.Yq(g_,hx),iK=es.Yq(g_,au);
if(iK<kP){var b3=kP;kP=iK;iK=b3}hx=new es(g_.x+(kP+iK)/2,g_.y);if(kP/iK<.5)x=!0}if(cL){g_.x=(g_.x+hx.x)/2;
g_.y=(g_.y+hx.y)/2}t.NX.Z5(g_,hx,O,h2)}else console.log(eZ.CAT);var P=Z.add.lmfx=p(s.EFL,y);if(eZ&&eZ.FTB!=0&&kM){var I=T(kM.MSK,G),fs={};
fs.id=dD.dG()+"-d71c-11e5-b1ae-a548a96e5f9f";fs.name="someImage";fs.c5=I;j.m_(fs);var ch=I[0];for(var $=0;
$<ch.length;$+=4){ch[$+3]=255-ch[$];ch[$]=ch[$+1]=ch[$+2]=255}var h2=JSON.parse(kf.px[kf.order.indexOf("patternFill")]);
h2.Opct.v.val=Math.round(eZ.FTB/10);h2.Algn.v=!0;h2.Ptrn.v.Idnt.v=fs.id;P.patternFillMulti.v.unshift({t:"Objc",v:h2})}if(x&&s.IMG){d(s.IMG,j,"IMG",G,Q);
var hv=j.U[j.U.length-1];hv.G8=Z.G8;return}Z.hg();Z.j$(j)}else if(Y=="URL")return;else{console.log("unknown layer type",Y,s);
Z.EC("Layer")}j.U.push(Z)}function A(s,j,Y){if(j.PBL==null)return;var G=s.add.vmsk=new K.JL,Q=s.add.vstk=kf.XZ.IH(!0),Z=j.PBL.PBP;
if(!(Z instanceof Array))Z=[Z];for(var g=0;g<Z.length;g++){var S=Z[g].PBT;if(S==null)continue;if(!(S instanceof Array))S=[S];
var U=Z[g].ISC?0:3;G.X.push({e:U,length:S.length,li:0,h8:2,gF:0,Ni:0});for(var $=0;$<S.length;$++){var B=S[$],e=B.XLC,P=B.YLC,h=[e,P,e,P,e,P],V="XPC YPC XLC YLC XSC YSC".split(" ");
for(var I=0;I<6;I++){var F=V[I],c=B[F];if(c!=null)h[I]=c}G.X.push({e:U+2,Z:new es(e,P),vX:new es(h[0],h[1]),vJ:new es(h[4],h[5])})}}t.I.cI(G.X,Y)}function p(s,j){var Y=JSON.parse(kf.default);
for(var $=0;$<kf.order.length;$++)Y[kf.an[$]]={t:"VlLs",v:[]};if(s==null||s.EPS==null)return Y;var G=s.EPS;
if(!(G instanceof Array))G=[G];for(var $=0;$<G.length;$++){var Q=G[$].DCE,Z={};for(var g=0;g<Q.length;
g++)Z[Q[g].DCK]=Q[g].DCV;if(Z.EffectIsVisible=="false")continue;var S=Z.mkbFile_WriteOnly_TemporaryEffectUiName;
if(S=="Gaussian Blur..."&&j){j.VU+=parseFloat(Z.gaussian_blur_radius);continue}var U=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(S);
if(U==-1){continue}var B=["DrSh","ebbl","IrGl","OrGl"][U],e=kf.an[kf.order.indexOf(B)],P=JSON.parse(kf.px[kf.order.indexOf(B)]);
Y[e].v.unshift({t:"Objc",v:P});if(B=="DrSh"){P.uglg.v=!1;a(Z,"ShadowDistance",P,"Dstn");a(Z,"ShadowBlur",P,"blur");
a(Z,"ShadowAngle",P,"lagl",180);P.Opct.v.val=100;f(Z,"ShadowColor",P,"Clr")}if(B=="IrGl"){P.Md.v.BlnM="Nrml";
var h=Z.MaskSoftness,V=Z.GlowWidth;if(h&&V){h=parseInt(h);V=parseInt(V);P.blur.v.val=V+h;P.Ckmt.v.val=Math.round(100*V/(V+h))}a(Z,"BevelContrast",P,"Opct");
f(Z,"OuterBevelColor",P,"Clr")}if(B=="OrGl"){P.Md.v.BlnM="Nrml";var h=Z.MaskSoftness,V=Z.GlowWidth;if(h&&V){h=parseInt(h);
V=parseInt(V);P.blur.v.val=V+h}a(Z,"BevelContrast",P,"Opct");f(Z,"OuterBevelColor",P,"Clr")}if(B=="ebbl"){P.uglg.v=!1;
a(Z,"BevelWidth",P,"blur");a(Z,"AngleSoftness",P,"Sftn");a(Z,"BevelContrast",P,"srgR");a(Z,"LightAngle",P,"lagl")}}return Y}function a(s,j,Y,G,Q){var Z=s[j];
if(Q==null)Q=0;if(Z)Y[G].v.val=parseInt(Z)+Q}function f(s,j,Y,G){var Q=s[j];if(Q){Q=Q.slice(1);if(Q.length==6)Q=Q+"ff";
if(Q.length!=8)throw"e";var Z=q(parseInt(Q,16)),g=Y[G].v;g.Rd.v=Z[0]*255;g.Grn.v=Z[1]*255;g.Bl.v=Z[2]*255;
Y.Opct.v.val=Math.round(Y.Opct.v.val/100*Z[3]*100)}}return _}();var ax=function(){function M(_){var m=new Uint8Array(_.length);
H.WB(m,0,_);return m}function X(_){var m=["<< /Type /Catalog  /Pages 2 0 R  >>","<< /Type /Pages  /Kids [ 3 0 R ] /Count 1 >>","<< /Type /Page   /Parent 2 0 R    /MediaBox [ 0 0 283 283 ] /Contents 4 0 R  /PieceInfo << /Illustrator << /Private 5 0 R>> >>   >>",M("")],d=m.length,p=0;
m.push("<< /AIMetaData  "+(d+2)+" 0 R /AIPrivateData1 "+(d+3)+" 0 R  /AIPrivateData2 "+(d+4)+" 0 R  /CreatorVersion 15  /ContainerVersion  9  /RoundtripVersion  15  /NumBlock 2  >>");
m.push(M(""));m.push(M(""));m.push(_);var A=new bJ,a=[];function f(G){H.JZ(A,p,G);p+=G.length}f("%PDF-1.5\n");
for(var $=0;$<m.length;$++){a.push(p);f($+1+" 0 obj\n");var s=m[$];if(typeof s=="string")f(m[$]+"\n");
else{var j=pako.deflate(s);f("<< /Length "+j.length+" /Filter [ /FlateDecode ] >>\nstream\n");A.q0(p,j.length);
A.data.set(j,p);p+=j.length;f("\nendstream\n")}f("endobj\n")}var Y=p;f("xref\n0 "+(a.length+1)+"\n0000000000 65535 f\r\n");
for(var $=0;$<a.length;$++)f((a[$]+"").padStart(10,"0")+" 00000 n\r\n");f("trailer\n<< /Root 1 0 R /Size "+(a.length+1)+" >>\nstartxref\n"+Y+"\n%%EOF\n");
return A.data.slice(0,p)}function J(_,m){var d=Date.now(),A=new Uint8Array(_),p,a=A[2]==68;if(m)console.log(!a?"EPS":"PDF");
if(a){var f=H.Gs(A,"/AIMetaData "),B,e,P;while(A[f]!=60)f--;f--;var s=H.Gs(A,">>",f),j=H.zb(A,f+2,s-f-2).split("/"),Y=[];
for(var $=0;$<j.length;$++){var G=j[$],Q=G.startsWith("AIPrivateData"),Z=G.startsWith("AIPDFPrivateData");
if(!Q&&!Z)continue;var g=G.trim().split(/\s+/),S=parseInt(g[1]),U=parseInt(g[0].slice(Q?13:16));Y.push([U,S])}if(m)console.log("--- map made",Date.now()-d);
d=Date.now();while(!0){var h=FromPDF.indexOfXref(A),V=[],I=FromPDF.readXrefTrail(A,h,V),F={buff:A,off:0},c=!1;
B=new Array(Y.length);e=!1;P=!1;for(var $=0;$<Y.length;$++){var U=Y[$][0],S=Y[$][1],b=0;if(V[S]==null){c=!0;
break}var D=FromPDF.getIndirect(S,0,F,V),n=D.buff,k=D["/Filter"];if(k!=null&&typeof k=="string")k=[k];
var N=H.zb(n,b,b+20);if(N=="%AI12_CompressedData"){b+=20;e=!0}else if(N=="%AI24_ZStandard_Data"){b+=20;
P=!0}n=new Uint8Array(n.buffer,n.byteOffset+b,n.length-b);if(k)for(var L=0;L<k.length;L++){var R=k[L];
if(R=="/FlateDecode")n=pako.inflate(n);else if(R=="/ASCIIHexDecode")n=FromPS.F.HexDecode({buff:n,off:0});
else if(R=="/ASCII85Decode")n=FromPS.F.ASCII85Decode({buff:n,off:0});else throw R}B[U-1]=n}if(c){console.log("extra xref after AI");
A=A.slice(0,h);continue}break}if(m)console.log("--- arrays found",Date.now()-d);d=Date.now();var i=H.zb(B[0],0,13);
if(i=="%%BoundingBox"||i=="%AI7_Thumbnai")B=B.slice(1);if(i=="%AI24_ZStanda"){B[0]=B[0].slice(20);P=!0}if(H.zb(B[0],0,13)=="%AI12_Compres"){B[0]=B[0].slice(20);
e=!0}p=q(B);if(m)console.log("--- concatenated",Date.now()-d);d=Date.now();if(e)p=UZIP.inflate(p);if(P)p=h1.oC.Sg(p);
if(m)console.log("--- inflated",Date.now()-d);d=Date.now()}else{var E=H.Og(A);if(E.indexOf("%AI5_BeginLayer")!=-1){p=A}else{var u=E.split(/[\n\r]+/),C=[],l=!1;
for(var x=0;x<u.length;x++){var y=u[x].trim();if(y=="%AI9_PrivateDataEnd"){l=!1;break}else if(y=="%AI9_DataStream"||y=="%AI24_DataStream"){l=!0}else if(l)C.push(y.slice(1))}var ge=H.y4(C.join("")),O=FromPS.F.ASCII85Decode({buff:ge,off:0});
if(O[0]==120&&O[1]==156)p=UZIP.inflate(O);else p=h1.oC.Sg(O)}}return p}function q(_){var m=0,A=0;for(var $=0;
$<_.length;$++)m+=_[$].length;var d=new Uint8Array(m);for(var $=0;$<_.length;$++){var p=_[$];d.set(p,A);
A+=p.length}return d}function W(_){var m=0,d=[];while(m<_.length){var A=_[m],p=A.charCodeAt(0);if(A==" ")m++;
else if(A==","||A==";"||A==":"){d.push(A);m++;var a=d[d.length-2];if(a=="/ASCII85Decode"){var f=m+1;
while(_[f]!="~"||_[f+1]!=">")f++;f+=2;var s=_.slice(m,f),j=FromPS.F.ASCII85Decode({off:0,buff:H.y4(s)});
d.push(j);m=f}if(a=="/StrokeStyle"||a=="/FillStyle"||a=="/BlendStyle"||a=="/SimpleStyle"||a=="/SmoothShadingStyle"){var f=m+1;
while(_[f]!=";")f++;d.pop();d.pop();d.push(_.slice(m,f));d.push("/String");m=f+1}}else if(A=="("){var f=m+1;
while(!(_[f]==")"&&(_[f-1]!="\\"||_[f-2]=="\\")))f++;var Y=_.slice(m+1,f);d.push(Y);m=f+1}else if(A=="/"||A=="-"||48<=p&&p<=57){var f=m;
while(_[f]!=" ")f++;d.push(_.slice(m,f));m=f}else if(A=="X"&&_[m+1]=="="){var f=m,G=0;while(!0){if(_[f]=="X"&&_[f+1]=="="){G++}if(_[f]=="X"&&_[f+1]=="+"&&_[f+2]==" "){G--;
if(G==0)break}f++}d.push(_.slice(m+3,f));d.push("/String");m=f+2}else{console.log(d);console.log(_.slice(m-600,m+10));
throw A}}return d}function T(_){var m={"/Filter":3,"/Visible":1,"/FillOrStroke":1,"/PluginFileName":1,"/Title":1},d={},A=W(_.join(" ")),p=[],a=parseFloat;
while(A.length!=0){var f=A.shift();if(f=="/Recorded"||f=="/NotRecorded"){continue}else if(f=="/Dict"){p.pop();
var s=p.pop();p[p.length-1][f]=s}else if(f=="/Execution"){p.pop();var s=p.pop();p[p.length-1][f]=s}else if(f=="/Part"){p.pop();
var s=p.pop(),j=p[p.length-1];if(j[f]==null)j[f]=[];j[f].push(s);A.shift()}else if(f=="/Def"){p.pop();
var Y=p.pop(),G=p[0];if(d[G]==null)d[G]=[];if(G=="/KnownStyle"){Y={val:Y};Y[p.pop()]=p.pop()}p.pop();
d[G].push(Y);A.shift()}else if(f==":"){var G=p.pop();if(G=="/Dictionary"||G=="/ArtDictionary"||G=="/XMLNode"||G=="/Mask"||G=="/ActiveStyle")p.push({});
else if(G=="/CompoundFilter"||G=="/BasicFilter"){p.push({typ:"Filter"})}else if(G=="/SVGFilter"||G=="/KnownStyle"){p.push(G)}else if(G=="/Array"||G=="/Document")p.push([]);
else if(G=="/Binary"){var Q=A.shift();if(Q!="/ASCII85Decode")throw"e";A.shift();p.push(A.shift())}else if(G=="/XMLUID"||G=="/XMLUIDREF"){A[1]=G}else if(G=="/GObjRef"){p.push(A.shift());
p.push("/String");A.shift();A.shift()}else{console.log(p);console.log(A);throw G}if(A[0]=="/NotRecorded"){A.shift();
A.shift()}}else if(f==","){var Z=p.pop(),G,g;if(Z[0]=="/"&&Z[1]==Z[1].toUpperCase()||Z==";"){G=Z;Z=null}else G=p.pop();
if(G=="/Name"){p.push(G);continue}if(m[G]){g=p.slice(p.length-m[G]);for(var $=0;$<m[G];$++)p.pop();var S=p.pop();
S[G]=g;p.push(S);continue}if(G=="/RealPoint"||G=="/RealPointRelToROrigin"){var U=p.pop();g=[a(p.pop()),a(U)]}else if(G=="/RealMatrix"){g=[];
for(var $=0;$<6;$++)g.push(a(p.pop()));g.reverse()}else if(G=="/String"&&typeof p[p.length-1]!="string")g="";
else{var top=p.pop();if(G==";")g=top;else if(G=="/String"||G=="/UnicodeString"||G=="/XMLUID"||G=="/XMLUIDREF"){g=top;
while(typeof p[p.length-1]=="string")g=p.pop()+g}else if(G=="/Int"||G=="/Real")g=a(top);else if(G=="/Bool")g=top=="1";
else throw JSON.stringify(G)}if(p.length==0)throw"e";var S=p.pop();if(Z==null&&!(S instanceof Array)){alert("key is null in a Dict");
continue}if(Z)S[Z]=g;else S.push(g);p.push(S)}else p.push(f)}return p.length==0?d:p[0]}return{a5O:J,alR:X,a0b:T}}();
function br(){}br.Ah=function(){function M(I,F,c){var D=!1,n=Date.now(),k=ax.a5O(I,D);if(D)console.log("part found",Date.now()-n);
n=Date.now();var b=P(k),N=b.Layer,L=b.Header;if(D)console.log(b);var R=b.Setup.TextDocument,i=N[0];i=b.Layer[0];
if(D)console.log("document parsed",Date.now()-n);n=Date.now();b.Setup.Gradient=e(b.Setup.Gradient,k);
if(D)console.log("grads loaded",Date.now()-n);n=Date.now();b.Setup.Pattern=U(b.Setup.Pattern,k);if(D)console.log("patts loaded",Date.now()-n);
n=Date.now();b.Setup.Palette=B(b.Setup.Palette,k);if(D)console.log("palet loaded",Date.now()-n);n=Date.now();
b.Setup.DocumentData=S(b.Setup.DocumentData,k);if(D)console.log("docdata loaded",Date.now()-n);n=Date.now();
b.Setup.SVGFilter=S(b.Setup.SVGFilter,k);if(D)console.log("svgfilter loaded",Date.now()-n);n=Date.now();
var v=b.Setup.ArtStyles;if(v){b.Setup.ArtStyles=S(v,k)}var E=b.Setup.Palette;for(var $=0;$<E.length;
$++){var u=E[$],C=u[0],l=u[1][0];if(C==null)C=u[1][1];var x=b.Setup.Gradient[C];if(l==0)F.MM.push([C,u[1][1]]);
if(l==1)F.MM.push([C,[x.Dv,x.ajy,0,0]]);if(l==2)F.MM.push([C,[C,0]])}var y=L.Cropmarks,ge=L.BoundingBox.split(" ").map(parseFloat),O=L.ArtSize?L.ArtSize.split(" ").map(parseFloat):[ge[2]-ge[0],ge[3]-ge[1]];
F.r=Math.round(Math.abs(O[0]));F.$=Math.round(Math.abs(O[1]));var kz=[1,0,0,1,-ge[0]+(F.r-(ge[2]-ge[0]))/2,-ge[1]+(F.$-(ge[3]-ge[1]))/2];
kz[3]=-1;kz[5]=F.$-kz[5];if(y){y=y.split(" ").map(parseFloat);F.r=Math.round(y[2]-y[0]);F.$=Math.round(y[3]-y[1]);
kz=[1,0,0,-1,-y[0],F.$+y[1]]}console.log(b);var z=b.Setup.DocumentData,eZ=[],kM=[];if(z&&z[0]&&z[0].ArtboardArray){var eZ=z[0].ArtboardArray;
if(eZ.length!=1)console.log(eZ.length,"artboards");var jV=new gc;for(var $=0;$<eZ.length;$++){var cL=eZ[$],aw=cL.PositionPoint1,h2=cL.PositionPoint2,ea=aw[0],ht=Math.min(aw[1],h2[1]),jn=h2[0],gE=Math.max(aw[1],h2[1]),bS=new gc(ea,ht,jn-ea,gE-ht);
kM.push(bS);jV=jV.m0(bS)}F.r=Math.round(jV.r);F.$=Math.round(jV.$);kz[4]=-jV.x;kz[5]=jV.y+F.$}if(z&&z[0]&&z[0]["#document"]){var bi=z[0]["#document"],cj=bi["xmlnode-children"][0];
if(cj&&cj["xmlnode-children"])cj=cj["xmlnode-children"][0];if(cj&&cj["xmlnode-nodename"]=="variableSets"){var bb=cj["xmlnode-children"][0]["xmlnode-children"],c0=bb[0],cV=bb[1],g_=V(c0);
F.ty=bB.aaw("<variableSets><variableSet>"+g_+"</variableSet></variableSets>");if(cV){var hx=V(cV),au=F.a1=bB.akV(hx);
for(var $=0;$<au.length;$++)for(var kP=0;kP<au[$].length;kP++)au[$][kP]=au[$][kP].trim()}}}var iK=1/bk.Bg(new gc(0,0,F.r,F.$),8192*8192);
while(Math.max(F.r*iK,F.$*iK)<800)iK*=2;while(c&&Math.max(F.r*iK,F.$*iK)<Math.max(c[0],c[1]))iK++;if(gj==1)iK=1;
F.r=Math.round(F.r*iK);F.$=Math.round(F.$*iK);F.Qv=Math.round(72*iK);for(var $=0;$<6;$++)kz[$]*=iK;var b3=[];
if(eZ.length!=[1,0][gj]){var fs=gj==0?F.U:[];fs.push(F.mm());for(var $=0;$<kM.length;$++){var cL=eZ[$],bS=kM[$],ch=F.C0();
ch.EC(cL.Name);fs.push(ch);ch.add.SoCo=JSON.parse(kf.px[kf.order.indexOf("SoFi")]);var hv=ch.add.SoCo.Clr.v;
a(hv,[1,1,1]);var ea=bS.x,ht=bS.y,jn=ea+bS.r,gE=ht+bS.$,g6=[ea,ht,jn,ht,jn,gE,ea,gE];t.G.u(g6,s(kz),g6);
G(ch,{cmds:["M","L","L","L","Z"],crds:g6},F,0);ch.add.vstk=kf.XZ.IH(!0);var ef=t.G.Cs(g6);b3.push({HH:cL.Name,ny:[ef.x,ef.y,ef.x+ef.r,ef.y+ef.$],O:cL.IsArtboardSelected})}var ch=F.C0();
ch.EC("_Artboards_");ch.add.lsct=gO.dw;ch.Sw="pass";ch.l4=24;fs.push(ch)}else b3=[{HH:"Artboard",ny:[0,0,F.r,F.$],O:!0}];
if(gj==1)F.add.arts=b3;J=[0,0,0];q=[0,0,0];W="SoCo";T="SoCo";for(var fN=0;fN<N.length;fN++){var kb=N[fN];
kb.Raster=X(kb,"Raster");kb.Place=X(kb,"Place");var cn=Z(k,kb);_(F,cn,kz,b,kb,k)}if(gj==0)for(var $=0;
$<F.U.length;$++){var ch=F.U[$];if(ch.Nx){F.U.splice($,1);var dF,et=0;for(var kP=$;kP<F.U.length;kP++){dF=F.U[kP];
if(dF.add.lsct==gO.Vd)et++;else if(dF.nA())et--;if(et==-1)break}dF.add.vmsk=ch.add.vmsk;dF.add.vogk=ch.add.vogk;
dF.j$(F)}}else{}if(c){F.b8();var bh=F.root.Hg();o.VN.cC(F,bh)}if(D)console.log("layers created",Date.now()-n);
n=Date.now()}function X(I,F){var c=I.Layer,D=I[F];if(D==null)D=[];if(c){for(var $=0;$<c.length;$++){var n=c[$],k=n[F]=X(n,F);
D=D.concat(k)}D.sort(function(b,N){return b._begin-N._begin})}return D}var J,q,W,T;function _(I,F,c,D,n,k){var b=[],N=0,L="",R=!1,i={},v=UDOC.G,E=UDOC.getState(),C="norm",l=1,x=0,y=!1,ge=0,O=!1,kz=!0,z=null,eZ=null,kM=!1,jV=0,cL=null,aw,h2,ea=0,ht=0,jn=0,cj=0,bb=!1;
E.ctm=c;var u=kf.so.IH(),gE=[0,0],bS=[],bi=[];for(var c0=0;c0<F.length;c0++){var cV=F[c0],b3=1e9;if(cV[0]=="%"){if(cV=="%_/ArtDictionary :"&&jV==0){z=[cV.slice(2)]}else if(z!=null){if(cV=="%_"&&jV==0){var g_=ax.a0b(z),hx=I.U[I.U.length-1],au=g_.AI10_ArtUID,kP=g_.BBAccumRotation;
if(au&&!au.startsWith("XMLID"))hx.EC(h(au));if(kP&&hx.add.vmsk==null&&I.U[I.U.length-2])hx=I.U[I.U.length-2];
if(kP&&hx.add.vmsk)hx.add.vmsk.W8=parseFloat(kP);z=null}else{z.push(cV.slice(kM?1:2));if(cV=="%_X=")jV++;
if(cV=="%_X+")jV--;if(cV=="%_/Binary : /ASCII85Decode ,")kM=!0;if(kM&&cV.endsWith("~>"))kM=!1}}else if(cL){aw+=(aw==""?"":" ")+cV.slice(2);
if(aw.endsWith("X#")){cL.push(aw.slice(0,aw.length-3));aw=""}}continue}else if(cV=="/Mesh X!"){cL=[];
aw="";continue}else if(cV=="/End X!"){A(cL,E,I);cL=null;continue}var iK="Xa XR m l c f Q q U u *U w W h n J j M d".split(" "),fs=-1,ch=cV.indexOf("(")!=-1;
for(var $=0;$<iK.length;$++){var hv=cV.indexOf(" "+iK[$]+" ");if(hv!=-1&&hv<b3&&!ch){b3=hv;fs=$}}if(fs!=-1){R=!0;
var g6=b3+1+iK[fs].length;F[c0]=cV.slice(0,g6);var ef=F[c0+1];if(ef==null||ef[0]=="%"||fs>9)F.splice(c0+1,0,cV.slice(g6));
else F[c0+1]=(cV.slice(g6)+" "+ef).replace(/\s\s+/g," ");c0--;continue}cV=cV.trim();var fN=cV.split(" "),kb=fN[fN.length-1],cn=kb.toLowerCase(),dF=fN.map(parseFloat);
if(kb=="m")v.moveTo(E,dF[0],dF[1]);else if(kb=="L"||kb=="l")v.lineTo(E,dF[0],dF[1]);else if(kb=="V"||kb=="v"){var et=E.pth.crds,bh=E.cpos[0],dY=E.cpos[1];
v.curveTo(E,bh,dY,dF[0],dF[1],dF[2],dF[3]);var jM=et.length;et[jM-6]=bh;et[jM-5]=dY}else if(kb=="Y"||kb=="y")v.curveTo(E,dF[0],dF[1],dF[2],dF[3],dF[2],dF[3]);
else if(kb=="C"||kb=="c")v.curveTo(E,dF[0],dF[1],dF[2],dF[3],dF[4],dF[5]);else if(kb=="H"||kb=="h"){if(kb==cn)v.closePath(E);
if(!y){var bz=I.C0();I.U.push(bz);bz.EC("<Clipping Path>");bz.Nx=!0;bz.add.vstk=kf.XZ.IH();bz.add.SoCo=JSON.parse(kf.px[kf.order.indexOf("SoFi")]);
G(bz,E.pth,I,x)}else O=!0}else if(kb=="XR"){x=dF[0]}else if(kb=="Xy"){C=br.avy[dF[0]];l=dF[1];if(C==null){C="norm";
console.log("unknown blend mode",dF[0])}}else if(kb=="Xd"){var hx=I.U[I.U.length-1];hx.G8=Math.round(255*l);
hx.Sw=hx.nA()&&C=="norm"?"pass":C}else if(kb=="AE")ea=dF[0];else if(kb=="Ae")ht=dF[0];else if(kb=="Xw")jn=dF[0];
else if(kb=="*"){var hh=E.pth.crds,dM=E.ctm,hv=hh[0]==hh[2]?0:1;I.aZ.push([hv,hh[hv]]);v.newPath(E)}else if(kb=="XN")h2=cV.split(" ")[0];
else if(kb=="XI"){var iX=n.Raster,aW,eC,k2;if(iX==null||iX.length==0){console.log("no Raster");continue}if(cV!="XI"){continue}else{var dh=iX[N++];
if(dh.Data)dh=dh.Data;var ff=dh._begin,fE=dh._end;while(k[ff]!=88)ff++;ff+=3;aW=k.slice(ff,fE);eC=F[c0-2].split(" ").map(parseFloat)}var dX=eC.slice(8),i2=dX[2],ew=dX[3],hW=i2*ew,jt=t.j(hW*4);
jt.fill(255);var h3=dX[7],dl=dX[8],ba=dX[6],b_=Math.ceil(i2*h3*ba/8);if(h3==1){if(ba==8)for(var $=0;
$<hW;$++)for(var f8=0;f8<3;f8++)jt[4*$+f8]=aW[$];else if(ba==1)for(var ak=0;ak<ew;ak++)for(var jk=0;
jk<i2;jk++)for(var f8=0;f8<3;f8++)jt[4*(ak*i2+jk)+f8]=255*(aW[ak*b_+(jk>>>3)]>>>7-(jk&7)&1);else throw ba}else if(h3==3)for(var $=0;
$<hW;$++)for(var f8=0;f8<3;f8++)jt[4*$+f8]=aW[3*$+f8];else if(h3==4||h3==5){for(var $=0;$<hW;$++){jt[4*$+0]=aW[h3*$+0];
jt[4*$+1]=aW[h3*$+1];jt[4*$+2]=aW[h3*$+2];jt[4*$+3]=aW[h3*$+3]}t.aEd(jt);for(var $=0;$<hW;$++)jt[$*4+3]=255}else if(h3==7)for(var $=0;
$<hW;$++){jt[4*$+0]=aW[h3*$+0];jt[4*$+1]=aW[h3*$+1];jt[4*$+2]=aW[h3*$+2]}else console.log("unknown number of channels",h3);
if(dl==1){var i6=ew*b_;for(var $=0;$<hW;$++)jt[4*$+3]=aW[i6+$]}if(i2*ew<700*700)k2="PNG";else if(Math.max(i2,ew)>32768)k2="PNG";
else k2=t.jd(jt,i2,ew)?"JPG":"PNG";var gm=h1.mr(k2).iL([[jt.buffer]],i2,ew),cu=I.Xg(new Uint8Array(gm),"<Image>",0,0);
I.U.push(cu);cu.Sw=C;cu.G8=Math.round(255*l);cu.EG(jn==0);var ek=new kp;ek.scale(1,-1);ek.concat(s(eC.slice(1)));
ek.concat(s(E.ctm));var i_=cu.add.SoLd,iP=i_.Sz.v,cf=new gc(0,0,iP.Wdth.v,iP.Hght.v),fN=t.G.mP(cf).d;
t.G.u(fN,ek,fN);cu.add.SoLd.Trnf=o.fx.qT(fN);cu.add.SoLd.nonAffineTransform=o.fx.qT(fN);cu.el(I,!1)}else if(kb=="Ln"){b.push(p(cV))}else if(kb=="u"||kb=="q"||kb=="Lb"){if(kb=="Lb")I.add.prvw=dF[1];
bS.push(ht==1);bi.push((kb=="Lb"?1-dF[0]:jn)==0);if(y)continue;I.U.push(I.mm())}else if(kb=="U"||kb=="Q"||kb=="LB"){if(bS.length==0||bi.length==0)throw c0;
var id=bS.pop(),i1=bi.pop();if(kb=="LB")id=ea==1;if(y)continue;var cu=I.C0();cu.EC((kb=="U"?"<Group>":"<Clip Group>")+L);
if(kb=="LB")cu.EC(b.pop());cu.add.lsct=id?gO.A$:gO.dw;cu.Sw="pass";cu.l4=24;cu.EG(i1);I.U.push(cu);if(bb){if(I.U[I.U.length-3].getName()=="</Layer group>"){I.U.pop();
I.U.splice(I.U.length-2,1)}bb=!1}}else if(kb=="Bb")kz=dF[0]!=1;else if(kb=="BB"){}else if(kb=="Bm"||kb=="Bc"||kb=="Xm"){}else if(kb=="Bh")gE=dF.slice(2,4);
else if(kb=="Bg"){var f0=D.Setup.Gradient,ej=f0[p(cV)],fN=cV.slice(cV.indexOf(")")+2).split(" ").map(parseFloat);
if(ej==null){console.log("gradient not found");for(var kk in f0){ej=f0[kk];break}}var dZ=fN[10];if(isNaN(dZ))dZ=1;
var cq=fN.slice(0,4);cq.push(dZ,gE[0],gE[1]);if(Math.max(Math.abs(cq[0]),Math.abs(cq[1]))>20){cq[0]=0;
cq[1]=0;cq[3]=1;console.log("strange gradient")}var hI=[ej.Dv,ej.ajy,cq,fN.slice(4,10)];d(hI,"GdFl",kz)}else if(cn=="p"&&cV!="p"){var fb=p(cV);
if(I.nB[fb]==null){var d6=D.Setup.Pattern[fb],kc=d6.ny,i2=Math.round(kc[2]-kc[0]),ew=Math.round(kc[3]-kc[1]),g_=new dD,jm=Math.sqrt(Math.abs(c[0]*c[3]-c[1]*c[2])),ek=new kp(1,0,0,-1,-d6.ny[0],ew+d6.ny[1]);
ek.concat(new kp(jm,0,0,jm,0,0));var f4=[J,q,W,T];J=[0,0,0];q=[0,0,0];W="SoCo";T="SoCo";_(g_,d6.H8,[ek.Jm,ek.g,ek.br,ek.Bi,ek._f,ek.Ey],D,n,k);
g_.r=Math.round(i2*jm);g_.$=Math.round(ew*jm);g_.b8();g_.vV();if(gj==0){g_.buffer=t.j(g_.r*g_.$*4);g_.rD()}J=f4[0];
q=f4[1];W=f4[2];T=f4[3];window.aCi=d6.H8;I.nB[fb]=g_}var ib=cV.slice(cV.indexOf(")")+2),ds=ib.slice(0,ib.indexOf("[")-1).split(" ").map(parseFloat),i7=ib.slice(ib.indexOf("[")+1,ib.indexOf("]")).split(" ").map(parseFloat);
d([fb,[ds,i7]],"patt",kb=="p")}else if(kb=="J"||kb=="j"||kb=="w"||kb=="M"||kb=="d"){var ek=E.ctm,jm=Math.sqrt(Math.abs(ek[0]*ek[3]-ek[1]*ek[2]));
for(var $=1;$<fN.length;$++){var hU=fN[$],jy=dF[$-1];if(hU=="w")u.G2=jy*jm;if(hU=="j")u.NT=jy;if(hU=="J")u.o5=jy;
if(hU=="M")u.tu=jy;if(hU=="d"){var fi=cV.slice(cV.indexOf("[")+1,cV.indexOf("]")).trim();if(fi.length!=0){var g$=fi.split(" ").map(parseFloat);
u.hc=g$;for(var f8=0;f8<g$.length;f8++)g$[f8]*=jm}else if(fi=="")u.hc=[]}}}else if(cn=="xa"||cn=="xx"){var aS=Y(cV);
d(aS,"SoCo",kb=="Xa"||kb=="Xx")}else if(cn=="xk"){aS=Y(cV);d(aS,"SoCo",kb=="Xk")}else if(cn=="k"||cn=="x"){aS=Y(cV);
d(aS,"SoCo",kb==cn)}else if(cn=="g"){var aS=[dF[0],dF[0],dF[0]];d(aS,"SoCo",kb==cn)}else if(cn=="n"){if(!y)v.newPath(E)}else if(kb=="*u"){y=!0;
ge=0;bi.push(jn==0)}else if(kb=="*U"||cn=="s"||cn=="f"||cn=="b"){if(kb!="*U"&&y){if(cn=="f"||cn=="b")ge|=1;
if(cn=="s"||cn=="b")ge|=2;continue}if(kb==cn)v.closePath(E);if(kb=="*U"){y=!1}var cu;{cu=I.C0();cu.l4|=16;
G(cu,E.pth,I,x);var a9=cn=="f"||cn=="b"||kb=="*U"&&ge&1,j5=cn=="s"||cn=="b"||kb=="*U"&&ge&2,fD=cu.add.vstk=kf.XZ.IH(a9,j5),e2=t.b(u);
e2.nz=[];e2.s0=[];if(a9)e2.nz=J;if(j5)e2.s0=q;if(gj==0){kf.XZ.write(fD,e2);if(W=="SoCo"){cu.add.SoCo=JSON.parse(kf.px[kf.order.indexOf("SoFi")]);
var kZ=cu.add.SoCo.Clr.v;a(kZ,J)}if(W=="GdFl"){cu.add.GdFl=br.Ku(J,cu.add.vmsk.X)}if(W=="patt"){cu.add.PtFl=m(J,I)}if(j5){var a_=["SoCo","GdFl","patt"].indexOf(T),g5=a_==0?{Clr:{t:"Objc",v:hT.wd(q)}}:a_==1?br.Ku(q,cu.add.vmsk.X):m(q,I),hG=[kf.dB,kf.iz,kf.T7][a_],f7=fD.strokeStyleContent.v={classID:kf.XZ.PP[a_]};
for(var $=0;$<hG.length;$++)f7[hG[$]]=g5[hG[$]]}}else cu.add.vstl=e2}if(kb=="*U"&&O){cu.Nx=!0;O=!1}cu.EC("<"+(kb=="*U"?"Compound ":"")+"Path>"+L);
cu.Sw=C;cu.G8=Math.round(255*l);cu.EG(kb=="*U"?bi.pop():jn==0);cu.j$(I);I.U.push(cu);v.newPath(E)}else if(kb==","&&fN[0]=="/XMLUID"){var hx=I.U[I.U.length-1];
for(var $=0;$<I.ty.length;$++)if("("+I.ty[$].docRef+")"==fN[2])I.ty[$].docRef="id('"+hx.add.lyid+"')"}else if(kb==","&&fN[1]=="/FreeUndo"){cj=dF[0]}else if(kb==","&&fN[1]=="/StoryIndex"){var e$=D.Setup.TextDocument,d1=null;
if(!(e$ instanceof Array))window.ad0=e$=D.Setup.TextDocument=g(e$,k);var j8=e$[0],aB=e$[2];if(j8._DocumentResources)j8=e$[0]=aK.a7I(j8);
else aK.auA(j8);var cu=I.C0();cu.add.lnsr="rend";cu.add.TySh=f5.c7(0,0);var a2=dF[0];if(cj==1){for(var $=1;
$<60;$++){var ef=F[c0+$];if(ef&&ef.endsWith("/StoryIndex ,")){a2=parseFloat(ef.slice(2,ef.indexOf(" ")));
bb=!0;break}}cj=0}var hS=he.a83(j8),fH=cu.add.TySh.Zj=hS[a2];if(fH==null){console.log("text not found");
bb=!1;continue}cu.EC(f5.UP(fH).slice(0,50));cu.Sw=C;cu.G8=Math.round(255*l);cu.EG(jn==0);var bZ=j8._1._1[a2]._1._0[0]._0;
bZ=parseInt(bZ.slice(1));var iM=j8._0._8._0,hz=iM[bZ]._0;if(hz._0)d1=f(hz._0);else if(hz._1)d1=f(hz._1._0);
else d1=f(hz._2._2).slice(3);if(d1.length!=2){var kc=t.G.Cs(d1);d1=[kc.x,kc.y];if(kc.o()!=0){f5.Wu(fH,1);
f5.Tf(fH,[0,0,Math.round(kc.r),Math.round(kc.$)])}}var fx=new kp,jQ=new kp(1,0,0,1,d1[0],d1[1]),e9=new kp(1,0,0,1,-aB[0],-aB[1]),eV=s(E.ctm),gT=new kp;
if(hz._2&&hz._2._2){var c=f(hz._2._2);gT=new kp(c[0],c[1],c[2],c[3],c[4],c[5])}fx.concat(jQ);fx.concat(gT);
fx.concat(e9);fx.scale(1,-1);fx.concat(eV);cu.add.TySh.u=fx;I.U.push(cu);I.hj=!0}else if(kb=="Tp"){i.FB=s(dF)}else if(kb=="Tf"){i.font=fN[0].slice(2)}else if(kb=="Tk"){var cu=I.C0();
cu.add.lnsr="rend";var fn=cu.add.TySh=f5.c7(0,0),fH=fn.Zj,ek=i.FB.Q(),iP=ek.zQ();ek.concat(s(E.ctm));
var gW=new kp(1/iP,0,0,-1/iP,0,0);gW.concat(ek);fn.u=gW;var c1=p(cV);cu.EC(c1);f5.p7(fH,0,c1);var bD=f5.TC(fH,0,c1.length);
bD.cN.FontSize=iP;bD.cN.FillColor={Type:1,Values:[1,J[0],J[1],J[2]]};f5.fa(bD,i.font);f5.oW(fH,0,c1.length,bD);
I.U.push(cu);I.hj=!0}else if(R&&dF.length>3){var eT=!1;for(var $=0;$<dF.length;$++)if(isNaN(dF[$]))eT=!0;
if(!eT)F[c0+1]=(cV+" "+F[c0+1]).replace(/\s\s+/g," ")}}}function m(J,I){if(I.k3==null)I.k3={};var F=I.k3[J[0]];
if(F==null){var c=I.nB[J[0]],F=I.k3[J[0]]={};F.id=dD.dG()+"-d71c-11e5-b1ae-a548a96e5f9f";F.name="someImage";
F.c5=[c.m7(),new gc(0,0,c.r,c.$)];I.m_(F)}var D=JSON.parse(kf.px[kf.order.indexOf("patternFill")]);D.Ptrn.v.Idnt.v=F.id;
var n=s(J[1][1]),k=-Math.atan2(-n.g,n.Jm);D.Angl.v.val=Math.round(k*180/Math.PI);D.Scl.v.val=Math.round(100*n.zQ());
return D}br.Ku=function(I,F){var c=br.K9(I,F),D=[0,0,1,0];if(I[0]==0)D[0]=.5;t.G.u(D,c,D);var n=JSON.parse(kf.px[kf.order.indexOf("GrFl")]),k=n.Grad.v;
k.Intr.v=0;n.Type.v.GrdT=["Lnr","Rdl"][I[0]];t.NX.ex(I[1],k);t.NX.Z5(new es(D[0],D[1]),new es(D[2],D[3]),t.I.NP(F),n);
return n};br.d0=function(I,F,c){var D={Lnr:0,Rflc:0,Rdl:1,Angl:1,Dmnd:1}[I.Type.v.GrdT],n=t.I.NP(F);
if(c&&!I.Algn.v)n=new gc(0,0,c.r,c.$);var k=t.NX.acA(I,n),b=k[0],N=k[1];if(D==0){b.x-=N.x-b.x;b.y-=N.y-b.y}var L=N.x-b.x,R=N.y-b.y,i=Math.sqrt(L*L+R*R),v=new kp;
v.rotate(Math.atan2(-R,L));v.scale(i,i);v.translate(b.x,b.y);var E=br.Fa(D,v,F),u=I.Grad.v;E[1]=t.NX.aHt(u,null,null);
return E};br.Co=function(I,F,c){var D=es.Yq(I,F),n=new kp;n.scale(D,D);n.rotate(-Math.atan2(F.y-I.y,F.x-I.x));
n.translate(I.x,I.y);if(c)n.concat(c);return n};br.L_=function(I,F,c,D,n){if(F&&!D.w6(F)){var k=Math.atan2(-(c.y-F.y),c.x-F.x);
if(n!=null||k!=0){var b=new kp;b.translate(-F.x,-F.y);b.scale(1,n);b.rotate(k);b.translate(F.x,F.y);
b.vN();D=b.y8(D)}var N=Math.atan2(-(D.y-F.y),D.x-F.x);I[2][5]=N*180/Math.PI;I[2][6]=es.Yq(D,F)/es.Yq(c,F)}};
br.Fa=function(I,F,c){var D=F.Q(),L,R,i=1;D.vN();var n=K.JL.Oz(c);t.I.cI(n,D);var k=t.I.NP(n),b=k.r,N=k.$;
if(I==0){var v=new kp;v.translate(-k.x,-k.y);v.translate(-b/2,-N/2);var E=br.avZ(b,N,0);v.scale(1/E,1/E);
v.scale(1/b,1/N);L=v._f+.5;R=v.Ey+.5;i=v.Jm}else{L=-k.x/b-.5;R=-k.y/N-.5;var u=(L-.5)*b/2,C=(R-.5)*N/2;
i=1/Math.sqrt(2*(u*u+C*C))}var l=[I,null,[L,R,0,i,1,0,0],[F.Jm,F.g,F.br,F.Bi,F._f,F.Ey]];return l};br.K9=function(I,F){var c=I[0],D=I[2],n=I[3],k=new kp(n[0],n[1],n[2],n[3],n[4],n[5]);
k.vN();var b=K.JL.Oz(F);t.I.cI(b,k);var N=t.I.NP(b),L=N.r,R=N.$,i=D[0],v=D[1],E=D[2]*Math.PI/180,u=D[3],C=new kp;
if(c==0){C.scale(u,u);C.translate(i-.5,v-.5);C.scale(L,R);C.rotate(E);var l=br.avZ(L,R,E);C.scale(l,l);
C.translate(L/2,R/2)}else{var x=(i-.5)*L/2,y=(v-.5)*R/2,l=u*Math.sqrt(2*(x*x+y*y));C.scale(l,l*D[4]);
C.rotate(E);C.translate((i+.5)*L,(v+.5)*R)}C.translate(N.x,N.y);C.concat(new kp(n[0],n[1],n[2],n[3],n[4],n[5]));
return C};function d(I,F,c){if(c){W=F;J=I}else{T=F;q=I}}function A(I,F,c){var D=UDOC.G,n=[],k=[],b="/DeviceGray",N=1,L=[],R=1;
for(var i=0;i<I.length;i++){var v=I[i];if(v.endsWith(" /CS")){var E=v.indexOf("/NChannel"),u=v.indexOf("/Process");
if(v.startsWith("/DeviceRGB")){b="/DeviceRGB";N=3}else if(v.startsWith("/DeviceGray")){b="/DeviceGray";
N=1}else if(v.startsWith("/DeviceCMYK")){b="/DeviceCMYK";N=4;L=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(E!=-1){b="/DeviceCMYK";
N=parseInt(v.slice(E-2,E-1));var C=1;for(var $=0;$<N;$++){C=v.indexOf("[",C);L[N-1-$]=v.slice(C+1,C+8).split(" ").map(parseFloat);
C++}}else if(u){b="/DeviceGray";N=1}else throw v}else if(v[0]=="["){var l=v.indexOf("]"),x=v.slice(1,l).split(" ").map(parseFloat),y=v.slice(l+2),ge,O,kz,z,eZ,kM;
if(y=="/Size"||y=="/P"||y=="/R")continue;if(y=="/S"||y=="/A"){ge=x[0];O=x[1];kz=x[2];z=x[3];eZ=x[4];
kM=x[5]}else if(y=="/N"){var jV=N+(R==1?0:1),cL;ge=x[jV+0];O=x[jV+1];kz=x[jV+2];z=x[jV+3];eZ=x[jV+5];
kM=x[jV+6];if(b=="/DeviceRGB")cL=x.slice(0,3);else if(b=="/DeviceGray")cL=[x[0],x[0],x[0]];else if(b=="/DeviceCMYK"){var aw=[0,0,0,0];
for(var $=0;$<N;$++){var h2=x[$],ea=L[$];aw[0]+=h2*ea[0];aw[1]+=h2*ea[1];aw[2]+=h2*ea[2];aw[3]+=h2*ea[3]}cL=j(aw)}else throw cL;
cL.push(x[N]);k.push([cL,ge,O])}else throw y;n.push([y,eZ,kM,ge,O,kz,z])}else if(v=="/E"){var ht=n.slice(0),jn=0;
for(var $=0;$<n.length;$++){var gE=n[$][0];if(gE=="/N"){jn++;continue}var bS=$,bi=$+1;while(n[bi][0]!="/N"&&bi<n.length)bi++;
if(jn==0||jn==3){for(var cj=0;cj<bi-bS;cj++)ht[bS+cj]=n[bi-1-cj]}else for(var cj=bS;cj<bi;cj++){var bb=ht[cj],c0=bb[1];
bb[1]=bb[5];bb[5]=c0;c0=bb[2];bb[2]=bb[6];bb[6]=c0}$=bi-1}n=[];for(var $=0;$<ht.length;$++){var bb=ht[$];
n.push(bb[1],bb[2],bb[3],bb[4],bb[5],bb[6])}var cV=n.length;D.moveTo(F,n[2],n[3]);for(var $=0;$<cV;$+=6){var kz=n[($+4)%cV],z=n[($+5)%cV],eZ=n[($+6)%cV],kM=n[($+7)%cV],ge=n[($+8)%cV],O=n[($+9)%cV];
D.curveTo(F,kz,z,eZ,kM,ge,O)}D.closePath(F);n=[]}else if(v.endsWith("/Version"))R=parseFloat(v[0])}var g_=c.C0();
g_.l4|=16;g_.EC("<Mesh>");var hx=g_.add.vstk=kf.XZ.IH(!0);G(g_,F.pth,c,0);if(k.length>=2){var au=0,kP=0,iK=0;
for(var $=0;$<k.length;$++)for(var cj=$+1;cj<k.length;cj++){var b3=k[$][0],fs=k[cj][0],ch=b3[0]-fs[0],hv=b3[1]-fs[1],g6=b3[2]-fs[2],ef=Math.sqrt(ch*ch+hv*hv+g6*g6);
if(ef>iK){iK=ef;au=$;kP=cj}}var fN=k[au],kb=k[kP],cn=[[0,fN[0],1,.5],[1,kb[0],1,.5]],dF=s(F.ctm),et=dF.y8(new es(fN[1],fN[2])),bh=dF.y8(new es(kb[1],kb[2]));
if(et.w6(bh))bh.x+=1;if(gj==0){var dY=g_.add.GdFl=JSON.parse(kf.px[kf.order.indexOf("GrFl")]),jM=dY.Grad.v;
jM.Intr.v=0;dY.Type.v.GrdT="Lnr";t.NX.ex(cn,jM);var bz=t.G.Cs(F.pth.crds);et.x=(et.x+bh.x)/2;et.y=(et.y+bh.y)/2;
t.NX.Z5(et,bh,bz,dY)}else{var hh=g_.add.vstl=kf.so.IH();hh.s0=[];var dM=br.Co(et,bh,new kp);hh.nz=br.Fa(0,dM,g_.add.vmsk.X);
hh.nz[1]=cn}}c.U.push(g_);D.newPath(F)}function p(I){var F=I.indexOf(")");while(I[F-1]=="\\")F=I.indexOf(")",F+1);
return I.slice(I.indexOf("(")+1,F).replaceAll("\\","")}function a(I,J){I.Rd.v=J[0]*255;I.Grn.v=J[1]*255;
I.Bl.v=J[2]*255}function f(I){var F=[];for(var $=0;$<I.length;$++)F[$]=parseFloat(I[$].slice(1));return F}function s(I){return new kp(I[0],I[1],I[2],I[3],I[4],I[5])}function j(I){return t.RP(I.slice(0,4)).slice(0,3)}function Y(I){var F=I.split(" "),c=F[F.length-1],D=c.toLowerCase(),n=F.map(parseFloat),k=null;
if(D=="xa"||D=="xx"||D=="xz"){var k=n[4]==null?n.slice(0,3):[n[4],n[5],n[6]];if(D=="xx"&&n[n.length-2]==2)k=j(n)}else if(D=="g")k=j([0,0,0,1-n[0]]);
else if(D=="x"||D=="k"){if(D=="x"){n.pop();var b=1-n.pop();for(var $=0;$<4;$++)n[$]*=b}k=j(n)}else if(D=="xk"){var N=n[n.length-2],L=n[n.length-3];
if(N==0)k=j(n);else if(N==1){k=[n[4],n[5],n[6]];for(var $=0;$<3;$++)k[$]=L*1+(1-L)*k[$]}else throw I}else throw D;
return k}function G(I,F,c,D){I.add.vmsk=new K.JL;if(F.crds.length!=0)I.add.vmsk.X=Q(F);I.add.vmsk.li=D;
I.hg();I.j$(c)}function Q(I){var F={d:I.crds,C6:I.cmds},c=t.G.n$(F,!1);return c}function Z(I,F){var c=[],i=0,C=0;
for(var D=0;D<2;D++){var n=F[["Raster","Place"][D]];if(n==null)continue;for(var $=0;$<n.length;$++){for(var k=0;
k<3;k++){var b=n[$][["Data","Document","PlacedObjectPreview"][k]];if(b==null)continue;var N=b._begin,L=b._end;
if(N>L)N=L;c.push([N,L])}}}c.sort(function(x,y){return x[0]-y[0]});var R=[F._begin];for(var $=0;$<c.length;
$++){var v=c[$],N=v[0]+32;R.push(N,v[1]);i+=v[1]-N}R.push(F._end);var E=F._end-F._begin,u=new Uint8Array(E-i);
for(var $=0;$<R.length;$+=2){var N=R[$],l=R[$+1]-N;u.set(new Uint8Array(I.buffer,N,l),C);C+=l}return H.Og(u).split(/\r\n|\r|\n/)}function g(I,F){if(I==null)return[];
var c=Z(F,I),D="",n="",k=0,b;for(var $=2;$<c.length;$++){var N=c[$];if(N[0]=="%"){if(k==0)D+=N.slice(1);
else n+=N.slice(1)}else if(N==";")k++;else if(N.endsWith("/RulerOrigin ,"))b=N.split(" ").slice(0,2).map(parseFloat)}var L=[D,n],R=[];
for(var $=0;$<2;$++){var i=L[$],v=new Uint8Array(i.length);H.WB(v,0,i);var E=FromPS.F.ASCII85Decode({buff:v,off:0}),u=dN.Ah(E);
R.push(u)}R.push(b);return R}function S(I,F){if(I==null)return[];var c=Z(F,I);c=c.slice(1);for(var $=0;
$<c.length;$++){var D=c[$];if(D.startsWith("%AI17_Begin_Content_if_version_gt")||D=="%AI17_Alternate_Content"||D=="%AI17_End_Versioned_Content")c[$]="";
else if(D[0]=="%")c[$]=D.slice(D[1]=="_"?2:1)}var n=ax.a0b(c);return n}function U(I,F){var c={};if(I==null)return c;
for(var $=0;$<I.length;$++){var D=Z(F,I[$]),n=D[1],k=p(n),b=n.slice(n.lastIndexOf(")")+2).split(" ").map(parseFloat),N=[];
for(var L=2;L<D.length;L++)N.push(D[L].slice(2));c[k]={ny:b,H8:N}}return c}function B(I,F){var c=[],n,k;
if(I==null)return c;var D=Z(F,I);for(var $=1;$<D.length;$++){var b=D[$];if(b=="0 0 Pb"||b=="PB"||b==""){}else if(b.endsWith("Xa")||b.endsWith("Xz")||b.endsWith("Xx")||b.endsWith("Xk")||b.endsWith(" g")||b.endsWith(" x")||b.endsWith(" k"))n=[0,Y(b)];
else if(b.endsWith("Xs"))n=[0,[0,0,0]];else if(b.endsWith("Bg"))n=[1,p(b)];else if(b.endsWith("Pg")||b.endsWith("p"))n=[2,p(b)];
else if(b[0]=="(")k=p(b);else if(b=="Pc")c.push([k,n]);else if(b=="0 BB"||b=="Bb"||b.endsWith("Bh")){}else throw b}return c}function e(I,F){var c={},D,n;
if(I==null)return c;var k=[];for(var $=0;$<I.length;$++){var b=Z(F,I[$]);for(var N=0;N<b.length;N++){var L=b[N];
if(L.endsWith("%_Bs")){var R=L.slice(0,L.length-4);if(!R.endsWith(" "))R+=" ";L=R+"%_BS"}if(L[0]=="("){D=p(L);
var i=L.slice(L.lastIndexOf(")")+2).split(" ");n=parseInt(i[0])}else if(L.endsWith("%_BS")){var v=L.split(" "),l,x=1;
v.pop();v=v.map(parseFloat);var E=v.pop(),u=v.pop(),C=v.pop();if(C==0)l=[v[0],v[0],v[0]];else if(C==2||C==4)l=[v[4],v[5],v[6]];
else if(C==1||C==3)l=j(v);else if(C==6){if(v.length==3)l=[v[0],v[0],v[0]];else if(v.length>=8)l=v.slice(4,7);
else l=j(v);x=v.pop()}else{throw C}k.push([E/100,l,x,u/100])}else if(L=="BD"){k.sort(function(y,ge){return y[0]-ge[0]});
c[D]={Dv:n,ajy:k};k=[]}}}return c}function P(I){var F="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),c=Date.now(),D=0,n=[],k={Header:{}},b=[k],N=I.length;
while(D<N){var L=D;while(L!=N&&I[L]!=13&&I[L]!=10){L++}if(I[D]==37&&I[D+1]==95&&I[D+2]==37)D+=2;if(I[D]==37&&(I[D+1]==37||I[D+1]==65)){var R=H.zb(I,D,L-D);
if(R=="%%EOF")break;if(R=="%%EndComments"||R=="%EndComments"||R=="%AI5_Begin_NonPrinting"||R=="%AI5_End_NonPrinting--"||R.startsWith("%AI17_Begin_Content_if_version_gt")||R=="%AI17_End_Versioned_Content"){}else{var i=R.indexOf("Begin"),v=Math.max(R.indexOf("_End"),R.indexOf("%End"));
if(i!=-1&&R[i-1]!="%"&&R[i-1]!="_")i=-1;if(i!=-1){var E=R.slice(i+5).split(":")[0],u={_begin:D,_end:D},C=b[b.length-1];
if(F.indexOf(E)!=-1){if(C[E]==null)C[E]=[];C[E].push(u)}else{if(C[E]!=null){console.log(b);throw R}C[E]=u}b.push(u);
if(R.startsWith("%%BeginData")){L=H.Gs(I,"%%EndData",D)}else if(R.slice(0,15)=="%%BeginDocument")L=H.Gs(I,"%%EndDocument",L);
else if(R=="%AI9_BeginDocumentData")L=H.Gs(I,"%AI9_EndDocumentData",L);else if(R=="%AI11_BeginTextDocument")L=H.Gs(I,"%AI11_EndTextDocument",L)}else if(v!=-1){if(b.length>1)b.pop()._end=D}else if(b.length==1&&(R.startsWith("%AI")||R.startsWith("%%")&&R.indexOf(" ")!=-1)){var l=1;
if(R.startsWith("%AI"))while(R[l]!="_"&&l<R.length)l++;var x=R.indexOf(":");if(x==-1)x=R.indexOf(" ");
var y=R.slice(l+1,x),ge=R.slice(x+1).trim();k.Header[y]=ge}}}D=L;if(I[D]==13)D++;if(I[D]==10)D++}return k}function h(I){var F="";
for(var $=0;$<I.length;$++){if(I[$]=="_"&&I[$+1]=="x"){var jX=parseInt(I.slice($+2,$+4),16);F+=String.fromCharCode(jX);
$+=4}else if(I[$]=="_")F+=" ";else F+=I[$]}return F}function V(I){var F="xmlnode-nodename",c="xmlnode-nodevalue",D="xmlnode-attributes",n="xmlnode-children",k=I[F].split(":").pop().replace("#",""),b=I[D],N=I[n],L="<"+k;
for(var R in b)if(R!="xmlns"&&R!="xmlns:v")L+=" "+R.split(":").pop()+"=\""+b[R][c]+"\"";L+=">"+(N.length==0?"":"\n");
for(var $=0;$<N.length;$++)L+=V(N[$]);if(I[c])L+=I[c];return L+"</"+k+">\n"}return M}();br.avZ=function(M,X,J){var q=t.G.mP(new gc(0,0,M,X)).d,W=new kp;
W.rotate(J);t.G.u(q,W,q);var T=t.G.Cs(q);return T.r/M};br.avy=["norm","mul ","scrn","over","sLit",null,"div ",null,null,null,null,null,null,null,"colr",null];
br.Aw=function(){function M(j){var Y=72/j.Qv,G=new kp(Y,0,0,-Y,0,0),Q=j.root.children,Z=[],g={nq:[],vL:{},abx:0},U=16383,z=0,kM=0;
for(var $=0;$<j.MM.length;$++){var S=j.MM[$];if(S[1].length==4)f(S[1],g,S[0])}for(var $=0;$<Q.length;
$++)d(Q[$],j,G,g,Z,0);var B=["%!PS-Adobe-3.0\r","%%Creator:Adobe Illustrator (TM) 15.000000 Exported from Photopea","%%Title:Sitecreator.io.ai\r","%%CreationDate:\r","%%Canvassize:"+U+"\r","%%BoundingBox:0 0 0 0\r","%%DocumentProcessColors: Cyan Magenta Yellow Black\r","%AI3_ColorUsage: Color\r","%AI3_Cropmarks:0 0 1 1\r","%AI3_TileBox:0 0 1 1\r","%AI3_TemplateBox:0 0 1 1\r","%AI3_DocumentPreview: None\r","%AI5_ArtSize: 0 0 \r","%AI5_NumLayers: 1\r","%AI5_FileFormat 2.0\r","%AI9_ColorModel: 1\r","%AI12_CMSettings: 00.MS\r","%%BeginProlog\r","%%EndProlog\r"];
B.push("%%BeginSetup\r");B=B.concat(g.nq);for(pn in j.nB){var e=j.nB[pn],P=j.Qv/72;B.push("%AI3_BeginPattern: ("+pn+")");
B.push("("+pn+") 0 0 "+Math.round(e.r/P)+" "+Math.round(e.$/P));var Q=e.root.children,h=[];for(var $=0;
$<Q.length;$++)d(Q[$],e,G,g,h,1);h=window.aCi;for(var $=0;$<h.length;$++){var V=h[$];B.push(V.startsWith("%_")?V:"%_"+V)}B.push("E","%AI3_EndPattern")}if(j.MM.length!=0){B.push("%AI5_BeginPalette","0 0 Pb");
for(var $=0;$<j.MM.length;$++){var S=j.MM[$],I="("+S[0]+")",F=S[1].length;if(S[0]=="[Registration]")B.push("0.749721 0.679194 0.670497 0.901457 0 0 0 ([Registration]) 0 1 Xz");
else if(F==3)B.push(m(t.jW(S[1]).concat(S[1]))+" "+I+" 0 1 Xk");else if(F==4)B.push("Bb","0 0 0 0 Bh",S[1][0]+1+" "+I+" 0 0 0 1 1 0 0 1 0 0 1 Bg","0 BB");
else if(F==2)B.push(I+" 0 0 1 1 0 0 0 0 0 [1 0 0 1 0 0] p");B.push(I,"Pc")}B.push("PB","%AI5_EndPalette")}B=B.concat(["%AI9_BeginDocumentData\r","/Document :","/Dictionary :","0 /Int (CropAreaActive) ,","/Array :"]);
var c=j.add.arts;for(var $=0;$<c.length;$++){var D=c[$];console.log(D);var n=D.ny[0]*Y,k=-D.ny[1]*Y,b=D.ny[2]*Y,N=-D.ny[3]*Y;
B.push("/Dictionary :","("+D.HH+") /UnicodeString (Name) ,","1 /Real (PAR) ,","1 /Bool (IsArtboardDefaultName) ,",U/2+" "+U/2+" /RealPoint"," (RulerOrigin) ,","0 /Int (DisplayMark) ,",J(n)+" "+J(k)+" /RealPointRelToROrigin"," (PositionPoint1) ,",J(b)+" "+J(N)+" /RealPointRelToROrigin"," (PositionPoint2) ,","; ,")}B=B.concat("; (ArtboardArray) ,-/Dictionary :-/Array :-; (SelHatDocInterIDsArray) ,-; (SelHatDocTableDict) ,-; /Recorded ,-/Dictionary : /NotRecorded ,-/Dictionary : /NotRecorded ,-; (PDFPresetCollection) ,-; /NotRecorded ,-;-%AI9_EndDocumentData\r".split("-"));
var L=[],R=[];for(var $=0;$<j.U.length;$++){var i=j.U[$],v=i.add.TySh;if(v){L.push(v.Zj);R.push(v)}}if(L.length!=0){var E=he.a1b(L,null,null);
function u(D){return D.map(function(jV){return"f"+jV})}for(var C=0;C<L.length;C++){var v=R[C],l=E._1._1[C],x=l._1._0[0]._0;
x=parseInt(x.slice(1));var y=E._0._8._0[x]._0,ge=v.u.Q();ge.concat(G);ge.scale(1,-1);y._2._2=u([ge.Jm,ge.g,ge.br,ge.Bi,ge._f,ge.Ey])}var O=X(E),kz=X(E);
B.push("%AI11_BeginTextDocument");B.push("/AI11TextDocument : /ASCII85Decode ,");B=B.concat(O);B.push("0.0001 0.0001 /RulerOrigin ,");
B.push(";");B.push("/AI11UndoFreeTextDocument : /ASCII85Decode ,");B=B.concat(kz);B.push(";");B.push("%AI11_EndTextDocument")}B.push("%%EndSetup\r");
B=B.concat(Z);console.log(B.join("\n"));B.push("%%PageTrailer\r","gsave annotatepage grestore showpage\r","%%Trailer\r","%%EOF\r","\r","");
for(var $=0;$<B.length;$++){var D=B[$];if(typeof D=="string")D=B[$]=H.y4(D);z+=D.length+1}var eZ=new Uint8Array(z);
for(var $=0;$<B.length;$++){var D=B[$];eZ.set(D,kM);kM+=D.length;eZ[kM]=13;kM++}return ax.alR(eZ).buffer}function X(j){var Y=new bJ,G=dN.yo(j,Y)-2,Q=s(Y.data.slice(0,G)),Z=[];
for(var g=0;g<Q.length;g+=100){if(Q.length-g<103){Z.push("%"+Q.slice(g));break}Z.push("%"+Q.slice(g,g+100))}return Z}function J(jX){return jX.toFixed(3)}function q(j,Y){var G=j.getName(),Q=null;
Y.push("%_/ArtDictionary :");if(j.add.vmsk)Q=j.add.vmsk.W8;if(j.add.SoLd){var Z=t.t.sf(j.add.SoLd);Q=Math.atan2(-Z.g,Z.Jm)}if(j.add.TySh){var Z=j.add.TySh.u;
Q=Math.atan2(-Z.g,Z.Jm)}if(Q!=null&&Q!=0)Y.push("%_("+Q+") /String (BBAccumRotation) ,");if(j.add.TySh)Y.push("%_(21b560b4-4fda-4f2d-b9c0-837007f17e72) /UnicodeString (AI24 TextStoryRawDataUUID) ,");
else if(!G.startsWith("<")&&!G.endsWith(">")){Y.push("%_/XMLUID : "+W(G)+" ; (AI10_ArtUID) ,")}Y.push("%_;","%_")}function W(j){var Y="";
for(var $=0;$<j.length;$++){var G=j[$],Q=j.charCodeAt($);if(G==" ")Y+="_";else if(G=="."||G==":"||G=="-"||48<=Q&&Q<=57||65<=Q&&Q<=90||97<=Q&&Q<=122||127<Q)Y+=G;
else Y+="_x"+Q.toString(16).toUpperCase()+"_"}return"("+Y+")"}function T(j,Y,G){G.push(m(j)+" "+Y)}function _(j){return"[ "+m(j)+" ]"}function m(j){return j.map(J).join(" ")}function d(j,Y,G,Q,Z,g){var S=j.w;
if(g!=0)Z.push("0 A",(S.cV()?0:1)+" Xw");if(S.nA()){var U=!1;for(var $=0;$<j.children.length;$++)if(j.children[$].w.Nx)U=!0;
var B=S.add.lsct==gO.A$?1:0;if(g==0){Z.push("%AI5_BeginLayer");Z.push((S.cV()?1:0)+" "+Y.add.prvw+" 1 1 0 0 1 -1 51 44 43 0 100 0 Lb");
Z.push("("+S.getName()+") Ln");Z.push(B+" AE");q(S,Z)}else{Z.push(B+" Ae");Z.push(U?"q":"u")}for(var $=0;
$<j.children.length;$++)d(j.children[$],Y,G,Q,Z,g+1);if(g==0)Z.push("LB","%AI5_EndLayer--");else{Z.push(U?"Q":"U");
q(S,Z);A(S,Z);Z.push("0 0 Xd","6 () XW")}}else if(!0){A(S,Z);var e=S.add.TySh,P=S.add.vmsk;if(e){Z.push("/AI11Text :","0 /FreeUndo ,","0 /FrameIndex ,",Q.abx+" /StoryIndex ,");
if(f5.mj(e.Zj)==1){var h=f5.jA(e.Zj),V=t.G.mP(new gc(h[0],h[1],h[2],h[3])).d;t.G.u(V,e.u,V);t.G.u(V,G,V);
Z.push("/Art :","X=","1 Ap",V[0]+" "+V[1]+" m",V[2]+" "+V[3]+" L",V[4]+" "+V[5]+" L",V[6]+" "+V[7]+" L",V[0]+" "+V[1]+" L","n","X+","; /ConfiningPath ,")}Z.push("2 /TextAntialiasing ,",";");
Q.abx++}else if(S.add.SoLd){var I,F,c,D=S.add.SoLd,n=D.Idnt.v,k=Y.zh(n,D.Crop?D.Crop.v:null),b=k.SA,I=b[0],F=b[1];
c=t.t.sf(D);var N=new kp(1,0,0,-1,0,0);N.concat(c);N.concat(G);var L=F.o(),R=F.r,i=F.$,v=t.j(L*4+8);
for(var $=0;$<L;$++){var E=$*4,u=$*3;v[u]=I[E];v[u+1]=I[E+1];v[u+2]=I[E+2];v[3*L+$]=I[E+3]}H.WB(v,L*4,"%EndData");
Z.push("%AI5_File:","%AI5_BeginRaster",_([N.Jm,N.g,N.br,N.Bi,N._f,N.Ey])+" 0 0 "+[R,i,R,i].join(" ")+" 8 3 1 17 1 0 4 4 0 0","%BeginData: "+(L*4+4),"XI",v,"XH","%AI5_EndRaster","N")}else if(P){var C=S.add.vstl,l,x;
if(C){l=C.nz;x=C.s0;if(l.length==0)l=null;if(x.length==0)x=null}var y=t.I.Qa(P.X)>1;if(y)Z.push("*u","0 Xw");
if(l){if(l.length==3)T(l,"Xa",Z);else if(l.length==4){var ge=a(l,Q);Z.push("Bb",ge,"2 BB")}else{Z.push("("+l[0]+") "+l[1][0].join(" ")+" ["+l[1][1].join(" ")+"] p")}}if(x){var O=G.zQ(),kz=C.hc.slice(0);
for(var $=0;$<kz.length;$++)kz[$]*=O;Z.push(C.o5+" J "+C.NT+" j "+C.G2*O+" w "+J(C.tu)+" M ["+kz.join(" ")+"]0 d");
if(x.length==3)T(x,"XA",Z);else if(x.length==4){var ge=a(x,Q);Z.push("1 Bb",ge,"2 BB")}else{Z.push("("+x[0]+") "+x[1][0].join(" ")+" ["+x[1][1].join(" ")+"] P")}}var z=t.G.BM(P.X,1);
t.G.u(z.d,G,z.d);var eZ=S.Nx?"h\nW\nn":l&&x?"b":l?"f":"s";p(z,eZ,P.li,Z);if(y)Z.push("*U")}q(S,Z)}else{var kM=["0 Ae","u","0 Ae","*u","4 As","0 O","0.749721467494965 0.679194271564484 0.670496642589569 0.901457190513611 0 0 0 Xa","0 1 0 0 0 Xy","0 J 0 j 1 w 10 M []0 d","0 XR","111.18822479248 -34.0734329223633 m","78.6218032836914 -68.3782501220703 L","50.4593849182129 -42.8814239501953 L","111.18822479248 -34.0734329223633 L","F","4 As","1 D","127.456848144531 -25.6510887145996 m","36.9820060729981 -38.7733764648438 L","78.938850402832 -76.7589797973633 L","127.456848144531 -25.6510887145996 L","127.456848144531 -25.6510887145996 L","f","*U","U","%_/ArtDictionary :","%_/XMLUID : (stroke_center_00000129180656820086388900000009385145657589981339_) ; (AI10_ArtUID) ,","%_;","%_","0 0 Xd","6 () XW","%_3 As","%_0 D","%_36.9820193421074 -38.7733812949637 m","%_127.456839485992 -25.65107913669 l","%_78.9388538744815 -76.758992805755 l","%_36.9820193421074 -38.7733812949637 l","%_n","%_/ArtDictionary :","%_/XMLUID : (stroke_center) ; (AI10_ArtUID) ,","%_;","%_","1 (Anon EuoqR7CI7zs=) XW"];
Z=Z.push(kM.join("\n"))}}function A(j,Y){var G=br.avy.indexOf(j.Sw);if(G==-1)G=0;Y.push(G+" "+J(j.G8/255)+" 0 0 0 Xy")}function p(j,Y,G,Q){Q.push(G+" XR");
var Z=0;for(var g=0;g<j.C6.length;g++){var S=j.C6[g],U,B=0,e="";if(S=="M"){B=2;U="m"}if(S=="L"){B=2;
U="l"}if(S=="C"){B=6;U="c"}for(var $=0;$<B;$++)e+=J(j.d[Z+$])+" ";Z+=B;if(B!=0)Q.push(e+U);if(g==j.C6.length-1||j.C6[g+1]=="M"){Q.push(S=="Z"?Y:Y.toUpperCase())}}}function a(j,Y){var G=f(j,Y),Q="";
if(j[0]==1)Q="0 0 "+j[2].slice(5).map(J).join(" ")+" Bh\n";return Q+"1 ("+G+") "+j[2].slice(0,4).map(J).join(" ")+" "+j[3].map(J).join(" ")+" "+J(j[2][4])+" Bg"}function f(j,Y,G){var Q=j[0],Z=j[1].slice(0),g=Q+"-"+JSON.stringify(Z);
if(Y.vL[g])return Y.vL[g];console.log(G);var S=Y.vL[g]=G?G:"grd"+Y.nq.length;Y.nq.push("%AI5_BeginGradient: ("+S+")","("+S+") "+Q+" "+Z.length+" Bd","[","4 %_Br","0","0","1","4 %_Br","[");
if(Q==0)Z=Z.reverse();for(var $=0;$<Z.length;$++){var U=Z[$];if(U[3]==null)throw"e";var B=t.jW(U[1]),e=100*U[3],P=B.concat(U[1]).map(J).join(" ")+" 2 "+J(U[2])+" 6 "+e+" "+J(U[0]*100);
Y.nq.push(P+" %_BS");Y.nq.push("%_"+P+" Bs")}Y.nq.push("BD","%AI5_EndGradient");return S}function s(j){var Y=[85*85*85*85,85*85*85,85*85,85,1],G="",Q=j.length,Z=new Uint8Array(4),g=new Uint32Array(Z.buffer);
for(var $=0;$<Q;$+=4){var S=Q-$;Z[3]=j[$];Z[2]=S>1?j[$+1]:0;Z[1]=S>2?j[$+2]:0;Z[0]=S>3?j[$+3]:0;var U=g[0],B=1+Math.min(4,S);
for(var e=0;e<B;e++){var P=Math.floor(U/Y[e]);G+=String.fromCharCode(33+P);U-=P*Y[e]}}return G+"~>"}return M}();
function dt(){}dt.Ah=function(){var M,X,J,q,W,T=!0,_=!0,U,B,e;function m(R){return T?H.UQ(M,R):H.Z3(M,R)}function d(R){return T?H.Fn(M,R):H.uC(M,R)}function A(R){return T?H.f1(M,R):H.LF(M,R)}function p(R){return H.Fn(M,R)}function a(R){return H.UQ(M,R)}function f(R){return H.Xv(M,R)}function s(R,i){if(R+i*4>M.length)throw i;
var v=[];for(var $=0;$<i;$++)v.push(m(R+$*4));return v}function j(R,i){var v=[];for(var $=0;$<i;$++)v.push(A(R+$*8));
return v}function Y(R){return a((R+1)*4096-12)}function G(R){return a((R+1)*4096-8)}function Q(R,X,i,v){if(q[R]==null)q[R]=[];
q[R].push([v,new Uint8Array(M.buffer,X,i)])}function Z(R,i,v,E){var u=J[R],X=u*4096;X=X+a(X+4096-24-12-i*4);
var C=p(X),l=M[X+2],x=M[X+3];if(i!=l)throw l;if(x==0)Q(E,X+4,v,9);else{var y=p(X+6),ge=a(X+8);Q(E,X+12,C-12,9);
Z(ge,y,v-(C-12),E)}}function g(){var R=a(352),i=a(R*4096+128),v=a(936);J=[];q={};W={};for(var $=0;$<1e9;
$++){var E=a(v*4096+128+$*4);if(E==0)break;var u=s(E*4096+128,4096-128-12>>>2);J=J.concat(u)}for(var C=0;
C<J.length;C++){var l=J[C],x=Y(l);if(x!=6)continue;var X=l*4096,y=a(X);X+=4;for(var $=0;$<y;$++){var ge=a(X);
X+=4;var O=a(X);X+=4;var kz=a(X);X+=4;var z=a(X);X+=4;if(ge==0)W[O]=kz;else{var eZ=kz&65535,kM=kz>>>16;
if(kM==0)Q(O,z*4096,eZ,8);else Z(z,kM,eZ,O)}}}var U={};for(var jV in q){var cL=q[jV],aw=cL.length;if(aw==1)U[jV]=cL[0][1];
else{var h2=0,X=0;for(var $=0;$<aw;$++)h2+=cL[$][1].length;var ea=U[jV]=new Uint8Array(h2);for(var $=0;
$<aw;$++){ea.set(cL[$][1],X);X+=cL[$][1].length}}}return U}function S(X,R){var i=0,v="";if(R){i=m(X);
X+=4}else{X+=3;i=d(X);X+=2}while(v.length<i){var E=d(X),u=E&255,C=E>>>8,l=0,x="";u+=(C&15)*256;C=C&240;
X+=2;if(u==0)throw"e";for(var $=0;$<u;$++){if(C==64)l=M[X++];else if(C==128){l=d(X);X+=2}else throw C;
x+=String.fromCharCode(l)}v+=x}return[v,X]}function P(X,R,i){var v=s(X,R);for(var $=0;$<R;$++){i.push($);
if(v[$]>B)throw"e";v[$]=V(v[$],i);i.pop()}return v}var h={};function V(R,i){if(e.indexOf(R)!=-1)return U[R];
if(R==0)return null;if(U[R]==null)return null;if(!(U[R]instanceof Uint8Array))return U[R];var v=M,X=0;
M=U[R];e.push(R);var E=W[R].toString(16),u=U[R]={_type:L[E]?L[E]+":"+E:"typ-"+E,_eid:R};while(X+8<M.length){var C=m(X);
X+=4;var l=m(X);X+=4;var x=C.toString(16),y=X+l;if(X+l>M.length){u._bin=M;break}I(x,n,u,X,l,i);X=y}M=v;
e.pop();return u}function I(R,i,v,X,E,u){var C=i[R+":"+v._type];if(C==null)C=i[R];u.push(C?C[0]==""?R:C[0]:R);
if(C){var l=C[0],x=null,y=C[1];if(l=="")l=y+"-"+R;if(b[y]&&E!=b[y]){console.log(y);console.log(R,C);
console.log(M.slice(X,X+E));throw"e"}if(y=="mat")x=j(X,6);else if(y=="mmat")x=[V(m(X),u),E==6?[1,0,0,1,0,0]:j(X+6,6)];
else if(y=="rect")x=j(X,4);else if(y=="mrct"){x=j(X,4);x.push(p(X+32))}else if(y=="doub")x=A(X);else if(y=="pointArr"){var ge=p(X);
x=s(X+2,ge*2)}else if(y=="usrt")x=p(X);else if(y=="uint")x=m(X);else if(y=="pntr"||y=="ptr6"){x=V(m(X),u)}else if(y=="bool2"){if(d(X)!=0&&d(X)!=1)throw d(X);
x=d(X)==1}else if(y=="bool4"){if(m(X)!=0&&m(X)!=1&&m(X)!=2)throw R+","+m(X);x=m(X)==1}else if(y=="color"){if(E!=38&&E!=30)throw E;
var O=m(X),kz=d(X+4);x=[O];for(var $=0;$<kz;$++)x.push(A(X+6+$*8))}else if(y=="path"){var z=X+E;x=[];
var eZ=m(X);X+=4;for(var $=0;$<eZ;$++){var kM=[[]];x.push(kM);var jV=m(X);X+=4;for(var cL=0;cL<jV;cL++){var O=m(X);
X+=4;if(O<2){kM[0].push([O,A(X),A(X+8),A(X+16),A(X+24),A(X+32),A(X+40)]);X+=48}else if(O==2){kM[0].push([O,A(X),A(X+8)]);
X+=16}else throw O}kM.push(p(X));X+=2}}else if(y=="ptrAndList"){var aw=m(X),x=[];if(E>4){var h2=m(X+4);
if(h2>160)throw h2;x=P(X+8,h2,u)}x.unshift(V(aw,u))}else if(y=="ptrArray"||y=="ptrArrayX"){var ea=E>>2;
if(y=="ptrArray"){ea=m(X);X+=4;if(E!=4+ea*4)throw E}x=P(X,ea,u)}else if(y=="ptrArray2"){var ea=m(X);
X+=4;x=P(X,ea,u);X+=ea*4;ea=m(X);X+=4;x.push(P(X,ea,u))}else if(y=="cldrn"){var ht=m(X),jn=m(X+4),ea=m(X+8);
x={m:V(ht,u),IB:V(jn,u),ms:P(X+12,ea,u)};if(E!=12+ea*4){console.log(R,sa);throw"e"}if(ht==0)throw ht}else if(y=="aprnc"){var ea=m(X);
X+=4;x={};for(var $=0;$<ea;$++){var gE=m(X),bS=d(X+4),bi=d(X+6);X+=8;var cj=N[gE.toString(16)];if(cj==null)cj="prm-"+gE.toString(16);
else cj=D(cj);x[cj]=[];for(var cL=0;cL<bi;cL++){var bb=m(X),c0=d(X+4),cV=null;X+=6;if(bb==28264)cV=A(X);
else if(bb==28263)cV=m(X);else if(bb==279||bb==6917)cV=V(m(X),u);else if(bb==28261)cV=p(X)==1;else if(bb==28265)cV=[A(X),A(X+4)];
else if(bb==6914||bb==83231)cV=S(X)[0];else if(bb==28259||bb==28260||bb==23094||bb==67679){cV=M.slice(X,X+c0)}else throw bb.toString(16);
x[cj].push(cV);X+=c0}}}else if(y=="lopts"){var g_=8;if(T&&d(X+g_)<2)g_+=2;if(!T&&(m(X+g_)==0||m(X+g_)==65536))g_+=2;
x={axr:d(X+0)==1,show:d(X+2)==1,aC1:d(X+4)==1,Hu:m(X+g_),name:S(X+g_+8)[0]}}else if(y=="origin"){var z=X+E;
if(M[X++]!=1)throw"e";var ge=m(X);X+=4;var hx=H.zb(M,X,ge);X+=ge;X++;var au=M[X++],kP=d(X);X+=2;var iK=a(X);
X+=4;if(iK!=0&&iK!=1)throw iK;var b3=a(X);X+=4;if(b3!=0&&b3!=2&&b3!=3)throw b3;var fs=a(X);X+=4;var ch=S(X,!0);
X=ch[1];ch=ch[0];var hv=a(X),g6=a(X+4);X+=8;var ef=a(X);X+=4;if(ef!=0)throw ef;var fN=a(X);X+=4;var kb=S(X)[0];
X+=2+2+kb.length+3;x={file:hx,id:ch,sz:kb}}else if(y=="string")x=S(X)[0];else if(y=="relEnt"){var cn=d(X);
X+=2;x=[];for(var $=0;$<cn;$++)x.push([m(X+$*8),V(m(X+$*8+4),u)])}else if(y=="textData"){var z=X+E,dF=m(X);
X+=4;var gE=m(X);X+=4;var kz=d(X);X+=2;var et=[];for(var $=0;$<kz;$++){var bh=m(X);X+=4;if(dF==514)et.push(S(X,!0)[0]);
else if(dF==515){var dY=m(X),R=m(X+4),jM=F(X+8,u);et.push([dY,V(R,u),jM])}else if(dF==516){var dY=m(X),R=m(X+4),bz=d(X+8),jM=F(X+8,u);
et.push([dY,V(R,u),jM])}else et.push(M.slice(X,X+bh));X+=bh}if(z-X!=12)throw z-X;x=et}else if(y=="storyProps"){var hh=X;
if(d(hh+4)>1)throw"e";var kz=m(hh+10);x={az$:m(hh),anC:V(m(hh+6),u),ms:P(hh+14,kz,u),agf:V(m(hh+14+kz*4),u)}}else if(y=="styleProps")x=F(X,u);
else if(y=="bounds"){var hh=X,cn=m(X);X+=4;x=[];for(var $=0;$<cn;$++){var dM=[];x.push(dM);for(var cL=0;
cL<4;cL++)dM.push(A(X+cL*8));X+=32;dM.push(M[X]);X++}if(X!=hh+E)throw"e"}else if(y=="columnPos"){var cn=m(X);
X+=4;x=[j(X,cn),A(X+cn*8)];X+=cn*8+8}else if(y=="StyleName"){x=[m(X+4)]}else if(y=="fontName"){var z=X+E;
x=[d(X)];X+=2;if(x[0]==2){X=z}else if(x[0]==3){for(var $=0;$<2;$++){if(d(X+3)==0){X+=7;continue}var hx=S(X);
X=hx[1];x.push(hx[0])}var iX=m(X);X+=4;if(iX==0){X=z}else{var hx=S(X);X=hx[1];x.push(hx[0]);var hx=S(X);
X=hx[1];x.push(hx[0]);var hx=S(X);X=hx[1];x.push(hx[0]);X+=10}}else{if(x[0]!=1&&x[0]!=4)throw x[0];for(var $=0;
$<2;$++){var hx=S(X);X=hx[1];x.push(hx[0])}var aW=d(X),eC=d(X+2);X+=4;x.push(aW);var iX=d(X);X+=2;x.push(iX);
var dh=d(X);X+=2;var ff=[];x.push(ff);for(var fE=0;fE<dh;fE++){var dX=[];ff.push(dX);var hx=S(X);X=hx[1];
dX.push(hx[0]);var i2=d(X);if(i2<256){X+=2;var hx=H.zb(M,X,i2);X+=i2;dX.push(hx)}else{var hx=S(X);X=hx[1];
dX.push(hx[0])}for(var $=0;$<3;$++){var hx=S(X);X=hx[1];dX.push(hx[0])}var ew=m(X);dX.push(ew);X+=4;
if(m(X)>65535)_=!1;if(!_)continue;var hx=S(X,!0);X=hx[1];dX.push(hx[0])}x.push(m(X));X+=4}if(X!=z)throw"e"}else throw y;
if(v[l]!=null){console.log(l,v[l],x);console.log(u.slice(0));console.log(eid,R,X,v[l],C,x);throw"e"}v[l]=x}else{var hW=M.slice(X,X+E);
v["prop-"+R]=hW}u.pop()}function F(X,R){var i=d(X);X+=2;var v={};for(var $=0;$<i;$++){var E=m(X);X+=4;
var u=E.toString(16),C=d(X);X+=2;var l=d(X);X+=2;for(var x=0;x<l;x++){var y=m(X);X+=4;var ge=d(X);X+=2;
I(u,k,v,X,ge,R);X+=ge}}return v}function c(R){T=!0;_=!0;M=new Uint8Array(R);U=g();var i=U[2147483649];
i=H.Og(i,4,i.length-4);delete U[2147483649];B=0;for(var v in U)B=Math.max(B,parseInt(v));e=[];var E={};
for(var v in U)E[v]=U[v];var u=U[1];if(u[0]==0)T=!1;for(var v in U)V(parseInt(v),[]);return U}function D(R){R=R.split(" ").join("");
return R[0].toLowerCase()+R.slice(1)}var n={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"154":["rect","rect"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},k={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},b={mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},N={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Drop Shadow","1081b":"Drop Shadow DX","1081c":"Drop Shadow DY","1081e":"Drop Shadow Opacity","1081f":"Drop Shadow BMode","10820":"Drop Shadow Size","10837":"Drop Shadow Color","1084d":"Inner Shadow","1084e":"Inner Shadow Color","1084f":"Inner Shadow BMode","10850":"Inner Shadow Opacity","10851":"Inner Shadow Angle","10852":"Inner Shadow Dist","10855":"Inner Shadow Size","10857":"Oglow","10858":"Oglow BMode","10859":"Oglow Opacity","1085b":"Oglow Color","1086d":"Oglow Choke","1085e":"Oglow Size","1085f":"Iglow","10860":"Iglow BMode","10861":"Iglow Opacity","10863":"Iglow Color","10865":"Iglow Choke","10866":"Iglow Size","10868":"Bevel","1086b":"Bevel Depth","1086d":"Bevel Size","1086f":"Bevel Angle","10870":"Bevel Alt","10872":"Bevel ColorH","10873":"Bevel BModeH","10874":"Bevel OpacityH","10875":"Bevel ColorS","10875":"Bevel BModeS","10877":"Bevel OpacityS","10878":"Satin","10879":"Satin Color","1087a":"Satin BMode","1087b":"Satin Opacity","1087c":"Satin Angle","1087d":"Satin Dist","1087e":"Satin Size","1087f":"Satin Invert","10821":"Basic Feather","10822":"Basic Feather Width","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},L={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return c}();function dR(){}dR.Ah=function(){var M=0;function X(a,f){var s=dt.Ah(a),c=1;M=0;var j=s[1],Y=j.spreads,G=[],Q=new gc;
for(var Z=0;Z<Y.length;Z++){var g=Y[Z],S=g.children;if(S==null)continue;var U=S.ms,B=q(g),e=U[0].children.ms,P=new gc;
for(var h=0;h<e.length;h++){var V=e[h],I=q(V);I.concat(B);var F=J(V);F.offset(I._f,I.Ey);F=t.G.JE(F);
P=P.m0(F)}G.push(P);Q=Q.m0(P)}while(Math.sqrt(Q.o())*c<1e3)c++;while(Q.o()*c*c*4>2e9)c/=2;f.r=Q.r*c;
f.$=Q.$*c;f.buffer=new Uint8Array(4*f.r*f.$);f.hj=!0;f.Qv=Math.round(72*c);f.TU(Y.length);for(var Z=0;
Z<Y.length;Z++){var g=Y[Z],S=g.children;if(S==null)continue;var U=S.ms,D=f.C0();D.l4=24;D.add.lsct=gO.A$;
D.EC("Artboard "+(Z+1));var n=G[Z].Q();n.offset(-Q.x,-Q.y);n.x*=c;n.y*=c;n.r*=c;n.$*=c;n=t.G.JE(n);D.oQ(n);
D.Sw="pass";f.U.push(f.mm());var B=q(g);B.translate(-Q.x,-Q.y);B.scale(c,c);var k={};for(var b=0;b<U.length-1;
b++){var N=U[b],L=N.children;if(L==null)continue;L=L.ms;var R=f.C0(),i=N.layer;if(i==null)continue;var v=i.lopts;
if(v.name=="Internal_pages_layer_name"||k[v.name])continue;k[v.name]=!0;R.l4=24;R.add.lsct=gO.A$;R.EC(v.name);
R.EG(v.show);if(v.axr)R.add.lspf=1<<31;R.Sw="pass";f.U.push(f.mm());for(var $=0;$<L.length;$++)d(L[$],f,B,s);
f.U.push(R)}f.U.push(D)}}function J(a){var f=a.rect;return new gc(f[0],f[1],f[2]-f[0],f[3]-f[1])}function q(a){var f=a.transform;
if(f==null)f=new kp;return new kp(f[0],f[1],f[2],f[3],f[4],f[5])}function W(a){var f=a.color,s=a.parentFill,Y;
if(f==null&&s)f=s.color;if(f==null){console.log("strange color",a);return[0,0,0]}var j=f[0];if(j==5)Y=f.slice(1);
else if(j==6)Y=UDOC.C.cmykToRgb(f.slice(1));else if(j==7){var G=t._l(f[1],f[2],f[3]);Y=[G.z/255,G.L/255,G.g/255]}else if(j==14){Y=f.slice(1);
console.log("unsure about the color")}else{console.log(f);throw j}return Y}function T(a){var f=W(a);
return t.NX.$J({z:f[0]*255,L:f[1]*255,g:f[2]*255})}function _(a){return"norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[a]}function m(a,f){var $=0,s=0;
while(a[$+1]&&s+a[$][0]<=f){s+=a[$][0];$++}a=a[$][1].textData;$=0;while(a[$+1]&&s+a[$][0]<=f){s+=a[$][0];
$++}return a[$]}function d(a,f,s,j){var Y=a.transform?q(a):new kp;Y.concat(s);var G=a.path,Q=a.appearance,Z=a.visible,g=a.children?a.children.ms:null,S=f.C0();
if(Z!=null)S.EG(Z);var U=g&&g.length==1&&g[0].bitmapFill,B=a["bool2-1623"]&&g&&g.length==1&&g[0].rect&&g[0]._type.startsWith("TextFrame");
if(U){S.EC("bitmap");var e=g[0],P=J(e),h=q(e),D=null;h.concat(Y);var V=e.bitmapFill.bitmap;V=j[V]._bin;
if(V.length!=V.buffer.byteLength)V=V.slice(0);if(V[0]==123){console.log("unknown bitmap format");return}var I=f.Xg(V,"img.jpg",0,0);
I.l4=S.l4;S=I;var F=[0,0,P.r,0,P.r,P.$,0,P.$];t.G.u(F,h,F);S.add.SoLd.Trnf=o.fx.qT(F);S.add.SoLd.nonAffineTransform=o.fx.qT(F);
S.el(f,!1);var c=e.path;if(c&&c.length!=0)D=p(c,h,Q);else if(G&&G.length!=0)D=p(G,Y,Q);if(D){var n=t.I.NP(D.X),k=t.G.Cs(F);
if(n.o()/k.Lg(n).o()>1.1){if(n.contains(k))D=null;var b=a.children;a.children=null;d(a,f,s,j);a.children=b}}if(D)S.add.vmsk=D;
S.hg();S.j$(f)}else if(B){if(Q&&Q.strokeSwatch){var N=f.C0();A(N,f,Q,G,Y);f.U.push(N)}var L=g[0],P=J(L),h=q(L),cL=0;
h.concat(Y);var R=L.children.ms[0],i=R.obj228,v=i[0].story[1],E=v.stoProps.anC.relEnt,u=v.stoProps.ms[0].relEnt,C=v.stoProps.ms[1]["ptrArrayX-210"][0].textData,l=j[E[0][1].textData[0][1].name[0]],x=l?l.styProps:{};
C=C.join("").replace(/\r/g,"\n");var y=-1;while((y=C.indexOf("\uFFFC"))!=-1){C=C.slice(0,y)+(C[y-1]=="\n"?" ":" ")+C.slice(y+1)}S.EC(C.slice(0,255));
S.add.lnsr="rend";S.add.TySh=f5.c7(0,0);S.add.TySh.hd=P;S.add.TySh.u=h;var ge=S.add.TySh.Zj;f5.p7(ge,0,C);
var O=f5.TC(ge,0,C.length);O.cN.FontSize=10;f5.oW(ge,0,C.length,O);var kz=[];if(C.length!=0){var z=m(E,0),eZ=m(u,0),kM=1;
for(var $=1;$<C.length;$++){var G=m(E,$),jV=m(u,$);if(G!=z||jV!=eZ){kz.push(kM);kM=0}z=G;eZ=jV;kM++}if(kM!=0)kz.push(kM)}for(var $=0;
$<kz.length;$++){var aw=m(u,cL),h2=kz[$],ea=Math.min(cL+h2,C.length-1),ht=aw[2],jn=aw[1]?aw[1].styProps:null;
if(jn==null)jn={};var gE=m(E,cL),bS=gE[1].styProps,bi=gE[2],cj={};for(var bb in x)cj[bb]=x[bb];for(var bb in bS)cj[bb]=bS[bb];
for(var bb in bi)cj[bb]=bi[bb];for(var bb in jn)cj[bb]=jn[bb];for(var bb in ht)cj[bb]=ht[bb];cj.FontCaps=cj.FontCaps&3;
var O=f5.TC(ge,cL,ea),c0=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],cV=c0.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var g_=0;g_<cV.length;g_++){var bb=cV[g_],hx=g_<c0.length?O.cN:O.Js;if(cj[bb]!=null)hx[bb]=cj[bb]}if(cj.fillColor){var au=W(cj.fillColor);
O.cN.FillColor={Type:1,Values:[1].concat(au)}}if(cj.font){var kP=cj.font.name[5],iK=cj.fontStyle;if(iK==null)iK="Regular";
if(kP)for(var b3=0;b3<kP.length;b3++)if(kP[b3][0]==iK)f5.fa(O,kP[b3][1])}if(cj.leading!=null&&cj.leading>1){O.cN.Leading=cj.leading;
O.cN.AutoLeading=!1}if(cj.align!=null)O.Js.Justification=[0,2,1,6,3,5,4,0,0,0][cj.align];f5.oW(ge,cL,ea,O);
cL+=h2}f5.Wu(ge,1);f5.Tf(ge,[0,0,Math.round(P.r),Math.round(P.$)])}else if(a._type.startsWith("Path")&&(g==null||g.length==0)&&G){A(S,f,Q,G,Y)}else{var fs=a["prop-14526"];
if(g==null&&fs){var ch=j[H.UQ(fs,20)];g=[ch]}if(g){if(G&&G.length!=0){S.add.vmsk=p(G,Y,Q);S.hg();S.j$(f)}S.EC("group");
S.l4=24;S.add.lsct=gO.A$;f.U.push(f.mm());for(var $=0;$<g.length;$++)if(g[$])d(g[$],f,Y,j)}}if(Q){var hv=Q.objectBlendingMode,g6=Q.objectOpacity,ef=Q.fillTint,kb=!1;
if(hv)S.Sw=_(hv[0]);if(g6)S.G8=Math.round(S.G8*g6[0]/100);if(!U&&ef)S.G8=Math.round(S.G8*ef[0]/100);
var fN=JSON.parse(kf.default);for(var $=0;$<kf.order.length;$++)fN[kf.an[$]]={t:"VlLs",v:[]};var cn="dropShadow innerShadow satin bevel iglow oglow".split(" "),dF="DrSh IrSh ChFX ebbl IrGl OrGl".split(" ");
for(var $=0;$<cn.length;$++){var et=cn[$];if(Q[et]&&Q[et][0]){var bh=Q[et],jM=135,bz=10;kb=!0;var dY=JSON.parse(kf.px[kf.order.indexOf(dF[$])]);
fN[kf.an[kf.order.indexOf(dF[$])]].v.push({t:"Objc",v:dY});if(Q[et+"Color"])dY.Clr.v=T(Q[et+"Color"][0]);
else if(cn[$]=="iglow"||cn[$]=="oglow")dY.Clr.v=t.NX.$J({z:255,L:255,g:255});if(Q[et+"ColorH"])dY.hglC.v=T(Q[et+"ColorH"][0]);
if(Q[et+"ColorS"])dY.sdwC.v=T(Q[et+"ColorS"][0]);if(Q[et+"BMode"])dY.Md.v.BlnM=ae.fF(_(Q[et+"BMode"][0]));
if(Q[et+"BModeH"])dY.hglM.v.BlnM=ae.fF(_(Q[et+"BModeH"][0]));if(Q[et+"BModeS"])dY.sdwM.v.BlnM=ae.fF(_(Q[et+"BModeS"][0]));
if(Q[et+"Opacity"])dY.Opct.v.val=Q[et+"Opacity"][0];if(Q[et+"OpacityH"])dY.hglO.v.val=Q[et+"OpacityH"][0];
if(Q[et+"OpacityS"])dY.sdwO.v.val=Q[et+"OpacityS"][0];if(Q[et+"Size"])dY.blur.v.val=Q[et+"Size"][0];
if(Q[et+"Angle"])jM=Q[et+"Angle"][0];if(Q[et+"Dist"])bz=Q[et+"Dist"][0];if(Q[et+"DX"]){var hh=Q[et+"DX"][0],dM=Q[et+"DY"][0];
bz=Math.round(Math.sqrt(hh*hh+dM*dM));jM=Math.round(Math.atan2(dM,-hh)*180/Math.PI)}if(dY.lagl)dY.lagl.v.val=jM;
if(dY.Dstn)dY.Dstn.v.val=bz;if(dY.uglg)dY.uglg.v=!1;if(Q[et+"Invert"])dY.Invr.v=Q[et+"Invert"][0];else if(cn[$]=="satin")dY.Invr.v=!1;
if(Q[et+"Alt"])dY.Lald.v.val=Q[et+"Alt"][0];if(Q[et+"Depth"])dY.srgR.v.val=Q[et+"Depth"][0];if(Q[et+"Choke"])dY.Ckmt.v.val=Q[et+"Choke"][0]}}if(kb)S.add.lmfx=fN}if(a.name)S.EC(a.name);
else if(Q&&Q.name)S.EC(Q.name[0]);f.U.push(S)}function A(a,f,s,j,Y){a.EC("path");a.l4|=16;a.add.vmsk=p(j,Y,s);
var G=a.add.vstk=kf.XZ.IH(),Q=t.NX.$J({z:0,L:0,g:0});if(s){var Z=s.strokeSwatch,g=s.fillSwatch,S=s.basicFeather,U=s.basicFeatherWidth,B=s.strokeWeight;
G.strokeEnabled.v=Z!=null;G.fillEnabled.v=g!=null;if(S)a.add.vmsk.VU=U?U[0]:9;if(Z){G.strokeStyleLineWidth.v.val=B?B[0]:1;
Q=T(Z[0]);G.strokeStyleContent.v.Clr.v=Q}if(g){Q=T(g[0])}}if(Q)a.add.SoCo={classID:"null",Clr:{t:"Objc",v:Q}};
a.hg();a.j$(f)}function p(a,f,s){var j=new K.JL,Y=j.X;for(var G=0;G<a.length;G++){var Q=a[G],Z=Q[0].length,g=Q[1]==0;
if(Z==0)continue;var S=g?0:3;Y.push({e:S,length:Z,li:0,h8:2,gF:0,Ni:0});for(var $=0;$<Z;$++){var U=Q[0][$],B=U[0],e=new es(U[1],U[2]),P=new es(U[3],U[4]),h=new es(U[5],U[6]);
if(B==0||B==1)Y.push({e:S+2,vX:e,Z:P,vJ:h});else if(B==2)Y.push({e:S+2,vX:e,Z:e,vJ:e});else throw B}}t.I.cI(Y,f);
return j}return X}();function kE(){}kE.lc=async function(M,X,J){if(J==null){J=8*1024*1024}var q=await M.slice(X,X+J),W=await q.arrayBuffer();
return new Uint8Array(W)};kE.ahA=function(M,X){var J=M[X],q=J,W=1;while(!(J&128)){++W;J=J<<1&255}J&=127;
J>>>=W-1;for(var $=1;$<W;++$){var T=M[X+$];J*=256;J+=T;q*=256;q+=T}return[J,W,q]};kE.Pp=function(M,X,J){var q=M[X],W=q&128,T=q&127;
for(var $=1;$<J;++$){W*=256;T*=256;T+=M[X+$]}return T-W};kE.Z3=function(M,X,J){var q=M[X];for(var $=1;
$<J;++$){q*=256;q+=M[X+$]}return q};kE.a0C=function(M){var X=1,J=kE.Z3(M,X,1),A="hvc1",a=0,f=!1,s="";
X+=1;var q=J>>6,W=(J&32)>>5,T=J&31,_=kE.Z3(M,X,4);X+=4;var m=M.slice(X,X+6);X+=6;var d=kE.Z3(M,X,1);
A+=".";switch(q){case 0:A+="";break;case 1:A+="A";break;case 2:A+="B";break;case 3:A+="C";break}A+=T;
A+=".";var p=_;for(var $=0;$<32;$++){a|=p&1;if($==31)break;a<<=1;p>>=1}A+=a.toString(16);A+=".";if(W===0){A+="L"}else{A+="H"}A+=d;
for($=5;$>=0;$--){if(m[$]||f){s="."+m[$].toString(16)+s;f=!0}}A+=s;return A};kE.mX=function(M,X){this.i2=!1;
this.OQ=M;this.position=0;this.kQ=[];this.Jq=[];this.VK=[];this.jc=[];this.zF=!0;this.aq3=0;this.rf=10;
this.rW=6;this.u2=[];this.pJ=-2;this.xg=[];this.Y9;this.Il;this.ie=X;this.IC;this.N0;this.adM=-1;this.frames;
this.pe=null;this.$r=null;this.gH=null};kE.mX._S=async function(){if(!this.i2){await this.jA()}return this.Hs};
kE.mX.i_=function(M){var X=this.Jq[this.position],J;if(this.zF&&X==this.aq3)this.zF=!1;if(!this.ie){if(this.VK[X]){this.Il.drawImage(M,0,0);
J=this.Il.getImageData(0,0,this.Hs.tz.width,this.Hs.tz.height).data}if(this.jc[this.position]==0)M.close()}try{if(this.kQ[X]){if(this.ie){this.kQ[X](M)}else if(this.VK[X]){this.kQ[X](J)}}var q=this.position-this.rf;
if(q>=0){var W=this.Jq[q];delete this.jF[W];delete this.kQ[W];this.VK[W]=!1}this.position++}catch(hP){console.log(X);
console.log(this.kQ[X]);console.log(hP)}};kE.mX.Yo=async function(M){if(this.jc[this.position]==0){if(this.ie){createImageBitmap(M).then(img=>{this.i_(img)});
M.close()}else{this.i_(M)}}else{var X=this.jc[this.position];createImageBitmap(M,{resizeWidth:M.afI>>X,resizeHeight:M.aqR>>X}).then(img=>{this.i_(img)});
M.close()}};kE.mX.LS=async function(M,X,gL=0){if(!this.i2){await this.jA()}if(!this.$r){await this.ap9();
if(this.$r.state!="configured"){console.log("Could not make decoder.");return}}if(this.IC.length<=M){console.log("Requested track does not exist");
return}var J=this.IC[M],T,_,m;if(X>=this.Hs.tz.l0||X<0){console.log("Requested frame out of range");
return}var q=X;X=this.os(X);this.VK[X]=!0;var W=X-this.pJ;if(this.zF){W=1;this.aq3=X}if(X!=this.pJ+1){_=this.u2[this.u2.length-1];
for(var $=0;$<this.u2.length;++$){if(X<this.u2[$]){_=this.u2[$-1];break}}if(_==this.adM){if(X>this.Jq[this.Jq.length-1]){_=this.Jq[this.Jq.length-1]+1}else if(this.jF[X.toString()]){_=this.Jq[this.Jq.length-1]+1}else{for(var $=this.Jq.length-this.rW;
$<this.Jq.length;++$){if(this.Jq[$]==X){_=this.Jq[this.Jq.length-1]+1;break}}}}else{this.adM=_;for(var $=this.Jq.length-this.rW;
$<this.Jq.length;++$){if(this.Jq[$]==X){_=this.Jq[this.Jq.length-1]+1;break}}}}else{_=0;if(this.Jq.length>0){_=this.Jq[this.Jq.length-1]+1}}if(_<this.frames){m=Math.min(X+this.rW,this.frames);
for(var $=_;$<m;++$){this.jF[$]=new Promise(function(d,A){T=d});this.kQ[$]=T;this.Jq.push($);this.jc.push(gL);
if(($-X)%W==0)this.VK[$]=!0}this.a1r(J,_,m)}this.pJ=X;if(this.zF)await new Promise(resolve=>setTimeout(resolve,200));
if(this.zF){this.rf+=10;this.rW+=6;this.LS(M,q+1,gL)}return this.jF[X.toString()]};var b8=function(M){function X(_,m){var d=[];
for(var $=0;$<9;$++){var A=H.Z3(_,m+$*4);if($%3==2)d.push((A>>>30)+(A&1073741823)/1073741823);else d.push((A>>>16)+(A&65535)/65535)}return d}async function J(_,m,d,A,p,a){var f={},s=H.Z3,j=H.uC;
if(m==null){m=await kE.lc(_,d)}var Y=A-d;while(A<p){var G=Y,Q=H.Z3(m,Y);Y+=4;var Z=H.zb(m,Y,4);Y+=4;
if(Q==0)Q=p-G-d;if(Q==1){Q=H.L$(m,Y);Y+=8}var g=G+Q,S="".padStart(a,"\t");if(Z!="mdat"&&g>m.byteLength){m=await kE.lc(_,d,g)}var U={};
if(Z=="mvhd"){var B=m[Y];if(B>1)throw Z+"-e";Y+=4;if(B==0){U.lk=s(m,Y);Y+=4;U.wB=s(m,Y);Y+=4;U.Zy=s(m,Y);
Y+=4;U.duration=s(m,Y);Y+=4}else{U.lk=H.L$(m,Y);Y+=8;U.wB=H.L$(m,Y);Y+=8;U.Zy=s(m,Y);Y+=4;U.duration=H.L$(m,Y);
Y+=8}U.wZ=s(m,Y);Y+=4;U.volume=j(m,Y);Y+=2;Y+=10;U.a9t=X(m,Y);Y+=4*9;U.aEc=[];for(var $=0;$<6;$++)U.aEc.push(s(m,Y+$*4));
Y+=4*6;U.ayp=s(m,Y);Y+=4}else if(Z=="tkhd"){var B=m[Y];if(B>1)throw Z+"-e";Y+=4;if(B==0){U.lk=s(m,Y);
Y+=4;U.wB=s(m,Y);Y+=4;U.aCj=s(m,Y);Y+=4;Y+=4;U.duration=s(m,Y);Y+=4}else{U.lk=H.L$(m,Y);Y+=8;U.wB=H.L$(m,Y);
Y+=8;U.aCj=s(m,Y);Y+=4;Y+=4;U.duration=H.L$(m,Y);Y+=8}Y+=8;U.w=j(m,Y);Y+=2;U.apr=j(m,Y);Y+=2;U.volume=j(m,Y);
Y+=2;Y+=2;U.a9t=X(m,Y);Y+=4*9;U.a3=s(m,Y)>>>16;Y+=4;U.oz=s(m,Y)>>>16;Y+=4}else if(Z=="mdhd"){var B=m[Y];
if(B>1)throw Z+"-e";Y+=4;if(B==0){U.lk=s(m,Y);Y+=4;U.wB=s(m,Y);Y+=4;U.Zy=s(m,Y);Y+=4;U.duration=s(m,Y);
Y+=4}else{U.lk=H.L$(m,Y);Y+=8;U.wB=H.L$(m,Y);Y+=8;U.Zy=s(m,Y);Y+=4;U.duration=H.L$(m,Y);Y+=8}U.lang=j(m,Y);
Y+=2;U.KW=j(m,Y);Y+=2}else if(Z=="hdlr"){var e=s(m,Y);Y+=4;if(e!=0)throw e;U.Dv=H.zb(m,Y,4);Y+=4;U.azO=H.zb(m,Y,4);
Y+=4;U.aau=s(m,Y);Y+=4;U.l4=s(m,Y);Y+=4;U.avD=s(m,Y);Y+=4;var P=Y;while(m[P]!=0)P++;U.name=H.zb(m,Y,P-Y);
Y+=P-Y+1}else if(Z=="stsd"){var e=s(m,Y);Y+=4;if(e!=0)throw e;var h=s(m,Y);Y+=4;if(h!=1)throw h;var V=s(m,Y);
Y+=4;U.dv=H.zb(m,Y,4);Y+=4;if(U.dv=="mett"){U.auU=H.zb(m,Y,g-Y)}else{for(var $=0;$<6;$++)if(m[Y+$]!=0)throw Z+"-e";
Y+=6;U.apD=j(m,Y);Y+=2;U.am5=j(m,Y);Y+=2;U.aoI=j(m,Y);Y+=2;U.a1g=s(m,Y);Y+=4;if("mp4v,avc1,encv,s263,vp09,hvc1,hev1,apcn,raw ,rle ".split(",").indexOf(U.dv)!=-1){U.amw=s(m,Y);
Y+=4;U.agu=s(m,Y);Y+=4;U.a9$=[j(m,Y),j(m,Y+2)];Y+=4;U.a7r=[s(m,Y)/(1<<16),s(m,Y+4)/(1<<16)];Y+=8;var I=s(m,Y);
Y+=4;if(I!=0)throw Z+"-e";var F=j(m,Y);Y+=2;if(F!=1)throw Z+"-e";var c=m[Y];Y++;U.aaO=H.zb(m,Y,c);Y+=31;
U.aj2=j(m,Y);Y+=2;var D=j(m,Y);Y+=2;if(D!=65535)throw Z+"-e";if(Y!=g)U.cc=await J(_,m,d,d+Y,d+g,a+1)}else if("mp4a enca samr sawb ec-3 ac-3 lpcm".split(" ").indexOf(U.dv)!=-1){U.OD=j(m,Y);
Y+=2;U.aC9=j(m,Y);Y+=2;var n=j(m,Y);Y+=2;if(n!=0&&n!=65534)throw n;var k=j(m,Y);Y+=2;if(k!=0)throw k;
U.ajt=s(m,Y)/(1<<16);Y+=4;if(Y!=g)U.cc=await J(_,m,d,d+Y,d+g,a+1)}else if(U.dv=="CTMD"){U.K=m.slice(Y,g)}else if(U.dv=="tx3g"||U.dv=="text"||U.dv=="mebx"){}else if(U.dv=="tmcd"){}else if(U.dv=="CRAW"){}else if(U.dv=="sowt"){}else throw JSON.stringify(U.dv)}}else if(Z=="stts"||Z=="stsz"||Z=="stco"||Z=="stsc"||Z=="ctts"||Z=="elst"){var e=s(m,Y),b=0,R=0;
Y+=4;if(Z=="stsz"){b=s(m,Y);Y+=4}var N=s(m,Y)*(Z=="stsc"||Z=="elst"?3:Z=="stts"||Z=="ctts"?2:1);Y+=4;
U=[];for(var $=0;$<N;$++){if(b!=0)U.push(b);else{if(Z=="elst"){if($%3==2){var L=s(m,Y);L*=1/(1<<16);
U.push(L)}else U.push(H.Pp(m,Y))}else U.push(s(m,Y));Y+=4}}for(var $=0;$<N;$++)R+=U[$]}else if(Z=="co64"){var e=s(m,Y);
Y+=4;if(e!=0)throw e;var N=s(m,Y);Y+=4;U=[];for(var $=0;$<N;$++){U.push(H.L$(m,Y));Y+=8}}else if(Z=="iinf"){U=[];
Y+=2;var i=s(m,Y);Y+=4;for(var $=0;$<i;$++){var v=s(m,Y),E=H.zb(m,Y+4,4),u=j(m,Y+12),C=H.zb(m,Y+16,4),G=[E,u,C];
U.push(G);if(v>21)G.push(H.zb(m,Y+21,v-22));Y+=v}}else if("moov trak mdia minf dinf stbl uuid edts meta iprp".split(" ").indexOf(Z)!=-1){if(Z=="uuid")Y+=16;
if(Z=="meta")Y+=4;U=await J(_,m,d,d+Y,d+g,a+1)}else if(Z=="CMT1"||Z=="CMT2"||Z=="CMT3"||Z=="CMT4"){U=UTIF.decode(m.slice(Y,g))}else if(Z=="stss"){U.s=Y+d;
U.dA=Q;U.ali=s(m,Y+4)}else{U.s=Y+d;U.dA=Q}Y=g;if(Z=="trak"||Z=="free"||Z=="uuid"){if(f[Z]==null)f[Z]=[];
f[Z].push(U)}else{if(f[Z]!=null)throw Z;f[Z]=U}A=Y+d;if(Y>=m.byteLength){d+=Y;Y=0;m=await kE.lc(_,d)}}return f}async function q(_){return await J(_,null,0,0,_.size,0)}function W(_,m){var d=_.mdia.minf.stbl,A=d.stsc,p=0,a=0;
for(var $=0;$<A.length;$+=3){var f=($+3<A.length?A[$+3]:1e4)-A[$],s=a+f*A[$+1];if(a<=m&&m<s){while(a+A[$+1]<=m){p++;
a+=A[$+1]}break}p+=f;a=s}var j=d.stco;if(j==null)j=d.co64;var Y=j[p];while(a<m){Y+=d.stsz[a];a++}return[Y,d.stsz[m]]}function T(_,m){var d=_.moov.trak,A=[];
for(var $=0;$<d.length;$++){if(d[$].mdia.hdlr.azO==m){A.push(d[$])}}return A}return{Ah:q,c4:W,getTracks:T}}();
function kV(M,X){kE.mX.call(this,M,X);this._S=kE.mX._S;this.i_=kE.mX.i_;this.Yo=kE.mX.Yo;this.LS=kE.mX.LS;
this.hT;this.aIC=0;this.x3=0;this.O0=0;this.qo=null}kV.prototype.YP=function(M){this.xg.push(M)};kV.prototype.ahg=function(M,$){var X=0,J=M.getUint8($,!1);
$+=1;X=J&127;var q=J>>7;while(q==1){J=M.getUint8($,!1);$+=1;q=J>>7;var W=J&127;X=X<<7|W}return[X,$]};
kV.prototype.aHq=function(M){this.ze={};var X=new DataView(M.buffer),$=4;$+=4;while($<X.byteLength){var J=X.getUint8($,!1);
$+=1;var q=this.ahg(X,$),W=q[0];$=q[1];if(J==3){$+=2;$+=1}else if(J==4){this.ze.objectType=X.getUint8($,!1);
$+=1;this.ze.streamType=X.getUint8($,!1)>>2;$+=1;$+=3;this.ze.maxBitrate=X.getUint32($,!1);$+=4;this.ze.avgBitrate=X.getUint32($,!1);
$+=4}else if(J==5){this.ze.decoderSpecificInfo=M.slice($,$+W);$+=W}else{$+=W}}};kV.prototype.aw$=function(M){var X=null,T=0;
if(M.ae2){if(M.edts.ay9)X=M.edts.ay9}if(X==null){this.pe=this.frames;return}var J=this.hh.moov.mvhd.Zy,q=M.mdia.mdhd.Zy,W=M.mdia.mdhd.duration*1e3/q/this.s_.stsz.length;
this.qo=[];for(var $=0;$<X.length;$+=3){var _;if(X[$+1]==-1)_=-1;else _=X[$+1]*1e3/W/q;var i3=X[$]*1e3/W/J;
this.qo.push(T);this.qo.push(Math.floor(_));this.qo.push(X[$+2]);T+=Math.floor(i3)}this.pe=T;if(this.os(this.pe-1)>this.frames-1)this.pe--;
if((T+1)*W<M.tkhd.duration*1e3/J){this.qo.push(T);this.qo.push(0);this.qo.push(1);this.pe=Math.floor(M.tkhd.duration*1e3/J/W)}};
kV.prototype.os=function(M){if(this.qo){for(var $=this.qo.length-3;$>=0;$-=3){if(M>=this.qo[$]){if(this.qo[$+1]==-1)M=this.pJ;
else if(this.qo[$+2]==0)M=this.qo[$+1];else M=M-this.qo[$]+this.qo[$+1];break}}}return M};kV.prototype.ap9=async function(){this.$r=new VideoDecoder({output:aM=>this.Yo(aM),error:function(q){console.log(q.message)}});
var M=this.s_.stsd.dv;if(M=="avc1"){this.h1=this.s_.stsd.cc.avcC;var X={codec:"avc1.640034"};X.description=new Uint8Array(await this.OQ.slice(this.h1.s,this.h1.s+this.h1.dA).arrayBuffer());
this.$r.configure(X)}else if(M=="hev1"||M=="hvc1"){var X={};this.Sq=this.s_.stsd.cc.hvcC;X.description=new Uint8Array(await this.OQ.slice(this.Sq.s,this.Sq.s+this.Sq.dA).arrayBuffer());
var J=kE.a0C(X.description);X.codec=J;X.codedWidth=this.Hs.tz.width;X.codedHeight=this.Hs.tz.height;
this.$r.configure(X)}else{var X={codec:"vp09.00.10.08"};this.$r.configure(X)}};kV.prototype.a1M=async function(){this.gH=new AudioDecoder({output:aM=>this.YP(aM),error:function(M){console.log(M)}});
console.assert(await AudioDecoder.isConfigSupported(this.Wa));this.gH.configure(this.Wa)};kV.prototype.jA=async function(){this.hh=await b8.Ah(this.OQ);
this.aJ2={};this.jF={};this.IC=b8.getTracks(this.hh,"vide");var M=!0,d=!0;if(this.IC.length>0){var X=this.IC[0],J=X.tkhd;
this.s_=X.mdia.minf.stbl;var q=this.s_.stsd.dv;if(q=="avc1"||q=="vp09"||q=="hvc1"||q=="hev1"){if(q=="avc1"&&!this.s_.stsd.cc.avcC||(q=="hvc1"||q=="hev1")&&!this.s_.stsd.cc.hvcC){console.log(q+" video codec not supported (avcC missing).");
M=!1}else{await this.a7g(this.s_.stss.s+8,this.s_.stss.dA-8);for(var $=0;$<this.aiW.byteLength;$+=4){var W=this.aiW.getUint32($,!1)-1;
this.u2.push(W)}var T=X.mdia.mdhd.Zy,_=X.mdia.mdhd.duration/T;this.frames=this.s_.stsz.length;var m=this.frames/_;
this.aw$(X)}}else{console.log(q+" video codec not supported.");M=!1}}this.N0=b8.getTracks(this.hh,"soun");
if(this.N0.length>0){var A=this.N0[0],p=A.mdia.minf.stbl,a,f=p.stsd.OD;if(p.stsd.dv=="mp4a"){if(p.stsd.cc.esds){this.aqC=p.stsz.length;
var s=p.stsd.cc.esds.s,j=p.stsd.cc.esds.dA,Y=await this.OQ.slice(s-4,s+j+4),G=await Y.arrayBuffer(),Q=new Uint8Array(G),Z=null;
this.aHq(Q);a="mp4a.";if(this.ze.objectType==64){a+=this.ze.objectType.toString(16);a+=".";a+=(this.ze.decoderSpecificInfo[0]>>3).toString();
Z=this.ze.decoderSpecificInfo}else{a+=this.ze.objectType.toString(16).toUpperCase()}if(Z){var g=Z[0]>>3;
if(g==31){var S=(Z[0]&7)<<3|Z[1]>>5;g=32+S;var U=Z[1]&31>>1;if(U==15){f=(Z[4]&1)<<3|Z[5]>>5}else{f=(Z[1]&1)<<3|Z[2]>>5}}else{var U=(Z[0]&7)<<1|Z[1]>>7;
if(U==15){f=(Z[4]&127)>>3}else{f=(Z[1]&127)>>3}}}this.Wa={codec:a,numberOfChannels:f,sampleRate:p.stsd.ajt};
if(Z){this.Wa.description=Z}}else{console.log("Audio codec not supported.");d=!1}}else{console.log("Audio codec not supported.");
d=!1}}this.Hs={};if(M&&this.IC.length>0){this.Hs.tz={IC:1,l0:this.pe,wZ:m,width:J.a3,height:J.oz}}if(d&&this.N0.length>0){this.Hs.Jm={IC:f,wZ:p.stsd.ajt,l0:A.mdia.mdhd.duration}}if(!this.ie){this.Y9=new OffscreenCanvas(this.Hs.tz.width,this.Hs.tz.height);
this.Il=this.Y9.getContext("2d",{aiC:!0});this.rf=10;this.rW=6}this.i2=!0};kV.prototype.a7g=async function(M,X){this.acp=await this.OQ.slice(M,M+X).arrayBuffer();
this.aiW=new DataView(this.acp)};kV.prototype.io=async function(M,X){var J=Math.min(X+250,this.frames-1),q=b8.c4(M,X),W=b8.c4(M,J),T=await this.OQ.slice(q[0],W[0]+W[1]),_=await T.arrayBuffer();
this.hT=new Uint8Array(_);this.aIC=X;this.x3=J;this.O0=q[0];return};kV.prototype.a1r=async function(M,X,J){if(X>=this.x3||J<this.aIC){await this.io(M,X)}for(var $=X;
$<J;++$){if($>=this.x3){await this.io(M,$)}var q=this.u2.indexOf($),W=b8.c4(M,$),T=this.hT.slice(W[0]-this.O0,W[0]+W[1]-this.O0),_=new EncodedVideoChunk({timestamp:$,duration:1e3,type:q!=-1?"key":"delta",data:T});
if(this.$r.state=="configured"){try{this.$r.decode(_)}catch(J){console.log("CAUGHT unconfigured");console.log(J);
console.log(_)}}else{console.log("unconfigured");delete T}delete T}if(J==this.frames){await this.$r.flush()}};
kV.prototype.aAx=async function(M,X,J){if(!this.gH){await this.a1M()}if(this.N0.length<=M){console.log("Requested audio track does not exist");
return}var q=this.N0[M],W=q.mdia.minf.stbl.stts,T=null,_=null,m=0,d=0;for(var $=0;$<W.length;$+=2){if(T==null&&m+W[$]*W[$+1]>=X){T=Math.ceil(d+(X-m)/W[$+1])}if(_==null&&m+W[$]*W[$+1]>=J){_=Math.ceil(d+(J-m)/W[$+1])}if(T&&_){break}m+=W[$]*W[$+1];
d+=W[$]}var A=b8.c4(q,T),p=b8.c4(q,_),a=await this.OQ.slice(A[0],p[0]+p[1]),f=await a.arrayBuffer(),s=new Uint8Array(f);
for(var $=T;$<_;++$){var j=b8.c4(q,$),Y=s.slice(j[0]-A[0],j[0]+j[1]-A[0]),G=new EncodedAudioChunk({timestamp:$,duration:1e3,type:"key",data:Y});
try{this.gH.decode(G)}catch(hP){console.log("Error decoding audioframe "+$.toString()+". "+hP.message)}}try{await this.gH.flush()}catch(hP){console.log("CAUGHT flush, but returning");
return this.xg}return this.xg};function gh(M,X,J){this.Hs=X;this.tq=M;this.atm=[0,0,0,24,102,116,121,112,109,112,52,50,0,0,0,0,109,112,52,50,105,115,111,109,0,0,0,8,102,114,101,101];
this.ajr=40;this.a3,this.oz;this.nX;this.KZ;this.k_;this.a8V;this.description;this.jq;this.qA;this.J1;
this.Ag;this.wk;this.Al;this.B3=J;this.$N;this._H;this.mD;this.aBT;this.m4;if(this.Hs.tz){this.aag()}if(this.Hs.Jm){this.avQ()}}gh.prototype.aEy=function(M){return new Uint8Array([M.charCodeAt(0),M.charCodeAt(1),M.charCodeAt(2),M.charCodeAt(3)]).buffer};
gh.prototype.aCg=function(M){var X=new Uint32Array([M]),J=new Uint8Array(X.buffer);return new Uint8Array([J[3],J[2],J[1],J[0]])};
gh.prototype._h=function(M){this.mD[this._H]=M;++this._H};gh.prototype.pc=function(M){this.mD[this._H]=M>>8&255;
this.mD[this._H+1]=M&255;this._H+=2};gh.prototype.atL=function(M){this.mD[this._H]=M>>16&255;this.mD[this._H+1]=M>>8&255;
this.mD[this._H+2]=M&255;this._H+=3};gh.prototype.wT=function(M){this.mD[this._H]=M>>24&255;this.mD[this._H+1]=M>>16&255;
this.mD[this._H+2]=M>>8&255;this.mD[this._H+3]=M&255;this._H+=4};gh.prototype.K$=function(M){this.$N.push(this._H);
this._H+=4;this.oL(M)};gh.prototype.oL=function(M){for(var $=0;$<M.length;++$){this.mD[this._H]=M.charCodeAt($);
++this._H}};gh.prototype.a9_=function(M){this.mD.set(new Uint8Array(M),this._H);this._H+=M.byteLength};
gh.prototype.kI=function(){var M=this._H;this._H=this.$N.pop();this.wT(M-this._H);this._H=M};gh.prototype.aIs=function(M,X){if(!this.description&&X){if(X.description){this.description=X.description}if(X.decoderConfig&&X.decoderConfig.description){this.description=X.decoderConfig.description}}var J=new ArrayBuffer(M.byteLength);
M.copyTo(J);this.Xx(J);this.nX.push({duration:M.duration,timestamp:M.timestamp,type:M.type,byteLength:M.byteLength});
if(M.type=="key"){this.k_.push(this.nX.length)}};gh.prototype.YP=function(M,X){if(!this.jq&&X){if(X.decoderConfig){this.jq=X.decoderConfig}}var J=new ArrayBuffer(M.byteLength);
M.copyTo(J);this.a1E(J);this.KZ.push({duration:M.duration,timestamp:M.timestamp,type:M.type,byteLength:M.byteLength});
if(M.type=="key"){this.a8V.push(this.KZ.length)}};gh.prototype.Xx=function(M){var X=new Uint8Array(this.qA.byteLength+M.byteLength);
X.set(new Uint8Array(this.qA));X.set(new Uint8Array(M),this.qA.byteLength);this.qA=X.buffer;if(this.qA.byteLength>20*1024*1024){this.tq.write(this.qA);
this.qA=new Uint8Array}};gh.prototype.a1E=function(M){var X=new Uint8Array(this.J1.byteLength+M.byteLength);
X.set(new Uint8Array(this.J1));X.set(new Uint8Array(M),this.J1.byteLength);this.J1=X.buffer};gh.prototype.a5g=function(){this.$N=[];
var M=this.ajr,X=[],J={},q=9e4,W=this.nX.length,T=this.k_.length,_=-1,d=!1,j=1;for(var $=0;$<this.nX.length;
++$){this.Ag+=this.nX[$].duration/1e3;this.Al+=this.nX[$].byteLength;if(this.nX[$].duration!=_){if($!=0){X.push(J)}_=this.nX[$].duration;
J={duration:9e4*this.nX[$].duration/1e6,sampleCount:1}}else{J.sampleCount=J.sampleCount+1}}this.Al+=8;
X.push(J);var m=X.length;if(this.Hs.Jm){d=!0}if(d){var A=[],p=this.KZ.length;this.wk=0;var a=this.jq.sampleRate,_=-1;
for(var $=0;$<this.KZ.length;++$){this.wk+=this.KZ[$].duration/1e3;this.Al+=this.KZ[$].byteLength;var f=Math.round(a*this.KZ[$].duration/1e6);
if(f!=_){if($!=0){A.push(J)}_=f;J={duration:f,sampleCount:1}}else{J.sampleCount=J.sampleCount+1}}A.push(J);
var s=A.length}var Y=579+this.description.byteLength+4*W+4*W+4*T+8*m;if(d){Y+=426+this.jq.description.byteLength+4*p+4*p+8*m;
j=2}this.mD=new Uint8Array(Y);this._H=0;this.K$("moov");this.K$("mvhd");this.wT(0);this.wT(0);this.wT(0);
this.wT(1e3);this.wT(this.Ag);this.wT(65536);this.pc(256);this.pc(0);this.wT(0);this.wT(0);this.wT(65536);
this.wT(0);this.wT(0);this.wT(0);this.wT(65536);this.wT(0);this.wT(0);this.wT(0);this.wT(1073741824);
this.wT(0);this.wT(0);this.wT(0);this.wT(0);this.wT(0);this.wT(0);this.wT(2);this.kI();for(var G=0;G<j;
++G){this.K$("trak");this.K$("tkhd");this.wT(7);this.wT(0);this.wT(0);this.wT(1);this.wT(0);if(G==1)this.wT(this.wk);
else this.wT(this.Ag);this.wT(0);this.wT(0);this.pc(0);this.pc(0);this.pc(256);this.pc(0);if(G==1){this.wT(1);
this.wT(0);this.wT(0);this.wT(0);this.wT(1);this.wT(0);this.wT(0);this.wT(0);this.wT(1);this.wT(this.a3*0);
this.wT(this.oz*0)}else{this.wT(65536);this.wT(0);this.wT(0);this.wT(0);this.wT(65536);this.wT(0);this.wT(0);
this.wT(0);this.wT(1073741824);this.wT(this.a3*65536);this.wT(this.oz*65536)}this.kI();this.K$("mdia");
this.K$("mdhd");this.wT(0);this.wT(0);this.wT(0);if(G==1){this.wT(this.jq.sampleRate);this.wT(this.wk/1e3*this.jq.sampleRate)}else{this.wT(q);
this.wT(this.Ag/1e3*q)}this._h(85);this._h(196);this.pc(0);this.kI();this.K$("hdlr");this.wT(0);this.wT(0);
if(G==1){this.oL("soun");this.wT(0);this.wT(0);this.wT(0);this.oL("SoundHandler");this._h(0)}else{this.oL("vide");
this.wT(0);this.wT(0);this.wT(0);this.oL("VideoHandler");this._h(0)}this.kI();this.K$("minf");if(G==1){this.K$("smhd");
this.wT(0);this.pc(0);this.pc(0);this.kI()}else{this.K$("vmhd");this.wT(1);this.pc(0);this.pc(0);this.pc(0);
this.pc(0);this.kI()}this.K$("dinf");this.K$("dref");this.wT(0);this.wT(1);this.K$("url ");this.wT(1);
this.kI();this.kI();this.kI();if(G==1){this.K$("stbl");this.K$("stsd");this.wT(0);this.wT(1);this.K$("mp4a");
this.pc(0);this.pc(0);this.pc(0);this.pc(1);this.wT(0);this.wT(0);this.pc(this.jq.numberOfChannels);
this.pc(16);this.pc(0);this.pc(0);this.pc(this.jq.sampleRate);this.pc(0);this.K$("esds");this.wT(0);
this._h(3);this._h(25);this.pc(0);this._h(0);this._h(4);this._h(17);this._h(64);this._h(21);this.atL(0);
this.wT(16e4);this.wT(16e4);this._h(5);this._h(2);this.a9_(this.jq.description);this._h(6);this._h(1);
this._h(2);this.kI();this.kI();this.kI();this.K$("stts");this.wT(0);this.wT(s);for(var $=0;$<s;++$){this.wT(A[$].sampleCount);
this.wT(A[$].duration)}this.kI();this.K$("stsc");this.wT(0);this.wT(1);this.wT(1);this.wT(1);this.wT(1);
this.kI();this.K$("stsz");this.wT(0);this.wT(0);this.wT(p);for(var $=0;$<p;++$){this.wT(this.KZ[$].byteLength)}this.kI();
this.K$("stco");this.wT(0);this.wT(p);for(var $=0;$<p;++$){this.wT(M);M+=this.KZ[$].byteLength}this.kI();
this.kI()}else{this.K$("stbl");this.K$("stsd");this.wT(0);this.wT(1);this.K$("avc1");this.pc(0);this.pc(0);
this.pc(0);this.pc(1);this.pc(0);this.pc(0);this.wT(0);this.wT(0);this.wT(0);this.pc(this.a3);this.pc(this.oz);
this.wT(4718592);this.wT(4718592);this.wT(0);this.pc(1);for(var $=0;$<8;++$){this.wT(0)}this.pc(24);
this.pc(-1);this.K$("avcC");this.a9_(this.description);this.kI();this.kI();this.kI();this.K$("stts");
this.wT(0);this.wT(m);for(var $=0;$<m;++$){this.wT(X[$].sampleCount);this.wT(X[$].duration)}this.kI();
this.K$("stsc");this.wT(0);this.wT(1);this.wT(1);this.wT(1);this.wT(1);this.kI();this.K$("stsz");this.wT(0);
this.wT(0);this.wT(W);for(var $=0;$<W;++$){this.wT(this.nX[$].byteLength)}this.kI();this.K$("stco");
this.wT(0);this.wT(W);for(var $=0;$<W;++$){this.wT(M);M+=this.nX[$].byteLength}this.kI();this.K$("stss");
this.wT(0);this.wT(T);for(var $=0;$<T;++$){this.wT(this.k_[$])}this.kI();this.kI()}this.kI();this.kI();
this.kI()}this.kI();return};gh.prototype.awP=async function(M){console.assert(await VideoEncoder.isConfigSupported(M))};
gh.prototype.aag=function(){var M=Date.now(),X=this.Hs.tz.width,J=this.Hs.tz.height;this.a3=X;this.oz=J;
this.description=null;this.k_=[];this.nX=[];this.Ag=0;this.Al=0;this.qA=new Uint8Array;this.Xx(new Uint8Array(this.atm));
this.Xx(this.aCg(0).buffer);this.Xx(this.aEy("mdat"));this._s=new VideoEncoder({output:(chunk,opts)=>this.aIs(chunk,opts),error:hP=>{console.log(hP)}});
var q=this.B3*this.a3*this.oz,W=q*this.Hs.tz.l0,T=Math.round(q*24),_={width:this.a3,height:this.oz,codec:"avc1.420034",bitrate:T,acceleration:"prefer-hardware"};
this.awP(_);this._s.configure(_);this.m4=0};gh.prototype.a0n=async function(M){console.assert(await AudioDecoder.aEp(M))};
gh.prototype.avQ=function(){this.J1=new Uint8Array;this.jq=null;this.a8V=[];this.KZ=[];var M={codec:"mp4a.40.2",numberOfChannels:this.Hs.Jm.IC,sampleRate:this.Hs.Jm.wZ,bitrate:16e4};
this.KI=new AudioEncoder({output:(aM,hO)=>this.YP(aM,hO),error:function(X){console.log(X)}});this.a0n(M);
this.KI.configure(M)};gh.prototype._S=function(){return this.Hs};gh.prototype.aaX=async function(M,X,J){var q=M,W=1e6/this.Hs.tz.wZ;
if(J%50==0){console.log(Math.round(J/this.Hs.tz.l0*100).toString()+"%")}var T=new VideoFrame(q.buffer,{timestamp:this.m4,duration:W,format:"RGBA",codedWidth:this.a3,codedHeight:this.oz});
this._s.encode(T);T.close();this.m4+=W;delete q;delete M;delete T};gh.prototype.auC=async function(M,X,J,q){for(var $=0;
$<M.length;++$){this.KI.encode(M[$])}};gh.prototype.finish=async function(){if(this.Hs.tz){await this._s.flush()}if(this.Hs.Jm){await this.KI.flush()}this.a5g();
this.tq.write(this.qA);if(this.Hs.Jm){this.tq.write(this.J1)}this.tq.write(this.mD);this.tq.write({e:"write",data:this.aCg(this.Al),position:this.ajr-8});
return this.tq.close()};var c2=function(M){var X=[[21,73,169,102],[22,84,174,107],[17,77,155,116],[28,83,187,107],[31,67,182,117],[18,84,195,103]],J="KaxInfo KaxTracks KaxSeekHead KaxCues KaxCluster KaxTags".split(" "),q=!1,W=kE.ahA,T=kE.Z3,_=kE.Pp;
function m(Y){for(var $=0;$<X.length;++$){var G=!0;for(var Q=0;Q<X[$].length;++Q){if(Y[Q]!=X[$][Q]){G=!1;
break}}if(G==!0){return J[$]}}}async function d(Y,G,Q,Z){if(G==null||Z<Q||Z>=Q+G.byteLength){G=await kE.lc(Y,Z);
Q=Z;Z=0}else{Z-=Q;var g=Z,S=W(G,Z),U=S[2];Z+=S[1];S=W(G,Z);var B=S[0];Z+=S[1];if(Z+B>G.byteLength){G=await kE.lc(Y,Q+g,B+Z-g);
Q+=g;Z=0}else{Z=g}}return[G,Q,Z]}async function A(Y,G,Q,Z,g){var S=g.hW.CueClusterPosition,F=!1;S+=G.Segment.xX;
var U=await d(Y,Q,Z,S);Q=U[0];Z=U[1];S=U[2];if(Q.length==0)return{We:0,data:Q,start:Z,XE:null};var B=W(Q,S),e=B[2];
S+=B[1];B=W(Q,S);var P=B[0];S+=B[1];var h=S;B=W(Q,h);e=B[2];h+=B[1];B=W(Q,h);P=B[0];h+=B[1];var V=c2.Jj[e];
if(V.q=="CRC-32"){h+=P;B=W(Q,h);e=B[2];h+=B[1];B=W(Q,h);P=B[0];h+=B[1]}var I=T(Q,h,P);if(g.hW.CueRelativePosition){S+=g.hW.CueRelativePosition;
B=W(Q,S);e=B[2];S+=B[1];B=W(Q,S);P=B[0];S+=B[1];if(V.q=="BlockGroup"){F=!0}return{We:Z+S+P,data:Q,start:Z,XE:s(Q.slice(S,S+P),F),timeStamp:I}}else{var c=0;
if(g.hW.CueBlockNumber){c=g.hW.CueBlockNumber-1;if(G.Segment.Info.MuxingApp.toLowerCase().includes("yamka")){c++}}P=0;
do{S+=P;B=W(Q,S);e=B[2];S+=B[1];B=W(Q,S);P=B[0];S+=B[1];V=c2.Jj[e]}while(V.q!="SimpleBlock"&&V.q!="BlockGroup");
for(var $=0;$<c;++$){S+=P;B=W(Q,S);e=B[2];S+=B[1];B=W(Q,S);P=B[0];S+=B[1]}V=c2.Jj[e];if(V.q=="BlockGroup"){F=!0}return{We:Z+S+P,data:Q,start:Z,XE:s(Q.slice(S,S+P),F),timeStamp:I}}}async function p(Y,G,Q,Z){var g=null,S=await d(Y,G,Q,Z),V=!1;
G=S[0];Q=S[1];Z=S[2];if(G.length==0)return{We:0,data:G,start:Q,XE:null};var U=W(G,Z),B=U[2];Z+=U[1];
U=W(G,Z);var e=U[0];Z+=U[1];var P=c2.Jj[B];if(P.q!="SimpleBlock"&&P.q!="BlockGroup"){var h="SeekHead Tags Void Info Tracks Attachments Chapters Tags Cues".split(" ");
if(h.indexOf(P.q)==-1){do{if(P.q=="Cluster"){e=0}Z+=e;S=await d(Y,G,Q,Q+Z);G=S[0];Q=S[1];Z=S[2];if(G.length==0)return{We:0,data:G,start:Q,XE:null};
U=W(G,Z);B=U[2];Z+=U[1];U=W(G,Z);e=U[0];Z+=U[1];P=c2.Jj[B];if(P.q=="Timestamp"){g=T(G,Z,e)}}while(P.q!="SimpleBlock"&&P.q!="BlockGroup")}else return{We:0,data:G,start:Q,XE:null}}if(P.q=="BlockGroup"){V=!0}return{We:Q+Z+e,data:G,start:Q,XE:s(G.slice(Z,Z+e),V),timeStamp:g}}async function a(Y,G,Q,Z,g){var S={},U=Z-Q;
if(G==null){G=await kE.lc(Y,U);Q=U;U=0}while(U+Q<g&&!q){var B,e=U+Q,P=W(G,U),h=P[2];U+=P[1];P=W(G,U);
var V=P[0];U+=P[1];var I=c2.Jj[h];if(!I){throw"Unknown EBML element "+h.toString(16)}var F=I.q,c=U+V,D=U+Q;
if(c>G.byteLength&&F!="Segment"){G=await kE.lc(Y,Q,c)}if(I.Y=="m"&&F=="Cluster"){q=!0;return[U,S]}if(I.Y=="m"){var n=await a(Y,G,Q,Q+U,Q+c);
U=n[0];n[1].s=e;n[1].xX=D;if(I.D==1){if(S[F]==null){S[F]=[]}S[F].push(n[1])}else{S[F]=n[1]}if(q){break}}else{if(I.Y=="8"){B=H.Og(G,U,V)}else if(I.Y=="s"){B=H.zb(G,U,V)}else if(I.Y=="b"){B=H.gy(G,U,V)}else if(I.Y=="u"){B=T(G,U,V)}else if(I.Y=="i"){B=_(G,U,V)}else if(I.Y=="f"){if(V==4){B=H.Ot(G,U)}else if(V==8){B=H.LF(G,U)}else throw"Cannot read float of size "+V.toString()}else if(I.Y=="d"){var k=T(G,U,V);
k*=1e-6;k+=new Date(2001,1,1).valueOf()-new Date(1970,1,1).valueOf();B=new Date(k)}else{B=V}U+=V;if(I.q=="SeekID"){var b=m(B);
B=b}if(I.D==1){if(S[F]==null){S[F]=[]}S[F].push(B)}else{S[F]=B}}if(U+Q<g&&U>=G.byteLength){Q+=U;U=0;
G=await kE.lc(Y,Q)}}return[U,S]}function f(Y,G){var Q=Y.Segment.Tracks.TrackEntry,Z=[];for(var $=0;$<Q.length;
++$){var g=Q[$];if(g.TrackType==G){Z.push(g)}}return Z}function s(Y,G){var Q,Z,g,S=0;if(G){Q=W(Y,S);
var U=Q[2];S+=Q[1];Q=W(Y,S);var B=Q[0];S+=Q[1];Z=S+B}Q=W(Y,S);S+=Q[1];var e=Q[0],P=_(Y,S,2);S+=2;var h=Y[S],V=h>>>7;
S+=1;if(G){g=Y.slice(S,Z)}else{g=Y.slice(S)}return[e,P,V,g]}async function j(Y){var G=await a(Y,null,0,0,Y.size);
q=!1;var Q=G[1];if(Q.Segment.SeekHead){var Z=Q.Segment.SeekHead;for(var $=0;$<Z.length;++$){if(Z[$].Seek){for(var g=0;
g<Z[$].Seek.length;++g){if(Z[$].Seek[g].SeekID=="KaxSeekHead"){var S=Z[$].Seek[g].SeekPosition+Q.Segment.xX;
G=await a(Y,null,0,S,Y.size);q=!1;Q.Segment.SeekHead.push(G[1])}else if(Z[$].Seek[g].SeekID=="KaxCues"){if(!Q.Segment.Cues){S=Z[$].Seek[g].SeekPosition+Q.Segment.xX;
G=await a(Y,null,0,S,Y.size);q=!1;Q.Segment.Cues=G[1].Cues}}}}}}else{console.log("No seek heads parsed, WIP, not implemented yet.")}return Q}return{Ah:j,getTracks:f,Kv:p,Oa:A}}();
c2.Jj={440786851:{q:"EBML",Y:"m",D:0},17030:{q:"EBMLVersion",Y:"u",D:0},17143:{q:"EBMLReadVersion",Y:"u",D:0},17026:{q:"DocType",Y:"s",D:0},17031:{q:"DocTypeVersion",Y:"u",D:0},17029:{q:"DocTypeReadVersion",Y:"u",D:0},17028:{q:"DocTypeExtensionVersion",Y:"u",D:0},191:{q:"CRC-32",Y:"b",D:0},236:{q:"Void",Y:"b",D:1},17138:{q:"EBMLMaxIDLength",Y:"u",D:0},17139:{q:"EBMLMaxSizeLength",Y:"u",D:0},408125543:{q:"Segment",Y:"m",D:0},290298740:{q:"SeekHead",Y:"m",D:1},19899:{q:"Seek",Y:"m",D:1},21419:{q:"SeekID",Y:"b",D:0},21420:{q:"SeekPosition",Y:"u",D:0},357149030:{q:"Info",Y:"m",D:0},29604:{q:"SegmentUUID",Y:"b",D:0},29572:{q:"SegmentFilename",Y:"8",D:0},3979555:{q:"PrevUUID",Y:"b",D:0},3965867:{q:"PrevFilename",Y:"8",D:0},4110627:{q:"NextUUID",Y:"b",D:0},4096955:{q:"NextFilename",Y:"8",D:0},17476:{q:"SegmentFamily",Y:"b",D:1},26916:{q:"ChapterTranslate",Y:"m",D:1},27045:{q:"ChapterTranslateID",Y:"b",D:0},27071:{q:"ChapterTranslateCodec",Y:"u",D:0},27132:{q:"ChapterTranslateEditionUID",Y:"u",D:1},2807729:{q:"TimestampScale",Y:"u",D:0},17545:{q:"Duration",Y:"f",D:0},17505:{q:"DateUTC",Y:"d",D:0},31657:{q:"Title",Y:"8",D:0},19840:{q:"MuxingApp",Y:"8",D:0},22337:{q:"WritingApp",Y:"8",D:0},524531317:{q:"Cluster",Y:"m",D:1},231:{q:"Timestamp",Y:"u",D:0},22612:{q:"SilentTracks",Y:"m",D:0},22743:{q:"SilentTrackNumber",Y:"u",D:1},167:{q:"Position",Y:"u",D:0},171:{q:"PrevSize",Y:"u",D:0},163:{q:"SimpleBlock",Y:"b",D:1},160:{q:"BlockGroup",Y:"m",D:1},161:{q:"Block",Y:"b",D:0},162:{q:"BlockVirtual",Y:"b",D:0},30113:{q:"BlockAdditions",Y:"m",D:0},166:{q:"BlockMore",Y:"m",D:1},165:{q:"BlockAdditional",Y:"b",D:0},238:{q:"BlockAddID",Y:"u",D:0},155:{q:"BlockDuration",Y:"u",D:0},250:{q:"ReferencePriority",Y:"u",D:0},251:{q:"ReferenceBlock",Y:"i",D:1},253:{q:"ReferenceVirtual",Y:"i",D:0},164:{q:"CodecState",Y:"b",D:0},30114:{q:"DiscardPadding",Y:"i",D:0},142:{q:"Slices",Y:"m",D:0},232:{q:"TimeSlice",Y:"m",D:1},204:{q:"LaceNumber",Y:"u",D:0},205:{q:"FrameNumber",Y:"u",D:0},203:{q:"BlockAdditionID",Y:"u",D:0},206:{q:"Delay",Y:"u",D:0},207:{q:"SliceDuration",Y:"u",D:0},200:{q:"ReferenceFrame",Y:"m",D:0},201:{q:"ReferenceOffset",Y:"u",D:0},202:{q:"ReferenceTimestamp",Y:"u",D:0},175:{q:"EncryptedBlock",Y:"b",D:1},374648427:{q:"Tracks",Y:"m",D:0},174:{q:"TrackEntry",Y:"m",D:1},215:{q:"TrackNumber",Y:"u",D:0},29637:{q:"TrackUID",Y:"u",D:0},131:{q:"TrackType",Y:"u",D:0},185:{q:"FlagEnabled",Y:"u",D:0},136:{q:"FlagDefault",Y:"u",D:0},21930:{q:"FlagForced",Y:"u",D:0},21931:{q:"FlagHearingImpaired",Y:"u",D:0},21932:{q:"FlagVisualImpaired",Y:"u",D:0},21933:{q:"FlagTextDescriptions",Y:"u",D:0},21934:{q:"FlagOriginal",Y:"u",D:0},21935:{q:"FlagCommentary",Y:"u",D:0},156:{q:"FlagLacing",Y:"u",D:0},28135:{q:"MinCache",Y:"u",D:0},28152:{q:"MaxCache",Y:"u",D:0},2352003:{q:"DefaultDuration",Y:"u",D:0},2313850:{q:"DefaultDecodedFieldDuration",Y:"u",D:0},2306383:{q:"TrackTimestampScale",Y:"f",D:0},21375:{q:"TrackOffset",Y:"i",D:0},21998:{q:"MaxBlockAdditionID",Y:"u",D:0},16868:{q:"BlockAdditionMapping",Y:"m",D:1},16880:{q:"BlockAddIDValue",Y:"u",D:0},16804:{q:"BlockAddIDName",Y:"s",D:0},16871:{q:"BlockAddIDType",Y:"u",D:0},16877:{q:"BlockAddIDExtraData",Y:"b",D:0},21358:{q:"Name",Y:"8",D:0},2274716:{q:"Language",Y:"s",D:0},2274717:{q:"LanguageBCP47",Y:"s",D:0},134:{q:"CodecID",Y:"s",D:0},25506:{q:"CodecPrivate",Y:"b",D:0},2459272:{q:"CodecName",Y:"8",D:0},29766:{q:"AttachmentLink",Y:"u",D:0},3839639:{q:"CodecSettings",Y:"8",D:0},3883072:{q:"CodecInfoURL",Y:"s",D:1},2536e3:{q:"CodecDownloadURL",Y:"s",D:1},170:{q:"CodecDecodeAll",Y:"u",D:0},28587:{q:"TrackOverlay",Y:"u",D:1},22186:{q:"CodecDelay",Y:"u",D:0},22203:{q:"SeekPreRoll",Y:"u",D:0},26148:{q:"TrackTranslate",Y:"m",D:1},26277:{q:"TrackTranslateTrackID",Y:"b",D:0},26303:{q:"TrackTranslateCodec",Y:"u",D:0},26364:{q:"TrackTranslateEditionUID",Y:"u",D:1},224:{q:"Video",Y:"m",D:0},154:{q:"FlagInterlaced",Y:"u",D:0},157:{q:"FieldOrder",Y:"u",D:0},21432:{q:"StereoMode",Y:"u",D:0},21440:{q:"AlphaMode",Y:"u",D:0},21433:{q:"OldStereoMode",Y:"u",D:0},176:{q:"PixelWidth",Y:"u",D:0},186:{q:"PixelHeight",Y:"u",D:0},21674:{q:"PixelCropBottom",Y:"u",D:0},21691:{q:"PixelCropTop",Y:"u",D:0},21708:{q:"PixelCropLeft",Y:"u",D:0},21725:{q:"PixelCropRight",Y:"u",D:0},21680:{q:"DisplayWidth",Y:"u",D:0},21690:{q:"DisplayHeight",Y:"u",D:0},21682:{q:"DisplayUnit",Y:"u",D:0},21683:{q:"AspectRatioType",Y:"u",D:0},3061028:{q:"UncompressedFourCC",Y:"b",D:0},3126563:{q:"GammaValue",Y:"f",D:0},2327523:{q:"FrameRate",Y:"f",D:0},21936:{q:"Colour",Y:"m",D:0},21937:{q:"MatrixCoefficients",Y:"u",D:0},21938:{q:"BitsPerChannel",Y:"u",D:0},21939:{q:"ChromaSubsamplingHorz",Y:"u",D:0},21940:{q:"ChromaSubsamplingVert",Y:"u",D:0},21941:{q:"CbSubsamplingHorz",Y:"u",D:0},21942:{q:"CbSubsamplingVert",Y:"u",D:0},21943:{q:"ChromaSitingHorz",Y:"u",D:0},21944:{q:"ChromaSitingVert",Y:"u",D:0},21945:{q:"Range",Y:"u",D:0},21946:{q:"TransferCharacteristics",Y:"u",D:0},21947:{q:"Primaries",Y:"u",D:0},21948:{q:"MaxCLL",Y:"u",D:0},21949:{q:"MaxFALL",Y:"u",D:0},21968:{q:"mingMetadata",Y:"m",D:0},21969:{q:"PrimaryRChromaticityX",Y:"f",D:0},21970:{q:"PrimaryRChromaticityY",Y:"f",D:0},21971:{q:"PrimaryGChromaticityX",Y:"f",D:0},21972:{q:"PrimaryGChromaticityY",Y:"f",D:0},21973:{q:"PrimaryBChromaticityX",Y:"f",D:0},21974:{q:"PrimaryBChromaticityY",Y:"f",D:0},21975:{q:"WhitePointChromaticityX",Y:"f",D:0},21976:{q:"WhitePointChromaticityY",Y:"f",D:0},21977:{q:"LuminanceMax",Y:"f",D:0},21978:{q:"LuminanceMin",Y:"f",D:0},30320:{q:"Projection",Y:"m",D:0},30321:{q:"ProjectionType",Y:"u",D:0},30322:{q:"ProjectionPrivate",Y:"b",D:0},30323:{q:"ProjectionPoseYaw",Y:"f",D:0},30324:{q:"ProjectionPosePitch",Y:"f",D:0},30325:{q:"ProjectionPoseRoll",Y:"f",D:0},225:{q:"Audio",Y:"m",D:0},181:{q:"SamplingFrequency",Y:"f",D:0},30901:{q:"OutputSamplingFrequency",Y:"f",D:0},159:{q:"Channels",Y:"u",D:0},32123:{q:"ChannelPositions",Y:"b",D:0},25188:{q:"BitDepth",Y:"u",D:0},21233:{q:"Emphasis",Y:"u",D:0},226:{q:"TrackOperation",Y:"m",D:0},227:{q:"TrackCombinePlanes",Y:"m",D:0},228:{q:"TrackPlane",Y:"m",D:1},229:{q:"TrackPlaneUID",Y:"u",D:0},230:{q:"TrackPlaneType",Y:"u",D:0},233:{q:"TrackJoinBlocks",Y:"m",D:0},237:{q:"TrackJoinUID",Y:"u",D:1},192:{q:"TrickTrackUID",Y:"u",D:0},193:{q:"TrickTrackSegmentUID",Y:"b",D:0},198:{q:"TrickTrackFlag",Y:"u",D:0},199:{q:"TrickmTrackUID",Y:"u",D:0},196:{q:"TrickmTrackSegmentUID",Y:"b",D:0},28032:{q:"ContentEncodings",Y:"m",D:0},25152:{q:"ContentEncoding",Y:"m",D:1},20529:{q:"ContentEncodingOrder",Y:"u",D:0},20530:{q:"ContentEncodingScope",Y:"u",D:0},20531:{q:"ContentEncodingType",Y:"u",D:0},20532:{q:"ContentCompression",Y:"m",D:0},16980:{q:"ContentCompAlgo",Y:"u",D:0},16981:{q:"ContentCompSettings",Y:"b",D:0},20533:{q:"ContentEncryption",Y:"m",D:0},18401:{q:"ContentEncAlgo",Y:"u",D:0},18402:{q:"ContentEncKeyID",Y:"b",D:0},18407:{q:"ContentEncAESSettings",Y:"m",D:0},18408:{q:"AESSettingsCipherMode",Y:"u",D:0},18403:{q:"ContentSignature",Y:"b",D:0},18404:{q:"ContentSigKeyID",Y:"b",D:0},18405:{q:"ContentSigAlgo",Y:"u",D:0},18406:{q:"ContentSigHashAlgo",Y:"u",D:0},475249515:{q:"Cues",Y:"m",D:0},187:{q:"CuePoint",Y:"m",D:1},179:{q:"CueTime",Y:"u",D:0},183:{q:"CueTrackPositions",Y:"m",D:1},247:{q:"CueTrack",Y:"u",D:0},241:{q:"CueClusterPosition",Y:"u",D:0},240:{q:"CueRelativePosition",Y:"u",D:0},178:{q:"CueDuration",Y:"u",D:0},21368:{q:"CueBlockNumber",Y:"u",D:0},234:{q:"CueCodecState",Y:"u",D:0},219:{q:"CueReference",Y:"m",D:1},150:{q:"CueRefTime",Y:"u",D:0},151:{q:"CueRefCluster",Y:"u",D:0},21343:{q:"CueRefNumber",Y:"u",D:0},235:{q:"CueRefCodecState",Y:"u",D:0},423732329:{q:"Attachments",Y:"m",D:0},24999:{q:"AttachedFile",Y:"m",D:1},18046:{q:"FileDescription",Y:"8",D:0},18030:{q:"FileName",Y:"8",D:0},18016:{q:"FileMediaType",Y:"s",D:0},18012:{q:"FileData",Y:"b",D:0},18094:{q:"FileUID",Y:"u",D:0},18037:{q:"FileReferral",Y:"b",D:0},18017:{q:"FileUsedStartTime",Y:"u",D:0},18018:{q:"FileUsedEndTime",Y:"u",D:0},272869232:{q:"Chapters",Y:"m",D:0},17849:{q:"EditionEntry",Y:"m",D:1},17852:{q:"EditionUID",Y:"u",D:0},17853:{q:"EditionFlagHidden",Y:"u",D:0},17883:{q:"EditionFlagDefault",Y:"u",D:0},17885:{q:"EditionFlagOrdered",Y:"u",D:0},17696:{q:"EditionDisplay",Y:"m",D:1},17697:{q:"Editions",Y:"8",D:0},17892:{q:"EditionLanguageIETF",Y:"s",D:1},182:{q:"ChapterAtom",Y:"m",D:1},29636:{q:"ChapterUID",Y:"u",D:0},22100:{q:"ChaptersUID",Y:"8",D:0},145:{q:"ChapterTimeStart",Y:"u",D:0},146:{q:"ChapterTimeEnd",Y:"u",D:0},152:{q:"ChapterFlagHidden",Y:"u",D:0},17816:{q:"ChapterFlagEnabled",Y:"u",D:0},28263:{q:"ChapterSegmentUUID",Y:"b",D:0},17800:{q:"ChapterSkipType",Y:"u",D:0},28348:{q:"ChapterSegmentEditionUID",Y:"u",D:0},25539:{q:"ChapterPhysicalEquiv",Y:"u",D:0},143:{q:"ChapterTrack",Y:"m",D:0},137:{q:"ChapterTrackUID",Y:"u",D:1},128:{q:"ChapterDisplay",Y:"m",D:1},133:{q:"Chaps",Y:"8",D:0},17276:{q:"ChapLanguage",Y:"s",D:1},17277:{q:"ChapLanguageBCP47",Y:"s",D:1},17278:{q:"ChapCountry",Y:"s",D:1},26948:{q:"ChapProcess",Y:"m",D:1},26965:{q:"ChapProcessCodecID",Y:"u",D:0},17677:{q:"ChapProcessPrivate",Y:"b",D:0},26897:{q:"ChapProcessCommand",Y:"m",D:1},26914:{q:"ChapProcessTime",Y:"u",D:0},26931:{q:"ChapProcessData",Y:"b",D:0},307544935:{q:"Tags",Y:"m",D:1},29555:{q:"Tag",Y:"m",D:1},25536:{q:"Targets",Y:"m",D:0},26826:{q:"TargetTypeValue",Y:"u",D:0},25546:{q:"TargetType",Y:"s",D:0},25541:{q:"TagTrackUID",Y:"u",D:1},25545:{q:"TagEditionUID",Y:"u",D:1},25540:{q:"TagChapterUID",Y:"u",D:1},25542:{q:"TagAttachmentUID",Y:"u",D:1},26568:{q:"SimpleTag",Y:"m",D:1},17827:{q:"TagName",Y:"8",D:0},17530:{q:"TagLanguage",Y:"s",D:0},17531:{q:"TagLanguageBCP47",Y:"s",D:0},17540:{q:"TagDefault",Y:"u",D:0},17588:{q:"TagDefaultBogus",Y:"u",D:0},17543:{q:"Tags",Y:"8",D:0},17541:{q:"Tagb",Y:"b",D:0}};
function kS(M,X){kE.mX.call(this,M,X);this._S=kE.mX._S;this.i_=kE.mX.i_;this.Yo=kE.mX.Yo;this.LS=kE.mX.LS;
this.os=function(J){return J};this.We=0;this.data=null;this.start=0;this.ep=null;this.Pt=null;this.Xp=0;
this.rC=0}kS.prototype.ap9=async function(){this.$r=new VideoDecoder({output:aM=>this.Yo(aM),error:function(J){console.log(J.message)}});
var M={codec:this.ep};if(this.Pt){M.description=this.Pt}var X=await VideoDecoder.isConfigSupported(M);
if(X.supported==!0){this.$r.configure(M)}else{console.log("Codec not supported.",M)}};kS.prototype.ae0=async function(){if(!this.cues)return null;
var M=this.cues[this.cues.length-1],X=await c2.Oa(this.OQ,this.hh,this.data,this.start,M),J=X.timeStamp,q,W=[];
this.We=X.We;this.data=X.data;this.start=X.start;do{if(X.XE&&X.XE[0]==1){q=X;W.push(X.XE[1])}X=await c2.Kv(this.OQ,this.data,this.start,this.We);
if(X.timeStamp){J=X.timeStamp}this.We=X.We;this.data=X.data;this.start=X.start}while(X.We>0);if(!this.i6){W.sort((gj,iW)=>gj-iW);
this.i6=Math.round((W[W.length-1]-W[0])/(W.length-1));this.wZ=1e3/this.i6}this.frames=Math.floor((J+q.XE[1]+this.i6-this.Xp)/this.i6)};
kS.prototype.jA=async function(){this.hh=await c2.Ah(this.OQ);this.aJ2={};this.jF={};this.IC=c2.getTracks(this.hh,1);
var M=!0;if(this.IC.length>0){var X=this.IC[0],J=X.TrackNumber,q=X.CodecID;if(X.CodecPrivate)this.Pt=X.CodecPrivate;
var W=X.Video.PixelWidth,T=X.Video.PixelHeight,_=this.hh.Segment.Info.TimestampScale,m=X.DefaultDuration/_;
this.wZ=1e3/m;this.i6=m;var d=["V_VP8","V_VP9","V_MPEG4/ISO/AVC","V_MPEGH/ISO/HEVC"],A=["vp8","vp09.00.10.08","avc1.640034","hvc1"],p=d.indexOf(q);
if(p>=0)this.ep=A[p];if(this.ep=="hvc1"){if(this.Pt){this.ep=kE.a0C(this.Pt)}else{this.ep=null}}console.assert(this.ep!=null,"Codec "+q.toString()+" not supported.");
if(this.ep==null){M=!1}var a=this.hh.Segment.Cues.CuePoint;this.cues=[];for(var $=0;$<a.length;++$){for(var f=0;
f<a[$].CueTrackPositions.length;++f){if(a[$].CueTrackPositions[f].CueTrack==J){this.cues.push({wF:a[$].CueTime,hW:a[$].CueTrackPositions[f]})}}}if(this.cues[0].wF>0){this.Xp=this.cues[0].wF}await this.ae0();
this.u2=[];for(var $=0;$<this.cues.length;++$){this.u2.push(Math.round((this.cues[$].wF-this.Xp)/this.i6))}}this.Hs={};
if(M&&this.IC.length>0){this.Hs.tz={IC:1,l0:this.frames,wZ:this.wZ,width:W,height:T}}if(!this.ie){this.Y9=new OffscreenCanvas(this.Hs.tz.width,this.Hs.tz.height);
this.Il=this.Y9.getContext("2d",{aiC:!0});this.rf=10;this.rW=6}this.i2=!0};1,0,kS.prototype.Oa=async function(M){var X=await c2.Oa(this.OQ,this.hh,this.data,this.start,this.cues[M]);
this.We=X.We;this.data=X.data;this.start=X.start;this.a4e(X)};kS.prototype.Kv=async function(){var M;
do{M=await c2.Kv(this.OQ,this.data,this.start,this.We);this.We=M.We;this.data=M.data;this.start=M.start}while(M.We>0&&M.XE[0]!=1);
if(this.We>0){this.a4e(M)}};kS.prototype.a4e=function(M){var X=new EncodedVideoChunk({timestamp:M.XE[1],duration:this.i6,type:M.XE[2]==1?"key":"delta",data:M.XE[3]});
if(this.$r.state=="configured"){try{this.$r.decode(X)}catch(hP){console.log("CAUGHT unconfigured");console.log(hP);
console.log(X)}}else{console.log("unconfigured",this.We,M);delete M}delete M};kS.prototype.a1r=async function(M,X,J){var q=J*this.i6,W=this.u2.indexOf(X),T=0,_;
for(var $=X;$<J;++$){while(this.rC>0){await new Promise(resolve=>setTimeout(resolve,50))}this.rC=1;if($==X&&W>=0){await this.Oa(W)}else{await this.Kv()}this.rC=0}if(J==this.frames){await new Promise(resolve=>setTimeout(resolve,100));
while(this.We!=0){while(this.rC>0){await new Promise(resolve=>setTimeout(resolve,50))}this.rC=1;await this.Kv();
this.rC=0}await this.$r.flush()}};var iI=function(){var M,X,J,q,W,T;function _(){q+=1;return J[q-1]}function m(){q+=2;
return H.MZ(J,q-2)}function d(){q+=4;return H.Xv(J,q-4)}function A(Y){return 512+512*Y}function p(Y){return 64*Y}function a(Y,G){var Q=[];
while(Y!=-2){Q.push(Y);Y=G[Y]}return Q}function f(Y,G,Q){var Z=a(Y,Q==64?T:W);if(G==null)G=Z.length*Q;
var g=new Uint8Array(G),S=Q==64?X:M;for(var $=0;$<Z.length;$++){var U=Z[$],B=Q==64?p(U):A(U);g.set(new Uint8Array(S.buffer,B,Math.min(Q,G-$*Q)),$*Q)}return g}function s(Y,G,Q,Z){var g=J,S=q,D;
J=Y;q=G*128;var U=H.$_(J,q,32);q+=64;var B=m();U=U.slice(0,B-2>>>1);var e=_(),P=_(),h=d(),V=d(),I=d();
for(var $=0;$<20;$++)if(_()!=0)throw $;q+=8;q+=8;var F=d(),c=d();if(d()!=0)throw"e";if(e==1||e==5){if(e==5){X=f(F,null,512)}D={};
s(Y,I,D,Z+1)}else if(e==2){if(c<=4096)D=f(F,c,64);else D=f(F,c,512)}else throw e;if(h!=-1)s(Y,h,Q,Z+1);
if(V!=-1)s(Y,V,Q,Z+1);Q[U]=D;J=g;q=S}function j(Y){J=M=new Uint8Array(Y);q=0;var G=[208,207,17,224,161,177,26,225];
for(var $=0;$<8;$++)if(_()!=G[$])throw"e";for(var $=0;$<16;$++)if(_()!=0)throw"e";var Q=m(),Z=m(),g=m();
if(g!=-2)throw"big endian";var S=m();if(S!=9)throw"not 512";var U=m();if(U!=6)throw"not  64";for(var $=0;
$<10;$++)if(_()!=0)throw"e";var B=d(),e=d();if(d()!=0)throw"e";var P=d();if(P!=4096)throw"e";var h=d(),V=d(),I=d(),F=d(),c=[];
for(var $=0;$<109;$++){var D=d();if(D==-1)break;c.push(D)}while(I>=0){q=A(I);for(var $=0;$<127;$++){var D=d();
if(D==-1)break;c.push(D)}I=d()}if(c.length!=B)throw"e";W=[];for(var $=0;$<B;$++){q=A(c[$]);for(var n=0;
n<128;n++){var D=d();W.push(D)}}T=[];while(h!=-2){q=A(h);for(var n=0;n<128;n++){var D=d();T.push(D)}h=W[h]}var k=f(e,null,512),b={};
s(k,0,b,0);return b["Root Entry"]}return{parse:j}}(),o={};o.pv=function(M){return window.devicePixelRatio||1};
o.lV=function(M,X){return(X.ae_=="touch"?12:8)*o.pv()/M.k.r7};o.mB=function(){var M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfAgMAAABiwP6qAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAlQTFRFAAAAAAAA////g93P0gAAAAN0Uk5TAP//RFDWIQAAACxJREFUeJxjYGBgYHVggAA2ujNCQ0PDgDiEIWvVqpWrVq1aghAZEPcwQEMDAMwiEgB+z9L1AAAAAElFTkSuQmCC",X=o.pv(),J=15.5/X;
return"image-set(url('"+M+"') "+X+"x) "+J+" "+J+",auto"};o.bv=function(M,X,J){this.name=M;this.id=X;
this.$y=null;if(J!=null)this.sZ=J};o.bv.prototype.dx=function(M,X,J,q,W){};o.bv.prototype.enable=function(M,X,J,q,W,T){var _=new jb(r.E.C,!0);
_.data={h:r.m.Hf,Ny:"default"};X.a(_)};o.bv.prototype.disable=function(M,X,J,q,W){};o.bv.prototype.amN=function(M,X,J,q,W){return!1};
o.bv.prototype.H_=function(M,X,J,q,W){};o.bv.prototype.ST=function(M,X,J,q,W){};o.bv.prototype.T_=function(M,X,J,q,W){};
o.bv.prototype.fw=function(M,X,J,q,W,T){};o.bv.prototype.aa=function(M,X,J,q,W){};o.bv.prototype.KH=function(M,X,J,q){};
o.bv.prototype.qc=function(M,X,J,q){};o.bv.prototype.AS=function(M,X){};o.bv.prototype.df=function(M,X){};
o.bv.prototype.iK=function(M){return 0};o.bv.prototype.Nn=function(M,X,J,q,W){};o.bv.prototype.SY=function(M,X){};
o.bv.prototype.Ei=function(M,X){return!1};o.bv.prototype.vI=function(M,X){return!1};o.bv.prototype.mG=function(){return!1};
o.bv.prototype.J$=function(M,X){return!0};o.bv.prototype.D5=function(){return null};o.bv.prototype.Ug=function(M,X,J){};
o.bv.prototype.a8$=function(){return!1};o.bv.prototype.BW=function(M,X,J,q){};o.bv.prototype.track=function(M){var X=new jb(r.E.pL,!0);
X.data=M;M.BU=!0;this.$y.a(X)};o.bv.wX=function(M,X,J,q){var W=10*o.pv()*(M.ae_=="touch"?2:1),T=M.x+W,_=M.y-W,m=t.gk.KG(X.r,J.Qv,q,J.r,!0),d=t.gk.KG(X.$,J.Qv,q,J.$,!0);
while(m.length<d.length)m=" "+m;while(m.length>d.length)d=" "+d;o.bv.z6(T,_,[kd.get([12,41]).charAt(0)+": "+m,kd.get([12,42]).charAt(0)+": "+d],J)};
o.bv.z6=function(M,X,J,q){function W(A,Y,G,Q,Z,g){A.beginPath();A.moveTo(Y,G+g);A.arcTo(Y,G+Z,Y+g,G+Z,g);
A.arcTo(Y+Q,G+Z,Y+Q,G+Z-g,g);A.arcTo(Y+Q,G,Y+Q-g,G,g);A.arcTo(Y,G,Y,G+g,g)}var T=o.pv(),_=Math.round,m=_(11*T),d=o.bv.aiH,p=0;
if(d==null)d=o.bv.aiH=document.createElement("canvas");var A=d.getContext("2d");A.font=m+"px monospace";
for(var $=0;$<J.length;$++)p=Math.max(p,A.measureText(J[$]).width);var a=_(p+12*T),f=_((J.length*14+5)*T),s=new gc(M,X-f,a,f);
if(d.width!=a||d.height!=f){d.width=a;d.height=f;A.font=m+"px monospace"}A.clearRect(0,0,a,f);A.fillStyle="rgba(0,0,3,0.8)";
W(A,0,0,a,f,_(4*T));A.fill();A.fillStyle="rgba(255,255,255,1)";for(var $=0;$<J.length;$++)A.fillText(J[$],_(6*T),_(($+1)*13*T));
var j=[A.getImageData(0,0,a,f).data,s.Q()];if(q)q.aS.Lh=[j];return j};o.bv.aiH=null;o.bv.aHs=function(M,X,J,q){if(X)this.$y=X;
var W=this.alc;if(M)W=[M.r,M.$,M.Qv];if(J&&W)W[3]=J.QQ.EI;this.alc=W;var T=new jb(r.E.C,!0);T.data={h:r.m.ZQ,J:this.id,eg:W};
if(this.$y)this.$y.a(T)};o.bv.Dk=function(M){M.prototype.qc=o.bv.aHs;M.prototype.SY=function(X,J){if(J==bN.VB||J==bN.Ru)this.qc(null,null,X,null)}};
o.oa="0";o.FN="1";o.ajX="2";o.aot="3";o.UX="5";o.alp="6";o.aaP="7";o.OE="8";o.R7="9";o.BP="10";o.$k="11";
o.ZT="12";o.FX="13";o.iM="14";o.arz="15";o.hA="16";o.Gx="18";o.It="19";o.al7="90";o.jv="20";o.Wd="21";
o.Bp="22";o.Vk="23";o.yF="24";o.z7="25";o.lW="27";o.g$="31";o.nS="32";o.ayu="33";o.zz="34";o.aF0="35";
o.M0="36";o.jP="37";o.g9="38";o.k0="39";o.y6="40";o.IP="41";o.nH="42";o.c3="43";o.aFa="44";o.alV="45";
o.aFF="46";o.aFT="72";o.JT="47";o.Aj="48";o.gf="51";o.CF="52";o.Av="54";o.k2="55";o.Mv="56";o.lx="57";
o.zd="58";o.Cm="59";o.GA="60";o.QC="61";o.Kr="70";o.Bu="71";o.a8_="73";o.zS="100";o.eB="101";o.Sd="102";
o.yM="103";o.Ky="120";o.GV="121";o.GR="230";o.adi="231";o.xH="232";o.HX="233";o.vt="234";o.ij="235";
o.sc="236";o.LJ={};o.LJ[o.Vk]="tools/brush";o.LJ[o.yF]="tools/pencil";o.LJ[o.g$]="tools/eraser";o.Cr={PcTl:o.yF,PbTl:o.Vk,moveTool:o.oa,cloneStampTool:o.lW,typeCreateOrEditTool:o.JT,artboardTool:o.Kr,marqueeRectTool:o.FN,typeVerticalCreateOrEditTool:o.Aj,perspectiveCropTool:o.$k,marqueeEllipTool:o.ajX,eyedropperTool:o.iM,eraserTool:o.g$,pathComponentSelectTool:o.gf,lassoTool:o.UX,backgroundEraserTool:o.nS,directSelectTool:o.CF,polySelTool:o.alp,rectangleTool:o.Av,magneticLassoTool:o.aaP,gradientTool:o.zz,quickSelectTool:o.OE,bucketTool:o.aF0,ellipseTool:o.k2,magicWandTool:o.R7,blurTool:o.M0,polygonTool:o.Mv,cropTool:o.BP,sharpenTool:o.jP,lineTool:o.lx,sliceTool:o.ZT,smudgeTool:o.g9,customShapeTool:o.zd,sliceSelectTool:o.FX,dodgeTool:o.k0,spotHealingBrushTool:o.Gx,burnInTool:o.y6,saturationTool:o.IP,penTool:o.nH,redEyeTool:o.Bp,freeformPenTool:o.c3,rulerTool:o.hA,paintbrushTool:o.Vk,handTool:o.Cm,pencilTool:o.yF,zoomTool:o.QC,objectSelectTool:o.aot,healingBrushTool:o.It,patchTool:o.jv,contentAwareMoveTool:o.Wd,colorReplacementBrushTool:o.z7,curvaturePenTool:o.aFa,rotareViewTool:o.GA};
o.X_=function(M,X,J){o.bv.call(this,M,X,J);this.Ye={brush:M?kW.e$():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.f=null;this.Pe=null;this.WS=null;this.Er=null;this.IR=null;this.lJ=null;this.Zv=null;this.xd=null;
this.yD=null;this.gv=null;this.DA=null;this.JW=null;this.E_=null;this.Dw=1;this.lq=!1;this.yQ=null;this.NM;
this.caller=null};o.X_.prototype=new o.bv;o.X_.prototype.vI=function(M,X){return M.kJ&&X.M(hP.HG)};o.X_.prototype.ST=function(M,X,J,q,W){if(q.M(hP.Ke)){this.lJ=new es(W.x,W.y);
var T=this.Ye.brush.Brsh.v,_=T.Dmtr.v.val,m=T.Hrdn!=null?T.Hrdn.v.val:-1;this.Zv=[_,m,!0,t.b(this.Ye.brush),W];
this.WQ(J)}};o.X_.prototype.aM=function(M,X,J){var q=this.Zv,W=M.k.r7,T=J.x-q[4].x,_=J.y-q[4].y,m=q[0],d=q[1],A=Math.abs(T)>Math.abs(_);
if(A&&q[2]){var p=Math.round(2*T/W);m+=p;J.x-=T-.5*p*W}if(!A&&!q[2]&&d!=-1){var p=Math.round(.25*_);
d+=p;J.y-=_-4*p}m=Math.max(1,m);d=q[1]==-1?-1:Math.max(0,Math.min(100,d));var a=q[3];a.Brsh.v.Dmtr.v.val=m;
if(d!=-1)a.Brsh.v.Hrdn.v.val=d;this.Zv=[m,d,A,a,J];var f=eY.iF(a,X.uh.Kj,W),s=f[1];s.x=Math.round(this.lJ.x-s.r/2);
s.y=Math.round(this.lJ.y-s.$/2);M.aS.lw=[f];var j=M.k.Ob(this.lJ.x,this.lJ.y);M.aS.TA={Ft:[],tL:[j.x-m/2,j.y,j.x+m/2,j.y]};
if(d!=-1)M.aS.TA.tL.push(j.x+50/W,j.y-d/2,j.x+50/W,j.y+d/2);M.fy=!0};o.X_.prototype.aa=function(M,X,J,q,W){if(this.id==o.jv||this.id==o.Wd)return;
if(this.lJ){this.lJ=null;this.Md(t.b(this.Zv[3]));M.aS.lw=[];M.aS.TA=null;M.fy=!0;return}var T=new jb(r.E.C,!0);
T.data={h:r.m.ZQ,J:this.id,at0:"showBrushOpts",_H:new es(W.VY+4,W.VV)};X.a(T)};o.X_.prototype.Md=function(M){var X=new jb(r.E.C,!0);
X.data={h:r.m.OA,iw:bN.s3,Ro:M};this.caller.a(X)};o.X_.Zc=function(M,X,J,q,W,T){if(M==null)M="FrgC";
if(X==null)X="norm";if(J==null)J=1;if(W==null)W=!1;var _={classID:"Fl",Usng:{t:"enum",v:{FlCn:M}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(J*100)}},PrsT:{t:"bool",v:W},Md:{t:"enum",v:{BlnM:ae.fF(X)}}};
if(M=="Clr")_.Clr={t:"Objc",v:q};if(M=="contentAware")_.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(M=="Ptrn")_.Ptrn={t:"Objc",v:T};return{hC:"fill",Qd:_}};o.X_.prototype.dx=function(M,X,J,q,W){this.$y=X;
var T=J.LV.length,_=T!=0?-1-J.LV[0]:J.O[0],m=J.U[_],d=m&&m.add.SoLd&&m.add.SoLd.generativeDocInfo,A=M.h=="fromAction"&&M.xo&&M.xo.Qd&&JSON.stringify(M.xo.Qd).indexOf("aiHeal")!=1;
if(T==0&&!A&&!J.KE(X))return;if(M.h=="fromAction"){var p=M.xo,a=p.Qd;if(a&&a.null&&a.null.v[0]&&a.null.v[0].v.classID=="Path"){var f=J.ZX(),s=f[0],j=f[1],Y=s[j.length==0?0:j[0]].add.vmsk;
if(p.hC=="fill"){var G=Y.hM(),Q=W.pU,Z=this.Ye,g=Q>>16&255,S=Q>>8&255,U=Q>>0&255;this.rB(J,m,G,g,S,U,Math.round(Z.opacity*255),Z.bmode,"Fill Path")}else{var B=a&&a.Prs&&a.Prs.v,e=JSON.stringify(this.Ye.brush);
if(B)kW.aeH(this.Ye.brush,[!1,!0]);var P=Date.now();for(var h=0;h<1e3;h++){var V=t.I.kj(Y.X,h,!0);if(V==-1){this.fw(J,X,W,q,null);
break}var I=Y.X[V],F=Y.X.slice(V,V+1+I.length),c=t.G.BM(F,2).d,D=c.slice(0,8);for(var n=8;n<c.length;
n+=6)D.push(c[n-2],c[n-1],c[n],c[n+1],c[n+2],c[n+3],c[n+4],c[n+5]);var k={};k.Points=D;k.TextOnPathTRange=Y.mO.slice(0);
var k=dV.Cd(k,2,I.e==3),b=k[0],N=J.k.fT(b[0],b[1]);if(B)N.GX=0;if(h==0)this.H_(J,X,W,q,N);else this.Pe.moveTo(b[0],b[1],B?0:null);
var L=b.length,R=I.e==0?L+2:L;for(var $=2;$<R;$+=2){N=J.k.fT(b[$%L],b[($+1)%L]);N.kJ=!0;if(B){var i=$/R;
N.GX=2*Math.min(i,1-i)}this.T_(J,X,W,q,N,this.Ye.flow)}this.Pe.finish();this.Vj(J)}console.log(Date.now()-P);
if(B)this.Ye.brush=JSON.parse(e)}}else if(p.hC=="fill"){var v=a.PrsT?a.PrsT.v:!1,E=m?m.add.lspf:0;if(v&&m){m.add.lspf=E==null?1:E|1}var u=(a.Opct?a.Opct.v.val:100)/100,C=a.Md?ae.Wz(a.Md.v.BlnM):"norm";
u=Math.round(255*u);var l=a.Usng.v.FlCn;if(l=="contentAware"||l=="aiHeal"){if(J.c==null&&!d){alert("Select an area to heal first.");
return}var x=J.c;if(l=="aiHeal"&&!bc.BR(J))return;if(l=="contentAware"){this.CX(J);this.Ov(J,0);var y=t.j(x.S.o()*4);
t.ix(x.N,y,3);this.xz(J,"sheal",y,x.S,x.S);this.vV(J,x.S);this.finish(J,x.S)}else{this.iH=J;this.f=W;
var ge=bc.gb(W,3),O=function(){this.NM=a.prmt.v;bc.aCp(this.NM,ge,J,this.a7S.bind(this),a.iw);var hx=new jb(r.E.C,!0);
hx.data={h:r.m.cg,Ca:"Processing ..."};X.a(hx);this.caller=X}.bind(this);if(ge||bc.Ka(3))O();else bc.mL(O)}}else if(l=="Ptrn"){var kz=W.i3,z=J.c?J.c.S.Q():new gc(0,0,J.r,J.$),eZ=t.j(z.o()*4);
hA.l7(a,eZ,z,kz,new es(0,0));for(var $=0;$<eZ.length;$+=4)eZ[$+3]=u;this.bZ(J,m,J.c,eZ,C,[6,48,0,2])}else{var Q;
if(l=="FrgC")Q=W.pU;else if(l=="BckC")Q=W.Yt;else if(l=="Blck")Q=0;else if(l=="Wht")Q=16777215;else if(l=="Gry")Q=8421504;
else if(l=="Clr"){var kM=t.NX.NH(a.Clr.v);Q=kM.z<<16|kM.L<<8|kM.g}var g=Q>>16&255,S=Q>>8&255,U=Q>>0&255;
this.rB(J,m,J.c,g,S,U,u,C,[2,3])}if(v&&m){m.add.lspf=E==null?0:E}}else if(p.hC=="delete"){var jV=_<0?1:m.tD,x=J.c,ea;
if(x==null)return;var cL=_<0?J.OD[-_-1]:jV<=0?null:jV==1?m.hM():m.uV(J).JS,z=jV<=0?m.S:cL.S,aw=jV<=0?x.S.Lg(z):x.S.Q();
if(aw.M5())return;var h2=aw.o();if(jV<=0){ea=t.j(h2*4,J.depth);t.fA(m.buffer,m.S,ea,aw)}else{ea=t.j(h2,J.depth);
cL.extend(aw);t.Rc(cL.N,cL.S,ea,aw)}if(0<=_&&m.cu(J,x)){if(jV<=0){ea.fill(0);t.fA(m.Yb.ny,m.Yb.N2,ea,aw)}else{ea.fill(255);
t.Rc(m.Yb.ny,m.Yb.N2,ea,aw)}}else{if(jV<=0){var ht=t.j(ea.length>>2,J.depth);t.SF(ea,ht,3);t.v.Qe(t.j(x.S.o(),J.depth),x.S,ht,aw,x.N,aw,1);
t.ix(ht,ea,3)}else{var jn=t.j(x.S.o(),J.depth),g=W.Yt>>>16&255,S=W.Yt>>8&255,U=W.Yt>>0&255;jn.fill(Math.round(t.ig(g,S,U)));
t.v.Qe(jn,x.S,ea,aw,x.N,aw,1)}}this.pa(J,!0,[2,2],_,jV,aw,ea)}}if(M.h=="stroke"){var gE=M.a9s,x=J.c;
if(x==null){x={S:m.S.Q(),N:t.j(m.S.o())};t.SF(m.buffer,x.N,3)}var bS=hA.fI(gE),bi=o.Gp.aAE(x,Math.ceil(bS[0]),Math.ceil(bS[1])),Q=t.NX.NH(gE.Clr.v),g=Math.round(Q.z),S=Math.round(Q.L),U=Math.round(Q.g);
this.rB(J,m,bi,g,S,U,Math.round(255*gE.Opct.v.val/100),ae.Wz(gE.Md.v.BlnM),[14,9])}if(M.h=="fillBMP"){this.bZ(J,m,J.c,M.w$,M.VC,M.AC)}if(M.h=="draw"){var cj=M.$D,bb=cj.S;
this.CX(J);var c0=J.U[J.O[0]];if(M.aE5&&c0&&c0.tD<=0&&J.LV.length==0){bb=o.Cv.aoG(cj,J);c0.buffer=cj.buffer.slice(0);
c0.S=bb.Q()}else{var cV=this.Ye.bmode,g_=this.Ye.opacity;this.Ye.bmode="norm";this.Ye.opacity=1;this.xz(J,"draw",cj.buffer,bb,bb.Lg(new gc(0,0,J.r,J.$)));
this.Ye.bmode=cV;this.Ye.opacity=g_}this.vV(J,bb);J.bM=!0;this.finish(J,bb,M.AC,M.aE5)}};o.X_.prototype.a7S=function(M){var X=M.target.response,J=new Uint8Array(X);
if(this.a46){this.a46=!1;X=h1._m(H.Og(J))}else if(J[0]==123){var q=JSON.parse(H.Og(J)),$=0;console.log(q);
if(q.status=="error"){alert(q.message.prompt[0]);return}var W=q.image_links;if(W==null)W=q.output;var T=W[0],_=new XMLHttpRequest;
_.responseType="arraybuffer";while(!0){var m=new XMLHttpRequest;m.open("HEAD",T,!1);m.send();if(m.status!=404)break;
console.log("not ready");$++}_.open("GET",T,!0);_.onload=this.a7S.bind(this);this.a46=!0;_.send();return}var d=h1.wG.ss(X)[0],A=new Uint8Array(d.data),p=this.iH,a=bc.sW(p)[0],f=bc.sW(p)[1];
this.iH=null;var s=a.r/d.kq.r;if(s>1.1){var j=o.fx.gj([A,d.kq],new kp(s,0,0,s,0,0));A=j.buffer}var Y=p.U[p.O[0]],G=Y.add.SoLd&&p.c==null,Q=G?Y.hM():p.c,Z=t.j(a.o()*4);
t.fA(p.m7(),new gc(0,0,p.r,p.$),Z,a);var g=t.j(a.o());t.Rc(Q.N,Q.S,g,a);t.round(g);var S=new Uint32Array(Z.buffer),U=new Uint32Array(A.buffer);
for(var $=0;$<S.length;$++)if(g[$]==0)U[$]=S[$];t.T6.MN(A,g,a,null,500*(1+f));var B=new jb(r.E.C,!0);
B.data={h:r.m.eC,Ca:"Processing ..."};this.caller.a(B);if(G){var B=new jb(r.E.H,!0);B.J=o.HX;B.data={h:K.tk,K:[A,a],aHW:this.NM};
this.caller.a(B)}else{var e=new dD(this.NM),X=Q.S;e.r=X.r;e.$=X.$;e.Qv=p.Qv;e.U.push(e.mm());var Y=e.C0();
Y.S=X.Q();e.U.push(Y);Y.EC(this.NM);Y.buffer=t.j(Y.S.o()*4);t.fA(A,a,Y.buffer,Y.S);Y.S.x=Y.S.y=0;Y=e.C0();
Y.EC("Variations");Y.add.lsct=gO.A$;Y.Sw="pass";Y.l4=24;e.U.push(Y);e.vV();var B=new jb(r.E.H,!0);B.data={h:K.$i,AR:e};
B.J=o.HX;this.caller.a(B);Y=p.U[p.O[0]];var P=Y.add.SoLd;P.generativeDocInfo={t:"Objc",v:{classID:"generativeDocInfo",Vrsn:{t:"long",v:1},workflow:{t:"long",v:0}}};
o.UA.XC(p,p.O,null,[X.x-Y.S.x,X.y-Y.S.y]);Y.JS=new K.$O;Y.JS.color=0;Y.JS.S=p.c.S.Q();Y.JS.N=p.c.N.slice(0);
p.vV();B=new jb(r.E.pL,!0);B.data=o.Gp.VT();this.caller.a(B);B=new jb(r.E.C);B.data={h:r.m.Nt,bf:gF.UE.BJ};
this.caller.a(B)}if(bc.gb(this.f,3)==null)bc.al("Inpaint",3)};o.X_.prototype.rB=function(M,X,J,q,W,T,_,m,d){var A=J==null?new gc(0,0,M.r,M.$):J.S,p=t.j(A.o()*4,M.depth);
if(M.depth==8)t.Tb(p,_<<24|T<<16|W<<8|q<<0);else{var a=t.P0(M.depth)/255;for(var $=0;$<p.length;$+=4){p[$]=q*a;
p[$+1]=W*a;p[$+2]=T*a;p[$+3]=_*a}}this.bZ(M,X,J,p,m,d)};o.X_.prototype.bZ=function(M,X,J,q,W,T){var _=M.LV.length!=0?-1-M.LV[0]:M.O[0],m=_<0?1:X.tD,d=_<0?M.OD[-1-_]:m<=0?null:m==1?X.hM():X.uV(M).JS,A=m<=0?X.S:d.S,p=J==null?new gc(0,0,M.r,M.$):J.S,a;
if(J)a=J.N;else{a=t.j(M.r*M.$,M.depth);a.fill(t.P0(M.depth))}if(J!=null)t.S6(a,q);var f=p.o(),s=t.j(f*4,M.depth);
if(m<=0)t.fA(X.buffer,X.S,s,p);else{d.extend(p);s.fill(255);t.Qh(d.SJ(p),s)}if(0<=_&&J&&X.cu(M,J)&&m<=0){var j=X.Yb.dC,Y=X.Yb.dC.slice(0);
if(m<=0)t.fc(q,Y);else t.fc(fullc,Y);var G=new hY([2,3],this);G.data={h:"drawtemp",w:M.O[0],eR:m,azB:j,ad3:Y};
M.Vr(G);this.AS(G.data,M)}else{if(m<=0){var Q;if(X.Uc(0)){Q=t.j(p.o());t.SF(s,Q,3)}t.v.r$(W,q,p,s,p,p,1);
if(X.Uc(0))t.ix(Q,s,3)}else{t.v.r$(W,q,p,s,p,p,1);var Z=t.j(f);t.i5(s,Z);s=Z}this.pa(M,!0,T,_,m,p,s)}};
o.X_.prototype.Ei=function(M){if(hP.JP.indexOf(M)!=-1)return!0;return!1};o.X_.prototype.KH=function(M,X,J,q){var W=this.Ye.brush,T=q.M(hP.Ke),_=T!=this.lq,m=o.X_.B2(W,q);
if(m!=null)this.Md(m);if(!q.M(hP.WM)&&q.p2()!=-1&&this.id!=o.z7){var d=hP.abl(Math.round(this.Ye.opacity*100),q.p2())/100;
this.KO({opacity:d},X)}if(this.id==o.OE&&_&&M!=null){var A=this.Ye.qsmode;if(A==2)A=M.c==null?0:1;else A=2;
this.KO({qsmode:A},X)}this.lq=T;if(_){if(M)this.Dw=M.k.r7;this.WQ(J,q)}};o.X_.B2=function(M,X){var J=M.Brsh.v.Dmtr.v.val,q=M.Brsh.v.Hrdn!=null?M.Brsh.v.Hrdn.v.val:-1,W=M.Brsh.v.Angl.v.val,T=J,_=q,m=W,d=X.M(hP.HG);
if(X.M(hP.w0)){if(d)q=25*Math.floor((q-1)/25);else{if(J<=10)J--;else if(J<=50)J=5*Math.floor((J-1)/5);
else if(J<=100)J=10*Math.floor((J-1)/10);else if(J<=200)J=25*Math.floor((J-1)/25);else if(J<=400)J=50*Math.floor((J-1)/50);
else J=100*Math.floor((J-1)/100)}}if(X.M(hP.uw)){if(d)q=25*Math.ceil((q+1)/25);else{if(J<10)J++;else if(J<50)J=5*Math.ceil((J+1)/5);
else if(J<100)J=10*Math.ceil((J+1)/10);else if(J<200)J=25*Math.ceil((J+1)/25);else if(J<400)J=50*Math.ceil((J+1)/50);
else J=100*Math.ceil((J+1)/100)}}var A=X.M(hP.Qo),p=X.M(hP.sg);if(d&&(A||p)){W=(W+360+15*(A?1:-1))%360}J=Math.max(1,J);
q=Math.max(0,Math.min(100,q));if(_==-1)q=-1;if(J!=T||q!=_||W!=m){var a=t.b(M);a.Brsh.v.Dmtr.v.val=J;
a.Brsh.v.Angl.v.val=W;if(_!=-1)a.Brsh.v.Hrdn.v.val=q;return a}return null};o.X_.prototype.WQ=function(M,X,J,q){if(M.uh.list.length==0)return;
var W=this.id,T;if((W==o.lW||W==o.It||W==o.Vk||W==o.yF)&&(X!=null&&X.M(hP.Ke)||this.Ye.alt[0]))T="crosshair";
else{var _=this.Dw,m=this.Ye.brush;if((W==o.lW||W==o.It)&&J&&this.JW&&this.JW.length==this.DA.o()*4){var d=J.k.Ob(q.x,q.y),A=this.aFE(d),p=this.JW,a=this.DA,f=new gc(a.x+A.x,a.y+A.y,a.r,a.$),s=eY.iF(m,M.uh.Kj,_),j=s[0],Y=s[1],G=Math.ceil(Y.r/_),Q=new gc(Math.round(d.x-G/2),Math.round(d.y-G/2),G,G),Z=t.j(Q.o()*4),g,S;
if(J.depth==8)t.fA(p,f,Z,Q);else{var U=t.j(Q.o()*4,J.depth);t.fA(p,f,U,Q);Z=t.cY(U,8)}if(_==1){g=Z;S=Q}else{var B=new kp(_,0,0,_,0,0),e=o.fx.gj([Z,Q],B,!0);
S=Y.Q();S.x=e.S.x;S.y=e.S.y;if(S.w6(e.S))g=e.buffer;else{g=t.j(S.o()*4);t.fA(e.buffer,e.S,g,S)}}var P=this.Ye.opacity/255;
for(var $=0;$<g.length;$+=4)g[$+3]=P*(j[$+3]*g[$+3]);eY.alq(new Uint32Array(g.buffer),S,4278190080,4294967295);
T={J_:g,Os:S,UO:new es(S.r/2,S.$/2)}}else T=eY.ll(m,M.uh.Kj,_,W==o.z7||W==o.nS)}var h=new jb(r.E.C,!0);
h.data={h:r.m.Hf,Ny:T};if(this.caller)this.caller.a(h)};o.X_.prototype.enable=function(M,X,J,q){this.f=J;
this.caller=X;this.Md(t.b(this.Ye.brush));if(M&&M.k.r7!=0)this.Dw=M.k.r7;this.WQ(J,q)};o.X_.prototype.SY=function(M,X){if(X==bN.s3){this.Ye.brush=M.uh.gl;
this.WQ(M)}};o.X_.prototype.Nn=function(M,X,J,q,W){for(var T in M)this.Ye[T]=M[T];if(this.Ye.alt[0])this.WQ(W,q,J)};
o.X_.prototype.ae4=function(M){var X=M.LV.length!=0?-1-M.LV[0]:M.O[0],J=M.U[X],q=X<0?1:J.tD,W=X<0?M.OD[-X-1]:q<=0?null:q==1?J.hM():J.uV(M).JS,T=W?W.N:J.buffer,_=(W?W.S:J.S).Q();
return[J,q,W,T,_]};o.X_.prototype.CX=function(M,X){this.E_=M.c==null?null:{S:M.c.S.Q(),N:M.c.N.slice(0)};
var J=this.gv,q=this.ae4(M),W=q[0],T=q[1],_=q[2];this.gv=q[3];this.yD=q[4];var m=new gc(0,0,M.r,M.$),d=m.m0(this.yD);
if((this.Mn()&&T<=0||d.w6(this.yD))&&X!=!0){if(J&&J.length==this.gv.length){J.set(this.gv);this.gv=J}else this.gv=this.gv.slice(0)}else{if(_)_.extend(d);
else W.extend(d)}};o.X_.prototype.Ov=function(M,X){var J=this.ae4(M),q=J[1],W=J[3],T=J[4],_=[W,T],m=X!=null?X:this.Ye.sfrom;
if(q<=0&&m!=0){_[1]=new gc(0,0,M.r,M.$);_[0]=M.m7(m==1&&M.O[0]!=M.U.length-1?M.O[0]:null).slice(0)}this.DA=_[1].Q();
this.JW=_[0].slice(0)};o.X_.prototype.AH=function(M,X,J,q,W,T){if(W.kJ&&q.M(hP.Ke)&&this.lJ==null){if(T)this.zo=J.pU;
var _=new jb(r.E.H,!0);_.J=o.iM;_.data={h:"pickhere",aht:W};X.a(_);var m=o.SK.a2j(M,!1,!0,W,null,J.pU,this.zo,1),_=new jb(r.E.C,!0);
_.data={h:r.m.Hf,Ny:m};X.a(_);return!0}return!1};o.X_.prototype.it=function(M,X,J,q,W,T){if(this.id!=o.OE&&!M.KE(this.caller)){this.Pe=null;
return}if(this.id!=o.OE&&this.Pe)return;this.CX(M);var _=new gc(0,0,M.r,M.$),m=null;if(T!=null){var d=M.LV.length!=0?-1-M.LV[0]:M.O[0],A=M.U[d],p=d<0?M.OD[-d-1]:A.tD<=0?null:A.tD==1?A.hM():A.uV(M).JS;
m=t.j(_.o()*4,M.depth);if(p)o.X_.nK(this.gv,this.yD,p.color,m,_);else t.fA(this.gv,this.yD,m,_)}var a=this.Ye;
if(this.Pe&&this.id==o.OE&&a.qsmode!=0&&M.c!=null){}else{var f=X.pU,s=X.Yt,G=null;if(this.yQ=="erase"){var j=f;
f=s;s=j}var Y=this.id==o.OE?this.yD:_;if(M.RM)G=[3];else if(M.n4!=-1){var Q=M.Qt[M.n4];G=[Q.D_[0],Q.D_[1],Q.add.vmsk.X]}this.Pe=new eY(a.brush,X.uh.Kj,X.uh.a5,{hi:W,f3:T,aF_:a.smth*50/M.k.r7,XT:this.id==o.yF||a.emode==1,D_:G,depth:M.depth},f,s,Y,m)}if(this.id==o.OE){this.Pe.a5r(a.brush,a.qsmode==2?0:16777215)}var Z=M.k.Ob(q.x,q.y);
if(J.M(hP.HG)&&this.WS){var g=this.WS;this.Pe.moveTo(g.x,g.y,q.GX);this.Pe.lineTo(.001*g.x+.999*Z.x,.001*g.y+.999*Z.y,q.GX);
this.Pe.lineTo(Z.x,Z.y,q.GX)}else this.Pe.moveTo(Z.x,Z.y,q.GX);this.WS=Z;this.Er=Z.Q();this.IR=new aT(Z,M.k.Ow)};
o.X_.prototype.iZ=function(M,X,J){if(M&&M.k.r7!=0&&M.k.r7!=this.Dw){this.Dw=M.k.r7;this.WQ(J)}};o.X_.prototype.RF=function(M,X,J,q){if(this.Pe==null)return;
var W=M.U[M.O[0]],T=M.k.Ob(q.x,q.y),_=this.IR.B6(T,J);if(_.w6(this.WS))return 1;this.Pe.lineTo(_.x,_.y,q.GX);
this.WS=_;if(this.id==o.lW||this.id==o.It){var m=this.sx(),d=11;m=M.k.fT(T.x-m.x,T.y-m.y);var A=d>>>1,p=new gc(Math.round(m.x)-A,Math.round(m.y)-A,d,d),a=t.j(p.o()*4);
for(var $=0;$<d;$++)a[($*d+A)*4+3]=a[(d*A+$)*4+3]=255;M.aS.Lh=[[a,p]];M.fy=!0}};o.X_.prototype.qc=function(M,X,J,q){if(J.Rk!=this.id)return;
if(this.id!=o.OE||M==null)return;if(M.c==null||M.O[0]!=this.ae8){this.ae8=M.O[0];this.KO({qsmode:0},X)}};
o.X_.prototype.vV=function(M,X){if(M.LV.length!=0){M.fy=!0;return}var J=M.U[M.O[0]];if(X==null){X=this.Pe.t5();
if(this.Mn()&&J.tD<=0)X=X.Lg(this.yD)}var q=J.tD;if(q==1||q==3){var W=Math.round((q==1?J.hM():J.uV(M).JS).VU*2.4);
X=X.Q();X.$K(W,W)}if(X.M5())return;if(q<=0){J.vV(X)}if(q==1){J.hM().A8=!0;J.j$(M,X)}if(q==3){J.vV(X)}M.vV(M.root.gp(X,M,M.O[0],!0))};
o.X_.prototype.fw=function(M,X,J,q,W){if(this.Pe==null)return;this.Pe.finish();if(this.id!=o.Gx&&this.id!=o.It&&this.id!=o.OE)this.Vj(M);
if(this.id==o.lW||this.id==o.It){M.aS.Lh=[];M.fy=!0}if(this.id==o.OE){var T=M.c;M.c=this.E_;var _=new jb(r.E.H,!0);
_.data={h:"setsel",AC:this.name,c:T};_.J=o.FN;X.a(_);if(this.Ye.qsmode==0)this.KO({qsmode:1},X)}else{this.finish(M,this.Pe.m1());
this.Pe=null;this.xd=null}this.dir=0};o.X_.prototype.KO=function(M,X){for(var J in M)this.Ye[J]=M[J];
var q=new jb(r.E.C,!0);q.data={h:r.m.ZQ,J:this.id,Ef:M};X.a(q)};o.X_.prototype.Mn=function(){var M=this.id;
return M==o.OE||M==o.g$||M==o.k0||M==o.y6||M==o.IP||M==o.Bp};o.X_.prototype.finish=function(M,X,J,q,W){var T=M.LV.length!=0?-1-M.LV[0]:M.O[0],_=M.U[T],m=T<0?1:_.tD,d=T<0?M.OD[-T-1]:m<=0?null:m==1?_.hM():_.uV(M).JS,A=d?d.S:_.S,f;
if(this.Mn()||!A.w6(this.yD)){if(d==null){if(this.Mn())_.Wn();else{var p=X.m0(this.yD),a=t.j(p.o()*4,M.depth);
t.fA(_.buffer,_.S,a,p);_.buffer=a;_.S=p}}else d.Wn();this.vV(M,A)}if(m<=0){f=t.j(X.o()*4,M.depth);t.fA(this.gv,this.yD,f,X)}else{f=t.j(X.o(),M.depth);
f.fill(Math.round(t.P0(M.depth)*d.color/255));t.Rc(this.gv,this.yD,f,X)}this.pa(M,!1,J?J:this.name,T,m,X,f,q,W)};
o.X_.prototype.pa=function(M,X,J,q,W,T,_,m,d){var A=_;if(W>0){A=t.j(T.o()*4,t.qP(_));o.X_.nK(_,T,0,A,T)}var p=new hY(J,this);
p.data=[{w:q,eR:W,Os:T,b3:A}];if(m)p.data.m9=[M.c,null];if(d)p.data.m9=[this.E_,M.c];M.Vr(p);if(X)this.AS(p.data,M);
else if(m)M.c=null;o.QP.a0c(M,p.data)};o.X_.prototype.df=function(M,X){this.ac9(M,X,!1)};o.X_.prototype.AS=function(M,X){this.ac9(M,X,!0)};
o.X_.prototype.iK=function(M){return o.QP.iK(M)};o.X_.prototype.ac9=function(M,X,J){if(M.h=="drawtemp"){var q=J?M.ad3:M.azB,W=X.U[M.w];
W.Yb.dC=q;W.G$(X,0,0,X.c);W.vV();X.bM=!0}else{o.QP.Rp(X,M);if(M.m9){X.c=M.m9[J?1:0];X.E5=!0}}X.vV()};
o.X_.prototype.Vj=function(M){var X=this.Pe.io(),J=this.Pe.Hg(),q=this.Pe.t5();this.xz(M,this.yQ,X,J,q);
this.vV(M)};o.X_.prototype.xz=function(M,X,J,q,W){var T=this.Ye,_=M.U[M.O[0]],m=M.LV.length!=0?M.OD[M.LV[0]]:_.tD<=0?null:_.tD==1?_.hM():_.uV(M).JS,d=t.j(W.o()*4,M.depth),A,p=_.Uc(0);
if(m==null){if(this.id==o.Wd&&X=="heal")t.fA(_.buffer,_.S,d,W);else t.fA(this.gv,this.yD,d,W);if(p){A=t.j(W.o(),M.depth);
t.SF(d,A,3)}}else{o.X_.nK(this.gv,this.yD,m.color,d,W)}if(M.c&&X!="qselect"){var a=W.Lg(M.c.S),f=t.j(a.o()*4,M.depth);
if(X=="copy"){var s=t.j(a.o(),M.depth);t.Rc(M.c.N,M.c.S,s,a);t.fA(d,W,f,a);t.v.z2(J,q,f,a,s,a,0,a,1,!1)}else{t.fA(J,q,f,a);
t.tc(M.c.N,M.c.S,f,a)}J=f;q=a}function j(Q,bS){var cj=Math.max(bS.x,Math.min(bS.x+bS.r-1,Q.x)),bb=Math.max(bS.y,Math.min(bS.y+bS.$-1,Q.y));
return new es(cj,bb)}if(X=="idraw"||X=="ierase"){if(this.xd==null)this.xd=t.j(this.yD.o());var Y=T.samp,G=this.f.Yt,Q=j(this.WS,W),Z=Y==0?Q:this.Er,g=Z.x,S=Z.y,U=o.kY.fk(this.gv,this.yD,[Z,new es(g-2,S),new es(g+2,S),new es(g,S-2),new es(g,S+2)]);
if(Y==2)U=[[G>>>16&255,G>>>8&255,G>>>0&255,255]];var B=o.kY.NA(d,W,Q,U,T.wconf),e=t.j(W.o());t.Rc(this.xd,this.yD,e,W);
t.w3.m0(B,e,e);t.Rc(e,W,this.xd,this.yD);t.tc(e,W,J,q);X=X.slice(1)}if(X=="erase"&&(o.QP.a1f(M)!=16777215||m))X="draw";
if(X=="draw")t.v.r$(T.bmode,J,q,d,W,W,T.opacity);else if(X=="erase"){var P=T.opacity;if(this.id==o.nS)P=1;
var h=t.j(W.o()*4,M.depth);t.fA(J,q,h,W);if(m==null){var V=t.j(W.o(),M.depth);t.SF(h,V,3);t.iR(V,P);
t.vN(V);t.tc(V,W,d,W)}else{t.MY(h,0,0,0);t.v.r$("norm",h,W,d,W,W,P)}}else if(X=="clone"||X=="heal"){var I=this.sx(),F=this.DA.Q();
F.offset(I.x,I.y);var c=W.Q();c.$K(1,1);var D=t.j(c.o()*4,M.depth),n=t.j(c.o(),M.depth);t.fA(J,q,D,c);
t.SF(D,n,3);D.fill(0);if(m==null){t.fA(this.JW,F,D,c);var k=t.j(c.o(),M.depth);t.SF(D,k,3);t.nd(k,n)}else o.X_.nK(this.JW,F,m.color,D,c);
if(X=="clone"){t.ix(n,D,3);t.v.r$(T.bmode,D,c,d,W,W,T.opacity)}if(X=="heal"){var b=n.slice(0);t.round(b,t.P0(M.depth)/10);
var N=t.j(c.o()*4,M.depth);if(m==null)t.fA(this.gv,this.yD,N,c);else o.X_.nK(this.gv,this.yD,m.color,N,c);
t.v.z2(D,c,N,c,b,c,0,c,1,!1);var L=t.cY(N,8);t.T6.MN(L,b,c);t.cY(L,M.depth,N);t.v.z2(N,c,d,W,n,c,0,W,1,!1)}}else if(X=="dodge"||X=="burn"){var R=W.o()*4,i=t.P0(M.depth),v=1/i,D=t.j(R,M.depth),u=1,C=0,l=0,x=0;
t.fA(J,q,D,W);var E=o.X_.Cy;if(this.lq){if(X=="dodge")X="burn";else X="dodge"}var y=T.rng;if(X=="dodge"){C=[1-u/2,1,1+u][y];
l=[1,1/(1+u),1][y];x=[u/2,0,0][y]}if(X=="burn"){C=[1/(1-u/2),1,1-u/2][y];l=[1,1+u,1][y];x=[-(u/2)/(1-u/2),0,0][y]}for(var $=0;
$<R;$+=4){var ge=D[$+3]*v;d[$+0]=i*E(d[$+0]*v,C,l,x,ge);d[$+1]=i*E(d[$+1]*v,C,l,x,ge);d[$+2]=i*E(d[$+2]*v,C,l,x,ge)}}else if(X=="sponge"||X=="redeye"){var D=t.j(W.o()*4,M.depth),n=t.j(W.o(),M.depth);
t.fA(J,q,D,W);t.SF(D,n,3);t.fc(d,D);var O=T.smode;if(this.lq)O=1-O;var kz=fV.IH("hue2");if(X=="sponge")gg.eA(kz,0,[0,[-50,46][O],[6,5][O]]);
else gg.eA(kz,1,{OL:[265,305,25,55],en:[0,-90,-70]});var z=ia.BZ("hue2",kz);ia.U3(z,D,D,W);t.v.z2(D,W,d,W,n,W,0,W,1,!1)}else if(X=="copy")t.fA(J,q,d,W);
else if(X=="sheal"){var D=t.j(W.o()*4,M.depth),n=t.j(W.o(),M.depth);t.fA(J,q,D,W);t.SF(D,n,3);D.fill(0);
var eZ=this.JW,kM=this.DA;if(m){eZ=t.j(kM.o()*4,M.depth);o.X_.nK(this.JW,kM,0,eZ,kM)}var jV=t.cY(D,8),cL=t.kr.MN(t.cY(eZ,8),kM,t.cY(n,8),jV,W);
t.cY(jV,M.depth,D);if(cL!=0)t.fA(eZ,kM,D,W);if(T.sfrom==0)t.fA(D,W,d,W);else{t.fA(this.gv,this.yD,d,W);
t.ix(n,D,3);t.v.r$("norm",D,W,d,W,W,1)}}else if(X=="qselect"){var aw=this.yD,h2=aw.r,ea=aw.$,ht=h2*ea,jn=this.Pe.io(),U=this.gv,gE=o.Gp.uc,n=gE.r1;
n.fill(128);for(var $=0;$<ht;$++){var bS=jn[$<<2],bi=jn[($<<2)+3];if(bi==255&&(bS==0||bS==255))n[$]=bS}n[0]=n[h2-1]=0;
n[(ea>>>1)*h2]=n[(ea>>>1)*h2+h2-1]=0;o.D4.R_(gE,!0,M);M.c={S:aw,N:gE.c.slice(0)};M.E5=!0}if(m==null){if(p)t.ix(A,d,3);
t.fA(d,W,_.buffer,_.S)}else o.X_.z4(d,W,m)};o.X_.sx=function(){return null};o.X_.Cy=function(M,X,J,q,W){var T=q+X*Math.pow(M,J),_=T*W+M*(1-W);
return Math.max(0,Math.min(1,_))};o.X_.nK=function(M,X,J,q,W){var T=t.qP(M),_=t.P0(T),m=t.j(W.o(),T);
m.fill(_*J/255);t.Rc(M,X,m,W);q.fill(_);t.Qh(m,q)};o.X_.z4=function(M,X,J){var q=t.j(X.o(),t.qP(M));
t.i5(M,q);t.Rc(q,X,J.N,J.S)};o.Gp=function(M,X,J){o.bv.call(this,M,X,J);this.Ye={binop:0,feat:0,cstr:{Y:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.fi=new es(-1,-1);this.EE=new es(-1,-1);this.FU="default";this.$y=null;this.rw=!1;this.YL=new bP;
this.xJ=!1;this.Jh=null;this.Ai=null;this.B9=!1;this.aW=!1};o.Gp.prototype=new o.bv;o.Gp.prototype.D5=function(){var M=this.Ye,X=[M.binop,M.feat],J=M.wconf.slice(0);
J[1]=J[1]?1:0;J[2]=J[2]?1:0;var q=J.join(",")=="16,1,1";if(X[0]==0&&X[1]==0&&q)return null;if(!q)X.push(J);
return X};o.Gp.prototype.Ug=function(M,X,J){var q=this.Ye;if(M[0])q.binop=M[0];if(M[1])q.feat=M[1];if(M[2]){var W=q.wconf=M[2].slice(0);
if(typeof W[1]=="number"){W[1]=W[1]==1;W[2]=W[2]==1}}this.S5(J)};o.Gp.prototype.S5=function(M){var X=new jb(r.E.C,!0);
X.data={h:r.m.ZQ,J:this.id,Ye:this.Ye};M.a(X)};o.Gp.uc={key:""};o.Gp.VE=function(M,X,J){var q={hC:M,Qd:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(X)q.Qd.T=X;if(J!=null)q.Qd.AntA={t:"bool",v:J};return q};o.Gp.dS=function(M,X,J){return o.Gp.VE("set",{t:"Objc",v:{classID:M,Top:{t:"UntF",v:{type:"#Pxl",val:X.y}},Left:{t:"UntF",v:{type:"#Pxl",val:X.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:X.y+X.$}},Rght:{t:"UntF",v:{type:"#Pxl",val:X.x+X.r}}}},J)};
o.Gp.kt=function(M,X,J){var q=[],W=[],_="set";for(var $=0;$<M.length;$+=2){q.push(M[$]);W.push(M[$+1])}var T={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:q},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:W}]}}}};
if(X)_=["set","addTo","subtractFrom","interfaceWhite"][X];return o.Gp.VE(_,T,J)};o.Gp.a7k=function(M,X,J){var q={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:M.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:M.y}}}},W=o.Gp.VE("set",q);
W.Qd.Tlrn={t:"long",v:X[0]};W.Qd.AntA={t:"bool",v:X[1]};W.Qd.Cntg={t:"bool",v:X[2]};if(J==!0)W.Qd.Mrgd={t:"bool",v:J};
return W};o.Gp.VT=function(M){return o.Gp.VE("set",{t:"enum",v:{Ordn:M?"Al":"None"}})};o.Gp.Ic=function(M,X,J){var q={classID:"null"};
if(M!="border")q.selectionModifyEffectAtCanvasBounds={t:"bool",v:J};var W={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[M[0]];
q[W]={t:"UntF",v:{type:"#Pxl",val:X}};return{hC:M,Qd:q}};o.Gp.Z2=function(M,X,J){var q={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},W={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:X}}]};
if(J)W.v.push({t:"name",v:{classID:"Lyr",val:J}});var T=[{classID:"null",null:q,T:W},{classID:"null",null:W,T:q},{classID:"null",null:W,From:q},{classID:"null",null:W,With:q}],_=["set","add","subtract","interfaceIconFrameDimmed"];
return{hC:_[M],Qd:T[M]}};o.Gp.a3d=function(){return{hC:"make",Qd:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}};
o.Gp.a2s=function(M,X){var J=new jb(r.E.C,!0);J.data={h:r.m.OA,iw:bN.aO};if(!X.iY)M.a(J);J.data={h:r.m.OA,iw:bN.Y7};
if(!X.QQ.dW)M.a(J)};o.Gp.prototype.dx=function(M,X,J,q,W){o.Gp.a2s(X,W);this.$y=X;var T=M.h,_,m,d=new gc(0,0,J.r,J.$),fN=!1,kb,cn,dF,et;
if(T=="fromAction"){var A=M.xo,p=A.hC,a=A.Qd,f=a?a.selectionModifyEffectAtCanvasBounds:null,s=f&&f.v;
if(p=="colorRange"){if(a.Clrs){var j=a.Clrs.v.Clrs,Y=0,G=255,Q=["Shdw","Mdtn","Hghl"].indexOf(j),U=.4;
if(Q==0)G=60;else if(Q==1){Y=100;G=150}else Y=190;var Z=["shadows","midtones","highlights"][Q],g=a[Z+"LowerLimit"],S=a[Z+"UpperLimit"];
if(g)Y=g.v;if(S)G=S.v;var B=a[Z+"Fuzziness"];if(B)U=B.v/100;_=o.Gp.Eo(J,Y,G,U,!0)}else{var Y=a.Mnm.v,G=a.Mxm.v,U;
Y={q6:Y.Lmnc.v,Jm:Y.A.v,g:Y.B.v};G={q6:G.Lmnc.v,Jm:G.A.v,g:G.B.v};U=a.Fzns.v/200;_=o.Gp.Eo(J,Y,G,U)}m=[7,8]}else if(p=="inverse"){if(J.c==null){alert("No selection!");
return}_={N:t.j(d.o(),J.depth),S:d};t.Rc(J.c.N,J.c.S,_.N,_.S);t.vN(_.N);m=[7,2]}else if(p=="expand"){var e=a.By.v.val,P=J.c.S.Q();
P.$K(e,e);var h=t.j(P.o()),V=t.j(P.o(),J.depth);t.Rc(J.c.N,J.c.S,V,P);t.style.stroke(t.cY(V,8),h,P,e);
_={N:t.cY(h,J.depth),S:P};m=[7,4]}else if(p=="contract"){var e=a.By.v.val,I=J.c.S.Q();I.$K(1,1);if(!s)I=I.Lg(d);
var V=t.j(I.o(),J.depth),F=t.j(V.length,8);t.Rc(J.c.N,J.c.S,V,I);t.vN(V);t.style.stroke(t.cY(V,8),F,I,e);
t.vN(F);_={N:t.cY(F,J.depth),S:I};t.Wn(_);m=[7,5]}else if(p=="border"){var e=a.Wdth.v.val;_=o.Gp.aAE(J.c,e/2,e/2);
m=[7,9]}else if(p=="feather"||p=="smoothness"){var e=a.Rds.v.val;_=o.Gp.ask(J.c,e,p=="smoothness",d,s);
m=p=="feather"?[7,6]:[19,3,0]}else if(p=="move"){var c=a.T.v,P=J.c.S.Q();P.x+=c.Hrzn.v.val;P.y+=c.Vrtc.v.val;
_={N:J.c.N,S:P};m=[7,7]}else if(p=="grow"||p=="similar"){var D=this.Ye.wconf.slice(0);if(a.Tlrn)D[0]=a.Tlrn.v;
D[2]=p=="grow";var n=J.m7(),k=new gc(0,0,J.r,J.$),b=J.c.S,N=Math.round(Math.sqrt(b.o())/10),L=t.j(k.o());
t.Rc(J.c.N,b,L,k);var R=[];for(var i=0;i<b.$;i+=N)for(var v=(b.o()+i)%N;v<b.r;v+=N)if(J.c.N[i*b.r+v]==255){var E=new es(b.x+v,b.y+i);
R.push(E);if(D[2])t.w3.m0(o.kY.NA(n,k,E,null,D),L,L)}if(!D[2])t.w3.m0(o.kY.NA(n,k,E,o.kY.fk(n,k,R),D),L,L);
_={N:L,S:k};m=p=="grow"?"Grow Selection":"Similar Selection";console.log(a)}else{var u=a.null.v,C=a.AntA!=null&&a.AntA.v;
function l(jk){return t.G.JE(t.fg.Hg(jk,J.r,J.$),!0)}function x(jk){var i6=jk[0].arr,k2=jk[1].arr,gm={d:[],C6:[]};
for(var $=0;$<i6.length;$++){gm.C6.push($==0?"M":"L");gm.d.push(i6[$],k2[$])}gm.C6.push("Z");if(jk[0].uID=="#Prc")t.G.u(gm.d,new kp(J.r/100,0,0,J.$/100,0,0),gm.d);
return gm}var y=["set","addTo","subtractFrom","interfaceWhite"].indexOf(p),ge=a.T?a.T.v:null;if(ge&&ge.classID=="Elps"){_=this.avc(o.TM.arF(l(ge)),J.depth);
m=[10,4]}else if(ge&&ge.classID=="Rctn"){var O=l(ge);_={N:t.j(O.o(),J.depth),S:O.Q()};_.N.fill(t.P0(J.depth));
m=[10,15]}else if(ge&&ge.classID=="ObSl"){var O=l(ge),kz=o.Gp.uc,z=kz.S,eZ=kz.r1,kM=z.r,jV=z.$,cL=O.x-z.x,aw=cL+O.r-1,h2=Math.max(cL,Math.min(aw,cL+aw>>>1)),ea=O.y-z.y,ht=ea+O.$-1,jn=Math.max(ea,Math.min(ht,ea+ht>>>1)),gE=Math.max(cL,0),bS=Math.min(aw,kM),bi=Math.max(ea,0),cj=Math.min(ht,jV);
eZ.fill(128);if(0<=ea)for(var v=gE;v<bS;v++)eZ[ea*kM+v]=0;if(ht<jV)for(var v=gE;v<bS;v++)eZ[ht*kM+v]=0;
if(0<=cL)for(var i=bi;i<cj;i++)eZ[i*kM+cL]=0;if(aw<kM)for(var i=bi;i<cj;i++)eZ[i*kM+aw]=0;var bb=o.O9.a8b,c0=Math.round(O.r*bb),cV=Math.round(O.$*bb);
for(var v=Math.max(0,h2-c0);v<Math.min(kM,h2+c0);v++)eZ[jn*kM+v]=255;for(var i=Math.max(0,jn-cV);i<Math.min(jV,jn+cV);
i++)eZ[i*kM+h2]=255;o.D4.R_(kz,!0);_={N:kz.c.slice(0),S:z.Q()};m=[10,44]}else if(ge&&ge.classID=="Plgn"){_=this.avc(x(ge.Pts.v.arr),J.depth);
m=[10,9]}else if(ge&&ge.classID=="Pnt"){_=o.kY.a70(J,new es(ge.Hrzn.v.val,ge.Vrtc.v.val),[a.Tlrn.v,C,a.Cntg==null||a.Cntg.v],a.Mrgd?a.Mrgd.v:!1);
m=[10,12]}else if(ge&&ge.Ordn=="None"){_=null;m=[7,1]}else if(ge&&ge.Ordn=="Al"){var g_=d;if(J.O.length!=0){var hx=J.root.Hc(J.O[0]);
while(hx.parent&&hx.parent.parent)hx=hx.parent;if(hx.w.add.artb)g_=hx.w.PH()}_={N:t.j(g_.o(),J.depth),S:g_};
_.N.fill(t.P0(J.depth));m=[7,0]}else if(ge&&ge[0]&&ge[0].v.keyID=="WrPt"){var au={h:"frompath",FK:[-1,0,0]};
this.dx(au,X,J,q,W);return}else{var kP=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(p),iK=p=="set"?ge:u,b3=iK[0].v.enum,au;
if(b3=="Trsp"||b3=="Gray"||b3=="Msk"||b3=="vectorMask"||b3=="Trgt"){var fs=J.O[0];if(iK.length==2)fs=k$.vp(J,iK[1]);
var ch=["Trsp","Msk","vectorMask"].indexOf(b3);if(b3=="Trgt"&&J.U[fs].tD==1)ch=1;if(b3=="Gray")ch=-1;
au={h:"fromlayer",FK:[fs,ch,kP]}}else{if(iK[0].t=="name"){var fs=0;for(var $=0;$<J.OD.length;$++)if(J.OD[$].name==iK[0].v.val)fs=$;
au={h:"fromchannel",FK:[-5-fs,0,kP]}}else{var hv=["RGB","Rd","Grn","Bl"].indexOf(b3);au={h:"fromchannel",FK:[-1-hv,0,kP]}}}this.dx(au,X,J,q,W);
return}if(_){if(!C)t.round(_.N);if(a.Fthr)_=o.Gp.ask(_,a.Fthr.v.val,!1);if(p!="set"&&J.c!=null)_=t.w3.yW(_,J.c,y)}}if(p=="expand"||p=="contract")if(!s&&!d.contains(_.S)){var g6=_.S.Lg(d),ef=t.j(g6.o(),J.depth);
t.Rc(_.N,_.S,ef,g6);_.N=ef;_.S=g6}}if(T=="qmask"){fN=!0;var bh=J.p1(),k=new gc(0,0,J.r,J.$);if(bh){_=bh.S.w6(k)&&t.Nf(bh.N,255)?null:{S:bh.S.Q(),N:bh.N.slice(0)};
kb=bh}else{_=null;cn=new K.$O;cn.color=0;cn.name="Quick Mask";cn.OI=!0;if(J.c){cn.S=J.c.S.Q();cn.N=J.c.N.slice(0)}else{cn.S=k;
cn.N=t.j(cn.S.o());cn.N.fill(255)}}m=[6,6,1];J.bM=!0}if(T=="setsel"){_=M.c;m=M.AC}if(T=="crange"){var Y=M.um,G=M.N9;
_=o.Gp.Eo(J,Y,G,M.k9);m=[7,8]}if(T=="fromlayer"||T=="fromchannel"||T=="frompath"){var dY=M.FK[0],ch=M.FK[1],y=M.FK[2];
if(T=="fromlayer"){if(dY==null)dY=J.O[0];var jM=J.U[dY];if(ch<=0){if(jM.nA()){var hx=J.root.Hc(dY);_={N:t.j(0),S:new gc};
for(var $=0;$<hx.children.length;$++){var bz=hx.children[$].w;if(bz.S.M5())continue;var hh=t.j(bz.S.o());
t.SF(bz.buffer,hh,3);var dM={N:hh,S:bz.S.Q()};if($==0)_=dM;else _=t.w3.yW(_,dM,1)}if(_.S.M5())return}else{var iX=jM.S,aW=jM.buffer;
if(iX.M5())return;var eC=t.j(aW.length>>>2,J.depth);if(ch==0)t.SF(aW,eC,3);if(ch==-1)t.i5(aW,eC);_={N:eC,S:iX.Q()}}}else{if(jM.JS==null)jM.j$(J);
var dh=ch==1?jM.hM():jM.JS;_=o.Gp.azm(dh,d)}this.track(o.Gp.Z2(y,["Trsp","Msk"][ch],jM.getName()))}else if(T=="frompath"){var ff=J.ZX(),fE=ff[1],ff=ff[0],ew=!0;
if(dY==null)if(ff.length==0||fE.length==0)return;var dX=ff[fE[0]];if(dY!=null)for(var $=0;$<ff.length;
$++)if(ff[$].gO==dY)dX=ff[$];var dh=dX.add.vmsk.hM(),i2=dh.Hg();if(i2.o()==0)return;var eC=dh.ps();if(M.FK[3]!=null)ew=M.FK[3];
if(!ew){eC=eC.slice(0);t.round(eC)}dF=[JSON.stringify(J.Fg),JSON.stringify(J.bQ)];et=["[]","[]"];J.Fg=[];
J.bQ=[];_={N:eC,S:i2}}else{if(dY==null)dY=o.Gp.aDo(J);_=o.Gp.ayx(J,dY)}if(y!=0&&J.c)_=t.w3.yW(_,J.c,y);
m=[14,11]}if(T=="bgrm"){if(o.Gp.a4b(J,X,M,W))return;var hW=window.locStor.getItem("bgrmt");if(hW==null)hW=0;
var jt=4*60*60,h3=o.Gp.a1T.bind([J,X,M,W]),dl=Math.floor((Date.now()-hW)/1e3);if(!bc.Ka(1)&&dl<jt&&bc.gb(W,1)==null){var ba=hO.Dm(),b_=ba?"Out of AI credits :( Now, you":"Non-Premium users",f8=b_+" can use it once in two hours ("+((jt-dl)/60).toFixed(1)+" min remain). "+(ba?"":"Go Premium for $5 a month (press Account at the top).")+" \nWatch a short ad and skip waiting?";
eu.mL(h3,f8,"rmbg")}else h3();return}if(_!=null&&t.Nf(_.N,0)){_=null;m=[7,1]}if(_)t.Wn(_);var ak=new hY(m,this);
ak.data={h:"changesel",c:_,p1:fN,aBa:kb,al3:cn,d1:dF,abR:et};J.Vr(ak);this.AS(ak.data,J)};o.Gp.a4b=function(M,X,J,q){var W=M.U[M.O[0]],T=W.S,_=W.buffer,m=T.r,d=T.$,A=[0,0,m-1,0,0,d-1,m-1,d-1],p=!0;
for(var $=0;$<4;$+=2){var a=(A[$+1]*m+A[$])*4,f=0;for(var s=0;s<3;s++){f+=(_[s]-_[a+s])*(_[s]-_[a+s])}if(f>25)p=!1}if(p&&W.hM()==null&&M.c==null){var j=t.j(m*d);
for(var $=0;$<4;$++){var Y=A[$*2],G=A[$*2+1],Q=20,Z=1,g=null;if(j[G*m+Y]>200)continue;while(Q<120){var S=o.kY.NA(_,T,new es(Y,G),null,[Q,!0,!0]),U=0;
for(var s=0;s<S.length;s++)U+=S[s];var B=Q<50?1.015:1.004;if(g&&U>Z*B)break;g=S;Z=U;Q+=10}for(var s=0;
s<g.length;s++)j[s]=Math.max(j[s],g[s])}t.vN(j);o.Gp.akZ(W,X,j,T,J.K,null);alert(kl._Y("5[[eD_??KH6@J:*54(-A2 ~nyv qb\\sSc_\\TP^=@7<>Z"),2500);
return!0}return!1};o.Gp.a1T=function(){var M=this[0],X=this[1],J=this[2],q=this[3],W=2,T=M.U[M.O[0]],_=T.S,m=T.buffer,d=1,A=[4096,4096,2048][W];
while(Math.max(_.r,_.$)>A){var p=t.Es(m,_);_=p.S;m=p.hT;d*=2}var a=h1.mr("png"),f=h1.mr("jpg"),s=f.iL([[m.buffer]],_.r,_.$),j=new FormData;
j.append("image",new Blob([s],{type:"ima"+"ge/j"+"pg"}));j.append("mode","mask");var Y=new jb(r.E.C,!0);
Y.data={h:r.m.cg,Ca:"Processing ..."};X.a(Y);window.afj=Date.now();var G=function(Q){console.log(Date.now()-window.afj);
var Z=Q.target.response,g=new Uint8Array(Z),S=a.ss(Z)[0],U=S.kq,B=t.j(U.o());t.i5(new Uint8Array(S.data),B);
for(var $=0;$<B.length;$++){if(B[$]>250)B[$]=255}if(d!=1){var p=o.fx.Pm([B,U],new kp(d,0,0,d,0,0));U=p.S;
B=p.N}U.x=T.S.x;U.y=T.S.y;o.Gp.akZ(T,X,B,U,J.K,kl._Y("AQVUYE\\{}"));var Y=new jb(r.E.C,!0);Y.data={h:r.m.eC,Ca:"Processing ..."};
X.a(Y);if(bc.gb(q,1)==null){bc.al("Rem"+"ove B"+"G",1);window.locStor.setItem("bgrmt",Date.now())}};
bc.aAq(kl._Y("aQVUYEi<87<5=7:0#"),j,bc.gb(q,1),G)};o.Gp.akZ=function(M,X,J,q,W,T){var _=new jb(r.E.H,!0);
if(W==1){_.J=o.HX;_.data={h:K.$0,iy:T,aA$:!0,Em:"HdAl"};X.a(_);var m=M.hM();m.color=0;m.S=q;m.N=J;m.Wn();
M.j$()}else if(W==2){_.J=o.FN;_.data={h:"setsel",c:{N:J,S:q},AC:"Select Subject"};X.a(_)}else throw"e"};
o.Gp.aDo=function(M){var X=0;if(M.LV.length!=0)X=-5-M.LV[0];else if(JSON.stringify(M.k.KV)=="[1,1,1]")X=-1;
else X=-2-M.k.KV.indexOf(1);return X};o.Gp.ayx=function(M,X){var J,q=new gc(0,0,M.r,M.$);if(-5<X&X<0){var W=-X-1,T=M.m7(),_=t.j(q.o());
if(W==0)t.i5(T,_);else t.SF(T,_,W-1);J={N:_,S:q.Q()}}if(X<-4){J=o.Gp.azm(M.OD[-X-5],q)}return J};o.Gp.azm=function(M,X){var J,q;
if(M.NH()==0){q=M.Hg().Q();if(q.o()==0)return;J=M.ps()}else{q=X;J=t.j(q.o());M.Xu(q,J)}return{N:J,S:q}};
o.Gp.prototype.vI=function(M){return this.xJ||M.kJ&&this.id!=o.UX};o.Gp.prototype.tW=function(M,X,J){var q=new jb(X,!0);
q.data=J;M.a(q)};o.Gp.prototype.am8=function(M,X){var J=new jb(r.E.C,!0);J.data={h:r.m.Hf,Ny:X};M.a(J)};
o.Gp.prototype.Hg=function(M,X,J){X=M.c==null||this.YL.tj(1)||this.YL.Hk(1)?X:null;var q=this.fi,W=this.EE;
if(J){q.x=Math.max(0,Math.min(M.r,q.x));q.y=Math.max(0,Math.min(M.$,q.y));W.x=Math.max(0,Math.min(M.r,W.x));
W.y=Math.max(0,Math.min(M.$,W.y))}var T=o.QX.P9(q,W,X,!0,this.Ye.cstr),_=T[0].x,m=T[0].y,d=new gc(_,m,T[1].x-_,T[1].y-m);
if(J){d.x=Math.max(d.x,0);d.y=Math.max(d.y,0)}return d};o.Gp.prototype.H_=function(M,X,J,q,W){this.aW=!0;
if(this.Te())return;this.$y=X;this.rw=!1;this.YL.H_(q);this.fi=M.k.Ob(W.x,W.y);this.fi=o.UA.kZ(M,this.fi,J);
if(this.afu(M,this.fi,q)){this.xJ=!0;this.Jh=M.c.S.Q();return}this.Wk(M,J,q,W);M.k.At=new gc};o.Gp.prototype.afu=function(M,X,J){var q=J.M(hP.HG),W=J.M(hP.Ke);
if(M.c&&!q&&!W&&this.Ye.binop==0)return t.WR(X,M.c.N,M.c.S);return!1};o.Gp.prototype.T_=function(M,X,J,q,W){this.$y=X;
if(this.B9)return;var T=M.k.Ob(W.x,W.y);if(es.Yq(this.fi,T)*M.k.r7>5){this.rw=!0;this.YL.T_()}if(q.M(hP.TZ)){if(this.Ai==null)this.Ai=new es(T.x-this.fi.x,T.y-this.fi.y);
this.fi.x=T.x-this.Ai.x;this.fi.y=T.y-this.Ai.y}else this.Ai=null;this.EE=T;if(!this.xJ&&this.id!=o.UX)this.EE=o.UA.kZ(M,this.EE,J);
if(this.afu(M,this.EE,q))this.am8(X,"move");else this.am8(X,this.FU);if(this.xJ){var _=this.Jh.Q();_.x+=this.EE.x-this.fi.x;
_.y+=this.EE.y-this.fi.y;var m=o.UA.mq(M,_,J);M.c.S.x=Math.round(this.EE.x-this.fi.x+this.Jh.x+m[0]);
M.c.S.y=Math.round(this.EE.y-this.fi.y+this.Jh.y+m[1]);M.E5=!0;o.UA.ae(M,_,m);return}this.yf(M,J,q,W,X);
if(M.k.At)M.k.At=this.Hg(M,q)};o.Gp.prototype.Te=function(){return!1};o.Gp.prototype.fw=function(M,X,J,q,W,T){var _=this.aW;
this.aW=!1;if(T||!_)return;M.k.At=null;this.EE=M.k.Ob(W.x,W.y);this.EE=o.UA.kZ(M,this.EE,J);if(this.xJ){this.xJ=!1;
if(M!=null&&M.aS.z3){M.aS.z3=null;M.fy=!0}if(this.EE.w6(this.fi)&&this.zf()==0){this.tW(X,r.E.pL,o.Gp.VT());
return}this.akH(M,this.Jh,M.c.S.Q());return}this.BY(M,J,q,W,X);o.Gp.a2s(X,J);this.YL.fw();this._c(X)};
o.Gp.prototype.akH=function(M,X,J){var q=M.pC();if(q!=null&&q.J==this&&q.data.h=="movesel"){}else{q=new hY([7,7],this);
q.data={h:"movesel",uX:X};M.Vr(q)}q.data.FY=J;this.AS(q.data,M)};o.Gp.prototype.ST=function(M,X,J,q,W){this.B9=!0};
o.Gp.prototype.aa=function(M,X,J,q,W){var T=new jb(r.E.C,!0);T.data={h:r.m.ZQ,J:this.id,Vm:W,je:M,f:J};
X.a(T);this.B9=!1};o.Gp.prototype.KH=function(M,X,J,q){this.YL.KH(q);if(M!=null&&M.c!=null){var W=q.CG();
if(W.x!=0||W.y!=0){var T=M.c.S.Q();T.x+=W.x;T.y+=W.y;this.akH(M,M.c.S.Q(),T)}}this._c(X)};o.Gp.prototype._c=function(M){var X=new jb(r.E.C,!0);
X.data={h:r.m.ZQ,J:this.id,PC:this.zf()};M.a(X)};o.Gp.prototype.zf=function(){var M=this.YL.tj(0),X=this.YL.Hk(0);
return o.Gp.Ds(this.Ye.binop,M,X)};o.Gp.Ds=function(M,X,J){if(X)M=1;if(J)M=2;if(X&&J)M=3;return M};o.Gp.prototype.finish=function(M,X,J,q){var W=M.c,T=this.getSelection(M,X,J,q);
if(T==null)T=o.Gp.VT();else{var _=this.Ye.feat,m=this.zf();if(_!=0)T.Qd.Fthr={t:"UntF",v:{type:"#Pxl",val:_}};
if(m!=0&&m!=4)T.hC=["","addTo","subtractFrom","interfaceWhite",""][m]}this.tW(this.$y,r.E.pL,T);this.fi.cn(-1,-1);
this.EE.cn(-1,-1)};o.Gp.prototype.getSelection=function(M,X,J,q){return null};o.Gp.prototype.Wk=function(M,X,J,q){};
o.Gp.prototype.yf=function(M,X,J,q){};o.Gp.prototype.BY=function(M,X,J,q){};o.Gp.prototype.df=function(M,X){var J=M.h;
if(J=="changesel"){var q=X.c;X.c=M.c;M.c=q}if(J=="movesel")X.c.S=M.uX;if(M.p1){if(M.aBa){X.LV=[X.OD.length];
X.OD.push(M.aBa)}else{X.OD.pop();X.LV=[]}}if(M.d1){X.Fg=JSON.parse(M.d1[0]);X.bQ=JSON.parse(M.d1[1])}X.E5=!0};
o.Gp.prototype.AS=function(M,X){var J=M.h;if(J=="changesel"){var q=X.c;X.c=M.c;M.c=q}if(J=="movesel")X.c.S=M.FY;
if(M.p1){if(M.al3){X.LV=[X.OD.length];X.OD.push(M.al3)}else{X.OD.pop();X.LV=[]}}if(M.d1){X.Fg=JSON.parse(M.abR[0]);
X.bQ=JSON.parse(M.abR[1])}X.E5=!0};o.Gp.prototype.iK=function(M){return M.h=="changesel"&&M.c?M.c.N.length:0};
o.Gp.prototype.Nn=function(M){for(var X in M.Ye)this.Ye[X]=M.Ye[X]};o.Gp.prototype.avc=function(M,X){var J=t.G.Oi(M.d);
if(J.M5())return null;var q=t.mt(J.r,J.$);q.save();q.beginPath();q.translate(-J.x,-J.y);Typr.U.pathToContext({cmds:M.C6,crds:M.d},q);
q.closePath();q.fill();q.restore();var W=t.j(J.o()),T=q.getImageData(0,0,J.r,J.$);t.SF(new Uint8Array(T.data.buffer),W,3);
if(X!=8)W=t.cY(W,X);return{S:J,N:W}};o.Gp.ask=function(M,X,J,q,W){if(J)X=Math.round(X*.7);var T=Math.ceil(2.6*X),_=M.S.Q();
_.$K(T,T);if(q&&!W)_=_.Lg(q);var m=t.j(_.o(),t.qP(M.N));t.Rc(M.N,M.S,m,_);t.zp.zk(m,_,X);if(J){var d=m.length,A=t.P0(t.qP(m)),p=A/2;
for(var $=0;$<d;$++){var a=(m[$]-p)*X*2.5;m[$]=Math.max(0,Math.min(A,p+a))}}return{N:m,S:_}};o.Gp.aAE=function(M,X,J){var q=t.qP(M.N),W=t.cY(M.N,8),T=Math.max(1,Math.ceil(J)),_=M.S.Q();
_.$K(T,T);var m=_.o(),d={N:t.j(m),S:_},A=t.j(m);t.Rc(W,M.S,A,d.S);if(J!=0)t.style.stroke(A,d.N,d.S,J);
else t.fc(A,d.N);var p=t.j(m);t.vN(A);if(X!=0)t.style.stroke(A,p,d.S,X);else t.fc(A,p);t.w3.Lg(d.N,p,d.N);
d.N=t.cY(d.N,q);return d};o.Gp.Eo=function(M,X,J,q,W){var T=new gc(0,0,M.r,M.$),_=M.m7();if(M.c){var m=M.c.S.Lg(T),d=t.j(m.o()*4);
t.fA(_,T,d,m);T=m;_=d}var A=T.o(),p=t.j(A),a=1/q;if(W){if(X>=J)X=J-1;var f=X*(1-q),s=X,j=J,Y=J+(255-J)*q,G=f==s?0:1/(s-f),Q=j==Y?0:1/(Y-j);
for(var $=0;$<A;$++){var Z=$<<2,g=t.ig(_[Z],_[Z+1],_[Z+2]),S=0;if(g<f)S=0;else if(g<s)S=(g-f)*G;else if(g<=j)S=1;
else if(g<=Y)S=1-(g-j)*Q;else S=0;p[$]=_[Z+3]*S*S}}else for(var $=0;$<A;$++){var Z=$<<2,U=t.KX(_[Z],_[Z+1],_[Z+2]),S=t.auQ(U,X,J,q,a);
p[$]=_[Z+3]*S}return{S:T,N:p}};o.b9=function(){o.X_.call(this,[10,18],o.M0,"tools/blur");this.yQ="copy"};
o.b9.prototype=new o.X_;o.b9.prototype.H_=function(M,X,J,q,W){var T=q.M(hP.Ke)?eY.b6:eY.M0;this.it(M,J,q,W,this.Ye.strn,T);
if(this.Pe==null)return;this.Vj(M)};o.b9.prototype.T_=function(M,X,J,q,W){this.iZ(M,X,J);if(this.lJ)this.aM(M,J,W);
if(this.Pe==null)return;if(!W.kJ)return;this.RF(M,J,q,W);this.Vj(M)};o.ye=function(){o.X_.call(this,[10,0],o.Vk,"tools/brush");
this.yQ="draw"};o.ye.prototype=new o.X_;o.ye.prototype.H_=function(M,X,J,q,W){if(this.AH(M,X,J,q,W,!0))return;
this.it(M,J,q,W,this.Ye.flow);if(this.Pe==null)return;this.Vj(M)};o.ye.prototype.T_=function(M,X,J,q,W){if(this.AH(M,X,J,q,W))return;
this.iZ(M,X,J);if(this.lJ)this.aM(M,J,W);if(this.Pe==null)return;if(!W.kJ)return;this.RF(M,J,q,W);this.Vj(M)};
o.U6=function(){o.X_.call(this,[10,42],o.z7,"tools/crepl");this.yQ="idraw";this.Ye.bmode="hue "};o.U6.prototype=new o.X_;
o.U6.prototype.H_=function(M,X,J,q,W){if(this.AH(M,X,J,q,W,!0))return;this.it(M,J,q,W,this.Ye.flow);
if(this.Pe==null)return;this.Vj(M)};o.U6.prototype.T_=function(M,X,J,q,W){if(this.AH(M,X,J,q,W))return;
this.iZ(M,X,J);if(this.lJ)this.aM(M,J,W);if(this.Pe==null)return;if(!W.kJ)return;this.RF(M,J,q,W);this.Vj(M)};
o.gm=function(){o.X_.call(this,[10,43],o.Bp,"tools/redeye");this.Ye.smode=0;this.yQ="redeye"};o.gm.prototype=new o.X_;
o.gm.prototype.H_=function(M,X,J,q,W){this.it(M,J,q,W,this.Ye.flow);if(this.Pe==null)return;this.Vj(M)};
o.gm.prototype.T_=function(M,X,J,q,W){this.iZ(M,X,J);if(this.lJ)this.aM(M,J,W);if(this.Pe==null)return;
if(!W.kJ)return;this.RF(M,J,q,W);this.Vj(M)};o.DS=function(){o.X_.call(this,[10,38],o.yF,"tools/pencil");
this.yQ="draw"};o.DS.prototype=new o.X_;o.DS.prototype.H_=function(M,X,J,q,W){if(this.AH(M,X,J,q,W,!0))return;
this.it(M,J,q,W,this.Ye.flow);if(this.Pe==null)return;this.Vj(M)};o.DS.prototype.T_=function(M,X,J,q,W){if(this.AH(M,X,J,q,W))return;
this.iZ(M,X,J);if(this.lJ)this.aM(M,J,W);if(this.Pe==null)return;if(!W.kJ)return;this.RF(M,J,q,W);this.Vj(M)};
o.gT=function(){o.X_.call(this,[10,22],o.y6,"tools/burn");this.yQ="burn"};o.gT.prototype=new o.X_;o.gT.prototype.H_=function(M,X,J,q,W){this.it(M,J,q,W,this.Ye.expo/Math.E);
if(this.Pe==null)return;this.Vj(M)};o.gT.prototype.T_=function(M,X,J,q,W){this.iZ(M,X,J);if(this.lJ)this.aM(M,J,W);
if(this.Pe==null)return;if(!W.kJ)return;this.RF(M,J,q,W);this.Vj(M)};o.Sz=function(M,X,J){o.X_.call(this,M==""?null:M?M:[10,1],X?X:o.lW,J?J:"tools/clone");
this.yQ="clone";this.pu=null;this.s=null};o.Sz.prototype=new o.X_;o.Sz.prototype.H_=function(M,X,J,q,W){var T=this.Ye,_=T.alt[0];
if(q.M(hP.Ke)||q.M(hP.q9)||_){this.pu=M.k.Ob(W.x,W.y);this.s=null;if(_)this.KO({alt:[!1]},X);this.Ov(M);
this.WQ(J,q,M,W);return}if(this.pu==null){alert(kd.get([15,7,0]));return}this.WQ(J,q);this.it(M,J,q,W,this.Ye.flow);
if(this.Pe==null)return;this.s=this.aFE(M.k.Ob(W.x,W.y));this.Vj(M)};o.Sz.prototype.aFE=function(M){var X=this.s;
if(X==null||!this.Ye.algnd)X=new es(Math.round(M.x-this.pu.x),Math.round(M.y-this.pu.y));return X};o.Sz.prototype.T_=function(M,X,J,q,W){this.iZ(M,X,J);
if(this.lJ)this.aM(M,J,W);if(this.Pe==null){if(this.pu!=null)this.WQ(J,q,M,W);return}if(!W.kJ||this.pu==null)return;
this.RF(M,J,q,W);this.Vj(M)};o.Sz.prototype.sx=function(){return this.s};o.Ht=function(){o.bv.call(this,[10,53],o.arz,"tools/csamp");
this.EF=-1;this.xY=null};o.Ht.prototype=new o.bv;o.Ht.prototype.H_=function(M,X,J,q,W){this.xY=JSON.stringify(M.O2);
var T=M.k.Ob(W.x,W.y),_=M.O2,m=1e9,d=-1;for(var $=0;$<_.length;$++){var A=_[$],p=T.x-A.x,a=T.y-A.y,f=p*p+a*a;
if(f<m){m=f;d=$}}var s=15/M.k.r7;d=m<s*s?d:-1;if(d==-1){d=_.length;_.push({x:T.x,y:T.y})}else if(q.M(hP.Ke)){_.splice(d,1);
d=-1}this.EF=d;M.fy=!0};o.Ht.prototype.T_=function(M,X,J,q,W){var T=this.EF;if(T!=-1){var _=M.k.Ob(W.x,W.y);
M.O2[T].x=_.x;M.O2[T].y=_.y;M.fy=!0}};o.Ht.prototype.fw=function(M,X,J,q,W,T){var _=new hY(this.name,this);
_.data={vc:this.xY,Nz:JSON.stringify(M.O2)};M.Vr(_);this.EF=-1};o.Ht.prototype.df=function(M,X){X.O2=JSON.parse(M.vc)};
o.Ht.prototype.AS=function(M,X){X.O2=JSON.parse(M.Nz)};o.VN=function(M,X,J){o.bv.call(this,M,X,J);this.Ye={aB:{Y:0,x:0,y:0},cC:!1,$Q:!1};
this.QK=!1;this.FU=o.mB();this.Di=null;this.cursor=null;this.aco=0;this.lo=null;this.fi=null;this.r0=null;
this.U1=!1;this.yG=!1};o.VN.prototype=new o.bv;o.VN.prototype.mG=function(){return this.Di!=null};o.VN.prototype.vI=function(M){return this.fi!=null||this.Di&&this.Di.akj()};
o.VN.prototype.H_=function(M,X,J,q,W){this.lo=W;var T=M.k.Ob(W.x,W.y),_=this.Ye.aB,m=_.Y!=0?_.x/_.y:null,d=this.U1;
this.U1=!1;if(this.Di){var A=this.Di.WV(T,M.k.r7);if(d&&A==null){this.Di.clear(M);this.Di=null}else{this.Di.H_(M,J,q,T,m,!1,W);
this.yG=!1;return}}this.fi=o.UA.kZ(M,T,J)};o.VN.prototype.J5=function(M,X,J){if(J==null)J=[M.x,M.y,M.x+M.r,M.y,M.x+M.r,M.y+M.$,M.x,M.y+M.$];
return new gY(J,!0,!1,this.id==o.$k,!0,X,this.id==o.$k?2:0,this.id==o.$k?4:3)};o.VN.prototype.WQ=function(M){var X=new jb(r.E.C,!0);
X.data={h:r.m.Hf,Ny:this.cursor};M.a(X)};o.VN.prototype.enable=function(M,X,J,q){this.$y=X;this.cursor=this.FU;
this.WQ(X);if(M!=null&&this.Di==null){var W=M.c?{ys:"cropby",aDC:3}:{ys:"config",Ye:this.Ye,a5B:!0};
this.Nn(W,X,M,q,J);if(M.c==null&&this.Ye.aB.Y==0)this.U1=!0;this.yG=!0}};o.VN.prototype.T_=function(M,X,J,q,W){this.lo=W;
var T=M.k.Ob(W.x,W.y);if(!W.kJ){var _=this.FU;if(this.Di){var m=this.Di.WV(T,M.k.r7,null,W);if(m)_=m;
else _="default"}if(_!=this.cursor){this.cursor=_;this.WQ(X)}}if(this.Di)this.Di.T_(M,J,q,T);else if(this.fi){if(this.QK){M.aS.Gn={C6:["M","L"],d:[this.fi.x,this.fi.y,T.x,T.y]}}else{var d=o.QX.P9(this.fi,o.UA.kZ(M,T,J),q,!0,this.Ye.aB),A=d[0].x,p=d[0].y,a=this.r0=new gc(A,p,d[1].x-A,d[1].y-p);
M.aS.Gn=t.G.mP(a);o.bv.wX(W,a,M,J)}M.fy=!0}};o.VN.ar$=function(M,X,J){var q,W,m,d;if(X<=J){q=X;W=J}else{q=J;
W=X}var T=M-Math.floor((M+Math.PI)/(2*Math.PI))*2*Math.PI;T=Math.abs(T);if(T>Math.PI/2)T=Math.PI-T;var _=q/(W*Math.sin(T)+q*Math.cos(T));
if(X<=J){m=q*_;d=W*_}else{m=W*_;d=q*_}return{a3:m,oz:d}};o.VN.prototype.fw=function(M,X,J,q,W){this.lo=W;
var T=M.k.Ob(W.x,W.y);if(this.Di==null){var _=this.r0;if(this.fi&&(_||this.QK)){if(this.QK){var m=this.fi,d=T,A=d.x-m.x,p=d.y-m.y;
if(Math.abs(A)<Math.abs(p))d=new es(m.x-p,m.y+A);if(m.x>d.x){var a=m;m=d;d=a}var m=Math.atan2(-(d.y-m.y),d.x-m.x),f=o.VN.ar$(m,M.r,M.$);
if(this.Ye.$Q){var s=t.G.mP(new gc(0,0,M.r,M.$)),j=new kp;j.rotate(m);t.G.u(s.d,j,s.d);f=t.G.Oi(s.d);
f={a3:f.r,oz:f.$}}var Y=[0,0,f.a3,0,f.a3,f.oz,0,f.oz],G=new kp;G.translate(-f.a3/2,-f.oz/2);G.rotate(m);
G.translate(M.r/2,M.$/2);t.G.u(Y,G,Y);this.Di=this.J5(_,!1,Y);this.QK=!1}else{var Q=this.Ye.aB;this.Di=this.J5(_,Q.Y!=0)}this.yG=!1;
this.Di.kW(M,J);this.r0=null;this.tW(X,r.E.C,{h:r.m.ZQ,J:this.id,M9:!0});this.fi=null;M.aS.Lh=[];M.aS.Gn=null;
M.fy=!0}return}this.Di.fw(M,J,q,T);this.tW(X,r.E.C,{h:r.m.ZQ,J:this.id,M9:!0});var Y=this.Di.PL();if(Math.abs(Y[0]-Y[4])<2&&Math.abs(Y[1]-Y[5])<2){this.BL(M,X,null,q);
return}if(Date.now()-this.aco<200&&this.Di.Ui(T)){this.Um(M,J);this.BL(M,X,J,q);return}this.aco=Date.now()};
o.VN.prototype.KH=function(M,X,J,q){var W=this.Di;if(W==null||this.lo&&this.lo.kJ)return;if(q.M(hP.ej)){this.Um(M,J);
this.BL(M,X,J,q)}else if(q.M(hP.ke)){this.BL(M,X,J,q)}else W.KH(M,J,q)};o.VN.anH=function(M,X,J){var q={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:M[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:M[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:M[1]+M[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:M[0]+M[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:X!=null?X:0}},Dlt:{t:"bool",v:J!=null?J:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{hC:"crop",Qd:q}};o.VN.i1=function(M,X){if(X==null)X=[!0,!0,!0,!0];var J={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][M]}}},q=["Top","Left","Btom","Rght"];
for(var $=0;$<4;$++)J[q[$]]={t:"bool",v:X[$]};return{hC:"trim",Qd:J}};o.VN.ky=function(M,X,J,q,W){var T={classID:"null"};
if(q!=null){T.Wdth={t:"UntF",v:W?{type:"#Prc",val:M*100}:{type:"#Pxl",val:M}};T.Hght={t:"UntF",v:W?{type:"#Prc",val:X*100}:{type:"#Pxl",val:X}};
T.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][q]}}}if(J!=null)T.Rslt={t:"UntF",v:{type:"#Rsl",val:J}};
return{hC:"imageSize",Qd:T}};o.VN.aD9=function(M,X,J,q){if(J==null)J=4;if(q==null)q=!1;var W=Math.floor(J/3),T=J%3;
return{hC:"canvasSize",Qd:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:M}},Hght:{t:"UntF",v:{type:"#Pxl",val:X}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][T]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][W]}},Rltv:{t:"bool",v:q}}}};
o.VN.prototype.dx=function(M,X,J,q,W){var T=new gc(0,0,J.r,J.$),_=[11,3],m=J.Qv,d=J.r/2,A=J.$/2,kz=1,fs,ch,hv;
function p(et,$){return et[$]+2*et[$+1]+et[$+2]>>>2}if(M.h=="cropAndStr"){var a=J.U[J.O[0]],f=a.buffer,s=a.S,j=s.r,Y=s.$,G=j+2,Q=[0,0,j-1,0,j-1,Y-1,0,Y-1],Z,g=1e9,L=0;
for(var $=0;$<4;$++)for(var S=$+1;S<4;S++){var U=Q[2*$],B=Q[2*$+1],e=(B*j+U)*4,P=(Q[2*S+1]*j+Q[2*S])*4,h=f[e]-f[P],V=f[e+1]-f[P+1],I=f[e+2]-f[P+2],F=h*h+V*V+I*I;
if(F<g){g=F;Z=new es(U+.5,B+.5)}}var c=Date.now(),D=o.kY.NA(a.buffer,s,Z,null,[16,!1,!0]);t.vN(D);var n=s.Q();
n.$K(1,1);var k=t.j(n.o());t.Rc(D,s,k,n);var b=k.slice(0);for(var B=0;B<Y;B++)for(var U=0;U<j;U++){var S=B*j+U;
if(D[S]==255&&p(f,S*4)>200){var $=(B+1)*G+U+1;k[$]=b[$-G]&b[$-1]&b[$+1]&b[$+G]}}var N=t.G.lO(k,n.r,n.$,0),R=new jb(r.E.C,!0);
R.data={h:r.m.f5};var c=Date.now();for(var i=0;i<N.length;i++){var v=N[i].path.d;if(N[i].ny.o()<2500)continue;
var E=t.G.aww(v,L==3);for(var $=0;$<E.length;$++)E[$]-=1;var u=new es(E[0],E[1]),C=Math.ceil(es.Yq(u,new es(E[2],E[3]))),l=Math.ceil(es.Yq(u,new es(E[6],E[7]))),x=new gc(0,0,C,l),y=t.j(x.o()*4),v=t.t.bw(E,new gc(-1,-1,C+2,l+2));
v=t.t.vN(v);v=t.t.uM(v,t.t.WP(new kp(s.r,0,0,s.$,s.x,s.y)));t.t.drawImage(v,a.buffer,s.r,s.$,y,x);L++;
var ge=R.data.AR=new dD("Image "+L+".psd");ge.r=C;ge.$=l;var O=ge.C0();O.EC("Background");O.buffer=y;
O.S=x;ge.U.push(O);X.a(R)}return}if(M.h=="fromAction"){var z=M.xo,eZ=z.hC,kM=z.Qd,jV=J.r/J.$,G=kM.Wdth?kM.Wdth.v.val:-1,cL=kM.Hght?kM.Hght.v.val:-1,m=kM.Rslt?kM.Rslt.v.val:null,aw=kM.Wdth?kM.Wdth.v.type:kM.Hght?kM.Hght.v.type:-1,h2=1,ea;
if(aw=="#Prc"){if(G!=-1)G=Math.round(J.r*G/100);if(cL!=-1)cL=Math.round(J.$*cL/100)}if(eZ=="imageSize"){if(kM.Intr){if(kM.Intr.v.Intp=="Nrst")h2=0;
if(kM.Intr.v.Intp=="bicubicSharper")h2=2;if(G==-1&&cL==-1){var ht=m/J.Qv;G=Math.round(J.r*ht);cL=Math.round(J.$*ht)}if(kM.CnsP&&kM.CnsP.v){if(G==-1)G=Math.round(cL*jV);
if(cL==-1)cL=Math.round(G/jV)}}else{if(aw=="#Prc")m=Math.round(J.Qv*(J.r/G));else if(aw==-1)m=Math.round(m);
else throw"e";G=J.r;cL=J.$}ea={h:"imgsize",rA:G,t2:cL,TL:m,C9:h2}}else if(eZ=="canvasSize"){if(G==-1)G=J.r;
if(cL==-1)cL=J.$;if(kM.Rltv&&kM.Rltv.v==!0){if(kM.Wdth)G+=J.r;if(kM.Hght)cL+=J.$}var jn=kM.Vrtc?kM.Vrtc.v.VrtL:"Cntr",gE=kM.Hrzn?kM.Hrzn.v.HrzL:"Cntr";
ea={h:"canvsize",rA:G,t2:cL,yu:3*["Top","Cntr","Btom"].indexOf(jn)+["Left","Cntr","Rght"].indexOf(gE)}}else if(eZ=="revealAll"){ea={h:"revealAll"}}else if(eZ=="trim"){var bS={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[kM.trimBasedOn.v.trimBasedOn];
if(bS==null)throw"e";var bi=["Top","Left","Btom","Rght"],cj=[!0,!0,!0,!0];for(var $=0;$<4;$++)if(kM[bi[$]])cj[$]=kM[bi[$]].v;
ea={h:"trim",aaR:bS,_R:cj}}else if(eZ=="crop"){var U,B,j,Y;if(kM.T){var bb=kM.T.v,U=Math.round(bb.Left.v.val),B=Math.round(bb.Top.v.val),j=Math.round(bb.Rght.v.val)-U,Y=Math.round(bb.Btom.v.val)-B}else{var s=J.c.S;
U=s.x;B=s.y;j=s.r;Y=s.$}ea={h:"canvsize",rA:j,t2:Y,s:new es(U,B),avV:kM.Dlt!=null&&kM.Dlt.v}}else console.log(z);
if(ea)this.dx(ea,X,J,q,W);return}else if(M.h=="imgsize"){T=new gc(0,0,M.rA,M.t2);if(M.TL)m=M.TL;kz=M.C9}else if(M.h=="canvsize"){var c0=M.yu!=null?M.yu:0;
T=new gc(0,0,M.rA,M.t2);var cV=J.r-M.rA,g_=J.$-M.t2,hx=Math.round(cV/2),au=Math.round(g_/2);if(c0==1||c0==4||c0==7)T.x=hx;
if(c0==2||c0==5||c0==8)T.x=cV;if(c0==3||c0==4||c0==5)T.y=au;if(c0==6||c0==7||c0==8)T.y=g_;if(M.s){T.x=M.s.x;
T.y=M.s.y}}else if(M.h=="rot"&&(M.K+2*Math.PI)%(Math.PI/2)!=0){var kP=t.G.mP(T).d,iK=new kp;iK.translate(-d,-A);
iK.rotate(M.K);iK.translate(d,A);t.G.u(kP,iK,kP);T=t.G.Oi(kP)}else if(M.h=="rot"&&M.K!=Math.PI&&M.K!=-Math.PI){T=new gc(d-J.$/2,A-J.r/2,J.$,J.r);
if((J.r+J.$&1)==1){d=Math.floor(d);A=Math.floor(A);T=new gc(d-Math.floor(J.$/2),A-Math.floor(J.r/2),J.$,J.r);
if((J.r&1)==1&&M.K!=-Math.PI/2)T.y--;if((J.$&1)==1&&M.K==-Math.PI/2)T.x--}}else if(M.h=="trim"){_=[11,12,0];
var b3=J.m7(),s=new gc(0,0,J.r,J.$);T=t.pD(b3,s,M.aaR,M._R);if(T.M5())T=s}else if(M.h=="revealAll"){_=[11,12,2];
T=J.root.Hg(J,!0)}var g6=M.h=="canvsize"&&M.avV;if(M.h=="imgsize"||M.h=="rot"||M.h=="scl"||g6){var ef=new kp;
if(M.h=="imgsize"){_=[11,10];ef.scale(M.rA/J.r,M.t2/J.$);hv=J.ob();for(var $=0;$<hv[0].length;$++)hv[0][$][1]*=hv[0][$][0]==0?ef.Jm:ef.Bi}else if(g6){}else{ef.translate(-d,-A);
if(M.h=="rot")ef.rotate(M.K);if(M.h=="scl")ef.scale(M.K.x,M.K.y);ef.translate(d,A);_=M.AC}ch=t.t.WP(ef);
fs=this.NN(J,W,!0,ch,kz,g6?T:null)}else if(M.h=="auto-align"){if(J.O.length<2){alert("Select two or more layers.");
return}var fN=[];for(var $=0;$<J.O.length;$++){var a=J.U[J.O[$]];if(!a.nQ()&&a.add.SoLd==null){alert("Unsupported layer selected.");
return}if(a.S.M5()){alert("Empty layer selected.");return}fN.push([a.buffer,a.S])}var kb=t.Fy.db(fN);
if(kb==null){alert("No similarity found.");return}ch=kb[1];fs=this.NN(J,W,!1,kb,kz);T=J.root.Hg(J,!0);
_=[2,10,1]}var cn=new gc(0,0,J.r,J.$);if(!T.M5()&&(!T.w6(cn)||fs!=null)){var dF=new hY(_,this);dF.data={B0:J.Qv,TL:m,Kq:fs,gY:ch,ww:o.VN.ayD(J,T,cn,fs!=null)};
if(hv){dF.data.q$=J.ob();dF.data.fp=hv}o.VN.a0d(J,dF.data,T);J.Vr(dF);this.AS(dF.data,J,!0)}};o.VN.ayD=function(M,X,J,q){if(M.YY.length==0)return null;
var W=JSON.stringify(M.YY),T=JSON.parse(W);o.OZ.a5$(T,X,J,q);T=JSON.stringify(T);return[W,T]};o.VN.prototype.NN=function(M,X,J,q,W,T,_){var m={U:[],gE:null,ir:!0};
if(J)m.U=o.fx.EM(M);else m.U=M.O.slice(0);m.gE=o.fx.iU(M,m.U,!0);var d=Math.abs(q[3]*q[1])>1e-9;o.fx.BG(M,X,m.U,m.gE,W,q,null,!0,d&&t.t.Jb(q)?null:T);
if(J&&_&&M.KE()){var A=M.U[M.O[0]],p=A.buffer,a=A.S,f=d?a.Q():T.Q(),s=t.j(f.o()*4),j=t.j(a.o());t.SF(p,j,3);
var Y=t.j(f.o());t.Rc(j,a,Y,f);t.round(Y,255);t.vN(Y);var G=t.kr.MN(p,a,Y,s,f);if(G==0){A.S=f;A.buffer=s}}return m};
o.VN.prototype.AS=function(M,X,J){if(M.TL)X.Qv=M.TL;if(M.ww)X.YY=JSON.parse(M.ww[1]);if(M.Kq){o.VN.Af(X,t.t.Gy(M.gY));
if(J==null)o.fx.WH(X,M.Kq);if(M.fp)X.tO(M.fp)}o.VN.vK(X,M)};o.VN.prototype.df=function(M,X){if(M.B0)X.Qv=M.B0;
if(M.ww)X.YY=JSON.parse(M.ww[0]);o.VN.d2(X,M);if(M.gD)X.k.s.GO(M.gD);X.alo();if(M.Kq){var J=t.t.Gy(M.gY).Q();
J.vN();o.VN.Af(X,J);o.fx.WH(X,M.Kq);if(M.q$)X.tO(M.q$)}};o.VN.Af=function(M,X){for(var $=0;$<M.U.length;
$++){var J=M.U[$];if(J.add.artb==null)continue;var q=t.G.mP(J.PH()).d;t.G.u(q,X,q);var W=t.G.Oi(q);J.oQ(W)}};
o.VN.Un=function(M){var X=new gc,J=0,q=M.root.children.length;for(var $=0;$<q;$++){var W=M.root.children[$].w;
if(W.add.artb==null)continue;X=X.m0(W.PH());J++}var T=new gc(0,0,M.r,M.$);if(!X.M5()&&!T.w6(X))return X;
return null};o.VN.Eh=function(M){var X=o.VN.Un(M);if(X)o.VN.cC(M,X,!0);return X};o.VN.cC=function(M,X,J){var q=M.r,W=M.$,T=X.r,_=X.$,m=X.x==0&&X.y==0;
if(m&&q==T&&W==_)return;M.r=T;M.$=_;var d=[];for(var $=0;$<M.U.length;$++)d.push($);if(!m)o.UA.ax(M,d,null,-X.x,-X.y);
for(var $=0;$<M.U.length;$++){M.U[$].j$(M)}M.alo();if(J){var A=M.k.s,p=M.k.r7;A.x+=Math.round((X.x+(T-q)/2)*p);
A.y+=Math.round((X.y+(_-W)/2)*p)}else M.k.s.cn(0,0);if(M.c)M.c.S.offset(-X.x,-X.y);var a=M.ob();for(var f=0;
f<a[0].length;f++)if(a[1][f]==-1){var s=M.aZ[f];s[1]-=s[0]==0?X.x:X.y}for(var $=0;$<M.OD.length;$++)M.OD[$].S.offset(-X.x,-X.y);
for(var $=0;$<M.Qt.length;$++)t.I.cI(M.Qt[$].add.vmsk.X,new kp(1,0,0,1,-X.x,-X.y))};o.VN.prototype.Nn=function(M,X,J,q,W){if(M.ys=="commit"){this.Um(J,W);
this.BL(J,X,null,q)}else if(M.ys=="cancel"){this.BL(J,X,null,q)}var T=null,_=new gc(0,0,J.r,J.$),m=this.Ye.aB;
if(M.ys=="config"){this.Ye=M.Ye;m=this.Ye.aB;if(J==null||!M.a5B)return;T=_;if(m.Y==1){var d=m.x/m.y;
if(T.r/d<T.$)T.$=Math.round(T.r/d);else T.r=Math.round(T.$*d)}if(m.Y==2){T.r=m.x;T.$=m.y}T.x=Math.round((J.r-T.r)/2);
T.y=Math.round((J.$-T.$)/2);this.yG=!1}if(M.ys=="straighten"){alert("Draw a line in the image.");this.QK=!0}if(M.ys=="cropby"){if(J==null)return;
var A=M.aDC,T;if(A==0)T=J.root.Hg(J,!0);if(A==1){if(J.O.length==0)alert("No layer is selected.");else{var p=J.root.Hc(J.O[0]);
T=p.Hg(J,!0)}}if(A==2){if(J.O.length==0)alert("No layer is selected.");else{T=t.pD(J.m7(),_,0);if(T.M5())T=_.Q()}}if(A==3){if(J.c!=null)T=J.c.S;
else alert("There is no selection.")}if(A==4){T=new gc(0,0,J.r,J.$)}}if(T&&T.M5())T=null;if(T!=null){this.Di=this.J5(T,m.Y!=0);
this.Di.kW(J,W);this.tW(X,r.E.C,{h:r.m.ZQ,J:this.id,M9:!0})}};o.bv.Dk(o.VN);o.VN.prototype.Um=function(M,X){var J=this.Di.PL(),q=t.G.Oi(J),W=this.a5c(M,J),T=!1,_=this.Ye,m=_.aB,d=_.cC,A=m.x,p=m.y,s;
if(this.id==o.BP&&m.Y==2&&W.o()!=A*p){W=new gc(W.x,W.y,A,p);T=!0}var a=t.t.bw(J,W);a=t.t.vN(a);var f=!t.t.Jb(a),j=Math.abs(Math.atan2(a[3],a[0]))>1e-9,Y=new gc(0,0,M.r,M.$);
if(j||f||T||d||_.$Q)s=this.NN(M,X,!0,a,1,q,_.$Q);if(!j&&!f&&!T&&W.w6(Y))return;var G=new hY(this.name,this);
G.data={Kq:s,gY:a,gD:M.k.s.Q(),ww:o.VN.ayD(M,W,Y,!1)};if(m.Qv!=null){G.data.B0=M.Qv;G.data.TL=m.Qv}o.VN.a0d(M,G.data,W);
M.Vr(G);this.AS(G.data,M,!0);this.track(o.VN.anH([q.x,q.y,q.r,q.$],null,d))};o.VN.a0d=function(M,X,J){if(J==null)return;
X.uX=new gc(0,0,M.r,M.$);X.FY=J};o.VN.vK=function(M,X){if(X.FY==null)return;o.VN.cC(M,X.FY)};o.VN.d2=function(M,X){if(X.FY==null)return;
var J=X.uX.Q();J.offset(-X.FY.x,-X.FY.y);o.VN.cC(M,J)};o.VN.prototype.a5c=function(M,X){var J=t.t.bw(X),q=t.t.Jb(J),W=t.t.Gy(J),T=W._f,_=W.Ey,m=Math.atan2(W.g,W.Jm);
W.rotate(m);var d=new gc(T,_,W.Jm,W.Bi);if(!q){function A(g,$,S){var U=g[$]-g[S],B=g[$+1]-g[S+1];return Math.sqrt(U*U+B*B)}var p=A(X,0,2),a=A(X,4,6),f=Math.max(p,a),s=A(X,2,4),j=A(X,6,0),Y=Math.max(s,j),G=o.VN.cr(X,M.r/2,M.$/2),Q,Z;
if(isNaN(G)||G==Infinity||G==-Infinity||Math.min(G,1/G)<.1)G=(p+a)/(s+j);if(f/Y>G){Q=f*1;Z=Q/G}else{Z=Y*1;
Q=Z*G}d.r=Q;d.$=Z}d.x=Math.round(d.x);d.y=Math.round(d.y);d.r=Math.round(d.r);d.$=Math.round(d.$);return d};
o.VN.cr=function(M,X,J){var q=M[0]-X,W=M[1]-J,T=M[2]-X,_=M[3]-J,m=M[6]-X,d=M[7]-J,A=M[4]-X,p=M[5]-J,a=((W-p)*m-(q-A)*d+q*p-W*A)/((_-p)*m-(T-A)*d+T*p-_*A),f=((W-p)*T-(q-A)*_+q*p-W*A)/((d-p)*T-(m-A)*_+m*p-d*A),s=-((f*d-W)*(a*_-W)+(f*m-q)*(a*T-q))/((f-1)*(a-1));
function j(G){return G*G}var Y=Math.sqrt((j(a-1)+j(a*_-W)/s+j(a*T-q)/s)/(j(f-1)+j(f*d-W)/s+j(f*m-q)/s));
if(a==1&&f==1)Y=Math.sqrt((j(_-W)+j(T-q))/(j(d-W)+j(m-q)));return Y};o.VN.prototype.BL=function(M,X,J,q){if(M==null)return;
if(this.Di)this.Di.clear(M);this.Di=null;this.tW(X,r.E.C,{h:r.m.ZQ,J:this.id,M9:!1})};o.VN.prototype.disable=function(M,X,J,q){if(this.Di&&!this.yG)this.Um(M,J);
this.BL(M,X,J,q)};o.VN.prototype.tW=function(M,X,J,q){var W=new jb(X,!0);W.data=J;if(q)W.J=q;M.a(W)};
o.ard=function(){o.VN.call(this,[10,2],o.BP,"tools/rcrop")};o.ard.prototype=new o.VN;o.amH=function(){o.VN.call(this,[10,39],o.$k,"tools/pcrop")};
o.amH.prototype=new o.VN;o.W1=function(){o.X_.call(this,[10,21],o.k0,"tools/dodge");this.yQ="dodge"};
o.W1.prototype=new o.X_;o.W1.prototype.H_=function(M,X,J,q,W){this.it(M,J,q,W,this.Ye.expo/Math.PI);
if(this.Pe==null)return;this.Vj(M)};o.W1.prototype.T_=function(M,X,J,q,W){this.iZ(M,X,J);if(this.lJ)this.aM(M,J,W);
if(this.Pe==null)return;if(!W.kJ)return;this.RF(M,J,q,W);this.Vj(M)};o.MQ=function(){o.X_.call(this,[10,3],o.g$,"tools/eraser");
this.yQ="erase"};o.MQ.prototype=new o.X_;o.MQ.prototype.H_=function(M,X,J,q,W){this.it(M,J,q,W,this.Ye.flow);
if(this.Pe==null)return;this.Vj(M)};o.MQ.prototype.T_=function(M,X,J,q,W){this.iZ(M,X,J);if(this.lJ)this.aM(M,J,W);
if(this.Pe==null)return;if(!W.kJ)return;var T=this.RF(M,J,q,W);this.Vj(M)};o.D8=function(){o.X_.call(this,[10,45],o.nS,"tools/beraser");
this.yQ="ierase"};o.D8.prototype=new o.X_;o.D8.prototype.H_=function(M,X,J,q,W){if(this.AH(M,X,J,q,W,!0))return;
this.it(M,J,q,W,this.Ye.flow);if(this.Pe==null)return;this.Vj(M)};o.D8.prototype.T_=function(M,X,J,q,W){if(this.AH(M,X,J,q,W))return;
this.iZ(M,X,J);if(this.lJ)this.aM(M,J,W);if(this.Pe==null)return;if(!W.kJ)return;this.RF(M,J,q,W);this.Vj(M)};
o.R3=function(){o.Gp.call(this,[10,15],o.FN,"tools/rselect");this.FU=o.mB()};o.R3.prototype=new o.Gp;
o.R3.prototype.yf=function(M,X,J,q){if(!q.kJ||!this.rw)return;var W=this.Hg(M,J,!0);M.aS.Gn=t.G.mP(W);
M.fy=!0;o.bv.wX(q,W,M,X)};o.R3.prototype.BY=function(M,X,J,q){M.aS.Gn=null;M.aS.Lh=[];M.fy=!0;this.finish(M,X,J,q)};
o.R3.prototype.getSelection=function(M,X,J,q){if(this.fi.w6(this.EE)||!this.rw)return null;var W=this.Hg(M,J,!0);
if(W.M5())return null;return o.Gp.dS("Rctn",W,this.Ye.anta)};o.bv.Dk(o.R3);o.TM=function(){o.Gp.call(this,[10,4],o.ajX,"tools/eselect");
this.FU=o.mB()};o.TM.prototype=new o.Gp;o.TM.prototype.yf=function(M,X,J,q){if(!q.kJ||!this.rw)return;
var W=this.Hg(M,J);M.aS.Gn=o.TM.arF(W);M.fy=!0;o.bv.wX(q,W,M,X)};o.TM.prototype.BY=function(M,X,J,q){M.aS.Gn=null;
M.aS.Lh=[];M.fy=!0;this.finish(M,X,J,q)};o.TM.prototype.getSelection=function(M,X,J,q){if(this.fi.w6(this.EE)||!this.rw)return null;
var W=this.Hg(M,J);if(!W.B8(new gc(0,0,M.r,M.$)))return null;return o.Gp.dS("Elps",W,this.Ye.anta)};
o.TM.arF=function(M){var X=M.x,J=M.y,q=M.x+M.r,W=M.y+M.$,T=(X+q)/2,_=(J+W)/2,m=(X-q)/2,d=(J-W)/2,A=.5522848,p={d:[T,_-d],C6:["M","C","C","C","C"]};
p.d.push(T+A*m,_-d,T+m,_-A*d,T+m,_);p.d.push(T+m,_+A*d,T+A*m,_+d,T,_+d);p.d.push(T-A*m,_+d,T-m,_+A*d,T-m,_);
p.d.push(T-m,_-A*d,T-A*m,_-d,T,_-d);return p};o.bv.Dk(o.TM);o.SK=function(M){o.bv.call(this,[10,5],M?o.yM:o.iM,"tools/eyedropper");
this.E6=null;this.acT=!1;this.zo=0;this.sm=null;this.V9=1;this.Wi=2;this.atu=!0;this.op=!1};o.SK.prototype=new o.bv;
o.SK.prototype.vI=function(M){return M.kJ};o.SK.prototype.enable=function(M,X,J,q,W){o.bv.prototype.enable.call(this,M,X,J,q,W);
this.acT=W};o.SK.prototype.dx=function(M,X,J,q,W){if(M.h=="pickhere")this.c9(J,X,W,null,M.aht);if(M.h=="supertool")this.E6=M.J};
o.SK.prototype.H_=function(M,X,J,q,W){var T=this.E6;if(T){T.H_(M,X,J,q,W);return}if(gj==0){this.sm=W;
this.zo=J.pU;var _=this.c9(M,null,J,q,W);this.WQ(M,X,_,W)}};o.SK.prototype.T_=function(M,X,J,q,W){if(gj!=0)return;
var T=this.E6;if(T){T.T_(M,X,J,q,W);return}var _=this.sm;if(_){var m=W.x-_.x,d=W.y-_.y,A=1,p=new es(_.x+m*A,_.y+d*A),a=this.c9(M,null,J,q,p);
this.WQ(M,X,a,p,new es(m*(1-A),d*(1-A)))}};o.SK.prototype.WQ=function(M,X,J,q,W){var T=this.atu,_=this.op;
if(M.k.r7>4)_=!1;if(!_&&!T)return;var m=o.SK.a2j(M,_,T,q,W,J,this.zo,this.V9),d=new jb(r.E.C,!0);d.data={h:r.m.Hf,Ny:m};
X.a(d)};o.SK.prototype.fw=function(M,X,J,q,W,T){var _=this.E6;if(_){_.fw(M,X,J,q,W);return}if(gj==0){this.c9(M,X,J,q,W);
if(this.sm){this.sm=null;if(T)this.c9(M,X,J,q,W,this.zo);var m=new jb(r.E.C,!0);m.data={h:r.m.Hf,Ny:"default"};
X.a(m)}}else{var d=M.k.Ob(W.x,W.y),A=M.root.WR(new es(Math.floor(d.x),Math.floor(d.y)));if(A==null)return;
var p=A.w.add,a=p.vstl,f=p.TySh;console.log(p);if(a==null&&f){var s=f.Zj,j=f5.TC(s,0,1);a={nz:j.cN.FillColor.Values.slice(1),s0:[]}}if(a==null)return;
var m=new jb(r.E.C);m.data={h:r.m.OA,iw:bN.BC,K:t.b(a)};X.a(m)}};o.SK.prototype.c9=function(M,X,J,q,W,T){if(T==null)T=o.SK.eH(M,W,this.V9,this.Wi);
var _=new jb(r.E.C);_.data={h:r.m.OA,iw:bN.M3,NL:!this.acT&&q&&q.M(hP.Ke)?1:0,K:T};if(X)X.a(_);return T};
o.SK.a2j=function(M,X,J,q,W,T,_,m){if(W==null)W=new es(0,0);var d=new gc(0,0,M.r,M.$),A=M.m7(),p=12,a=11,f=(p*2+1)*a,s=new es(f/2,f/2),j=new gc(0,0,f,f),Y=t.j(j.o()*4),G=M.k.Ob(q.x,q.y),Q=Math.floor(G.x),Z=Math.floor(G.y),g=new kp;
g.scale(1/a,1/a);g.translate(Q-p,Z-p);if(X)t.scale.B4(A,d,g,Y,j);var S=(p-3.4)*a,U=(p-1.7)*a,B=p*a;for(var e=0;
e<f;e++)for(var P=0;P<f;P++){var h=es.Yq(new es(P,e),s);if(h>S){if(J){var V=Math.max(0,S-h+1),I=(e*f+P)*4,F=Y[I+3]<<24|Y[I]<<16|Y[I+1]<<8|Y[I+2],c=255<<24|(e<B+a*.5?T:_);
if(h>U){V=Math.max(0,U-h+1);F=c;c=4286611584}else if(!X){F=c&16777215}Y[I+0]=(1-V)*(c>>>16&255)+V*(F>>>16&255);
Y[I+1]=(1-V)*(c>>>8&255)+V*(F>>>8&255);Y[I+2]=(1-V)*(c>>>0&255)+V*(F>>>0&255);Y[I+3]=(1-V)*(c>>>24&255)+V*(F>>>24&255)}if(h>B){Y[(e*f+P)*4+3]=Math.max(0,255*(B-h+1))}}}function D($){var O=$<<2;
Y[O]=0;Y[O+1]=0;Y[O+2]=0;Y[O+3]=255}function n($){var O=$<<2;Y[O]=255;Y[O+1]=255;Y[O+2]=255;Y[O+3]=255}var k=m*a+2,b=f-k>>>1,N=b+k-1;
if(X&&k<f)for(var $=0;$<k;$++){var L=b*f+b+$,R=N*f+b+$,i=(b+$)*f+b,v=(b+$)*f+N;D(L);D(R);D(i);D(v);if($!=0&&$!=k-1){n(L+f);
n(R-f);n(i+1);n(v-1)}}if(!X)for(var $=-9;$<=9;$++){if(-3<$&&$<3)continue;var E=f>>>1,P=E*f+E+$,e=(E+$)*f+E;
n(P-f);D(P);n(P+f);n(e-1);D(e);n(e+1)}var u=T>>>16&255,C=T>>>8&255,l=T>>>0&255,x="RGB "+u+","+C+","+l,y=t.jW([u/255,C/255,l/255]);
if(M.add.fcmy)x="CMYK "+y.map(function(O){return Math.round(O*100)}).join(",");var ge=o.bv.z6(0,0,["#"+t.NZ(T),x]),d=ge[1];
d.y=0;d.x=f-d.r>>>1;t.fA(ge[0],d,Y,j);return{J_:Y,Os:j,UO:new es(s.x+W.x,s.y+W.y)}};o.SK.eH=function(M,X,J,q,W){if(q==null)q=2;
var T=M.k.Ob(X.x,X.y),_,m,d=M.O.length==1&&M.U[M.O[0]].tD>0&&W!=!0,A=M.LV.length!=0,U=0,B=0,e=0;if(d||A){var p;
if(A)p=M.OD[M.LV[0]];else{var a=M.U[M.O[0]];p=a.tD==1?a.hM():a.aui()}m=p.Hg();if(!m.ZO(T))return p.color==0?0:16777215;
_=t.j(m.o()*4);_.fill(255);var f=p.ps();t.Qh(f,_)}else if(q==0&&M.O.length!=0){var a=M.U[M.O[0]];_=a.buffer;
m=a.S}else{_=q==2?M.m7():M.m7(M.O[0]);m=new gc(0,0,M.r,M.$)}var s=Math.floor(T.x)-m.x,j=Math.floor(T.y)-m.y,Y=(J-1)/2,G=Math.max(0,s-Y),Q=Math.max(0,j-Y),Z=Math.min(m.r,s+Y+1),g=Math.min(m.$,j+Y+1),S=(Z-G)*(g-Q);
for(var s=G;s<Z;s++)for(var j=Q;j<g;j++){var $=4*(j*m.r+s);U+=_[$];B+=_[$+1];e+=_[$+2]}var P=t.qP(_),h=P==8?255:P==16?65535:1,V=255/(h*S);
U=Math.round(U*V);B=Math.round(B*V);e=Math.round(e*V);return U<<16|B<<8|e};o.SK.prototype.Nn=function(M){var X=M.Ye;
this.V9=[1,3,5,11,31][X[0]];this.Wi=X[1];this.atu=X[2];this.op=X[3]};o.kO=function(){o.bv.call(this,[10,6],o.zz,"tools/gradient");
this.Ye=JSON.parse(kf.px[6]);this.Ye.Grad=JSON.parse(kf.rs.awb);this.mw=!1;this.iH=null;this.b_=null};
o.kO.prototype=new o.bv;o.kO.prototype.enable=function(M,X,J,q){o.bv.prototype.enable.call(this,M,X,J,q);
this.iH=M;if(this.mw)o.in.hV(M)};o.kO.prototype.qc=function(M,X,J,q){if(J.Rk!=this.id)return;this.iH=M;
this.aAH(M,X)};o.kO.prototype.disable=function(M,X,J,q){this.iH=null;if(this.mw)o.in.Yv(M)};o.kO.prototype.aAH=function(M,X){var J=o.in.Sm(M);
this.mw=J!=null;var q=new jb(r.E.C,!0);q.data={h:r.m.ZQ,J:this.id,iw:J?M.U[M.O[0]].add.GdFl:this.Ye,I:this.mw};
X.a(q);if(this.mw)o.in.hV(M);else o.in.Yv(M)};o.kO.prototype.Nn=function(M){var X=this.iH;if(this.mw){var J=X.U[X.O[0]],q=J.add.GdFl;
if(q==null)return;this.CQ=JSON.stringify(q);J.add.GdFl=M.iw;J.j$(X);X.vV();o.in.ahz(this,X);o.in.hV(X)}else this.Ye=M.iw};
o.kO.prototype.H_=function(M,X,J,q,W){if(this.mw){o.in.prototype.H_.call(this,M,X,J,q,W);return}if(!M.KE())return;
this.b_=o.UA.kZ(M,M.k.Ob(W.x,W.y),J)};o.kO.prototype.T_=function(M,X,J,q,W){if(this.mw){o.in.prototype.T_.call(this,M,X,J,q,W);
return}if(!this.b_)return;var T=M.k.Ob(W.x,W.y);T=o.UA.kZ(M,T,J);if(q.M(hP.HG))T=o.kO.gK(this.b_,T);
M.aS.Gn={d:[this.b_.x,this.b_.y,T.x,T.y],C6:["M","L"]};M.aS.Fm=[this.b_.x,this.b_.y,T.x,T.y];M.fy=!0};
o.kO.prototype.fw=function(M,X,J,q,W){if(this.mw){o.in.prototype.fw.call(this,M,X,J,q,W);return}if(!this.b_)return;
var T=M.U[M.O[0]],_=M.k.Ob(W.x,W.y);_=o.UA.kZ(M,_,J);if(q.M(hP.HG))_=o.kO.gK(this.b_,_);if(es.Yq(this.b_,_)>2){var m;
if(M.c)m=M.c.S;else m=new gc(0,0,M.r,M.$);var d=t.j(m.o()*4,M.depth),A=this.Ye,p=A.Type.v.GrdT,a=A.Opct.v.val,f=this.b_;
if(p=="Lnr")f=new es((f.x+_.x)/2,(f.y+_.y)/2);t.NX.Z5(f,_,m,A);hA.Yx(A,d,m,M,null,null,J.pU,J.Yt);var s=d.length,j=a/100;
if(a!=100)for(var $=0;$<s;$+=4)d[$+3]=Math.round(d[$+3]*j);var Y=new jb(r.E.H);Y.J=o.g$;Y.data={h:"fillBMP",w$:d,VC:ae.Wz(A.Md.v.BlnM),AC:this.name};
X.a(Y)}M.aS.Gn=null;M.aS.Fm=[];M.fy=!0;this.b_=null};o.kO.prototype.dx=function(M,X,J,q,W){function T(a){a=a.v;
var f=a.Hrzn.v.val,s=a.Vrtc.v.val;return J.k.fT(f,s)}if(M.h=="fromAction"){var _=this.Ye;this.Ye=t.b(_);
var m=M.xo.Qd,d=["Grad","Type","Opct","Dthr"];for(var $=0;$<d.length;$++)if(m[d[$]])this.Ye[d[$]]=m[d[$]];
var A=T(m.From),p=T(m.T);this.H_(J,X,W,q,A);this.fw(J,X,W,q,p);this.Ye=_}};o.kO.gK=function(M,X){if(M.w6(X))return M;
var J=X.x-M.x,q=X.y-M.y,W=Math.abs(J),T=Math.abs(q);if(W>T)T=W/2>T?0:W;if(T>W)W=T/2>W?0:T;W=J>0?W:-W;
T=q>0?T:-T;var _=Math.sqrt(J*J+q*q)/Math.sqrt(W*W+T*T);return new es(M.x+W*_,M.y+T*_)};o.kO.aw=function(M,X,J,q,W,T,_){var m=new gc(0,0,X,J),d=t.j(X*J*4);
t.qR(d,X,J,4);var A=Math.sin(q),p=Math.cos(q),a=t.j(X*J*4);t.NX.Bt(M,a,m,[p*1/X,A*1/X,-A*1/J,p*1/J],X/2,J/2,!1,0,W,T);
t.v.r$("norm",a,m,d,m,m,1);if(_)return new ImageData(new Uint8ClampedArray(d.buffer),X,J);else return h1.pI(d.buffer,X,J,null,null,!0)};
o.kO.alY=function(M,X,J){var q=t.b(M);if(q.Clrs)for(var $=0;$<q.Clrs.v.length;$++){var W=q.Clrs.v[$].v,T=W.Type.v.Clry;
if(T=="UsrS")continue;var _=T=="FrgC"?X:J;W.Type.v.Clry="UsrS";W.Clr={t:"Objc",v:t.NX.$J({z:_>>16&255,L:_>>8&255,g:_&255})}}return q};
o.kO.prototype.AS=function(M,X){o.in.prototype.AS.call(this,M,X)};o.kO.prototype.df=function(M,X){o.in.prototype.df.call(this,M,X)};
o.in=function(){o.bv.call(this,"Vector Gradient",o.a8_,"tools/gradient");this.SD=null;this.Kw=null;this.EF=null;
this.CQ};o.in.prototype=new o.bv;o.in.prototype.enable=function(M,X,J,q){o.in.hV(M)};o.in.prototype.qc=function(M,X,J,q){if(J.Rk!=this.id)return;
o.in.hV(M)};o.in.prototype.disable=function(M,X,J,q){o.in.Yv(M)};o.in.Yv=function(M){if(M==null)return;
M.aS.OX=null;M.aS.Fm=[];M.fy=!0};o.in.prototype.H_=function(M,X,J,q,W){var T=o.in.Sm(M);if(T==null&&gj==0){var _=new jb(r.E.pL,!0);
_.data=o.QX.Zc(1);X.a(_);T=o.in.Sm(M)}if(T==null)return;var m=o.UA.kZ(M,M.k.Ob(W.x,W.y),J),d=o.in.l2(T,m,M),A=M.U[M.O[0]],p=A.add.GdFl,a=A.add.vstl;
this.CQ=JSON.stringify(gj==0?p:a);this.SD=m;if(d==-1){var f=T[1];this.Kw=[m.x,m.y,m.x+2,m.y];if(f[0]==1){this.Kw.push(m.x,m.y-2);
f[2][4]=1}this.EF=1;o.in.aFb(M,this.Kw)}else{this.Kw=T[0];this.EF=d}};o.in.prototype.T_=function(M,X,J,q,W){var T=M.k.Ob(W.x,W.y),_=o.in.Sm(M),m=this.EF;
if(m!=null){var d=this.Kw.slice(0);T=o.UA.kZ(M,T,J);if(q.M(hP.HG))T=o.kO.gK(new es(d[0],d[1]),T);var A=T.x-d[m*2],p=T.y-d[m*2+1];
if(m==0){for(var $=0;$<d.length;$+=2){d[$]+=A;d[$+1]+=p}}else{d[m*2]+=A;d[m*2+1]+=p}o.in.aFb(M,d,m)}else if(_){var a=o.in.l2(_,T,M),f=new jb(r.E.C,!0);
f.data={h:r.m.Hf,Ny:a==-1?"default":a==0?"move":"pointer"};X.a(f)}o.in.hV(M)};o.in.l2=function(M,X,J){var q=6*o.pv()/J.k.r7,W=M[0],T=t.G.aG(W,X.x,X.y,q);
if(T==0&&W.length==8&&W[0]==W[6]&&W[1]==W[7])T=3;if(T==-1&&M[1][0]==1)T=t.G.aG(W.slice(0,2),X.x,X.y,2*q);
return T};o.in.prototype.fw=function(M,X,J,q,W){if(this.Kw==null)return;this.Kw=null;this.EF=null;o.in.ahz(this,M)};
o.in.ahz=function(M,X){var J=X.O[0],q=X.U[J],W=q.add.GdFl,T=q.add.vstl,_=JSON.stringify(W?W:T),m=X.history[X.sv];
if(m&&m.J==M&&m.data.ec==J)m.data.fp=_;else{var d=new hY("Change Gradient",M);d.data={ec:J,q$:M.CQ,fp:_};
X.Vr(d)}};o.in.aFb=function(M,X,J){var q=M.U[M.O[0]],W=q.add.GdFl,T=q.add.vstl,_=q.add.vmsk,m=new es(X[0],X[1]),d=new es(X[2],X[3]),A=new es(X[4],X[5]),p=new es(X[6],X[7]);
if(T){var a=T.nz[0],f=T.nz[2],s=br.Co(m,d,new kp),j=br.Fa(a,s,_.X);if(a==1){var Y=es.Yq(A,m)/es.Yq(d,m);
if(Math.abs(Y-1)<.03)Y=1;j[2][4]=J==2?Y:f[4];if(J==3){if(es.Yq(p,m)/es.Yq(d,m)<.05)p=m.Q();br.L_(j,m,d,p,j[2][4]);
if(j[2][6]>.999)j[2][6]=.999}else{j[2][5]=f[5];j[2][6]=f[6]}}j[1]=T.nz[1];T.nz=j}else{var a=W.Type.v.GrdT,G=q.S;
if(a=="Lnr"||a=="Rflc"){m.x=(m.x+d.x)/2;m.y=(m.y+d.y)/2}t.NX.Z5(m,d,G,W);q.j$(M)}M.vV()};o.in.Sm=function(M){if(M==null||M.O.length==0)return;
var X=M.U[M.O[0]],J=X.add.GdFl,q=X.add.vstl;if(J==null&&q==null)return;if(q==null)q=dD.yg(X.add,M);var W=q.nz;
if(W.length!=4)return;var T=X.add.vmsk?X.add.vmsk.X:t.I.bg.Rect(0,0,M.r,M.$),_=br.K9(W,T),T=[0,0,1,0];
if(gj==1&&W[0]==1){var m=W[2][5]*Math.PI/180,d=W[2][6];T.push(0,-1,Math.cos(m)*d,-Math.sin(m)*d)}t.G.u(T,_,T);
return[T,W,_]};o.in.hV=function(M){if(M)o.in.Yv(M);var X=o.in.Sm(M);if(X==null)return;var J=X[0],q=X[1],W=X[2],T={d:J.slice(0,4),C6:["M","L"]};
if(q[0]==1){var _=t.I.bg.hQ(-1,-1,2,2),m=t.G.BM(_);t.G.u(m.d,W,m.d);t.G.concat(T,m)}M.aS.OX=T;M.aS.Fm=J;
M.fy=!0};o.in.prototype.AS=function(M,X){var J=X.U[M.ec],q=gj==0?"GdFl":"vstl";if(M.fp){J.add[q]=JSON.parse(M.fp);
J.j$(X);X.vV();o.in.Yv(X)}};o.in.prototype.df=function(M,X){var J=X.U[M.ec],q=gj==0?"GdFl":"vstl";if(M.fp){J.add[q]=JSON.parse(M.q$);
J.j$(X);X.vV();o.in.Yv(X)}};o.Yz=function(){o.bv.call(this,[10,7],o.Cm,"tools/hand");this.xs=!1;this.sm=new es(0,0);
this._M=null;this.T5=0};o.Yz.prototype=new o.bv;o.Yz.prototype.Nn=function(M,X,J,q){this.xs=M.xs};o.Yz.prototype.dx=function(M,X,J,q,W){var T=M.h;
if(T=="setcls"){J.k.KV=M.KV;J.fy=!0;J.K8=!0}if(T=="scroll"){if(q.M(hP.WM))o.Yz.Z_(J,J.k.s.x-M.Kb.y,J.k.s.y-M.Kb.x);
else o.Yz.Z_(J,J.k.s.x-M.Kb.x,J.k.s.y-M.Kb.y)}};o.Yz.prototype.enable=function(M,X,J,q){this._M=null;
var W=new jb(r.E.C,!0);W.data={h:r.m.Hf,Ny:"grab"};X.a(W);if(M&&Date.now()-this.T5<300){W.e=r.E.H;W.J=o.QC;
W.data={h:"adapt",K:"fitscr"};X.a(W)}this.T5=Date.now()};o.Yz.prototype.H_=function(M,X,J,q,W){this._M=M.k.s.Q();
this.sm.cn(W.x,W.y)};o.Yz.prototype.T_=function(M,X,J,q,W){if(!W.kJ)return;if(this._M==null)this.H_(M,X,J,q,W);
var T=this.xs?X.td:[M];for(var $=0;$<T.length;$++)o.Yz.Z_(T[$],this._M.x+(W.x-this.sm.x),this._M.y+(W.y-this.sm.y))};
o.Yz.prototype.fw=function(M,X,J,q,W){this._M=null};o.Yz.Z_=function(M,X,J){var q=M.k.r7,W=M.k.dy,T=W.r,_=W.$,m=t.G.mP(new gc(0,0,M.r,M.$)).d,d=new kp;
d.rotate(M.k.Ow);t.G.u(m,d,m);var A=t.G.Cs(m),p=A.r*q,a=A.$*q,f=p<T&&a<_,s=T/2+p/2-64,j=_/2+a/2-64;M.k.s.cn(Math.max(-s,Math.min(s,X)),Math.max(-j,Math.min(j,J)));
M.K8=!0};o.lS=function(){o.bv.call(this,[10,47],o.GA,"tools/rview");this.sm=new es(0,0);this.WS=null;
this.wV=null;this.T5=0};o.lS.prototype=new o.bv;o.lS.prototype.enable=function(M,X,J,q){this._M=null;
var W=new jb(r.E.C,!0);W.data={h:r.m.Hf,Ny:"grab"};X.a(W);if(M&&Date.now()-this.T5<300&&M.k.Ow!=0){M.k.Ow=0;
M.fy=!0}this.T5=Date.now();if(M)this.j8(M,X)};o.lS.prototype.disable=function(M,X,J,q,W){if(M)this.j8(M,X)};
o.lS.prototype.BW=function(M,X,J,q){if(M)this.j8(M,X)};o.lS.prototype.H_=function(M,X,J,q,W){this.sm.cn(W.x,W.y);
var T=M.k;this.WS=T.Ob(T.dy.r/2,T.dy.$/2);this.wV=T.Zg();var _=T.Ob(T.dy.r/2,T.dy.$/2),m=Math.min(T.dy.r,T.dy.$)*.35/T.r7,d=m*.2,A=_.x,p=_.y;
M.aS.Gn={C6:"M L L L L L".split(" "),d:[A,p,A,p-m,A+d,p,A,p+m,A-d,p,A,p-m]};M.fy=!0};o.lS.prototype.aFH=function(M){var X=M.k,J=X.Ob(X.dy.r/2,X.dy.$/2);
M.aS.Gn={C6:["M","L"],d:[J.x,J.y,J.x,J.y-200]}};o.lS.prototype.T_=function(M,X,J,q,W){if(!W.kJ)return;
var T=M.k,_=this.WS,m=this.sm,d=new es(T.dy.r/2,T.dy.$/2),A=Math.atan2(W.y-d.y,W.x-d.x),p=Math.atan2(m.y-d.y,m.x-d.x),a=Math.atan2(this.wV.g,this.wV.Jm),f=A-p,s=Math.PI/4;
if(q.M(hP.HG)){f=a+s*Math.round((f-a)/s)}this.a0t(M,X,this.wV.Q(),_,f)};o.lS.prototype.fw=function(M,X,J,q,W){M.aS.Gn=null;
M.fy=!0};o.lS.prototype.Nn=function(M,X,J,q){this.a0t(J,X,null,null,M.$R-J.k.Ow);J.k.Ow=M.$R};o.lS.prototype.a0t=function(M,X,J,q,W){var T=M.k;
if(J==null)J=T.Zg();if(q==null)q=T.Ob(T.dy.r/2,T.dy.$/2);J.translate(-q.x,-q.y);J.rotate(W);J.translate(q.x,q.y);
T.aaJ(J);if(M.r*T.r7<T.dy.r&&M.$*T.r7<T.dy.$)T.s.cn(0,0);M.fy=!0;this.j8(M,X)};o.lS.prototype.j8=function(M,X){var J=new jb(r.E.C,!0);
J.data={h:r.m.ZQ,J:this.id,$R:M.k.Ow};X.a(J)};o.Gj=function(){o.Sz.call(this,[10,25],o.It,"tools/hbrush")};
o.Gj.prototype=new o.Sz("");o.Gj.prototype.fw=function(M,X,J,q,W){if(this.Pe==null)return;this.xz(M,"heal",this.Pe.io(),this.Pe.Hg(),this.Pe.m1());
this.vV(M,this.Pe.m1());o.X_.prototype.fw.call(this,M,X,J,q,W);if(!this.Ye.algnd)this.s=null};o.FE=function(M){o.bv.call(this,M?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],M?o.Aj:o.JT,M?"tools/vtype":"tools/htype");
this.AL=[];this.f=null;this.caller=null;this.UC=1;this.eq=0;this.ik=null;this.aAW=0;this.jf=0;this.aiy=null;
this.W0=null;this.lF=null;this.Zi=null;this.sd=null;this.bG=null;this.aiB=null;this.EN=null;this.Di=null;
this.VG=null;this.aFI=null;this.N$=!1;this.XH=!1;this.zC=!1;this.vs=null;this.bJ=null;this.awr=null;
this.T2=!1;this.jZ=!1;this.cq=-1;this.mz=-1;this.qw=document.createElement("textarea");this.qw.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.qw.addEventListener("input",this.aK.bind(this),!1);this.qw.addEventListener("keydown",this.awI.bind(this),!1);
this.qw.addEventListener("keyup",this.aoj.bind(this),!1)};o.FE.prototype=new o.bv;o.FE.prototype.vI=function(M){return M.kJ};
o.FE.prototype.qc=function(M,X,J,q){if(this.lF!=null||this.id==o.Aj)return;this.caller=X;var W=this.ar3(M);
if(W.length!=0){var T=null,_=[],m=[];for(var $=0;$<W.length;$++){var d=M.U[W[$]],A=d.add.TySh,p=0,a=f5.UP(A.Zj).length-2,f=f5.TC(A.Zj,p,a);
f5.jp(f,A.u.zQ());if(f.cN.Font!=null)f.cN.Font=f.Hd[f.cN.Font].Name;T=f.Hd;_.push(f.cN);m.push(f.Js)}var f={Hd:T,cN:f5.uM(_),Js:f5.uM(m)};
if(f.cN.Font!=null)f5.fa(f,f.cN.Font);this.ajq(X,f,A)}};o.FE.prototype.ar3=function(M){var X=[];for(var $=0;
$<M.O.length;$++)if(M.U[M.O[$]]&&M.U[M.O[$]].add.TySh)X.push(M.O[$]);return X};o.FE.prototype.dx=function(M,X,J,q,W){var T=M.h=="insertGlyph",_=M.h=="copyText",m=M.h=="selectAll";
if((T||_||M.h=="insertText"||m)&&this.lF){var d=T?String.fromCharCode(65533):M.K,A=this.qw,p=A.value,a=A.selectionStart,f=A.selectionEnd;
if(_){gb.jO(new Blob([p.slice(a,f)],{type:"text/plain"}))}else if(m){this.cq=A.selectionStart=0;this.mz=A.selectionEnd=p.length;
this.Am(J);A.focus()}else{A.value=p.slice(0,a)+d+p.slice(f);A.selectionStart=A.selectionEnd=a+d.length;
this.aK(null,T?M.K:null);A.focus()}}if(M.h=="updateStyles"){if(this.lF==null){var s=this.ar3(J),j=!1;
if(s.length!=0){this.kR(J,X,W,s);for(var $=0;$<s.length;$++){var Y=J.U[s[$]],G=Y.add.TySh;f5.ka(G,this.UC);
G.PX.VAlign.v=this.eq;this.lF=Y;var Q=f5.UP(G.Zj);this.cq=0;this.mz=Q.length-1;f5.oW(G.Zj,this.cq,this.mz,this.ON(W,G));
var Z=this.IS(J,W);if(Z==!1)j=!0}if(j){this.T2=!0;return}this.j4(J,X,!0)}return}this.y$(W)}if(M.h.startsWith("warp")){var g=this.jZ;
if(M.h=="warp"||M.h=="warpCancel"){if(this.lF==null)return;if(M.h=="warp")this.lF.add.TySh.OG=M.Rl;else this.lF.add.TySh.OG=this.aiB;
this.IS(J,W);if(!g)this.Am(J)}if(M.h!="warp")this.qw.focus();if((M.h=="warpConfirm"||M.h=="warpCancel")&&g){this.jZ=!1;
if(M.h=="warpConfirm")this.j4(J,X);else this.xb(J,X)}}if(M.h=="editCurr"){if(W.Rk!=o.JT){this.ik=W.Rk;
var S=new jb(r.E.C,!0);S.data={h:r.m.ga,J:o.JT};X.a(S)}if(this.lF!=null)this.disable(J,X,W,q);this.f=W;
this.caller=X;this.kR(J,X,W,[M.vE]);var Q=f5.UP(this.lF.add.TySh.Zj);this.cq=0;this.mz=Q.length-1;this.Am(J);
this._a();this.qw.focus()}if(M.h=="switchPntPrgr"){if(this.lF)return;var Y=J.U[J.O[0]],G=Y.add.TySh,U=G.u.zQ(),B=Y.d9(),e=t.b(G.Zj),P=f5.mj(e),h=P==1?f5.jA(e):[0,0,Math.round(B.r*1.05/U),Math.round(B.$*1.25/U)],V=f5.TC(e,0,0),I=V.Hd[V.cN.Font].Name,F=W.Rb.z0(I),c=[0,h[2],h[2]/2][V.Js.Justification%3],D=(F?dV.Ck(F):.8)*V.cN.FontSize;
f5.Wu(e,1-P);if(P==0){console.log(dV.Ck(F,I,V.cN));c=-c;D=-D;f5.Tf(e,[0,0,h[2],h[3]])}var n=new kp(1,0,0,1,c,D);
n.concat(G.u);this.dx({aP:J.O[0],h:"newED",ta:e,u:n,aqd:[16,3,P==1?0:1]},X,J,q,W)}if(M.h=="newED"){var Y=J.U[M.aP],G=Y.add.TySh,k=this.Jk(J,[M.aP]);
G.Zj=M.ta;if(M.u)G.u=M.u;if(i5.kH(G,W.Rb,X)){i5.IS(Y,W.Rb,J);J.vV()}else J.hj=!0;var b=new hY(M.aqd?M.aqd:this.name,this);
b.data={zG:k,Lm:this.Jk(J,[M.aP])};J.Vr(b)}if(M.h=="fromAction"){var N;if(M.xo.hC=="set"){N=M.xo.Qd.T.v}else{N=M.xo.Qd.Usng.v;
var L=N.TxtC.v,R=[];for(var $=0;$<2;$++){var i=L[$==0?"Hrzn":"Vrtc"].v,d=i.val;if(i.type=="#Prc")d=($==0?J.r:J.$)*(d/100);
R[$]=d}this.gP(J,X,W,q,J.k.fT(R[0],R[1]),!0)}var Y=J.U[J.O[0]],G=Y.add.TySh,v=G.Zj,p=f5.UP(v);f5.FZ(v,0,p.length-1);
f5.p7(v,0,N.Txt.v.replace(/\r/g,"\n"));p=f5.UP(v);for(var P=0;P<2;P++){var E=N[P==0?"Txtt":"paragraphStyleRange"];
if(E==null)continue;E=E.v;for(var $=0;$<E.length;$++){var u=E[$].v,a=u.From.v,f=Math.min(u.T.v-1,p.length-1);
u=u[P==0?"TxtS":"paragraphStyle"].v;var C=f5.TC(v,a,f),l=P==0?C.cN:C.Js;for(var x in u){var y=u[x].v;
if(x=="Sz")l.FontSize=Math.round(y.val*(y.type=="#Pnt"?J.Qv/72:1));else if(x=="fontPostScriptName")f5.fa(C,y);
else if(x=="Algn")l.Justification={Left:1,Cntr:2}[y.Alg];else if(x=="leading")l.Leading=u[x].v.val;else if(x=="baselineShift")l.BaselineShift=u[x].v.val;
else if(x=="autoLeading")l.AutoLeading=u[x].v;else if(x=="syntheticBold")l.FauxBold=u[x].v;else if(x=="syntheticItalic")l.FauxItalic=u[x].v;
else if(x=="Trck")l.Tracking=u[x].v;else if(x=="verticalScale")l.VerticalScale=u[x].v/100;else if(x=="horizontalScale")l.HorizontalScale=u[x].v/100;
else if(x=="Clr")l.FillColor={Type:1,Values:[1,y.Rd.v/255,y.Grn.v/255,y.Bl.v/255]}}f5.oW(v,a,f,C)}}if(i5.bk(J,W.Rb,X))i5.IS(Y,W.Rb,J);
else J.hj=!0;J.vV();this.j4(J,X)}};o.FE.prototype.y$=function(M){var X=Math.min(this.cq,this.mz),J=Math.max(this.cq,this.mz),q=this.lF.add.TySh;
f5.ka(q,this.UC);q.PX.VAlign.v=this.eq;var W=this.ON(M,q);f5.oW(q.Zj,X,J-1,W);var T=this.caller.Rt(),_=this.IS(T,M);
if(_)this.Am(T);if(document.activeElement.tagName.toLowerCase()!="input")this.qw.focus()};o.FE.prototype.Ei=function(M){return this.AL.indexOf(M)!=-1};
o.FE.prototype.enable=function(M,X,J,q){var W=this.qw;X._.appendChild(W);this.EN="default";this.WQ(X)};
o.FE.prototype.mG=function(){return this.lF!=null};o.FE.Km=function(M,X){var J=new es(X.x,X.y);for(var $=M.U.length-1;
$>=0;$--){var q=M.U[$],W=q.add.TySh;if(W&&M.a3J($)){var T=J,_=q.S;if(gj==1){var m=W.u.Q();m.vN();T=m.y8(J);
_=q.ws.Bm}if(!_.ZO(T))continue;var d=q.Uc(31);return d?-2:$}}return-1};o.FE.prototype.H_=function(M,X,J,q,W){this.f=J;
this.caller=X;var T=M.k.Ob(W.x,W.y),_=this.lF==null;if(_){var m=o.FE.Km(M,T);if(m==-2){alert(kd.get([6,57,0]));
return}if(m>=0&&!q.M(hP.HG)){if(!i5.kH(M.U[m].add.TySh,J.Rb,X)){alert("Fonts not loaded yet");return}this.kR(M,X,J,[m])}else{this.zC=!0;
this.vs=W;return}}var d=_?-1:f5.mj(this.lF.add.TySh.Zj),A=this.VG?this.VG:this.Di,p=A&&A.H_(M,J,q,T,null,null,W)&&t.Rl.tU(this.lF.add.TySh.OG),a=!_&&t.G.aoQ(T,this.lF.d9())>20/M.k.r7&&(d==0||d==1);
if(p||a){this.N$=!0;this.bJ=T;this.awr=this.lF.add.TySh.u.Q();if(this.cq==-1&&this.mz==-1)this.cq=this.mz=this.XU(T)}else{if(this.sd==null){alert("Fonts not loaded yet");
return}this.XH=!0;this.cq=this.mz=this.XU(T);var f=Date.now();if(f-this.aAW>300)this.jf=0;this.jf++;
this.aAW=f;if(this.jf==2)this.alF();if(this.jf==3)this.abn();if(this.jf>1){this.XH=!1}}this._a();this.Am(M)};
o.FE.prototype.kR=function(M,X,J,q){var W=M.U[q[0]];this.lF=W;this.tW(X,r.E.C,{h:r.m.ZQ,J:this.id,ys:"showactive"});
this.Zi=q;M.O=q.slice(0);M.b7();M.we=!0;this.bG=this.Jk(M,q);this.He(W.add.TySh);this.IS(M,J)};o.FE.prototype.He=function(M){if(f5.mj(M.Zj)!=1)return;
var X=f5.jA(M.Zj);X=new gc(0,0,X[2]-X[0],X[3]-X[1]);var J=[X.x,X.y,X.x+X.r,X.y,X.x+X.r,X.y+X.$,X.x,X.y+X.$];
t.G.u(J,M.u,J);this.Di=new gY(J,!1,!1,!1,!0);this.Di.rh(0)};o.FE.prototype.alF=function(){var M=f5.UP(this.lF.add.TySh.Zj);
this.cq=this.aBZ(M,this.cq);this.mz=this.ahT(M,this.cq)};o.FE.prototype.aBZ=function(M,X){var J=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",q=[];
for(var $=0;$<J.length;$++)q.push(J.charAt($));var W=q.indexOf(M[X])==-1?!0:!1;for(var $=X-1;$>=0;$--)if(q.indexOf(M.charAt($))!=-1==W)return $+1;
return 0};o.FE.prototype.ahT=function(M,X){var J=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",q=[];for(var $=0;
$<J.length;$++)q.push(J.charAt($));var W=q.indexOf(M[X])==-1?!0:!1;for(var $=X+1;$<M.length;$++)if(q.indexOf(M.charAt($))!=-1==W)return $;
return M.length-1};o.FE.prototype.abn=function(){var M=this.sd.a2I(this.cq);this.cq=M[0];this.mz=M[1]};
o.FE.prototype.WQ=function(M){var X=new jb(r.E.C,!0);X.data={h:r.m.Hf,Ny:this.EN};M.a(X)};o.FE.prototype.T_=function(M,X,J,q,W){var T=M.k.Ob(W.x,W.y),_=this.lF;
if(!W.kJ){var m="default",d=this.Di,A=this.VG?this.VG:d;if(A&&t.Rl.tU(_.add.TySh.OG)){var p=A.WV(T,M.k.r7,null,W);
if(p)m=p;else if(A==d&&d.Ui(T))m="text"}else if(_&&t.G.aoQ(T,_.d9())>20/M.k.r7)m="move";else if(o.FE.Km(M,T)>=0)m="text";
if(m!=this.EN){this.EN=m;this.WQ(X)}}var a=this.vs;if(this.zC&&Math.min(W.x-a.x,W.y-a.y)>4/M.k.r7){this.zC=!1;
this.gP(M,X,J,q,W);_=this.lF;this.N$=!0;this.Di=new gY(null,!1,!1,!1,!0);this.Di.rh(0);var f=M.k.Ob(this.vs.x,this.vs.y);
f.x=Math.round(f.x);f.y=Math.round(f.y);this.Di.H_(M,J,q,f,null,null,W,M.k.Ow)}if(this.N$){var s=_.add.TySh;
if(this.VG){this.VG.T_(M,J,q,T);var j=t.t.Gy(t.t.bw(this.VG.PL(),this.aFI));s.u=j;this.IS(M,J);f5.GT(s)}else if(this.Di){this.Di.T_(M,J,q,T);
var Y=s.u.Q(),G=Math.atan2(Y.g,Y.Jm);Y.rotate(G);var j=t.t.Gy(t.t.bw(this.Di.PL())),Q=Math.atan2(j.g,j.Jm);
j.rotate(Q);if(!isNaN(j.Jm)&&j.Jm*j.Bi-j.g*j.br!=0){var Z=new gc(0,0,j.Jm/Y.Jm,j.Bi/Y.Bi),g=Z.r,S=Z.$,U=s.Zj.Curve;
if(U){var B=f5.jA(s.Zj),e=new kp(g/B[2],0,0,S/B[3],0,0);t.G.u(U.Points,e,U.Points);f5.GT(s)}f5.Tf(s.Zj,[0,0,g,S]);
s.u=t.t.Gy(t.t.bw(this.Di.PL(),Z));this.IS(M,J);f5.GT(s)}}else{var P=T.x-this.bJ.x,h=T.y-this.bJ.y;s.u=this.awr.Q();
var V=new es(s.u._f+P,s.u.Ey+h);V=o.UA.kZ(M,V,J);s.u._f=V.x;s.u.Ey=V.y;this.IS(M,J)}}if(this.XH)this.mz=this.XU(T);
if(this.N$||this.XH)this.Am(M)};o.FE.prototype.gP=function(M,X,J,q,W,T){var _=M.ZX(),m=_[0],d=_[1],A=M.C0();
A.add.lnsr="rend";var p=M.U.slice(0);A.EC("Text layer "+p.length);this.lF=A;var a=M.O.length==0?M.U.length-1:M.O[M.O.length-1],f=a+1;
if(p[a].add.lsct==gO.A$)f--;this.bG={KQ:p.slice(0),E_:M.O.slice(0)};p.splice(f,0,A);M.O=[f];this.cq=this.mz=0;
M.Ig(p);this.bG.f_=p.slice(0);this.bG.cD=M.O.slice(0);this.tW(X,r.E.C,{h:r.m.ZQ,J:this.id,ys:"showactive"});
var s=M.k.Ob(W.x,W.y),j=J.mo;console.log(j);if(this.id==o.Aj){j=t.b(j);j.cN.BaselineDirection=1}A.add.TySh=f5.c7(s.x,s.y,j,M.k.Ow);
var Y=A.add.TySh,G=Y.Zj;if(this.id==o.Aj)G._LineOrientation=2;f5.ka(Y,this.UC);Y.PX.VAlign.v=this.eq;
if(W.kJ)f5.Wu(G,1);else{f5.Wu(G,0);var Q=m[d.pop()],Z=Q?Q.add.vmsk:null;if(T)Z=null;if(Z&&!q.M(hP.HG)){Z=Z.Q();
var g=Z.X,U,B;for(var $=0;$<g.length;$++)if(g[$].li!=null)g[$].li=0;var S=5/M.k.r7;U=t.I.WR(Z.X,s,!0,S);
if(U.gO==-1)U=t.I.WR(Z.X,s);if(U.gO!=-1){f5.Wu(G,1);var e=t.I.kj(g,U.gO),P=t.I.ZH(g,U.gO)-1;g=Z.X=g.slice(0,2).concat(g.slice(e,e+P+1));
Z.O=[];Y.add={vmsk:Z,vogk:K.hg(g)};G.Curve={};f5.xV(Y);if(U.sQ!=null){var h=dV.Cd(G.Curve);t.G.u(h[0],Y.u,h[0]);
var V=t.G.aG(h[0],s.x,s.y),I=J.mo.Js.Justification;if(I==2||I==5){var F=(h[2][V]+h[3]*.5)%h[3];V=dV.Vh(F,h[2])}var c=h[1][V];
c=c%P;Z.mO=[c,c];f5.xV(Y)}else this.He(Y)}}}return A};o.FE.prototype.fw=function(M,X,J,q,W,T){if(T){this.zC=!1;
return}if(this.lF==null&&!this.zC)return;var _=M.k.Ob(W.x,W.y),m=this.zC;if(this.zC){this.zC=!1;this.gP(M,X,J,q,W);
this.XH=!0}if(this.N$||this.XH){this.Am(M);this._a();if(m)this.y$(J)}if(this.N$&&this.Di)this.Di.fw(M,J,q,_);
this.N$=this.XH=!1;this.qw.focus()};o.FE.prototype._a=function(){var M=this.lF.add.TySh,X=Math.min(this.cq,this.mz),J=Math.max(this.cq,this.mz),q,W;
if(X==J){var T=f5.UP(M.Zj);if(X==0||T.charAt(X-1)=="\n")q=W=X;else q=W=X-1}else{q=X;W=J-1}var _=f5.TC(M.Zj,q,W);
f5.jp(_,M.u.zQ());this.ajq(this.caller,_,M)};o.FE.prototype.ajq=function(M,X,J){this.tW(M,r.E.C,{h:r.m.OA,iw:bN.Iz,mo:X});
var q=this.UC=f5.Nu(J),W=this.eq=J.PX.VAlign.v;this.tW(this.caller,r.E.C,{h:r.m.ZQ,J:this.id,ys:"changeOther",S3:q,Gi:W})};
o.FE.prototype.aa=function(M,X,J,q,W){if(M==null)return;var T=M.k.Ob(W.x,W.y),_=o.FE.Km(M,T);if(_==-1)return;
var m=new jb(r.E.C,!0);m.data={h:r.m.ZQ,J:this.id,ys:"showpan",ajk:this.lF!=null,vE:_,Vm:W,je:M,f:J};
X.a(m)};o.FE.prototype.agm=function(){var M=this.lF;if(M&&!this.N$&&this.VG!=null){var X=this.caller.Rt();
this.VG.fw(X,this.f,null,null);this.VG=null;this.He(M.add.TySh);this.Am(X)}};o.FE.prototype.disable=function(M,X,J,q){var W=this.lF;
this.j4(M,X)};o.FE.prototype.Nn=function(M,X,J,q,W){if(this.jZ)return;if(M.ys=="commit")this.j4(J,X);
if(M.ys=="cancel")this.xb(J,X);if(M.ys=="changeOther"){this.UC=M.S3;this.eq=M.Gi;if(J!=null)this.dx({h:"updateStyles"},X,J,q,W)}if(M.ys=="showwarp"){if(J==null)return;
if(this.lF==null){var T=J.U[J.O[0]],_=T.add.TySh;if(_==null)return;this.kR(J,X,W,[J.O[0]]);this.qw.focus();
this.jZ=!0}this.aiB=this.lF.add.TySh.OG;var m=new jb(r.E.C,!0);m.data={h:r.m.SQ,bf:"textwarp"};X.a(m)}};
o.FE.prototype.SY=function(M,X){if(X!=bN.Ua)return;if(this.T2){this.T2=!1;var J=this.caller.Rt(),q=this.Zi;
for(var $=0;$<q.length;$++){this.lF=J.U[q[$]];this.IS(J,M)}this.j4(J,this.caller);return}if(this.lF)this.y$(M)};
o.FE.prototype.ON=function(M,X){var J=t.b(M.mo);f5.jp(J,1/X.u.zQ());return J};o.FE.prototype.AS=function(M,X){if(M.zG!=null)this.Si(X,M.Lm);
else this.a6m(X,M.f_,M.cD)};o.FE.prototype.df=function(M,X){if(M.zG!=null)this.Si(X,M.zG);else this.a6m(X,M.KQ,M.E_)};
o.FE.prototype.Si=function(M,X){for(var $=0;$<X.length;$++){var J=X[$],q=J.aP,W=M.U[q];W.buffer=J.b3;
W.S=J.Os.Q();W.vV();W.ws.c5=null;W.ws.path=null;var T=W.add.TySh;T.OG=J.Rl;T.hd=J.hd.Q();T.u=J.u.Q();
T.Zj=t.b(J.Zj);W.yH()}M.vV()};o.FE.prototype.Jk=function(M,X){var J=[];for(var $=0;$<X.length;$++){var q=X[$],W=M.U[q],T=W.add.TySh;
J.push({aP:q,u:T.u.Q(),Rl:t.b(T.OG),hd:T.hd.Q(),Zj:t.b(T.Zj),b3:W.buffer.slice(0),Os:W.S.Q()})}return J};
o.FE.prototype.a6m=function(M,X,J){M.O=J;M.Ig(X);M.vV();M.bM=!0};o.FE.prototype.IS=function(M,X,J){if(J==null)J=!1;
var q=this.lF.add.TySh;if(!i5.kH(q,X.Rb,this.caller))return!1;if(!J){var W=f5.UP(q.Zj);this.qw.value=W.slice(0,W.length-1)}var T=this.lF.S,_=i5.IS(this.lF,X.Rb,M);
this.sd=_[1];var m=this.sd.ml();if(t.Rl.tU(q.OG))q.hd=new gc;else{if(f5.mj(q.Zj)==1){var d=f5.jA(q.Zj),jX=m.y;
q.hd=new gc(0,jX,d[2]-d[0],d[3]-d[1]-jX)}else q.hd=m}M.b8();if(_[2])M.vV(M.root.gp(_[2].Os.m0(T),M,M.U.indexOf(this.lF)));
return!0};o.FE.prototype.aK=function(M,X){if(this.lF==null||this.jZ)return;var J=this.qw.selectionStart,q=this.lF.add.TySh,W=f5.UP(q.Zj),T=this.qw.value+"\n",_=Math.min(this.cq,this.mz),m=Math.max(this.cq,this.mz),f=!1;
this.cq=Math.min(J,_);if(T.length-J<W.length-this.mz)this.mz=W.length-T.length+J;if(W!=T){while(this.cq>0&&W.charAt(this.cq-1)!=T.charAt(this.cq-1))this.cq--}var d=W.substring(0,this.cq),A=W.substring(this.mz,W.length),p=T.substring(this.cq,T.length-A.length);
f5.FZ(q.Zj,this.cq,this.mz);f5.p7(q.Zj,this.cq,p);if(X!=null)f5.aah(q.Zj,this.cq,X);var a=this.ON(this.f,q),s=-1,j=Array.from(p);
for(var $=0;$<j.length;$++)s=Math.max(s,j[$].codePointAt(0));if(s!=-1&&s>128&&s!=65533&&a.cN.Font!=null){var Y=a.Hd[a.cN.Font].Name,G=this.f.Rb.aqr(s,Y,a.Hd);
if(Y!=G){f5.fa(a,G);f=!0}}if(this.W0!=null&&p==this.W0){var Q=JSON.parse(this.aiy);f5.jp(Q,1/q.u.zQ());
a.cN=Q.cN;a.Hd=Q.Hd;f=!0}f5.oW(q.Zj,this.cq,this.cq+p.length-1,a);this.cq=this.mz=d.length+p.length;
var Z=this.caller.Rt(),g=this.IS(Z,this.f,!0);if(g)this.Am(Z,!0);if(f)this._a()};o.FE.prototype.aoj=function(M){var X=hP;
if(!M.ctrlKey)this.agm();M.stopPropagation()};o.FE.prototype.awI=function(M){M.stopPropagation();var X=M.ctrlKey||M.metaKey,J=hP,d=0,A=0,g=0,D=!1;
if(this.lF==null||this.jZ)return;if(this.lF==null)return;if(this.caller.C7.DC())return;var q=this.caller.Rt();
if(this.VG==null&&X){var W=this.lF.add.TySh,T=f5.mj(W.Zj),_;if(T==1){_=f5.jA(W.Zj);_=new gc(0,0,_[2]-_[0],_[3]-_[1])}else _=this.sd.ml();
var m=[_.x,_.y,_.x+_.r,_.y,_.x+_.r,_.y+_.$,_.x,_.y+_.$];t.G.u(m,W.u,m);this.VG=new gY(m,!0,!0,!1,!1);
this.VG.rh(0);this.aFI=_;this.Am(q)}if(J.jt(M.code,J.sg))d=1;if(J.jt(M.code,J.Qo))d=-1;if(J.jt(M.code,J.Xf))A=-1;
if(J.jt(M.code,J.LB))A=1;var p=J.jt(M.code,hP.ib),a=J.jt(M.code,hP.a7E);if(J.jt(M.code,hP.ej)&&X){this.j4(q,this.caller);
return}if(J.jt(M.code,hP.ke)){this.xb(q,this.caller);return}if(J.jt(M.code,hP.g4)){M.preventDefault();
var f=this.qw,s=f.value,j=f.selectionStart,Y=f.selectionEnd;f.value=s.substring(0,j)+"\t"+s.substring(Y);
f.selectionStart=f.selectionEnd=j+1;this.aK(null);return}var G=J.jt(M.code,J._T),Q=J.jt(M.code,J.ce);
if(X&&(G||Q)){M.preventDefault();var Z=new jb(r.E.H,!0);Z.J=o.QC;Z.data={h:"zoom",j_:G};this.caller.a(Z)}if(J.jt(M.code,J.Zf))g=1;
if(J.jt(M.code,J.dM))g=-1;var S=this.cq==this.mz,U=X&&M.shiftKey&&g!=0&&!S;if(U||M.altKey&&d!=0){var B=t.b(this.f.mo);
if(U){var e=B.cN.FontSize;if(e==null)e=16;B.cN.FontSize=Math.max(1,e+g*(M.altKey?5:1))}else{if(S){B.cN.Kerning+=20*d;
B.cN.AutoKerning=!1}else B.cN.Tracking+=20*d}M.preventDefault();var P=new jb(r.E.C,!0);P.data={h:r.m.OA,iw:bN.Iz,mo:B};
this.caller.a(P);var Z=new jb(r.E.H,!0);Z.J=o.JT;Z.data={h:"updateStyles"};this.caller.a(Z);return}if((J.jt(M.code,J.eU)||J.jt(M.code,J.jj))&&X){var h=this.cq,V=this.mz;
if(h>V){var I=h;h=V;V=I}var W=this.lF.add.TySh,F=f5.UP(W.Zj);if(h!=V){this.W0=F.slice(h,V);this.aiy=JSON.stringify(this.f.mo)}}var c=f5.UP(this.lF.add.TySh.Zj);
if(d!=0||A!=0||p||a){M.preventDefault();var n=this.cq;if(d!=0){if(X&&d==-1)n=this.aBZ(c,this.cq-1);else if(X&&d==1)n=this.ahT(c,this.cq);
else{var f=this.qw,s=f.value;n=this.cq+d;if(n!=0&&s.codePointAt(n-1)>65535)n+=d}}else if(A!=0){var k=this.sd.fS(this.cq);
if(A==-1&&k.Sn==0)n=0;else if(A==1&&k.Sn==this.sd.aIl()-1)n=99999999999;else n=this.sd.agW(new es(k.Os.x+k.Os.r/2,0),k.Sn+A)}else if(p){var b=this.cq-1;
while(b>0&&c.charCodeAt(b)!=10)b--;n=b==0?0:b+1}else if(a){var b=this.cq;while(b<c.length-1&&c.charCodeAt(b)!=10)b++;
n=b}n=Math.max(0,Math.min(c.length-1,n));if(M.shiftKey)this.cq=n;else this.cq=this.mz=n;D=!0}if(X&&J.ak9(M,hP.m)){this.cq=0;
this.mz=c.length-1;D=!0}if(D){this._a();this.Am(q)}};o.FE.atD=function(M,X){var J=M.length;if(J!=X.length)return!1;
for(var $=0;$<J;$++)if(M[$].aP!=X[$].aP)return!1;return!0};o.FE.prototype.j4=function(M,X,J){if(this.lF==null)return;
this.lF.yH();var q=this.bG;if(q instanceof Array){var W=this.Jk(M,this.Zi),T=M.pC();if(T!=null&&T.J==this&&T.data.zG&&o.FE.atD(T.data.zG,q)&&J)T.data.Lm=W;
else{var _=new hY(this.name,this);_.data={zG:q,Lm:W};M.Vr(_)}}else{var _=new hY(this.name,this);_.data={KQ:q.KQ,f_:q.f_,E_:q.E_,cD:q.cD};
M.Vr(_)}this.escape(M,X)};o.FE.prototype.xb=function(M,X){if(this.lF==null)return;if(this.bG instanceof Array){this.Si(M,this.bG);
if(this.lF)f5.GT(this.lF.add.TySh)}else{M.O=this.bG.E_;M.Ig(this.bG.KQ);M.bM=!0}M.vV();this.escape(M,X)};
o.FE.prototype.escape=function(M,X){this.agm();this.lF=null;this.Zi=null;this.sd=null;this.Di=null;this.qw.blur();
M.aS.Gn=null;M.aS.HC=null;M.aS.PJ=[];M.fy=!0;this.N$=!1;this.XH=!1;this.cq=this.mz=-1;this.tW(X,r.E.C,{h:r.m.ZQ,J:this.id,ys:"hideactive"});
if(this.ik){var J=new jb(r.E.C,!0);J.data={h:r.m.ga,J:this.ik};X.a(J);this.ik=null}};o.FE.prototype.tW=function(M,X,J,q){var W=new jb(X,!0);
W.data=J;if(q)W.J=q;M.a(W)};o.FE.prototype.XU=function(M){var X=this.lF.add.TySh,J=this.sd,q=X.u.Q();
q.vN();var W=q.y8(M),T=f5.Hg(X,J),_=t.Rl.LK(X.OG,T),m=t.BF.N_(_,W);if(m==null)m=new Float64Array(2);
W=new es(T.x+m[0]*T.r,T.y+m[1]*T.$);if(J.n8){var d=J.n8.Q();d.vN();W=d.y8(W)}var A=J.agW(W);return A};
o.FE.prototype.Am=function(M,X){if(X==null)X=!1;var J=this.lF.add.TySh,q=f5.mj(J.Zj),W=this.sd,T=W?f5.Hg(J,W):null;
M.aS.PJ=[];M.aS.Gn=null;M.aS.HC=null;var _=this.VG?this.VG:this.Di;if(_){_.kW(M,this.f,!t.Rl.tU(J.OG));
var m=J.u.Q();m.vN();if(W&&W.n8&&W.Dv==1){var d=W.n8.Q();d.vN();m.concat(d)}t.G.u(M.aS.PJ,m,M.aS.PJ);
t.G.u(M.aS.Gn.d,m,M.aS.Gn.d);if(W&&W.n8==null&&W.aCU()){var A=T.r-20,p=T.$+8;M.aS.Gn.d.push(A,p,A+10,p,A+5,p-5,A+5,p+5);
M.aS.Gn.C6.push("M","L","M","L")}}else if(q==0)this.aae(M,J,W);else M.aS.Gn={d:[],C6:[]};var a=Math.min(this.cq,this.mz),f=Math.max(this.cq,this.mz);
if(!X){this.qw.selectionStart=a;this.qw.selectionEnd=f}if(W!=null){var s=function(_,S){var U=_.x,B=_.y+_.$,e=new kp;
e.translate(-U,-B);e.rotate(-S);e.translate(U,B);_.y+=_.$*.27;var g=t.G.mP(_);t.G.u(g.d,e,g.d);return g};
if(a==f){a=Math.max(a,0);var j=W.fS(a);if(j){var Y=j.Os,G=this.f.mo.cN.FontSize;if(G!=null&&G!=0){G/=J.u.zQ();
Y.y+=Y.$-G;Y.$=G}var Q=W.auZ(a);if(Q!=null&&Q.k6==1)Y.x+=Y.r;var Z=s(Y,j.Ow).d;M.aS.Gn.C6.push("M","L");
M.aS.Gn.d.push(Z[0],Z[1]-1,Z[6],Z[7]-1)}}else{M.aS.HC={d:[],C6:[]};for(var $=a;$<f;$++){var j=W.fS($),g=s(j.Os,j.Ow);
t.G.concat(M.aS.HC,g)}}}M.aS.Gn=i5.Ta(M.aS.Gn,J,W,!0);M.aS.HC=i5.Ta(M.aS.HC,J,W,!0);M.aS.PJ=i5.Ta({d:M.aS.PJ},J,W,!0).d;
M.fy=!0};o.FE.prototype.aae=function(M,X,J){if(J==null)return;M.aS.PJ.push(0,0);if(M.aS.Gn==null)M.aS.Gn={C6:[],d:[]};
for(var $=0;$<J.Js.length;$++){var q=J.Js[$];for(var W=0;W<q.hR.length;W++){var T=q.hR[W],_=q.VX.x+T.VX.x+T.Os.x,m=q.VX.y+T.VX.y+T.Os.y+T.Os.$;
M.aS.Gn.C6.push("M","L");M.aS.Gn.d.push(_,m,_+T.Os.r,m)}}M.fy=!0};o.To=function(){o.FE.call(this,!0)};
o.To.prototype=new o.FE;o.e9=function(M){o.Gp.call(this,M?"Magic Replace":[10,9],M?o.al7:o.UX,M?"tools/mremove":"tools/lasso");
this.FU=o.mB();this.h6=null;this.Pa=null;this.bJ=null};o.e9.prototype=new o.Gp;o.e9.prototype.Wk=function(M,X,J,q){this.h6=this.fi;
this.Pa={d:[this.h6.x,this.h6.y],C6:["M"]}};o.e9.prototype.yf=function(M,X,J,q){this.bJ=q;var W=this.Pa;
if(W==null)return;if(!q.kJ){if(this.Pa!=null&&this.YL.Hk(1)&&J.M(hP.Ke)){W.d.pop();W.d.pop();W.d.push(this.EE.x,this.EE.y);
M.aS.Gn=W;M.fy=!0}return}W.C6.push("L");W.d.push(this.EE.x,this.EE.y);this.h6=this.EE;if(this.rw){M.aS.Gn=W;
M.fy=!0}};o.e9.prototype.mG=function(){return this.Pa!=null};o.e9.prototype.Te=function(){return this.Pa!=null};
o.e9.prototype.KH=function(M,X,J,q){o.Gp.prototype.KH.call(this,M,X,J,q);if(this.Pa&&this.YL.Hk(1)&&this.bJ&&!this.bJ.kJ&&!q.M(hP.Ke))this.aeB(M,J,q)};
o.e9.prototype.BY=function(M,X,J,q){this.bJ=q;var W=this.Pa;if(W==null)return;if(this.YL.Hk(1)&&J.M(hP.Ke)){W.C6.push("L");
W.d.push(this.EE.x,this.EE.y);return}this.aeB(M,X,J)};o.e9.prototype.aeB=function(M,X,J){this.finish(M,X,J,this.bJ);
this.Pa=null;M.aS.Gn=null;M.fy=!0};o.e9.prototype.getSelection=function(M,X,J,q){if(this.fi.w6(this.EE)||!this.rw)return null;
return o.Gp.kt(this.Pa.d,null,this.Ye.anta)};o.UA=function(){o.bv.call(this,[10,11],o.oa,"tools/move");
this.VF=new es(0,0);this.RT=new es(0,0);this.Cz=null;this.IR=null;this.B7=new es(0,0);this.AR=null;this.f=null;
this.$y=null;this.T5=0;this.tF=null;this.Wc=[];this.Tj=null;this.nx=null;this.Pg=!1;this.h=0;this.CR=null;
this.Zl=null;this.Wb=null;this.sI=!1;this.Ye={cP:!0,Ia:gj==1,TA:!1,ado:1};this.alf=!1;this.avm=!1;this.Di=null;
this.zv=null;this.rn=null;var M=[];for(var $=0;$<t.gk.vZ.length;$++)M.push({name:t.gk.vZ[$],i:function(X,J,q){return{JX:J.QQ.EI==q}}});
this.rZ=new an(M);this.rZ.P("select",this.qn,this)};o.UA.prototype=new o.bv;o.bv.prototype.vI=function(M){return this.Pg&&this.h!=2};
o.UA.prototype.a8$=function(){return this.Pg&&(this.h==0||this.h==1)};o.UA.prototype.BW=function(M,X,J,q){this.Bc(M,-this.B7.x,-this.B7.y);
this.B7.cn(0,0);this.dL(M,null,J);this.hV(M)};o.UA.prototype.D5=function(){var M=this.Ye;if(M.cP&&!M.Ia&&!M.TA)return null;
return[M.cP?1:0,M.Ia?1:0,M.TA?1:0]};o.UA.prototype.Ug=function(M,X,J){var q=this.Ye;if(M&&M[0]!=null)q.cP=M[0]==1;
if(M&&M[1]!=null)q.Ia=M[1]==1;if(M&&M[2]!=null)q.TA=M[2]==1;if(gj==1)q.Ia=!0;var W=new jb(r.E.C,!0);
W.data={h:r.m.ZQ,J:this.id,f4:q,avb:X};J.a(W)};o.UA.aFf=function(M,X,J,q,W,T,_){if(_==null)_=[!1,!0];
var m=M.AX(null,W,!0),d,A=W==null?M.O[0]:W;if(M.add.artd&&(W!=null||M.O.length==1)&&M.U[A].add.artb){var p=M.U[A].PH();
d=M.Pf(m,p,p)[0]}else{var a=new gc(0,0,M.r,M.$),d=M.Pf(m,_[0]?a:null,_[1]?null:a)[0];delete d.add.artd;
if(_[1]){var f=t.pD(d.m7(),new gc(0,0,d.r,d.$),2);o.VN.cC(d,f)}}if(J!=1){var s=new gc(0,0,Math.round(d.r*J),Math.round(d.$*J));
o.VN.cC(d,s);var j=[];for(var $=0;$<d.U.length;$++)j.push($);var Y=o.fx.iU(d,j,!0);o.VN.Af(d,new kp(J,0,0,J,0,0));
o.fx.BG(d,q,j,Y,1,t.t.WP(new kp(J,0,0,J,0,0)),null,!0);d.rD()}var G=[];for(var $=0;$<X.length;$++)if(d.r*d.$!=0)G.push(h1.PZ(d,X[$].toUpperCase(),null,null,T?T[$]:null,q));
return G};o.UA.prototype.a32=function(M,X,J,q,W){if(M==null||M.O.length==0)return;var T=o.UA.aFf(M,[X],J,q,null);
if(T.length==0){alert("Empty layer selected.");return}var _=T[0],m=new jb(r.E.C,!0);m.data={h:r.m.N1,data:_,name:M.U[M.O[0]].getName()+(J==1?"":"@"+J+"x")+"."+X};
W.a(m)};o.UA.prototype.Nn=function(M,X,J,q,W){if(M.NL=="getPNG"){this.a32(J,"png",M.bu,W,X)}else if(M.NL=="getSVG"){this.a32(J,"svg",M.bu,W,X)}if(M.NL=="prms"){this.Ye=M;
this.hV(J)}};o.UA.aD3=function(M){var jX=M.length,J=0;M.sort(function(T,_){return T[0]+T[1]/2-(_[0]+_[1]/2)});
var X=M[jX-1][0]+M[jX-1][1]-M[0][0];for(var $=0;$<jX;$++)J+=M[$][1];var q=Math.round((X-J)/(jX-1)),W=M[0][0];
for(var $=0;$<jX;$++){M[$][0]=W;W+=M[$][1]+q}};o.UA.prototype.dx=function(M,X,J,q,W){var T=M.h;if(T=="trsl"){var _=Math.round(M.wH),m=Math.round(M.RI);
this.B7.cn(_,m);this.Gr(J,X,q,W,!1,M.w);this.Bc(J,_,m);this.dL(J,null,W)}else if(T=="fcmy"||T=="fvec"){var d=["RGB","CMYK"][M.K]+" Color";
if(T=="fvec")d=["Raster","Vector"][M.K]+" Mode";var A=new hY(d,this);A.data={h:M.h,vc:J.add[T]==null?0:J.add[T],Nz:M.K};
J.Vr(A);this.AS(A.data,J)}else if(T=="pview"){var T=new hY([8,14],this);T.data={h:M.h};J.Vr(T);this.AS(T.data,J)}else if(T=="lockguides"){if(J)J.j2=!J.j2}else if(T=="gids"||T=="gidsFromLayer"){var p=M.Zl,a,f;
if(p==null)p=J.ob();if(T=="gids"){a=M.l$;var s=p[0].length,j=a[0].length;f=s==j?[23,2]:s>j?[23,3]:[23,4];
if(j==0)f=[11,15,0]}else if(T=="gidsFromLayer"){var Y=[],G=[],Q=J.WT();for(var $=0;$<J.O.length;$++){var Z=J.U[J.O[$]].S;
if(Z.M5())continue;Y.push([0,Z.x],[1,Z.y],[0,Z.x+Z.r],[1,Z.y+Z.$]);G.push(Q,Q,Q,Q)}f=[11,15,1];a=J.ob();
o.UA.JB(a,[Y,G])}if(JSON.stringify(p)==JSON.stringify(a))return;var T=new hY(f,this);T.data={h:2,Zl:p,l$:a};
J.Vr(T);this.AS(T.data,J)}else if(T=="algn"){var g=M.K;if(J==null)return;if(J.O.length<2&&!(J.c!=null&&g!=3&&g!=7)){alert(kd.get([15,7,5]));
return}var S=J.c;J.c=null;var Z=S?S.S:o.fx.Hg(J);this.Gr(J,X,q,W,!1);if(!this.Pg)return;var U=this.tF,B={},e=[],P=[],h=[];
for(var $=0;$<U.length;$++){var V=U[$];while(J.U[V].getName()=="</Layer group>")V++;var I=J.root.Hc(V),F=I;
while(I.parent!=null){I=I.parent;if(U.indexOf(I.index)!=-1)F=I}var c=P.indexOf(F.index);if(c==-1){c=P.length;
P.push(F.index)}e[$]=c}var D=[],n=[],k=[];for(var $=0;$<P.length;$++){var b=o.fx.Hg(J,J.AX(!0,P[$]));
k.push(b);var N=g==3?[b.y,b.$]:[b.x,b.r];D[$]=N;n.push(N)}o.UA.aD3(n);for(var $=0;$<P.length;$++){var b=k[$],L=b.x,R=b.y;
if(g==0)L=Z.x;if(g==1)L=Z.x+(Z.r-b.r)/2;if(g==2)L=Z.x+(Z.r-b.r);if(g==3)R=D[$][0];if(g==4)R=Z.y;if(g==5)R=Z.y+(Z.$-b.$)/2;
if(g==6)R=Z.y+(Z.$-b.$);if(g==7)L=D[$][0];h.push(Math.round(L-b.x),Math.round(R-b.y))}var i=[];for(var $=0;
$<U.length;$++){var v=e[$];i[2*$]=h[2*v];i[2*$+1]=h[2*v+1]}this.Bc(J,0,0,null,i);var E=g==3||g==7?[20,4,6]:[20,4,g<3?g:g-1];
this.dL(J,null,W,i,E);J.c=S}else if(T=="disabAuto"){this.Ug([!1],null,X)}};o.UA.JB=function(M,X){for(var $=0;
$<X[0].length;$++){var J=X[0][$],q=X[1][$],W=!1;for(var T=0;T<M[0].length;T++){var _=M[0][T],m=M[1][T];
if(J[0]==_[0]&&J[1]==_[1]&&q==m)W=!0}if(!W){M[0].push(J.slice(0));M[1].push(q)}}};o.UA.prototype.enable=function(M,X,J,q,W){this.f=J;
this.$y=X;this.sI=W?!0:!1;this.hV(M);this.WQ("default",X);this.KH(M,X,J,q)};o.UA.prototype.disable=function(M,X,J,q){this.Yv(M)};
o.UA.prototype.Yv=function(M){if(M==null)return;if(this.Di){this.Di.clear(M);this.Di=null}if(M.aS.TA){M.aS.TA=null;
M.fy=!0}if(M.aS.z3){M.aS.z3=null;M.fy=!0}if(M.aS.AF[this.id]){delete M.aS.AF[this.id];M.fy=!0}if(M.aS.Lh.length!=0){M.aS.Lh=[];
M.fy=!0}};o.UA.prototype.qc=function(M,X,J,q){if(J.Rk!=this.id)return;this.hV(M)};o.UA.prototype.hV=function(M,X){if(M==null)return;
var J=this.Ye;this.Yv(M);if(!this.sI){var q;if(J.Ia||J.TA)q=t.G.JE(o.fx.Hg(M));if(J.Ia&&!q.M5()){var W=M.U[M.O[0]],T=t.G.mP(q).d;
if(gj==1&&M.O.length==1){if(W.add.vmsk)T=W.add.vmsk.F_();if(W.add.SoLd)T=o.fx.Bz(W.add.SoLd.nonAffineTransform);
if(W.add.TySh){T=t.G.mP(W.ws.Bm).d;t.G.u(T,W.add.TySh.u,T)}}this.Di=new gY(T,!0);this.Di.kW(M,this.f)}if(J.TA){var _=null,f=null,s=!1;
if(M.WT()!=-1)_=M.U[M.WT()].PH();else _=new gc(0,0,M.r,M.$);M.aS.TA={Ft:[q],tL:[]};var m=M.aS.TA.tL,d=q.x+q.r,A=q.y+q.$,p=q.x+Math.floor(q.r/2),a=q.y+Math.floor(q.$/2);
if(X){var j=M.root.WR(new es(Math.floor(X.x),Math.floor(X.y)));if(j){f=t.G.JE(j.w.d9(M));if(f.B8(q)){s=(f.wz(q)||q.wz(f))&&!q.w6(f);
if(!s)f=null}}}this.aGI(q,m);if(f!=null){M.aS.TA.Ft.push(f);var Y=f.x+f.r,G=f.y+f.$,Q=f.x+Math.floor(f.r/2),Z=f.y+Math.floor(f.$/2);
if(s){var g=p,S=a;if(q.wz(f)){g=Q;S=Z}m.push(q.x,S,f.x,S);m.push(d,S,Y,S);m.push(g,q.y,g,f.y);m.push(g,A,g,G)}else{this.aGI(f,m);
var U=A<f.y||G<q.y,B=d<f.x||Y<q.x;if(d<f.x)m.push(d,a,f.x,a);if(Y<q.x)m.push(Y,a,q.x,a);if(A<f.y)m.push(p,A,p,f.y);
if(G<q.y)m.push(p,G,p,q.y);if(U&&!B){if(q.x<f.x)m.push(q.x,Z,f.x,Z);if(f.x<q.x)m.push(f.x,a,q.x,a)}}}else{if(q.y>_.y)m.push(p,_.y,p,q.y);
if(A<_.y+_.$)m.push(p,A,p,_.y+_.$);if(q.x>_.x)m.push(_.x,a,q.x,a);if(d<_.x+_.r)m.push(d,a,_.x+_.r,a)}M.fy=!0}}if(this.h==2&&this.Pg){var e=new gc(0,0,M.r,M.$),P=M.WT();
if(P!=-1){var h=M.ob(),V=h[1][this.tF];if(V==-1)V=P;e=M.U[V].PH()}var I=M.aZ[this.tF],F=I[0],c=(F==0?"X":"Y")+": "+t.gk.KG(I[1]-(F==0?e.x:e.y),M.Qv,this.f,F==0?e.r:e.$,!0);
o.bv.z6(Math.round(this.Cz.x)+10,Math.round(this.Cz.y)-10,[c],M);M.fy=!0}if(this.h==3&&this.Pg){var D=t.G.mP(this.CR);
M.aS.AF[this.id]={Gn:D};M.fy=!0}};o.UA.prototype.aGI=function(M,X){var J=M.r,q=M.$,W=M.x+Math.floor(J*.2),T=M.y+Math.floor(q*.2);
X.push(W,M.y,W,M.y+q);X.push(M.x,T,M.x+J,T)};o.UA.prototype.WQ=function(M,X){var J={h:r.m.Hf,Ny:M},q=new jb(r.E.C,!0);
q.data=J;X.a(q)};o.UA.prototype.QA=function(M){var X=this.zv.gu()[0];if(X==this.rn.length){var J=new jb(r.E.C,!0);
J.data={h:r.m.Bl,sz:"psd"};this.$y.a(J);return}var q=this.AR,W=this.rn[X];this.FI(q,W)};o.UA.prototype.qn=function(M){var X=t.b(this.f.QQ);
X.EI=this.rZ.gu()[0];var J=new jb(r.E.C,!0);J.data={h:r.m.OA,iw:bN.VB,Nz:X};this.$y.a(J)};o.UA.prototype.aa=function(M,X,J,q,W){if(this.Pg)this.fw(M,X,J,q,W);
this.AR=M;this.f=J;this.$y=X;var T=M.k.Ob(W.x,W.y),_;if(o.UA.j1(J,W,M.k)){_=this.rZ}else{if(this.zv)this.zv.removeEventListener("select",this.QA);
var m=[];M.root.WR(T,m);if(m.length==0)return;if(q.M(hP.Ke)){this.FI(M,m[0]);return}var d=[];this.rn=m;
for(var $=0;$<m.length;$++)d.push({name:M.U[m[$]].getName(),ns:$==m.length-1});d.push({name:[1,18],co:!0});
_=this.zv=new an(d);_.P("select",this.QA,this)}_.parent=X;_.T();_.update(M,J);var A=new jb(r.E.C,!0);
A.data={h:r.m._5,kv:_,x:W.VY+2,y:W.VV+1};X.a(A)};o.UA.prototype.amN=function(M,X,J,q,W){var T=o.UA.M4(M,W);
return T!=-1||o.UA.j1(J,W,M.k)};o.UA.M4=function(M,X){if(M==null||M.add.artd==null)return-1;var J=M.k.Ob(X.x,X.y),q=12*o.pv()/M.k.r7;
for(var $=0;$<M.U.length;$++){var W=M.U[$];if(!W.cV()||W.add.artb==null)continue;var T=W.PH(),_=new gc(T.x,T.y-1.7*q,q*W.getName().length*.5,q);
if(_.ZO(J))return $}return-1};o.UA.prototype.H_=function(M,X,J,q,W){var T=o.UA.M4(M,W),_=o.UA.auG(M,M.k.Ob(W.x,W.y));
if(T!=-1){M.O=[T];if(J.Rk==o.oa){var m=new jb(r.E.C);m.data={h:r.m.ga,J:o.Kr};X.a(m)}return}if(_!=-1){M.k.Yg=_;
M.K8=!0;var m=new jb(r.E.C,!0);m.data={h:r.m.Nt,bf:gF.UE.a7c};X.a(m);return}this.Cz=W;this.VF.cn(W.x,W.y);
this.RT=M.k.Ob(W.x,W.y);this.IR=new aT(this.RT);this.Gr(M,X,q,J,!0)};o.UA.j1=function(M,X,J,q){var W=t.gk.ZZ,T=J.dy.$;
return M.no&&(0<X.x&&X.x<W||0<X.y&&X.y<W||q&&0<X.x&&X.x<4*W&&T-W<X.y&&X.y<T)};o.UA.prototype.Gr=function(M,X,J,q,W,T){var _,m=this.RT,d=!1;
if(W){var A=q.iY&&q.QQ.aZ;if(o.UA.j1(q,this.VF,M.k)){_=M.ob();var p=M.ob(),a=null;if(this.VF.x<t.gk.ZZ){a=[0,m.x]}if(this.VF.y<t.gk.ZZ){a=[1,m.y]}p[0].push(a);
p[1].push(M.WT(!0));M.tO(p);if(!A){var f=new jb(r.E.C);if(!q.QQ.aZ){f.data={h:r.m.OA,iw:bN.CN};X.a(f)}if(!q.iY){f.data={h:r.m.OA,iw:bN.aO};
X.a(f)}A=!0}}var s=this.aDW(M,m);if(A&&s!=null&&!M.j2){this.h=2;this.Zl=_?_:M.ob();this.tF=s;this.Pg=!0;
this.nx=o.fx.Hg(M);return}if(M.LV.length!=0){this.h=4;this.nx=M.OD[M.LV[0]].S.Q();this.Pg=!0;return}if(this.Di&&this.Di.WV(m,M.k.r7,!0,this.Cz)!=null){var f=new jb(r.E.C);
f.data={h:r.m.ga,J:o.zS,a1t:!0};X.a(f);return}if(M.c&&M.c.S.ZO(m)){var j=Math.round(m.x),Y=Math.round(m.y),G=M.c.S;
d=M.c.N[(Y-G.y)*G.r+j-G.x]>t.P0(M.depth)/2}var Q=this.Ye.cP||gj==1;if(!d&&(!this.sI&&Q||this.sI&&Q&&(J.M(hP.HG)||M.O.length<2))){var Z=this.ao2(M,m,J);
if(!Z){M.O=[];M.bQ=null;M.bM=M.$s=!0;this.h=3;this.CR=new gc;this.Pg=!0;return}}if(J.M(hP.Ke)&&!d){var g=new jb(r.E.H);
g.J=o.HX;g.data={h:K.T0,aow:!0};X.a(g)}}if(M.LV.length!=0){this.h=4;this.nx=M.OD[M.LV[0]].S.Q();this.Pg=!0;
return}this.tF=M.AX(T==null,T,null,!0);for(var $=0;$<this.tF.length;$++){var S=this.tF[$],U=M.U[S];if(U.Uc(2)||U.Uc(31)||M.fr(S)){alert(kd.get([6,57,0]));
return}}if(M.add.artd&&W){var B=this.tF,e=!1;for(var $=0;$<B.length;$++)if(M.U[B[$]].add.artb)e=!0;if(!e){this.Tj=[M,M.U.slice(0),M.O.slice(0),-1];
this.tF.sort(function(n,k){return n-k})}}this.Wc=o.UA.aej(M,this.tF);this.h=0;if(M.c&&(!W||d)&&M.O.length==1&&M.KE(!1)){if(!M.amI()){this.Pg=!1;
return}var P=M.U[M.O[0]],h=J.M(hP.Ke);this.h=1;var V=M.history[M.sv];if(V.J==this&&V.data.h==1&&V.data.w==M.O[0]&&P.tD==P.Yb.tD&&!h){this.Wb=V}else{var I=P.Yb,F=!1,c;
if(!P.cu(M,M.c)||h){F=!0;P.sG(M,M.c,h)}if(P.Yb.tD<=0){c=t.j(P.Yb.dC.length>>2,M.depth);t.SF(P.Yb.dC,c,3)}else c=M.c.N.slice(0);
var D={S:P.Yb.uF.Q(),N:c};this.Wb=new hY(h?[12,53]:[12,54],this);this.Wb.data={h:1,w:M.O[0],Yb:P.Yb,Ii:I,cl:F,E_:M.c,cD:D,Bi:new es(0,0)};
M.Vr(this.Wb);M.c=D;M.E5=!0}}this.Pg=!0;this.nx=o.fx.Hg(M)};o.UA.prototype.ao2=function(M,X,J){var q=M.root.WR(new es(Math.floor(X.x),Math.floor(X.y)));
if(q){if(q.w.add.vmsk)M.fy=!0;var W=M.U.indexOf(q.w);if(this.Ye.ado==0){var T=M.root.Hc(W);while(T.parent&&T.parent.depth!=0&&T.parent.w.add.artb==null)T=T.parent;
W=T.index}if(J.M(hP.HG)){var _=M.O.indexOf(W);if(_==-1)M.O.push(W);else if(M.O.length>1)M.O.splice(_,1)}else if(M.O.indexOf(W)==-1){this.FI(M,W)}}return q!=null};
o.UA.prototype.FI=function(M,X){M.U[X].tD=0;M.O=[X];M.bQ=null;M.b7();M.we=!0;M.bM=!0};o.UA.auG=function(M,X){var J=M.add.Anno;
if(J==null||J.length==0)return-1;var q=30/M.k.r7;for(var $=0;$<J.length;$++)if(new gc(J[$][0],J[$][1],q,q).ZO(X))return $;
return-1};o.UA.prototype.T_=function(M,X,J,q,W){this.Cz=W;var T=M.k.Ob(W.x,W.y),s,j;if(this.IR&&this.h<2)T=this.IR.B6(T,q);
if(!this.Pg){if(J.iY&&J.QQ.aZ&&M&&!M.j2){var _=this.aDW(M,T),m="default",d=o.UA.M4(M,W);if(_!=null)m=["col-resize","row-resize"][M.aZ[_][0]];
else if(this.Di){var A=this.Di.WV(T,M.k.r7,null,W);if(A)m=A}else if(d!=-1||o.UA.auG(M,T)!=-1){m="pointer"}this.WQ(m,X)}this.hV(M,T);
return}var p=this.RT,a=Math.round(T.x-p.x)-this.B7.x,f=Math.round(T.y-p.y)-this.B7.y;if(this.nx){if(this.h==2){var Y=[];
if(M.c)Y.push(M.c.S);if(this.nx)Y.push(this.nx);if(M.k.At)Y.push(M.k.At);T=o.UA.kZ(M,T,J,[!1,Y,!0,!0])}else{j=this.nx.Q();
j.offset(this.B7.x+a,this.B7.y+f);s=o.UA.mq(M,j,J);var G=this.IR.aoJ(q);if(G==1){s[0]=0;s[2]=1e9}if(G==2){s[1]=0;
s[3]=1e9}a+=Math.round(s[0]);f+=Math.round(s[1])}}this.B7.x+=a;this.B7.y+=f;var Q=this.Tj;if(Q&&M==Q[0]){M.Ig(Q[1]);
M.O=Q[2].slice(0);Q[3]=-1}this.Bc(M,a,f,T,null,q.M(hP.HG));if(Q&&M==Q[0]){var Z=this.nx.Q();Z.offset(this.B7.x,this.B7.y);
var g=T,d=M.WT(),S=-1;for(var $=0;$<M.U.length;$++){var U=M.U[$];if(!U.cV()||U.add.artb==null)continue;
var B=U.PH();if(B.ZO(g))S=$}if(S!=-1&&S!=d){var e=o.Cv.VD(M,this.tF,S,!0,null,!1);M.Ig(e[0]);M.O=e[1];
Q[3]=S}}this.hV(M,T);if(s)o.UA.ae(M,j,s)};o.UA.prototype.aDW=function(M,X){var J=o.lV(M,this.Cz);X=[X.x,X.y];
var q=M.ob(),W=M.WT();for(var $=0;$<q[0].length;$++){var T=q[0][$],_=q[1][$];if(_!=-1&&_!=W)continue;
if(Math.abs(T[1]-X[T[0]])<J)return $}return null};o.UA.prototype.Bc=function(M,X,J,q,W,T){if(this.h==0){if(W)o.UA.XC(M,this.tF,this.Wc,W);
else o.UA.ax(M,this.tF,this.Wc,X,J)}else if(this.h==1){var _=this.Wb.data;_.Bi.offset(X,J);o.UA.Fe(M,_.w,X,J)}else if(this.h==2){var m=1e-4;
if(T)m=M.k.r7<=1?10:1;var d=m*Math.round(q.x/m),A=m*Math.round(q.y/m),p=[d,A],a=M.aZ[this.tF];a[1]=p[a[0]]}else if(this.h==3){var f=this.RT,s=t.G.Oi([f.x,f.y,q.x,q.y]);
this.CR=s;var j=[];M.root.Rx(s,j);if(JSON.stringify(M.O)!=JSON.stringify(j)){M.O=j;M.bM=M.$s=!0}}else if(this.h==4){for(var $=0;
$<M.LV.length;$++)M.OD[M.LV[$]].S.offset(X,J);M.fy=!0}};o.UA.Fe=function(M,X,J,q){var W=M.U[X];M.c.S.offset(J,q);
W.G$(M,J,q,M.c);M.E5=!0;M.vV()};o.UA.prototype.fw=function(M,X,J,q,W,T){this.dL(M,W,J);this.hV(M);if(Date.now()-this.T5<300&&!T){var _=o.FE.Km(M,M.k.Ob(W.x,W.y));
if(o.UA.j1(J,W,M.k,!0)){var m=new jb(r.E.C);if(W.y>M.k.dy.$-20){m.data={h:r.m.SQ,bf:"doczoom",vc:M.k.r7*100,N5:{A:r.E.H,J:o.QC,p:{h:"pzoom"}}}}else{m.data={h:r.m.SQ,bf:"preferences"}}X.a(m)}else if(_>=0){var d=new jb(r.E.H,!0);
d.J=o.JT;d.data={h:"editCurr",vE:_};X.a(d)}}this.T5=Date.now();o.VN.Eh(M)};o.UA.prototype.dL=function(M,X,J,q,W){if(!this.Pg)return;
this.Pg=!1;if(this.h==0){if(q){this.aAv(M,null,q,W)}else{if(this.B7.x==0&&this.B7.y==0)return;this.aAv(M,this.B7.Q())}M.K8=!0}else if(this.h==2){var T=0;
X=[X.x,X.y];var _=this.tF,m=M.aZ[_],c$=this.Zl[0].length,d=M.aZ.length;if(J.no&&X[m[0]]<t.gk.ZZ){var A=M.ob();
A[0].splice(_,1);A[1].splice(_,1);M.tO(A);T=1;if(c$==d-1)return}if(c$<d)T=2;var p=new hY([[23,2],[23,3],[23,4]][T],this);
p.data={h:2,Zl:this.Zl,l$:M.ob()};M.Vr(p)}else if(this.h==4){var p=new hY([12,54],this);p.data={h:4,O:M.LV.slice(0),s:this.B7.Q()};
M.Vr(p)}this.B7.cn(0,0)};o.UA.prototype.KH=function(M,X,J,q){var W=q.CG(M?M.k.Ow:0);if(M!=null&&(W.x!=0||W.y!=0)){if(q.M(hP.Ke)&&M.c==null){var T=new jb(r.E.H);
T.J=o.HX;T.data={h:K.T0,aow:!0};X.a(T)}this.B7.cn(W.x,W.y);this.Gr(M,X,q,J,!1);if(!this.Pg)return;this.Bc(M,W.x,W.y);
this.dL(M,null,J);this.hV(M)}var _=q.M(hP.WM);if(!this.sI&&this.avm!=_){if(_){this.alf=this.Ye.cP;this.Ye.cP=!0}else{this.Ye.cP=this.alf}this.avm=_;
var m=new jb(r.E.C,!0);m.data={h:r.m.ZQ,J:this.id,f4:this.Ye};X.a(m)}};o.UA.prototype.df=function(M,X){if(M.h==0){var J=M.$j;
if(J){X.Ig(J.KQ);X.O=J.Ju.slice(0);X.vV();X.bM=!0}o.UA.XC(X,M.O,M.wC,M.WA,!0);o.VN.Eh(X)}else if(M.h=="fcmy"||M.h=="fvec"){if(M.vc==0)delete X.add[M.h];
else X.add[M.h]=M.vc;X.fy=!0}else if(M.h=="pview"){X.RM=!X.RM;X.vV()}else if(M.h==2){X.tO(M.Zl);X.fy=!0}else if(M.h==4){for(var $=0;
$<M.O.length;$++)X.OD[M.O[$]].S.offset(-M.s.x,-M.s.y);X.fy=!0}else{var q=X.U[M.w];if(M.cl){q.rS(X,M.Ii);
X.c=M.E_;X.E5=!0;X.vV();q.vV()}else{o.UA.Fe(X,M.w,-M.Bi.x,-M.Bi.y)}}};o.UA.prototype.AS=function(M,X){if(M.h==0){o.UA.XC(X,M.O,M.wC,M.WA);
var J=M.$j;if(J){X.Ig(J.f_);X.O=J.zN.slice(0);X.vV();X.bM=!0}o.VN.Eh(X)}else if(M.h=="fcmy"||M.h=="fvec"){if(M.Nz==0)delete X.add[M.h];
else X.add[M.h]=M.Nz;X.fy=!0}else if(M.h=="pview"){X.RM=!X.RM;X.vV()}else if(M.h==2){X.tO(M.l$);X.fy=!0}else if(M.h==4){for(var $=0;
$<M.O.length;$++)X.OD[M.O[$]].S.offset(M.s.x,M.s.y);X.fy=!0}else{var q=X.U[M.w];if(M.cl){q.Yb=M.Yb;X.c=M.cD;
o.UA.Fe(X,M.w,0,0);q.vV()}else{o.UA.Fe(X,M.w,M.Bi.x,M.Bi.y)}}};o.UA.prototype.aAv=function(M,X,J,q){if(J){var W=!0;
for(var $=0;$<J.length;$++)if(J[$]!=0)W=!1;if(W)return}var T=M.history[M.sv],_=this.Tj,m=_!=null&&_[3]!=-1&&_[0]==M;
if(!m&&J==null&&T.data&&T.J==this&&T.data.h==0&&JSON.stringify(T.data.O)==JSON.stringify(this.tF)&&JSON.stringify(T.data.wC)==JSON.stringify(this.Wc)){var d=T.data.WA,A=T.data.aHb.Qd.T.v;
A.Hrzn.v.val+=X.x;A.Vrtc.v.val+=X.y;for(var $=0;$<d.length;$+=2){d[$]+=X.x;d[$+1]+=X.y}}else{if(X==null)X=new es(J[0],J[1]);
var p={hC:"move",Qd:{classID:"null",null:k$.kh("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:X.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:X.y}}}}}},a=null;
if(m)a={KQ:_[1],Ju:_[2],f_:M.U.slice(0),zN:M.O.slice(0)};this.Tj=null;var f=new hY(q?q:[12,54],this);
if(J)f.data={h:0,O:this.tF,wC:this.Wc,$j:a,WA:J};else f.data={h:0,O:this.tF,wC:this.Wc,$j:a,WA:o.UA.acn(this.tF,X.x,X.y)};
f.data.aHb=p;M.Vr(f);this.track(p)}};o.UA.acn=function(M,X,J){var q=[];for(var $=0;$<M.length;$++)q.push(X,J);
return q};o.UA.ax=function(M,X,J,q,W){o.UA.XC(M,X,J,o.UA.acn(X,q,W))};o.UA.XC=function(M,X,J,q,W){if(X.length==0)return;
if(J==null){J=[];for(var $=0;$<X.length;$++){J.push(M.U[X[$]].tV(M,!0))}}var T=new gc,_=new gc(0,0,M.r,M.$);
for(var $=0;$<X.length;$++){var m=q[2*$],d=q[2*$+1];if(W){m=-m;d=-d}var A=M.U[X[$]],p=J[$];if(A.add.fxrp&&(p.indexOf(0)!=-1||A.eQ()))A.add.fxrp.offset(m,d);
for(var a=0;a<p.length;a++){var f=p[a];if(f==0){A.S.offset(m,d);if(A.mT()&&A.uV(M))A.uV(M).S.offset(m,d);
if(A.add.artb){var s=A.PH();s.offset(m,d);A.oQ(s);var j=A.add.artb.guideIndeces;j=j?j.v:[];for(var Y=0;
Y<j.length;Y++){var G=M.aZ[j[Y].v];G[1]+=G[0]==0?m:d}}if(A.add.TySh){A.add.TySh.u.translate(m,d);if(A.add.TySh.add){A.add.TySh.add.vmsk.offset(m,d)}}if(A.add.SoLd){var Q=new kp(1,0,0,1,m,d),Z=A.add.SoLd,g=o.fx.Bz(Z.Trnf),S=o.fx.Bz(Z.nonAffineTransform);
t.G.u(g,Q,g);t.G.u(S,Q,S);Z.Trnf=o.fx.qT(g);Z.nonAffineTransform=o.fx.qT(S);o.fx.a1H(Z,Q)}}if(f==1)A.hM().S.offset(m,d);
if(f==2){A.add.vmsk.offset(m,d);if(A.add.vogk)t.fg.u(A.add.vogk,[1,0,m,0,1,d,0,0],[]);if(A.ws.Pa){var U=A.ws.Pa.zm.d;
t.G.u(U,new kp(1,0,0,1,m,d),U)}}if(f==3){A.uV(M).JS.S.offset(m,d);if(p.length==1)A.vV()}}if(p.length>0){var B=A.add.GdFl;
if(B==null)B=A.add.PtFl;if(A.eQ()&&!A.Zw()&&A.add.vmsk!=null&&t.I.xf(A.add.vmsk.X)&&A.add.vmsk.Fw==255&&(B==null||B.Algn&&B.Algn.v)){A.S.offset(m,d)}else A.j$(M);
var e=M.root.gp(A.d9(M),M,X[$]);if(A.add.artb)e=e.m0(A.PH());T=T.m0(e);e.offset(-m,-d);T=T.m0(e);if(A.TN()&&A.JS&&A.JS.color==255)T=T.m0(_);
A.akd()}}M.vV(t.G.JE(T))};o.UA.aej=function(M,X){var J=[];for(var $=0;$<X.length;$++){var q=M.U[X[$]];
J.push(q.tV(M))}return J};o.UA.ae=function(M,X,J){var q={d:[],C6:[]},W=X.x+J[0],T=X.y+J[1];if(J[2]!=1e9){q.C6.push("M","L");
var _=T+X.$;if(J[4])q.d.push(J[2],Math.min(T,_,J[4][1]),J[2],Math.max(T,_,J[4][1]));else q.d.push(J[2],T,J[2],T+X.$)}if(J[3]!=1e9){q.C6.push("M","L");
var m=W+X.r;if(J[5])q.d.push(Math.min(W,m,J[5][0]),J[3],Math.max(W,m,J[5][0]),J[3]);else q.d.push(W,J[3],m,J[3])}if(q.d.length!=0){M.aS.z3=q;
M.fy=!0}};o.UA.kZ=function(M,X,J,q){var W=o.UA.aGH(M,[[X.x],[X.y]],J,q);return new es(X.x+W[0],X.y+W[1])};
o.UA.mq=function(M,X,J,q,W){var T=W==!0?1:.5,_=o.UA.aGH(M,[[X.x,X.x+Math.round(X.r*T),X.x+X.r],[X.y,X.y+Math.round(X.$*T),X.y+X.$]],J,q);
return _};o.UA.aGH=function(M,X,J,q){if(q==null)q=[!0,null,!0];var W=[0,0,1e9,1e9,null,null];if(!J.aU)return W;
var T=t.b(X);for(var _=0;_<2;_++){var m=1e9,d=X[_],A=0,p=null;for(var a=0;a<d.length;a++){var f=o.UA.aru(M,d[a],T[1-_][a],_,J,q),s=f[0];
if(s!=1e9)T[_][a]=s;if(s!=1e9&&Math.abs(s-d[a])<Math.abs(m)){m=s-d[a];A=s;p=f[1]}}if(m!=1e9){W[_]=m;
W[_+2]=A;W[_+4]=p}}return W};o.UA.aru=function(M,X,J,q,W,T){var _=1e9,m=null,d=W.A1,A=W.QQ,p=[M.root];
while(p.length!=0&&d[2]){var a=p.pop(),f=a.w,s=f.S;if(!f.cV())continue;if(a.children)for(var $=0;$<a.children.length;
$++)p.push(a.children[$]);if(M.O.indexOf(a.index)!=-1||s.M5())continue;var j=s.r,Y=j>>>1,G=s.$,Q=G>>>1,Z=_;
if(q==0){if(Math.abs(s.x-X)<Math.abs(_-X))_=s.x;if(Math.abs(s.x+Y-X)<Math.abs(_-X))_=s.x+Y;if(Math.abs(s.x+j-X)<Math.abs(_-X))_=s.x+j}else{if(Math.abs(s.y-X)<Math.abs(_-X))_=s.y;
if(Math.abs(s.y+Q-X)<Math.abs(_-X))_=s.y+Q;if(Math.abs(s.y+G-X)<Math.abs(_-X))_=s.y+G}if(Z!=_){m=[s.x+Y,s.y+Q]}}var g=_;
_=1e9;if(T[0]&&d[0]&&A.aZ&&W.iY){var S=M.ob(),U=S[0],B=S[1],e=M.WT();for(var $=0;$<U.length;$++)if((B[$]==-1||B[$]==e)&&U[$][0]==q&&Math.abs(U[$][1]-X)<Math.abs(_-X))_=U[$][1]}if(d[1]&&A.C2&&W.iY){var P=Math.round(t.gk.Bw(A.bd,M.Qv,M.r,A.dE));
if(q==1&&A.QW==1){var h=J*.5*Math.sqrt(4/3),V;P*=Math.sqrt(4/3);V=Math.round((X-h)/P)*P+h;if(Math.abs(V-X)<Math.abs(_-X))_=V;
V=Math.round((X+h)/P)*P-h;if(Math.abs(V-X)<Math.abs(_-X))_=V}else{var V=Math.round(X/P)*P;if(Math.abs(V-X)<Math.abs(_-X))_=V}}var I=M.YY;
if(d[3]&&A.YY&&W.iY&&I.length!=0){for(var $=0;$<I.length;$++){if(!T[2]&&M.ZN.indexOf($)!=-1)continue;
var F=o.OZ.f9(I,$);for(var c=0;c<3;c+=2)if(F[c+q]!=X&&Math.abs(F[c+q]-X)<Math.abs(_-X))_=F[c+q]}}if(T[1])for(var D=0;
D<T[1].length;D++){var s=T[1][D],j=s.r,G=s.$,Y=j>>>1,Q=G>>>1;if(T[3]){Y=j/2;Q=G/2}var n=[s.x,s.y,s.x+Y,s.y+Q,s.x+j,s.y+G];
for(var $=0;$<6;$+=2)if(Math.abs(n[$+q]-X)<Math.abs(_-X))_=n[$+q]}if(d[4]){var s=new gc(0,0,M.r,M.$),e=M.WT();
if(e!=-1)s=M.U[e].PH();var j=s.r,G=s.$,Y=j>>>1,Q=G>>>1;if(T[3]){Y=j/2;Q=G/2}var n=[s.x,s.y,s.x+Y,s.y+Q,s.x+j,s.y+G];
for(var $=0;$<6;$+=2)if(Math.abs(n[$+q]-X)<Math.abs(_-X))_=n[$+q]}if(Math.abs(_-X)<=Math.abs(g-X))m=null;
else _=g;var k=Math.abs(_-X)<=4*o.pv()/M.k.r7?_:1e9;return[k,m]};o.kY=function(){o.Gp.call(this,[10,12],o.R7,"tools/mwand");
this.SD=null};o.kY.prototype=new o.Gp;o.kY.prototype.Wk=function(M,X,J,q){this.SD=q;this.asn=this.Ye.wconf[0];
this.finish(M,X,J,q)};o.kY.prototype.yf=function(M,X,J,q,W){if(!q.kJ)return;var T=new jb(r.E.H);T.J=o.xH;
T.data={h:"h_stepbck"};W.a(T);var _=q.x-this.SD.x,m=Math.max(0,Math.min(255,Math.round(this.asn+_/4)));
this.Ye.wconf[0]=m;this.S5(W);this.finish(M,X,J,this.SD)};o.kY.prototype.BY=function(M,X,J,q,W){this.Ye.wconf[0]=this.asn;
this.S5(W)};o.kY.prototype.getSelection=function(M,X,J,q){var W=this.EE;W=M.k.Ob(q.x,q.y);var T=o.Gp.a7k(new es(Math.floor(W.x),Math.floor(W.y)),this.Ye.wconf,this.Ye.sall);
return T};o.kY.a70=function(M,X,J,q,W){if(X.x<0||X.x>M.r||X.y<0||X.y>M.$)return null;var T,_=new gc(0,0,M.r,M.$);
if(q)T=M.m7();else{var m=M.O.length,A=null;if(m!=1){alert(m==0?"No layer selected.":"More than one layer selected.");
return null}var d=M.U[M.O[0]],p=d.tD<=0?null:d.tD==1?d.hM():d.uV(M).JS;if(W||p&&p.OI)A=p;if(A==null&&d.add.lsct!=null&&d.add.lsct!=gO.sH){alert("No layer selected.");
return null}if(A==null&&_.w6(d.S))T=d.buffer;else{T=t.j(_.o()*4,M.depth);if(A==null)t.fA(d.buffer,d.S,T,_);
else o.X_.nK(A.N,A.S,A.color,T,_)}}var a=o.kY.NA(T,_,X,null,J),f=t.pT(a,_),s=t.j(f.o(),M.depth);t.Rc(a,_,s,f);
return{S:f,N:s}};o.kY.fk=function(M,X,J){var q=X.r,W=X.$,_=0,m=0,d=0,A=0;M=new Uint32Array(M.buffer);
var T=[],p=J.length;for(var $=0;$<p;$++){var a=J[$],f=Math.round(a.x-.5-X.x),s=Math.round(a.y-.5-X.y);
f=Math.max(0,Math.min(q-1,f));s=Math.max(0,Math.min(W-1,s));var j=s*q+f,Y=M[j];T.push([Y&255,Y>>8&255,Y>>16&255,Y>>>24])}return T};
o.kY.NA=function(M,X,J,q,W){var T=t.qP(M);M=t.cY(M,8);M=new Uint32Array(M.buffer);var _=X.r,m=X.$,d=_*m;
if(q==null)q=o.kY.fk(M,X,[J]);var A=Math.round(J.x-.5-X.x),p=Math.round(J.y-.5-X.y),a=p*_+A,f=Date.now(),s=t.j(_*m),j=W[0],Y=1/j,G=W[1]&&j>0?255:0;
if(W[2]){var Q=t.j(s.length),Z=new Uint32Array(d),g=1;Z[0]=A<<16|p;Q[a]=1;while(g>0){var S=Z[g-1];g--;
var U=S>>>16,B=S&65535,$=B*_+U,e=o.kY.Xa(M[$],q);if(e>j){var P=G*(1-Math.max(0,Math.min(1,(e-j)*Y)));
s[$]=~~P}else{s[$]=255;if(B!=m-1&&Q[$+_]==0){Z[g++]=U<<16|B+1;Q[$+_]=1}if(B!=0&&Q[$-_]==0){Z[g++]=U<<16|B-1;
Q[$-_]=1}if(U!=_-1&&Q[$+1]==0){Z[g++]=U+1<<16|B;Q[$+1]=1}if(U!=0&&Q[$-1]==0){Z[g++]=U-1<<16|B;Q[$-1]=1}}}}else{for(var $=0;
$<d;$++){var e=o.kY.Xa(M[$],q);if(e<=j)s[$]=255}for(var B=0;B<m;B++)for(var U=0;U<_;U++){var $=B*_+U;
if(s[$]==0&&(U>0&&(s[$-1]==255||B>0&&s[$-_-1]==255||B<m-1&&s[$+_-1]==255)||U<_-1&&(s[$+1]==255||B>0&&s[$-_+1]==255||B<m-1&&s[$+_+1]==255)||B>0&&s[$-_]==255||B<m-1&&s[$+_]==255)){var e=o.kY.Xa(M[$],q),P=G*(1-Math.max(0,Math.min(1,(e-j)*Y)));
s[$]=~~P}}}s=t.cY(s,T);return s};o.kY.Xa=function(M,X){var J=X.length,q=o.kY.an9(M,X[0]),$=1;while($!=J){q=Math.min(q,o.kY.an9(M,X[$]));
$++}return q};o.kY.an9=function(M,X){var J=M&255,q=M>>>8&255,W=M>>>16&255,T=M>>>24&255;if(X[3]==0)return T<5?0:255;
var _=Math.max(Math.abs(J-X[0]),Math.max(Math.abs(q-X[1]),Math.abs(W-X[2])));return T==0?255:_};o.gZ=function(M,X){if(X)o.X_.call(this);
else if(M)o.X_.call(this,[10,49],o.Wd,"tools/camove");else o.X_.call(this,[10,26],o.jv,"tools/patch");
this.h6=null;this.Pa=null;this.s=null;this.VX=null;this.Zd=new es;this.AP=null;this.$d=null};o.gZ.prototype=new o.X_;
o.gZ.prototype.H_=function(M,X,J,q,W){var T=M.k.Ob(W.x,W.y);if(M.c&&t.WR(T,M.c.N,M.c.S)){var _=new gc(0,0,M.r,M.$),m=_.Lg(M.c.S);
if(!M.KE()||m.M5())return;if(!0){var d=t.j(m.o(),M.depth);t.Rc(M.c.N,M.c.S,d,m);M.c={N:d,S:m}}this.CX(M);
this.Ov(M);this.VX=T;this.Zd=new es(T.x-M.c.S.x,T.y-M.c.S.y);this.$d=t.j(M.c.S.o()*4,M.depth);this.$d.fill(t.P0(M.depth));
if(this.Ye.patch==1){var A=M.U[M.O[0]];A.sG(M,M.c,!0);if(A.Yb==null)this.VX=null}this.AP=M.c.S.Q()}else{this.Pa={d:[T.x,T.y],C6:["M"]};
this.h6=T}};o.gZ.prototype.T_=function(M,X,J,q,W){var T=M.k.Ob(W.x,W.y);if(this.VX){if(this.Ye.patch==1){if(M.LV.length==0){var _=M.U[M.O[0]].Yb,m=T.x-this.Zd.x,d=T.y-this.Zd.y;
o.UA.Fe(M,M.O[0],Math.round(m-_.uF.x),Math.round(d-_.uF.y))}}else this.ajx(M,T,"clone")}if(this.h6){this.Pa.C6.push("L");
this.Pa.d.push(T.x,T.y);this.h6=T;M.aS.Gn=this.Pa;M.fy=!0}};o.gZ.prototype.fw=function(M,X,J,q,W){var T=M.k.Ob(W.x,W.y);
if(this.VX){var _=M.c.S.Q();if(this.id==o.Wd){var m=M.U[M.O[0]];m.rS(M,m.Yb);M.c.S=this.AP.Q();var d=t.j(M.c.S.o()*4,M.depth);
t.ix(M.c.N,d,3);this.xz(M,"sheal",d,M.c.S,M.c.S);M.c.S=_;_=_.m0(this.AP)}this.ajx(M,T,"heal");this.finish(M,_,null,null,!0);
M.vV(_);this.VX=null}if(this.h6){var A=o.Gp.Ds(this.Ye.setop,q.M(hP.HG),q.M(hP.Ke)),p=new jb(r.E.pL,!0);
if(this.Pa.d.length<=4)p.data=o.Gp.VT();else p.data=o.Gp.kt(this.Pa.d,A);X.a(p);this.h6=null;M.aS.Gn=null;
M.fy=!0}};o.gZ.prototype.sx=function(){return this.s};o.gZ.prototype.Nn=function(M,X,J,q,W){o.X_.prototype.Nn.call(this,M,X,J,q,W);
this.WQ(W,q)};o.gZ.prototype.WQ=function(M,X){var J="auto;";if(X!=null&&X.M(hP.HG)&&!X.M(hP.Ke)||this.Ye.setop=="union")J="copy";
var q=new jb(r.E.C,!0);q.data={h:r.m.Hf,Ny:J};if(this.caller)this.caller.a(q)};o.gZ.prototype.ajx=function(M,X,J){var q=new es(Math.round(this.VX.x-X.x),Math.round(this.VX.y-X.y));
if(this.Ye.patch==1)q.cn(-q.x,-q.y);this.s=q;this.xz(M,J,this.$d,M.c.S,M.c.S);this.vV(M,M.c.S)};o.acx=function(){o.gZ.call(this,!0);
this.Ye.patch=1};o.acx.prototype=new o.gZ(!0,!0);o.Xe=function(M){if(M)o.X_.call(this,[10,52],o.ayu,"tools/meraser");
else o.X_.call(this,[10,13],o.aF0,"tools/pbucket");this.Wj=!1;this.agi=M};o.Xe.prototype=new o.X_;o.Xe.prototype.enable=function(M,X,J,q){var W=new jb(r.E.C,!0);
W.data={h:r.m.Hf,Ny:"default"};X.a(W)};o.Xe.prototype.SY=function(M,X){};o.Xe.prototype.H_=function(M,X,J,q,W){if(this.AH(M,X,J,q,W,!0))return;
this.Wj=!0};o.Xe.prototype.T_=function(M,X,J,q,W){if(this.AH(M,X,J,q,W))return};o.Xe.prototype.fw=function(M,X,J,q,W,T){this.enable(M,X,J,q);
var _=this.Wj;this.Wj=!1;if(!_||T)return;if(!M.KE())return;var m=M.k.Ob(W.x,W.y),d=o.kY.a70(M,m,this.Ye.wconf,this.Ye.sall,!0);
if(d==null)return;if(M.c){var A=M.c.S.Lg(d.S);if(A.o()<d.S.o()){var p=t.j(A.o(),M.depth);t.Rc(d.N,d.S,p,A);
d.S=A;d.N=p}}var a=t.j(d.S.o()*4,M.depth),f=t.vT(J.pU,1);t.MY(a,f.z,f.L,f.g);t.ix(d.N,a,3);this.CX(M);
this.xz(M,this.agi?"erase":"draw",a,d.S,d.S);this.vV(M,d.S);this.finish(M,d.S)};o.jL=function(){o.Gp.call(this,[10,14],o.alp,"tools/plasso");
this.FU=o.mB();this.AL=[];this.Nw=null;this.Pa=null;this.a9E=0};o.jL.prototype=new o.Gp;o.jL.prototype.disable=function(M,X,J,q){this.ap(M)};
o.jL.prototype.Wk=function(M,X,J,q){this.AL=[hP.t3,hP.az]};o.jL.prototype.Ei=function(M){return this.AL.indexOf(M)!=-1};
o.jL.prototype.vI=function(M){return this.Pa!=null};o.jL.prototype.Te=function(){return this.Pa!=null};
o.jL.prototype.mG=function(){return this.Pa!=null};o.jL.prototype.yf=function(M,X,J,q){if(this.Pa==null)return;
var W=this.Pa,T=W.d,_=T.length-2,m=this.EE;if(this.YL.Hk(1)&&J.M(hP.Ke)&&q.kJ){T.push(0,0);W.C6.push("L");
_+=2}else if(J.M(hP.HG))m=o.kO.gK(new es(T[_-2],T[_-1]),m);T[_]=m.x;T[_+1]=m.y;M.aS.Gn=W;M.fy=!0};o.jL.prototype.BY=function(M,X,J,q){var W=Date.now();
if(this.Pa==null)this.Pa={d:[this.EE.x,this.EE.y,this.EE.x,this.EE.y],C6:["M","L"]};else{this.yf(M,X,J,q);
if(W-this.a9E<250||es.Yq(this.EE,new es(this.Pa.d[0],this.Pa.d[1]))<o.lV(M,q)){this.Nw=this.Pa;this.finish(M,X,J,q);
this.ap(M);return}this.Pa.C6.push("L");this.Pa.d.push(this.EE.x,this.EE.y)}this.a9E=W;M.aS.Gn=this.Pa};
o.jL.prototype.ap=function(M){this.Pa=null;this.AL=[];if(M!=null){M.aS.Gn=null;M.fy=!0}};o.jL.prototype.KH=function(M,X,J,q){o.Gp.prototype.KH.call(this,M,X,J,q);
if(q.M(hP.ke)&&this.Pa==null&&this.Nw&&M.c!=null){var W=new jb(r.E.H);W.J=o.xH;W.data={h:"h_stepbck"};
X.a(W);this.Wk(M,J,q,null);this.Pa=this.Nw;return}if(this.Pa==null)return;if(q.M(hP.t3)||q.M(hP.az)){this.Pa.d.pop();
this.Pa.d.pop();this.Pa.C6.pop();this.yf(M,J,q)}if(q.M(hP.ej)){if(this.Pa.d.length>4){this.Nw=this.Pa;
this.finish(M,J,q)}this.Pa=null}if(q.M(hP.ke)){this.Pa=null}M.aS.Gn=this.Pa;M.fy=!0};o.jL.prototype.getSelection=function(M,X,J,q){return o.Gp.kt(this.Pa.d,null,this.Ye.anta)};
o.i0=function(){o.Gp.call(this,[10,10],o.aaP,"tools/mlasso");this.FU=o.mB();this.AL=[];this.X=[];this.ao=[];
this.hR=[];this.a3g=null;this.aCA=0;this.mi=null;this.yO=null;this.T5=0;this.zX=0};o.i0.prototype=new o.Gp;
o.i0.prototype.disable=function(M,X,J,q){this.clear(M)};o.i0.prototype.vI=function(M){return this.X.length!=0};
o.i0.prototype.mG=function(){return this.X.length!=0};o.i0.prototype.Ei=function(M){return this.AL.indexOf(M)!=-1};
o.i0.prototype.Wk=function(M,X,J,q){this.AL=[hP.t3,hP.az];var W=this.ZS(this.fi,M);if(this.X.length!=0&&(es.Yq(W,this.X[0])<o.lV(M,q)||Date.now()-this.T5<300)){this.js(M,this.X[0]);
this.finish(M,X,J);this.clear(M);return}this.T5=Date.now();if(this.X.length!=0)W=this.sN(W,M);else{var T=M.r,_=M.$,m=M.m7(),d=UZIP.adler(m,0,m.length);
if(d==this.aCA){}else{var A=t.j(T*_),p=T*_*4;for(var $=0;$<p;$+=4)A[$>>>2]=~~(.5+t.ig(m[$],m[$+1],m[$+2])*(m[$+3]*(1/255)));
this.a3g=t.Zx.am9(A,T,_);this.aCA=d}this.yO=new Uint16Array(T*_)}this.js(M,W);this.zX=J.M(hP.Ke)?1:0;
this.Q1(M)};o.i0.prototype.js=function(M,X){var J=this.X;this.ao[J.length]=this.hR.length;if(J.length!=0){t.Zx.uz(this.mi,X.y*M.r+X.x);
var q=this.nO(M,X);q.reverse();var W=o.i0.aB7(M,q);this.hR=this.hR.concat(W)}J.push(X);this.a2o(M)};
o.i0.prototype.a2o=function(M){var X=this.X[this.X.length-1],J=X.y*M.r+X.x;this.mi=t.Zx.axJ(this.a3g,J,M.r,M.$);
this.yO.fill(0)};o.i0.prototype.ZS=function(M,X){return new es(Math.floor(Math.max(0,Math.min(X.r-1,M.x))),Math.floor(Math.max(0,Math.min(X.$-1,M.y))))};
o.i0.prototype.clear=function(M){this.hR=[];this.X=[];this.ao=[];this.mi=null;this.yO=null;if(M!=null){M.aS.Gn=null;
M.aS.PJ=[];M.fy=!0}this.AL=[]};o.i0.prototype.yf=function(M,X,J,q){var W=this.X,T=W.length;if(T==0)return;
var _=this.sN(this.ZS(this.EE,M),M),m=this.nO(M,_);for(var $=0;$<m.length;$++){var d=m[$],A=new es(d%M.r,Math.floor(d/M.r));
if(this.yO[d]>30&&es.Yq(A,W[T-1])>20){this.js(M,A);return}this.yO[d]++}if(this.zX==1&&q.kJ)this.js(M,_);
this.Q1(M)};o.i0.prototype.Q1=function(M){var X=this.X;if(X.length!=0){var J=this.sN(this.ZS(this.EE,M),M),q=this.nO(M,J);
q.reverse();var W=o.i0.aB7(M,q),T=this.hR.concat(W),_=M.aS.Gn={d:T,C6:["M"]};for(var $=2;$<T.length;
$+=2)_.C6.push("L")}M.aS.PJ=[];for(var $=0;$<X.length;$++)M.aS.PJ.push(X[$].x+.5,X[$].y+.5);M.fy=!0};
o.i0.prototype.BY=function(M,X,J,q){};o.i0.prototype.KH=function(M,X,J,q){if(this.X.length==0)return;
if(q.M(hP.t3)||q.M(hP.az)){this.X.pop();this.hR=this.hR.slice(0,this.ao[this.X.length]);this.ao.pop();
if(this.X.length==0)this.clear(M);else this.a2o(M);this.Q1(M)}if(q.M(hP.ej)){var W=this.ZS(this.EE,M);
this.js(M,W);this.finish(M,J,q);this.clear(M)}if(q.M(hP.ke)){this.clear(M)}};o.i0.prototype.getSelection=function(M,X,J,q){return o.Gp.kt(this.hR,null,this.Ye.anta)};
o.i0.prototype.nO=function(M,X){var J=this.X[this.X.length-1],q=J.y*M.r+J.x,W=X.y*M.r+X.x;if(this.zX==1)return[W,q];
var T=[W];while(W!=q){W=W+this.mi.yw[W];T.push(W);if(T.length>5e3){console.log(T);throw"e"}}return T};
o.i0.aB7=function(M,X){var J=[],q=M.r;for(var $=0;$<X.length;$++){var W=X[$];J.push(W%q+.5,Math.floor(W/q)+.5)}return J};
o.i0.prototype.sN=function(M,X){var J=X.r,q=X.$,W=M.Q(),_=3;t.Zx.uz(this.mi,M.y*J+M.x);var T=this.mi.rx[M.y*J+M.x];
for(var m=-_+1;m<_;m++)for(var d=-_+1;d<_;d++){var A=M.x+d,p=M.y+m;if(A<0||A>=J||p<0||p>=q)continue;
t.Zx.uz(this.mi,p*J+A);if(this.mi.rx[p*J+A]<T)W.cn(A,p)}return W};o.mE=function(){o.bv.call(this,[10,36],o.hA,"tools/ruler");
this.mO=null;this.MA=null;this.FR=null;this.q4=null;this.xE=null};o.mE.prototype=new o.bv;o.mE.prototype.vI=function(M){return M.kJ};
o.mE.prototype.enable=function(M,X,J,q){o.bv.prototype.enable.call(this,M,X,q,J);if(M){this.hV(M)}};
o.mE.prototype.disable=function(M,X,J,q){if(M)this.ap(M)};o.mE.prototype.dx=function(M,X,J,q,W){if(M.h=="unit"){var T=this.mO,_=M.K;
J.jk={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"measurementScale"}},{t:"Enmr",v:{classID:"Dcmn",typeID:"Ordn",enum:"Trgt"}}]},T:{t:"Objc",v:{classID:"measurementScale",pixelLength:{t:"long",v:_[0]},logicalLength:{t:"doub",v:_[1]},logicalUnits:{t:"TEXT",v:_[2]}}}};
this.tW(X,r.E.C,{h:r.m.ZQ,J:this.id,Vg:T[0],Sf:T[1],OU:T[2],Qv:J.Qv,axM:J.r,jk:J.jk})}if(M.h=="reset"){this.mO=this.FR=null;
this.hV(J)}};o.mE.prototype.H_=function(M,X,J,q,W){var T=o.lV(M,W),_=M.k.Ob(W.x,W.y);_.x=Math.round(_.x);
_.y=Math.round(_.y);var m=this.mO;this.MA=m?m.slice(0):null;var d=m&&es.Yq(_,m[0])<T,A=m&&es.Yq(_,m[1])<T,p=m&&m[2]&&es.Yq(_,m[2])<T;
if(d||A||p){if(q.M(hP.Ke)&&m.length==2){if(A){var a=m[0];m[0]=m[1];m[1]=a}m[2]=m[0].Q();this.FR=[2]}else this.FR=[d?0:A?1:2]}else if(m&&o.mE.aoK(m[0],m[1],_)<T&&Math.min(m[0].x,m[1].x)-5<=_.x&&_.x<=Math.max(m[0].x,m[1].x)+5&&Math.min(m[0].y,m[1].y)-5<=_.y&&_.y<=Math.max(m[0].y,m[1].y)+5){this.FR=[];
this.xE=[];for(var $=0;$<m.length;$++){this.FR.push($);this.xE.push(m[$].Q())}this.q4=_}else{this.mO=[_.Q(),_.Q()];
this.FR=[1]}};o.mE.prototype.T_=function(M,X,J,q,W){if(this.FR==null)return;var T=this.mO,_=this.FR,m=M.k.Ob(W.x,W.y);
m.x=Math.round(m.x);m.y=Math.round(m.y);if(_.length>1){var d=m.x-this.q4.x,A=m.y-this.q4.y;for(var $=0;
$<T.length;$++){T[$]=this.xE[$].Q();T[$].offset(d,A)}}else{T[_[0]].cn(m.x,m.y);if(q.M(hP.HG)){T[_[0]]=o.kO.gK(T[1-_[0]],T[_[0]])}}this.hV(M);
this.tW(X,r.E.C,{h:r.m.ZQ,J:this.id,Vg:T[0],Sf:T[1],OU:T[2],Qv:M.Qv,axM:M.r,jk:M.jk});M.k.At=t.G.Oi([T[0].x,T[0].y,T[1].x,T[1].y])};
o.mE.prototype.fw=function(M,X,J,q,W,T){this.FR=null;if(T){this.mO=this.MA.slice(0);this.hV(M)}};o.mE.prototype.tW=function(M,X,J){var q=new jb(X,!0);
q.data=J;M.a(q)};o.mE.prototype.hV=function(M){var X=this.mO;if(X==null)this.ap(M);else{var J=[X[1].x,X[1].y,X[0].x,X[0].y],q=["M","L"];
if(X.length>2){J.push(X[2].x,X[2].y);q.push("L")}M.aS.Gn={C6:q,d:J};M.aS.PJ=J}M.fy=!0};o.mE.prototype.ap=function(M){M.aS.Gn=null;
M.aS.PJ=[]};o.mE.aoK=function(M,X,J){var q=X.x-M.x,W=X.y-M.y,T=Math.abs(W*J.x-q*J.y+X.x*M.y-X.y*M.x),_=Math.sqrt(q*q+W*W);
return _==0?0:T/_};o.MJ=function(){o.X_.call(this,[10,19],o.jP,"tools/sharpen");this.yQ="copy"};o.MJ.prototype=new o.X_;
o.MJ.prototype.H_=function(M,X,J,q,W){var T=this.Ye.pdetail?eY.b6:eY.jP;if(q.M(hP.Ke))T=eY.M0;this.it(M,J,q,W,this.Ye.strn,T);
if(this.Pe==null)return;this.Vj(M)};o.MJ.prototype.T_=function(M,X,J,q,W){this.iZ(M,X,J);if(this.lJ)this.aM(M,J,W);
if(this.Pe==null)return;if(!W.kJ)return;this.RF(M,J,q,W);this.Vj(M)};o.hs=function(){o.X_.call(this,[10,24],o.Gx,"tools/shbrush");
this.yQ="draw";this.Ye.opacity=.5};o.hs.prototype=new o.X_;o.hs.prototype.H_=function(M,X,J,q,W){this.it(M,J,q,W,1);
if(this.Pe==null)return;this.Ov(M);this.Vj(M)};o.hs.prototype.T_=function(M,X,J,q,W){this.iZ(M,X,J);
if(this.lJ)this.aM(M,J,W);if(this.Pe==null)return;if(!W.kJ)return;this.RF(M,J,q,W);this.Vj(M)};o.hs.prototype.fw=function(M,X,J,q,W){if(this.Pe==null)return;
this.xz(M,"sheal",this.Pe.io(),this.Pe.Hg(),this.Pe.m1(),null);this.vV(M,this.Pe.m1());o.X_.prototype.fw.call(this,M,X,J,q,W)};
o.lI=function(){o.X_.call(this,[10,20],o.g9,"tools/smudge");this.yQ="copy"};o.lI.prototype=new o.X_;
o.lI.prototype.H_=function(M,X,J,q,W){var T=this.Ye.brush.toolOptions;this.it(M,J,q,W,this.Ye.strn,eY.g9);
if(this.Pe==null)return;this.Vj(M)};o.lI.prototype.T_=function(M,X,J,q,W){this.iZ(M,X,J);if(this.lJ)this.aM(M,J,W);
if(this.Pe==null)return;if(!W.kJ)return;this.RF(M,J,q,W);this.Vj(M)};o.yx=function(){o.X_.call(this,[10,23],o.IP,"tools/sponge");
this.yQ="sponge"};o.yx.prototype=new o.X_;o.yx.prototype.H_=function(M,X,J,q,W){this.it(M,J,q,W,this.Ye.flow);
if(this.Pe==null)return;this.Vj(M)};o.yx.prototype.T_=function(M,X,J,q,W){this.iZ(M,X,J);if(this.lJ)this.aM(M,J,W);
if(this.Pe==null)return;if(!W.kJ)return;this.RF(M,J,q,W);this.Vj(M)};o.XP=function(){o.bv.call(this,[10,17],o.QC,"tools/zoom");
this.vN=!1;this.j_=!0;this.xs=!1;this.g1=0;this.g8=null;this.b_=null;this.x9=0;this.gD=null;this.amM=0;
this.rZ=new an([{name:[8,0],UD:"Ctrl + +"},{name:[8,1],UD:"Ctrl + -",ns:!0},{name:[20,3],UD:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],UD:"Ctrl + 1"}],[{A:r.E.H,J:o.QC,p:{h:"zoom",j_:!0}},{A:r.E.H,J:o.QC,p:{h:"zoom",j_:!1}},{A:r.E.H,J:o.QC,p:{h:"adapt",K:"fitscr"}},{A:r.E.H,J:o.QC,p:{h:"adapt",K:"pixel"}}])};
o.XP.prototype=new o.bv;o.XP.prototype.aa=function(M,X,J,q,W){var T=this.rZ;T.T();T.parent=X;T.update(M,J);
var _=new jb(r.E.C,!0);_.data={h:r.m._5,kv:T,x:W.VY+2,y:W.VV+1};X.a(_)};o.XP.prototype.enable=function(M,X,J,q){this.pf(X,q);
if(M&&Date.now()-this.g1<300)this.dx({h:"adapt",K:"pixel"},X,M,q,J);this.g1=Date.now()};o.XP.prototype.H_=function(M,X,J,q,W){this.b_=new es(W.x,W.y);
this.x9=M.k.r7;this.gD=M.k.s.Q()};o.XP.prototype.T_=function(M,X,J,q,W){if(this.b_==null)return;var T=Math.exp(Math.log(this.x9)+(W.x-this.b_.x)/64);
T=Math.max(.02,Math.min(o.XP.kl[0],T));M.k.r7=this.x9;M.k.s=this.gD.Q();this.dx({h:"zoom",r7:T,Cz:this.b_,xs:this.xs},X,M,q,J)};
o.XP.prototype.fw=function(M,X,J,q,W){if(es.Yq(this.b_,W)<4){var T=this.aFy(q);this.dx({h:"zoom",j_:T,Cz:W,xs:this.xs},X,M,q,J)}this.b_=null};
o.XP.kl=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
o.XP.XB=function(M,X,J,q){var W=1;while(M*W*1/2>J||X*W*1/2>q)W*=1/2;if(M*W*2/3>J||X*W*2/3>q)W*=1/2;else if(M*W>J||X*W>q)W*=2/3;
return W};o.XP.aDg=function(M,X){var J=o.XP.a5p(M);if(X&&J==0)return M;if(!X&&J==o.XP.kl.length-1)return M;
return o.XP.kl[X?J-1:J+1]};o.XP.a5p=function(M){var X=0;while(o.XP.kl[X]>M)X++;return X};o.XP._J=function(M,X,J,q){var W=M.AR;
if(q==0||q==null){q=o.XP.aDg(M.r7,J);if(q==M.r7)return}var T=M.Ob(X.x,X.y);T.x=Math.max(0,Math.min(W.r,T.x));
T.y=Math.max(0,Math.min(W.$,T.y));if(!1){}else{var _=M.Zg(),m=M.r7/q;_.translate(-T.x,-T.y);_.scale(m,m);
_.translate(T.x,T.y);M.aaJ(_)}};o.XP.prototype.dx=function(M,X,J,q,W){if(M.h=="pzoom"){if(typeof M.K=="string")return;
M={h:"zoom",r7:M.K/100}}if(M.h=="prvw"){J.add.prvw=1-J.add.prvw;J.fy=!0}var T=0,_=!1,m=null;if(M.h=="adapt"){var d=0;
if(M.K=="pixel")d=1;if(M.K=="fitscr"){var d=0,A=J.k.dy.r,p=J.k.dy.$,a=new gc(0,0,J.r,J.$),f=t.G.mP(a).d,s=new kp;
s.rotate(J.k.Ow);t.G.u(f,s,f);var j=t.G.Cs(f),Y=W.no?t.gk.ZZ+4:8;d=Math.min((A-Y*2)/j.r,(p-Y*2)/j.$);
J.k.s.cn(0,0)}m=new es(Math.round(J.k.dy.r/2),Math.round(J.k.dy.$/2));T=d;o.XP._J(J.k,m,_,T);J.K8=!0}if(M.h.startsWith("multi")){function G(D){var L=D[0].x-D[1].x,R=D[0].y-D[1].y;
return Math.sqrt(L*L+R*R)}function Q(D){return new es((D[0].x+D[1].x)/2,(D[0].y+D[1].y)/2)}function Z(D){var L=D[0].x-D[1].x,R=D[0].y-D[1].y;
return Math.atan2(R,L)}var g=M.zD,S=Q(g);if(M.h=="multidown"){this.g8=[g,J.k.r7,J.k.Ob(S.x,S.y),J.k.Ow]}else{var U=o.XP.kl;
T=this.g8[1]*G(g)/G(this.g8[0]);T=Math.max(U[U.length-1],Math.min(U[0],T));if(T!=J.k.r7)o.XP._J(J.k,S,_,T);
var B=this.g8[2],e=J.k.fT(B.x,B.y),P=J.k.s;P.x=Math.round(P.x+S.x-e.x);P.y=Math.round(P.y+S.y-e.y);var h=this.g8[3]+(Z(g)-Z(this.g8[0])),V=2*Math.PI,I=[0,V/4,V/2,V*3/4,V];
while(h<0)h+=V;h=h%V;for(var $=0;$<I.length;$++)if(Math.abs(h-I[$])<.05){h=I[$];break}J.k.Ow=h;J.K8=!0}}if(M.h=="scroll"){m=M.Cz;
var U=o.XP.kl,F=M.Kb.y,c=1+Math.abs(F)*8e-4*(M.a7l?10:1);if(F>0)c=1/c;T=J.k.r7*c;o.XP._J(J.k,m,_,Math.min(U[0],Math.max(U[U.length-1],T)));
J.K8=!0}if(M.h=="zoom"){var D=M.xs?X.td:[J];for(var $=0;$<D.length;$++){var n=D[$],k=n.k;m=M.Cz?M.Cz:new es(Math.round(k.dy.r/2),Math.round(k.dy.$/2));
if(M.r7!=null)T=M.r7;else _=M.j_;o.XP._J(k,m,_,T);n.K8=!0}}if(M.h=="mskView"){var b=J.U[J.O[0]];if(b.tD<=0){b.tD=1;
J.bM=!0}var N=b.tD==3?b.uV(J).JS:b.hM();if(M.K==0){J.k.KV=[1,1,1];N.OI=!1}if(M.K==1){J.k.KV=[1,1,1];
N.OI=!0}if(M.K==2){J.k.KV=[0,0,0];N.OI=!0}for(var $=0;$<J.OD.length;$++)J.OD[$].OI=!1;J.LV=[];J.fy=!0}};
o.XP.prototype.KH=function(M,X,J,q){if(this.vN!=q.M(hP.Ke)){this.vN=q.M(hP.Ke);var W={h:r.m.ZQ,J:this.id,vN:this.vN},T=new jb(r.E.C,!0);
T.data=W;X.a(T);this.pf(X,q)}};o.XP.prototype.pf=function(M,X){var J=new jb(r.E.C,!0),q=this.aFy(X);
J.data={h:r.m.Hf,Ny:q?"zoom-in":"zoom-out"};M.a(J)};o.XP.prototype.Nn=function(M,X,J,q){this.j_=M.j_;
this.xs=M.xs;this.pf(X,q)};o.XP.prototype.aFy=function(M){var X=this.j_;if(M.M(hP.TZ)&&M.M(hP.WM))X=!0;
if(this.vN)X=!X;return X};o.XP.a0j=function(M,X){if(M.M(hP._T)||M.M(hP.ayb)){X.J=o.QC;X.data={h:"zoom",j_:!0}}if(M.M(hP.ce)){X.J=o.QC;
X.data={h:"zoom",j_:!1}}if(M.M(hP.aL)){X.J=o.QC;X.data={h:"adapt",K:"fitscr"}}if(M.M(hP.Or)){X.J=o.QC;
X.data={h:"adapt",K:"pixel"}}};o.HI=function(M,X,J){o.bv.call(this,M,X,J);this.AR=null;this.f=null;this.$y=null;
this.awH=0};o.HI.prototype=new o.bv;o.HI.Ki=function(M,X){var J={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},q=M==null?{classID:"null",null:J,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:J,Usng:{t:"type",v:{classID:M}},__name:"Stroke"};
if(X)q.Prs={t:"bool",v:!0};return{hC:M==null?"fill":"stroke",Qd:q}};o.HI.Xb=function($){var M={t:"Enmr",v:{classID:"Path",typeID:"Path",enum:"vectorMask"}},q;
if($==3){var X=k$.kh("Lyr",!0);X.v.unshift(M);return{hC:"delete",Qd:{classID:"Dlt",null:X}}}var X=k$.kh("Path"),J={t:"obj ",v:[M]};
if($<2)q={t:"enum",v:{vectorMaskEnabled:$==0?"RvlA":"HdAl"}};else q=k$.kh("Path",!0);return{hC:"make",Qd:{classID:"Mk",null:X,At:J,Usng:q}}};
o.HI.prototype.enable=function(M,X,J,q,W){this.f=J;var T=new jb(r.E.C,!0);T.data={h:r.m.Hf,Ny:"default"};
X.a(T)};o.HI.prototype.aa=function(M,X,J,q,W){var T=M.ZX(),_=T[0],m=T[1];if(m.length==0)return;var d=_[m[0]],A=d.add.vmsk,p=M.k.Ob(W.x,W.y),a=4*o.pv()/M.k.r7,f=new gc(p.x-a,p.y-a,a*2,a*2),s=t.I.t4(A.X,f)[0];
if(s.length!=0){A.FQ=s;M.fy=!0}var j=t.I.WR(A.X,p).gO;if(j!=-1){A.O=[j];M.fy=!0}var Y=new jb(r.E.C,!0);
Y.data={h:r.m.ZQ,J:this.id,Vm:W,je:M,f:J};X.a(Y)};o.HI.prototype.ae9=function(M,X){var J=new jb(r.E.C,!0);
J.data={h:r.m.OA,iw:bN.aO};if(!X.iY)M.a(J);J.data={h:r.m.OA,iw:bN.$c};if(!X.QQ.Qt)M.a(J)};o.HI.prototype.qc=function(M,X,J,q,W){if([o.Av,o.k2,o.Mv,o.lx,o.zd].indexOf(this.id)!=-1)o.bv.aHs.call(this,M,X,J,q);
if(M==null)return;if(J.Rk!=this.id&&W==null)return;if(M.O.length==0)return;var T=M.U[M.O[0]],_=T.add.vmsk,m=T.add.vstk;
if(gj==0){var d=kf.M2(T.add);this.AR=M;this.$y=X;if(T.eQ()&&_!=null&&(JSON.stringify(m)!=JSON.stringify(J.Jr)||JSON.stringify(d)!=JSON.stringify(J.AB))){this.awH=Date.now();
var A=new jb(r.E.C,!0);A.data={h:r.m.OA,iw:bN.pX,K:d};X.a(A);A.data={h:r.m.OA,iw:bN.Le,K:m};X.a(A)}}else{var p=null;
for(var $=0;$<M.O.length;$++){var T=M.U[M.O[$]],a=T.add.vstl;if(a==null)continue;if(p==null)p=t.b(a);
else{for(var f in a){if(p[f]==null)continue;if(a[f]==a.s0){if(JSON.stringify(a[f])!=JSON.stringify(p[f]))delete p[f]}else if(a[f]==a.nz){if(JSON.stringify(a[f])!=JSON.stringify(p[f]))delete p[f]}else if(a[f]!=p[f])delete p[f]}}}if(p==null)return;
var s=JSON.stringify(p);if(s!=JSON.stringify(J.so)){var A=new jb(r.E.C,!0);A.data={h:r.m.OA,iw:bN.BC,K:p};
X.a(A)}}};o.HI.prototype.SY=function(M,X){if(X==bN.VB||X==bN.Ru)this.qc(null,null,M,null);if(this.AR==null)return;
if(X==bN.Ru||X==bN.pX||X==bN.Le){if(Date.now()-this.awH<50)return;var J=X==bN.pX,q=this.AR,W=J?M.AB:M.Jr,T=[],_=q.O;
for(var $=0;$<_.length;$++){var m=_[$],d=q.U[m];if(!d.eQ()||d.add.vmsk==null)continue;T.push(m)}var A=new jb(r.E.H,!0);
A.J=o.HX;A.data={h:K.h3,CO:T,$G:J,K:W};if(T.length!=0)this.$y.a(A)}};o.HI.prototype.acd=function(M){if(typeof M=="number"){var X=new jb(r.E.pL,!0);
X.data=o.QX.Zc(0);X.data.Qd.Usng.v.Type.v.Clr.v=t.NX.$J({z:M>>>16&255,L:M>>>8&255,g:M>>>0&255});this.$y.a(X)}};
o.HI.prototype.dx=function(M,X,J,q,W){this.$y=X;if(M.h=="newfill"){if(M.Dv==0){var T=new jb(r.E.C,!0);
T.data={h:r.m.SQ,bf:"colorpicker",t9:W.pU,J4:this.acd.bind(this)};X.a(T)}}else if(M.h=="smplp"){if(J==null)return;
var _=J.ZX(),m=_[0],d=_[1];if(d.length==0){alert("No paths selected");return}var A=m[d[0]];if(A.add.vmsk.O.length<=0){alert("No paths selected");
return}if(this.nh==null){this.nh=A.add.vmsk.Q();this.Tu=JSON.stringify(A.add.vogk);this.Pa=A;this.AR=J}var T=new jb(r.E.C,!0);
T.data={h:r.m.SQ,bf:"simplifypath",vc:100,nT:this.abm.bind(this)};X.a(T)}else if(M.h=="pathedit"){var p=M.NL,a="",f=J.Qt.slice(0),s=J.Fg.slice(0),j=J.Qt.slice(0),Y=J.Fg.slice(0),G=J.n4,Q=J.n4;
if(p=="rnm"){var Z=-1-M.gO,g=f[Z],S=dD.Sp(M.name,g.add);if(Z!=0)j[Z]=S;else{Y=[j.length];j.push(S);j[0]=dD.Sp("Work Path")}a="Rename"}else if(p=="sspath"){if(M.K==-1){Q=-1;
Y=[]}else if(M.K==1&&J.n4!=-1)Y=[J.n4];else if(J.Fg.length!=0){if(J.RM){alert("Symmetry can't be used in the Pattern Preview");
return}Q=J.Fg[0]}else return;a="Symmetry"}else if(p=="new"){var S=dD.Sp("Path "+f.length);if(M.zm)S=M.zm;
if(M.axE){var _=J.ZX(),m=_[0],d=_[1],U=m[d[0]];S.add.vmsk=U.add.vmsk.Q();S.add.vogk=t.b(U.add.vogk);
if(U.gO==-1){var B=j[Y[0]]=dD.Sp("Path "+f.length);B.name=U.name;B.gO=U.gO}}j.push(S);Y=[j.length-1];
a="New";if(M.D_!=null){if(J.RM){alert("Symmetry can't be used in the Pattern Preview");return}var e=M.D_[0],P=M.D_[1];
S.name=kd.get(t.iJ.list[e][0]);var h=t.iJ.nO(e,P),V=Math.min(J.r,J.$),I=(J.r-V)/2,F=(J.$-V)/2;t.G.u(h.d,new kp(V,0,0,V,I,F),h.d);
S.add.vmsk.X=t.G.n$(h);S.D_=[t.iJ.list[e][1],P];Q=Y[0];a="New Symmetry"}}else if(p=="del"){if(J.bQ&&J.bQ.length!=0){var T=new jb(r.E.pL,!0);
T.data=o.HI.Xb(3);X.a(T)}if(Y.length==0)return;Y.sort(function(i,eZ){return i-eZ});if(Y[0]==0){j[0]=dD.Sp(f[0].name);
Y=Y.slice(1)}var c=0;while(Y.length!=0){j.splice(Y[0]-c,1);Y=Y.slice(1);c++}a="Delete"}else if(p=="fromsel"){var A=j[0]=dD.Sp("Work Path");
Y=[0];if(J.c==null)return;var D=J.c.N.slice(0);for(var $=0;$<D.length;$++)D[$]=D[$]>128?2:1;var n=J.c.S.Q();
n.$K(1,1);var k=t.j(n.o());t.Rc(D,J.c.S,k,n);var b=bX.Nb(k,n.r,n.$,Math.round(n.o()*2e-5)),m=bX.ZX(b),N=new kp(1,0,0,1,-1+J.c.S.x,-1+J.c.S.y);
for(var $=0;$<m.length;$++)t.G.u(m[$].path.d,N,m[$].path.d);for(var $=0;$<m.length;$++){var L=m[$];if(L.color==1&&L.parent==-1)continue;
var R=t.G.n$(m[$].path,!1);R[2].li=0;A.add.vmsk.X=A.add.vmsk.X.concat(R.slice(2))}A.add.vogk=K.hg(A.add.vmsk.X);
a="Selection to"}var i=new hY(a+" Path",this);i.data={MA:f,I8:s,auR:j,ve:Y,afw:G,ayZ:Q};if(p=="fromsel"){i.data.E_=J.c;
i.data.cD=null}J.Vr(i);this.AS(i.data,J);if(p=="new"&&M.D_||p=="sspath"&&M.K!=-1){var T=new jb(r.E.C,!0);
T.data={h:r.m.ga,J:o.zS};X.a(T)}}else{var v=M.AC,_=J.ZX(M.h=="append"||M.h=="fromAction"),m=_[0],d=_[1],A=m[d[0]],E=A.add.vmsk,u=A.add.vogk,C=E.Q(),l=E.Q(),x=JSON.stringify(u);
if(M.h=="fromAction"){var y=M.xo,ge=y.hC,O=y.Qd,kz=O.T;if(ge=="set"){if(kz){u=[t.fg.Bd(kz,J.r,J.$)];
l.X.push({e:0,li:1,length:0});t.fg.ra(u,l);v=[12,76,0]}else throw O}else if(ge=="draw"){u=[t.fg.Bd(O.Shp,J.r,J.$)];
l.X.push({e:0,li:1,length:0});t.fg.ra(u,l);o.HI.a5Y(l.X,O.AntA.v,W.pU,X);return}else throw ge}else if(M.h=="remove"){if(M.OM&&l.FQ.length!=0){l.X=t.I.aH5(l.X,l.FQ,u,M.at4);
var z=t.I.Qa(l.X);for(var $=0;$<l.O.length;$++)if(l.O[$]>=z){l.O.splice($,1);$--}l.FQ=[];v="Delete Anchors"}else{if(l.O.length==0)return;
var c=0;for(var $=0;$<l.O.length;$++){u.splice(l.O[$]+c,1);c--}l.X=t.I.ax$(l.X,l.O);l.O=[];l.FQ=[];if(v==null)v="Delete Paths"}}if(M.h=="append"){o.HI.DV(M.azJ,l,u)}this.AD(J,A.gO,l,u);
this.yN(J,v,A.gO,C,l.Q(),null,x,JSON.stringify(u))}};o.HI.a5Y=function(M,X,J,q){var W=new K.JL;W.X=W.X.concat(M.slice(2));
var T=W.hM();if(!X)t.round(T.N);var _=t.j(T.S.o()*4);t.Tb(_,(J&255)<<16|(J>>8&255)<<8|(J>>16&255)<<0);
t.ix(T.N,_,3);var m=new jb(r.E.H,!0);m.J=o.Vk;m.data={h:"draw",$D:{buffer:_,S:T.S.Q()},AC:this.name};
q.a(m)};o.HI.Kk=function(M,X){var J=t.I.aE6(M.X,M.O),q=[];for(var $=0;$<M.O.length;$++)q.push(t.b(X[M.O[$]]));
return[J,q]};o.HI.DV=function(M,X,J){var q=t.I.Qa(X.X),W=t.I.Qa(M[0]);X.X=X.X.concat(M[0].slice(2));
X.O=[];for(var $=0;$<W;$++)X.O.push(q+$);for(var $=0;$<W;$++)J.push(t.b(M[1][$]))};o.HI.prototype.Ei=function(M,X){if(X==null)return!1;
var J=X.ZX(),q=J[0],W=J[1];if(W.length==0)return!1;var T=q[W[0]],_=T.add.vmsk;if(_&&_.O.length+_.FQ.length!=0)return[hP.t3,hP.az].indexOf(M)!=-1};
o.HI.prototype.KH=function(M,X,J,q){if(M==null)return;var W=M.ZX(),T=W[0],_=W[1];if(_.length==0)return;
var m=T[_[0]],d=m.add.vmsk;if(q.M(hP.ke)||q.M(hP.ej)||this.id==o.nH&&q.M(hP.Xh)&&d.FQ.length==1){d.FQ=[];
M.fy=!0}if(d.O.length!=0){var A=q.CG(M?M.k.Ow:0);if(A.x!=0||A.y!=0){var p=d.Q(),a=d.Q(),f=new kp(1,0,0,1,A.x,A.y),s=m.add.vogk,j=JSON.stringify(s);
if(q.M(hP.Ke)){var Y=o.HI.Kk(a,s);o.HI.DV(Y,a,s)}t.I.cI(a.X,f,a.O);t.fg.u(s,t.t.WP(f),a.O);this.AD(M,m.gO,a,s);
this.yN(M,"Move Paths",m.gO,p,a.Q(),!0,j,JSON.stringify(s))}if(q.M(hP.t3)||q.M(hP.az))this.dx({h:"remove",OM:this.id==o.nH},X,M,q,J)}};
o.HI.prototype.yN=function(M,X,J,q,W,T,_,m){var d=new hY(X,this);d.data={HF:J,g2:q,f7:W,att:T,a9z:_,DQ:m};
M.Vr(d)};o.HI.prototype.AS=function(M,X){if(M.HF!=null)this.AD(X,M.HF,M.f7.Q(),JSON.parse(M.DQ));else{X.Qt=M.auR.slice(0);
X.Fg=M.ve.slice(0);X.fy=X.bM=!0}if(M.E_||M.cD){X.c=M.cD;X.E5=!0}if(M.ayZ!=null)X.n4=M.ayZ};o.HI.prototype.df=function(M,X){if(M.HF!=null)this.AD(X,M.HF,M.g2.Q(),JSON.parse(M.a9z));
else{X.Qt=M.MA.slice(0);X.Fg=M.I8.slice(0);X.fy=X.bM=!0}if(M.E_||M.cD){X.c=M.E_;X.E5=!0}if(M.afw!=null)X.n4=M.afw};
o.HI.prototype.AD=function(M,X,J,q){var W=X<0?M.Qt[-1-X]:X<1e6?M.U[X]:M.U[X-1e6].add.TySh,T=W.add.vmsk;
T.N=null;T.A8=!0;if(T.i4){T.i4.N=null;T.i4.A8=!0}W.add.vmsk=J;W.add.vogk=q;if(1e6<=X){f5.xV(W);var _=M.U[X-1e6],m=W,d=this.f;
i5.IS(_,d.Rb);M.vV()}else if(0<=X){J.A8=!0;W.j$(M);M.vV()}M.fy=M.bM=!0};o.QX=function(M,X,J,q){o.HI.call(this,M,X,J);
this.Ye={shape:iv.IH(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{Y:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.aHm=q;this.tY=null;this.Z1=null;this._P=null;this.YL=new bP};o.QX.prototype=new o.HI;o.QX.prototype.vI=function(M){return M.kJ&&this.id!=o.c3};
o.QX.prototype.enable=function(M,X,J,q,W){this.f=J;var T=new jb(r.E.C,!0);T.data={h:r.m.Hf,Ny:o.mB()};
X.a(T)};o.QX.prototype.KH=function(M,X,J,q){o.HI.prototype.KH.call(this,M,X,J,q);this.YL.KH(q);this._c(X,J)};
o.QX.prototype._c=function(M,X){var J=new jb(r.E.C,!0);J.data={h:r.m.ZQ,J:this.id,PC:this.zf(X)};M.a(J)};
o.QX.prototype.zf=function(M){var X=this.YL.tj(0),J=this.YL.Hk(0),q=o.Gp.Ds(this.Ye.binop,X,J),W=this.id==o.c3?M.RA:M.Iw;
if(W==1&&q==0)q=1;return q};o.QX.prototype.sb=function(M,X,J,q){};o.QX.prototype.H_=function(M,X,J,q,W){var T=this.id==o.c3?J.RA:J.Iw;
if(T!=2)this.ae9(X,J);if(T==2&&!M.KE())return;var _=M.k.Ob(W.x,W.y);_=o.UA.kZ(M,_,J);this._P=[_.x,_.y];
this.tY=_;this.Z1=new es(0,0);this.YL.H_(q)};o.QX.prototype.aeV=function(M,X,J,q){var W=[this.tY.Q(),X.Q()];
J=this.YL.tj(1)||J.M(hP.HG)||this.YL.Hk(1)?J:null;if(this.aHm)W=o.QX.P9(W[0],W[1],J,!0,this.Ye.cstr);
if(M)M.k.At=new gc(W[0].x,W[0].y,W[1].x-W[0].x,W[1].y-W[0].y);return this.sb(W[0],W[1],this.YL.tj(1)&&J.M(hP.HG),this._P,M.k,q)};
o.QX.prototype.aov=function(M,X,J){var q=M.k.Ob(X.x,X.y);if(this.id==o.c3)return q;var W=this.Ye.cstr;
if(W.Y==2){var T=new gc(q.x-W.x,q.y-W.y,W.x,W.y),_=o.UA.mq(M,T,J);q.x+=_[0];q.y+=_[1];o.UA.ae(M,T,_)}else q=o.UA.kZ(M,q,J);
return q};o.QX.prototype.T_=function(M,X,J,q,W){if(this.tY==null)return;var T=this._P,_=T.length,m=W?this.aov(M,W,J):new es(T[_-2],T[_-1]);
if(q.M(hP.TZ))this.tY=m.d7(this.Z1);else this.Z1=m.d7(this.tY);T.push(m.x,m.y);if(this.Ye.shape==null)this.Ye.shape=J.I3[0];
var d=this.aeV(M,m,q,!0)[0],A=t.G.BM(d);M.aS.Gn=A;if(this.id!=o.c3&&this.id!=o.Mv&&this.id!=o.lx)o.bv.wX(W,M.k.At,M,J);
M.fy=!0;this.YL.T_()};o.QX.prototype.aIh=function(M,X,J,q){var W=M[4].Q();if(q){W.x-=X/2;W.y-=J/2}if(this.id==o.Mv){X/=2;
J/=2;W.x+=X;W.y+=J;J=-J;X=0}var T=this.sb(W,new es(W.x+X,W.y+J),!1,this._P);this.amT(M[0],M[1],M[2],T)};
o.QX.prototype.amT=function(M,X,J,q){var W=this.id==o.c3?J.RA:J.Iw,T=new jb(r.E.pL,!0);if(W==0)T.data=o.QX.akR(q[1],J);
else if(W==1){var _={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:q[1]};
T.data={hC:"set",Qd:_}}else{var _={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:q[1]};T.data={hC:"draw",Qd:_}}X.a(T);
if(q[1].v.classID=="customShape"&&q[1].v.Nm.v.startsWith("--")){var m=M.ZX(),d=m[0],A=m[1],p=d[A.pop()],a=p.add.vmsk,f=p.add.vogk;
t.fg.aqL(f);var s=a.Q();s.X=q[0];this.AD(M,p.gO,s,f)}};o.QX.prototype.fw=function(M,X,J,q,W,T){if(this.tY==null)return;
var _=this.aov(M,W,J),m=this.zf(J),d=this.id==o.c3?J.RA:J.Iw,A=this._P,p=A.length;if(this.id==o.c3&&p<=4){}else if(p<=4){_.x=Math.round(_.x);
_.y=Math.round(_.y);var a=new jb(r.E.C);a.data={h:r.m.SQ,bf:"createshape",ab_:this.aIh.bind(this),a58:this.name,aCG:[M,X,J,q,_]};
if(!T)X.a(a)}else if(p!=2){var f=this.aeV(M,_,q),s=f[0],j=M.ZX(!0),Y=j[0],G=j[1],Q=G.length-1;if(d==1&&s.length>2||d==0&&m!=0&&Q!=-1&&Y[G[Q]].gO>=0){s[2].li=[1,2,3,0][m-1];
var Z=Y[G.pop()],g=Z.add.vmsk,S=Z.add.vogk,U=g.Q(),B=g.Q(),e=JSON.stringify(S);B.X=B.X.concat(s.slice(2));
B.O=[t.I.Qa(B.X)-1];var P=t.fg.Bd(f[1]);S.push(P?P:t.fg.Df());this.AD(M,Z.gO,B,S);this.yN(M,this.name,Z.gO,U,B,null,e,JSON.stringify(S))}else if(d==0){this.amT(M,X,J,f)}else if(d==2){o.HI.a5Y(s,this.Ye.anta,J.pU,X)}}this.tY=null;
M.aS.Gn=null;M.aS.z3=null;M.aS.Lh=[];M.k.At=null;M.fy=!0;this.YL.fw();this._c(X,J)};o.QX.prototype.Nn=function(M,X,J,q,W){for(var J in M)this.Ye[J]=M[J]};
o.QX.P9=function(M,X,J,q,W){var T=M.x,_=M.y,m=X.x,d=X.y;if(W&&W.Y==2){if(q){m=Math.round(m);d=Math.round(d)}T=m-W.x;
_=d-W.y}else{var A=0;if(W&&W.Y==1)A=W.y/W.x;else if(J&&J.M(hP.HG))A=1;if(A!=0){if(q){if(T<m)T=Math.floor(T);
else T=Math.ceil(T);if(_<d)_=Math.floor(_);else _=Math.ceil(_)}var p=Math.abs(m-T),a=Math.abs(d-_),f=p;
if(a/p<A)f*=a/p/A;m=m>T?T+f:T-f;d=d>_?_+f*A:_-f*A}if(J&&J.M(hP.Ke)){T-=m-T;_-=d-_}}var M=new es(T,_),X=new es(m,d);
if(q)o.QX.aCw(M,X);return[M,X]};o.QX.aCw=function(M,X){if(M.x>X.x){var J=M.x;M.x=X.x;X.x=J}if(M.y>X.y){var J=M.y;
M.y=X.y;X.y=J}M.x=Math.floor(M.x);M.y=Math.floor(M.y);X.x=Math.ceil(X.x);X.y=Math.ceil(X.y)};o.QX.ao1=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
o.QX.Zc=function(M,X){var J=o.QX.ao1(),q=J.Usng.v.Type;if(X==null){q.v=t.b(kf.iI[M]);q.v.classID=["solidColorLayer","gradientLayer","patternLayer"][M]}else o.Cv.Mm(X,q.v,M);
return{hC:"make",Qd:J}};o.QX.akR=function(M,X){var J=X.AB,q=t.b(X.Jr);q.fillEnabled.v=J.fH!=0;var W=o.QX.Zc(Math.max(0,J.fH-1),J.PD);
W.Qd.Usng.v.Shp=M;W.Qd.Usng.v.strokeStyle={t:"Objc",v:q};return W};o.wR=function(M){o.HI.call(this,[[10,29],[10,51],"Add Anchor Point","Delete Anchor Point","Convert Point"][M],[o.nH,o.aFa,o.alV,o.aFF,o.aFT][M],["tools/pen","tools/cpen","tools/aapoint","tools/dapoint","tools/capoint"][M]);
this.zX=M;this.kd=null;this.bJ=null;this.nh=null;this.Tu=null;this.vM=0;this.ME=null;this.jx=!1;this.GH=!1;
this.Oe=!1;this.oh=!1;this.TD=!1;this.ng=!1;this.g1=0};o.wR.prototype=new o.HI;o.wR.prototype.vI=function(M){return this.nh!=null};
o.wR.prototype.KH=function(M,X,J,q){if(!q.M(hP.Ke))this.TD=!1;if(this.zX==1&&(q.M(hP.t3)||q.M(hP.az))&&this.Ei(hP.t3,M)){this.dx({h:"remove",OM:!0},X,M,q,J);
return}if(this.bJ)this.WQ(M,X,J,q,this.bJ);o.HI.prototype.KH.call(this,M,X,J,q)};o.wR.prototype.tR=function(M,X,J,q,W){var T=M.k.Ob(q.x,q.y,!0),_=o.UA.kZ(M,T,X),m=this.zX,d=X.RA,A=this.vM;
if(d==2)d=0;var p=M.ZX(W&&d==1),a=p[0],f=p[1],s=f.length==0?null:a[f.pop()],j=s?s.add.vmsk:null;if(d==0&&A!=0&&s&&s.gO>=0)d=1;
var Y=o.lV(M,q);if(m<2&&d==0&&(j==null||j.FQ.length==0&&t.I.WR(j.X,T,!0,Y).gO==-1))return["new",!0];
if(j==null)return[null];var G=j.X,Q=t.I.t4(G,new gc(T.x-Y,T.y-Y,Y*2,Y*2),j.FQ,!0),Z=t.I.WR(G,T,!0,Y);
if(m<3&&Z.gO!=-1&&Q[0].length==0)return["add"];if((Q[3]!=0||Z.gO!=-1)&&(J.M(hP.Ke)||m==4))return["cnv"];
var g=Q[0].length==1&&G[Q[0][0]-1]&&(G[Q[0][0]-1].Z!=null||G[Q[0][0]-1].e==0||G[Q[0][0]-1].length==1);
if(g)return[m==0||m==3?"del":m==2?"mva":"mov"];if(m<2){var S=t.I.kj(G,t.I.Ph(G,j.FQ[0]));if(S!=-1&&es.Yq(T,G[S+1].Z)<Y)return["fin"];
if(j.FQ.length!=1)return["new"];return["nrm"]}return[null]};o.wR.prototype.H_=function(M,X,J,q,W){var T=M.Fg.indexOf(0)!=-1,_=M.k.Ob(W.x,W.y,!0),m=o.UA.kZ(M,_,J),d=this.zX,A=J.RA,p=this.vM;
if(A==2)A=0;var a=M.ZX(A==1),f=a[0],s=a[1],j=f[s.pop()],Y=j?j.add.vmsk:null;if(A==0&&p!=0&&j&&j.gO>=0)A=1;
var G=o.lV(M,W),Q=this.tR(M,J,q,W,!0);if(Q[0]==null)return;if(Q[1]){var Z=new jb(r.E.pL,!0),g=t.fg.po("customShape",[0,0,1,1],null,null,null,"--");
Z.data=o.QX.akR(g,J);X.a(Z);this.ng=!0;a=M.ZX(!0);f=a[0];s=a[1];j=f[s.pop()];Y=j.add.vmsk;Y.X=Y.X.slice(0,2)}var S=j.add.vogk,U=Y.X;
this.nh=Y.Q();this.Tu=JSON.stringify(S);if(j.name=="Work Path"&&!T){U=Y.X=U.slice(0,2);S=[]}this.kd=W;
this.ae9(X,J);var B=t.I.t4(U,new gc(_.x-G,_.y-G,G*2,G*2),Y.FQ,!0),e=t.I.WR(U,_,!0,G);if(Q[0]=="add"){var P=t.I.kj(U,e.gO),h=U[P].length;
while(h<=e.sQ){e.sQ-=h;P+=h+1}var V={e:4,vX:m.Q(),Z:m.Q(),vJ:m.Q()},I=P+2+e.sQ,F=P+1+(1+e.sQ)%h,c=U[I-1],D=U[F];
if(!c.Z.w6(c.vJ)||!D.vX.w6(D.Z)){var n=t.G.a4B(c.Z,c.vJ,D.vX,D.Z,e._H);c.vJ=n[0];V.vX=n[1];V.Z=n[2];
V.vJ=n[3];D.vX=n[4]}this.oh=!0;U.splice(I,0,V);U[P].length++;Y.FQ=[I];if(d==1){V.vX.x+=2;this.Iy(Y)}}else if(Q[0]=="cnv"){var k=-1;
if(B[0].length!=0){k=B[0][0];var b=U[k],N=b.e>=3?3:0,L=k==U.length-1;b.e=N+1;if(!(d==4&&q.M(hP.Ke))&&!(d==0&&L))b.vX=b.Z.Q();
b.vJ=b.Z.Q();this.oh=!0;if(d==0&&!L)this.TD=!0}else if(B[1].length+B[2].length!=0){var k=B[2][0];if(k==null){k=B[1][0];
this.GH=!0}var b=U[k],N=b.e>=3?3:0;b.e=N+2}else k=t.I.kj(U,e.gO)+e.sQ+1;if(k!=-1)Y.FQ=[k]}else if(Q[0]=="mva"){this.Oe=!0;
Y.FQ=[B[0][0]]}else if(Q[0]=="mov"){var k=B[0][0],R=U[k],i=R.Z,v=Math.abs(t.G.qZ(R.vX.x,R.vX.y,i.x,i.y,R.vJ.x,R.vJ.y));
if(v>.01){R.vX=i.Q();R.vJ=i.Q()}if(Date.now()-this.g1<300){var E=R.vX.w6(i)&&R.vJ.w6(i);if(E)R.vJ.offset(2,2);
else{R.vX=i.Q();R.vJ=i.Q()}this.g1=0}else this.g1=Date.now();Y.FQ=[k];this.Iy(Y)}else if(Q[0]=="del"){var k=B[0][0],P=t.I.kj(U,t.I.Ph(U,k)),g=U[P],u=P+g.length;
if(k!=u||g.e==0){U[P].length--;U.splice(k,1);u--;if(g.length==0){U.splice(P,1);u=-1}}if(u!=-1)Y.FQ=[u];
else Y.FQ=[]}else if(Q[0]=="fin"){var P=t.I.kj(U,t.I.Ph(U,Y.FQ[0]));U[P].e=0;Y.FQ=[P+1];this.ME=m;this.jx=!0;
this.oh=!0}else{var C=0;if(Q[0]=="new"){Y.O=[t.I.Qa(U)];U.push({e:3,length:1,li:[1,2,3,0][Math.max(0,p-1)],h8:0,gF:0,Ni:0});
C=U.length;S.push(t.fg.Df())}if(Q[0]=="nrm"){var P=t.I.kj(U,t.I.Ph(U,Y.FQ[0])),R=P+U[P].length;U[P].length++;
C=R+1;if(R==P+1&&U[P].length!=2)C=P+1}if(q.M(hP.HG)&&U[C-1]&&U[C-1].Z)m=o.kO.gK(U[C-1].Z,m);var V={e:4,vX:m.Q(),Z:m.Q(),vJ:m.Q()};
U.splice(C,0,V);Y.FQ=[C];this.ME=m;if(this.zX==1){V.vX.x+=2;this.Iy(Y)}this.oh=!0;this.g1=Date.now()}this.AD(M,j.gO,Y,S);
M.fy=!0};o.wR.prototype.Iy=function(M){var X=M.X,J=M.FQ[0],q=t.I.kj(X,t.I.Ph(X,J))+1,W=X[q-1].length;
if(W<3)return;var T=[],_=[];for(var $=0;$<5;$++){var m=q+(J-q-2+$+5*W)%W;_.push(m);var d=X[m].Z;T.push(d.x,d.y)}var A=t.G.a0f(T);
for(var $=1;$<4;$++){var p=$*4,a=X[_[$]],d=a.Z,f=a.vX.w6(d)&&a.vJ.w6(d);if(!f){a.vX.cn(A[p],A[p+1]);
a.vJ.cn(A[p+2],A[p+3])}else{a.vX=d.Q();a.vJ=d.Q()}}};o.wR.prototype.WQ=function(M,X,J,q,W){var T=this.tR(M,J,q,W)[0],_=null;
if(T==null)_="default";else _=o.wR.ll(T);var m=new jb(r.E.C,!0);m.data={h:r.m.Hf,Ny:_};X.a(m)};o.wR.prototype.T_=function(M,X,J,q,W){this.bJ=W;
if(this.nh==null){this.WQ(M,X,J,q,W);return}var T=this.kd;if(T&&es.Yq(T,W)<o.lV({k:{r7:1}},W))return;
this.kd=null;var _=M.k.Ob(W.x,W.y),m=o.UA.kZ(M,_,J),d=M.ZX(J.RA==1),A=d[0],p=d[1],a=A[p.pop()],f=a.add.vmsk,s=f.X,j=s[f.FQ[0]];
if(this.zX==1){var Y=j.Z.w6(j.vX)&&j.Z.w6(j.vJ);j.Z=_.Q();j.vX=_.Q();j.vJ=_.Q();if(!Y)j.vX.x+=2;this.Iy(f)}else if(q.M(hP.TZ)){if(q.M(hP.HG))m=o.kO.gK(this.ME,m);
var G=j.Z.d7(j.vJ),Q=j.vX.d7(j.Z);j.vJ=m;j.Z=m.add(G);j.vX=j.Z.add(Q)}else if(this.Oe){var Z=j.vX.d7(j.Z),g=j.vJ.d7(j.Z);
j.Z=m;j.vX=j.Z.add(Z);j.vJ=j.Z.add(g)}else{if(q.M(hP.HG))m=o.kO.gK(j.Z,m);if(this.GH){var S=j.vX;j.vX=j.vJ;
j.vJ=S}if(this.jx){var U=es.Yq(j.Z,m),B=U==0?0:es.Yq(j.Z,j.vJ)/U;j.vJ.x=j.Z.x+B*(m.x-j.Z.x);j.vJ.y=j.Z.y+B*(m.y-j.Z.y)}else j.vJ=m;
var e=j.e>=3?3:0;if(this.oh&&!this.TD)j.e=e+q.M(hP.Ke)?2:1;if(j.e-e==1){j.vX=j.Z.add(j.Z.d7(m))}this.ME=m;
if(this.GH){var S=j.vX;j.vX=j.vJ;j.vJ=S}}this.AD(M,a.gO,f,a.add.vogk);M.fy=!0};o.wR.prototype.fw=function(M,X,J,q,W){if(this.nh==null)return;
var T=M.ZX(J.RA==1),_=T[0],m=T[1],d=_[m.pop()],A=d.add.vmsk,p=d.add.vogk;if(this.jx){A.FQ=[];this.AD(M,d.gO,A,d.add.vogk)}var a=this.nh.X.length,f=A.X.length;
if(!this.ng)this.yN(M,this.jx?"Close Path":(a==f?"Move":a<f?"Add":"Delete")+" Anchor Point",d.gO,this.nh,A.Q(),null,this.Tu,JSON.stringify(p));
this.ng=!1;this.jx=!1;this.GH=!1;this.Oe=!1;this.oh=!1;this.nh=null};o.wR.prototype.Nn=function(M,X,J,q,W){this.vM=M.binop};
o.wR.aAd={};o.wR.ll=function(M){var X=o.wR.aAd[M],J=64,m=2,d=10,A=25,p=5,a=35;if(X)return X;var q=new gc(0,0,J,J),W=-.38,T=t.mt(J,J);
T.clearRect(0,0,J,J);var _=o.pv();T.save();T.lineWidth=m;T.translate(4-m/2,4-m/2);T.rotate(W);if(_<1.5){var f=.66;
d*=f;A*=f;p*=f;a*=f}T.lineJoin="miter";T.beginPath();if(M=="cnv"){T.moveTo(-d,A);T.lineTo(0,0);T.lineTo(d,A);
T.stroke()}else{T.moveTo(0,0);T.lineTo(d,A);T.lineTo(p,a);T.lineTo(-p,a);T.lineTo(-d,A);T.lineTo(0,0);
T.moveTo(0,0);T.lineTo(0,A);T.fillStyle="white";T.fill();T.stroke();T.fillStyle="black";T.fillRect(-p-1,a,2*p+2,6);
T.beginPath();T.arc(0,A-2,2.5,0,2*Math.PI,!1);T.fill();T.rotate(-W);T.translate(24,7);T.beginPath();
if(M=="add"||M=="del"||M=="new"){T.moveTo(-5,0);T.lineTo(5,0);if(M=="add"){T.moveTo(0,-5);T.lineTo(0,5)}if(M=="new"){T.moveTo(-2.5,-4.5);
T.lineTo(2.5,4.5);T.moveTo(2.5,-4.5);T.lineTo(-2.5,4.5)}}else if(M=="fin")T.arc(0,0,5,0,2*Math.PI,!1);
else if(M=="mov"||M=="mva"){for(var $=0;$<4;$++){T.moveTo(0,0);T.lineTo(-7,0);var s=1+m;T.moveTo(-7+s,-s);
T.lineTo(-7,0);T.lineTo(-7+s,s);T.rotate(Math.PI/2)}}T.stroke()}T.restore();var j=new Uint8Array(T.getImageData(0,0,J,J).data.buffer),Y=t.j(J*J);
t.SF(j,Y,3);var G=t.j(J*J),Q=[3,5,3,4,8,4,3,5,3];Q=t.BD.yA(Q);t.BD.yX(Y,G,J,J,Q);for(var $=0;$<G.length;
$++)G[$]=Math.min(255,G[$]*2);t.BD.yX(G,Y,J,J,Q);for(var $=0;$<Y.length;$++)Y[$]=Math.min(255,Y[$]*2);
var Z=j.slice(0);j.fill(255);t.ix(Y,j,3);t.v.r$("norm",Z,q,j,q,q,1);o.wR.aAd[M]=X={J_:j,Os:q,UO:new es(4,4)};
return X};o.Sk=function(){o.QX.call(this,[10,30],o.c3,"tools/fpen",!1)};o.Sk.prototype=new o.QX;o.Sk.prototype.sb=function(M,X,J,q,W,T){var _=q.length-1,m=Math.sqrt((q[_-1]-q[0])*(q[_-1]-q[0])+(q[_]-q[1])*(q[_]-q[1]))<6/W.r7;
return[t.I.zH(q,m,T),t.fg.po("customShape",[0,0,1,1],null,null,null,"--")]};o.fD=function(){o.HI.call(this,[10,27],o.gf,"tools/pselect");
this.a9=null;this.oM=!1;this.Pa=null;this.nh=null;this.U7=null;this.Tu=null;this._G=null;this.nx=null;
this.Sy=null;this.IR=null};o.fD.prototype=new o.HI;o.fD.prototype.vI=function(M){return M.kJ};o.fD.prototype.H_=function(M,X,J,q,W){var T=M.k.Ob(W.x,W.y),_=M.ZX(),m=_[0],d=_[1],A,p;
for(var $=0;$<d.length;$++){var a=m[d[$]],f=a.add.vmsk,s=t.I.WR(f.X,T).gO;if(s!=-1){this.Pa=A=a;p=s}for(var j=0;
j<f.mO.length;j++){var Y=t.I.aC_(f.X,f.mO[j]);if(Y==null)continue;var G=es.Yq(Y,T);if(G<4*o.pv()/M.k.r7){var Q=M.U[a.gO-1e6].add.TySh,Z=Q.Zj.Curve,g=Q.u,S=Z.Reversed;
Z.Reversed=!1;var Z=dV.Cd(Q.Zj.Curve);Z.Reversed=S;t.G.u(Z[0],g,Z[0]);this.Sy=[Z,j,g.Jm*g.Bi-g.g*g.br];
this.Pa=A=a;p=0}}if(this.Sy)break}if(A!=null){var f=A.add.vmsk;f.FQ=[];var U=f.O.indexOf(p);if(q.M(hP.HG)){if(U==-1){f.O.push(p);
this.oM=!0}else f.O.splice(U,1)}else{if(U==-1)f.O=[p];this.oM=!0}this.nx=t.I.NP(f.X,f.O)}this.a9=T;this.IR=new aT(T);
M.bM=!0;M.fy=!0};o.fD.prototype.T_=function(M,X,J,q,W){if(this.a9==null)return;var T=M.k.Ob(W.x,W.y);
if(this.oM){T=this.IR.B6(T,q);var _=this.Pa;if(this.nh==null){this.nh=this.U7=_.add.vmsk.Q();this.Tu=this._G=JSON.stringify(_.add.vogk);
if(q.M(hP.Ke)){var m=this.nh.Q(),d=JSON.parse(this.Tu),A=o.HI.Kk(m,d);o.HI.DV(A,m,d);this.U7=m;this._G=JSON.stringify(d)}}var m=this.U7.Q(),d=JSON.parse(this._G);
if(this.Sy){var p=this.Sy,a=p[0][0],f=t.G.aG(a,T.x,T.y);m.mO[p[1]]=p[0][1][f];var s=a[f*2],j=a[f*2+1],Y=(a[f*2+2]-s)*(T.y-j)-(a[f*2+3]-j)*(T.x-s);
if(p[2]<0)Y=-Y;m.pj=Y>0}else{var G=this.nx.Q(),Q=G.x,Z=G.y;G.offset(T.x-this.a9.x,T.y-this.a9.y);G.x=Math.round(G.x);
G.y=Math.round(G.y);var g=o.UA.mq(M,G,J),S=new kp(1,0,0,1,G.x-Q+g[0],G.y-Z+g[1]);t.I.cI(m.X,S,m.O);t.fg.u(d,t.t.WP(S),m.O);
o.UA.ae(M,G,g)}this.AD(M,_.gO,m,d)}else{var U=this.a9;M.aS.Gn=t.G.mP(new gc(U.x,U.y,T.x-U.x,T.y-U.y));
M.fy=!0}};o.fD.prototype.fw=function(M,X,J,q,W){if(this.a9==null)return;var T=M.k.Ob(W.x,W.y),_=this.Pa,m=_?_.add.vmsk:null;
if(this.oM){var d=JSON.stringify(_.add.vogk);if(!this.a9.w6(T))this.yN(M,"Move Paths",_.gO,this.nh,m,null,this.Tu,d);
if(M!=null&&M.aS.z3){M.aS.z3=null;M.fy=!0}}else{var A=M.ZX(),p=A[0],a=A[1];if(a.length!=0){var f=p[a[0]];
m=f.add.vmsk;var s=this.a9,j=new gc(s.x,s.y,T.x-s.x,T.y-s.y),Y=t.I.alW(m.X,j);if(q.M(hP.HG)){for(var $=0;
$<Y.length;$++)if(m.O.indexOf(Y[$])==-1)m.O.push(Y[$])}else m.O=Y}M.aS.Gn=null;M.fy=!0}this.a9=null;
this.nh=null;this.Sy=null;this.oM=!1;this.IR=null};o.fD.prototype.abm=function(M){var X=this.Pa,J=this.AR,q=X.add.vmsk,W=X.add.vogk,T=W.length;
if(M=="confirm"){if(q!=this.nh)this.yN(J,[12,94,2],X.gO,this.nh,q,null,this.Tu,JSON.stringify(W));this.ap();
return}if(M=="cancel"){this.AD(this.AR,this.Pa.gO,this.nh.Q(),JSON.parse(this.Tu));this.ap()}else{var q=this.nh.Q(),W=JSON.parse(this.Tu);
q.X=t.I.anJ(q.X,q.O,M);this.AD(this.AR,this.Pa.gO,q,W)}};o.fD.prototype.ap=function(){this.Pa=null;this.nh=null;
this.a9=null;this.XX=this.hr=-1;this.IR=null};o.fD.prototype.qc=function(M,X,J,q){o.HI.prototype.qc.call(this,M,X,J,q);
if(J.Rk!=this.id)return;if(M.O.length==0)return;var W=M.ZX(),T=W[0],_=W[1];if(_.length==0)return;var m=T[_[0]],d=m.add.vmsk,A=m.add.vstk,p=m.add.vogk,a=new jb(r.E.C,!0);
a.data={h:r.m.ZQ,J:this.id,ys:"main",J7:d?d:null,fg:p};X.a(a)};o.fD.prototype.Nn=function(M,X,J,q,W){var T=M.FK;
if(T.J7){var _=J.ZX(),m=_[0],d=_[1];if(d.length==0)return;var A=m[d[0]],p=A.add.vmsk.Q(),a=JSON.stringify(A.add.vogk),f=T.J7;
this.AD(J,A.gO,f,T.fg);var s=[18,5];if(p.X.length==f.X.length)s=p.O[0]==f.O[0]?"Fill Rule":"Path Order";
this.yN(J,s,A.gO,p,f,null,a,JSON.stringify(T.fg))}};o.aR=function(){o.HI.call(this,[10,28],o.CF,"tools/dselect");
this.XX=-1;this.hr=-1;this.TQ=null;this.a9=null;this.V_=null;this.Pa=null;this.nh=null;this.Tu=null;
this.T5=0;this.DL={psnap:!1};this.IR=null};o.aR.prototype=new o.HI;o.aR.prototype.vI=function(M){return M.kJ};
o.aR.prototype.Nn=function(M){this.DL=M};o.aR.prototype.dx=function(M,X,J,q,W){if(M.h=="crnr"){if(J==null)return;
var T=J.ZX(),_=T[0],m=T[1];if(m.length==0){alert("No paths selected");return}var d=_[m[0]],A=d.add.vmsk;
if(A.FQ.length==0){alert("No corners selected");return}for(var $=0;$<A.FQ.length;$++){var p=A.X[A.FQ[$]];
if(!p.Z.w6(p.vJ)||!p.Z.w6(p.vX)){alert("Only sharp corners can be rounded");return}}if(this.nh==null){this.nh=d.add.vmsk.Q();
this.Tu=JSON.stringify(d.add.vogk);this.Pa=d;this.AR=J}var a=new jb(r.E.C,!0);a.data={h:r.m.SQ,bf:"cornerradius",vc:5,nT:this.ao8.bind(this)};
X.a(a)}else o.HI.prototype.dx.call(this,M,X,J,q,W)};o.aR.prototype.ao8=function(M){if(M=="confirm"){var X=this.AR,J=this.Pa,q=J.add.vmsk,W=J.add.vogk;
this.yN(X,[12,94,0],J.gO,this.nh,q,null,this.Tu,JSON.stringify(W));this.ap();return}var q=this.nh.Q(),W=JSON.parse(this.Tu),T=q.FQ;
if(M=="cancel"){}else{var _=[];for(var $=0;$<T.length;$++){var m=T[$],d=t.I.Ph(q.X,m,!0),a=0;if(_.indexOf(d)!=-1)continue;
_.push(d);var A=t.I.kj(q.X,d,!0),p=q.X[A].length,f=[];for(var s=0;s<p;s++){var j=q.FQ.indexOf(A+s+1)==-1?0:M;
f.push(j);if(j!=0)a++}t.I.TO(q.X,A,f);for(var s=0;s<T.length;s++)if(T[s]>A+p)T[s]+=a}this._1(q,W);q.FQ=[]}this.AD(this.AR,this.Pa.gO,q,W);
if(M=="cancel")this.ap()};o.aR.prototype.disable=function(M,X,J,q){this.aD(M)};o.aR.prototype.H_=function(M,X,J,q,W){this.aD(M);
var T=M.k.Ob(W.x,W.y),a,f,s;this.TQ=T.Q();var _=M.ZX(),m=_[0],d=_[1];if(d.length==0)return;var A=o.lV(M,W),p=new gc(T.x-A,T.y-A,A*2,A*2);
for(var j=0;j<d.length;j++){a=this.Pa=m[d[j]];f=a.add.vmsk;s=t.I.t4(f.X,p);if(s[0].length+s[1].length+s[2].length!=0)break}var Y=[!1,!1,!1];
for(var $=0;$<3;$++){for(var G=0;G<s[$].length;G++){var Q=s[$][G],Z=f.X[Q];if(f.FQ.indexOf(Q)!=-1||$==1&&f.FQ.indexOf(Q-1)!=-1&&!Z.Z.w6(Z.vX)||$==2&&f.FQ.indexOf(Q+1)!=-1&&!Z.Z.w6(Z.vJ)){s[$]=[Q];
Y[$]=!0;break}}}if(s[0].length!=0&&(Y[0]||!Y[1]&&!Y[2])){var g=s[0][0],S=f.FQ.indexOf(g);if(q.M(hP.HG)){if(S==-1)f.FQ.push(g);
else{f.FQ.splice(S,1);M.fy=!0;return}}else if(S==-1)f.FQ=[g];this.XX=g;this.hr=0}else if(s[1].length!=0&&Y[1]){this.XX=s[1][0];
this.hr=1}else if(s[2].length!=0&&Y[2]){this.XX=s[2][0];this.hr=2}else{var U=t.I.WR(f.X,T,!0,A);if(U.gO==-1)this.a9=T;
else{this.V_=U;var B=t.I.kj(f.X,U.gO);f.O=[U.gO];f.FQ=[B+1+U.sQ]}}if(this.nh==null){this.nh=a.add.vmsk.Q();
this.Tu=JSON.stringify(a.add.vogk)}this.IR=new aT(T);M.fy=!0};o.aR.prototype.T_=function(M,X,J,q,W){if(M==null)return;
var T=M.k.Ob(W.x,W.y),_=this.Pa;if(this.XX!=-1){var m=this.nh.Q(),d=_.add.vogk,A=m.X[this.XX];A=[A.Z,A.vX,A.vJ][this.hr];
if(q.M(hP.HG)){if(this.hr==0){T=this.IR.B6(T,q);T.x+=A.x-this.TQ.x;T.y+=A.y-this.TQ.y}else T=o.kO.gK(m.X[this.XX].Z,T)}else{if(this.DL.psnap){T.x=Math.round(T.x);
T.y=Math.round(T.y)}T=o.UA.kZ(M,T,J)}if(this.hr==0){var p=new kp(1,0,0,1,T.x-A.x,T.y-A.y);t.I.cI(m.X,p,null,m.FQ)}else{var a=m.X[this.XX];
if(q.M(hP.Ke)&&(a.e==1||a.e==4))a.e++;o.aR.LD(a,T,this.hr==1)}this._1(m,d);this.AD(M,_.gO,m,d)}else if(this.a9!=null){var f=this.a9;
M.aS.Gn=t.G.mP(new gc(f.x,f.y,T.x-f.x,T.y-f.y));M.fy=!0}else if(this.V_!=null){var m=this.nh.Q(),d=_.add.vogk,s=this.V_,j=this.TQ,Y=t.I.kj(m.X,s.gO),G=m.X[Y].length,Q,Z=s._H;
if(Z<=1/6)Q=0;else if(Z<=.5)Q=Math.pow((6*Z-1)/2,3)/2;else if(Z<=5/6)Q=(1-Math.pow((6*(1-Z)-1)/2,3))/2+.5;
else Q=1;var g=T.x-j.x,S=T.y-j.y,U=(1-Q)/(3*Z*(1-Z)*(1-Z)),B=Q/(3*Z*Z*(1-Z)),e=m.X[Y+1+s.sQ];e.vJ.offset(U*g,U*S);
var P=m.X[Y+1+(s.sQ+1)%G];P.vX.offset(B*g,B*S);o.aR.LD(e,e.vJ,!1);o.aR.LD(P,P.vX,!0);this._1(m,d);this.AD(M,_.gO,m,d)}else{var h=M.ZX(),V=h[0],I=h[1],_,m,D;
if(I.length==0)return;var F=o.lV(M,W),c=new gc(T.x-F,T.y-F,F*2,F*2);for(var n=0;n<I.length;n++){_=V[I[n]];
m=_.add.vmsk;D=t.I.t4(m.X,c);if(D[0].length+D[1].length+D[2].length!=0)break}this.aD(M);for(var $=0;
$<3;$++){for(var k=0;k<D[$].length;k++){var b=D[$][k],N=m.X[b];N=$==0?N.Z:$==1?N.vX:N.vJ;M.aS.Fm.push(N.x,N.y);
M.fy=!0}}}};o.aR.prototype.aD=function(M){if(M&&M.aS.Fm.length!=0){M.aS.Fm=[];M.fy=!0}};o.aR.prototype.fw=function(M,X,J,q,W){var T=M.k.Ob(W.x,W.y),_=this.Pa,m=_?_.add.vmsk:null,d=_?_.add.vogk:null;
if(this.XX!=-1||this.V_){if(Date.now()-this.T5<300){var A=m.X[this.XX],p=this.hr,a=null;if(p==0){var f=A.vX.w6(A.Z),s=A.vJ.w6(A.Z);
if(!f&&!s){a="Anchor Type";if(A.e==1||A.e==4)A.e++;else{A.e--;A.vJ=A.Z.add(A.Z.d7(A.vX))}}else{a="Add Handles";
if(f&&s){A.vX.x-=30;A.vJ.x+=30}else if(f)A.vX=A.Z.add(A.Z.d7(A.vJ));else if(s)A.vJ=A.Z.add(A.Z.d7(A.vX))}}else{a="Remove Handle";
if(p==1)A.vX.GO(A.Z);else A.vJ.GO(A.Z)}this._1(m,d);this.AD(M,_.gO,m,d);this.yN(M,a,_.gO,this.nh,m,null,this.Tu,JSON.stringify(d))}else if(this.V_||!this.TQ.w6(T)){this.yN(M,"Drag Anchors",_.gO,this.nh,m,null,this.Tu,JSON.stringify(d))}this.V_=null;
this.T5=Date.now()}else if(this.a9!=null){var j=this.a9,Y=new gc(j.x,j.y,T.x-j.x,T.y-j.y);if(Y.r<0)Y.x+=Y.r;
if(Y.$<0)Y.y+=Y.$;Y.r=Math.abs(Y.r);Y.$=Math.abs(Y.$);var G=t.I.t4(m.X,Y);m.FQ=G[0].concat(q.M(hP.HG)?m.FQ:[]);
M.aS.Gn=null}this.ap();M.fy=!0};o.aR.prototype.ap=function(){this.Pa=null;this.nh=null;this.a9=null;
this.XX=this.hr=-1;this.IR=null};o.aR.prototype._1=function(M,X){for(var $=0;$<M.FQ.length;$++){var J=t.I.Ph(M.X,M.FQ[$]);
t.fg.hZ(X,J)}};o.aR.prototype.KH=function(M,X,J,q){if(M==null)return;var W=M.ZX(),T=W[0],_=W[1];if(_.length==0)return;
var m=T[_[0]],d=m.add.vmsk;if(d==null||d.FQ.length==0)return;var A=m.add.vogk,p=JSON.stringify(A),a=q.CG(M?M.k.Ow:0);
if(a.x!=0||a.y!=0){var f=d.Q(),s=d.Q(),j=new kp(1,0,0,1,a.x,a.y);t.I.cI(s.X,j,null,s.FQ);this._1(s,A);
this.AD(M,m.gO,s,A);this.yN(M,"Move Anchors",M.O[0],f,s.Q(),!0,p,JSON.stringify(A))}if(q.M(hP.t3)||q.M(hP.az))this.dx({h:"remove",OM:!0,at4:!0},X,M,q,J)};
o.aR.prototype.yN=function(M,X,J,q,W,T,_,m){var d=M.pC();if(T&&d!=null&&d.J==this&&d.data.att&&d.data.HF==J&&JSON.stringify(d.data.g2.FQ)==JSON.stringify(q.FQ)){d.data.f7=W;
d.data.DQ=m}else{var d=new hY(X,this);d.data={HF:J,g2:q,f7:W,att:T,a9z:_,DQ:m};M.Vr(d)}};o.aR.LD=function(M,X,J){var q=M.vX,W=M.vJ;
if(!J){q=M.vJ;W=M.vX}q.cn(X.x,X.y);if(M.e==1||M.e==4){var T=es.Yq(q,M.Z),_=es.Yq(W,M.Z);if(_!=0){W.x=M.Z.x-(q.x-M.Z.x)*(_/T);
W.y=M.Z.y-(q.y-M.Z.y)*(_/T)}}};o.Rect=function(){o.QX.call(this,[10,32],o.Av,"tools/rect",!0)};o.Rect.prototype=new o.QX;
o.Rect.prototype.sb=function(M,X,J){var q=this.Ye.crad,W=X.x-M.x,T=X.y-M.y;return[t.I.bg.Rect(M.x,M.y,W,T,q),t.fg.po("Rctn",[M.x,M.y,X.x,X.y],[q,q,q,q])]};
o.hQ=function(){o.QX.call(this,[10,33],o.k2,"tools/ellipse",!0)};o.hQ.prototype=new o.QX;o.hQ.prototype.sb=function(M,X,J){var q=X.x-M.x,W=X.y-M.y;
return[t.I.bg.hQ(M.x,M.y,q,W),t.fg.po("Elps",[M.x,M.y,X.x,X.y])]};o.Ep=function(){o.QX.call(this,[10,34],o.Mv,"tools/pshape",!1);
this.Ye.aopts=[!1,!0,50,100,0]};o.Ep.prototype=new o.QX;o.Ep.prototype.sb=function(M,X,J){var q=this.Ye.pshape,W=this.Ye.crad,T=this.Ye.irad/100,_=this.Ye.sides,m=this.Ye.width,d=this.Ye.aopts,A=this.Ye.length,G;
X=X.Q();var p=M.x,a=M.y,f=X.x,s=X.y,j=Math.sqrt((f-p)*(f-p)+(s-a)*(s-a)),Y=Math.atan2(-s+a,f-p);if(J)Y=Math.round(Y*180/Math.PI/15)*15*Math.PI/180;
if(q==0)G=t.I.bg.dQ(p,a,j,Y,_,W);if(q==1)G=t.I.bg.agG(p,a,j,Y,_,W,T);if(q==2)G=t.I.bg.xp(M.x,M.y,X.x,X.y,m,d);
if(q==3)G=t.I.bg.a2m(p,a,j,Y,A);return[G,t.fg.po("customShape",[M.x,M.y,X.x,X.y],null,null,null,"--")]};
o.Ep.prototype.KH=function(M,X,J,q){o.QX.prototype.KH.call(this,M,X,J,q);var W=q.CG(),T=this.Ye,_,m;
if(W.y!=0){var d=-W.y,A=T.pshape;if(A<2){_="sides";m=Math.max(3,Math.min(100,T.sides+d))}else if(A==2){_="width";
m=Math.max(1,Math.min(100,T.width+d))}else if(A==3){_="length";m=Math.max(4,Math.min(40,T.length+d))}}if(W.x!=0){_="pshape";
m=Math.max(0,Math.min(3,T.pshape+W.x))}if(_){var p=new jb(r.E.C,!0),a={};a[_]=m;T[_]=m;p.data={h:r.m.ZQ,J:this.id,NL:"vals",akA:a};
X.a(p);this.T_(M,X,J,q)}};o.VL=function(){o.QX.call(this,[10,35],o.lx,"tools/line",!1)};o.VL.prototype=new o.QX;
o.VL.prototype.sb=function(M,X,J){var q=this.Ye.width,W=this.Ye.aopts;X=X.Q();if(J){X=o.kO.gK(M,X)}if(gj==1)q=0;
return[t.I.bg.xp(M.x,M.y,X.x,X.y,q,W),t.fg.po("Ln",null,null,[M.x,M.y,X.x,X.y],q,null,W)]};o.Zu=function(){o.QX.call(this,[10,31],o.zd,"tools/cshape",!0)};
o.Zu.prototype=new o.QX;o.Zu.prototype.sb=function(M,X,J){var q=this.Ye.shape,W=q.ny.r/q.ny.$,T=K.JL.Oz(q.X);
X=X.Q();if(J){X.y=M.y+(X.x-M.x)/W}var _=X.x-M.x,m=X.y-M.y;t.I.cI(T,new kp(_,0,0,m,M.x,M.y));return[T,t.fg.po("customShape",[M.x,M.y,X.x,X.y],null,null,null,q.EX)]};
o.fx=function(M,X,J){o.bv.call(this,M,X,J);this.i8=0;this.U=null;this.gE=null;this.f=null;this.C9=1;
this.ov=0;this._N=!0;this.a$=!1;this.cursor=null;this.Ii=null;this.E_=null;this.cl=!1;this.Pc=null;this.a0i=0;
this.va=null;this.zX=0;this.uX=null;this.Di=null;this.TR=null;this.Hq=null;this.a14=null;this.pl=null};
o.fx.prototype=new o.bv;o.fx.sy=function(M,X,J){var q={classID:"null",null:k$.kh(J?"Lyr":"Dcmn",!0)};
if(M)q.Angl={t:"UntF",v:{type:"#Ang",val:X}};else q.Axis={t:"enum",v:{Ornt:X}};return{hC:M?"rotateEventEnum":"flip",Qd:q}};
o.fx.prototype.aa=function(M,X,J,q,W){var T=new jb(r.E.C,!0);T.data={h:r.m.ZQ,J:this.id,Vm:W,je:M,f:J};
X.a(T);this.B9=!1};o.fx.prototype.vI=function(M){return this.Di&&this.Di.akj()};o.fx.prototype.dx=function(M,X,J,q,W){this.f=W;
if(M.h=="again"&&this.va==null)return;if(M.h=="cmode"){if(J.depth==M.K)return;var T=o.fx.EM(J),_=o.fx.iU(J,T,!0),m=new hY("Mode: "+J.depth+"-Bit to "+M.K+"-Bit",this);
m.data={e:0,U:T,gE:_,ir:!0,depth:J.depth};J.Vr(m);o.fx.acr(J,T,M.K);return}if(M.h=="cprof"){var d=J.UT(),T,_;
d=d?d[0]:null;var A=dD.FJ[dD.uy.indexOf(M.K)];if(A)A=h1.Rv.get(A);if(M.a4K){T=o.fx.EM(J);_=o.fx.iU(J,T,!0)}var m=new hY((T?"Convert To":"Assing")+" Profile: "+(A?M.K:"sRGB"),this);
m.data={e:0,U:T,gE:_,ir:!0,VM:[d]};J.Vr(m);if(M.a4K)o.fx.ae6(J,T,A);J.vR(A);return}if(!this.J$(J,W))return;
if(this.Di){this.aiQ(M,this.Di.Sx(),X,J,q,W);this.YT(J,W,0,!0);this.XI(J);return}this.ab3(J,M.w==null,M.w);
this.auw(J);this.aiQ(M,M.apu,X,J,q,W);this.j4(J,X,M.AC,!1)};o.fx.prototype.aiQ=function(M,X,J,q,W,T){if(X==null){var _=M.yu!=null?M.yu:4;
X=this.Di.a0g()[_]}var m=this.uX,d=X.x,A=X.y;if(M.h=="rot"&&M.K!=Math.PI&&(m.r+m.$&1)==1){d=Math.floor(d);
A=Math.floor(A)}var p=new kp;p.translate(-d,-A);if(M.h=="rot")p.rotate(M.K);if(M.h=="scl")p.scale(M.K.x,M.K.y);
if(M.h=="mat")p.concat(M.K);p.translate(d,A);if(M.h=="again")p=this.va;var a=t.t.WP(p);if(M.h=="dtr"){var f=t.t;
a=f.uM(M.K,f.j(-d,-A));a=f.uM(f.j(d,A),a)}var s=this.Di.PL();t.t.u(a,s);this.Di.W$(s);if(M.QB){var j=M.QB.v;
this.Nn({ys:"switchWarp"},J,q,W);this.Nn({ys:"wrp",QB:j},J,q,W)}};o.fx.prototype.mG=function(){return!0};
o.fx.prototype.J$=function(M,X,J){if(M==null)return!1;if(this.id==o.eB)return M.c!=null;var q=M.AX(!0,null,null,!0);
if(this.id==o.Sd&&M.U[q[0]].S.M5()){alert("Layer is empty.");return!1}if(M.Fg.length!=0)return!0;for(var $=0;
$<q.length;$++){var W=M.U[q[$]];if(W.Uc(2)||W.Uc(31)){alert(kd.get([6,57,0]));return!1}if(W.add.artb){alert("You can not transform the whole artboard");
return!1}if(W.add.TySh)if(!i5.kH(W.add.TySh,X.Rb))return!1;if(W.add.SoLd){if(q.length==1&&(J&&J.Em==-1)&&(W.hM()&&W.hM().kx||W.add.vmsk&&W.add.vmsk.kx)){alert("Unlink masks before transforming Smart Object");
return!1}if(!M.a96(W.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+M.sF(W.add.SoLd.Idnt.v).iW+")");
return!1}}}if(M.c==null)return!0;if(!M.KE())return!1;return M.amI()};o.fx.prototype.H_=function(M,X,J,q,W){var T=this.ZE(W,M),_=T[0],m=T[1],d=this.zX==0?this.Di:this.TR;
M.k.r7*=m;this.a$=d.H_(M,J,q,_,null,null,W);if(!this.a$&&gj==1){this.j4(M,X,null,!0);return}this.XI(M,_);
M.k.r7/=m;if(this.a$&&d.Ui(_)){if(Date.now()-this.a0i<250)this.j4(M,X,null,!0);this.a0i=Date.now()}};
o.fx.prototype.WQ=function(M){var X=new jb(r.E.C,!0);X.data={h:r.m.Hf,Ny:this.cursor};M.a(X)};o.fx.prototype.ZE=function(M,X){var J=1;
M=X.k.Ob(M.x,M.y);if(this.zX==1){var q=t.t.bw(this.Di.PL(),this.uX);J=t.t.Gy(q).zQ();var W=t.t.vN(q);
M=t.t.a6p(W,M)}return[M,J]};o.fx.prototype.T_=function(M,X,J,q,W){var T=this.ZE(W,M),_=T[0],m=T[1],d=this.zX==0?this.Di:this.TR;
if(!W.kJ){var A="default";if(d){var p=d.WV(_,M.k.r7*m,null,W);if(p)A=p}if(A!=this.cursor){this.cursor=A;
this.WQ(X)}if(this.TR){this.XI(M,_)}}if(!this.a$)return;M.k.r7*=m;var a=this.PM=d.T_(M,J,q,_,this._N);
M.k.r7/=m;this.YT(M,J,0,!0);this.XI(M,_);this.nN(X,null,M)};o.fx.prototype.fw=function(M,X,J,q,W){var T=this.ZE(W,M),_=T[0],m=T[1];
this.Di.fw(M,J,q,_);if(this.TR){var d=this.TR.fw(M,J,q,_);if(d){this.nN(X,!0,M);this.XI(M)}}if(this.PM){var A=this.TK(),p=t.G.mP(this.uX).d;
t.t.u(A,p);this.Di.W$(p);this.PM=null}this.a$=!1};o.fx.prototype.KH=function(M,X,J,q){if(q.M(hP.ej))this.j4(M,X,null,!0);
else if(q.M(hP.ke))this.xb(M,X);else{var W=this.Di.KH(M,J,q);if(W){this.YT(M,J,0,!0);this.nN(X,null,M)}}};
o.fx.prototype.Nn=function(M,X,J,q){if(M.ys=="commit")this.j4(J,X,null,!0);else if(M.ys=="cancel")this.xb(J,X);
else if(M.ys=="switchWarp"){this.zX=1-this.zX;this.a4w();this.XI(J);this.nN(X,null,J)}else if(M.ys=="wrp"){this.TR.awW(M.QB);
this.XI(J);this.YT(J,this.f,0,!0)}else if(M.ys=="splt")this.TR.a6F(M.K);else if(M.ys=="ctyp"){this.Di.a71(M.a8);
this.XI(J);this.nN(X,null,J)}else if(M.ys=="cen"){this.Di.af5(M.UO);this.XI(J);this.YT(J,this.f,0,!0)}else if(M.ys=="trn"){var W=t.t.WP(M.bL),T=this.uX,_=t.t.bw(this.Di.PL(),this.uX);
W[6]=_[6],W[7]=_[7];var m=[T.x,T.y,T.x+T.r,T.y,T.x+T.r,T.y+T.$,T.x,T.y+T.$];t.t.u(W,m);this.C9=M.C9;
if(M.ov!=this.ov){this.ov=M.ov;this.a1N(J)}this._N=M._N;this.Di.W$(m);this.XI(J);this.YT(J,this.f,0,!0)}};
o.fx.prototype.XI=function(M,X){if(this.zX==0)this.Di.kW(M,this.f);else{this.TR.kW(M,X);var J=this.TK();
t.t.u(J,M.aS.E7.d);t.t.u(J,M.aS.au);t.t.u(J,M.aS.Lx)}};o.fx.prototype.j4=function(M,X,J,q){this.YT(M,this.f,this.C9);
var W=new hY(J?J:this.name,this),U="";if(this.i8==0)W.data={e:this.i8,U:this.U,gE:this.gE};else if(this.i8==1){var T=M.U[this.U[0]],_;
if(T.Yb.tD<=0){_=t.j(T.Yb.uF.o());t.SF(T.Yb.dC,_,3)}else _=M.c.N;var m={S:T.Yb.uF.Q(),N:_};W.data={e:this.i8,w:this.U[0],E_:this.E_,cD:m,Ii:this.Ii,cl:this.cl,Yb:T.Yb,Pc:this.Pc,NS:{Os:T.Yb.uF,b3:T.Yb.dC}}}else if(this.i8==2){W.data={e:this.i8,E_:this.E_,cD:{S:M.c.S.Q(),N:M.c.N.slice(0)}}}M.Vr(W);
var d=this.uX,A=t.t.bw(this.Di.PL(),d),p=this.gE,a=p?p[0]:null;if(p&&p.length==1&&a[4]){var f=o.fx.Bz(a[4].nonAffineTransform),d=t.G.Cs(t.Rl.LK(a[4].quiltWarp.v)[3]),s=t.t.bw(f,d);
A=t.t.uM(A,t.t.vN(s))}var j=t.t.Gy(A),Y=this.Di.Sx(),G=new kp;G.translate(Y.x,Y.y);G.concat(j);G.translate(-Y.x,-Y.y);
j=G.Q();var Q=-Math.atan2(-j.g,j.Jm),Z=new kp;Z.rotate(Q);j.concat(Z);function g(V,I){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][I],val:V}}}var S=k$.kh("Lyr",!0);
if(this.id==o.eB)S.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};var B=o.fx.axg;for(var e in B)if(B[e]==this.Di.X2)U=e;
if(U==""){U="Qcsi";G._f=G.Ey=0}var P={classID:"null",null:S,FTcs:{t:"enum",v:{QCSt:U}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:g(G._f,0),Vrtc:g(G.Ey,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:g(Math.atan(j.br/j.Bi)*180/Math.PI,2),Vrtc:g(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:g(100*0,1),Vrtc:g(100*0,1)}},Wdth:g(j.Jm*100,1),Hght:g(j.Bi*100,1),Angl:g(Q*180/Math.PI,2)};
if(U=="Qcsi")P.Pstn={t:"Objc",v:{Hrzn:g(Y.x,0),Vrtc:g(Y.y,0)}};var h=this.TR?this.TR.ol():null;if(h&&!t.Rl.tU(h)){P.quiltWarp={t:"Objc",v:h}}this.$y=X;
this.track({hC:"transform",Qd:P});this.escape(M,X,q)};o.fx.axg={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3};
o.fx.prototype.xb=function(M,X){if(this.i8==0)o.fx.ahE(M,this.U,this.gE);else if(this.i8==1){var J=M.U[this.U[0]];
M.c=this.E_;if(!this.cl){J.Yb.uF=this.Pc.Os;J.Yb.dC=this.Pc.b3;J.G$(M,0,0,M.c)}else{J.rS(M,this.Ii)}M.vV();
M.E5=!0}else if(this.i8==2){M.c=this.E_;M.E5=!0}this.escape(M,X,!0)};o.fx.prototype.escape=function(M,X,J){this.Di.clear(M);
if(this.TR)this.TR.clear(M);this.Di=null;this.TR=null;this.pl=null;this.zX=0;if(J)this.tW(X,r.E.C,{h:r.m.qb})};
o.fx.prototype.AS=function(M,X){if(M.e==0)o.fx.WH(X,M);else{if(M.e==1){var J=X.U[M.w];if(M.cl){J.Yb=M.Yb}else{J.Yb.uF=M.NS.Os;
J.Yb.dC=M.NS.b3}J.G$(X,0,0,X.c);X.vV()}X.c={S:M.cD.S.Q(),N:M.cD.N.slice(0)};X.E5=!0}};o.fx.prototype.df=function(M,X){if(M.e==0)o.fx.WH(X,M);
else{if(M.e==1){var J=X.U[M.w];if(M.cl){J.rS(X,M.Ii)}else{J.Yb.uF=M.Pc.Os;J.Yb.dC=M.Pc.b3;J.G$(X,0,0,X.c)}X.vV()}X.c=M.E_;
X.E5=!0}};o.fx.prototype.ab3=function(M,X,J){M.ZX();var q=[];if(J==null)for(var $=0;$<M.Fg.length;$++)if(M.Qt[M.Fg[$]].add.vmsk.X.length>2)q.push(-1-M.Fg[$]);
var W=[],T=M.k.KV;if(T[0]+T[1]+T[2]==3)if(J!=null||q.length==0||M.bQ!=null&&M.bQ.length!=0){if(M.O.length==1){var _=M.U[M.O[0]];
if(_.nA()&&_.Cq)W=[M.O[0]]}if(W.length==0)W=M.AX(X,J,null,!0)}W=W.concat(q);for(var $=0;$<M.LV.length;
$++)W.push(-1e3-M.LV[$]);this.U=W};o.fx.prototype.enable=function(M,X,J,q,W,T){if(this.cursor==null)this.cursor="default";
this.WQ(X);if(this.Di)return;this.f=J;this.ab3(M,!0);this.auw(M,T&&T.Em!=null&&T.Em!=-1?T.Em:null);this.nN(X,null,M);
this.XI(M);if(T&&T.Em==-1)this.Nn({ys:"switchWarp"},X,M,q)};o.fx.prototype.D5=function(){return this._N?null:[0]};
o.fx.prototype.Ug=function(M,X,J){if(M&&M[0]!=null)this._N=M[0]==1};o.fx.prototype.nN=function(M,X,J){var q={h:r.m.ZQ,J:this.id};
if(this.zX==0){var W=t.t.bw(this.Di.PL(),this.uX),T=t.t.Gy(W);q.bL={FB:T,a8:this.Di.aFp(),UO:this.Di.Sx(),Os:this.uX.Q(),_N:this._N}}else{q.adC=X;
q.QB=this.TR.ol()}if(J){q.OD=["---"];for(var $=0;$<J.OD.length;$++)q.OD.push(J.OD[$].name)}q.aGv=this.TR!=null;
q.aIL=!1;if(J)for(var $=0;$<J.O.length;$++){var _=J.U[J.O[$]];if(!(_.add.SoLd||_.add.TySh||_.eQ()||_.nA()))q.aIL=!0}this.tW(M,r.E.C,q)};
o.fx.prototype.auw=function(M,X){var J=this.id==o.eB,q=!0,W=this.U[0],T=M.U[W],m=null,d=null,A=null,f=null;
if(J){this.i8=2;this.E_=M.c}else if(M.c&&this.U.length==1&&W>=0&&!T.S.M5()){this.i8=1;this.E_=M.c;this.Ii=T.Yb;
this.cl=!1;if(!T.cu(M,M.c)){this.cl=!0;T.sG(M,M.c,!1)}this.Pc={b3:T.Yb.dC,Os:T.Yb.uF}}else{this.i8=0;
this.gE=o.fx.iU(M,this.U,null);for(var $=0;$<this.gE.length;$++)if(this.gE[$][3]!=null)q=!1}var _=this.i8==1;
if(this.gE&&this.gE.length==1){var p=this.gE[0];if(p[2]!=null)d=p[2].J7;if(p[3]==null)_=!0;if(p[3]!=null)A=p[3];
if(p[4]!=null){m=M.U[this.U[0]].add.SoLd;if(p[1]||p[2])_=!1}}var a=J?M.c.S.Q():o.fx.Hg(M,this.U);this.uX=a;
if(!J&&d&&gj==1){f=d.F_();this.Hq=t.t.bw(f,this.uX)}else if(!J&&A&&gj==1){var s=M.U[this.U[0]],A=s.add.TySh;
f=t.G.mP(s.ws.Bm).d;t.G.u(f,A.u,f);this.Hq=t.t.bw(f,this.uX)}else if(!J&&m){f=o.fx.Bz(m.nonAffineTransform);
this.uX=t.G.Cs(t.Rl.LK(m.quiltWarp.v)[3]);if(_)this.TR=new fB(m.quiltWarp.v);this.Hq=t.t.bw(f,this.uX)}else{if(_||J)this.TR=new fB(t.Rl.j(this.uX));
this.Hq=[1,0,0,0,1,0,0,0];if(this.id==o.Sd)X=3;f=[a.x,a.y,a.x+a.r,a.y,a.x+a.r,a.y+a.$,a.x,a.y+a.$]}this.Di=new gY(f,!0,!0,q,!1,!1,X);
this.a14=[1,0,0,0,1,0,0,0];this.a1N(M)};o.fx.prototype.a1N=function(M){if(this.id==o.Sd){var X,J,T=null;
if(this.gE&&M.c==null){var q=this.gE[0][0],W=q.ro;X=W[0];J=W[1]}else if(this.Pc){X=this.Pc.b3;J=this.Pc.Os}if(this.ov!=0)T=M.OD[this.ov-1].Xu(J);
this.pl=t.b1.axw(t.cY(X,8),J.r,J.$,T)}};o.fx.Hg=function(M,X){if(X==null)X=M.AX(!0,null,null,!0);var J=new gc,q=new gc;
if(M.c&&X.length==1&&X[0]>=0)J=M.c.S.Q();else for(var $=0;$<X.length;$++){var W=X[$],T=0<=W?M.U[W]:-1e3<W?M.Qt[-1-W]:M.OD[-1e3-W],_=T.add?T.add.vmsk:null,m=0<=W?T.d9(M,X.length==1,!1,!0):-1e3<W?t.I.NP(_.X,X.length==1&&_.O.length!=0?_.O:null):T.S.Q();
J=J.m0(m);if(W>0&&T.add.artb)q=q.m0(T.PH())}if(!q.M5())return q;if(J.r==0){if(J.$==0)return J;J.x-=10;
J.r+=20}if(J.$==0){J.y-=10;J.$+=20}return J};o.fx.prototype.tW=function(M,X,J,q){var W=new jb(X,!0);
W.data=J;if(q)W.J=q;M.a(W)};o.fx.EM=function(M){var X=[];for(var $=0;$<M.U.length;$++)X.push($);for(var $=0;
$<M.Qt.length;$++)X.push(-1-$);for(var $=0;$<M.OD.length;$++)X.push(-1e3-$);return X};o.fx.iU=function(M,X,J){var q=[];
for(var $=0;$<X.length;$++){var W=X[$],T,_;if(W>=0){T=M.U[W];_=T.tV(M,J,!0)}else if(W>-1e3){T=M.Qt[-1-W];
_=[2]}else{q.push([null,null,null,null,null,null,null,M.OD[-1e3-W].Q()]);continue}var m=[],d=_.indexOf(0)!=-1;
if(d){var A={ro:T.add.SoLd?null:[T.buffer.slice(0),T.S.Q()]};m.push(A);if(T.mT()){var p=T.uV(M);A.atr=p.buffer.slice(0);
A.a6B=p.S.Q()}}else m.push(null);if(_.indexOf(1)!=-1)m.push(T.hM().Q());else m.push(null);if(_.indexOf(2)!=-1)m.push({J7:T.add.vmsk.Q(),XZ:T.add.vstk?t.b(T.add.vstk):null,PD:T.add.vstk?kf.M2(M.U[W].add):null,so:T.add.vstl?JSON.stringify(T.add.vstl):null,fg:T.add.vogk?t.b(T.add.vogk):null});
else m.push(null);if(T.add.TySh&&d){f5.xV(T.add.TySh);m.push(T.add.TySh.u.Q())}else m.push(null);if(T.add.SoLd&&d)m.push(t.b(T.add.SoLd));
else m.push(null);if(_.indexOf(3)!=-1)m.push(T.uV(M).JS.Q());else m.push(null);if(T.add.lmfx)m.push(JSON.stringify(T.add.lmfx));
else m.push(null);q.push(m)}return q};o.fx.ahE=function(M,X,J){for(var $=0;$<X.length;$++){var q=X[$],W=0<=q?M.U[q]:-1e3<q?M.Qt[-1-q]:M.OD[-1e3-q],T=J[$];
if(T[0]){if(T[0].ro){W.S=T[0].ro[1].Q();W.buffer=T[0].ro[0].slice(0)}if(W.mT()){var _=W.uV(M);_.buffer=T[0].atr.slice(0);
_.S=T[0].a6B.Q()}}if(T[1]){W.hM().N=T[1].N.slice(0);W.hM().S=T[1].S.Q();W.hM().A8=!0}if(T[2]){W.add.vmsk=T[2].J7.Q();
if(T[2].PD)kf.v6(W.add,T[2].PD);if(T[2].XZ)W.add.vstk=t.b(T[2].XZ);if(T[2].fg)W.add.vogk=t.b(T[2].fg);
if(T[2].so)W.add.vstl=JSON.parse(T[2].so)}if(T[3]){W.add.TySh.u=T[3].Q();f5.GT(W.add.TySh)}if(T[4]){W.add.SoLd=t.b(T[4])}if(T[5]){var m=W.uV(M).JS;
m.N=T[5].N.slice(0);m.S=T[5].S.Q()}if(T[6]){W.add.lmfx=JSON.parse(T[6])}if(T[7]){W.N=T[7].N.slice(0);
W.S=T[7].S.Q();W.A8=!0}if(0<=q){W.j$(M);W.vV();if(T[4])W.el(M,!1)}}M.vV()};o.fx.acr=function(M,X,J){M.depth=J;
M.buffer=t.j(M.r*M.$*4,J);for(var $=0;$<X.length;$++){var q=X[$];if(0<=q){var W=M.U[q],T=W.hM();if(T){T.N=t.cY(T.N,J);
T.A8=!0}if(W.add.vmsk)W.add.vmsk.A8=!0;if(W.eQ())W.j$(M);else if(W.add.SoLd){if(W.mT()){var _=W.uV(M),T=_.JS;
if(T){T.N=t.cY(T.N,J);T.A8=!0}}W.el(M)}else W.buffer=t.cY(W.buffer,J);W.vV()}else if(-1e3<q){}else{var T=M.OD[-1e3-q];
T.N=t.cY(T.N,J)}}M.vV()};o.fx.ae6=function(M,X,J){var q,W,T=17,_=M.UT();if(_){T=_[2];q=_[3].slice(0)}if(J){var m=ICC.R(J.buffer);
W=ICC.U.sampleLUT(m,T,!0)}for(var $=0;$<X.length;$++){var d=X[$];if(0<=d){var A=M.U[d];if(A.eQ())A.j$(M);
else if(A.add.SoLd){}else{if(q)ICC.U.applyLUT(q,T,A.buffer,A.buffer);if(W)ICC.U.applyLUT(W,T,A.buffer,A.buffer)}A.vV()}}M.vV()};
o.fx.WH=function(M,X){if(X.VM){var J=M.UT();M.vR(X.VM[0]);X.VM=[J?J[0]:null]}if(X.U==null)return;var q=o.fx.iU(M,X.U,X.ir);
if(X.depth!=null){var W=X.depth;X.depth=M.depth;M.depth=W;M.buffer=t.j(M.r*M.$*4,M.depth);M.vV()}o.fx.ahE(M,X.U,X.gE);
X.gE=q};o.fx.BG=function(M,X,J,q,W,T,_,m,d,A){if(typeof T[0]=="number"){var p=[];for(var $=0;$<J.length;
$++)p[$]=T;T=p}for(var $=0;$<J.length;$++){var a=T[$],f=t.t.Gy(a),s=f.zQ(),j=J[$],Y=0<=j?M.U[j]:-1e3<j?M.Qt[-1-j]:M.OD[-1e3-j],G=q[$];
if(Y.add&&Y.add.lmfx&&m)hA.S4(Y.add.lmfx,s);if(G[0]&&!G[3]&&!G[4]&&!G[5]){var Q=G[0].ro;if(d){var Z=d.Lg(Q[1]),g=t.j(Z.o()*4);
t.fA(Q[0],Q[1],g,Z);Q=[g,Z]}var S=o.fx.IA(Q,W,a,_,W==0?Y.buffer.buffer:null,null,A);if(S){Y.S=S.S;Y.buffer=S.buffer}}if(G[1]){var U=Y.hM();
o.fx.Gf(M,G[1],U,W,a,_,U.kx&&_&&!t.Rl.tU(_)&&G[0]?G[0].ro[1]:null);if(d){var Z=U.S.Lg(d),B=t.j(Z.o());
t.Rc(U.N,U.S,B,Z);U.N=B;U.S=Z}}if(G[2]){var e=_&&!t.Rl.tU(_),P=G[2].J7.Q(),h=J.length==1&&P.O.length!=0,V=J.length==1&&P.FQ.length>1;
if(V)h=!1;var I=h?P.O:null,F=V?P.FQ:null;if(e){var c=t.Rl.LK(_);t.t.u(a,c[3]);t.I.axl(P.X,c,I,F)}else t.I.aqt(P.X,a,I,F);
if(Y.add.vstk&&m){Y.add.vstk.strokeStyleLineWidth.v.val=G[2].XZ.strokeStyleLineWidth.v.val*s;var D=G[2].PD;
if(D&&D.fH==3){D=t.b(D);var n=D.PD.phase.v;D.PD.Scl.v.val=Math.round(D.PD.Scl.v.val*s);n.Hrzn.v=Math.round(n.Hrzn.v*s);
n.Vrtc.v=Math.round(n.Vrtc.v*s);kf.v6(Y.add,D)}}if(Y.add.vogk){Y.add.vogk=t.b(G[2].fg);if(e||V)t.fg.aqL(Y.add.vogk);
else t.fg.u(Y.add.vogk,a,J.length>1?[]:P.O,m)}if(Y.add.vstl){var k=Y.add.vstl=JSON.parse(G[2].so);for(var b=0;
b<2;b++){var N=b==0?k.nz:k.s0;if(N==null||N[3]==null)continue;var L=N[3],R=new kp(L[0],L[1],L[2],L[3],L[4],L[5]);
R.concat(f);N[3]=[R.Jm,R.g,R.br,R.Bi,R._f,R.Ey]}}P.VU*=s;var i=new kp;i.rotate(P.W8);i.concat(f);P.W8=Math.atan2(-i.g,i.Jm);
Y.add.vmsk=P;if(Y.add.vogk)t.fg.ra(Y.add.vogk,Y.add.vmsk)}if(G[3]){var R=G[3].Q();R.concat(f);Y.add.TySh.u=R;
f5.GT(Y.add.TySh);i5.IS(Y,X.Rb)}if(G[4]){var v=Y.add.SoLd,E=o.fx.Bz(G[4].nonAffineTransform);t.t.u(a,E);
var u=t.G.Oi(E);if(gY.jg(E)){if(_){var C=t.G.Cs(t.Rl.LK(G[4].quiltWarp.v)[3]),B=t.t.bw(E,C),l=t.G.Cs(t.Rl.LK(_)[3]);
E=[l.x,l.y,l.x+l.r,l.y,l.x+l.r,l.y+l.$,l.x,l.y+l.$];t.t.u(B,E);v.quiltWarp.v=_}var x=t.t.bw(E),y=E;if(!t.t.Jb(x)){x[6]=x[7]=0;
y=[0,0,1,0,1,1,0,1];t.t.u(x,y)}v.Trnf=o.fx.qT(y);v.nonAffineTransform=o.fx.qT(E);if(v.filterFX)v.filterFX=t.b(G[4].filterFX);
o.fx.a1H(v,f);Y.el(M,W==0,X.Rb)}}if(G[5])o.fx.Gf(M,G[5],Y.uV(M).JS,W,a,_);if(G[7])o.fx.Gf(M,G[7],Y,W,a,_);
if(0<=j){if(!A)Y.Wn();Y.j$(M);Y.vV();if(Y.ws)Y.ws.ma=!0}}M.vV()};o.fx.Pm=function(M,X){var J=X.zQ(),q=0;
t.LH(M);var W=t.avn(M,X,.3,4);q=W[0];X=W[1];var T=M[q],_=M[q+1],m=t.qP(T),d=_.r,A=_.$,p=t.G.mP(_).d;
t.G.u(p,X,p);var a=t.G.Oi(p),f=t.j(a.o(),m),s=a.x,j=a.y,Y=a.r,G=a.$,Q=X.Q();Q.vN();var Z=Q.y8(new es(0,0)),g=Q.y8(new es(1,0)),S=g.x-Z.x,U=g.y-Z.y;
for(var B=0;B<G;B++){var e=Q.Jm*(s+.5)+Q.br*(B+j+.5)+Q._f,P=Q.g*(s+.5)+Q.Bi*(B+j+.5)+Q.Ey;if(m==8)for(var h=0;
h<Y;h++){if(.5<e&&e<d-.5&&.5<P&&P<A-.5)f[B*Y+h]=Math.floor(.5+t.t.a7$(e,P,T,d,A));e+=S;P+=U}else if(m==16)for(var h=0;
h<Y;h++){if(.5<e&&e<d-.5&&.5<P&&P<A-.5)f[B*Y+h]=Math.floor(.5+t.t.afY(e,P,T,d,A));e+=S;P+=U}else if(m==32)for(var h=0;
h<Y;h++){if(.5<e&&e<d-.5&&.5<P&&P<A-.5)f[B*Y+h]=t.t.afY(e,P,T,d,A);e+=S;P+=U}}return{S:a,N:f}};o.fx.gj=function(M,X,J,q,W){if(J==null)J=!1;
return o.fx.IA(M,J?0:1,t.t.WP(X),null,q,W,J)};o.fx.IA=function(M,X,J,q,W,T,_){if(_==null)_=!1;if(_&&T)throw"e";
var m=t.qP(M[0]),d={},p=0;if(q&&!t.Rl.tU(q)){var A=t.Rl.LK(q);t.t.u(J,A[3]);d.S=t.G.Oi(A[3]);d.buffer=t.j(d.S.o()*4,m);
t.BF.drawImage(A,M[0],M[1].Q(),t.Rl.Hg(q),d.buffer,d.S,X==0);return d}if(t.t.Jb(J)){t.uW(M);var a=.3,p=0,f=t.t.Gy(J),s=M[1],j=s.o()*f.zQ();
if(_&&j>4e6)a=j>8e6?2.2:1.2;var Y=t.avn(M,f,a,16);p=Y[0];J=t.t.WP(Y[1])}var G=M[p],s=M[p+1],Q=t.t.uM(J,t.t.WP(new kp(s.r,0,0,s.$,s.x,s.y))),Z=[0,0,1,0,1,1,0,1];
t.t.u(Q,Z);d.S=t.G.Oi(Z);if(T)d.S=d.S.Lg(T);if(_){while((d.S.r&3)!=0)d.S.r++;while((d.S.$&3)!=0)d.S.$++}if(!gY.jg(Z)||d.S.r>1e5||d.S.$>1e5||d.S.o()>3e4*3e4)return null;
var g=d.S.o()*4;if(m==8&&W&&W.byteLength>=g&&g>=W.byteLength>>2){d.buffer=new Uint8Array(W)}else{d.buffer=t.j(g,m)}t.t.drawImage(Q,G,s.r,s.$,d.buffer,d.S,X==0,_);
if(X==2&&d.buffer){var S=d.S.r,U=d.S.$,B;B=[0,-1,0,-1,16,-1,0,-1,0];B=t.BD.yA(B);var e=d.buffer.slice(0);
t.BD.Br(e,d.buffer,S,U,B,!0,!1)}if(d.buffer)return d};o.fx.Gf=function(M,X,J,q,W,T,_){var m=X.S,d=X.N;
if(_){m=_;d=X.Xu(m)}if(X.color==255)t.vN(d);var A=t.j(m.o()*4,M.depth);t.ix(d,A,3);var p=o.fx.IA([A,m],q,W,T);
if(p){J.S=p.S;J.N=t.j(p.S.o(),M.depth);t.SF(p.buffer,J.N,3);J.A8=!0}if(X.color==255){t.vN(d);if(p)t.vN(J.N)}};
o.fx.a1H=function(M,X){var J=M.filterFX;if(J)J=J.v.filterFXList;if(J)J=J.v;if(J)for(var q=0;q<J.length;
q++){var W=J[q].v.Fltr;if(W==null)continue;var T=W.v.classID;W=W.v;if(T!="rigidTransform"&&T!="blurbTransform")continue;
var _=[];for(var m=0;m<4;m++)_.push(W["PuX"+m].v,W["PuY"+m].v);var d=_.slice(0);t.G.u(_,X,_);for(var m=0;
m<4;m++){W["PuX"+m].v=_[m*2];W["PuY"+m].v=_[m*2+1]}if(T=="rigidTransform"){var A=["PinP","posFinalPins"],p=["originalVertexArray","deformedVertexArray"],a=W.puppetShapeList.v;
for(var f=0;f<a.length;f++){var s=a[f].v;for(var j=0;j<A.length;j++){var Y=o.fx.Bz(s[A[j]]);t.G.u(Y,X,Y);
s[A[j]]=o.fx.qT(Y);var G=new Uint8Array(s[p[j]].v),d=new Float32Array(G.buffer);t.G.u(d,X,d);var Q=[];
for(var Z=0;Z<G.length;Z++)Q[Z]=G[Z];s[p[j]].v=Q}}}if(T=="blurbTransform"){var g=t.qg._n(W);t.qg.u(g,X);
t.qg.Y6(g[0],W)}}};o.fx.Bz=function(M){var X=[],J=M.v.length;for(var $=0;$<J;$++)X.push(M.v[$].v);return X};
o.fx.qT=function(M){var X={t:"VlLs",v:[]},J=M.length;for(var $=0;$<J;$++)X.v.push({t:"doub",v:M[$]});
return X};o.fx.prototype.a4w=function(){var M=t.G.Cs(t.Rl.LK(this.TR.ol())[3]),X=t.t.bw(this.Di.PL(),this.uX),J=[M.x,M.y,M.x+M.r,M.y,M.x+M.r,M.y+M.$,M.x,M.y+M.$];
t.t.u(X,J);this.Di.W$(J);this.uX=M};o.fx.prototype.TK=function(){var M=t.t.bw(this.Di.PL(),this.uX);
if(this.PM)M=t.t.uM(M,t.t.WP(this.PM));return M};o.fx.prototype.YT=function(M,X,J,q){var W=this.TK();
W=t.t.uM(W,t.t.vN(this.Hq));var T=this.TR?this.TR.ol():null;if(this.i8==0){var _=this.va=t.t.Gy(W);if(this.id==o.Sd){var m=this.gE[0][0],d=m.ro,A=d[1],p=~~(A.r*Math.max(0,_.Jm)),a=~~(A.$*Math.max(0,_.Bi)),f=new gc(Math.round(_.Jm*A.x+_._f),Math.round(_.Bi*A.y+_.Ey),p,a),s=t.b1.u(this.pl,f),j=M.U[this.U[0]];
j.buffer=t.cY(s,M.depth);j.S=f;j.vV();M.vV()}else o.fx.BG(M,X,this.U,this.gE,J,W,T,null,null,q)}else if(this.i8==1){var Y=M.U[this.U[0]],A=this.Pc.Os;
if(Y.tD<=0){var G=this.Pc.b3,Q=this.E_,Z=null;if(T&&!t.Rl.tU(T)&&!Q.S.w6(A)){var s=t.j(Q.S.o()*4);t.fA(G,A,s,Q.S);
G=s;A=Q.S}if(this.id==o.Sd){var _=this.va=t.t.Gy(W),p=~~(A.r*Math.max(0,_.Jm)),a=~~(A.$*Math.max(0,_.Bi)),f=new gc(Math.round(_.Jm*A.x+_._f),Math.round(_.Bi*A.y+_.Ey),p,a),s=t.b1.u(this.pl,f);
Z={buffer:t.cY(s,M.depth),S:f}}else Z=o.fx.IA([G,A],J,W,T);if(Z){Y.Yb.dC=Z.buffer;Y.Yb.uF=Z.S;var g=t.j(Z.S.o());
t.SF(Y.Yb.dC,g,3);M.c={N:g,S:Y.Yb.uF.Q()}}}else{var S=t.j(A.o()*4);t.ix(this.Pc.b3,S,3);var Z=o.fx.IA([S,A],J,W,T);
if(Z){Y.Yb.dC=t.j(Z.S.o());t.SF(Z.buffer,Y.Yb.dC,3);Y.Yb.uF=Z.S}this.aDL(M,J,W,T)}Y.G$(M,0,0,M.c);if(J!=0){Y.Wn();
t.Wn(M.c)}M.E5=!0;M.vV()}else if(this.i8==2)this.aDL(M,J,W,T)};o.fx.prototype.aDL=function(M,X,J,q){var W=this.E_.S,T=t.j(W.o()*4);
t.ix(this.E_.N,T,3);var _=o.fx.IA([T,W],X,J,q),m=t.j(_.S.o());t.SF(_.buffer,m,3);M.c={N:m,S:_.S};M.E5=!0};
o.fx.prototype.disable=function(M,X,J,q){if(this.Di)this.j4(M,X,null,!0)};o.adj=function(){o.fx.call(this,[10,16],o.zS,"tools/transform")};
o.adj.prototype=new o.fx;o.a8E=function(){o.fx.call(this,[7,10],o.eB,"tools/transform")};o.a8E.prototype=new o.fx;
o.ahb=function(){o.fx.call(this,[10,48],o.Sd,"tools/transform")};o.ahb.prototype=new o.fx;o.OZ=function(M,X,J){o.bv.call(this,M?M:[10,40],X?X:o.ZT,J?J:"tools/slice");
this.iH=null;this.$y=null;this.aB={Y:0,x:0,y:0};this.kB=null;this.aaf=null;this.I5=null;this.rZ=null};
o.OZ.prototype=new o.bv;o.OZ.WR=function(M,X){var J=-1;for(var $=0;$<M.length;$++){var q=o.OZ.f9(M,$);
if(q[0]<=X.x&&X.x<=q[2]&&q[1]<=X.y&&X.y<=q[3]){J=$;break}}return J};o.OZ.prototype.dx=function(M,X,J,q,W){if(J==null)return;
this.ZM(J);if(M.h=="fromAction"){var T=M.xo,_=T.hC,m=T.Qd,d=J.ob(),A=J.WT(),p=A==-1?new gc(0,0,J.r,J.$):J.U[A].PH();
if(_=="divide"){if(J.ZN.length!=0){var a=J.ZN[0],f=o.OZ.f9(J.YY,a);p=new gc(f[0],f[1],f[2]-f[0],f[3]-f[1]);
J.YY.splice(a,1);J.ZN=[]}d=[[],[]];for(var s=0;s<2;s++){var j=["Across","Down"][s],Y=m["pixels"+j]?0:1,G=m[["pixels","slices"][Y]+j];
if(G==null)continue;G=G.v;var Q=s==0?p.x:p.y,Z=s==0?p.r:p.$;if(Y==0)for(var $=1;$*G<Z;$++){d[0].push([s,Q+$*G]);
d[1].push(A)}else{var g=Math.floor(Z/G);for(var $=1;$<G;$++){d[0].push([s,Q+$*g]);d[1].push(A)}}}}var S=[p.x,p.x+p.r],U=[p.y,p.y+p.$];
for(var $=0;$<d[0].length;$++){var B=d[0][$],e=Math.round(B[1]),P=d[1][$];if(P!=-1&&P!=A)continue;if(B[0]==0&&S.indexOf(e)==-1)S.push(e);
if(B[0]==1&&U.indexOf(e)==-1)U.push(e)}S.sort(function(N,L){return N-L});U.sort(function(N,L){return N-L});
for(var h=1;h<U.length;h++)for(var V=1;V<S.length;V++){J.YY.push(o.OZ.$t());o.OZ.Wf(J.YY,J.YY.length-1,[S[V-1],U[h-1],S[V],U[h]]);
J.fy=!0}}else if(M.h=="reorder"){if(J.ZN.length==0)return;var I=J.YY,F=J.ZN;F.sort(function(N,L){return N-L});
console.log(F);var c=I.slice(0),D=[],n=[];for(var $=0;$<F.length;$++){var a=F[$],k=I[a];n.push(k);c.splice(c.indexOf(k),1)}var b=Math.max(0,Math.min(c.length,F[0]-M.dir));
for(var $=0;$<n.length;$++){c.splice(b+$,0,n[$]);D.push(b+$)}J.YY=c;J.ZN=D}else if(M.h=="delete"){var I=J.YY.slice(0);
for(var $=0;$<J.ZN.length;$++)J.YY.splice(J.YY.indexOf(I[J.ZN[$]]),1);J.ZN=[]}else if(M.h=="deleteAll"){J.YY=[];
J.ZN=[]}else{J.YY[J.ZN[0]].v=M;J.fy=!0}this.Ln(J)};o.OZ.prototype.enable=function(M,X,J,q,W,T){o.bv.prototype.enable.call(this,M,X,J,q,W,T);
if(!J.QQ.YY){var _=new jb(r.E.C,!0);_.data={h:r.m.OA,iw:bN.rk};X.a(_)}};o.OZ.prototype.disable=function(){this.iH=null;
this.$y=null};o.OZ.prototype.aa=function(M,X,J,q,W){var T=M.k.Ob(W.x,W.y),_=o.OZ.WR(M.YY,T);if(_==-1)return;
this.iH=M;this.$y=X;M.ZN=[_];M.fy=!0;if(this.rZ==null){this.rZ=new an([{name:[5,4]},{name:[8,11,1],co:!0}]);
this.rZ.P("select",this.qn,this)}var m=this.rZ;m.parent=X;m.T();m.update(M,J);var d=new jb(r.E.C,!0);
d.data={h:r.m._5,kv:m,x:W.VY+2,y:W.VV+1};X.a(d)};o.OZ.prototype.qn=function(M){var X=this.rZ.gu()[0],J=this.iH;
if(X==0){this.ZM(J);J.YY.splice(J.ZN[0],1);J.ZN=[];J.fy=!0;this.Ln(J)}if(X==1){var q=new jb(r.E.C,!0);
q.data={h:r.m.SQ,bf:"soptions",K:J.YY[J.ZN[0]].v};this.$y.a(q)}};o.OZ.prototype.H_=function(M,X,J,q,W){if(M==null)return;
this.ZM(M);var T=M.k.Ob(W.x,W.y);T=o.UA.kZ(M,T,J,[!0,null,!1]);T.x=Math.round(T.x);T.y=Math.round(T.y);
this.I5=T;M.YY.unshift(o.OZ.$t());M.ZN=[0];o.OZ.Wf(M.YY,0,[T.x,T.y,T.x+20,T.y+20]);M.fy=!0};o.OZ.prototype.T_=function(M,X,J,q,W){if(this.kB==null)return;
var T=M.k.Ob(W.x,W.y),_=this.I5;T=o.UA.kZ(M,T,J,[!0,null,!1]);var m=o.QX.P9(_,T,q,!0,this.aB);_=m[0];
T=m[1];var d=[_.x,_.y,T.x,T.y];o.OZ.aHX(d);o.OZ.Wf(M.YY,0,d);M.fy=!0};o.OZ.prototype.fw=function(M,X,J,q,W){this.Ln(M);
this.I5=null};o.OZ.prototype.ZM=function(M){this.kB=JSON.stringify(M.YY);this.aaf=JSON.stringify(M.ZN)};
o.OZ.prototype.Ln=function(M){var X=JSON.stringify(M.YY);if(X!=this.kB){var J=new hY(this.name,this);
J.data={Pc:this.kB,NS:X,a8x:this.aaf,aj1:JSON.stringify(M.ZN)};M.Vr(J)}this.kB=null};o.OZ.prototype.df=function(M,X){X.YY=JSON.parse(M.Pc);
X.ZN=JSON.parse(M.a8x);X.fy=!0};o.OZ.prototype.AS=function(M,X){X.YY=JSON.parse(M.NS);X.ZN=JSON.parse(M.aj1);
X.fy=!0};o.OZ.prototype.Ei=function(M,X){return X!=null&&X.ZN.length!=0&&(M==hP.t3||M==hP.az)};o.OZ.prototype.KH=function(M,X,J,q){if(M==null)return;
if(q.M(hP.t3)||q.M(hP.az))this.dx({h:"delete"},X,M,q,J);var W=q.CG();if(W.x!=0||W.y!=0){this.ZM(M);o.OZ.XH(M,W);
this.Ln(M)}};o.OZ.prototype.Nn=function(M,X,J,q,W){this.aB=M._R};o.OZ.a5$=function(M,X,J,q){var W=new es(-X.x,-X.y),T=X.r/J.r,_=X.$/J.$,m=[0,0,X.r,X.$];
for(var $=0;$<M.length;$++){var d=o.OZ.f9(M,$);if(q){d[0]=Math.round(d[0]*T);d[1]=Math.round(d[1]*_);
d[2]=Math.round(d[2]*T);d[3]=Math.round(d[3]*_)}else{o.OZ.do(d,W);o.OZ.arg(d,m)}if(d[0]>=d[2]||d[1]>=d[3]){M.splice($,1);
$--;continue}o.OZ.Wf(M,$,d)}};o.OZ.XH=function(M,X){var J=M.YY;for(var $=0;$<M.ZN.length;$++){var q=o.OZ.f9(J,M.ZN[$]);
o.OZ.do(q,X);o.OZ.Wf(J,M.ZN[$],q)}};o.OZ.arg=function(M,X){if(M[0]<X[0])M[0]=X[0];if(M[1]<X[1])M[1]=X[1];
if(X[2]<M[2])M[2]=X[2];if(X[3]<M[3])M[3]=X[3]};o.OZ.do=function(M,X){M[0]=Math.round(M[0]+X.x);M[2]=Math.round(M[2]+X.x);
M[1]=Math.round(M[1]+X.y);M[3]=Math.round(M[3]+X.y)};o.OZ.Wf=function(M,$,X){var J=M[$].v.bounds.v;J.Left.v=X[0];
J.Top.v=X[1];J.Rght.v=X[2];J.Btom.v=X[3]};o.OZ.f9=function(M,$){var X=M[$].v.bounds.v;return[X.Left.v,X.Top.v,X.Rght.v,X.Btom.v,$]};
o.OZ.aHX=function(M){if(M[2]<M[0]){var X=M[0];M[0]=M[2];M[2]=X}if(M[2]==M[0])M[2]++;if(M[3]<M[1]){var X=M[1];
M[1]=M[3];M[3]=X}if(M[3]==M[1])M[3]++};o.OZ.Cs=function(M,X){var J=1e9,q=-1e9,W=1e9,T=-1e9;for(var $=0;
$<X.length;$++){var _=o.OZ.f9(M,X[$]);J=Math.min(J,_[0]);W=Math.min(W,_[1]);q=Math.max(q,_[2]);T=Math.max(T,_[3])}return[J,W,q,T]};
o.OZ.$t=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
o.Ij=function(){o.OZ.call(this,[10,41],o.FX,"tools/sselect");this.I5=null;this.Ak=null;this.KT=null;
this.rE=null;this.ad=!1};o.Ij.prototype=new o.OZ;o.Ij.prototype.H_=function(M,X,J,q,W){if(M==null)return;
var T=M.k.Ob(W.x,W.y),_=o.Ij.awp(T,4/M.k.r7,M.YY,M.ZN);_.pop();if(_.length!=0){this.I5=T;this.KT=_;this.ZM(M);
return}var m=M.YY,d=o.OZ.WR(m,T);if(d==-1)M.ZN=[];else{var A=M.ZN.indexOf(d);if(q.M(hP.HG)){if(A==-1)M.ZN.push(d);
else M.ZN.splice(A,1)}else{M.ZN.sort(function(Y,G){return Y-G});if(A==-1)M.ZN=[d];this.I5=T;this.ZM(M);
this.Ak=o.OZ.Cs(m,M.ZN);this.rE=[];for(var $=0;$<M.ZN.length;$++)this.rE.push(o.OZ.f9(m,M.ZN[$]));if(q.M(hP.Ke)){var p=m.slice(0),a=M.ZN,f=[];
for(var $=0;$<a.length;$++){var d=a[$],s=p[d],j=m.indexOf(s);f.push(j);m.splice(j,0,t.b(s))}M.ZN=f}}}M.fy=!0};
o.Ij.prototype.T_=function(M,X,J,q,W){var T=M.k.Ob(W.x,W.y);if(this.I5==null){var _=o.Ij.awp(T,4/M.k.r7,M.YY,M.ZN),m=_.pop(),d=_.length==0?"default":["ew","nwse","ns","nesw"][m]+"-resize",A=new jb(r.E.C,!0);
A.data={h:r.m.Hf,Ny:d};X.a(A);return}if(!this.ad&&T.w6(this.I5))return;this.ad=!0;var p=M.YY,_=this.KT;
if(_){T=o.UA.kZ(M,T,J,[!0,null,!1]);var a=Math.round(T.x),f=Math.round(T.y);for(var $=0;$<_.length;$+=2){var s=o.OZ.f9(p,_[$]),j=_[$+1];
s[j]=(j&1)==0?a:f;o.OZ.aHX(s);o.OZ.Wf(p,_[$],s)}}else{var Y=T.d7(this.I5),G=this.Ak.slice(0);o.OZ.do(G,Y);
var Q=new gc(G[0],G[1],G[2]-G[0],G[3]-G[1]),Z=o.UA.mq(M,Q,J,[!0,null,!1],!0);o.UA.ae(M,Q,Z);Y.x+=Z[0];
Y.y+=Z[1];for(var $=0;$<M.ZN.length;$++)o.OZ.Wf(p,M.ZN[$],this.rE[$]);o.OZ.XH(M,Y)}M.fy=!0};o.Ij.prototype.fw=function(M,X,J,q,W){if(this.I5==null)return;
this.Ln(M);M.aS.z3=null;M.fy=!0;this.I5=null;this.KT=null;this.rE=null;this.ad=!1};o.Ij.awp=function(M,X,J,q){var W=M.x,T=M.y,_=[],m=-1,d=[];
for(var $=0;$<q.length;$++){var A=q[$],p=o.OZ.f9(J,A),a=p[0],f=p[1],s=p[2],j=p[3];if(W<a-X||s+X<W||T<f-X||j+X<T)continue;
var Y=[W<a+X,T<f+X,s-X<W,j-X<T],G=-1;for(var Q=0;Q<4;Q++){if(Y[Q]&&Y[Q+1&3])G=1+2*(Q&1);if(Y[Q])_.push(A,Q)}if(G==-1){if(Y[0]||Y[2])G=0;
if(Y[1]||Y[3])G=2}if(G!=-1){m=G;d.push(A)}}var Z=_.length;for(var $=0;$<Z;$+=2){var A=_[$],g=_[$+1],S=o.OZ.f9(J,A)[g];
for(var Q=0;Q<q.length;Q++){var U=q[Q];if(d.indexOf(U)!=-1)continue;var p=o.OZ.f9(J,U);if(p[g&1]==S)_.push(U,g&1);
if(p[2+(g&1)]==S)_.push(U,2+(g&1))}}_.push(m);return _};o.ug=function(M,X,J){o.bv.call(this,M,X,J);this.AW=null;
this.adQ=null;this.kz=null;this.qu=null;this.TT=null;this.dq=null;this.bJ=null;this.GP=[]};o.ug.prototype=new o.bv;
o.ug.prototype.mG=function(){return!0};o.ug.BR=function(M){if(M==null)return!1;if(M.O.length!=1)return!1;
var X=M.U[M.O[0]];return X.add.SoLd||M.KE(!1)};o.ug.prototype.J$=function(M,X){return o.ug.BR(M)};o.ug.prototype.Ei=function(M,X){return M==hP.t3||M==hP.az};
o.ug.prototype.enable=function(M,X,J,q,W,T,_){this.adQ=T.iO;var m=T.iO,d,j=null;if(m){var A=M.U[m.w];
if(A.add.SoLd.filterFX!=null){var p=A.add.SoLd.filterFX.v.filterFXList.v;if(p[m.index])d=t.b(p[m.index].v.Fltr.v)}}var A=M.U[M.O[0]],a=A.buffer,f=A.S,s=A.add.SoLd;
if(s){var Y=s.nonAffineTransform.v;j=[];for(var $=0;$<4;$++)j.push(Y[$*2].v,Y[$*2+1].v);if(d==null)this._g("edit",X);
var G=A.uV(M);a=G.buffer;f=G.S}this.qu={buffer:a.slice(0),S:f.Q(),aGo:j};this.axV(d,M,X,T.hP);this.apX(X);
var Q=new jb(r.E.C,!0);Q.data={h:r.m.Hf,Ny:"default"};X.a(Q)};o.ug.prototype.apX=function(M){var X=new jb(r.E.C,!0);
X.data={h:r.m.ZQ,J:this.id,iw:this.TT};M.a(X)};o.ug.prototype.disable=function(M,X,J,q){if(this.dq)this.j4(M,X,!0)};
o.ug.prototype._g=function(M,X){var J=new jb(r.E.H,!0);J.J=o.ij;J.data={h:M,iO:this.adQ,AW:this.AW,tz:this.kz};
X.a(J)};o.ug.prototype.j4=function(M,X,J){this._g("confirm",X);this.escape(M,X,J)};o.ug.prototype.xb=function(M,X,J){this._g("cancel",X);
this.escape(M,X,J)};o.iQ=function(M,X,J){o.ug.call(this,[10,46],o.Ky,"tools/transform");this.AW="rigidTransform";
this.TT=[1,1,2,!0]};o.iQ.prototype=new o.ug;o.iQ.prototype.axV=function(M,X,J){this.kz=M?M:o.iQ.mc(this.qu,this.TT);
this.dq=o.iQ.qy(this.kz,this.TT);this.mQ();this.hV(X);if(M==null)this.IF(J)};o.iQ.prototype.mQ=function(M){var X=this.dq;
this.GP=[];for(var $=0;$<X.length;$++){var J=X[$];for(var q=0;q<J.O.length;q++)this.GP.push([$,J.O[$]]);
J.FO=t.xl.a5y(J);if(M)t.xl.av4(J)}};o.iQ.prototype.Nn=function(M,X,J,q){if(M.ys=="commit")this.j4(J,X,!0);
else if(M.ys=="cancel")this.xb(J,X,!0);else if(M.ys=="prm"){var W=!1;for(var $=0;$<3;$++)if(this.TT[$]!=M.iw[$])W=!0;
this.TT=M.iw;if(W){this.kz=o.iQ.mc(this.qu,this.TT,this.kz);this.dq=o.iQ.qy(this.kz,this.TT);this.mQ(!0);
this.IF(X)}this.hV(J)}else if(M.ys=="moveDepth"){var T=this.dq;for(var _=0;_<T.length;_++){var m=T[_];
for(var $=0;$<m.O.length;$++){var d=m.O[$];m.Hb[d]+=M.ax3?1:-1}}this.IF(X)}};o.iQ.prototype.KH=function(M,X,J,q){var W=q.CG();
if(q.M(hP.ej))this.j4(M,X,!0);else if(q.M(hP.ke))this.xb(M,X,!0);else if(q.M(hP.t3)||q.M(hP.az)){var T=this.dq;
for(var _=0;_<T.length;_++){var m=T[_];m.O.sort(function(p,a){return a-p});for(var $=0;$<m.O.length;
$++){var d=m.O[$],A=d*2;m.Hb.splice(d,1);m.lD.splice(d,1);m.nL.splice(d,1);m.ks.splice(d,1);m.at.splice(A,2);
m.KS.splice(A,2)}m.O=[];if(m.ks.length==0){m.Mu=m.sM.slice(0);m.eE=m.sM.slice(0)}}this.mQ(!0);this.IF(X);
this.hV(M)}else if(W.x!=0||W.y!=0){this.a7w(M,W.x,W.y,X);this.Sj=null}};o.iQ.prototype.escape=function(M,X,J){M.aS.Gn=null;
M.aS.Fm=[];M.aS.RY=[];M.fy=!0;this.dq=null;var q=new jb(r.E.C,!0);q.data={h:r.m.qb};if(J)X.a(q)};o.iQ.prototype.H_=function(M,X,J,q,W){var T=M.k.Ob(W.x,W.y),_=T.x,m=T.y,d=this.dq,A=null,p=[0,2,4,1.2,1.2,1.2],a=-1,f=o.lV(M,W);
for(var $=0;$<d.length;$++){var s=d[$],j=t.G.aG(s.KS,_,m,f);if(j!=-1)A=[$,j];if(a==-1&&t.xl.a19.a1V(s.eE,s.jw,_,m))a=$}if(A==null&&a!=-1){var s=d[a];
o.iQ.afQ(s,_,m,_,m,0);A=[a,s.ks.length-1];s.FO=t.xl.a5y(s)}this.bJ=T;if(A){var Y=d[A[0]].O.indexOf(A[1])!=-1;
if(q.M(hP.HG)&&!Y){d[A[0]].O.push(A[1]);this.GP.push(A)}else if(!Y){d[A[0]].O=[A[1]];this.GP=[A]}}this.hV(M)};
o.iQ.afQ=function(M,X,J,q,W,T){var _=t.G.aG(M.eE,X,J);M.ks.push(_);M.KS.push(q,W);M.at.push(M.eE[_*2]-X,M.eE[_*2+1]-J);
M.nL.push(0);M.lD.push(!1);M.Hb.push(T)};o.iQ.prototype.T_=function(M,X,J,q,W){var T=M.k.Ob(W.x,W.y),_=this.bJ;
if(_)this.a7w(M,T.x-_.x,T.y-_.y,X)};o.iQ.prototype.a7w=function(M,X,J,q){var W={},T=this.GP,_=this.dq;
if(this.Sj==null){this.Sj=[];for(var $=0;$<_.length;$++)this.Sj.push(_[$].KS.slice(0))}for(var $=0;$<T.length;
$++){var m=this.GP[$],d=m[0],A=_[m[0]],p=m[1]*2;A.KS[p+0]=this.Sj[d][p+0]+X;A.KS[p+1]=this.Sj[d][p+1]+J;
W[d]=d}for(var d in W)t.xl.av4(this.dq[W[d]]);this.hV(M);this.IF(q)};o.iQ.prototype.fw=function(M,X,J,q,W){this.bJ=null;
this.Sj=null};o.iQ.prototype.IF=function(M){o.iQ.a42(this.dq,this.TT,this.kz);this._g("edit",M)};o.iQ.prototype.hV=function(M){var X=this.dq,J=this.kz;
M.aS.Gn={d:[],C6:[]};M.aS.Fm=[];M.aS.RY=[];for(var $=0;$<X.length;$++){var q=X[$];for(var W=0;W<q.KS.length;
W+=2){var T=M.aS.RY;if(q.O.indexOf(W>>>1)!=-1)T=M.aS.Fm;T.push(q.KS[W],q.KS[W+1])}if(this.TT[3])t.G.concat(M.aS.Gn,t.G.aG5(q.eE,q.jw))}M.fy=!0};
o.iQ.mc=function(M,X,J){var q=M.buffer,W=M.S,T=M.aGo,_=fV.IH("rigidTransform");if(T)for(var $=0;$<4;
$++){_["PuX"+$].v=T[$*2];_["PuY"+$].v=T[$*2+1]}var m=_.puppetShapeList.v,d=t.xl.awK(q,W.r,W.$,X[1],X[2]),A=[];
for(var p=0;p<d.length;p++){var a={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
a.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var f=d[p];m.push({t:"Objc",v:a});var s=f.sM.slice(0);t.G.u(s,new kp(1,0,0,1,W.x,W.y),s);var j=f.jw;
for(var $=0;$<j.length;$+=3){var Y=j[$+1];j[$+1]=j[$+2];j[$+2]=Y}A.push({jw:j,sM:s,Mu:s,eE:s,ks:[],at:[],KS:[],FO:null,O:[],nL:[],lD:[],Hb:[]})}if(J){var G=o.iQ.qy(J,[]),Q=A[0];
for(var $=0;$<G.length;$++){var Z=G[$];for(var g=0;g<Z.O.length;g++)Q.O.push((Q.KS.length>>>1)+Z.O[g]);
for(var g=0;g<Z.ks.length;g++){var S=Z.ks[g]*2,U=Z.sM[S]-Z.at[g*2],B=Z.sM[S+1]-Z.at[g*2+1];o.iQ.afQ(Q,U,B,Z.KS[g*2],Z.KS[g*2+1],Z.Hb[g])}}}o.iQ.a42(A,X,_);
return _};o.iQ.qy=function(M,X){var J=o.fx.Bz,q=M.puppetShapeList.v,W=[];for(var T=0;T<q.length;T++){var _=q[T].v;
X[0]=_.meshRigidity.v-1;X[1]=_.meshQuality.v-1;X[2]=_.meshExpansion.v;var m=_.pinVertexIndices.v.length,d=_.meshBoundaryPath.v.pathComponents.v;
if(d.length!=0){var A=d[0].v.SbpL.v[0].v.Pts;A.v=[]}var p=new Uint32Array(new Uint8Array(_.indexArray.v).buffer),a=new Float32Array(new Uint8Array(_.originalVertexArray.v).buffer),f=new Float32Array(new Uint8Array(_.deformedVertexArray.v).buffer),s=[],j=[],Y=[];
for(var $=0;$<p.length;$++)s.push(p[$]);for(var $=0;$<a.length;$++){j.push(a[$]);Y.push(f[$])}var G=J(_.pinVertexIndices),Q=J(_.pinOffsets),Z=J(_.posFinalPins),g=J(_.PnRt),S=J(_.PnOv),U=J(_.PnDp),B=J(_.selectedPin);
W.push({jw:s,sM:j,Mu:Y.slice(0),eE:Y,ks:G,at:Q,KS:Z,FO:null,nL:g,lD:S,Hb:U,O:B})}return W};o.iQ.a42=function(M,X,J){function q(f,s){var j=[];
for(var $=0;$<f.length;$++)j.push({t:s,v:f[$]});return j}function W(f,s,j){var Y=new(j?Uint32Array:Float32Array)(f),G=new Uint8Array(Y.buffer);
for(var $=0;$<G.length;$++)s[$]=G[$]}var T=J.puppetShapeList.v;for(var _=0;_<T.length;_++){var m=M[_],d=T[_].v;
d.meshRigidity.v=X[0]+1;d.meshQuality.v=X[1]+1;d.meshExpansion.v=X[2];W(m.jw,d.indexArray.v,!0);W(m.sM,d.originalVertexArray.v);
W(m.eE,d.deformedVertexArray.v);var A=[];for(var $=0;$<m.ks.length;$++){var p=m.ks[$]*2,a=$*2;A[a]=m.sM[p]-m.at[a];
A[a+1]=m.sM[p+1]-m.at[a+1]}d.PinP.v=q(A,"doub");d.pinVertexIndices.v=q(m.ks,"long");d.pinOffsets.v=q(m.at,"doub");
d.posFinalPins.v=q(m.KS,"doub");d.PnRt.v=q(m.nL,"long");d.PnOv.v=q(m.lD,"bool");d.PnDp.v=q(m.Hb,"doub");
d.selectedPin.v=q(m.O,"long")}};o.Mo=function(){o.ug.call(this,"Blur Gallery",o.GV,"tools/ruler");this.AW="blurbTransform";
this.TT=[0,[],null];this.EF=-1};o.Mo.prototype=new o.ug;o.Mo.prototype.axV=function(M,X,J,q){this.dq={};
var W=M==null;if(M==null){M=fV.IH(this.AW);t.qg.aGh(M,q,X.r/2,X.$/2);var T=[!1,!1,!1,!1,!1,!1];T[q]=!0;
t.qg.atn(M,T)}this.kz=M;this.TT[0]=t.qg.aAu(M);this.TT[1]=t.qg.a7J(M);this.hV(X);if(W)this._g("edit",J)};
o.Mo.prototype.KH=function(M,X,J,q){if(q.M(hP.ej))this.j4(M,X,!0);else if(q.M(hP.ke))this.xb(M,X,!0);
else if(q.M(hP.t3)||q.M(hP.az)){var W=this.EF;if(W==-1)return;var T=this.TT[0],_=t.qg._n(this.kz)[0],m=_[T];
if(T==0)m.splice(W,1);if(T==1||T==5)m.splice(Math.floor(W/6),1);if(T==3)m.splice(Math.floor(W/5),1);
if(T==4)m.splice(Math.floor(W/4),1);t.qg.Y6(_,this.kz);t.qg.Pk(this.kz,T);this.EF=-1;this.hV(M);this._g("edit",X)}};
o.Mo.prototype.Nn=function(M,X,J,q){if(M.ys=="commit")this.j4(J,X,!0);else if(M.ys=="cancel")this.xb(J,X,!0);
else{this.TT=M.iw;var W=this.TT[0],T=this.EF;t.qg.atn(this.kz,this.TT[1]);if(this.TT[2]){var _=t.qg._n(this.kz)[0],m=_[W];
if(W==0)m[T][2]=this.TT[2][0];if(W==1||W==5)m[Math.floor(T/6)][14]=this.TT[2][0];if(W==3)m[Math.floor(T/5)][10]=this.TT[2][0];
if(W==4){m[0][4]=this.TT[2][0]/100;var d=(T&3)<2?0:5,A=m[Math.floor(T/4)],p=A[d],a=A[d+1],f=A[d+2]-p,s=A[d+3]-a,j=Math.sqrt(f*f+s*s),Y=this.TT[2][1];
if(j==0){A[d+2]=p+Y;A[d+3]=a}else{A[d+2]=p+Y*f/j;A[d+3]=a+Y*s/j}}t.qg.Y6(_,this.kz)}t.qg.Pk(this.kz,W);
this.hV(J);this._g("edit",X)}};o.Mo.prototype.escape=function(M,X,J){M.aS.E7=null;M.aS.OX=null;M.aS.Ur=null;
M.aS.Fm=[];M.aS.RY=[];M.fy=!0;this.dq=null;var q=new jb(r.E.C,!0);q.data={h:r.m.qb};if(J)X.a(q)};o.Mo.prototype.hV=function(M){var X=t.qg._n(this.kz)[0];
M.aS.Fm=[];M.aS.RY=[];var J=M.aS.E7={d:[],C6:[]},q=M.aS.OX={d:[],C6:[]},W=M.aS.Ur={d:[],C6:[]};this.GP=[];
this.a24=[];var T=this.TT[0],_=this.EF,m=X[T];for(var $=0;$<m.length;$++){var d=m[$];if(T==0){if($==_){M.aS.Fm.push(d[0],d[1]);
this.TT[2]=[d[2]]}else M.aS.RY.push(d[0],d[1]);this.a24.push([]);this.GP.push(d[0],d[1])}else if(T==1||T==5){var A=t.qg.aiU(d);
A.vN();var p=[0,-1,1,0,0,1,-1,0,0,0,1-d[10],0];t.G.u(p,A,p);for(var a=0;a<p.length;a+=2){if(_==$*6+(a>>>1)){M.aS.Fm.push(p[a],p[a+1]);
this.TT[2]=[d[14]]}else M.aS.RY.push(p[a],p[a+1]);this.GP.push(p[a],p[a+1])}var f=t.G.BM(t.I.bg.hQ(-1,-1,2,2));
t.G.concat(J,f,A)}else if(T==3){var s=d[0],j=d[1],Y=d[2]-d[0],G=d[3]-d[1],Q=Math.sqrt(Y*Y+G*G),Z=G*1e4/Q,g=-Y*1e4/Q;
for(var a=0;a<10;a+=2){if(_==$*5+(a>>>1)){M.aS.Fm.push(d[a],d[a+1]);this.TT[2]=[d[10]]}else M.aS.RY.push(d[a],d[a+1]);
this.GP.push(d[a],d[a+1]);if(a==0)continue;if(Math.floor(_/5)!=$)continue;J.d.push(d[a]-Z,d[a+1]-g,d[a]+Z,d[a+1]+g);
J.C6.push("M","L")}}else if(T==4){W.d.push(d[0],d[1],d[5],d[6]);W.C6.push("M","L");for(var a=0;a<2;a++){var S=a*5,s=d[S],j=d[S+1],U=d[S+2],B=d[S+3],Y=U-s,G=B-j,e=Math.sqrt(Y*Y+G*G),P=25;
if(e!=0){Y/=e;G/=e}if((_&14)==$*4+a*2){M.aS.Fm.push(s,j,U,B);this.TT[2]=[d[4]*100,e]}else M.aS.RY.push(s,j,U,B);
q.d.push(s,j,U,B);q.C6.push("M","L");this.GP.push(s,j,U,B);if(e==0)continue;var h=-Y*P*2,V=-G*P*2;q.d.push(U,B,U+(-G*P+h),B+(Y*P+V));
q.d.push(U,B,U+(G*P+h),B+(-Y*P+V));q.C6.push("M","L","M","L","M","L")}}}M.fy=!0};o.Mo.prototype.T_=function(M,X,J,q,W){function T(C,$,l){var B=C[$]-C[l],e=C[$+1]-C[l+1];
return Math.sqrt(B*B+e*e)}var _=M.k.Ob(W.x,W.y),m=t.G.aG(this.GP,_.x,_.y,6/M.k.r7);if(this.bJ){var d=this.EF,A=this.TT,p=A[0],a=t.qg._n(this.kz)[0],f=a[p];
if(p==0){f[d][0]=_.x;f[d][1]=_.y}if(p==1||p==5){var s=Math.floor(d/6),j=d-s*6,Y=f[s],G=T(Y,0,2)/2,Q=T(Y,2,4)/2,Z=Y[8],g=Y[9],S=Math.atan2(-Y[3]+Y[1],Y[2]-Y[0]),U=Y[10],B=_.x-Z,e=_.y-g,P=Math.sqrt(B*B+e*e);
if(j<4){S=Math.atan2(-e,B)+(-1+j)*Math.PI/2;if(j==0||j==2)Q=P;else G=P}if(j==4){Z=_.x;g=_.y}if(j==5)U=Math.max(0,Math.min(1,1-P/G));
var h=new kp;h.scale(G,Q);h.rotate(S);h.translate(Z,g);var V=f[s]=[-1,-1,1,-1,1,1,-1,1,0,0];t.G.u(V,h,V);
V.push(U,U,U,U,Y[14])}if(p==3){var s=Math.floor(d/5),j=d-s*5,Y=f[s],I=Y[0],F=Y[1],c=T(Y,0,2),D=T(Y,0,4),n=T(Y,0,6),k=T(Y,0,8),S=Math.atan2(-Y[3]+Y[1],Y[2]-Y[0]),B=_.x-I,e=_.y-F,P=Math.sqrt(B*B+e*e);
if(j==0){I=_.x;F=_.y}if(j==1)c=Math.max(n*1.1,P);if(j==2)D=Math.max(k*1.1,P);if(j==3)n=Math.min(c,P);
if(j==4)k=Math.min(D,P);if(j==1)S=Math.atan2(-e,B);if(j==2)S=Math.atan2(e,-B);var V=f[s]=[0,0,-c,0,D,0,-n,0,k,0],h=new kp;
h.rotate(S+Math.PI);h.translate(I,F);t.G.u(V,h,V);V.push(Y[10])}if(p==4){var s=Math.floor(d/4),j=d-s*4,Y=f[s],b=j<2?0:5;
if((j&1)==0){var L=[Y[2]-Y[0],Y[3]-Y[1],Y[7]-Y[5],Y[8]-Y[6]],R=Math.atan2(-(Y[6]-Y[1]),Y[5]-Y[0]);Y[b]=_.x;
Y[b+1]=_.y;var i=Math.atan2(-(Y[6]-Y[1]),Y[5]-Y[0]),h=new kp;h.rotate(i-R);for(var $=0;$<2;$++){var v=new es(L[$*2],L[$*2+1]);
v=h.y8(v);Y[$*5+2]=Y[$*5]+v.x;Y[$*5+3]=Y[$*5+1]+v.y}}else{Y[b+2]=_.x;Y[b+3]=_.y}}t.qg.Y6(a,this.kz);
t.qg.Pk(this.kz,p);this.hV(M)}else{var E="default";if(m!=-1)E="pointer";var u=new jb(r.E.C,!0);u.data={h:r.m.Hf,Ny:E};
X.a(u)}};o.Mo.prototype.H_=function(M,X,J,q,W){var T=this.TT[0],_=M.k.Ob(W.x,W.y),m=_.x,d=_.y,A=t.G.aG(this.GP,m,d,10/M.k.r7);
if(A==-1){A=t.qg.aGh(this.kz,T,m,d)}this.bJ=_;this.EF=A;this.hV(M)};o.Mo.prototype.fw=function(M,X,J,q,W){if(this.bJ){this._g("edit",X);
this.apX(X)}this.bJ=null};o.O9=function(){o.Gp.call(this,[10,44],o.aot,"tools/oselect");this.FU="crosshair";
this.axU=0};o.O9.prototype=new o.Gp;o.O9.prototype.Wk=function(M,X,J,q){if(Math.random()<1/(1+this.axU)){alert("The cross should be fully inside the object.",3500);
this.axU++}};o.O9.prototype.yf=function(M,X,J,q){o.D4.C4(M,o.Gp.uc,this.$y);if(!q.kJ||!this.rw)return;
var W=this.Hg(M,J,!1),T=W.r,_=W.$,m=W.x,d=W.y,A=W.x+T,p=W.y+_,a=m+T/2,f=d+_/2,s=o.O9.a8b;M.aS.Gn={d:[m,d,A,d,A,p,m,p,a-T*s,f,a+T*s,f,a,f-_*s,a,f+_*s],C6:"M L L L Z M L M L".split(" ")};
M.fy=!0};o.O9.a8b=.12;o.O9.prototype.BY=function(M,X,J,q){M.aS.Gn=null;M.fy=!0;this.finish(M,X,J,q)};
o.O9.prototype.getSelection=function(M,X,J,q){if(this.fi.w6(this.EE)||!this.rw)return null;var W=this.Hg(M,J,!1),T=M.U[M.O[0]];
if(W.M5()||!W.B8(T.S))return null;return o.Gp.dS("ObSl",W)};o.D4=function(){o.X_.call(this,[10,37],o.OE,"tools/qselect");
this.yQ="qselect"};o.D4.prototype=new o.X_;o.D4.prototype.H_=function(M,X,J,q,W){if(M.O.length==0){alert("Select a layer first.");
return}o.D4.C4(M,o.Gp.uc,X,!0);this.it(M,J,q,W,1);if(this.Pe==null)return;this.Vj(M)};o.D4.prototype.T_=function(M,X,J,q,W){this.iZ(M,X,J);
o.D4.C4(M,o.Gp.uc,X);if(this.lJ)this.aM(M,J,W);if(this.Pe==null)return;if(!W.kJ)return;var T=this.RF(M,J,q,W);
if(T!=1)this.Vj(M)};o.D4.C4=function(M,X,J,q){if(M.O.length==0)return;if(M&&X.key!=o.D4.Jg(M)){X.key=o.D4.Jg(M);
var W=M.U[M.O[0]].S.o(),_="Image Analysis ...";if(W==0)return;var T=W>1e6&&q!=!0,m=new jb(r.E.C,!0);
m.data={h:r.m.cg,Ca:_};if(T)J.a(m);var d=function(){var A=o.D4.a7f(M);for(var p in A)X[p]=A[p];var m=new jb(r.E.C,!0);
m.data={h:r.m.eC,Ca:_};if(T)J.a(m)};if(q)d();else setTimeout(d,30)}};o.D4.Jg=function(M){var X=M.O[0],J=M.U[X],q=J.S,W=q.r,T=q.$,_=W*T,m=J.buffer;
return[X,q.x,q.y,W,T,m[0],m[1],m[2],m[3]].join(",")};o.D4.a7f=function(M){var X=M.O[0],J=M.U[X],q=J.S,W=q.r,T=q.$,_=W*T,m=J.buffer,d=Date.now(),A=t.j(_);
A.fill(128);var p=t.GI.Cj(m,W,T);console.log(Date.now()-d);var a={key:o.D4.Jg(M),QL:m,S:q.Q(),a3:W,oz:T,k9:12,r1:A,rY:p,c:t.j(_),MM:null,Q9:null,vz:null};
o.D4.R_(a,null,M);return a};o.D4.R_=function(M,X,J){var q=M.a3,W=M.oz,T=0,_=0,m=Date.now(),d=M.MM!=null&&t.GI.Ez(M.MM.jw,M.MM.q9,M.r1)==-1;
T=Date.now()-m;m=Date.now();if(!d){var A=t.GI.Ez(M.rY.jw,M.rY.q9,M.r1),p=0;while(A!=-1){var a=[],f=[],s=M.rY.jw;
for(var j=0;j<W;j++)for(var Y=0;Y<q;Y++){var $=j*q+Y;if(s[$]==A){var G=M.r1[$];if(G==0)a.push(Y,j);if(G==255)f.push(Y,j)}}var Q=J.U[J.O[0]],Z=Q.buffer;
t.GI.Cj.yI(Z,q,W,M.rY,a,f);A=t.GI.Ez(M.rY.jw,M.rY.q9,M.r1);p++;if(p>=10){console.log("too many subdivisions");
break}}M.MM=t.GI.zH(M.rY,q,W,M.r1,M.k9);M.Q9=t.GI.a2R(M.QL,q,W,M.MM.jw,M.MM.q9);M.vz=[M.Q9[0].slice(0),[]];
_=Date.now()-m;m=Date.now()}var m=Date.now();if(X){M.vz[0].set(M.Q9[0]);var g=M.Q9[1],S=M.vz[1];for(var U=0;
U<g.length;U++)S[U]=g[U].slice(0);t.GI.aCn(M.MM.jw,q,W,M.MM.q9,M.r1,M.c,M.vz)}};o.rq=function(){o.bv.call(this,[10,50],o.Kr,"tools/artb");
this.ip=null;this.lR=!1;this.Di=null;this.eK=!1;this.atg=null;this.s9=100;this.SM=null;this.T5=0};o.rq.prototype=new o.bv;
o.rq.prototype.dx=function(M,X,J,q,W){this.jV(J,M.ap0,X,M.Em)};o.rq.a7p=function(M,X){var J=M[0],q=0,W=0;
if(J==0)W=-1;else if(J==1)q=1;else if(J==2)W=1;else q=-1;return[20/X.Yu,M[1]+q*60/X.Yu,M[2]+W*60/X.Yu]};
o.rq.prototype.Nn=function(M,X,J,q,W){this.ip=M.iw;this.T5=Date.now()};o.rq.prototype.qc=function(M,X,J,q){if(J.Rk!=this.id)return;
if(M==null||M.O.length!=1){this.ap(M);return}var W=M.O[0],T=M.U[W],_=T.add.artb;if(_==null){this.ap(M);
return}if(this.eK)return;if(Date.now()-this.T5>50){this.ip={};var m=["artboardBackgroundType","Clr"];
for(var $=0;$<m.length;$++)if(_[m[$]])this.ip[m[$]]=t.b(_[m[$]]);var d=new jb(r.E.C,!0);d.data={h:r.m.ZQ,J:this.id,f4:this.ip};
X.a(d)}var A=T.PH(),p=t.G.mP(A).d,a=this.Di=new gY(p,!0,!1,!1,!0,!1,3,!1);a.kW(M,J,!1);var f={d:[1,0],C6:["M"]};
for(var $=1;$<30;$++){var s=Math.PI*2*$/30;f.d.push(Math.cos(s),Math.sin(s));f.C6.push("L")}f.C6.push("Z","M","L","M","L");
f.d.push(-.5,0,.5,0,0,-.5,0,.5);var j=A.x+A.r/2,Y=A.y+A.$/2,G=this.s9*1.1,Q=this.atg=[j,A.y,A.x+A.r,Y,j,A.y+A.$,A.x,Y],Z=[0,-G,G,0,0,G,-G,0],g=M.root.children;
M.aS.B$=[];for(var $=0;$<4;$++){var S=new es(Q[$*2]+Z[$*2],Q[$*2+1]+Z[$*2+1]),U=!1;for(var B=0;B<g.length;
B++){var T=g[B].w;if(T.add.artb==null)continue;var A=T.PH();if(A.ZO(S))U=!0}if(U){Q[$*2]=1e9;continue}M.aS.B$.push([$,Q[$*2],Q[$*2+1]])}};
o.rq.prototype.disable=function(M,X,J,q,W){this.ap(M)};o.rq.prototype.ap=function(M){if(this.Di){this.Di.clear(M);
this.Di=null;M.aS.B$=null}};o.rq.prototype.H_=function(M,X,J,q,W){this.T5=Date.now();var T=M.k.Ob(W.x,W.y),_=this.Di;
if(_){var m=new jb(r.E.H),d=_.tR(null,T,M,W);if(d<9){this.eK=_.H_(M,J,q,T,null,!0,W);return}else if(_.Ui(T)){m.J=o.oa;
m.data={h:"disabAuto"};X.a(m);var A=new jb(r.E.C);A.data={h:r.m.ga,J:o.oa,a1t:!0};X.a(A);return}else{var p=-1,a=M.aS.B$;
for(var $=0;$<a.length;$++){var f=o.rq.a7p(a[$],M.k);if(es.Yq(T,new es(f[1],f[2]))<f[0])p=a[$][0]}if(p!=-1){var s=M.U[M.O[0]].PH(),j=s.Q(),Y=(p==0||p==2?s.$:s.r)+this.s9;
if(p==0||p==3)Y=-Y;if(p==0||p==2)s.y+=Y;else s.x+=Y;if(q.M(hP.Ke)){var G=new gc(0,0,M.r,M.$);m.J=o.HX;
m.data={h:K.T0};X.a(m);o.UA.ax(M,M.AX(null,M.O[0],null,!0),null,s.x-j.x,s.y-j.y);M.O=M.O.slice(M.O.length-1);
var Q=o.VN.Eh(M);if(Q){var Z=M.pC();Z.data.uX=G;Z.data.FY=Q;Z.data.zN=M.O}}else this.jV(M,s,X);return}}}this.SM=o.UA.kZ(M,T,J)};
o.rq.prototype.jV=function(M,X,J,q){if(q==null)q=0;var W=M.U.slice(0),T=[M.U.length+1],_=M.C0();_.EC(kd.get([1,16,0])+" "+(M.add.artd==null?1:M.root.children.length+1));
_.add.lsct=gO.A$;_.oQ(X);if(this.ip){var m=_.add.artb,d=this.ip;for(var A in d)m[A]=d[A]}_.Sw="pass";
_.l4=24;if(q==0){if(M.add.artd||X.Lg(new gc(0,0,M.r,M.$)).M5())W.push(M.mm());else W.unshift(M.mm())}else{var p=M.AX();
p.sort(function(Y,G){return Y-G});var a=o.Cv.VD(M,p,W.length-1,!1,null,!1),f=a.pop(),s=a.pop();W=a.pop();
W.splice(M.U.length-p.length,0,M.mm())}W.push(_);var j=new jb(r.E.H);j.J=o.HX;j.data={h:K.Su,f_:W,cD:T,AC:[1,16,2]};
J.a(j)};o.rq.prototype.T_=function(M,X,J,q,W){var T=M.k.Ob(W.x,W.y),_=this.Di,m=this.SM;if(_){if(this.eK){_.T_(M,J,q,T)}else{var d=_.WV(T,M.k.r7,null,W);
if(d==null)d="default";var A=new jb(r.E.C,!0);A.data={h:r.m.Hf,Ny:d};X.a(A)}}if(m){var p=this.f9(M,T,q,J);
M.aS.Gn=t.G.mP(p);M.fy=!0;o.bv.wX(W,p,M,J)}};o.rq.prototype.fw=function(M,X,J,q,W){var T=M.k.Ob(W.x,W.y),_=this.SM;
if(this.eK){this.Di.fw(M,J,q,T);this.eK=!1;var m=t.G.Oi(this.Di.PL()),d=K.JO(m),A=M.U[M.O[0]],p=t.b(A.add.artb);
p.artboardRect.v=d;var a=new jb(r.E.H,!0);a.J=o.HX;a.data={h:K.Mp,On:p};X.a(a)}if(_){var f=this.f9(M,T,q,J);
if(f.o()>20)this.jV(M,f,X);M.aS.Gn=null;M.fy=!0;this.SM=null;M.aS.Lh=[]}};o.rq.prototype.f9=function(M,X,J,q){var W=this.SM,T=o.UA.kZ(M,X,q),_=o.QX.P9(W,T,J,!0);
W=_[0];T=_[1];return t.G.Oi([W.x,W.y,T.x,T.y])};o.xF=function(){o.bv.call(this,[10,50],o.Bu,"tools/artb");
this.Di=null;this.r2=!1;this.f=null;this.Et=null;this.o3=null;this.cA=null;this.axt=null;this.j0=null;
this.SD=null};o.xF.prototype=new o.bv;o.xF.prototype.Ei=function(M,X){return M==hP.t3||M==hP.az};o.xF.prototype.KH=function(M,X,J,q){if(q.M(hP.t3)||q.M(hP.az))this.dx({h:"del"},X,M,q,J)};
o.xF.prototype.dx=function(M,X,J,q,W){var T=J.add.arts;this.Et=JSON.stringify(T);if(M.h=="del"){for(var $=0;
$<T.length;$++)if(T[$].O){T.splice($,1);$--}}if(M.h=="new"){for(var $=0;$<T.length;$++)T[$].O=!1;var _=J.Vo(),m=_.x+_.r+20;
T.push({HH:"Artboard "+(T.length+1),ny:[m,_.y,m+100,_.y+100],O:!0})}if(M.h=="rpl"){var d=0;for(var $=0;
$<T.length;$++)if(T[$].O)d=$;T[d]=M.K}this.aqk(J);this.wK(J)};o.xF.prototype.disable=function(M,X,J,q,W){this.r2=!1};
o.xF.prototype.enable=function(M,X,J,q,W){this.r2=!0;this.f=J;this.wK(M)};o.xF.prototype.ap=function(M){};
o.xF.prototype.H_=function(M,X,J,q,W){var T=this.SD=M.k.Ob(W.x,W.y),_=M.add.arts;this.Et=JSON.stringify(_);
var m=this.Di,d=m?m.WV(T,M.k.r7,null,W):null,A=q.M(hP.WM)||q.M(hP.HG);if(m&&!A&&(t.G.Cs(m.PL()).ZO(T)||d)){}else{var p=-1;
for(var $=0;$<_.length;$++)if(t.G.Cs(_[$].ny).ZO(T))p=$;if(p==-1)this.Dy(M,-1);else if(A)_[p].O=!_[p].O;
else this.Dy(M,p);this.wK(M)}if(this.Di){this.Di.H_(M,J,q,T,null,!0,W)}M.fy=!0};o.xF.prototype.T_=function(M,X,J,q,W){var T=M.k.Ob(W.x,W.y),_=M.add.arts,m=JSON.parse(this.o3);
if(this.Di){this.Di.T_(M,J,q,T);if(W.kJ){var d=t.G.Cs(this.Di.PL()),A=this.axt,p=new kp;p.translate(-A.x,-A.y);
p.scale(d.r/A.r,d.$/A.$);p.translate(d.x,d.y);var a=this.Di.tR(q,T,M,W);for(var $=0;$<_.length;$++){var f=_[$];
if(!f.O)continue;if(t.G.Cs(m[$].ny).M5())f.ny=[d.x,d.y,d.x+d.r,d.y+d.$];else{f.ny=m[$].ny.slice(0);t.G.u(f.ny,p,f.ny)}}if(a==10){o.UA.ax(M,this.cA,null,d.x-this.j0.x,d.y-this.j0.y);
this.j0=d}M.vV()}var s="default",j=this.Di.WV(T,M.k.r7,null,W);if(j)s=j;var Y=new jb(r.E.C,!0);Y.data={h:r.m.Hf,Ny:s};
X.a(Y)}else if(W.kJ&&es.Yq(T,this.SD)>=6/M.k.r7){_.push({HH:"Artboard "+(_.length+1),ny:[0,0,0,0],O:!0});
this.wK(M);this.Di.H_(M,J,q,this.SD,null,!0,W)}};o.xF.prototype.fw=function(M,X,J,q,W){var T=M.k.Ob(W.x,W.y),_=M.add.arts,m=JSON.parse(this.o3),d=q.M(hP.WM)||q.M(hP.HG);
if(!d&&es.Yq(this.SD,T)<6/M.k.r7){var A=-1;for(var $=0;$<_.length;$++)if(t.G.Cs(_[$].ny).ZO(T))A=$;if(A!=-1){this.Dy(M,A);
this.wK(M)}if(t.G.Cs(m[m.length-1].ny).M5()){this.Di.clear(M);_.pop()}}if(this.Di){var p=this.Di.tR(q,T,M,W);
this.Di.fw(M,J,q,T);if(!T.w6(this.SD))this.aqk(M,p==10?T.d7(this.SD):null)}};o.xF.prototype.aqk=function(M,X){var J=new hY([10,50],this);
J.data={vc:this.Et,Nz:JSON.stringify(M.add.arts)};if(X){J.data.O=this.cA;J.data.nM=X}M.Vr(J)};o.xF.prototype.wK=function(M){var X=M.add.arts,J=new gc,q=0,W=[];
for(var $=0;$<X.length;$++)if(X[$].O){var T=t.G.Cs(X[$].ny);J=J.m0(T);M.root.Rx(T,W);q++}if(q==0){if(this.Di)this.Di.clear(M);
M.fy=!0;this.Di=null;return}this.o3=JSON.stringify(X);this.cA=W;this.axt=this.j0=J;var _=t.G.mP(J).d;
this.Di=new gY(J.M5()?null:_,!0,!1,!1,!1,!1,3);if(!J.M5())this.Di.kW(M,this.f)};o.xF.prototype.Dy=function(M,X){var J=M.add.arts;
for(var $=0;$<J.length;$++)J[$].O=X==$};o.xF.prototype.AS=function(M,X){X.add.arts=JSON.parse(M.Nz);
if(M.O)o.UA.ax(X,M.O,null,M.nM.x,M.nM.y);if(this.r2)this.wK(X);X.fy};o.xF.prototype.df=function(M,X){X.add.arts=JSON.parse(M.vc);
if(M.O)o.UA.ax(X,M.O,null,-M.nM.x,-M.nM.y);if(this.r2)this.wK(X);X.fy};function gY(M,X,J,q,W,T,_,m){this.MA=null;
this.mO=M?M.slice(0):null;this.Xo=1;this.X2=4;this.EE=null;this.W4=null;this.kd=null;this.EF=-1;this.bJ=null;
this.ag6=!1;this.a0W=[];for(var $=0;$<8;$++)this.a0W.push(h1.aBR(0,PIMG.rotate,-.5,-.5,-45-$*45));this.aja=X;
this.aum=J;this.a8L=q;this.agT=W;this.aws=T;this.Em=_;this.aFQ=m==null?1:m}gY.prototype.akj=function(){return this.EF!=-1};
gY.prototype.PL=function(){return this.mO.slice(0)};gY.prototype.W$=function(M){this.mO=M};gY.prototype.a0g=function(){return this.EB(this.mO)};
gY.prototype.aFp=function(){return this.X2};gY.prototype.a71=function(M){this.X2=M};gY.prototype.Sx=function(M){if(M==null)M=this.mO;
if(this.X2==9)return this.EE;else return this.EB(M)[this.X2]};gY.prototype.af5=function(M){if(this.X2==9)this.EE=M.Q();
else{var X=this.Sx(),J=new kp(1,0,0,1,M.x-X.x,M.y-X.y);t.G.u(this.mO,J,this.mO)}};gY.prototype.rh=function(M){this.Xo=M};
gY.prototype.WV=function(M,X,J,q,W){var T=this.l2(null,M,X,q),_;if(T==9)return"default";if(T==10){if(J)return null;
return!this.aja?"move":null}if(T==-1||T==4)return null;if(T==11){var m=this.Sx().d7(M);if(W==null)W=Math.atan2(m.y,m.x);
_=90-W*180/Math.PI;var d=Math.round(8*(_/360));d=(d+8)%8;return this.a0W[d]}else{var A=this.Tp(M,this.mO);
_=[135,90,45,180,0,0,225,270,315][T]*Math.PI/180;var p=t.t.bw(this.mO);return gY.aem(p[0],p[3],_)}};
gY.aem=function(M,X,J){var q=Math.atan2(-X,M);if(J)q+=J;var W="ew nesw ns nwse ew nesw ns nwse".split(" "),T=Math.round(8*(q/(2*Math.PI)));
T=(T+8)%8;return W[T]+"-resize"};gY.prototype.Tp=function(M,X){var J=t.t.vN(t.t.bw(X)),q=new Float64Array(2);
t.t.l8(M.x,M.y,J,q);return new es(q[0],q[1])};gY.prototype.Ui=function(M){var X=this.Tp(M,this.mO);return 0<=X.x&&X.x<=1&&0<=X.y&&X.y<=1};
gY.prototype.H_=function(M,X,J,q,W,T,_,m){this.ag6=T;this.bJ=q;var d=M.k.r7,A;if(this.mO==null)q=o.UA.kZ(M,q,X);
this.kd=q.Q();if(this.mO==null){if(m==null)m=0;var p=new kp;p.rotate(m);var a=p.y8(new es(1,1));this.kd.offset(a.x,a.y);
var f=W==null?1:1/W,s=this.mO=[0,0,1,0,1,f,0,f];p.translate(q.x,q.y);t.G.u(this.mO,p,this.mO);A=8}else{A=this.l2(J,q,d,_);
if(0<=A&&A<=8)this.kd=this.EB(this.mO)[A];if(A==9){this.X2=9;this.EE=q.Q()}}this.MA=this.mO.slice(0);
this.EF=A;this.kW(M,X);this.W4=this.Sx();return A!=-1};gY.prototype.tR=function(M,X,J,q){return this.l2(M,X,J.k.r7,q)};
gY.prototype.l2=function(M,X,J,q){var W=-1,T=this.EB(),_=[0,2,6,8,1,3,5,7],m=q?o.lV({k:{r7:J}},q):8*o.pv()/J,d=es.Yq(T[0],T[2]),A=es.Yq(T[0],T[6]),p=this.Tp(X,this.mO);
p.x*=d;p.y*=A;var a=new gc(0,0,d,A);a.$K(m,m);if(W==-1)if(es.Yq(this.Sx(),X)<m)W=9;if(W==-1)for(var $=0;
$<_.length;$++)if(es.Yq(T[_[$]],X)<m)W=_[$];if(W==-1&&a.ZO(p)){if(Math.abs(p.y-0)<m)W=1;if(Math.abs(p.x-0)<m)W=3;
if(Math.abs(p.y-A)<m)W=7;if(Math.abs(p.x-d)<m)W=5}if(W==-1&&M&&M.M(hP.Ke))W=9;if(W==-1||this.Em==4){if(this.Ui(X)){if(this.aja)W=10}else{var f=[3,.85][gj];
a.$K(f*m,f*m);W=a.ZO(p)&&this.Em!=3?11:10;if(W==10&&gj==1)W=-1}}return W};gY.prototype.T_=function(M,X,J,q,W){if(this.EF==-1)return;
this.bJ=q;var T=J&&J.M(hP.HG),_=J&&J.M(hP.Ke),m=J&&J.M(hP.WM),d=M.k.r7,A=this.kd,p=this.EF,a=this.EB(),f=o.UA.kZ(M,A,X),s=o.UA.kZ(M,q,X),j,Y;
if(p==9){var a=this.EB(),G=-1;for(var $=0;$<a.length;$++)if(es.Yq(a[$],s)*d<10)G=$;this.X2=G==-1?9:G;
this.EE=T?o.kO.gK(f,s):s.Q()}else if(p==10){Y=t.G.Cs(this.MA);var Q=Y.x,Z=Y.y;Y.offset(q.x-A.x,q.y-A.y);
if(this.ajT()){Y.x=Math.round(Y.x);Y.y=Math.round(Y.y)}j=o.UA.mq(M,Y,X);var g=new kp(1,0,0,1,Y.x-Q+j[0],Y.y-Z+j[1]);
t.G.u(this.MA,g,this.mO)}else if(p==11){var S=this.Sx(this.MA),U=S.d7(q),B=S.d7(A),e=Math.atan2(U.y,U.x),P=Math.atan2(B.y,B.x),g=new kp(1,0,0,1,-S.x,-S.y),h=Math.PI/12;
if(T)g.rotate(Math.round((P-e)/h)*h);else g.rotate(P-e);g.translate(S.x,S.y);t.G.u(this.MA,g,this.mO)}else{var V=T,I;
if(W&&!m)V=!V;if(this.aws)V=!0;var F=this.MA,c=p==0||p==2||p==6||p==8;if(this.Em==1){if(c)T=_=m=!0}else if(this.Em==2&&c&&this.ag6!=!0)m=!0;
if(this.Em==3)m=!1;else if(this.Em==5){T=m=!0}if(this.a8L&&c&&m){var $=[0,0,2,0,0,0,6,0,4,0][p],D=-1,n=s.x,k=s.y;
if(T){var b=$+6&7,N=$+10&7,L=gY.aq0(F[$],F[$+1],F[b],F[b+1],s.x,s.y),R=gY.aq0(F[$],F[$+1],F[N],F[N+1],s.x,s.y),i=L[2]<R[2]?L:R;
n=i[0];k=i[1];if(_)D=L[2]<R[2]?b:N}else if(_)D=$+4&7;I=F.slice(0);if(D!=-1){var v=F[D],E=F[D+1],u=(F[$]+v)/2,C=(F[$+1]+E)/2;
I[D]=u-(n-u);I[D+1]=C-(k-C)}I[$]=n;I[$+1]=k}else if(c&&_){var S=this.W4,l=S.x,x=S.y,y=f.x-l,ge=f.y-x,O=1,kz=1;
if(Math.abs(y)>=1)O=(s.x-l)/y;if(Math.abs(ge)>=1)kz=(s.y-x)/ge;if(V)O=kz=(O+kz)/2;var g=new kp;g.translate(-l,-x);
g.scale(O,kz);g.translate(l,x);I=F.slice(0);t.G.u(I,g,I)}else{if(this.ajT()){s.x=Math.round(s.x);s.y=Math.round(s.y)}var z=[0,1,2,5,8,7,6,3],eZ=z[(z.indexOf(p)+4)%8],kM=[];
for(var $=0;$<3;$++)for(var D=0;D<3;D++)kM.push(new es(D/2,$/2));var S=this.W4,jV=_&&(this.X2==4||this.X2==9)?this.Tp(S,F):kM[eZ],cL=_&&(this.X2==4||this.X2==9)?S:a[eZ];
if(c&&V){function aw(cj,bb,c0){var cV=bb[0]-cj[0],g_=bb[1]-cj[1],hx=t.G.n5(c0[0],c0[1],-g_,cV,cj[0],cj[1],cV,g_);
return[c0[0]-g_*hx,c0[1]+cV*hx]}while(!0){var h2=aw([cL.x,cL.y],[A.x,A.y],[s.x,s.y]);h2=new es(h2[0],h2[1]);
h2=o.UA.kZ(M,h2,X);if(es.Yq(h2,s)<1e-6)break;s=h2}}var ea=this.Tp(s,F),ht=this.Tp(A,F),jn=new kp,gE=new kp,O=(ea.x-jV.x)/(ht.x-jV.x);
if(O==0)O=1e-4;var kz=(ea.y-jV.y)/(ht.y-jV.y);if(kz==0)kz=1e-4;if(this.agT){O=Math.max(O,0);kz=Math.max(kz,0)}if(c){if(V)jn.scale(O,O);
else jn.scale(O,kz)}else if(p!=4){var bS=V,bi=m&&T;if(bi)bS=!1;if(p==1||p==7)jn.scale(bS?kz:1,bi?1:kz);
else jn.scale(bi?1:O,bS?O:1);if(this.aum&&m){if(p==1||p==7)gE.br=(ea.x-jV.x)/(ea.y-jV.y);else gE.g=(ea.y-jV.y)/(ea.x-jV.x)}}var g=new kp;
g.translate(-jV.x,-jV.y);g.concat(jn);g.concat(gE);g.translate(jV.x,jV.y);I=[0,0,1,0,1,1,0,1];t.G.u(I,g,I);
var i=t.t.bw(F);t.t.u(i,I)}if(gY.jg(I))this.mO=I}this.kW(M,X);if(j)o.UA.ae(M,Y,j)};gY.aq0=function(M,X,J,q,W,T){var _=J-M,m=q-X,d=W-M,A=T-X,p=_*_+m*m,a=d*_+A*m,f=a/p,s=M+f*_,j=X+f*m,Y=W-s,G=T-j;
return[s,j,Math.sqrt(Y*Y+G*G)]};gY.prototype.ajT=function(){var M=this.mO;return Math.abs(M[1]-M[3])<1e-6&&Math.abs(M[2]-M[4])<1e-6||Math.abs(M[0]-M[2])<1e-6&&Math.abs(M[3]-M[5])<1e-6};
gY.jg=function(M){return t.G.au9(M)||t.G.au9([M[6],M[7],M[4],M[5],M[2],M[3],M[0],M[1]])};gY.prototype.fw=function(M,X,J,q){this.EF=-1;
this.bJ=null;M.aS.z3=null;M.aS.Lh=[];M.fy=!0};gY.prototype.KH=function(M,X,J){var q=J.CG(M?M.k.Ow:0);
if(q.x||q.y){var W=new kp(1,0,0,1,q.x,q.y);t.G.u(this.mO,W,this.mO);this.kW(M,X);return!0}return!1};
gY.prototype.EB=function(M){if(M==null)M=this.mO;var X=M[6]-M[0],J=M[7]-M[1],q=M[4]-M[2],W=M[5]-M[3],T=[M[0],M[1],M[2],M[3],M[0]+X/2,M[1]+J/2,M[2]+q/2,M[3]+W/2,M[6],M[7],M[4],M[5]],_=[];
for(var $=0;$<3;$++){var m=$*4,d=T[m+0],A=T[m+1],p=T[m+2],a=T[m+3];_.push(new es(d,A));_.push(new es(d+(p-d)/2,A+(a-A)/2));
_.push(new es(p,a))}return _};gY.prototype.kW=function(M,X,J){if(M.aS==null)return;if(J==null)J=!1;var q=this.Xo,W=this.EB(),T=W[0],_=W[2],m=W[6],d=W[8],A={C6:[],d:[]};
if(q==0)M.aS.Gn=A;else M.aS.E7=A;var p=t.t.bw([T.x,T.y,_.x,_.y,d.x,d.y,m.x,m.y]);A.C6.push("M","L","L","L","Z");
A.d.push(0,0,1,0,1,1,0,1);var a=this.aFQ;if(a>1){M.aS.S0=t.b(A);t.t.u(p,M.aS.S0.d);for(var $=1;$<a;$++){var f=$/a;
A.C6.push("M","L","M","L");A.d.push(0,f,1,f,f,0,f,1)}}t.t.u(p,A.d);M.k.At=new gc(0,0,es.Yq(W[0],W[2]),es.Yq(W[0],W[6]));
if(this.EF!=-1&&this.EF<9&&this.bJ){var s=M.k.fT(this.bJ.x,this.bJ.y);o.bv.wX(s,M.k.At,M,X)}if(!J){var j=[];
if(q==0)M.aS.PJ=j;else M.aS.au=j;for(var $=0;$<W.length;$++)if($!=4)j.push(W[$].x,W[$].y);var Y=this.Sx();
j.push(Y.x,Y.y)}M.fy=!0};gY.prototype.clear=function(M){M.k.At=null;M.aS.z3=null;M.aS.Gn=null;M.aS.E7=null;
M.aS.S0=null;M.aS.PJ=[];M.aS.au=[];M.fy=!0};function fB(M){this.Rl=null;this.EF=-1;this.bP=null;this.aGl=null;
this.j5=null;this._9=-1;this.ayC=null;this.awW(M)}fB.prototype.ol=function(){return t.b(this.Rl)};fB.prototype.awW=function(M){this.Rl=t.b(M)};
fB.prototype.a6F=function(M){this._9=M};fB.prototype.Ui=function(M){return!0};fB.prototype.WV=function(M,X,J,q){var W=this.l2(M,X,q);
if(W==-1)return"default";return"pointer"};fB.prototype.H_=function(M,X,J,q,W,T,_){if(this._9!=-1)return!0;
this.EF=this.l2(q,M.k.r7,_);var m=t.Rl.LK(this.Rl),d=t.BF.N_(m,q),A=0<d[0]&&d[0]<1&&0<d[1]&&d[1]<1;this.bP=A?d:null;
this.aGl=JSON.stringify(m);this.ayC=JSON.stringify(this.Rl);this.j5=q;return this.EF!=-1||A};fB.prototype.l2=function(M,X,J){var q=J?o.lV({k:{r7:X}},J)*2:20*o.pv()/X,W=this.Rl,T=fB.adX(W),_=-1;
if(T){_=t.G.aG(T,M.x,M.y,q);if(_!=-1)_+=1e6}else{var m=t.Rl.LK(W);_=t.G.aG(m[3],M.x,M.y,q);if(_!=-1&&this.Y_(m,_)==null)_=-1}return _};
fB.prototype.T_=function(M,X,J,q){if(this._9!=-1)return;var W=this.Rl,T=this.EF,_=this.bP,m=JSON.parse(this.aGl),d=m[0],A=m[1],p=m[3];
if(T>=1e6){var a=W.warpStyle.v.warpStyle,f=t.Rl.Hg(W);if(a=="warpCylinder"){this.Rl=W=JSON.parse(this.ayC);
var s=o.fx.Bz(W.warpValues),j=(s[2]-s[0])/(s[1]-s[3]),Y=s[4]*j*f.$,G=s[5]*j*f.$,Q=q.x-this.j5.x,Z=q.y-this.j5.y;
s[0]=f.x;s[1]=f.y+f.$;s[2]=f.x+f.r;s[3]=f.y;T-=1e6;if(T==0){s[0]+=Q;s[1]+=Z}if(T==1){s[2]+=Q;s[3]+=Z}if(T==2){Y+=2*Z;
G+=2*Z}if(T==3){G+=2*Z}if(T==4){s[6]=Math.max(0,Math.min(1,s[6]-2*Q/f.r))}var g=t.G.Cs(s.slice(0,4)),S=g.r/f.r,U=g.$/f.$;
s[4]=Y/g.r;s[5]=G/g.r;W.warpValues=o.fx.qT(s);var B=new kp;B.translate(-f.x,-f.y);B.scale(S,U);B.translate(g.x,g.y);
if(T<4)return B}else{var e=W.warpRotate.v.Ornt,P=e=="Vrtc",h=t.Rl.alU[a],V=P?-q.x/f.r:-q.y/f.$;V+=h[1];
if(h[1]>.5)V=-V;V/=h[2];var S=f.r/f.$;if(P)S=1/S;if(h[3])V/=S;W.warpValue.v=100*Math.max(-1,Math.min(1,V))}}else if(T!=-1){var I=[T],Q=q.x-p[T*2],Z=q.y-p[T*2+1];
if(d*A>16){var F=this.Y_(m,T);if(F[0]==0){var c=Math.floor(T/d),D=T-c*d;if(D>0)I.push(T-1);if(D<d-1)I.push(T+1);
if(c>0)I.push(T-d);if(c<A-1)I.push(T+d)}}for(var $=0;$<I.length;$++){p[I[$]*2]+=Q;p[I[$]*2+1]+=Z}t.Rl.hI(W,m)}else if(_){t.BF.amO(m,_[0],_[1],q.x-this.j5.x,q.y-this.j5.y);
t.Rl.hI(W,m)}};fB.prototype.fw=function(M,X,J,q){var W=this._9;this.bP=null;this._9=-1;if(W!=-1){var T=t.Rl.LK(this.Rl),_=t.BF.N_(T,q);
if(W==0||W==1)t.BF.split(T,0,_[0]);if(W==0||W==2)t.BF.split(T,1,_[1]);t.Rl.hI(this.Rl,T)}M.fy=!0;return W!=-1};
fB.prototype.KH=function(M,X,J){var q=J.CG();if(q.x||q.y){var W=new kp(1,0,0,1,q.x,q.y);t.G.u(this.mO,W,this.mO);
this.kW(M)}};fB.prototype.Y_=function(M,$){var X=M[0],J=M[1],q=this.EF,W=Math.floor(q/X),T=q-W*X,_=q%3,m=q%3,d=_==0&&m==0,W=Math.floor($/X),T=$-W*X,_=T%3,m=W%3;
if(_!=0&&m!=0)return null;if(_==0&&m==0)return[0];else{var A=0;if(m==0)A=_==1?$-1:$+1;if(_==0)A=m==1?$-X:$+X;
if(X*J>16){var p=q==$||q==$+1||q==$-1||q==$+X||q==$-X;if(d&&(p||q==$+2||q==$-2||q==$+2*X||q==$-2*X)){}else if(!d&&p){}else return null}return[1,A]}};
fB.adX=function(M,X){var X=M.warpStyle.v.warpStyle,q;if(X=="warpCustom"||X=="warpNone")return null;var J=t.Rl.LK(M);
if(X=="warpCylinder"){var W=M.warpValues.v;q=[0,1,1,0,.5,0,.5,1,.75-.25*W[6].v,.5]}else{var T=M.warpRotate.v.Ornt,_=t.Rl.alU[X];
q=T=="Hrzn"?[_[0],_[1]]:[_[1],_[0]]}t.BF.u(J,q,new gc(0,0,1,1));return q};fB.prototype.kW=function(M,X){var J=this.Rl,q=J.warpStyle.v.warpStyle,W=t.Rl.LK(J),T=W[0],_=W[1],m=W[3],d=M.aS.E7={C6:[],d:[]},A=M.aS.au=[],p=M.aS.Lx=[],a=this.EF;
if(q=="warpCustom"||q=="warpNone")for(var f=0;f<_;f++)for(var s=0;s<T;s++){var $=f*T+s,j=this.Y_(W,$);
if(j==null)continue;var Y=m[2*$],G=m[2*$+1],Q=p;if(j[0]==0)Q=$==a&&T*_>16?p:A;else{var Z=j[1];d.C6.push("M","L");
d.d.push(Y,G,m[2*Z],m[2*Z+1])}Q.push(Y,G)}else{var g=fB.adX(J);if(g)for(var $=0;$<g.length;$++)A.push(g[$])}for(var f=0;
f+1<_;f+=3)for(var s=0;s+1<T;s+=3){d.C6.push("M","C","C","C","C");var $=f*T+s,S=$+T+T,U=[$,$+1,$+2,$+3,$+T+3,S+3,S+T+3,S+T+2,S+T+1,S+T,S,$+T,$];
for(var $=0;$<U.length;$++){var Y=m[U[$]*2],G=m[U[$]*2+1];d.d.push(Y,G)}}var B=[],e=[];function P(h,s,F){for(var U=0;
U<=F;U++){e.push(U==0?"M":"L");if(h==0)B.push(s,U/F);else B.push(U/F,s)}}if(X)X=t.BF.N_(W,X);for(var h=0;
h<2;h++){var V=W[2][h],I=h==0?T:_,F=I*5;for(var c=1;c<I;c++){var D=Math.floor((c-1)/3),n=c-(1+D*3);if(n==0)continue;
var s=V[D]+n/3*(V[D+1]-V[D]);P(h,s,F)}var k=this._9;if(X&&k!=-1&&(k==0||k-1==h))P(h,X[h],F)}t.BF.u(W,B,new gc(0,0,1,1));
t.G.concat(d,{d:B,C6:e});M.fy=!0};fB.prototype.clear=function(M){M.aS.E7=null;M.aS.au=[];M.aS.Lx=[];
M.fy=!0};function bP(){this.l5=!1;this.vw=!1;this.a9L=!1;this.avd=!1;this.Lu=!1;this.lq=!1;this.Kl=0;
this.uN=0}bP.prototype.H_=function(M){this.l5=!0;this.vw=!1;this.Lu=M.M(hP.HG);this.lq=M.M(hP.Ke);this.Kl=this.Lu?0:1;
this.uN=this.lq?0:1};bP.prototype.KH=function(M){var X=this.avd=M.M(hP.HG),J=this.a9L=M.M(hP.Ke);if(this.vw){if(this.Kl==0&&!X)this.Kl++;
if(this.Kl==1&&X)this.Kl++;if(this.uN==0&&!J)this.uN++;if(this.uN==1&&J)this.uN++}};bP.prototype.T_=function(){this.vw=!0};
bP.prototype.fw=function(){this.l5=!1};bP.prototype.Hk=function($){if($==0)return this.l5?this.lq:this.a9L;
if($==1)return this.vw?this.uN==2:!1};bP.prototype.tj=function($){if($==0)return this.l5?this.Lu:this.avd;
if($==1)return this.vw?this.Kl==2:!1};o.History=function(){o.bv.call(this,"History",o.xH);this.v_=!0;
this.ai4=0};o.History.prototype=new o.bv;o.History.prototype.dx=function(M,X,J,q){J.K8=!0;if(M.h=="h_itemchange"){if(M.index<J.sv)for(var $=J.sv;
$>M.index;$--)this._k(J);if(M.index>J.sv)for(var $=J.sv;$<M.index;$++)this.uG(J)}if(M.h=="h_stepfwd")this.uG(J);
if(M.h=="h_stepbck")this._k(J);if(M.h=="h_undoredo"){var W=this.v_||this.ai4!=J.sv;if(W){this._k(J);
W=!1}else{this.uG(J);W=!0}this.v_=W;this.ai4=J.sv}if(M.h=="h_clear"){if(M.force==null)if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
J.history=[new hY([1,0],null)];J.sv=0}else this.v_=!0};o.History.prototype._k=function(M){if(M.sv==0)return;
var X=M.history[M.sv];X.J.df(X.data,M);M.sv--};o.History.prototype.uG=function(M){if(M.sv==M.history.length-1)return;
var X=M.history[M.sv+1];X.J.AS(X.data,M);M.sv++};o.Cv=function(){o.bv.call(this,"Layers",o.HX);this.$y=null};
o.Cv.prototype=new o.bv;o.Cv.prototype.dx=function(M,X,J,q,W){this.$y=X;var T=M.h,_=M.w!=null?M.w:J.O.length!=0?J.O[0]:J.U.length-1,m=J.U[_];
J.bM=!0;var d=q.M(hP.Ke),A=q.M(hP.HG),p=q.M(hP.WM);if(T==K.$U&&J.c==null&&(J.O.length>1||!J.KE(!1)||J.U[J.O[0]].nA()))T=K.T0;
if(T==K.ni){var a=new hY([6,33],this),f=m.nA()?["pass"].concat(ae.pi):ae.pi,s=f[M.Nz],j=M.w!=null?[M.w]:J.O,Y=JSON.stringify(j),G=[];
for(var $=0;$<j.length;$++)G.push(J.U[j[$]].Sw);a.data={h:T,CO:Y,$z:G,Nz:s};J.Vr(a);this.AS(a.data,J);
this.track(k$._7("Md",{t:"enum",v:{BlnM:ae.fF(s)}}))}if(T==K.HB){var a,Q=J.pC(),j=M.w!=null?[M.w]:J.O,Y=JSON.stringify(j);
if(Q&&Q.data&&Q.data.h==T&&Q.data.CO==Y)a=Q;else{var Z=k$._7("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(Z);var G=[];for(var $=0;$<j.length;$++)G.push(J.U[j[$]].G8);a=new hY([6,32],this);a.data={h:T,CO:Y,$z:G,Nz:M.Nz,Ml:Z.Qd};
J.Vr(a)}a.data.Nz=M.Nz;a.data.Ml.T.v.Opct.v.val=Math.round(M.Nz*100/255);this.AS(a.data,J)}if(T==K.C3){if(m.add.iOpa==null)m.add.iOpa=255;
var a,Q=J.pC();if(Q&&Q.data&&Q.data.h==T&&Q.data.w==_)a=Q;else{a=new hY("Fill Opacity Change",this);
a.data={h:T,w:_,$z:m.add.iOpa,Nz:M.Nz};J.Vr(a)}a.data.Nz=M.Nz;this.AS(a.data,J)}if(T==K.bC){var g=M.Nz,S=M.w!=null?[M.w]:J.O.slice(0),U=[],B=[],a;
for(var e=0;e<S.length;e++){var P=J.U[S[e]];if(P.add.lspf==null)P.add.lspf=0;var G=P.add.lspf,s=G;for(var $=0;
$<g[0].length;$++){var h=g[1][$],V=1<<h;if((s&V)==0&&g[0][$])s^=V;else if((s&V)!=0&&!g[0][$])s^=V}U.push(G);
B.push(s)}var Q=J.pC(),j=JSON.stringify(S);if(Q&&Q.data&&Q.data.h==T&&JSON.stringify(Q.data.CO)==j){a=Q;
a.data.Nz=B}else{var a=new hY([6,57,1],this);a.data={h:T,CO:j,$z:U,Nz:B};J.Vr(a)}this.AS(a.data,J)}if(T==K.qh){var I="----",F=M.dD,s=null;
for(var $=0;$<ji.NI.Ae.length;$++)if(m.add[ji.NI.Ae[$]])I=ji.NI.Ae[$];var c=m.add[I];if(F=="TySh")s=f5.c7(50,50,W.mo);
var a=new hY("Layer Type",this);a.data={h:T,w:_,auE:[I,c],dD:[F,s]};J.Vr(a);this.AS(a.data,J)}if(T==K.FF){var S=[];
if(d){var D=J.pC(),n=D?D.data:null;if(D!=null&&D.J==this&&n.h==K.FF&&n.CO.length!=1){var k=new jb(r.E.H);
k.J=o.xH;k.data={h:"h_stepbck"};X.a(k);if(n.w==_)return}var b=J.root.Hc(_),N=b,L=[M.w];while(N.parent!=J.root){L.push(N.parent.index);
N=N.parent}for(var $=0;$<J.U.length;$++){var R=J.U[$],N=J.root.Hc($),i=L.indexOf($)!=-1?!0:R.cV()&&b.depth<N.depth;
if(i!=R.cV())S.push($)}}else if(M.CO)S=M.CO;else{S.push(_);var v=J.U[_].cV(),Z={hC:v?"hide":"show",Qd:{classID:v?"Hd":"Shw",null:{t:"VlLs",v:[k$.kh("Lyr",!0)]}}};
this.track(Z)}var a=new hY("Layer visibility",this,!0);a.data={h:T,CO:S,w:_};J.Vr(a);this.AS(a.data,J)}if(T==K.a0){if(W.Rk==o.Kr){var E=new jb(r.E.C);
E.data={h:r.m.ga,J:o.oa};X.a(E)}var u=M.at1,C=M.CJ,y,escape=!1,ge=!1;if(M.cp){if(p&&(C==0||C==1||C==2)){var l=0;
if(A)l++;if(d)l+=2;var x=new jb(r.E.H,!0);x.J=o.FN;x.data={h:"fromlayer",FK:[M.w,C,l]};X.a(x);return}}var Z={hC:"select",Qd:{classID:"null",MkVs:{t:"bool",v:!1}}};
J.aEi();if(q.M(hP.WM)||M.h_==0){var O=J.O.indexOf(_);if(O==-1)J.O.push(_);else if(J.O.length>1){if(M.h_!=0)J.O.splice(O,1)}J.O.sort(function(a,kq){return a-kq});
Z.Qd.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};y=_}else if(A&&!d&&C>0){T=C==1?K.jE:C==2?K.zt:K.zI;
escape=!0}else if((A||M.h_==1)&&J.O.length>0){var kz=Math.min(_,J.O[0]),z=Math.max(_,J.O[J.O.length-1]);
J.O=[];for(var $=kz;$<=z;$++)if(J.U[$].add.lsct!=gO.Vd)J.O.push($);Z.Qd.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
y=_}else{y=_;if(_>=J.U.length)return;var R=J.U[_];if(R&&R.nA()&&M.ayt)R.add.lsct=gO.A$;else if(J.O.length==1&&J.O[0]==_&&Math.max(0,C)==R.tD){ge=!0;
J.bM=!1}if(!ge){J.O=[_];J.b7()}}if(!ge){if(y!=null&&y<J.U.length){Z.Qd.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:J.U[y].getName()}}]},this.track(Z)}if(!escape){console.log("no escape");
if(J.O.length==1){var eZ=J.O[0];for(var $=0;$<J.U.length;$++){if($==eZ)continue;var P=J.U[$];P.tD=0;
P.Cq=!1}var m=J.U[eZ];if(C==2){m.Cq=!m.Cq;J.Fg=[]}else if(m){m.tD=C<=0?0:C}}else for(var $=0;$<J.U.length;
$++){var P=J.U[$];P.tD=0;P.Cq=!1}J.bQ=null;J.K8=!0}}if(M.cp&&d){if((C==1||C==3)&&u!=null){var x=new jb(r.E.H,!0);
x.J=o.QC;x.data={h:"mskView",K:u!=0?0:A?1:2};X.a(x)}else{this.dx({h:K.uk,w:M.w},X,J,q,W)}}}if(T==K.jE||T==K.zI){var kM=T==K.jE,jV=kM?m.hM():m.uV(J).JS;
if(jV==null)return;var a=new hY(jV.isEnabled?kM?[6,15]:[6,42]:kM?[6,14]:[6,41],this);a.data={h:T,w:_};
J.Vr(a);this.AS(a.data,J)}if(T==K.zt){var jV=m.add.vmsk;if(jV==null)return;var a=new hY(jV.isEnabled?[6,17]:[6,16],this);
a.data={h:T,w:_};J.Vr(a);this.AS(a.data,J)}if(T==K.a0R){var cL=m.add.lsct==gO.A$?gO.dw:gO.A$,N=J.root.Hc(J.U.indexOf(m)),ea=!1;
if(q.M(hP.WM)){var aw=N.parent;for(var $=0;$<aw.children.length;$++){var h2=aw.children[$].w;if(h2.nA())h2.add.lsct=cL}}else m.add.lsct=cL;
for(var $=0;$<J.O.length;$++){var ht=J.O[$];if(N.VO<ht&&ht<N.index)ea=!0}if(ea)J.O=[N.index];J.K8=!0}if(T==K.uk){if(!J.BS(_))return;
var a=new hY(m.H2?[6,19]:[6,18],this);a.data={h:T,w:_};J.Vr(a);if(M.Nz==null||M.Nz!=m.H2)this.AS(a.data,J)}if(T==K.aIy){if(m.Yh())m.l4-=32;
else m.l4+=32;J.K8=!0}if(T==K.vP||T==K.Qx){var a;if(T==K.vP)a=new hY(m.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if(T==K.Qx)a=new hY(m.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);a.data={h:T,w:_};J.Vr(a);this.AS(a.data,J)}if(T==K.BE||T==K.Fr){var eZ=M.index,a;
if(T==K.BE)a=new hY(m.add.lmfx[kf.an[eZ[0]]].v[eZ[1]].v.enab.v?[6,30,0]:[6,29],this);if(T==K.Fr)a=new hY(m.add.SoLd.filterFX.v.filterFXList.v[eZ].v.enab.v?[6,44]:[6,43],this);
a.data={h:T,w:_,index:M.index};J.Vr(a);this.AS(a.data,J)}if(T==K.X4){if(M.src==M.nl)return;var jn=J.U[M.src],gE=J.U[M.nl],bS=jn.add.lmfx?JSON.stringify(jn.add.lmfx):"",bi=gE.add.lmfx?JSON.stringify(gE.add.lmfx):"";
if(gE.add.lmfx==null){gE.add.lmfx=JSON.parse(kf.default);for(var $=0;$<kf.order.length;$++)gE.add.lmfx[kf.an[$]]={t:"VlLs",v:[]}}if(M.Xw==null){gE.add.lmfx=JSON.parse(bS);
if(!d)delete jn.add.lmfx}else{var cj=M.Xw[0],bb=kf.an[cj];if(kf.agM.indexOf(kf.order[cj])==-1)gE.add.lmfx[bb].v=[];
gE.add.lmfx[bb].v.push(jn.add.lmfx[bb].v[M.Xw[1]]);if(!d)jn.add.lmfx[bb].v.splice(M.Xw[1],1)}var c0=jn.add.lmfx?JSON.stringify(jn.add.lmfx):"",cV=gE.add.lmfx?JSON.stringify(gE.add.lmfx):"";
if(!gE.Yh())gE.l4+=32;var a=new hY("Move Layer Styles",this);a.data={h:T,KL:M.src,QZ:M.nl,adB:bS,abu:bi,agz:c0,aFg:cV};
J.Vr(a);this.AS(a.data,J)}if(T==K.Cc){if(M.src!=null)_=M.src;var P=J.U[_],g_=JSON.stringify(P.add.SoLd),hx=JSON.parse(g_),au=hx.filterFX.v.filterFXList.v;
au.splice(M.Xw,1);var a=new hY([6,53],this);a.data={h:K.AQ,wC:[{HF:_,Bn:[g_,JSON.stringify(hx)]}]};J.Vr(a);
this.AS(a.data,J)}if(T==K.ai3){var kP=d,jn=J.U[M.src],gE=J.U[M.nl],iK=[];if(jn!=gE&&gE.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(jn==gE&&!kP&&M.Xw==M.NJ)return;if(jn==gE&&M.Xw==-1)return;var b3=jn.uV(J),g_=JSON.stringify(jn.add.SoLd),hx=JSON.parse(g_),au=hx.filterFX.v.filterFXList.v;
if(jn==gE){au.splice(M.NJ,0,au[M.Xw]);if(!kP)au.splice(M.Xw+(M.Xw<M.NJ?0:1),1);iK.push({HF:M.src,Bn:[g_,JSON.stringify(hx)]})}else if(M.Xw==-1){var fs=hx.filterFX;
if(!kP){delete hx.filterFX;iK.push({HF:M.src,Bn:[g_,JSON.stringify(hx)],vD:[b3,null]})}var ch=gE.mT()?gE.uV(J):null,hv=dD.aeD(b3),g6=JSON.stringify(gE.add.SoLd),ef=JSON.parse(g6);
ef.placed.v=hv.id;ef.filterFX=fs;iK.push({HF:M.nl,Bn:[g6,JSON.stringify(ef)],vD:[ch,hv]})}else{var fN=au[M.Xw];
if(!kP){au.splice(M.Xw,1);iK.push({HF:M.src,Bn:[g_,JSON.stringify(hx)]})}var g6=JSON.stringify(gE.add.SoLd),ef=JSON.parse(g6);
if(ef.filterFX==null)ef.filterFX=fV.U2();var kb=ef.filterFX.v.filterFXList.v;kb.splice(M.NJ,0,fN);var cn={HF:M.nl,Bn:[g6,JSON.stringify(ef)]};
if(!gE.mT()){var hv=dD.ans(gE.add.SoLd.placed.v);cn.vD=[null,hv]}iK.push(cn)}var a=new hY([6,52],this);
a.data={h:K.AQ,wC:iK};J.Vr(a);this.AS(a.data,J)}if(T==K.Vf){var jV=m.hM(),a=new hY(jV.kx?[6,26]:[6,25],this);
a.data={h:T,w:_};J.Vr(a);this.AS(a.data,J);this.track({hC:"set",Qd:{classID:"setd",null:{t:"obj ",v:[k$.kh("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:jV.kx}}}}})}if(T==K.X7){var jV=m.add.vmsk,a=new hY(jV.kx?[6,28]:[6,27],this);
a.data={h:T,w:_};J.Vr(a);this.AS(a.data,J)}if(T==K.hx){var a=new hY("Variables / Datasets",this),dF=JSON.stringify([J.ty,J.a1]);
if(dF==M.K)return;a.data={h:T,aq9:dF,amk:M.K};J.Vr(a);this.AS(a.data,J)}if(T==K.S$){var et=[],a;for(var $=0;
$<J.O.length;$++){var e=J.O[$],R=J.U[e];if(R.add.vogk)et.push(e,JSON.stringify(R.add.vogk))}for(var $=0;
$<J.Fg.length;$++){var e=J.Fg[$],R=J.Qt[e];if(R.add.vogk)et.push(-1-e,JSON.stringify(R.add.vogk))}t.fg.ahi(J,M.K,M.ai5);
var bh=[];for(var $=0;$<J.O.length;$++){var e=J.O[$],R=J.U[e];if(R.add.vogk)bh.push(e,JSON.stringify(R.add.vogk))}for(var $=0;
$<J.Fg.length;$++){var e=J.Fg[$],R=J.Qt[e];if(R.add.vogk)bh.push(-1-e,JSON.stringify(R.add.vogk))}var Q=J.pC();
if(Q&&Q.data&&Q.data.h==T){var dY=!0;for(var $=0;$<et.length;$+=2)if(et[$]!=Q.data.W3[$])dY=!1;if(dY){a=Q;
a.data.Ef=bh}}if(a==null){var a=new hY([12,91,1],this);a.data={h:T,W3:et,Ef:bh};J.Vr(a)}this.AS(a.data,J)}if(T==K.Mp){var jM=JSON.stringify(m.add.artb),bz=JSON.stringify(M.On),a;
J.U[_].add.artb=JSON.parse(bz);var hh=new gc(0,0,J.r,J.$),dM=o.VN.Un(J),Q=J.pC();if(Q&&Q.data&&Q.data.h==T&&Q.data.w==_){a=Q;
a.data.On=bz}if(a==null){var a=new hY("Editing Artboard",this);a.data={h:T,w:_,adV:jM,On:bz,uX:hh};J.Vr(a)}a.data.FY=dM;
this.AS(a.data,J)}if(T==K.CV){var bh=J.OD.slice(0),iX=J.LV.slice(0),aW=J.c,eC=J.c,i=J.k.KV.slice(0);
if(M.NL=="seltochannel"){var dh=M.FK[0],ff=bh[dh]=bh[dh].Q(),N=t.w3.yW(J.c,ff,M.FK[1]);ff.N=N.N;ff.S=N.S}if(M.NL=="fromAction"){var fE=M.K.hC,dX=M.K.Qd;
if(fE=="make"||fE=="duplicate"){var i2=bh.length,hW=!1,jt=!1;if(J.p1())i2--;var ew=new K.$O;ew.name="Alpha "+(i2+1);
if(fE=="make"){var h3=dX.Nw.v;ew.color=0;iX=[i2];ew.OI=!0;ew.N6=h3.Opct.v;if(h3.Nm)ew.name=h3.Nm.v;if(h3.classID=="SCch"){hW=!0;
eC=null;ew.Dv=1}for(var $=0;$<J.OD.length;$++)J.OD[$].OI=!1;i=[0,0,0]}else{var R=J.U[J.O[0]],dl=R.tD==1?R.hM():R.tD==3?R.uV(J).JS:null,ba=dX.null.v[0].v;
if(dX.Nm)ew.name=dX.Nm.v;if(ba.keyID=="fsel")hW=!0;else if(dl){ew.N=dl.N.slice(0);ew.S=dl.S.Q();ew.color=dl.color}else{var b_=o.Gp.aDo(J);
eC=o.Gp.ayx(J,b_);ew.color=0;ew.S=eC.S;ew.N=eC.N}}if(hW){ew.color=0;if(J.c){ew.S=J.c.S.Q();ew.N=J.c.N.slice(0)}if(jt){ew.color=255-ew.color;
t.vN(ew.N)}}bh.splice(i2,0,ew)}else if(fE=="delete"){if(m&&m.hM()&&m.tD==1){this.dx({h:K.JC},X,J,q,W);
return}var f8=J.LV;f8.sort(function(a,kq){return kq-a});if(f8.length==0)return;for(var $=0;$<f8.length;
$++)bh.splice(f8[$],1);iX=[];i=[1,1,1]}else if(fE=="show"||fE=="hide"){var ak=dX.null.v,jk=null,i6=!1;
for(var $=0;$<ak.length;$++){var k2=ak[$].v[0].v,gm=k2.enum;if(gm=="Trgt"){if(bh[iX[0]]==null)continue;
bh[iX[0]]=bh[iX[0]].Q();bh[iX[0]].OI=fE=="show";i6=!0}else{var dh=["Rd","Grn","Bl"].indexOf(gm);if(jk==null)jk=J.k.KV.slice(0);
jk[dh]=fE=="show"?1:0}}if(jk){var k=new jb(r.E.H,!0);k.J=o.Cm;k.data={h:"setcls",KV:jk};X.a(k);if(!i6)return}}}if(M.NL=="rnm"){bh[M.gO]=bh[M.gO].Q();
bh[M.gO].name=M.name}var a=new hY("Channel Edit",this);a.data={h:T,W3:J.OD.slice(0),I8:J.LV.slice(0),Ef:bh,ve:iX,E_:aW,cD:eC,a4O:J.k.KV.slice(0),amb:i};
this.AS(a.data,J);J.Vr(a)}if(T==K.Su){var cu=new gc(0,0,J.r,J.$),a=new hY(M.AC,this);a.data={h:K.Su,KQ:J.U.slice(0),f_:M.f_,Ju:J.O.slice(0),zN:M.cD};
J.Vr(a);this.AS(a.data,J);var ek=o.VN.Eh(J);if(ek){a.data.uX=cu;a.data.FY=ek}}if(T==K.es){var i_=J.AX(null,M.w),cf=1e10;
if(i_.length==0)return;if(J.U.length==i_.length){alert("Project must have at least 1 layer");return}var iP=[];
for(var $=0;$<J.U.length;$++)if(i_.indexOf($)==-1)iP.push(J.U[$]);for(var $=0;$<i_.length;$++)cf=Math.min(cf,i_[$]);
while(cf>iP.length-1)cf--;cf=Math.max(cf,0);while(iP[cf].name=="</Layer group>")cf++;this.track({hC:"delete",Qd:{classID:"Dlt",null:k$.kh("Lyr",!0)}});
var hh=new gc(0,0,J.r,J.$),a=new hY([6,31],this);a.data={h:K.Su,KQ:J.U.slice(0),f_:iP,Ju:J.O.slice(0),zN:[cf]};
J.Vr(a);this.AS(a.data,J);var dM=o.VN.Un(J);if(dM){a.data.FY=dM;a.data.uX=hh;o.VN.Eh(J)}}if(T==K.Kc){if(!q.M(hP.HG))return;
var a=new hY("Switch Layer Link",this);a.data={h:T,w:M.w};J.Vr(a);this.AS(a.data,J)}if(T==K.v0){var f8=M.ax1?M.ax1:J.O,id=0,ej=!1;
if(f8.length==0)return;if(f8.length==1&&J.U[f8[0]].pZ==0){alert(kd.get([15,7,5]));return}var i1=[];for(var $=0;
$<J.U.length;$++){var f0=J.U[$].pZ;i1.push(f0);id=Math.max(id,f0)}var kk=-1,dZ=-1;for(var $=0;$<f8.length;
$++){var f0=J.U[f8[$]].pZ;if(f0==0)ej=!0;else if(kk==-1||kk==f0)kk=f0;else dZ=f0}if(!ej)for(var $=0;
$<f8.length;$++)J.U[f8[$]].pZ=0;else if(kk!=-1&&dZ==-1)for(var $=0;$<f8.length;$++)J.U[f8[$]].pZ=kk;
else for(var $=0;$<f8.length;$++)J.U[f8[$]].pZ=id+1;var cq=[];for(var $=0;$<J.U.length;$++){var f0=J.U[$].pZ;
if(cq[f0]==null)cq[f0]=0;cq[f0]++}for(var $=0;$<J.U.length;$++){var f0=J.U[$].pZ;if(cq[f0]==1)J.U[$].pZ=0}var hI=i1;
i1=[];for(var $=0;$<J.U.length;$++){var f0=J.U[$].pZ;i1.push(f0);id=Math.max(id,f0)}var a=new hY(ej?[6,54,0]:[6,54,1],this);
a.data={h:K.v0,acv:hI,a2C:i1};J.Vr(a);this.AS(a.data,J)}if(T==K.T0&&(M.w!=null||J.O.length!=0)||T==K.Vu){var fb=J.c1(T==K.T0?M.w:_,null,M.aow),d6;
if(T==K.Vu){var P=fb[0],fE=P.add.SoLd.Idnt.v,kc=J.sF(fE).Q();P.add.SoLd.Idnt.v=kc.qM=dD.dG()+fE.slice(8);
J.add.lnk2.push(kc)}if(T==K.T0){var jm={hC:"duplicate",Qd:{classID:"null",null:k$.kh("Lyr",!0)}};if(M.iy){fb[fb.length-1].EC(M.iy);
jm.Nm={t:"TEXT",v:M.iy}}this.track(jm);M.a4f=M.w}T=K.H4;M.U=fb;M.xN=J;M.Dn=J}if(T==K.H4){var f4,ib,ds=M.xN,i7=M.Dn,hU=0,jy=0,fi=ds.WT(),g5=!1,hG,a2=0,hS=0;
if(ds!=i7){console.log("ADDLAYERS different projs");var f4=new gc(0,0,ds.r,ds.$),ib=new gc(0,0,i7.r,i7.$),g$=[],aS=[],a9=new gc;
for(var $=0;$<M.U.length;$++){var P=M.U[$];a9=a9.m0(P.S);if(P.add.SoLd==null)continue;var fE=P.add.SoLd.Idnt.v;
if(g$.indexOf(fE)==-1){g$.push(fE);aS.push(dD.dG()+fE.slice(8))}P.add.SoLd.Idnt.v=aS[g$.indexOf(fE)];
var b3=P.uV(ds);if(b3){ds.c0(b3);i7.yE(b3)}}if(fi==-1&&!M.$n&&M.axR&&!ib.B8(a9)){hU=-a9.x;jy=-a9.y}if(g$.length>0){if(i7.add.lnk2==null)i7.add.lnk2=[];
for(var $=0;$<g$.length;$++){var j5=ds.sF(g$[$]),kc=j5.Q();kc.qM=aS[$];i7.add.lnk2.push(kc)}}}var aW=i7.O.slice(0);
aW.sort(function(a,kq){return a-kq});var iP=i7.U.slice(0),eC=[],fD=-1;for(var $=0;$<aW.length;$++)fD=Math.max(fD,aW[$]);
if(M.a4f!=null)fD=M.a4f;if(M.$n){fD=M.$n-1;var e2=i7.U[M.$n].PH();hU+=e2.x;jy+=e2.y}if(fi!=-1&&(ds!=i7||M.$n)){var kZ=ds.U[fi].PH();
hU-=kZ.x;jy-=kZ.y}var a_=i7.ob();for(var $=0;$<a_[0].length;$++){var f7=a_[1][$];if(f7!=-1)a_[1][$]=iP[f7]}fD++;
for(var $=0;$<M.U.length;$++){var R=M.U[$],e$=R.add.artb;iP.splice(fD,0,R);eC.push(fD);fD++;if(e$){hG=!0;
var j8=e$.guideIndeces;if(j8){j8=j8.v;for(var aB=0;aB<j8.length;aB++){a_[0].push(ds.aZ[j8[aB].v].slice(0));
a_[1].push(R);g5=!0}}}}for(var $=0;$<a_[0].length;$++){var f7=a_[1][$];if(f7!=-1)a_[1][$]=iP.indexOf(f7)}for(var $=0;
$<M.U.length;$++){var R=M.U[$];if(R.add.lsct==gO.Vd){if(a2==0)hS++;a2++}else if(R.nA())a2--}if(hS==1)eC=[fD-1];
var fH=M.a0Z;if(fH){var j=[];for(var $=0;$<eC.length;$++)j.push(iP[eC[$]]);for(var $=0;$<fH.length;$++)iP.splice(iP.indexOf(fH[$]),1);
eC=[];for(var $=0;$<j.length;$++)eC.push(iP.indexOf(j[$]))}var a=new hY([6,0],this);a.data={h:K.Su,KQ:i7.U.slice(0),f_:iP,Ju:aW,zN:eC};
if(g5){a.data.Fi=[i7.ob(),a_]}i7.Vr(a);this.AS(a.data,i7);if(hU!=0||jy!=0)o.UA.ax(i7,i7.AX(),null,hU,jy);
if(hG){a.data.uX=new gc(0,0,i7.r,i7.$);a.data.FY=o.VN.Un(i7);o.VN.Eh(i7)}}if(T==K.t$){var bZ=M.w!=null?[M.w]:J.AX(),iP=J.U.slice(0);
for(var $=0;$<bZ.length;$++){var R=J.U[bZ[$]].Q();R.cf(J);iP.splice(bZ[$],1,R)}var a=new hY([6,8],this);
a.data={h:K.Su,KQ:J.U.slice(0),f_:iP,Ju:J.O.slice(0),zN:J.O.slice(0)};J.Vr(a);this.AS(a.data,J)}if(T==K.avA){var iP=J.U.slice(0),R=iP[J.O[0]]=iP[J.O[0]].Q(),iM=R.add.lmfx,hz,e2;
delete R.add.lmfx;var d1=J.O[0],fx=d1+1;if(R.nA()){var jQ=J.U[J.O[0]].ws;e2=jQ.aHp;hz=jQ.DY;var N=J.root.Hc(d1);
d1=N.VO}else{e2=R.S;hz=t.j(e2.o());t.SF(R.buffer,hz,3)}var e9=hA.xZ(iM,R.add.fxrp,hz,e2,J,e2).e;for(var $=0;
$<kf.order.length;$++){var eV=kf.order[$],gT=e9[eV];gT.reverse();for(var aB=0;aB<gT.length;aB++){var fn=gT[aB],j=J.C0(),gW=$>7;
if(eV=="ebbl"){if(fn.Fp||fn.xI){var c1=fn.Fp?fn.Fp:fn.xI;if(fn.Fp)delete fn.Fp;else delete fn.xI;if(fn.xI||fn.UY)aB--}else if(fn.UY||fn.h5){var c1=fn.h5?fn.h5:fn.UY;
if(fn.h5){delete fn.h5;if(fn.UY)aB--}gW=!0}fn=c1}j.Sw=fn.VC;j.G8=Math.round(255*fn.PC);j.buffer=fn.hT;
j.S=fn.rR.Q();j.S.offset(e2.x,e2.y);if(eV=="FrFX"){j.buffer=j.buffer.slice(0);t.ix(fn.X0?fn.X0:fn.Uh,j.buffer,3);
if(fn.X0){gW=!0;delete fn.X0;if(fn.Uh)aB--}}j.H2=!gW;j.EC(R.getName()+"'s "+kd.get(kf.names[$]));iP.splice(gW?d1:fx,0,j);
if(gW)fx++}}var a=new hY("Styles to Layers",this);a.data={h:K.Su,KQ:J.U.slice(0),f_:iP,Ju:J.O.slice(0),zN:[fx-1]};
J.Vr(a);this.AS(a.data,J)}if(T==K.a2A){var bZ=J.AX(),iP=J.U.slice(0),bD=new gc(0,0,J.r,J.$);for(var $=0;
$<bZ.length;$++){var eT=J.U[bZ[$]],bp=eT.cV();eT.EG(!0);var ck=J.root.Hc(bZ[$]);if(eT.nA())continue;
if(ck==null)continue;var R=eT.Q();R.cf(J);var aY=ck.Hg(J,!0),bx=J.U;J.Ig([eT]);J.vV();J.rD();R.buffer=t.j(aY.o()*4);
t.fA(J.m7(),bD,R.buffer,aY);R.S=aY;R.G8=255;R.add.iOpa=255;R.Sw="norm";R.vV();R.ws.ma=!0;J.Ig(bx);if(R.add.lmfx)delete R.add.lmfx;
R.JS=R.i4=null;iP.splice(bZ[$],1,R);R.EG(bp);eT.EG(bp)}var a=new hY([6,34],this);a.data={h:K.Su,KQ:J.U.slice(0),f_:iP,Ju:J.O.slice(0),zN:J.O.slice(0)};
J.Vr(a);this.AS(a.data,J)}if(T==K.v8){var bZ=J.AX(),iP=J.U.slice(0);for(var $=0;$<bZ.length;$++){var R=J.U[bZ[$]],gk=R.add.TySh;
if(gk==null)continue;var P=new dV(gk.Zj,W.Rb,gk.PX),be=t.G.L3(i5.OY(P,gk,!0));for(var dd in be){var jp=be[dd],h2=R.Q();
delete h2.add.TySh;h2.l4=h2.l4|1<<4;h2.add.SoCo=t.b(kf.iI[0]);var kB=h2.add.SoCo.Clr.v;kB.Rd.v=parseInt(dd.slice(1,3),16);
kB.Grn.v=parseInt(dd.slice(3,5),16);kB.Bl.v=parseInt(dd.slice(5,7),16);var hc=new K.JL;hc.X=t.G.n$(jp,!1);
if(h2.add.vmsk!=null){h2.add.vmsk.aef();hc.concat(h2.add.vmsk)}h2.add.vmsk=hc;h2.add.vstk=kf.XZ.IH(!0);
h2.hg();h2.j$(J);iP.splice(iP.indexOf(R),0,h2)}iP.splice(iP.indexOf(R),1)}var eC=J.O.slice(0);for(var $=eC.length-1;
$>=0;$--)if(eC[$]>=iP.length)eC.splice($,1);var a=new hY([6,40],this);a.data={h:K.Su,KQ:J.U.slice(0),f_:iP,Ju:J.O.slice(0),zN:eC};
J.Vr(a);this.AS(a.data,J)}if(T==K.aIm){var fP=J.O.length,dA,g9;if(fP<2){alert("Select two or more layers.");
return}for(var $=0;$<fP;$++){var kZ=J.U[J.O[$]].S;dA=$==0?kZ:dA.Lg(kZ);g9=$==0?kZ:g9.m0(kZ)}if(dA.o()*1.2>g9.o()){alert("stacking images");
var a$=[],kJ=[];for(var $=0;$<fP;$++){var R=J.U[J.O[$]];a$.push(R.buffer);kJ.push(R.S)}var hy=t.ave.dV(a$,kJ),eU=hy[0],iY=hy[1],eO=[];
for(var $=0;$<fP;$++){var jV=new K.$O;jV.color=255;jV.S=iY;jV.N=eU[$];eO.push(J.O[$],null,jV)}var a=new hY("Focus-Stack",this);
a.data={h:K.ld,Jv:eO};J.Vr(a);this.AS(a.data,J);return}if(!J.rz())return;var h2=J.U[J.O[0]].Q(),iP=[];
for(var $=0;$<J.U.length;$++)if(J.O.indexOf($)==-1)iP.push(J.U[$]);iP.splice(J.O[0],0,h2);for(var $=1;
$<fP;$++)if(J.U[J.O[$]].S.o()>2e6){alert("Blended areas are too large.");return}for(var $=1;$<fP;$++){var R=J.U[J.O[$]],iY=R.S.Q();
iY.$K(1,1);var kq=t.j(iY.o()*4);t.fA(R.buffer,R.S,kq,iY);h2.extend(iY);var aL=t.j(iY.o()*4);t.fA(h2.buffer,h2.S,aL,iY);
var a=t.j(iY.o());t.SF(kq,a,3);t.round(a,200);t.ix(a,kq,3);t.v.r$("norm",kq,iY,aL,iY,iY,1);t.T6.MN(aL,a,iY);
t.fA(aL,iY,h2.buffer,h2.S)}var a=new hY([2,10,0],this);a.data={h:K.Su,KQ:J.U.slice(0),f_:iP,Ju:J.O.slice(0),zN:[J.O[0]]};
J.Vr(a);this.AS(a.data,J)}if(T==K.II){var iP=J.U.slice(0),iX=J.O.slice(0);for(var $=0;$<iP.length;$++){var R=iP[$],fq=R.add.vmsk;
if(R.eQ()&&fq&&R.add.vstk.strokeEnabled.v&&!R.add.vstk.fillEnabled.v){var cT=fq.X,ha=0,av=-1;for(var aB=0;
aB<cT.length;aB++){if((cT[aB].e==0||cT[aB].e==3)&&cT[aB].li!=-1){ha++;if(cT[aB].e==3&&av==-1){cT[aB].h8=cT[aB].li=1;
av=aB}}}if(ha>1&&av!=-1&&ha<10){console.log("separating an open path into a new layer");R=R.Q();fq=R.add.vmsk;
cT=fq.X;var j=cT[av].length,fH=R.Q();fH.add.lyid=J.ic();fq.X=cT.slice(0,2).concat(cT.slice(av,av+j+1));
fq.O=[];R.j$(J);R.vV();var it=fH.add.vmsk.X;fH.add.vmsk.X=it.slice(0,av).concat(it.slice(av+j+1,it.length));
fH.add.vmsk.O=[];fH.j$(J);iP[$]=R;iP.splice($+1,0,fH);for(var aB=0;aB<iX.length;aB++)if(iX[aB]>$)iX[aB]++;
var b1=iX.indexOf($);if(b1!=-1){iX.splice(b1+1,0,$+1)}}}}if(iP.length!=J.U.length){var a=new hY("Splitting open paths",this);
a.data={h:K.Su,KQ:J.U.slice(0),f_:iP,Ju:J.O.slice(0),zN:iX};J.Vr(a);this.AS(a.data,J)}}if(T==K.QT){this.dx({h:K.II},X,J,q,W);
var aW=J.O.slice(0),bx=J.U.slice(0),bZ=J.AX();if(bZ.length==0)return;J.afE(bZ,!1,M.sz);var a=new hY([6,36,0],this);
a.data={h:K.Su,KQ:bx,f_:J.U.slice(),Ju:aW,zN:J.O.slice(0)};J.Vr(a);this.AS(a.data,J)}if(T==K.aqW){var g_=m.add.SoLd;
if(g_==null)return;var fE=g_.Idnt.v,al=J.sF(fE);al.m7(!1);var hp=t.cY(al.SA[0],8),iY=al.SA[1];if(t.CH(hp)){alert("The smart object contains transparency.");
return}var hl=h1.mr("jpg").iL([[hp.buffer]],iY.r,iY.$,[90]);this.dx({h:K.Rz,data:new Uint8Array(hl),iW:"image.jpg"},X,J,q,W);
console.log(J.add);return}if(T==K.tk){var g_=m.add.SoLd,bv=!1;if(g_==null)return;var fE=g_.Idnt.v,c4=new dD;
bB.Ah(J.zh(fE).raw.buffer,c4);if(M.NL!="del")for(var $=1;$<c4.U.length-1;$++)c4.U[$].EG(!1);if(M.NL=="switch"){c4.U[M.K].EG(!0);
bv=!0}else if(M.NL=="del"){c4.U.splice(M.K,1);c4.O=[c4.U.length-1]}else{var R=c4.C0();R.S=m.S.Q();R.EC(M.aHW);
var fj=R.buffer=t.j(R.S.o()*4);t.fA(M.K[0],M.K[1],fj,R.S);R.S.x=R.S.y=0;c4.U.splice(c4.U.length-1,0,R)}var ho=h1.SW.iL(c4);
this.dx({h:K.Rz,data:new Uint8Array(ho),iW:"image.psd",id:fE,afx:bv},X,J,q,W);return}if(T==K.Rz){var bD=M.AR,fE=M.id;
if(bD==null)bD=J;if(fE==null)fE=m.add.SoLd.Idnt.v;var j5=bD.sF(fE),kc=j5.Q();kc.raw=M.data;kc.iW=M.iW;
var b$=h1.$Y(M.data.buffer);if(b$=="psd"){kc.gi="8BIM";kc.fH="8BPB"}else{kc.gi="    ";kc.fH="    "}kc.m7(!1);
j5.m7(!1);var D=J.pC();if(M.afx&&D&&D.J==this&&D.data.h==T&&D.data.id==fE){a=D;a.data.ok=kc}else{var a=new hY(M.afx?"Select Variation":[6,36,1],this);
a.data={h:K.Rz,id:fE,Lt:j5,ok:kc};bD.Vr(a)}this.AS(a.data,bD)}if(T==K.yY){var a=new hY([6,36,4],this);
a.data={h:T,w:_,vc:m.add.SoLd.Impr.v.classID,Nz:M.Nz};J.Vr(a);this.AS(a.data,J)}if(T==K.$i){var kU,ah;
if(M.ZJ){kU=M.AR;ah=M.ZJ}else{M.AR.b8();M.AR.k1();M.AR.vV();M.AR.rD();M.AR.m7();kU=h1.mr("PSD").iL(M.AR,0,0,[!0,!0]);
ah=M.AR.name}if(!(kU instanceof ArrayBuffer))throw"e";kU=new Uint8Array(kU);var O=M.vE;if(O==null){if(J.O.length==0)O=J.O.length;
else{var ht=J.O[J.O.length-1],j=J.U[ht];O=j.nA()?ht:ht+1}}var cG=new gc(0,0,J.r,J.$),jT=J.WT();if(jT!=-1)cG=J.U[jT].PH();
var fK=J.Xg(kU,ah,null,null,cG,W.Rb,X),iP=J.U.slice(0);iP.splice(O,0,fK);var a=new hY([6,36,2],this);
a.data={h:K.Su,KQ:J.U.slice(),f_:iP,Ju:J.O.slice(0),zN:[iP.indexOf(fK)]};J.Vr(a);this.AS(a.data,J)}if(T==K.xM&&M.NL=="merge"){var hR=[],cI=J.root.children,df=0;
for(var $=0;$<cI.length;$++){var N=cI[$],R=N.w,jv=N.children,cs=!0;if(!R.nA()||jv.length==0)continue;
for(var aB=0;aB<jv.length;aB++)if(!jv[aB].w.getName().startsWith("_a_")){cs=!1;break}if(cs)hR.push(J.U.indexOf(R))}var d4=[];
for(var $=0;$<hR.length;$++)if(J.O.indexOf(hR[$])!=-1)d4.push(hR[$]);if(d4.length>=2)hR=d4;if(hR.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var fw=[];for(var $=0;$<hR.length;$++)fw.push(J.U[hR[$]].getName());var gT=[];for(var kQ=0;kQ<hR.length;
kQ++){var N=J.root.Hc(hR[kQ]),cn=[[],[],0,kQ];gT.push(cn);for(var $=0;$<N.children.length;$++){var e=N.children[$].index,R=N.children[$].w,ew=R.getName(),aI=20,kA=ew.split(",");
if(kA.length>1){var aH=parseInt(kA.pop());if(!isNaN(aH)&&aH!=0)aI=aH}if(aI<17)aI=17;cn[0].push(R);cn[1].push(aI);
cn[2]+=aI}}gT.sort(function(a,kq){return kq[2]-a[2]});if(gT[0][2]>2e3){var ar=0,gM=0;for(var $=0;$<gT.length;
$++){var eM=gT[$][1].length/gT[$][2];if(eM>gM){gM=eM;ar=$}}var ai=(gT[0][2]/1e3).toFixed(1),jS=window.confirm("- \""+fw[gT[0][3]]+"\" is "+ai+" seconds long\n"+"- \""+fw[gT[ar][3]]+"\" is playing at "+Math.round(gM*1e3)+" frames per second\n"+"A merged animation must be "+ai+" sec, up to "+Math.round(gT[0][2]*gM)+" frames. Proceed?");
if(!jS)return}var fm=gT[0],im=fm[2];for(var f7=1;f7<gT.length;f7++){var cn=gT[f7],gU=1,fZ=cn[1].slice(0),jZ=0;
while((gU+1)*cn[2]<=fm[2]){gU++;fZ=fZ.concat(cn[1])}cn[1]=fZ;cn[2]*=gU;var l0=fm[2]/cn[2];for(var $=0;
$<cn[1].length;$++){var gC=Math.floor(cn[1][$]*l0);cn[1][$]=gC;jZ+=gC}while(jZ<im){jZ++;cn[1][cn[1].length-1]++}cn[2]=jZ}var cd=[],hC=[],gC=[];
for(var $=0;$<gT.length;$++){cd.push(0);hC.push(0)}while(df<im){var aN=1e9,i2=-1;for(var $=0;$<gT.length;
$++){var i4=gT[$][1],d1=cd[$];if(d1!=i4.length&&hC[$]+i4[d1]<df+aN){i2=$;aN=hC[$]+i4[d1]-df}}hC[i2]+=gT[i2][1][cd[i2]];
cd[i2]++;if(aN!=0){gC.push(aN);df+=aN}}for(var $=1;$<gC.length;$++){var aG=gC[$];if(aG<16&&(gC[$-1]<16||$<gC.length-1&&16<=gC[$+1])){gC[$-1]+=aG;
gC.splice($,1);$--}}var bp=[],bD=new gc(0,0,J.r,J.$);for(var $=0;$<J.U.length;$++){bp[$]=J.U[$].cV();
J.U[$].EG(!1)}var bA=J.O.slice(0);J.O=hR;var i_=J.AX();i_.sort(function(a,kq){return a-kq});var iP=[];
for(var $=0;$<J.U.length;$++){if(i_.indexOf($)==-1)iP.push(J.U[$])}gT.sort(function(a,kq){return a[3]-kq[3]});
function a1(i4,iG){var $=0,cC=0;while(cC+i4[$]<=iG){cC+=i4[$];$++}return $}df=0;iP.splice(i_[0],0,J.mm());
for(var fl=0;fl<gC.length;fl++){var S=[];for(var $=0;$<gT.length;$++){var d1=a1(gT[$][1],df)%gT[$][0].length,R=gT[$][0][d1];
S.push(R)}var R=J.C0();for(var $=0;$<gT.length;$++){var bF=S[$],aw=J.U[hR[$]];bF.EG(!0);aw.EG(!0)}J.vV();
J.rD();var hp=J.m7();R.S=t.pD(hp,bD,2);R.buffer=t.j(R.S.o()*4);t.fA(hp,bD,R.buffer,R.S);for(var $=0;
$<gT.length;$++){var bF=S[$],aw=J.U[hR[$]];bF.EG(!1);aw.EG(!1)}R.EG(fl==0);R.EC("_a_frm"+fl+","+gC[fl]);
iP.splice(i_[0]+1+fl,0,R);df+=gC[fl]}var R=J.C0();R.EC(fw.join(" + "));R.Sw="pass";R.add.lsct=gO.dw;
R.l4=24;iP.splice(i_[0]+1+gC.length,0,R);for(var $=0;$<J.U.length;$++)J.U[$].EG(bp[$]);var a=new hY([6,12,0],this);
a.data={h:K.Su,KQ:J.U,f_:iP,Ju:bA,zN:[i_[0]+1+gC.length]};J.Vr(a);this.AS(a.data,J)}if(T==K.J3||T==K.TB){var g3=J.O.length==1&&!J.U[J.O[0]].nA(),cc=!0,fK=null,eC;
if(g3&&J.O[0]==0)return;var dm=T==K.J3&&M.w!=null&&J.O.indexOf(M.w)==-1,bx=J.U.slice(0),aW=J.O.slice(0);
if(g3||dm)J.O=[_,_-1];if(T==K.TB){J.O=[];for(var $=0;$<J.U.length;$++)if(J.U[$].cV())J.O.push($)}var bZ=J.AX();
bZ.sort(function(a,kq){return a-kq});var g8=new gc,bD=new gc(0,0,J.r,J.$);for(var $=0;$<bZ.length;$++){var e=bZ[$],R=J.U[e];
if(R.nA()||R.getName()=="</Layer group>")continue;cc=cc&&R.eQ()&&R.add.vmsk!=null;g8=g8.m0(J.root.Hc(e).Hg(J,!0))}if(M.w3!=null&&!cc){alert("Select shape layers only.");
return}if(cc){var fq=null,ce=M.w3;for(var $=0;$<bZ.length;$++){var j=J.U[bZ[$]];if(j.S.o()==0)continue;
if(fK==null){fK=j.Q();fq=fK.add.vmsk}else{var j=J.U[bZ[$]],it=K.JL.Oz(j.add.vmsk.X);if(ce!=null)for(var aB=0;
aB<it.length;aB++)if(it[aB].li!=null&&it[aB].li!=-1)it[aB].li=[1,2,3,0][ce];fq.X=fq.X.concat(it.slice(2));
fK.add.vogk=fK.add.vogk.concat(t.b(j.add.vogk))}}fK.add.vmsk.A8=!0;fK.j$(J)}else if(bD.wz(g8)){fK=J.C0();
fK.EC(J.U[bZ[bZ.length-1]].getName());fK.S=g8;fK.buffer=t.j(g8.o()*4);var iy=J.add.artd;delete J.add.artd;
var jA=J.m7(bZ);if(iy)J.add.artd=iy;t.fA(jA,bD,fK.buffer,g8);fK.Wn();fK.vV()}else{J.afE(bZ,!0);fK=J.U[J.O[0]];
J.U.splice(J.O[0],1);var fr=J.sF(fK.add.SoLd.Idnt.v);J.add.lnk2.splice(J.add.lnk2.indexOf(fr),1);delete fK.add.SoLd}var bQ=d,dG=-1;
if(M.Qd&&M.Qd.Dplc&&M.Qd.Dplc.v)bQ=!0;if(bQ&&T==K.TB&&aW.length!=0&&J.U[aW[0]].nQ()&&J.U[aW[0]].S.M5()){dG=aW[0]}if(dG!=-1||g3){var ie=J.U[dG!=-1?dG:_-1];
fK.EC(ie.getName());fK.add.lclr=ie.add.lclr}var iP=[];for(var $=0;$<J.U.length;$++)if(bQ||bZ.indexOf($)==-1)if($!=dG)iP.push(J.U[$]);
var ct=bZ[bZ.length-1],dj=ct==J.U.length-1?null:J.U[ct+1],c7=dj?iP.indexOf(dj):iP.length;iP.splice(c7,0,fK);
eC=[c7];if(dm)eC=aW.slice(0);var a=new hY([6,12,0],this);a.data={h:K.Su,KQ:bx,f_:iP,Ju:aW,zN:eC};J.Vr(a);
this.AS(a.data,J)}if(T==K.aBr){var h2=J.C0();h2.S=new gc(0,0,J.r,J.$);h2.buffer=t.j(h2.S.o()*4);h2.buffer.fill(255);
t.v.r$("norm",J.m7(),h2.S,h2.buffer,h2.S,h2.S,1);h2.EC("Background");h2.add.lspf=1<<2;var a=new hY([6,12,1],this);
a.data={h:K.Su,KQ:J.U.slice(),f_:[h2],Ju:J.O.slice(0),zN:[0]};J.Vr(a);this.AS(a.data,J)}var kR=T==K.$U||T==K.HN;
if(T==K.YO||T==K.La||T==K.d6||T==K.Ge||kR){var R=kR?J.c1()[0]:J.C0(),fU=kd.get([0,3]),ix=M.iy,f6=!1,iQ,gy;
if(T==K.d6)fU=kd.get([12,76,1]);if(kR){if(J.c){var eT=J.U[J.O[0]],fR=eT.ag(J,J.c);if(fR==null){alert("Copied area is empty");
return}R.S=fR.S;R.buffer=fR.b3;R.cf(J);R.EG(!0)}else ix=R.getName();R.add.lspf=0;R.H2=!1;if((R.l4&1)!=0)R.l4--}if(T==K.Ge){R.S=o.Cv.aoG(M.$D,J);
R.buffer=t.cY(M.$D.buffer.slice(0),t.qP(R.buffer));if(M.agj&&J.c){R.JS=new K.$O;R.JS.S=J.c.S;R.JS.color=0;
R.JS.N=J.c.N.slice(0)}}if(T==K.YO){this.track({hC:"make",Qd:{classID:"Mk",null:k$.kh("Lyr")}})}if(T==K.La){R.l4|=16;
var ip=M.Qd.Usng.v,gN=ip.Type.v,cE=ia.R6[gN.classID];fU=kd.get(ia.names[cE]);if(ip.Nm)ix=ip.Nm.v;R.add[cE]=fV.IH(cE);
if(R.add[cE]==null)R.add[cE]={};for(var e6 in gN)R.add[cE][e6]=t.b(gN[e6]);R.JS=o.Cv.adN(J);R.tD=1}if(T==K.d6){R.l4|=16;
var dX=M.Qd,ip=dX.Usng.v,iV=ip.Type.v,dk=ip.Shp;if(ip.Nm)ix=ip.Nm.v;if(dk==null){var dJ=J.ZX(),be=dJ[0],hr=dJ[1];
if(hr.length!=0&&be[hr[0]].gO<0){var du=be[hr[0]].add;R.add.vmsk=du.vmsk.Q();R.add.vstk=kf.XZ.IH(!0);
R.add.vogk=t.b(du.vogk);J.Fg=[]}else R.JS=o.Cv.adN(J)}else{R.add.vmsk=new K.JL;R.add.vstk=t.b(ip.strokeStyle?ip.strokeStyle.v:kf.XZ.IH(!0));
R.add.vogk=[];if(dk){var kj=t.fg.Bd(dk,J.r,J.$);if(kj){R.add.vogk=[kj];R.add.vmsk.X.push({e:0,li:1,length:0});
t.fg.ra(R.add.vogk,R.add.vmsk)}else{dk=dk.v;var ik=dk.classID;if(ik=="Plgn"){var k2=dk.Cntr.v,kZ=dk.corner.v;
k2=new es(k2.Hrzn.v.val,k2.Vrtc.v.val);kZ=new es(kZ.Hrzn.v.val,kZ.Vrtc.v.val);R.add.vmsk.X=t.I.bg.dQ(k2.x,k2.y,Math.sqrt(kZ.x*kZ.x+kZ.y*kZ.y),Math.atan2(kZ.y,kZ.x),dk.sides.v,0)}else if(ik=="customShape"){var bu=t.fg.ZF(dk),jD=bu[2]-bu[0],a7=bu[3]-bu[1],cx=W.I3,aQ,dp;
for(var $=0;$<cx.length;$++)if(cx[$].EX==dk.Nm.v)aQ=cx[$];if(aQ){dp=K.JL.Oz(aQ.X);t.I.cI(dp,new kp(jD,0,0,a7,bu[0],bu[1]))}else dp=t.I.bg.Rect(bu[0],bu[1],jD,a7,0);
R.add.vmsk.X=dp}R.hg()}}}if(gj==0){var dP={solidColorLayer:0,gradientLayer:1,patternLayer:2}[iV.classID],b0=["SoCo","GdFl","PtFl"][dP];
R.add[b0]=t.b(kf.iI[dP]);if(dP==0)R.add[b0].Clr.v=t.NX.$J(t.vT(W.pU));o.Cv.Mm(iV,R.add[b0],dP);if(dk==null)fU=kd.get([6,48,0,dP]);
if(b0=="PtFl"){var dr=R.add[b0].Ptrn.v,kA=hA.AK(dr,W.i3);if(kA==null)kA=hA.AK(dr,J.add.Patt);if(kA==null)kA=W.i3[0];
dr.Idnt.v=kA.id;J.m_(kA)}R.j$(J)}else{R.add.vstl=t.b(W.ac3)}}var fP=o.Cv.xv(J,fU+" ");R.EC(fU+" "+(fP+1));
if(ix)R.EC(ix);var cD=J.O.length==0?J.U.length-1:J.O[J.O.length-1],jY=J.U[cD];if(gj==0&&T==K.d6&&jY.nQ()&&jY.S.M5()){f6=!0;
R.EC(jY.getName());iQ=cD}else{iQ=cD+(T==K.YO&&p&&!A?0:1);if(jY&&jY.add.lsct==gO.A$)iQ--}if(M.a9m)iQ=Math.max(0,iQ-1);
var iP=J.U.slice(0);if(T==K.HN){var eh=iP[J.O[0]]=iP[J.O[0]].Q(),gJ=J.c.N.slice(0);t.vN(gJ);t.tc(gJ,J.c.S,eh.buffer,eh.S)}iP.splice(iQ,f6?1:0,R);
var g1=[5,2];if(T==K.YO)g1=[6,13];if(T==K.La)g1=[6,1];if(T==K.d6){g1=[6,48,1];var dk=M.Qd.Usng.v.Shp;
if(dk){var cS={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[dk.v.classID];
if(cS)g1=cS}}if(kR){g1=[6,49,T==K.$U?0:1]}if(kR||T==K.d6||T==K.Ge||T==K.La)if(J.c)gy=[J.c,null];var a=new hY(g1,this);
a.data={h:K.Su,KQ:J.U.slice(0),f_:iP,Ju:J.O.slice(0),zN:[iQ],Lc:gy};J.Vr(a);this.AS(a.data,J);if(T==K.d6&&dk==null&&dP!=0||T==K.La){var E=new jb(r.E.C);
E.data={h:r.m.Nt,bf:gF.UE.BJ};X.a(E)}}if(T==K.a78){var iP=J.U.slice(0),R=J.U[J.O[0]],hM=R.S.o(),jE=hM*4,eZ=iP.indexOf(R),ie=J.C0();
ie.EC("Decomposition");ie.add.lsct=gO.A$;ie.Sw="pass";ie.l4=24;iP.splice(eZ+1,0,ie);iP.splice(eZ+1,0,J.mm());
var bo=R.Q();bo.EC("Residual");iP.splice(eZ+2,0,bo);function aN(a,kq,$){kq[$]+=128-a[$];kq[$+1]+=128-a[$+1];
kq[$+2]+=128-a[$+2];kq[$+4]+=128-a[$+4];kq[$+5]+=128-a[$+5];kq[$+6]+=128-a[$+6]}iP.splice(eZ,0);var jo=Date.now();
for(var bt=0;bt<5;bt++){var fH=bo.Q();iP.splice(eZ+3,0,fH);fH.G8=128;fH.Sw="lLit";fH.EC("Scale "+(bt+1));
fV.nU(1<<bt,1,bo.buffer,R.S);var bu=bo.buffer,ap=new Uint8ClampedArray(fH.buffer.buffer);for(var $=0;
$<jE;$+=8)aN(bu,ap,$)}var a=new hY("Wavelet Decompose",this);a.data={h:K.Su,KQ:J.U.slice(0),f_:iP,Ju:J.O.slice(0),zN:[eZ+2]};
J.Vr(a);this.AS(a.data,J)}if(T==K.Q2){var R=J.C0(),fU=kd.get([0,4]),fP=o.Cv.xv(J,fU+" ");R.EC(fU+" "+(fP+1));
R.Sw="pass";R.add.lsct=gO.A$;R.l4=24;if(M.iy)R.EC(M.iy);if(M.Gh!=null)R.add.lclr=M.Gh;var cM=J.mm(),cD=_,iQ=cD+(p?0:1),iP=J.U.slice(0);
iP.splice(iQ,0,cM,R);var a=new hY([6,20],this);a.data={h:K.Su,KQ:J.U.slice(0),f_:iP,Ju:J.O.slice(0),zN:[iQ+1]};
J.Vr(a);this.AS(a.data,J)}if(T==K.Qc||T==K.nG){var fu=T==K.Qc?M.source:J.O[0],bH,ko,fz=J.O.indexOf(fu)!=-1,j9=d|M.auK,di,aN=null;
if(fz)di=J.AX();else di=J.cy(fu);di.sort(function(a,kq){return a-kq});if(T==K.Qc){bH=M.target;ko=M.Tx>.5}else if(M.target!=null){bH=Math.min(M.target,J.U.length-1);
ko=M.target<J.U.length;J.we=!0}else{var jN=M.NL;ko=jN>1;if(jN==0){bH=J.U.length-1}if(jN==1){bH=di[di.length-1]+1;
var j=J.cy(bH);if(j.indexOf(fu)==-1)bH+=j.length-1}if(jN==2){bH=di[0]-1;var j=J.cy(bH);if(j.indexOf(fu)==-1)bH-=j.length-1}if(jN==3){bH=0;
if(J.U[0].add.lnsr=="bgnd")bH++}if(bH<0||bH>J.U.length-1)return;J.we=!0}if(di.indexOf(bH)!=-1&&!j9)return;
var je=o.Cv.VD(J,di,bH,ko,j9?J.c1(fz?null:fu):null,T==K.Qc&&M.Tx>.8),ga=je.pop(),iX=je.pop(),iP=je.pop(),aD=J.O;
J.O=[fu];var fi=J.WT();J.O=[bH];var dc=J.WT();if(dc==bH&&!ko)dc=-1;J.O=aD;if(fu==fi){}else if(fi!=dc){var aN=new es(0,0);
if(fi!=-1){var iY=J.U[fi].PH();aN.x-=iY.x;aN.y-=iY.y}if(dc!=-1){var iY=J.U[dc].PH();aN.x+=iY.x;aN.y+=iY.y}}var a=new hY(j9?[6,0]:[6,35],this);
a.data={h:K.Su,KQ:J.U.slice(0),f_:iP,Ju:J.O.slice(0),zN:iX,RG:aN};J.Vr(a);this.AS(a.data,J);var dX={classID:"move",null:k$.kh("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:ga+(ko?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:j9}};
this.track({hC:"move",Qd:dX})}if(T==K.S8){var jY=M.Nx;if(M.uI){if(m==null||!m.nA())return;var N=J.root.Hc(_),gD=J.U.indexOf(N.Zs),iP=J.U.slice(0);
iP.splice(_,1);iP.splice(gD,1);var iX=[];for(var $=gD;$<_-1;$++)iX.push($);if(jY){var kz=_-2;iP[kz]=iP[kz].Q();
iP[kz].Nx=!1}var a=new hY(jY?[6,6,0]:"Ungroup Layers",this);a.data={h:K.Su,KQ:J.U.slice(0),f_:iP,Ju:J.O.slice(0),zN:iX};
J.Vr(a);this.AS(a.data,J)}else{var R=J.C0(),jq=kd.get([0,4])+" ";R.EC(jq+(o.Cv.xv(J,jq)+1));R.Sw="pass";
if(jY){if(J.O.length==1){alert("Select more than one layer for a clipping group.");return}R.EC("<Clip Group>")}if(M.iy)R.EC(M.iy);
if(M.Gh!=null)R.add.lclr=M.Gh;R.add.lsct=J.O.length==1?gO.A$:gO.dw;R.l4=24;var cM=J.mm(),di=J.AX();if(di.length==0)return;
di.sort(function(a,kq){return a-kq});var iP=[];for(var $=0;$<J.U.length;$++)if(di.indexOf($)==-1)iP.push(J.U[$]);
var cD=J.O[J.O.length-1]-di.length;iP.splice(cD+1,0,cM);for(var $=0;$<di.length;$++)iP.splice(cD+2+$,0,J.U[di[$]]);
iP.splice(cD+2+di.length,0,R);if(jY){var kz=cD+di.length+1;iP[kz]=iP[kz].Q();iP[kz].Nx=!0}var a=new hY(jY?[6,6,0]:[6,9],this);
a.data={h:K.Su,KQ:J.U.slice(0),f_:iP,Ju:J.O.slice(0),zN:[iP.indexOf(R)]};J.Vr(a);this.AS(a.data,J);var Z={hC:"make",BU:!0};
Z.Qd={classID:"Mk",null:k$.kh("layerSection"),From:k$.kh("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:R.getName()}}}};
this.track(Z)}}if(T==K.aGp){if(J.O.length!=1)return;var O=J.O[0],ku=d;if(J.U[O].hM()==null&&!q.M(hP.WM)){T=K.$0;
M.Em=J.c?!ku?"RvlS":"HdSl":!ku?"RvlA":"HdAl"}else{T=K.FV;M.apg=!0}}if(T==K.$0){if(J.O.length!=1)return;
var O=J.O[0],R=J.U[O];if(R.add.vmsk&&R.JS==null)R.j$(J);var fY=R.hM();if(fY==null||M.aA$){var a=new hY(M.iy?M.iy:[6,21],this),gH=new K.$O(J.depth),g7=M.Em,h$=g7=="RvlS"||g7=="HdSl";
if(g7=="RvlS"||g7=="HdAl"||g7=="Trns")gH.color=0;if(h$){gH.N=J.c.N.slice(0);gH.S=J.c.S.Q();if(g7=="HdSl")t.vN(gH.N)}if(g7=="Trns"){gH.S=R.S.Q();
gH.N=t.j(R.S.o());t.SF(R.buffer,gH.N,3)}a.data={h:K.ld,Jv:[O,fY,gH],Lc:h$?[J.c,null]:null,a89:g7=="Trns"};
J.Vr(a);this.AS(a.data,J);J.U[O].tD=1;this.track({hC:"make",Qd:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:g7}}}})}}else if(T==K.a6k){var jn=J.U[M.src],gE=J.U[M.nl],a=new hY([6,21],this),gZ=jn.hM(),kK=gE.hM(),jV=[M.src,gZ,null,M.nl,kK,gZ];
if(d||A){var ew=gZ.Q();if(d)jV=[M.nl,kK,ew];else jV[5]=ew;if(A){t.vN(ew.N);ew.color=255-ew.color}}a.data={h:K.ld,Jv:jV};
J.Vr(a);this.AS(a.data,J)}if(T==K.JC){if(J.O.length!=1)return;var O=_,co=J.U[O].hM();if(co!=null){var a=new hY([6,22],this);
a.data={h:K.ld,Jv:[_,co,null]};J.Vr(a);this.AS(a.data,J)}}if(T==K.U9){var bx=J.U.slice(0),h2=m.Q(),dl=h2.hM();
t.tc(dl.Xu(h2.S),h2.S,h2.buffer,h2.S);o.Cv.vm(J,h2);h2.Wn();J.U[J.O[0]]=h2;var a=new hY([5,8],this);
a.data={h:K.Su,KQ:bx,f_:J.U.slice(),Ju:J.O.slice(0),zN:J.O.slice(0)};J.Vr(a);this.AS(a.data,J)}if(T==K.bD){if(J.O.length!=1)return;
var O=J.O[0];if(J.U[O].uV(J).JS==null){var a=new hY([6,45],this);a.data={h:T,w:O,JS:new K.$O};J.Vr(a);
this.AS(a.data,J)}}if(T==K.BI){if(J.O.length!=1)return;var O=J.O[0];if(J.U[O].uV(J).JS!=null){var a=new hY([6,46],this);
a.data={h:T,w:O,JS:J.U[O].uV(J).JS};J.Vr(a);this.AS(a.data,J)}}if(T==K.hf){if(M.src==null&&J.O.length!=1)return;
if(M.src!=null)_=M.src;if(J.U[_].mT()){var a=new hY([6,47],this),g_=JSON.stringify(J.U[_].add.SoLd),hx=JSON.parse(g_);
delete hx.filterFX;a.data={h:K.AQ,wC:[{HF:_,Bn:[g_,JSON.stringify(hx)],vD:[J.U[_].uV(J),null]}]};J.Vr(a);
this.AS(a.data,J)}}if(T==K.FV){if(J.O.length!=1)return;if(m.add.vmsk==null){var a=new hY([6,23],this),cT=J.ZX(),f8=cT[1],cT=cT[0],gH,kj;
if(M.apg&&f8.length!=0){var du=cT[f8[0]].add;gH=du.vmsk.Q();kj=du.vogk}else{gH=new K.JL;kj=[];gH.X[1].all=M.axC?0:1}a.data={h:T,w:_,Sh:!0,JS:gH,fg:JSON.stringify(kj),XZ:null};
if(m.eQ()){a.data.XZ=Stroke.XZ.IH(!0)}J.Vr(a);this.AS(a.data,J)}}if(T==K.dU){var jn=J.U[M.src],gE=J.U[M.nl];
if(gE.add.vmsk)return;var a=new hY([6,23],this),fq=jn.add.vmsk;a.data={w:M.nl,Sh:jn.Cq,JS:fq.Q(),fg:JSON.stringify(jn.add.vogk),XZ:jn.add.vstk?JSON.stringify(jn.add.vstk):null};
if(d){a.data.h=K.FV}else{a.data.h=T;a.data.src=M.src;a.data.nl=M.nl}J.Vr(a);this.AS(a.data,J)}if(T==K.h9||T==K.pr){if(J.O.length!=1)return;
var R=J.U[_],fq=R.add.vmsk;if(fq!=null){var jJ=T==K.pr,a=new hY(jJ?[6,8]:[6,24],this);a.data={h:K.h9,w:_,Sh:R.Cq,JS:fq,fg:JSON.stringify(R.add.vogk),XZ:R.add.vstk?JSON.stringify(R.add.vstk):null};
if(jJ){a.data.i4=fq.hM(R.add.vstk);a.data.i4.qO=!1}J.Vr(a);this.AS(a.data,J)}}if(T==K.NE){var a=new hY("Metadata",this);
a.data={h:T,Pc:JSON.stringify(J.eJ),NS:JSON.stringify(M.NS)};J.Vr(a);this.AS(a.data,J)}if(T==K.Jz){var jg=M.nl?M.nl:J,gB=jg.name,ix=M.K+".psd";
if(gB==ix)return;var a=new hY([6,37],this);a.data={h:T,a1a:gB,iy:ix};if(M.aH9!=!0)jg.Vr(a);this.AS(a.data,jg)}if(T==K.xM&&M.NL.endsWith("makeframes")){var gQ=[],aa=M.NL.startsWith("make");
for(var $=0;$<J.O.length;$++){var e=J.O[$],R=J.U[e],b4=R.getName(),iT=b4.startsWith("_a_");if(aa==iT||R.add.lsct==gO.Vd)continue;
var hH=aa?"_a_"+b4:b4.slice(3);gQ.push([e,b4,hH,R.add.lnsr,null])}var a=new hY([6,37],this);a.data={h:K.KK,iw:gQ};
J.Vr(a);this.AS(a.data,J)}if(T==K.KK){var gB=m.getName(),ix=M.name.substring(0,255);if(gB==ix)return;
var a=new hY([6,37],this);a.data={h:T,iw:[[_,gB,ix,m.add.lnsr,null]]};J.Vr(a);this.AS(a.data,J);this.track(k$._7("Nm",{t:"TEXT",v:ix}))}if(T==K.gn){var hK=J.AX(),bq=[],jz=[];
for(var $=0;$<hK.length;$++){bq.push(J.U[hK[$]].add.lclr);jz.push(M.a6Z)}var a=new hY([6,38],this);a.data={h:T,U:hK,aCV:bq,Gh:jz};
J.Vr(a);this.AS(a.data,J)}if(T==K.KB){var a=J.history[J.sv];if(a!=null&&a.J==this&&a.data.h==T&&a.data.w==M.a_&&a.data.Nz.sl==M.ue.sl)a.data.Nz=M.ue;
else{a=new hY("Mask Density / Feather",this);a.data={h:T,w:M.a_,vc:J.U[M.a_].SS(M.ue.sl),Nz:M.ue};J.Vr(a)}this.AS(a.data,J)}if(T==K.h3){var j3=JSON.stringify(M.K),eq=JSON.parse(j3),a=J.history[J.sv];
if(a!=null&&a.J==this&&a.data.h==T&&a.data.$G==M.$G&&a.data.CO.join(",")==M.CO.join(",")){for(var $=0;
$<M.CO.length;$++)a.data.Ty[$]=eq;if(a.data.Qd&&eq.fH!=0)o.Cv.Mm(eq.PD,a.data.Qd.T.v,eq.fH-1)}else{a=new hY([11,6],this);
a.data={h:T,CO:M.CO,$G:M.$G,aCz:[],Ty:[]};var bU=!1;for(var $=0;$<M.CO.length;$++){var e=M.CO[$],R=J.U[e],fQ=M.$G?kf.M2(R.add):t.b(R.add.vstk);
a.data.aCz.push(fQ);a.data.Ty.push(eq);if(JSON.stringify(fQ)!=j3)bU=!0}if(!bU)return;J.Vr(a);if(M.$G&&eq.fH>0){var dX=a.data.Qd={classID:"setd",null:k$.kh("contentLayer",!0),T:{t:"Objc",v:{}}};
o.Cv.Mm(eq.PD,dX.T.v,eq.fH-1);this.track({hC:"set",Qd:dX})}}if(M.$G&&eq.fH==3)J.m_(hA.AK(eq.PD.Ptrn.v,W.i3));
if(!M.$G){var kD=eq.strokeStyleContent.v;if(kD.classID==kf.XZ.PP[2])J.m_(hA.AK(kD.Ptrn.v,W.i3))}this.AS(a.data,J)}if(T==K.lM){var ey=W.so,ky=[];
for(var $=0;$<J.O.length;$++){var e=J.O[$],R=J.U[e],dO=R.add.vstl;if(dO==null)continue;var fQ=JSON.stringify(dO);
for(var bD in ey)dO[bD]=ey[bD];var eq=JSON.stringify(dO);if(fQ==eq)continue;ky.push([e,fQ,eq])}if(ky.length!=0){var D=J.pC();
if(D&&D.J==this&&D.data.h==T&&D.data.mA.length==ky.length){var dY=!0;for(var $=0;$<ky.length;$++)if(ky[$][0]!=D.data.mA[$][0])dY=!1;
if(dY){for(var $=0;$<ky.length;$++)D.data.mA[$][2]=ky[$][2];J.vV();return}}var a=new hY("Style Change",this);
a.data={h:T,mA:ky};J.Vr(a);J.vV()}}};o.Cv.VD=function(M,X,J,q,W,T){var _=M.U[J],m=[];if(W)m=M.U.slice(0);
else for(var $=0;$<M.U.length;$++)if(X.indexOf($)==-1)m.push(M.U[$]);var d=m.indexOf(_);if(T&&_.nA()&&_.add.lsct==gO.dw)d-=M.cy(J).length-1;
var A=[];for(var $=0;$<X.length;$++){var p=d+(q?0:1)+$,a=W?W[$]:M.U[X[$]];m.splice(p,0,a);A.push(p)}return[m,A,d]};
o.Cv.Mm=function(M,X,J){var q=[kf.dB,kf.iz,kf.T7][J];if(X.classID==null)X.classID=["solidColorLayer","gradientLayer","patternLayer"][J];
for(var $=0;$<q.length;$++)if(M[q[$]])X[q[$]]=t.b(M[q[$]])};o.Cv.adN=function(M){var X=new K.$O;if(M.c!=null){X.color=0;
X.N=M.c.N.slice(0);X.S=M.c.S.Q()}return X};o.Cv.MS=function(M,X,J,q,W){var T=q.DA,_=J.DA,m=q.Qv/J.Qv,d=T.r/_.r,A=T.$/_.$,p=T.r/2,a=T.$/2;
d/=m;A/=m;var f=t.G.mP(T).d;for(var $=0;$<M.U.length;$++){var s=M.U[$],j=s.add.SoLd;if(j==null||j.Idnt.v!=X)continue;
var Y=d!=1||A!=1;if(Y){var G=o.fx.Bz(j.nonAffineTransform),Q=t.t.bw(G,T),Z=new kp;Z.translate(-p,-a);
Z.scale(d,A);Z.translate(p,a);var g=t.t.uM(Q,t.t.WP(Z)),S=f.slice(0);t.t.u(g,S);j.Trnf=o.fx.qT(S);j.nonAffineTransform=o.fx.qT(S);
if(t.Rl.tU(j.quiltWarp.v)){var U=j.quiltWarp.v.bounds.v;U.Rght.v.val=T.r;U.Btom.v.val=T.$}}s.el(M,null,W,!Y)}M.vV()};
o.Cv.agq=function(M,X,J){X.color=255-X.color;t.vN(X.N);X.A8=!0;M.j$(J);J.vV()};o.Cv.prototype.df=function(M,X){var J=M.h,q=X.U[M.w];
X.bM=!0;if(J==K.Rz){var $=X.add.lnk2.indexOf(X.sF(M.id));if($==-1)throw"e";X.add.lnk2[$]=M.Lt;o.Cv.MS(X,M.id,M.ok,M.Lt)}if(J==K.yY){q.add.SoLd.Impr.v.classID=M.vc;
q.el(X)}if(J==K.ni){var W=JSON.parse(M.CO);for(var $=0;$<W.length;$++)X.U[W[$]].Sw=M.$z[$];X.vV()}if(J==K.HB){var W=JSON.parse(M.CO);
for(var $=0;$<W.length;$++)X.U[W[$]].G8=M.$z[$];X.vV()}if(J==K.bC){var W=JSON.parse(M.CO);for(var $=0;
$<W.length;$++)if(X.U[W[$]].add.lsct!=gO.Vd)X.U[W[$]].add.lspf=M.$z[$]}if(J==K.qh){var T=M.dD,_=M.auE;
delete q.add[T[0]];if(_[0]!="----")q.add[_[0]]=_[1]}if(J==K.C3){q.add.iOpa=M.$z;X.vV()}if(J==K.FF){for(var $=0;
$<M.CO.length;$++){var m=X.U[M.CO[$]];m.EG(!m.cV())}X.vV()}if(J==K.jE){var d=q.hM();d.isEnabled=!d.isEnabled;
q.j$(X);X.vV()}if(J==K.zI){var d=q.uV(X).JS;d.isEnabled=!d.isEnabled;q.vV();X.vV()}if(J==K.zt){var d=q.add.vmsk;
d.isEnabled=!d.isEnabled;if(!d.isEnabled){if(q.i4){q.JS=q.i4;q.i4=null}else q.JS=null}else if(q.JS){q.i4=q.JS;
q.JS=null}q.j$(X);X.vV()}if(J==K.uk){q.H2=!q.H2;X.vV()}if(J==K.vP){q.add.lmfx.masterFXSwitch.v=!q.add.lmfx.masterFXSwitch.v;
q.ws.ma=!0;X.vV()}if(J==K.Qx){q.add.SoLd.filterFX.v.enab.v=!q.add.SoLd.filterFX.v.enab.v;q.o_(X);X.vV()}if(J==K.BE){var A=M.index,p=q.add.lmfx[kf.an[A[0]]].v[A[1]].v;
p.enab.v=!p.enab.v;q.ws.ma=!0;X.vV()}if(J==K.X4){var a=X.U[M.KL],f=X.U[M.QZ],s=M.adB,j=M.abu;if(s=="")delete a.add.lmfx;
else a.add.lmfx=JSON.parse(s);if(j=="")delete f.add.lmfx;else f.add.lmfx=JSON.parse(j);a.ws.ma=!0;f.ws.ma=!0;
X.vV()}if(J==K.Fr){var Y=q.add.SoLd.filterFX.v.filterFXList.v[M.index].v;Y.enab.v=!Y.enab.v;q.o_(X);
X.vV()}if(J==K.au4){q.add.SoLd.filterFX.v=t.b(M.aiT);q.o_(X);X.vV()}if(J==K.Vf){var d=q.hM();d.kx=!d.kx}if(J==K.X7){var d=q.add.vmsk;
d.kx=!d.kx}if(J==K.hx){var G=JSON.parse(M.aq9);X.ty=G[0];X.a1=G[1]}if(J==K.S$){var G=M.W3;for(var $=0;
$<G.length;$+=2){var Q=G[$],m=Q>=0?X.U[Q]:X.Qt[-1-Q];m.add.vogk=JSON.parse(G[$+1]);t.fg.ra(m.add.vogk,m.add.vmsk);
if(Q>=0)m.j$(X)}X.vV()}if(J==K.Mp){q.add.artb=JSON.parse(M.adV);X.vV();o.VN.d2(X,M)}if(J==K.CV){X.c=M.E_;
if(M.a4O)X.k.KV=M.a4O.slice(0);X.OD=M.W3.slice(0);X.LV=M.I8.slice(0);X.fy=X.K8=!0}if(J==K.Kc){q.ed=!q.ed}if(J==K.v0){var Z=M.acv;
for(var $=0;$<Z.length;$++)X.U[$].pZ=Z[$]}if(J==K.Su){if(M.RG)o.UA.ax(X,X.O,null,-M.RG.x,-M.RG.y);if(M.Ju)X.O=M.Ju;
if(M.Lc)X.c=M.Lc[0];X.bQ=null;X.vV();o.VN.d2(X,M);X.Ig(M.KQ);if(M.Fi)X.tO(M.Fi[0])}if(J==K.ld){for(var $=0;
$<M.Jv.length;$+=3)o.Cv.vm(X,X.U[M.Jv[$]],M.Jv[$+1]);if(M.Lc){var g=M.Lc[0];if(g==null)delete X.c;else X.c=g}if(M.a89){var m=X.U[M.Jv[0]];
t.ix(M.Jv[2].N,m.buffer,3)}}if(J==K.bD){q.uV(X).JS=null;q.vV();X.vV()}if(J==K.BI){q.uV(X).JS=M.JS;q.vV();
X.vV()}if(J==K.AQ){o.Cv.aEr(X,M.wC,0)}if(J==K.FV){o.Cv.JG(X,q,!0)}if(J==K.dU){o.Cv.JG(X,X.U[M.nl],M.JS.isEnabled);
o.Cv.WG(X,X.U[M.src],M)}if(J==K.h9){if(M.i4)o.Cv.vm(X,q,null);o.Cv.WG(X,q,M)}if(J==K.NE){X.eJ=JSON.parse(M.Pc)}if(J==K.Jz){X.name=M.a1a}if(J==K.KK){for(var $=0;
$<M.iw.length;$++){var S=M.iw[$],m=X.U[S[0]];m.EC(S[1]);if(S[3])m.add.lnsr=S[3];else delete m.add.lnsr}}if(J==K.gn){for(var $=0;
$<M.U.length;$++)X.U[M.U[$]].add.lclr=M.aCV[$]}if(J==K.h3){var U=M.aCz;for(var $=0;$<M.CO.length;$++){var m=X.U[M.CO[$]],B=U[$];
if(!M.$G)m.add.vstk=t.b(B);else kf.v6(m.add,t.b(B));m.xT(X)}X.vV()}if(J==K.lM){for(var $=0;$<M.mA.length;
$++){var e=M.mA[$];X.U[e[0]].add.vstl=JSON.parse(e[1])}X.vV()}if(J==K.KB){q.a39(M.vc);q.j$(X);X.vV()}X.K8=!0};
o.Cv.prototype.AS=function(M,X){var J=M.h,q=X.U[M.w];X.bM=!0;if(J==K.Rz){var $=X.add.lnk2.indexOf(X.sF(M.id));
if($==-1)throw"e";X.add.lnk2[$]=M.ok;o.Cv.MS(X,M.id,M.Lt,M.ok)}if(J==K.yY){q.add.SoLd.Impr.v.classID=M.Nz;
q.el(X)}if(J==K.ni){var W=JSON.parse(M.CO);for(var $=0;$<W.length;$++)X.U[W[$]].Sw=M.Nz;X.vV()}if(J==K.HB){var W=JSON.parse(M.CO);
for(var $=0;$<W.length;$++)X.U[W[$]].G8=M.Nz;X.vV()}if(J==K.bC){var W=JSON.parse(M.CO);for(var $=0;$<W.length;
$++)if(X.U[W[$]].add.lsct!=gO.Vd)X.U[W[$]].add.lspf=M.Nz[$]}if(J==K.qh){var T=M.auE,_=M.dD;delete q.add[T[0]];
if(_[0]!="----")q.add[_[0]]=_[1]}if(J==K.C3){q.add.iOpa=M.Nz;X.vV()}if(J==K.FF){for(var $=0;$<M.CO.length;
$++){var m=X.U[M.CO[$]];m.EG(!m.cV())}X.vV()}if(J==K.jE){var d=q.hM();d.isEnabled=!d.isEnabled;q.j$(X);
X.vV()}if(J==K.zI){var d=q.uV(X).JS;d.isEnabled=!d.isEnabled;q.vV();X.vV()}if(J==K.zt){var d=q.add.vmsk;
d.isEnabled=!d.isEnabled;if(!d.isEnabled){if(q.i4){q.JS=q.i4;q.i4=null}else q.JS=null}else if(q.JS){q.i4=q.JS;
q.JS=null}q.j$(X);X.vV()}if(J==K.uk){q.H2=!q.H2;X.vV()}if(J==K.vP){q.add.lmfx.masterFXSwitch.v=!q.add.lmfx.masterFXSwitch.v;
q.ws.ma=!0;X.vV()}if(J==K.Qx){q.add.SoLd.filterFX.v.enab.v=!q.add.SoLd.filterFX.v.enab.v;q.o_(X);X.vV()}if(J==K.BE){var A=M.index,p=q.add.lmfx[kf.an[A[0]]].v[A[1]].v;
p.enab.v=!p.enab.v;q.ws.ma=!0;X.vV()}if(J==K.X4){var a=X.U[M.KL],f=X.U[M.QZ],s=M.agz,j=M.aFg;if(s=="")delete a.add.lmfx;
else a.add.lmfx=JSON.parse(s);if(j=="")delete f.add.lmfx;else f.add.lmfx=JSON.parse(j);a.ws.ma=!0;f.ws.ma=!0;
X.vV()}if(J==K.Fr){var Y=q.add.SoLd.filterFX.v.filterFXList.v[M.index].v;Y.enab.v=!Y.enab.v;q.o_(X);
X.vV()}if(J==K.au4){q.add.SoLd.filterFX.v=t.b(M.apx);q.o_(X);X.vV()}if(J==K.Vf){var d=q.hM();d.kx=!d.kx}if(J==K.X7){var d=q.add.vmsk;
d.kx=!d.kx}if(J==K.hx){var G=JSON.parse(M.amk);X.ty=G[0];X.a1=G[1]}if(J==K.S$){var G=M.Ef;for(var $=0;
$<G.length;$+=2){var Q=G[$],m=Q>=0?X.U[Q]:X.Qt[-1-Q];m.add.vogk=JSON.parse(G[$+1]);t.fg.ra(m.add.vogk,m.add.vmsk);
if(Q>=0)m.j$(X)}X.vV()}if(J==K.Mp){q.add.artb=JSON.parse(M.On);X.vV();o.VN.vK(X,M)}if(J==K.CV){X.c=M.cD;
if(M.amb)X.k.KV=M.amb.slice(0);X.OD=M.Ef.slice(0);X.LV=M.ve.slice(0);X.fy=X.K8=!0}if(J==K.Kc){q.ed=!q.ed}if(J==K.v0){var Z=M.a2C;
for(var $=0;$<Z.length;$++)X.U[$].pZ=Z[$]}if(J==K.Su){X.aEi();var g=M.f_,S=0,U;for(var $=0;$<g.length;
$++){var m=g[$],B=m.add.lsct;if(B==gO.Vd)S++;else if(B==gO.A$||B==gO.dw)S--;if(m.add.artb&&S!=0)U="Artboards can not be inside folders."}if(U){X.history.pop();
X.sv--;alert(U);return}if(M.zN)X.O=M.zN;if(M.Lc)X.c=M.Lc[1];X.bQ=null;X.vV();X.Ig(M.f_);o.VN.vK(X,M);
if(M.RG)o.UA.ax(X,X.O,null,M.RG.x,M.RG.y);if(M.Fi)X.tO(M.Fi[1])}if(J==K.ld){for(var $=0;$<M.Jv.length;
$+=3)o.Cv.vm(X,X.U[M.Jv[$]],M.Jv[$+2]);if(M.Lc){var e=M.Lc[1];if(e==null)delete X.c;else X.c=e}if(M.a89){var m=X.U[M.Jv[0]],P=m.buffer;
for(var $=0;$<P.length;$+=4)P[$+3]=255}}if(J==K.bD){q.uV(X).JS=M.JS;q.tD=0;q.vV();X.vV()}if(J==K.BI){q.uV(X).JS=null;
q.tD=0;q.vV();X.vV()}if(J==K.AQ){o.Cv.aEr(X,M.wC,1)}if(J==K.FV){o.Cv.WG(X,q,M)}if(J==K.dU){o.Cv.JG(X,X.U[M.src],M.JS.isEnabled);
o.Cv.WG(X,X.U[M.nl],M)}if(J==K.h9){o.Cv.JG(X,q,M.JS.isEnabled);if(M.i4)o.Cv.vm(X,q,M.i4)}if(J==K.NE){X.eJ=JSON.parse(M.NS)}if(J==K.Jz){X.name=M.iy}if(J==K.KK){for(var $=0;
$<M.iw.length;$++){var h=M.iw[$],m=X.U[h[0]];m.EC(h[2]);if(h[4])m.add.lnsr=h[4];else delete m.add.lnsr}}if(J==K.gn){for(var $=0;
$<M.U.length;$++)X.U[M.U[$]].add.lclr=M.Gh[$]}if(J==K.h3){var V=M.Ty;for(var $=0;$<M.CO.length;$++){var m=X.U[M.CO[$]],I=V[$];
if(!M.$G)m.add.vstk=t.b(I);else kf.v6(m.add,t.b(I));m.xT(X)}X.vV()}if(J==K.lM){for(var $=0;$<M.mA.length;
$++){var F=M.mA[$];X.U[F[0]].add.vstl=JSON.parse(F[2])}X.vV()}if(J==K.KB){q.a39(M.Nz);q.j$(X);X.vV()}X.K8=!0};
o.Cv.xv=function(M,X){var J=0;for(var $=0;$<M.U.length;$++){var q=M.U[$].getName();if(q.startsWith(X)){var W=q.slice(X.length).trim(),T=parseInt(W);
if(!isNaN(T)&&T+""==W&&T>J)J=T}}return J};o.Cv.aEr=function(M,X,J){for(var $=0;$<X.length;$++){var q=X[$],W=M.U[q.HF];
if(q.Bn){W.add.SoLd=JSON.parse(q.Bn[J])}if(q.vD){if(q.vD[1-J]!=null)M.c0(q.vD[1-J]);if(q.vD[J]!=null)M.yE(q.vD[J]);
else W.tD=0}W.el(M)}};o.Cv.aoG=function(M,X){var J=M.yD,q=M.S.Q();if(J!=null&&(J.x!=X.r||J.y!=X.$)){q.x=Math.floor((X.r-q.r)/2);
q.y=Math.floor((X.$-q.$)/2)}else if(J==null){var W=new gc(0,0,X.r,X.$),T=X.WT();if(T!=-1)W=X.U[T].PH();
q.x+=W.x;q.y+=W.y}return q};o.Cv.aas=function(M,X){if(X.i4)X.i4=null;else X.JS=null;X.j$(M);M.vV();X.tD=0};
o.Cv.vm=function(M,X,J){var q=X.hM();if(q==null&&J==null)return;if(q)o.Cv.aas(M,X);if(J==null)return;
if(X.JS)X.i4=J;else X.JS=J;X.j$(M);M.vV()};o.Cv.JG=function(M,X,J){if(X.i4&&J){X.JS=X.i4;X.i4=null}else if(X.JS&&J){X.JS=null}delete X.add.vogk;
delete X.add.vstk;delete X.add.vmsk;X.j$(M);X.Cq=!1;M.bQ=[];M.vV()};o.Cv.WG=function(M,X,J){X.add.vogk=JSON.parse(J.fg);
if(J.XZ)X.add.vstk=JSON.parse(J.XZ);else delete X.add.vstk;X.add.vmsk=J.JS.Q();if(X.JS&&X.add.vmsk.isEnabled)X.i4=X.JS;
X.j$(M);X.Cq=J.Sh;M.bQ=[M.U.indexOf(X)];M.Fg=[];M.vV()};o.wq=function(){o.bv.call(this,"Layer Styles",o.vt);
this.Bv=null;this.I$=null;this.ru=null;this.px=[];this.Jt=null};o.wq.prototype=new o.bv;o.wq.prototype.dx=function(M,X,J,q,W){var T=M.w;
if(T==null)T=J.O[0];var _=J.U[T],m=M.gO;if(this.Bv==null){this.ru=o.wq.EK(J,_);this.Bv=JSON.stringify(this.ru);
if(_.add.lmfx)this.I$=JSON.stringify(_.add.lmfx)}if(_.add.lmfx==null){_.add.lmfx=JSON.parse(kf.default);
for(var $=0;$<kf.order.length;$++)_.add.lmfx[kf.an[$]]={t:"VlLs",v:[]}}if(M.h=="scaleeffects"){if(M.K=="confirm"||M.K=="cancel"){this.dx({h:M.K},X,J,q,W);
return}_.add.lmfx=JSON.parse(this.I$);hA.S4(_.add.lmfx,M.K/100)}else if(M.h=="changeprop"){var d=null;
if(m!=0){var A=this.px[m[0]];if(A==null)A=kf.px[m[0]];A=JSON.parse(A);var p=_.add.lmfx[kf.an[m[0]]].v;
if(p[m[1]]==null)p[m[1]]={t:"Objc",v:A};d=p[m[1]].v;for(var a in A)if(d[a]==null)d[a]=A[a]}if(M.h=="changeprop"){if(m==0){this.ru[M.ko].v=M.K;
o.wq.L8(J,_,this.ru)}else if(M.ko=="lagl"){if(d.uglg&&d.uglg.v){J.Ci(M.K.val);this.ru.gagl.v.val=J.Z$()}else d[M.ko].v=M.K}else if(M.ko=="Lald"){if(d.uglg.v){J.xh(M.K.val);
this.ru.globalAlt=J.Xy()}else d[M.ko].v=M.K}else if((m[0]==3||m[0]==8)&&(M.ko=="Clr"||M.ko=="Grad")){if(M.ko=="Clr"){d.Clr={t:"Objc",v:M.K};
delete d.Grad}if(M.ko=="Grad"){d.Grad={t:"Objc",v:M.K};delete d.Clr}}else{d[M.ko].v=M.K}if(m!=0)this.px[m[0]]=JSON.stringify(d)}if(m!=0)if(d.Ptrn)J.m_(hA.AK(d.Ptrn.v,W.i3))}else if(M.h=="setstl"){var f=M.K.Lefx;
if(f)hA.ad4(f,J,W.i3);hA.adL(M.K,_,null,J);this.ru=o.wq.EK(J,_)}else if(M.h=="st_dupsingle"){var s=_.add.lmfx[kf.an[M.WK[0]]].v;
if(s[M.WK[1]]==null)return;var j=t.b(s[M.WK[1]]);s.splice(M.WK[1],0,j)}else if(M.h=="st_movsingle"){var Y=M.WK[1],s=_.add.lmfx[kf.an[M.WK[0]]].v;
if(s[M.WK[1]]==null)return;var G=Math.max(0,Math.min(s.length-1,Y+M.asN)),Q=s[G];s[G]=s[Y];s[Y]=Q}else if(M.h=="cancel"){if(this.I$==null)delete _.add.lmfx;
else _.add.lmfx=JSON.parse(this.I$);o.wq.L8(J,_,JSON.parse(this.Bv));this.Bv=null;this.I$=null}else if(M.h=="confirm"){var Z=JSON.stringify(_.add.lmfx),g=new hY([11,6],this);
g.data={U:[T],CT:[this.I$],dH:[Z],GF:[this.Bv],zP:[JSON.stringify(this.ru)]};J.Vr(g);this.Bv=null;this.I$=null;
if(Z!=null){var S=JSON.parse(Z);dL.ja(S);S.classID="Lefx";delete S.masterFXSwitch;var U=new jb(r.E.pL);
U.jN=!0;U.data={hC:"set",BU:!0};var B=k$.kh("Lyr",!0);B.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
U.data.Qd={__name:"Set",classID:"setd",null:B,T:{t:"Objc",v:S}};X.a(U)}}else if(M.h=="st_copy"){this.Jt=[this.Bv,this.I$];
this.Bv=null;this.I$=null}else if(M.h=="st_paste"||M.h=="st_clear"){if(M.h=="st_paste"&&this.Jt==null)return;
var e=M.w!=null?[M.w]:J.O.slice(0),P=[],h=[],V=[],I=[];for(var $=0;$<e.length;$++){var _=J.U[e[$]],F=o.wq.EK(J,_);
P.push(_.add.lmfx?JSON.stringify(_.add.lmfx):null);V.push(JSON.stringify(F));if(M.h=="st_paste"){h.push(this.Jt[1]);
I.push(this.Jt[0])}else{h.push(null);F.lrMd.v=0;F.Opct.v.val=100;F.iOpa.v.val=100;F.blIf={v:[]};for(var c=0;
c<10;c++)F.blIf.v.push(0,0,255,255);I.push(JSON.stringify(F))}}var g=new hY([11,6],this);g.data={U:e,CT:P,dH:h,GF:V,zP:I};
this.AS(g.data,J);J.Vr(g);this.Bv=null;this.I$=null}else{var D=this.ru,S=null;if(M.h=="st_delsingle"){S=JSON.parse(this.I$);
S[kf.an[M.WK[0]]].v.splice(M.WK[1],1);S=JSON.stringify(S)}if(S==null)delete _.add.lmfx;else _.add.lmfx=JSON.parse(S);
if(D!=null)o.wq.L8(J,_,D);var g=new hY([11,6],this);g.data={U:[M.w],CT:[this.I$],dH:[S],GF:[this.Bv],zP:[JSON.stringify(D)]};
J.Vr(g);this.Bv=null;this.I$=null}_.ws.ma=!0;J.bM=!0;J.vV()};o.wq.EK=function(M,X){if(X.add.iOpa==null)X.add.iOpa=255;
if(X.add.brst==null)X.add.brst=[1,1,1];var J=X.nA()?["pass"].concat(ae.pi):ae.pi;return{lrMd:{v:J.indexOf(X.Sw)},Opct:{v:{type:"#Prc",val:Math.round(X.G8*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(X.add.iOpa*100/255)},t:"UntF"},blIf:{v:X.NQ.slice(0)},brst:{v:X.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:M.Z$()}},globalAlt:M.Xy(),isFolder:X.nA()}};
o.wq.L8=function(M,X,J){var q=X.nA()?["pass"].concat(ae.pi):ae.pi;X.Sw=q[J.lrMd.v];X.G8=Math.round(J.Opct.v.val*255/100);
X.add.iOpa=Math.round(J.iOpa.v.val*255/100);X.NQ=J.blIf.v.slice(0);X.add.brst=J.brst.v.slice(0);M.Ci(J.gagl.v.val);
M.xh(J.globalAlt)};o.wq.prototype.df=function(M,X){for(var $=0;$<M.U.length;$++){var J=X.U[M.U[$]],q=M.CT[$];
if(q==null)delete J.add.lmfx;else J.add.lmfx=JSON.parse(q);o.wq.L8(X,J,JSON.parse(M.GF[$]));J.ws.ma=!0}X.bM=!0;
X.vV()};o.wq.prototype.AS=function(M,X){for(var $=0;$<M.U.length;$++){var J=X.U[M.U[$]],q=M.dH[$];if(q==null)delete J.add.lmfx;
else J.add.lmfx=JSON.parse(q);o.wq.L8(X,J,JSON.parse(M.zP[$]));J.ws.ma=!0}X.bM=!0;X.vV()};o.on=function(){o.bv.call(this,"Layer Comps",o.sc)};
o.on.prototype=new o.bv;o.on.prototype.dx=function(M,X,J,q){var W=t.b(J.ZU),T=t.b(J.ZU),_=null,m=null,d=null,A=-1,p=!1;
if(M.h=="delLC"){var a=o.on.D1(J.ZU,M.gO),f=J.ZU.lastAppliedComp?J.ZU.lastAppliedComp.v:0;T.list.v.splice(a,1);
if(f==M.gO)delete T.lastAppliedComp;_="Delete Layer Comp"}if(M.h=="editLC"){var a=o.on.D1(J.ZU,M.gO),s=T.list.v[a].v;
if(M.iy!=null)s.Nm.v=M.iy;if(M.ajP!=null){var j=M.ajP,Y=s.capturedInfo.v,G=Y&(1<<j)-1;Y=Y>>j;if((Y&1)==1)Y--;
else Y++;s.capturedInfo.v=(Y<<j)+G}_="Layer Comp properties"}if(M.h=="setLC"){o.on.OK(J);if(M.gO==0)delete T.lastAppliedComp;
else T.lastAppliedComp={t:"long",v:M.gO};_="Switch Layer Comp";p=!0}if(M.h=="updLC"){o.on.OK(J);m=o.on.aG6(J,M.gO);
d=o.on.Z9(J,M.gO);T.lastAppliedComp={t:"long",v:M.gO};_="Update Layer Comp";A=M.gO;p=!0}if(M.h=="addLC"){o.on.OK(J);
var Q=1;for(var $=0;$<T.list.v.length;$++)Q=Math.max(Q,T.list.v[$].v.compID.v)+1;Q+=Math.floor(Math.random()*1e4);
var Z={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(T.list.v.length+1)},compID:{t:"long",v:Q},capturedInfo:{t:"long",v:7}}};
T.list.v.push(Z);T.lastAppliedComp={t:"long",v:Q};_="New Layer Comp";var g=o.on.Z9(J,Q);o.on.RL(J,g,Q)}var S=new hY(_,this);
S.data={arJ:W,ayv:T,a8S:m,axX:d,gO:A,Q1:p};this.AS(S.data,J);J.Vr(S)};o.on.prototype.AS=function(M,X){X.ZU=M.ayv;
X.bM=!0;if(M.axX)o.on.RL(X,M.axX,M.gO);if(M.Q1){var J=X.ZU.lastAppliedComp?X.ZU.lastAppliedComp.v:0,q=o.on.D1(X.ZU,J),W=q==-1?null:X.ZU.list.v[q].v,T=W?W.capturedInfo.v:7;
o.on.Fd(X,J,T);X.vV()}};o.on.prototype.df=function(M,X){X.ZU=M.arJ;X.bM=!0;if(M.a8S)o.on.RL(X,M.a8S,M.gO);
if(M.Q1){var J=X.ZU.lastAppliedComp?X.ZU.lastAppliedComp.v:0,q=o.on.D1(X.ZU,J),W=q==-1?null:X.ZU.list.v[q].v,T=W?W.capturedInfo.v:7;
o.on.Fd(X,J,T);X.vV()}};o.on.OK=function(M){if(M.ZU.lastAppliedComp!=null||!M.zY)return;var X=o.on.Z9(M,0);
o.on.RL(M,X,0);M.zY=!1};o.on.NO=function(M,X,J){M.v.Hrzn.v+=X;M.v.Vrtc.v+=J};o.on.D1=function(M,X){var J=M.list.v;
for(var $=0;$<J.length;$++)if(J[$].v.compID.v==X)return $;return-1};o.on.ac2=function(M){var X=M.layerSettings.v,W=null;
if(X.length==0)return;var J="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),q=X[0].v;
if(q.enab==null)q.enab={t:"bool",v:!0};if(q.Ofst==null)q.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var $=0;$<X.length;$++){var T=X[$].v;if(W==null)W=t.b(T);else for(var _=0;_<J.length;_++){var m=J[_];
if(T[m])W[m]=t.b(T[m])}X[$].v=t.b(W)}};o.on.aDG=function(M,X){var J=M.add.shmd.cmls,q=J.layerSettings.v;
for(var W=0;W<q.length;W++){var T=q[W].v,_=T.compList.v[0].v;if(_==X)return W}return-1};o.on.a6t=function(M,X){var J=o.on.aDG(M,X);
return J==-1?null:M.add.shmd.cmls.layerSettings.v[J].v};o.on.Fd=function(M,X,J){for(var $=0;$<M.U.length;
$++){var q=M.U[$],W=q.add.shmd.cmls;if(W==null)continue;var T=W.layerSettings.v,_=o.on.a6t(q,X);if(_==null){q.EG(!1);
continue}if((J&1)!=0){if(_.enab)q.EG(_.enab.v);else q.EG(!0)}if((J&2)!=0){if(_.Ofst){var m=_.Ofst.v,d=q.d9(M),A=Math.round(m.Hrzn.v-d.x),p=Math.round(m.Vrtc.v-d.y);
if(A!=0||p!=0)o.UA.ax(M,[$],null,A,p)}}if((J&4)!=0){if(_.Lefx){var a=t.b(_.Lefx.v);dL.jT(a);if(JSON.stringify(a)!=JSON.stringify(q.add.lmfx)){q.add.lmfx=a;
q.ws.ma=!0}}else delete q.add.lmfx;if(_.blendOptions){var f=_.blendOptions.v;if(f.Opct)q.G8=Math.round(255*f.Opct.v.val/100);
if(f.fillOpacity)q.add.iOpa=Math.round(255*f.fillOpacity.v.val/100);if(f.Md)q.Sw=q.add.lsct==gO.Vd?"norm":ae.Wz(f.Md.v.BlnM)}else{q.G8=255;
q.Sw=q.nA()?"pass":"norm";q.add.iOpa=255}}}};o.on.aG6=function(M,X){var J={};for(var $=0;$<M.U.length;
$++){var q=M.U[$];if(q.add.shmd==null||q.add.shmd.cmls==null)continue;J["l"+q.add.lyid]=t.b(o.on.a6t(q,X))}return J};
o.on.Z9=function(M,X){var J={};for(var $=0;$<M.U.length;$++){var q=M.U[$],W=q.add.lyid;J["l"+W]=o.on.a40(M,q,X)}return J};
o.on.a40=function(M,X,J){var q=X.add.shmd?X.add.shmd.cmls:null,W={classID:"null"},T=X.d9(M),_={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:T.x},Vrtc:{t:"long",v:T.y}}};
W.compList={t:"VlLs",v:[{t:"long",v:J}]};W.enab={t:"bool",v:X.cV()};W.Ofst=t.b(_);W.FXRefPoint=t.b(q&&q.origFXRefPoint?q.origFXRefPoint:_);
W.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:ae.fF(X.Sw)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*X.G8/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:X.add.iOpa!=null?100*X.add.iOpa/255:100}}}};
if(X.add.vmsk){W.vectorMask={t:"Objc",v:{classID:"null"}};W.vectorMask.v.Ofst=t.b(_)}if(X.add.lmfx){W.Lefx={t:"Objc",v:t.b(X.add.lmfx)};
dL.ja(W.Lefx.v)}return W};o.on.aDY=function(M,X){var J=X.add.lyid;if(X.add.shmd==null)X.add.shmd={};
if(X.add.shmd.cmls==null){X.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:J},layerSettings:{t:"VlLs",v:[{t:"Objc",v:o.on.a40(M,X,0)}]}}}};
o.on.RL=function(M,X,J){for(var $=0;$<M.U.length;$++){var q=M.U[$],W=q.add.lyid;o.on.aDY(M,q);var T=q.add.shmd.cmls,_=T.layerSettings.v,m=X["l"+W];
if(m!=null)m={t:"Objc",v:t.b(m)};var d=o.on.aDG(q,J);if(d==-1){if(m==null)continue;else _.push(m)}else{if(m==null)_.splice(d,1);
else _[d]=m}}};o.on.eh=function(M,X){for(var $=0;$<M.U.length;$++){var J=M.U[$],q=J.add.lyid;if(J.add.shmd==null||J.add.shmd.cmls==null)continue;
var W=J.d9(M),T=Math.round(W.x),_=Math.round(W.y);if(!X){T=-T;_=-_}var m=J.add.shmd.cmls,d=m.layerSettings.v;
if(m.origFXRefPoint)o.on.NO(m.origFXRefPoint,-T,-_);for(var A=0;A<d.length;A++){var p=d[A].v;o.on.NO(p.Ofst,T,_);
var a=p.imageMask,f=p.vectorMask;if(a&&a.v.Ofst)o.on.NO(a.v.Ofst,T,_);if(f&&f.v.Ofst)o.on.NO(f.v.Ofst,T,_)}}};
o.QP=function(){o.bv.call(this,"Adjust Edit",o.GR);this.NS=null;this.QG=null};o.QP.prototype=new o.bv;
o.QP.p8=function(M,X,J,q){if(q)X/=4;var W=0,T=0,_=255,m=0,d=0,A=255;while(T+M[W]<X){T+=M[W];W++}while(m+M[_]<X){m+=M[_];
_--}if(q){W-=Math.round(M[W]/(J/32));_+=Math.round(M[_]/(J/32));if(W<0)d=Math.round(-W*255/(_-W));if(_>255)A=255-Math.round((_-255)*255/(_-W))}return[Math.max(W,0),Math.min(_,255),d,A,100]};
o.QP.prototype.dx=function(M,X,J,q,W){var T=M.h;if(T=="auto"){var _=M.Pv,m=o.QP.getData(J);for(var $=0;
$<m.length;$++){var d=m[$],A;if(_<3){}else{var p=fV.IH("hue2");gg.eA(p,0,[0,-100,0]);A=ia.BZ("hue2",p)}ia.U3(A,d.b3,d.$H,d.Os)}o.QP.k4(J,m);
o.QP.hw(J,m,_<3?[4,16,_]:[19,7,0],this);J.vV()}if(T=="edit_layer")this.aci(M,X,J,q);if(T=="edit"||T=="confirm"||T=="cancel")this.eW(M,X,J,W,!0);
if(T=="start"){if(J.O.length==0)return;var a=J.U[J.O[0]];if(a.add.SoLd&&a.tD<=0&&J.LV.length==0){var f=new jb(r.E.H,!0);
f.J=o.ij;f.data={h:"start",AW:M.T$,tz:M.tz};X.a(f);return}if(!J.rz(X,null,!0))return;if(dw[M.T$]&&M.tz==null){if(J.O.length!=1)alert("Will be applied to "+J.O.length+" layers.");
var f=new jb(r.E.C,!0);f.data={h:r.m.SQ,bf:"afw_"+M.T$};X.a(f)}else{this.eW({h:"edit",tz:M.tz,AW:M.T$},X,J,W);
this.eW({h:"confirm",AW:M.T$},X,J,W)}}};o.QP.prototype.aci=function(M,X,J,q){var W=M.h,T=J.O[0],_=J.U[T],m=ia.get(_.add),f;
if(_.add[m]==null)return;var d=t.b(_.add[m]);for(var A in M.K)d[A]=M.K[A];var p=t.b(d);for(var A in ia.R6)if(ia.R6[A]==m)p.classID=A;
var a=J.history[J.sv];if(a&&a.J==this&&a.data.vc!=null&&a.data.w==T)f=a;else{var s=new jb(r.E.pL,!0),j={classID:"setd",null:k$.kh("AdjL",!0),T:{t:"Objc",v:p}};
s.data={BU:!0,hC:"set",Qd:j};X.a(s);var f=new hY([6,39],this);f.data={w:T,vc:_.add[m],Nz:d,Ml:j};J.Vr(f)}f.data.Nz=d;
f.data.Ml.T.v=p;this.AS(f.data,J)};o.QP.getData=function(M,X,J){var q=[],W=new gc(0,0,M.r,M.$),T=M.LV.length!=0?[-1-M.LV[0]]:M.O;
for(var $=0;$<T.length;$++){var _=T[$],m=_<0?null:M.U[_],d={w:_,eR:_<0?1:m.tD};q.push(d);var A=M.OD[-1-_];
if(0<=_)A=m.tD<=0?null:m.tD==1?m.hM():m.uV(M).JS;var p=A?A.S:m.S;if(M.c){d.Os=M.c.S.Lg(X||A!=null?W:p)}else d.Os=X||A!=null?p.m0(W):p.Q();
if(J)d.Os=J[$].Os.Q();var a=d.Os.o();d.b3=t.j(a*4,M.depth);if(A)o.X_.nK(A.N,A.S,A.color,d.b3,d.Os);else t.fA(m.buffer,p,d.b3,d.Os);
d.$H=d.b3.slice(0);if(M.c){d.Jv=t.j(a,M.depth);t.Rc(M.c.N,M.c.S,d.Jv,d.Os)}}return q};o.QP.ab6=function(M,X,J){if(X==null)return X;
var q=ia.kn(M,X),T;if(q==-1)return X;var W=J.length>>>2,_=t.xW(J),m=.001*W;if(q==0||q==2)T=[[0,255,0,255,100],o.QP.p8(_[1],m,W,q==2),o.QP.p8(_[2],m,W,q==2),o.QP.p8(_[3],m,W,q==2)];
if(q==1)T=[o.QP.p8(_[0],m*.33,W,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var d=fV.IH("levl");
for(var $=0;$<4;$++)el.eA(d,$,T[$]);return d};o.QP.aDO=function(M,X,J,q){var W,T;if(J.t=="name"){var _=0;
for(var m=0;m<M.U.length;m++)if(M.U[m].getName()==J.v.val)_=m;if(M==X&&_==q.w){W=q.b3;T=q.Os}else{var d=M.U[_];
W=d.buffer;T=d.S}}else{T=new gc(0,0,M.r,M.$);W=M==X?q.J_:M.m7()}return[W,T]};o.QP.prototype.eW=function(M,X,J,q){if(this.NS==null){if(M.AW=="aply")J.U[J.O[0]].extend(new gc(0,0,J.r,J.$));
this.NS=o.QP.getData(J,null,M.AW=="fade"?J.pC().data:null);if(M.AW=="aply"||M.AW=="matc")this.NS[0].J_=J.m7()}if(M.h=="edit"){this.QG=[M.AW,M.tz];
var W=this.NS[0],T=o.QP.ab6(M.AW,M.tz,W.b3),_=ia.BZ(M.AW,T);if(M.AW=="fade"||M.AW=="matc"||M.AW=="aply")_=M.tz;
if(_!=null){for(var m=0;m<this.NS.length;m++){var d=this.NS[m];if(M.aX)t.fc(d.b3,d.$H);else if(M.AW=="fade"){var A=ae.Wz(M.tz.Md.v.BlnM),p=M.tz.Opct.v.val/100,a=J.pC().data[m];
t.fc(a.b3,d.$H);if(A=="norm")t.v.z2(d.b3,d.Os,d.$H,d.Os,null,null,null,d.Os,p);else{var f=hA.ah();f.SL=!0;
for(var $=0;$<a.b3.length;$+=4)if(a.b3[$+3]!=d.b3[$+3]){f=null;break}t.v.r$(A,d.b3,d.Os,d.$H,d.Os,d.Os,p,f)}}else if(M.AW=="matc"){var s;
if(_.noReference&&_.noReference.v)s=d.b3;else{var j=_.Srce.v,Y=j[1].v.val,G=X.td,Q=J;for(var $=0;$<G.length;
$++)if(G[$].name==Y)Q=G[$];var Z=o.QP.aDO(Q,J,j[0],d);s=Z[0]}h7(d.b3,d.Os.r,d.Os.$,s,d.$H,[_.Lght.v,_.ClrR.v,_.Fade.v,_.neutralizeColor?_.neutralizeColor.v:!1])}else if(M.AW=="aply"){_=_.With.v;
var g=_.T.v,Z=o.QP.aDO(J,J,g[1],d),s=Z[0],S=Z[1],U=_.Clcl?_.Clcl.v.Clcn:null,A=U?ae.Wz(U):"norm",p=_.Opct?_.Opct.v.val/100:1,B=["RGB","Rd","Grn","Bl","Trsp"].indexOf(g[0].v.enum),T=_.Invr&&_.Invr.v;
if(T||B!=0){s=s.slice(0);if(T)t.a4n(s);if(B!=0){var e=t.j(S.o());t.SF(s,e,B-1);if(B==4)t.vN(e);for(var P=0;
P<3;P++)t.ix(e,s,P)}}if(U=="Add"||U=="Sbtr"){var h=1/_.Scl.v,V=_.Ofst.v,I=U=="Add"?1:-1,F=new Uint8ClampedArray(d.$H.buffer);
for(var $=0;$<s.length;$+=4){F[$]=(d.b3[$]+I*s[$])*h+V;F[$+1]=(d.b3[$+1]+I*s[$+1])*h+V;F[$+2]=(d.b3[$+2]+I*s[$+2])*h+V}}else{var f=hA.ah();
f.SL=_.PrsT&&_.PrsT.v;d.$H.fill(0);d.$H.set(d.b3);t.v.r$(A,s,S,d.$H,d.Os,d.Os,p,f)}}else ia.U3(_,d.b3,d.$H,d.Os)}o.QP.k4(J,this.NS)}}if(M.h=="cancel"){o.QP.a6h(J,this.NS);
this.NS=null}if(M.h=="confirm"){var c={fade:[2,11],aply:[2,12],matc:[4,18]},D=c[M.AW];if(D==null)D=ia.names[M.AW];
var n=ia.kn(M.AW,this.QG[1]);if(n!=-1)D=[4,16,n];o.QP.hw(J,this.NS,D,this);this.NS=null;if(n==-1)o.QP.al(X,this.QG)}J.vV()};
o.QP.al=function(M,X){var J=X[0],q=X[1],W,T;if(ia.Cr[J]){W=ia.Cr[J];if(dw[J])T=q}if(fV.Cr[J]){W=fV.Cr[J];
if(dw[J])T=q}if(J=="fade"){W="fade";T=q}if(J=="matc"){W="matchColor";T=q}if(J=="aply"){W="applyImageEvent";
T=q}if(J=="GEfc"){if(T.GEfs)T=T.GEfs.v[0].v}if(W==null)return;var _=new jb(r.E.pL,!0);_.data={BU:!0,hC:W};
if(T){T=t.b(T);_.data.Qd=T}M.a(_)};o.QP.a6h=function(M,X){o.QP.Rp(M,X)};o.QP.hw=function(M,X,J,q){for(var $=0;
$<X.length;$++){var W=X[$],T=M.U[W.w],_=W.w<0?M.OD[-1-W.w]:W.eR<=0?null:W.eR==1?T.hM():T.uV(M).JS;if(_){_.Wn();
_.A8=!0;if(T)T.j$(M)}else{T.Wn();T.vV()}delete W.$H;delete W.Jv}var m=new hY(J,q);m.data=X;M.Vr(m);M.bM=!0};
o.QP.k4=function(M,X,J){for(var $=0;$<X.length;$++){var q=X[$],W=M.U[q.w],T=J?q.b3:q.$H,_=q.Os;if(q.eR==0){W.extend(_);
if(q.Jv){t.fA(q.b3,_,W.buffer,W.S);t.v.z2(T,_,W.buffer,W.S,q.Jv,_,0,_,1)}else t.fA(T,_,W.buffer,W.S)}else{var m=q.w<0?M.OD[-1-q.w]:q.eR==1?W.hM():W.uV(M).JS;
m.extend(_);if(q.Jv){var d=t.j(_.o()*4);t.fc(q.b3,d);t.v.z2(T,_,d,_,q.Jv,_,0,_,1);o.X_.z4(d,_,m)}else o.X_.z4(T,_,m);
m.A8=!0;if(W)W.j$(M)}if(W)W.vV()}if(!J)o.QP.a0c(M,X)};o.QP.Rp=function(M,X){for(var $=0;$<X.length;$++){var J=X[$],q=M.U[J.w],W=J.Os,T=t.j(W.o()*4,M.depth);
if(J.eR==0){t.fA(q.buffer,q.S,T,W);q.extend(W);t.fA(J.b3,W,q.buffer,q.S);q.Wn()}else{var _=J.w<0?M.OD[-1-J.w]:J.eR==1?q.hM():q.uV(M).JS;
o.X_.nK(_.N,_.S,_.color,T,W);_.extend(W);o.X_.z4(J.b3,W,_);_.Wn();_.A8=!0;if(q)q.j$(M)}J.b3=T;if(q)q.vV()}M.bM=!0};
o.QP.iK=function(M){var X=0;for(var $=0;$<M.length;$++)X+=M[$].b3.length;return X};o.QP.a0c=function(M,X){var J=o.QP.a1f(M),q=~J;
if(J==16777215)return;for(var $=0;$<X.length;$++){var W=X[$],T=M.U[W.w],_=W.Os;if(W.eR!=0)continue;T.extend(_);
var m=_.x-T.S.x,d=_.y-T.S.y,A=T.S.r,p=new Uint32Array(W.b3.buffer),a=new Uint32Array(T.buffer.buffer);
for(var f=0;f<_.$;f++)for(var s=0;s<_.r;s++){var j=f*_.r+s,Y=(f+d)*A+(s+m);a[Y]=a[Y]&J|p[j]&q}T.Wn();
T.vV()}M.vV()};o.QP.a1f=function(M){var X=M.k.KV;return X[2]*16711680|X[1]*65280|X[0]*255};o.QP.prototype.df=function(M,X){var J=X.U[M.w];
if(M.vc!=null)J.add[ia.get(J.add)]=M.vc;else o.QP.Rp(X,M);X.vV()};o.QP.prototype.AS=function(M,X){var J=X.U[M.w];
if(M.vc!=null)J.add[ia.get(J.add)]=M.Nz;else o.QP.Rp(X,M);X.vV()};o.QP.prototype.iK=function(M){return M.vc==null?o.QP.iK(M):0};
o.hD=function(){o.bv.call(this,"Filter Edit",o.ij);this.NS=null;this.Nq=null;this.h=null;this.QG=null};
o.hD.prototype=new o.bv;o.hD.prototype.dx=function(M,X,J,q,W){if(M.h=="start"){if(J.O.length==0)return;
var T=J.U[J.O[0]];if(T.add.SoLd&&T.tD<=0&&J.LV.length==0){}else if(!J.rz(X,null,!0))return;var _=M.AW;
if((dw[_]||fV.W[_])&&M.tz==null){if(J.O.length!=1)alert("Will be applied to "+J.O.length+" layers.");
var m=new jb(r.E.C,!0);m.data=o.hD.ap1(_,this.eo(J,_),M.hP);X.a(m)}else{var d={h:"edit",AW:_,tz:M.tz,iO:this.eo(J)};
this.dx(d,X,J,q,W);d.h="confirm";delete d.tz;this.dx(d,X,J,q,W)}}if(M.h=="edit"||M.h=="cancel"||M.h=="confirm"){if(M.h=="edit")this.QG=[M.AW,M.tz];
if(M.iO)this.aDE(M,X,J,W);else this.apw(M,X,J,W)}if(M.h=="applylast"&&this.QG!=null){var d={h:"edit",AW:this.QG[0],tz:this.QG[1],iO:this.eo(J)};
this.dx(d,X,J,q,W);d.h="confirm";delete d.tz;this.dx(d,X,J,q,W)}};o.hD.ap1=function(M,X,J){var q=fV.W[M];
if(q)return{h:r.m.ga,J:q,f4:{iO:X,hP:J}};else return{h:r.m.SQ,bf:"afw_"+M,iO:X}};o.hD.prototype.eo=function(M,X){var J=M.U[M.O[0]],q;
if(J.add.SoLd&&J.tD<=0&&M.LV.length==0){q={w:M.O[0],index:0};if(J.add.SoLd.filterFX!=null){var W=J.add.SoLd.filterFX.v.filterFXList.v;
q.index=W.length;for(var $=0;$<W.length;$++)if(fV._v(W[$].v)=="rigidTransform")q.index=$}}return q};
o.hD.prototype.aDE=function(M,X,J,q){var W=J.U[M.iO.w],T=M.AW;if(M.h=="edit"){if(this.h==null){var _=fV.names[T];
if(_==null)_=ia.names[T];if(T=="blendOptions")_=[14,10];this.h=new hY(_,this);this.h.data={iO:M.iO,a9O:t.b(W.add.SoLd)}}if(!W.mT()){W.add.SoLd.filterFX=fV.U2();
var m=this.h.data.vD=dD.ans(W.add.SoLd.placed.v);J.yE(m);if(J.c){m.JS.N=J.c.N.slice(0);m.JS.S=J.c.S.Q();
m.JS.color=0;this.h.data.E_=J.c;J.c=null}W.el(J)}var d=W.add.SoLd.filterFX.v.filterFXList.v;if(d[M.iO.index]==null){d.push(fV.re(T,q))}if(M.tz){d[M.iO.index].v.enab.v=M.aX!=!0;
if(T=="blendOptions")d[M.iO.index].v.blendOptions.v=M.tz;else d[M.iO.index].v.Fltr.v=M.tz}this.h.data.afR=t.b(W.add.SoLd);
this.AS(this.h.data,J)}if(M.h=="cancel"){if(this.h)this.df(this.h.data,J);this.h=null}if(M.h=="confirm"){if(this.h)J.Vr(this.h);
o.QP.al(X,this.QG);this.h=null}};o.hD.prototype.apw=function(M,X,J,q){if(this.NS==null){var W=fV.$S(M.AW,M.tz);
this.NS=o.QP.getData(J,W.x!=0||W.y!=0,M.AW=="VaPo"?[{Os:M.J_[1]}]:null)}if(M.h=="edit"){var T=JSON.stringify(M.tz);
if((M.tz==null||T!=this.Nq)&&M.aX!=!0)for(var $=0;$<this.NS.length;$++){var _=this.NS[$],m={S:_.Os,buffer:_.b3},d={S:_.Os,buffer:_.$H};
if(M.AW=="Avrg"&&_.Jv){m.buffer=_.b3.slice(0);t.S6(_.Jv,m.buffer)}fV.U3(M.AW,m,M.tz,t.vT(q.pU),t.vT(q.Yt),d,[J.add.lnk2?J.add.lnk2:[],J.U[J.O[0]].hM(),J.OD,J.ZX()]);
if(M.AW=="VaPo"){t.fA(M.J_[0],M.J_[1],d.buffer,d.S)}if(M.AW=="Avrg"&&_.Jv){var A=_.b3.length;for(var $=0;
$<A;$+=4)_.$H[$+3]=_.b3[$+3]}this.Nq=T}o.QP.k4(J,this.NS,M.aX)}if(M.h=="cancel"){o.QP.a6h(J,this.NS);
this.NS=null;this.Nq=null}if(M.h=="confirm"){if(M.AW=="VaPo"){this.NS.a9y=JSON.stringify(J.Xk);this.NS.LX=JSON.stringify(M.K);
J.Xk=M.K}o.QP.hw(J,this.NS,fV.names[M.AW],this);this.NS=null;this.Nq=null;o.QP.al(X,this.QG)}J.vV();
J.bM=!0};o.hD.prototype.df=function(M,X){if(M.LX)X.Xk=JSON.parse(M.a9y);if(M.iO){var J=X.U[M.iO.w];if(M.vD)X.c0(M.vD);
if(M.E_)X.c=M.E_;J.add.SoLd=t.b(M.a9O);if(J.mT())J.o_(X);else{J.el(X);J.tD=0}}else o.QP.Rp(X,M);X.vV();
X.bM=!0};o.hD.prototype.AS=function(M,X){if(M.LX)X.Xk=JSON.parse(M.LX);if(M.iO){var J=X.U[M.iO.w];if(M.vD)X.yE(M.vD);
if(M.E_)X.c=null;J.add.SoLd=t.b(M.afR);if(J.mT())J.o_(X);else J.el(X);if(!J.Yh())J.l4+=32}else o.QP.Rp(X,M);
X.vV();X.bM=!0};o.hD.prototype.iK=function(M){return M.iO==null?o.QP.iK(M):0};var bN={Ru:"0",Vk:"1",e2:"2",xj:"3",JN:"3.5",pA:"4",sw:"5",gx:"6",sn:"7",H:"8",m$:"8.5",EY:"8.8",QH:"9",Ua:"10",Iz:"11",pX:"12",Le:"13",s3:"14",Yp:"15",ef:"16",I2:"17",pS:"18",BC:"19",M3:"21",UR:"22",aO:"23",VB:"23.0",CN:"23.1",O1:"23.2",$c:"23.3",w7:"23.4",rk:"23.5",Y7:"23.6",asG:"30",dP:"31",Yd:"40",ly:"41",zZ:"42"};
bN.yr={};bN.yr[bN.Vk]=["abr","brushes",ft,[9,3],3];bN.yr[bN.e2]=["grd","gradients",dB,[12,37],4,36,36];
bN.yr[bN.xj]=["shc","contours",eB,[12,21],0];bN.yr[bN.JN]=["acv","curves",hg,[4,2],0];bN.yr[bN.pA]=["asl","styles",dT,[12,22],5];
bN.yr[bN.sw]=["pat","patterns",e_,[12,62],6];bN.yr[bN.gx]=["csh","shapes",iv,[12,77],7];bN.yr[bN.sn]=["aco","swatches",hu,[9,8],0,22,22];
bN.yr[bN.H]=["atn","actions",bC,[9,9],2];bN.yr[bN.m$]=["tpl","tpresets",gL,[9,12],0];bN.yr[bN.EY]=["icc","profiles",j$,"LUTs",8];
function hY(M,X,J){if(J==null)J=!1;this.name=M;this.J=X;this.ZC=J;this.data=null;this.ab7=Date.now()}hY.prototype.iK=function(){return this.J?this.J.iK(this.data):0};
var k$={};k$.kh=function(M,X){var J={t:"Clss",v:{classID:M}};if(X)J={t:"Enmr",v:{classID:M,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[J]}};k$._7=function(M,X){var J={classID:"Lyr"};J[M]=X;return{hC:"set",Qd:{classID:"null",null:k$.kh("Lyr",!0),T:{t:"Objc",v:J}}}};
k$.aC3=function(M,X,J,q,W){var T=new jb(r.E.pL,!0),_=[],$=0,m=k$.FT(X,J,q,_);while(_.length!=0){var d=_.pop();
$++;if(!d.i)continue;console.log($-1);if(d.hC=="conditional"){var A=M.U[M.O[0]],p=d.Qd.null.v.Cndt,a=!1;
if(p=="Bckg")a=!1;else if(p=="Pxel"&&M.KE(!1))a=!0;else if(p=="Adjs"&&ia.get(A.add))a=!0;else if(p=="Shp"&&A.add.vogk)a=!0;
else if(p=="Grup"&&A.nA())a=!0;else if(p=="Opn"&&M!=null)a=!0;else if(p=="32Bt")a=!1;else if(p=="RGB")a=!0;
var f=d.Qd.then,s=d.Qd.else;if(a&&f)k$.FT(X,f.v[0].v.val,f.v[1].v.val,_);if(!a&&s)k$.FT(X,s.v[0].v.val,s.v[1].v.val,_)}else if(d.hC=="stop"){if(d.Qd.Cntn&&d.Qd.Cntn.v==!0)window.confirm(d.Qd.Msge.v);
else{alert(d.Qd.Msge.v);break}}else if(d.hC=="play"){var j=d.Qd.null.v,Y=new jb(r.E.C,!0);Y.data={h:r.m.im,FK:[j[0].v.val,j[1].v.val]};
W.a(Y)}else{T.data={hC:d.hC,Qd:d.Qd};W.a(T)}}};k$.tG=function(M,X,J){var q;for(var $=0;$<M.length;$++){if(M[$].AC!=J)continue;
var W=M[$].dy;for(var T=0;T<W.length;T++){if(W[T].AC!=X)continue;q=W[T]}}return q};k$.FT=function(M,X,J,q){var W=k$.tG(M,X,J).dy,T=W.length;
for(var $=0;$<T;$++)q.push(W[T-1-$])};k$.a2M=function(M){var X=M.hC,J=M.Qd,q,_,m,d,A;if(J&&J.null)q=J.null.v[0];
if(J&&q==null&&J.At)q=J.At.v[0];if(q&&q.t=="obj ")q=q.v[0];var W=q&&q.v?q.v.classID:null,T=["purge"];
if(T.indexOf(X)!=-1)return X[0].toUpperCase()+X.slice(1);if(X=="GEfc"||X=="paintDaubs")return iC.names[J.GEfk.v.GEft][1];
A=ia.Cr;for(_ in A)if(A[_]==X)m=_;A=fV.Cr;for(_ in A)if(A[_]==X)d=_;A=fV.Cr;for(_ in A)if(_==X)d=_;if(m){var p=ia.kn(m,J);
if(p!=-1)return[4,16,p];return ia.names[m]}if(d)return fV.names[d];var a=k$.ajU;if(X=="make"){if(q){if(W=="AdjL")return[6,1];
else if(W=="layerSection")return J.From?[6,9]:[6,20];else if(W=="Lyr")return[6,13];else if(W=="Chnl"&&q.v.enum=="Msk")return[6,2];
else if(W=="contentLayer")return[6,48,1];else if(W=="BckL")return"Make Background Layer";else if(W=="Path")return"Make Path";
else if(W=="TxLr")return"Make Text Layer";else if(W=="slice")return"Make Slices";else if(W=="Dcmn")return[11,7];
else if(W=="Gd")return[23,4];else if(W=="Brsh")return["VAR0: VAR1",[12,87],[9,3]]}if(J.Nw){W=J.Nw.v.classID;
if(W=="Dcmn")return[11,7];else if(W=="Chnl"||W=="SCch")return"New Channel"}}else if(X=="deselect"){if(W=="Path")return"Deselect current path";
else throw W}else if(X=="draw"){return"Draw"}else if(X=="select"){if(W=="Chnl"){var f={Msk:"Mask",Grn:"Green",Rd:"Red",Bl:"Blue",RGB:"RGB"}[q.v.enum];
if(f==null)f="";return"Select "+f+" Channel"}else if(W=="Mn")return"Select Panel \""+q.v.enum+"\"";else if(W=="Lyr"){if(q.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[q.v.enum]+" Layer";
return"Select Layer \""+q.v.val+"\""}else if(W=="Path")return"Select Path";else if(W=="Brsh")return"Select Brush";
else if(W=="Dcmn")return"Select Document"}else if(a[X]&&W=="Chnl"){var s=q.v.keyID=="fsel";return a[X]+" "+(s?"Selection":"Channel")}else if(X=="set"){if(W=="Lyr")return"Set Current Layer";
else if(W=="AdjL")return[6,39];else if(W=="contentLayer")return[6,48,2];else if(W=="Prpr"){var j=q.v.keyID;
if(j=="TxtS")return"Set Text Style";else if(j=="paragraphStyle")return"Set Paragraph Style";else if(j=="Lefx")return[11,6];
else if(j=="FlIn")return"Set "+kd.get([1,14]);else if(j=="GnrP")return"Set General Preferences";else console.log(j)}else if(W=="Clr")return"Set "+(q.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(W=="Brsh")return"Set Brush";else if(W=="Path")return"Set Work Path";else console.log(W)}else if(X=="move"){if(W=="Lyr")return"Move Layer";
else if(W=="Chnl"&&q.v.keyID=="fsel")return[7,7];else console.log(W)}else if(X=="show"||X=="hide"){var Y="";
if(W=="Lyr")Y="Layer";if(W=="Chnl")Y="Channel";if(W=="filterFX")Y="Filter Effect";return(X=="show"?"Show":"Hide")+" "+Y}else if(X=="reset"){if(W=="Clr")return"Reset Colors"}else if(X=="exchange"){if(W=="Clr")return[22,7,0]}else if(X=="rotateEventEnum")return[2,5];
else if(X=="flip"){var G=J.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,G?2:3]]}if(X=="duplicate"&&W=="Dcmn")return"Duplicate first document";
if(W=="Chnl"){if(X=="duplicate"){if(q.v.keyID=="fsel")return"Selection to Channel";else return"Duplicate Channel"}if(X=="delete")return"Delete Channel"}if(X=="transform")return q&&q.v.keyID=="fsel"?[7,10]:[10,16];
if(X=="convertMode"){var Q="Convert Mode",Z=J.Dpth;if(Z)Q+=" To "+Z.v+"-Bit";return Q}var g={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],stroke:[14,9],colorRange:[7,8],desaturate:[19,7,0],Dstt:[19,7,0],delete:J?W=="Lyr"?[6,31]:W=="ASet"?"Delete Action Set":"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",placedLayerConvertToLayers:"Convert To Layers",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",selectAllLayers:"Select All Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",assignProfile:"Assign Profile",convertToProfile:"Convert To Profile",conditional:"If"},S=g[X];
if(S==null)S=k$.a4h[X];if(S)return S;return X};k$.a4h={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
k$.ajU={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
k$.apK=function(M,X,J,q){var W=M.hC,T=M.Qd,_=!1,m=new jb(r.E.H,!0),a,f,s,j;m.J=o.HX;var d=new jb(r.E.C,!0),A=["purge","updatePlacedLayer"];
if(A.indexOf(W)!=-1)return;var p=W;while(p.length<4)p+=" ";j=ia.Cr;for(a in j)if(j[a]==p)f=a;j=fV.Cr;
for(a in j)if(j[a]==p)s=a;j=fV.Cr;for(a in j)if(a==p)s=a;if(W=="fade")f=W;if(W=="matchColor")f="matc";
if(W=="applyImageEvent")f="aply";if(f){m.J=o.GR;m.data={h:"start",T$:f,tz:T}}else if(s){m.J=o.ij;m.data={h:"start",AW:s,tz:T}}else if(W=="GEfc"||W=="paintDaubs"){m.J=o.ij;
m.data={h:"start",AW:"GEfc",tz:T}}else if(W=="convertMode"){var Y=T.Dpth;if(Y==null)return;m.J=o.zS;
m.data={h:"cmode",K:Y.v}}else if(W=="assignProfile"||W=="convertToProfile"){var G=T.profile;if(G==null)G=T.T;
m.J=o.zS;m.data={h:"cprof",K:G?G.v:null,a4K:W[0]=="c"}}else if(W=="imageSize"||W=="canvasSize"||W=="revealAll"||W=="trim"||W=="crop"){m.J=o.BP;
m.data={h:"fromAction",xo:M}}else if(W=="fill"||W=="stroke"||W=="delete"&&T==null){var Q=null;if(q.O.length!=0)Q=q.U[q.O[0]];
if(T&&JSON.stringify(T).indexOf("aiHeal")!=1)Q=null;var Z=t.vT(J.pU);if(Q!=null&&W=="fill"&&Q.add.TySh){var g="var c = new SolidColor();  c.rgb.red="+Z.z+";  c.rgb.green="+Z.L+";  c.rgb.blue="+Z.g+";  app.activeDocument.activeLayer.textItem.color = c;";
d.data={h:r.m._i,lB:g}}else if(Q!=null&&W=="delete"&&Q.add.TySh){m.J=o.JT;m.data={h:"insertText",K:""}}else if(Q!=null&&W=="fill"&&Q.eQ()){var m=new jb(r.E.pL,!0),T={classID:"setd",null:k$.kh("contentLayer",!0),T:{t:"Objc",v:{}}};
o.Cv.Mm({Clr:{t:"Objc",v:t.NX.$J(t.vT(J.pU))}},T.T.v,0);m.data={hC:"set",Qd:T};X.a(m);return}else if(W=="stroke"&&T&&T.null==null){m.J=o.g$;
m.data={h:"stroke",a9s:T}}else{if(W=="stroke"&&T&&T.Usng)m.J=o.Cr[T.Usng.v.classID];else m.J=J.Rk==o.yF?o.yF:o.Vk;
m.data={h:"fromAction",xo:M}}}else if(W=="colorRange"||W=="grow"||W=="similar"){m.J=o.R7;m.data={h:"fromAction",xo:M}}else if(W=="set"&&T&&T.T&&T.T.v.Ordn=="Al"&&J.Rk==o.JT&&X.De().mG()){m.J=o.JT;
m.data={h:"selectAll"}}else if(k$.a4h[W]||k$.ajU[W]&&(!1||T.With&&T.With.v[0].v.keyID=="fsel"||T.From&&T.From.v[0].v.keyID=="fsel"||T.null&&T.null.v[0].v.keyID=="fsel"||T.T.v[0]&&T.T.v[0].v.keyID=="fsel")){m.J=o.FN;
m.data={h:"fromAction",xo:M}}else if(W=="rasterizeLayer"){m.data={h:T.What?T.What.v.rasterizeItem=="vectorMask"?K.pr:K.a2A:K.t$}}var S={copyToLayer:K.$U,cutToLayer:K.HN,mergeLayersNew:K.J3,mergeVisible:K.TB,flattenImage:K.aBr,newPlacedLayer:K.QT};
if(S[W])m.data={h:S[W],Qd:T};if(m.data){X.a(m);return}if(W=="collapseAllGroupsEvent"){for(var $=0;$<q.U.length;
$++){var Q=q.U[$];if(Q.nA())Q.add.lsct=gO.dw}q.K8=!0;return}if(W=="desaturate"||W=="Dstt"){m.J=o.GR;
m.data={h:"auto",Pv:3};if(q&&q.U[q.O[0]].add.SoLd==null)X.a(m);return}if(W=="close"){if(T&&T.Svng.v.YsN=="Ys"){d.data={h:r.m.$A};
X.a(d)}d.data={h:r.m.pN,k7:q};X.a(d);return}if(W=="save"){d.data={h:r.m.$A};X.a(d);return}if(W=="copyMerged"){d.data={h:r.m.LG,IM:!0,oq:!0};
X.a(d);return}if(W=="placedLayerReplaceContents")d.data={h:r.m.xa,rF:!0};if(W=="placedLayerConvertToLayers"){d.data={h:r.m.bY};
X.a(d);var U=X.td[X.td.length-1];U.O=[];for(var $=0;$<U.U.length;$++)U.O.push($);m.J=o.HX;m.data={h:K.S8};
X.a(m);var B=q.U[q.O[0]];m.J=o.HX;m.data={h:K.H4,U:U.c1(),xN:U,Dn:q,a0Z:[B]};X.a(m);d.data={h:r.m.pN};
X.a(d);var e=q.history[q.history.length-1];e.name="Convert to Layers";var P=q.U[q.O[0]];P.EC(B.getName());
o.UA.ax(q,q.AX(),null,B.S.x,B.S.y);return}var S={placedLayerEditContents:r.m.bY,placedLayerExportContents:r.m.aaN,copyEvent:r.m.LG,paste:r.m.Rw};
if(S[W])d.data={h:S[W],oq:!0};if(d.data){X.a(d);return}var h=T.null?T.null.v:null,V=h?h[0].v.classID:"";
if(W=="make"){if(T.null==null&&T.Nw)V=T.Nw.v.classID;if(V=="AdjL"){m.data={h:K.La,Qd:T}}else if(V=="layerSection"){m.data=T.From?{h:K.S8}:{h:K.Q2};
if(T.Usng){var I=T.Usng.v;if(I.Nm)m.data.iy=I.Nm.v;if(I.Clr)m.data.Gh=k$.Jd(I)}}else if(V=="Lyr"){if(T.Usng&&T.Usng.v.length==2)m.data={h:K.avA};
else{m.data={h:K.YO};if(T.Usng)m.data.iy=T.Usng.v.Nm.v;if(T.below&&T.below.v)m.data.a9m=!0}}else if(V=="Chnl"&&T.At&&T.At.v[0].v.enum=="Msk"){m.data={h:K.$0,Em:T.Usng.v.UsrM}}else if(V=="Chnl"||V=="SCch"){m.data={h:K.CV,NL:"fromAction",K:M}}else if(V=="contentLayer"){m.data={h:K.d6,Qd:T}}else if(V=="BckL"){q.U[q.O[0]].aCS();
return}else if(V=="Dcmn"){if(T.Nw==null)return;var F=T.Nw.v;d.data={h:r.m.f5,AR:dD.ap5(F,J)}}else if(V=="Ptrn")d.data={h:r.m.Dc,iw:0};
else if(V=="Brsh")d.data={h:r.m.Dc,iw:1};else if(V=="Path"){var c=T.At;if(c&&c.v&&c.v[0]&&c.v[0].v&&c.v[0].v.enum=="vectorMask"){m.J=o.HX;
var D=!1,n=!1;if(T&&T.Usng){var I=T.Usng.v;D=I.vectorMaskEnabled=="RvlA";n=I[0]&&I[0].v.classID=="Path"}m.data={h:K.FV,axC:!D,apg:n}}else{m.J=o.gf;
m.data={h:"pathedit",NL:"fromsel"}}}else if(V=="TxLr"){m.J=o.JT;m.data={h:"fromAction",xo:M}}else if(V=="slice"){m.J=o.ZT;
m.data={h:"fromAction",xo:M}}else if(V=="Gd"){var k=[[],[]],F=T.Nw.v;k[F.Ornt.v.Ornt=="Vrtc"?0:1].push(F.Pstn.v.val);
var b=kI.ge(k);o.UA.JB(b,q.ob());m.J=o.oa;m.data={h:"gids",l$:b}}else{console.log(W,V,T);throw"e"}}else if(W=="divide"){m.J=o.ZT;
m.data={h:"fromAction",xo:M}}else if(W=="deselect"){if(V=="Path"){q.Fg=[];q.bQ=[];q.K8=q.fy=!0;return}else throw V}else if(W=="selectNoLayers"){q.O=[];
q.bM=!0}else if(W=="selectAllLayers"){q.O=[];for(var $=0;$<q.U.length;$++)q.O.push($);q.bM=!0;return}else if(W=="select"){var N=o.Cr;
if(V=="Lyr"){var L=T.selectionModifier,R=L?L.v.selectionModifierType:null,i=k$.vp(q,h[0]),v=0;if(i==-1){alert("Layer "+h[0].v.val+" does not exist.");
return}var Q=q.U[i];if(Q.nA()&&Q.hM()&&L==null)v=1;m.data={h:K.a0,w:i,h_:R?["addToSelection","addToSelectionContinuous"].indexOf(R):null,CJ:v}}else if(V=="Path"){if(h[0].v.keyID=="WrPt"){q.Fg=[0];
q.K8=q.fy=!0;return}else if(h[0].t=="name"){for(var $=0;$<q.Qt.length;$++)if(q.Qt[$].name==h[0].v.val){q.Fg=[$];
q.K8=q.fy=!0;return}}else throw h[0]}else if(V=="Chnl"){var E=h?h[0].v.enum:"",u=["Rd","Grn","Bl"].indexOf(E);
if(u!=-1){var l=T.Extd&&T.Extd.v?q.k.KV.slice(0):[0,0,0];l[u]=1;m.J=o.Cm;m.data={h:"setcls",KV:l}}else m.data={h:K.a0,w:i,CJ:E=="RGB"?0:1}}else if(V=="Dcmn"){if(X.td.length<2)return;
d.data={h:r.m.agI,dir:T.null.v[0].v.val}}else if(V=="Brsh"){var x=J.uh.list,y;for(var $=0;$<x.length;
$++){if(x[$].v.Nm.v.split("/").pop()==h[0].v.val)y=x[$].v}if(J.Rk==o.oa){d.data={h:r.m.ga,J:o.Vk};X.a(d)}d.data={h:r.m.OA,iw:bN.s3,Ro:y}}else if(V=="Mn"){if(h[0].v.enum=="Scl")d.data={h:r.m.ga,J:o.zS,f4:{Em:3}};
if(h[0].v.enum=="Plce")d.data={h:r.m.xa,aJm:!0};if(h[0].v.enum=="ZmIn"){m.J=o.QC;m.data={h:"zoom",j_:!0}}if(h[0].v.enum=="ZmOt"){m.J=o.QC;
m.data={h:"zoom",j_:!1}}if(h[0].v.enum=="FtOn"){m.J=o.QC;m.data={h:"adapt",K:"fitscr"}}}else if(N[V]){d.data={h:r.m.ga,J:N[V]}}else throw V}else if(W=="draw"){m.J=o.gf;
m.data={h:"fromAction",xo:M}}else if(W=="gradientClassEvent"){m.J=o.zz;m.data={h:"fromAction",xo:M}}else if((W=="set"||W=="reset"||W=="exchange")&&V=="Clr"){d.data={h:r.m.OA,iw:bN.M3,NL:W=="reset"?3:2};
if(W=="set"){d.data.NL=h[0].v.keyID=="FrgC"?0:1;var O=t.NX.NH(T.T.v);d.data.K=O.z<<16|O.L<<8|O.g}}else if(W=="set"){if(V=="AdjL"){var kz=T.T.v.classID;
kz=ia.R6[kz];m.J=o.GR;if(kz)m.data={h:"edit_layer",K:T.T.v}}else if(V=="Lyr"){var z=T.T.v,i=k$.vp(q,h[0]);
for(var eZ in z){if(eZ=="classID")continue;m.J=o.HX;if(eZ=="Nm")m.data={h:K.KK,name:z.Nm.v};else if(eZ=="Opct")m.data={h:K.HB,Nz:Math.round(z.Opct.v.val*255/100)};
else if(eZ=="fillOpacity")m.data={h:K.C3,Nz:Math.round(z.fillOpacity.v.val*255/100)};else if(eZ=="Md")m.data={h:K.ni,Nz:ae.TW.indexOf(z.Md.v.BlnM)+(q.U[i].nA()?1:0)};
else if(eZ=="Usrs")m.data={h:K.Vf,w:i};else if(eZ=="Blnd"){m.J=o.vt;m.data={h:"setstl",w:i,K:{blendOptions:{t:"objc",v:z}}};
X.a(m);m.data={h:"confirm",w:i}}else if(eZ=="userMaskFeather"||eZ=="userMaskDensity"){var kM=z.userMaskFeather,Y=z.userMaskDensity,i=q.O[0],jV=q.U[i].SS(0);
if(kM)jV.nV=kM.v.val;if(Y)jV.EU=Y.v.val;m.data={h:K.KB,a_:i,ue:jV}}else if(eZ=="Clr"){var Z=k$.Jd(z);
m.data={h:K.gn,a6Z:Z}}else if(eZ=="Lefx")k$.a22(X,i,z.Lefx.v,J);else{console.log(T);throw eZ}if(m.data){X.a(m);
delete m.data}}m.data={};var Q=q.U[i];Q.a4A()}else if(V=="Prpr"){var z=t.b(T.T.v),i=k$.vp(q,T.null.v[1]),Q=q.U[i],cL=h[0].v.keyID;
if(cL=="TxtS"||cL=="paragraphStyle"){var aw=Q.add.TySh,h2=t.b(aw.Zj),ea=f5.UP(h2),ht=f5.TC(h2,0,ea.length-2);
if(cL=="TxtS")f5.a9r(z,ht);else f5.anL(z,ht);f5.oW(h2,0,ea.length-1,ht);m.J=o.JT;m.data={h:"newED",aP:i,ta:h2}}else if(cL=="Lefx"){for(var jn in z)if(z[jn].v){if(jn=="Scl")z[jn].v.val=100}k$.a22(X,i,z,J);
m.data={}}else if(cL=="FlIn"||cL=="GnrP")return;else throw cL}else if(V=="contentLayer"){var i=k$.vp(q,h[0]),z=T.T.v,gE=!0;
if(z.classID=="shapeStyle"){if(z.strokeStyle){z=z.strokeStyle.v;gE=!1}else z=z.FlCn.v}if(gE){var bS={solidColorLayer:0,gradientLayer:1,patternLayer:2}[z.classID],bi=kf.M2(q.U[i].add),s=bi.fH==bS+1?bi.PD:kf.iI[bS];
s=t.b(s);o.Cv.Mm(z,s,bS);m.data={h:K.h3,CO:[i],$G:!0,K:{fH:bS+1,PD:s}}}else{var cj=t.b(q.U[i].add.vstk);
for(var jn in z)cj[jn]=z[jn];m.data={h:K.h3,CO:[i],$G:!1,K:cj}}}else if(V=="Brsh"){var y=t.b(J.uh.gl),bb=T.T.v;
if(bb.masterDiameter)y.Brsh.v.Dmtr.v.val=bb.masterDiameter.v.val;else console.log("unknown brush parameters");
d.data={h:r.m.OA,iw:bN.s3,Ro:y}}else if(V=="Path"){m.J=o.gf;m.data={h:"fromAction",xo:M}}else if(V=="TxLr"){m.J=o.JT;
m.data={h:"fromAction",xo:M}}else{console.log(h[0],T);throw V}}else if(W=="move"){if(V=="Lyr"){var z=T.T.v;
if(z.classID=="Ofst"){m.data={h:"trsl",wH:z.Hrzn.v.val,RI:z.Vrtc.v.val};m.J=o.oa}else{var c0,cV;if(z[0].t=="Enmr"){if(z[0].v.enum=="Frnt")cV=0;
else if(z[0].v.enum=="Nxt")cV=1;else if(z[0].v.enum=="Prvs")cV=2;else if(z[0].v.enum=="Back")cV=3;else throw"e"}else c0=z[0].v.val;
m.data={h:K.nG,target:c0,NL:cV,auK:T.Dplc?T.Dplc.v:!1}}}else if(V=="Chnl"&&h[0].v.keyID=="fsel"){m.J=o.FN;
m.data={h:"fromAction",xo:M}}}else if(W=="groupEvent"||W=="ungroup")m.data={h:K.uk};else if(W=="show"||W=="hide"){var g_=T.null.t;
if(g_=="obj "){if(h[0].v.val!=null)m.data={h:K.Fr,index:h[0].v.val-1};else m.data={h:K.Qx}}else if(g_=="VlLs"){var V=h[0].v[0].v.classID;
if(V=="Chnl")m.data={h:K.CV,NL:"fromAction",K:M};else{var hx=V=="filterFX"?h:h[0].v;for(var $=0;$<hx.length;
$++){if(V=="filterFX")m.data={h:K.Fr,index:hx[$].v[0].v.val-1};else if(hx[$].v.enum=="Trgt"){var au=[];
for(var kP=0;kP<q.O.length;kP++){var i=q.O[kP],iK=q.U[i].cV();if(W=="show"&&iK||W=="hide"&&!iK)continue;
au.push(i)}m.data={h:K.FF,CO:au}}else{var i=k$.vp(q,hx[$]),iK=q.U[i].cV();if(W=="show"&&iK||W=="hide"&&!iK)continue;
m.data={h:K.FF,CO:[i]}}X.a(m)}return}}else throw g_}else if(W=="rotateEventEnum"){m.J=V=="Lyr"?o.zS:o.BP;
var b3=T.Angl.v.val;m.data={h:"rot",AC:[2,5],K:-b3*Math.PI/180}}else if(W=="flip"){m.J=V=="Lyr"?o.zS:o.BP;
var fs=T.Axis.v.Ornt=="Hrzn",ch=fs?new es(-1,1):new es(1,-1);m.data={h:"scl",AC:[[2,6],[22,4,fs?2:3]],K:ch}}else if(W=="transform"){var hv=1,g6=1,ef=0,fN=0,kb=0,cn=0,dF=0,bz=null,hh=null;
if(T.Wdth)hv=T.Wdth.v.val/100;if(T.Hght)g6=T.Hght.v.val/100;if(T.Skew){var et=T.Skew.v;ef=et.Hrzn.v.val;
fN=et.Vrtc.v.val}if(T.Ofst){var bh=T.Ofst.v;cn=bh.Hrzn.v.val;dF=bh.Vrtc.v.val}if(T.Angl)kb=T.Angl.v.val;
var dY=new kp;dY.concat(new kp(hv,hv*Math.tan(fN*Math.PI/180),g6*Math.tan(ef*Math.PI/180),g6,0,0));dY.rotate(-kb*Math.PI/180);
dY.translate(cn,dF);var jM=t.t.WP(dY);if(T.Usng){var bh=T.Usng.v;jM[6]=bh.Hrzn.v.val/100;jM[7]=bh.Vrtc.v.val/100}var dM=T.FTcs.v.QCSt;
if(dM=="Qcsi"){var iX=T.Pstn.v;bz=new es(iX.Hrzn.v.val,iX.Vrtc.v.val)}else hh=o.fx.axg[dM];var h=T.null;
if(h&&h.v instanceof Array)h=h.v[0];var i=h?k$.vp(q,h):null;if(i==-1)i=null;m.J=h&&h.v.keyID=="fsel"?o.eB:o.zS;
m.data={h:"dtr",yu:hh,K:jM,QB:T.warp,apu:bz}}else if(W=="duplicate"){if(V=="Chnl")m.data={h:K.CV,NL:"fromAction",K:M};
else if(V=="Dcmn"){var aW=h1.mr("PSD").iL(q);gb.qs({url:q.name},aW,X);return}else if(V=="Actn"){var eC=J.cm,dh=h[1].v.val,ff=null;
for(var $=0;$<eC.length;$++)if(eC[$].AC==dh)ff=eC[$];var fE=k$.tG(eC,h[0].v.val,dh);fE=t.b(fE);fE.AC+=" copy";
ff.dy.push(fE);return}else m.data={h:K.T0,iy:T.Nm?T.Nm.v:null}}else if(W=="delete"){if(V=="filterFX"){if(h[0].v.val!=null)m.data={h:K.Cc,Xw:h[0].v.val-1};
else m.data={h:K.hf}}else if(V=="Path"){if(h&&h.length==2&&h[0].v.enum=="vectorMask"&&h[1].v.classID=="Lyr"){m.J=o.HX;
m.data={h:K.h9}}else{m.J=o.gf;m.data={h:"pathedit",NL:"del"}}}else if(V=="Lyr")m.data={h:K.es};else if(V=="Chnl"&&h[0].v.enum=="Msk")m.data={h:K.JC};
else if(V=="Chnl")m.data={h:K.CV,NL:"fromAction",K:M};else if(V=="Cmnd"){var eC=J.cm,dh=h[2].v.val,fE=k$.tG(eC,h[1].v.val,dh);
fE.dy.splice(h[0].v.val-1,1);return}else if(V=="Actn"){var eC=J.cm,dh=h[1].v.val,ff=null;for(var $=0;
$<eC.length;$++)if(eC[$].AC==dh)ff=eC[$];var fE=k$.tG(eC,h[0].v.val,dh);ff.dy.splice(ff.dy.indexOf(fE),1);
return}else if(V=="ASet"){var eC=J.cm,dh=h[0].v.val,ff=null;for(var $=0;$<eC.length;$++)if(eC[$].AC==dh)ff=eC[$];
if(ff==null)return;eC.splice(eC.indexOf(ff),1);q.bM=!0;return}else throw V}else if(W=="align"){if(T.Aply&&T.Aply.v.projection=="Auto"){m.J=o.BP;
m.data={h:"auto-align"}}else{m.J=o.oa;var dX=T.Usng.v.ADSt,f={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[dX];
if(f==null)throw dX;m.data={h:"algn",K:f}}}else if(W=="applyLocking"){var i2=T.layerLocking.v,ew;if(i2.protectTransparency)ew=[[i2.protectTransparency.v],[0]];
else if(i2.protectNone)ew=[[!1,!1,!1,!1],[0,1,2,31]];else{console.log(i2);throw"e"}m.data={h:K.bC,Nz:ew}}if(m.data)X.a(m);
else if(d.data)X.a(d);else{console.log(M);alert("Unknown action \""+W+"\"");throw"e"}};k$.a22=function(M,X,J,q){J=t.b(J);
dL.jT(J);if(J.masterFXSwitch==null)J.masterFXSwitch={t:"bool",v:!0};console.log(J);var W=kf.an;for(var T=0;
T<W.length;T++)if(J[W[T]]){for(var $=0;$<J[W[T]].v.length;$++){var _=J[W[T]].v[$].v;for(var m=0;m<2;
m++){var d=_[m==0?"TrnS":"MpgS"];if(d&&d.v.Crv==null){var A=d.v,p=A.Nm.v.split("=").pop(),a=q.i9,f=0;
for(var s=0;s<a.length;s++){var j=a[s].Nm.v.split("=").pop();if(j==p)f=s}A.Crv=t.b(a[f].Crv)}}}}var Y=new jb(r.E.H,!0);
Y.J=o.vt;Y.data={h:"setstl",w:X,K:{Lefx:{t:"objc",v:J}}};M.a(Y);Y.data={h:"confirm",w:X};M.a(Y)};k$.Jd=function(M){var X={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[M.Clr.v.Clr];
if(X==null)throw M.Clr.v.Clr;return X};k$.vp=function(M,X){var J=1e6,q=0,W=M.U.length;for(var $=0;$<M.O.length;
$++){J=Math.min(J,M.O[$]);q=Math.max(q,M.O[$])}var T=X.t,_=-1;if(T=="name"){var m=X.v.val,_=-1;for(var $=0;
$<W;$++)if(M.U[$].getName()==m){_=$;break}}else if(T=="Enmr"){if(M.O.length!=0)_=M.O[0];if(X.v.enum=="Frwr")_=q+1;
if(X.v.enum=="Bckw")_=J-1;if(X.v.enum=="Back")_=0;if(X.v.enum=="Frnt")_=W-1;_=(_+W)%W}else if(T=="prop"){if(X.v.keyID=="Bckg")_=0}else if(T=="indx")_=X.v.val-1;
return _};var ia={};ia.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
ia.ae3=["expA","clrL","selc"];ia.B5=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];ia.a0o=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
ia.vF=[[13,1,1],[13,1,4],[13,1,5]];ia.QV={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
ia.R6=function(){var M=t.b(ia.QV);delete M.GrMp;M.GdMp="grdm";return M}();ia.Cr={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
ia.keys={levl:[hP.WM,hP.q6],curv:[hP.WM,hP.Hj],hue2:[hP.WM,hP.sB],nvrt:[hP.WM,hP.CI],blnc:[hP.WM,hP.IB]};
ia.YU=function(M){var X=fV.IH("mixr");X.Mnch={t:"bool",v:M.TG};function J(q,$){var W={classID:"ChMx"},T={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var _ in T)W[_]={t:"UntF",v:{type:"#Prc",val:q[$+T[_]]}};return{t:"Objc",v:W}}if(M.TG)X.Gry=J(M.K,0);
else{X.Rd=J(M.K,0);X.Grn=J(M.K,5);X.Bl=J(M.K,10)}return X};ia.kw=function(M){function X(q,W,$){var T={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var _ in T)if(q[_])W[$+T[_]]=q[_].v.val}var J={TG:!1,K:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(M.Mnch&&M.Mnch.v)J.TG=!0;if(J.TG)X(M.Gry.v,J.K,0);else{X(M.Rd.v,J.K,0);X(M.Grn.v,J.K,5);X(M.Bl.v,J.K,10)}return J};
ia.get=function(M){for(var X in ia.names)if(M[X]!=null)return X;return null};ia.BZ=function(M,X){var J=ia.OJ,q;
if(M=="brit"){var W=X.Brgh?X.Brgh.v:0,T=X.Cntr?X.Cntr.v:0,_=X.useLegacy?X.useLegacy.v:!1;if(_){var m=W/255,d=1+T/100;
if(d>1)d=1+Math.tan(Math.PI/2*T/101);var A=(1-d)/2,p=t.XS.wb(m,m,m),a=[d,0,0,A,0,d,0,A,0,0,d,A,0,0,0,1],f=t.XS.multiply(a,p),s={z:new Float32Array(256),L:new Float32Array(256),g:new Float32Array(256)};
for(var $=0;$<256;$++)s.z[$]=$/255;t.XS.cz(s,s,f);q={e:J.Ac,n8:s.z,OO:s.z,VC:s.z,N8:!1,p3:!1}}else{var j=1024,Y=-30+60*(T+100)/200,G=[];
for(var $=0;$<4;$++)G.push(t.pq.Z4($/3*255,$/3*255,!0));G[1].v.Hrzn.v=64;G[1].v.Vrtc.v=64-Y;G[2].v.Hrzn.v=128+64;
G[2].v.Vrtc.v=128+64+Y;G.sort(function(i7,hU){return i7.v.Hrzn.v-hU.v.Hrzn.v});var Q=t.pq.qr(G,j);function Z(i7,j){var G=[],jX=3;
for(var $=0;$<jX+1;$++)G.push(t.pq.Z4($/jX*255,$/jX*255,!0));G[1].v.Hrzn.v=130-i7*26;G[1].v.Vrtc.v=130+i7*51;
G[2].v.Hrzn.v=233-i7*48;G[2].v.Vrtc.v=233+i7*10;return t.pq.qr(G,j)}var g=Z(Math.abs(W)/100,j);if(W<0){var S=[],U=1/j;
for(var $=0;$<j;$++){var B=$*U,e=$;while(g[e]>B&&e>1)e--;S[$]=e*U}g=S}var P=new Float32Array(j);for(var $=0;
$<j;$++){var h=Math.round((j-1)*g[$]);P[$]=Q[h]}q={e:J.Ac,n8:P,OO:P,VC:P,N8:!1,p3:!1}}}if(M=="levl"){var V=[],I,F,p,c,D,n;
for(var $=0;$<4;$++)V.push(el.ev(X,$));I=-V[0][0]/255;F=1/(V[0][1]/255-V[0][0]/255);p=t.XS.multiply(t.XS.tC(F,F,F),t.XS.wb(I,I,I));
c=t.XS.tC(1/(V[1][1]/255-V[1][0]/255),1/(V[2][1]/255-V[2][0]/255),1/(V[3][1]/255-V[3][0]/255));D=t.XS.wb(-V[1][0]/255,-V[2][0]/255,-V[3][0]/255);
n=t.XS.multiply(c,D);var P={z:new Float32Array(256),L:new Float32Array(256),g:new Float32Array(256)};
for(var $=0;$<256;$++)P.z[$]=P.L[$]=P.g[$]=$/255;var k=1/(V[0][4]/100),b=1/(V[1][4]/100),N=1/(V[2][4]/100),L=1/(V[3][4]/100);
t.XS.cz(P,P,n);for(var $=0;$<256;$++){P.z[$]=Math.max(0,Math.min(1,Math.pow(P.z[$],b)));P.L[$]=Math.max(0,Math.min(1,Math.pow(P.L[$],N)));
P.g[$]=Math.max(0,Math.min(1,Math.pow(P.g[$],L)))}t.XS.cz(P,P,p);for(var $=0;$<256;$++){P.z[$]=Math.max(0,Math.min(1,Math.pow(P.z[$],k)));
P.L[$]=Math.max(0,Math.min(1,Math.pow(P.L[$],k)));P.g[$]=Math.max(0,Math.min(1,Math.pow(P.g[$],k)))}I=V[0][2]/255;
F=V[0][3]/255-V[0][2]/255;p=t.XS.multiply(t.XS.wb(I,I,I),t.XS.tC(F,F,F));c=t.XS.tC(V[1][3]/255-V[1][2]/255,V[2][3]/255-V[2][2]/255,V[3][3]/255-V[3][2]/255);
D=t.XS.wb(V[1][2]/255,V[2][2]/255,V[3][2]/255);n=t.XS.multiply(D,c);t.XS.cz(P,P,t.XS.multiply(p,n));
q={e:J.Ac,n8:P.z,OO:P.L,VC:P.g,N8:!1,p3:!1}}if(M=="curv"){var R=hg.ev(X,0).length==256?1:0,i=[];if(R==0){var v=t.pq.qr(hg.ev(X,0),256);
for(var $=1;$<4;$++){var E=t.pq.qr(hg.ev(X,$),256);i.push(t.pq.apv(E,v))}}else{var u=[];for(var $=0;
$<4;$++){var C=new Float32Array(256);u.push(C);var l=hg.ev(X,$);for(var e=0;e<256;e++)C[e]=l[e]/255}for(var $=1;
$<4;$++)i.push(t.pq.apv(u[$],u[0]))}q={e:J.Ac,n8:i[0],OO:i[1],VC:i[2],N8:!1,p3:!1}}if(M=="expA"){var x=X.Exps,y=X.Ofst,ge=X.gammaCorrection,O=x?x.v:0,kz=y?y.v:0,z=ge?ge.v:1,P=new Float32Array(256);
for(var $=0;$<256;$++){var X=$/255,eZ=Math.pow(Math.abs(kz),1/(Math.PI/2));if(kz>0){X=Math.max(kz/Math.E,X);
X=X*Math.exp(kz/1.75+O/Math.PI);X=(1-eZ)*X+eZ*1}else{X=X*Math.exp(-kz*1.75+O/Math.PI);X=X+-eZ*1.14}X=Math.pow(X,1/z);
P[$]=Math.max(0,Math.min(1,X))}q={e:J.Ac,n8:P,OO:P,VC:P,N8:!1,p3:!1}}if(M=="vibA"){var kM=(X.vibrance?X.vibrance.v:0)/100,jV=(X.Strt?X.Strt.v:0)/100,eZ=1+kM*(kM>0?.25:.5),cL=.8+.2/eZ;
q={e:J.Px,iw:[kM,jV,cL,eZ]}}if(M=="hue2"){var aw=[],h2=[],ea=[],ht=X.Clrz?X.Clrz.v:!1;for(var $=0;$<256;
$++){aw[$]=$/255;h2[$]=0;ea[$]=0}var jn=gg.ev(X,0),gE=ia.xw(jn[1]/100);if(ht){var bS=jn[0]/360;for(var $=0;
$<256;$++){aw[$]=bS;h2[$]=gE}}else{for(var $=0;$<256;$++){var bi=aw[$],cj=h2[$];aw[$]+=jn[0]/360;for(var e=0;
e<6;e++){var bb=gg.ev(X,e+1),c0=bb.en,cV=bb.OL,eZ=0;for(var g_=1;g_<4;g_++)if(cV[g_]<cV[0])cV[g_]+=360;
var hx=cV[0],au=cV[1],kP=cV[2],iK=cV[3],b3=bi*360;if(b3<cV[0])b3+=360;var fs=(b3-hx)/(au-hx),ch=(b3-kP)/(iK-kP);
if(fs<0)eZ=0;else if(fs<1)eZ=fs;else if(ch<0)eZ=1;else if(ch<1)eZ=1-ch;else eZ=0;var d=ia.xw(c0[1]/100);
aw[$]+=eZ*c0[0]/360;h2[$]+=eZ*d;ea[$]+=eZ*c0[2]/100}}for(var $=0;$<256;$++){h2[$]=(1+h2[$])*(1+gE)-1;
ea[$]=Math.max(-1,Math.min(1,ea[$]))}}var hv=new Float32Array(256),g6=new Float32Array(256),ef=new Float32Array(256);
for(var $=0;$<256;$++){var fN=aw[$],jV=h2[$],kb=ea[$];if(fN>1)fN--;if(fN<0)fN++;jV=ia.aCD(jV);hv[$]=fN;
g6[$]=jV;ef[$]=kb}var cn=jn[2]/100,dF=cn<0?-cn:cn,et=cn<0?0:1;q={e:J.vU,aca:hv,ei:g6,ar8:ef,aom:dF*et,UB:1-dF,aAJ:jn[2]/100,ahQ:ht?1:0}}if(M=="nvrt"){var P=new Float32Array(256);
for(var $=0;$<256;$++)P[$]=1-$/255;q={e:J.Ac,n8:P,OO:P,VC:P,N8:!1,p3:!1}}if(M=="post"){var bh=X.Lvls.v,P=new Float32Array(256),eZ=bh/255.001,dY=1/(bh-1);
for(var $=0;$<256;$++)P[$]=Math.floor($*eZ)*dY;q={e:J.Ac,n8:P,OO:P,VC:P,N8:!1,p3:!1}}if(M=="grdm"){var jM=X.Grad.v,bz=X.Rvrs,j=1024,hh;
if(jM.Clrs){var dM=t.NX.o9(jM,0,0);hh=t.NX.aj4(jM,dM,j,bz?bz.v:!1)}else{hh=t.NX.aGq(jM,j,bz?bz.v:!1)}var iX=new Float32Array(j),aW=new Float32Array(j),eC=new Float32Array(j);
t.SF(hh,iX,0);t.SF(hh,aW,1);t.SF(hh,eC,2);q={e:J.Ac,n8:iX,OO:aW,VC:eC,N8:!0,p3:!1}}if(M=="selc"){var dh=new Float32Array(9*3*2),ff=X.ML,fE=X.Mthd?X.Mthd.v.CrcM=="Absl":!1;
for(var e=0;e<9;e++){var dX=e*6,i2=by.ev(X,e),ew=i2[0]/100,jt=i2[1]/100,h3=i2[2]/100,dl=i2[3]/100;if(fE){dh[dX]=dh[dX+1]=dh[dX+2]=1;
dh[dX+3]=ew*(1+dl)+dl;dh[dX+4]=jt*(1+dl)+dl;dh[dX+5]=h3*(1+dl)+dl}else{dh[dX+0]=(1+ew)*(1+dl);dh[dX+1]=(1+jt)*(1+dl);
dh[dX+2]=(1+h3)*(1+dl)}}q={e:J._o,a81:dh}}if(M=="blwh"){var ba="Rd Yllw Grn Cyn Bl Mgnt".split(" "),q=[],i6=0,gm=0;
for(var $=0;$<6;$++)q.push(X[ba[$]].v);q.push(X.useTint.v,X.tintColor.v);var b_=[];for(var $=0;$<6;$++)b_.push((q[$]-50)/50);
var f8=t.NX.NH(q[7]);f8.z/=255;f8.L/=255;f8.g/=255;var ak=t.G7(f8.z,f8.L,f8.g),kb=t.Jp(t.Io(ak.oz,1,.5)),jk=ak.i$*ak.tz;
if(kb==.5)i6=gm=.5;else{i6=jk*(.5-kb)/(.5/kb-1);gm=1-jk*(.5-kb)-1/(2*(1-kb));gm/=1-1/(2*(1-kb))}q={e:J.n9,a6s:b_,kF:q[6]?1:0,avN:ak.oz,Jp:kb,aHh:jk,Wr:i6,agK:gm}}if(M=="blnc"){var V=[],cu=["ShdL","MdtL","HghL"];
for(var $=0;$<3;$++){if(X[cu[$]]==null){V[$]=[0,0,0];continue}var bh=X[cu[$]].v,ek=bh[0].v/100,i_=bh[1].v/100,cf=bh[2].v/100,id=X.PrsL==null||X.PrsL.v?(Math.min(ek,i_,cf)+Math.max(ek,i_,cf))/2:0;
V[$]=[ek-id,i_-id,cf-id]}var i=[new Float32Array(256),new Float32Array(256),new Float32Array(256)];for(var e=0;
e<3;e++)for(var $=0;$<256;$++){var B=$*(1/255),i1=0,Y=0,f0=0;Y=V[2][e];f0=Math.abs(Y);if(Y<0)i1=Math.pow(B,Math.SQRT2);
else i1=1.63*(Math.pow(B+.04,.5)-.2);B=f0*i1+(1-f0)*B;Y=V[1][e];f0=Math.abs(Y);if(Y<0)i1=Math.pow(B,2);
else i1=Math.min(2.35*(Math.pow(B+.09,.5)-.3),Math.pow(B,1/2));B=f0*i1+(1-f0)*B;Y=V[0][e];f0=Math.abs(Y);
if(Y<0)i1=B<.4?0:Math.pow((B-.4)/.6,Math.SQRT2);else i1=Math.pow(B,Math.SQRT2/2);B=f0*i1+(1-f0)*B;B=Math.max(0,Math.min(1,B));
i[e][$]=B}q={e:J.Ac,n8:i[0],OO:i[1],VC:i[2],N8:!1,p3:!1}}if(M=="phfl"){var ej=t.NX.NH(X.Clr.v),kk=[ej.z/255,ej.L/255,ej.g/255],dZ=X.Dnst.v/100,i=[new Float32Array(256),new Float32Array(256),new Float32Array(256)];
for(var e=0;e<3;e++)for(var $=0;$<256;$++){var B=$*(1/255),cq=B*kk[e];cq=Math.max(0,Math.min(1,cq));
B=dZ*cq+(1-dZ)*B;i[e][$]=B}q={e:J.Ac,n8:i[0],OO:i[1],VC:i[2],N8:!1,p3:X.PrsL.v}}if(M=="thrs"){var P=new Float32Array(256);
for(var $=X.Lvl.v;$<256;$++)P[$]=1;q={e:J.Ac,n8:P,OO:P,VC:P,N8:!0,p3:!1}}if(M=="mixr"){var hI=ia.kw(X),f=[];
for(var $=0;$<hI.K.length;$++)if($%5!=3)f.push(hI.K[$]/100);if(hI.TG){for(var fb=1;fb<3;fb++)for(var B=0;
B<4;B++)f[fb*4+B]=f[B]}q={e:J.ZW,FB:f}}if(M=="rplc"){var d6=X.Mnm.v,kc=X.Mxm.v;q={e:J.U$,um:[d6.Lmnc.v,d6.A.v,d6.B.v],N9:[kc.Lmnc.v,kc.A.v,kc.B.v],shift:[X.H.v/360,X.Strt.v/100,X.Lght.v/100],k9:X.Fzns.v/150}}if(M=="clrL"&&X.profile){var jm=new Uint8Array(X.profile.v),f4=ICC.R(jm.buffer),ib=[],ds=17,ib=ICC.U.sampleLUT(f4,ds);
q={e:J.Dj,b3:ICC.U.lutToRGBA32(ib,ds),a9b:ib,fu:ds}}return q};ia.kn=function(M,X){var J=-1;if(M!="levl"||X==null)J=-1;
else if(X.Auto)J=0;else if(X.AuCo)J=1;else if(X.autoBlackWhite)J=2;return J};ia.OJ={Ac:0,vU:1,Px:2,_o:3,n9:4,ZW:5,U$:6,Dj:7};
ia.xw=function(M){if(M<0)return M;return Math.pow(Math.tan(Math.PI/2*M),1.3)};ia.aCD=function(M){if(M<0)return M;
M=Math.pow(M,1/1.3);return Math.atan2(M,1)/(Math.PI/2)};ia.U3=function(M,X,J,q){var W=ia.OJ,T=Date.now();
if(aq.zw&&q.o()>300*300&&M.e!=W.Ac&&M.e!=W.Dj){q=q.Q();q.x=q.y=0;var _=aq.hu(0,q.r,q.$,t.qP(X));_.set(X);
aq.O$(_,q);_.YB(q);ia.te(M,_.cR,q);_.get(J);return}var m=X.length,d=t.qP(X),A=d==8?255:d==16?65535:1,p=1/A;
for(var $=0;$<m;$+=4)J[$+3]=X[$+3];if(M.e==W.Dj){var a=M.a9b,f=M.fu;ICC.U.applyLUT(a,f,X,J);var m=X.length}if(M.e==W.ZW)t.XS.aD1(X,J,M.FB);
if(M.e==W.n9){var s=M.aHh,j=M.Jp,Y=M.Wr,G=M.agK,m=X.length;for(var $=0;$<m;$+=4){var q=X[$]*p,Q=X[$+1]*p,Z=X[$+2]*p,g=t.MT(q,Q,Z),S=0;
for(var U=0;U<6;U++)S+=Math.min(1,1.7*(1-g.lj))*g.i$*M.a6s[U]*ia.aGn(g.oz,U*(1/6));var B=Math.max(0,Math.min(1,g.lj*(1+S)));
if(M.kF==1){var e=0;if(B<Y)e=B*(.5/j);else if(B<G)e=B+s*(.5-j);else e=1-(1-B)*.5/(1-j);g.oz=M.avN;g.i$=Math.min(1,s+3*s*Math.abs(B-.5*(Y+G)));
g.lj=e}else{g.oz=0;g.i$=0;g.lj=B}var P=t.Io(g.oz,g.i$,g.lj);J[$]=P.z*A;J[$+1]=P.L*A;J[$+2]=P.g*A}}if(M.e==W._o){var h=M.a81,m=X.length,V=1/255;
for(var $=0;$<m;$+=4){var q=X[$]*V,Q=X[$+1]*V,Z=X[$+2]*V,g=t.MT(q,Q,Z),I=Math.max(q,Math.max(Q,Z)),F=Math.min(q,Math.min(Q,Z)),c=1-q,D=1-Q,n=1-Z,k=0,b=0,N=0;
for(var U=0;U<9;U++){var L=U*6,E=0;if(h[L]==1&&h[L+1]==1&&h[L+2]==1&&h[L+3]==0&&h[L+4]==0&&h[L+5]==0)continue;
var R=c*h[L]+h[L+3],i=D*h[L+1]+h[L+4],v=n*h[L+2]+h[L+5];if(U<6)E=ia.aGn(g.oz,U*(1/6))*g.i$*2*Math.min(g.lj,1-g.lj);
else if(U==6)E=Math.max(0,F-.5)*2;else if(U==7)E=1-(Math.abs(I-.5)+Math.abs(F-.5));else E=Math.max(0,.5-I)*2;
k+=(Math.max(0,Math.min(1,R))-c)*E;b+=(Math.max(0,Math.min(1,i))-D)*E;N+=(Math.max(0,Math.min(1,v))-n)*E}c=Math.max(0,Math.min(1,c+k));
D=Math.max(0,Math.min(1,D+b));n=Math.max(0,Math.min(1,n+N));q=1-c;Q=1-D;Z=1-n;J[$]=Math.round(q*255);
J[$+1]=Math.round(Q*255);J[$+2]=Math.round(Z*255)}}if(M.e==W.Ac){t.aAN(X,J,M.n8,M.OO,M.VC,M.N8,M.p3)}if(M.e==W.vU){if(ia.$b==null){ia.$b=new Float64Array(256);
for(var $=0;$<256;$++)ia.$b[$]=ia.xw(-1+2*$/255)}var u=ia.$b;for(var $=0;$<m;$+=4){var q=X[$]*p,Q=X[$+1]*p,Z=X[$+2]*p,C=Math.min(q,Q,Z),l=Math.max(q,Q,Z),x=0,y=0,ge=0;
x=t.MT(q,Q,Z).oz;var O=~~(x*255+.5),kz=M.aca[O],z=M.ei[O],eZ=M.ar8[O],S=-eZ,kM=C;if(0<eZ){S=eZ;kM=l}var jV=M.aom+M.UB*S*kM,cL=M.UB*(1-S);
q=jV+cL*q;Q=jV+cL*Q;Z=jV+cL*Z;l=Math.max(q,Q,Z);C=Math.min(q,Q,Z);ge=(l+C)*.5;if(l!=C){var aw=l-C;y=ge>.5?aw/(2-(l+C)):aw/(l+C)}var h2=z;
if(M.ahQ==0){z=u[Math.floor((1+z)*127.5)];h2=Math.min(y*(1+z),1)}var P=t.Io(kz,h2,ge);q=P.z;Q=P.L;Z=P.g;
J[$]=q*A;J[$+1]=Q*A;J[$+2]=Z*A}}if(M.e==W.U$){t.fc(X,J);var ea=new Uint32Array(X.buffer),ht=new Uint32Array(J.buffer),m=ea.length,jn=M.k9,gE=1/jn,bS={q6:M.um[0],Jm:M.um[1],g:M.um[2]},bi={q6:M.N9[0],Jm:M.N9[1],g:M.N9[2]};
for(var $=0;$<m;$++){var cj=ea[$],bb=cj&255,c0=cj>>>8&255,cV=cj>>>16&255,q=bb*(1/255),Q=c0*(1/255),Z=cV*(1/255),g_=cj>>>24,hx=t.KX(bb,c0,cV),au=t.auQ(hx,bS,bi,jn,gE);
if(au==0)continue;var g=t.MT(q,Q,Z),kz=2+g.oz+M.shift[0];g.oz=kz-~~kz;g.i$=Math.max(0,Math.min(1,g.i$+M.shift[1]));
g.lj=Math.max(0,Math.min(1,g.lj+M.shift[2]));var P=t.Io(g.oz,g.i$,g.lj);q=(1-au)*q+au*P.z;Q=(1-au)*Q+au*P.L;
Z=(1-au)*Z+au*P.g;ht[$]=g_<<24|Z*255<<16|Q*255<<8|q*255}}if(M.e==W.Px){var kP=M.iw[0],iK=M.iw[1],b3=M.iw[2],S=M.iw[3],fs=t.XS.eY([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),ch=t.XS.vN(fs),hv=2.4;
function f(cn){return Math.max(0,Math.min(1,cn))}function g6(cn){return Math.pow(cn,hv)}function ef(cn){return Math.pow(cn,1/hv)}function fN(q,Q,Z,cn){q=g6(q);
Q=g6(Q);Z=g6(Z);var dF=t.XS.ea(fs,[q,Q,Z,1]);dF[0]*=b3;dF[1]*=S;dF[2]*=S;var P=t.XS.ea(ch,dF);P[0]=ef(f(P[0]));
P[1]=ef(f(P[1]));P[2]=ef(f(P[2]));return P}for(var $=0;$<m;$+=4){var q=X[$]*p,Q=X[$+1]*p,Z=X[$+2]*p,P=fN(q,Q,Z,kP);
q=P[0];Q=P[1];Z=P[2];var kb=t.MT(q,Q,Z);kb.i$=Math.max(0,Math.min(1,kb.i$*(1+iK)));P=t.Io(kb.oz,kb.i$,kb.lj);
q=P.z;Q=P.L;Z=P.g;J[$]=q*A;J[$+1]=Q*A;J[$+2]=Z*A}}};ia.te=function(M,X,J){aq.T$.te(M,X)};ia.aGn=function(M,X){var J=t.m6(X,M)*6;
return Math.max(0,Math.min(1,J<0?1+J:1-J))};var fV={};fV._v=function(M){var X=M.filterID.v;return X>16777215?H.aHH(X):M.Fltr.v.classID};
fV.fj=[{PD:"GEfc"},{PD:"LnCr"},{PD:"Adobe Camera Raw Filter"},{PD:"LqFy"},{PD:"VaPo",ns:!0},{hp:"3D",fK:["lightFilterGradient","Dila"]},{hp:[24,2],fK:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{hp:[24,3,11],fK:["blurbTransform","blurbTransform","blurbTransform","blurbTransform","blurbTransform"]},{hp:[24,4],fK:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{hp:[24,6],fK:["AdNs","Dspc","DstS","Mdn ","denoise"]},{hp:[24,8],fK:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{hp:[24,10],fK:["Flam","Clds","DfrC","Fbrs","LnsF"]},{hp:[24,12],fK:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{hp:[24,14],fK:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{hp:[24,16],fK:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{hp:"Fourier",fK:["dDFT","iDFT"]}];
fV.Cr={LqFy:"LqFy",LnCr:"LnCr",GEfc:"GEfc","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",Bokh:"Bokh",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Dspl:"displace",Kale:"Kale",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",ZgZg:"zigZag",AdNs:"addNoise",Dspc:"despeckle",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"crystallize",Frgm:"fragment",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"pointillize",Flam:"",Clds:"clouds",DfrC:"differenceClouds",Fbrs:"Fbrs",LnsF:"LnsF",Shrp:"sharpen",ShrE:"sharpenEdges",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",Embs:"emboss",FndE:"findEdges",oilPaint:"oilPaint",Slrz:"solarize",TrcC:"traceContour","Wnd ":"wind",HghP:"highPass",HsbP:"HsbP","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset",Rept:"Rept",Ctoa:"Ctoa",Dthr:"Dthr",Part:"Part",dDFT:"dDFT",iDFT:"iDFT"};
fV.vh={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",Displace:"Dspl",BrightnessContrast:"brit"};
fV.W={rigidTransform:o.Ky,blurbTransform:o.GV};fV.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],blurbTransform:[24,3,11],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
fV.IH=function(M){var X=null;if(M=="GEfc")X={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:iC.IH("GlwE")}]}};
if(M=="LqFy"){var J={a3:5,oz:5,map:new Float32Array(5*5*2)},q=new Uint8Array(cb.yo(J)),W=[];for(var $=0;
$<q.length;$++)W.push(q[$]);X={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:W}}}if(M=="rigidTransform"){X={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(M=="blurbTransform"){X={__name:"Blur Gallery",classID:"blurbTransform",blurbType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},referenceRect:{t:"Objc",v:{classID:"Rctn",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:1e3},Rght:{t:"long",v:1e3}}},blurbOpenPanel:{t:"long",v:3},blurbSaveMaskChannel:{t:"bool",v:!1},blurbHighQuality:{t:"bool",v:!1},blurbPathBlurSpeed:{t:"UntF",v:{type:"#Prc",val:50}},blurbPathBlurTaper:{t:"UntF",v:{type:"#Prc",val:0}},blurbCenteredPathBlur:{t:"bool",v:!0},blurbWidgetList2:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(M=="LnCr")X={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(M=="adaptCorrect")X={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(M=="Dfs ")X={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(M=="Fbrs")X={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(M=="Embs")X={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(M=="oilPaint")X={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(M=="TrcC")X={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(M=="Wnd ")X={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(M=="lightFilterGradient")X={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(M=="boxblur")X={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(M=="GsnB")X={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(M=="Bokh")X={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(M=="MtnB")X={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(M=="RdlB")X={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(M=="surfaceBlur")X={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(M=="denoise")X={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(M=="Dspl")X={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(M=="Pnch")X={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(M=="Plr ")X={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(M=="Rple")X={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(M=="Shr ")X={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(M=="Sphr")X={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(M=="Twrl")X={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(M=="Wave")X={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(M=="ZgZg")X={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(M=="AdNs")X={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(M=="DstS")X={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(M=="Mdn ")X={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(M=="ClrH")X={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(M=="Crst")X={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(M=="Mztn")X={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(M=="Msc ")X={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(M=="Pntl")X={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(M=="LnsF")X={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(M=="Dthr")X={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(M=="Part")X={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(M=="Adobe Camera Raw Filter")X={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(M=="smartSharpen")X={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(M=="UnsM")X={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(M=="HghP")X={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(M=="HsbP")X={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(M=="Mxm ")X={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(M=="Mnm ")X={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(M=="Ofst")X={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(M=="Kale")X={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(M=="Rept")X={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(M=="Flam")X={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(M=="Ctoa")X={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(M=="brit")X={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(M=="levl")X={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(M=="curv")X={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(M=="expA")X={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(M=="vibA")X={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(M=="hue2")X={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(M=="blnc")X={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(M=="blwh")X={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(M=="phfl")X={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(M=="grdm")X={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(kf.px[6]).Grad};
if(M=="selc")X={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(M=="thrs")X={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(M=="mixr")X={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(M=="clrL")X={__name:"Color Lookup",classID:"colorLookup"};if(M=="post")X={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(M=="rplc")X={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(M=="fade")X={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(M=="aply")X={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(M=="matc"){X={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(M=="Dila")X={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(M=="blendOptions")X={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return X};fV.kV={sFlam:function(M,X){X[0]=M.Type.v;X[1]=M.Leng.v;X[2]=M.RndL.v;X[3]=M.Widt.v;X[4]=M.Angl.v;
X[5]=M.Intr.v;X[6]=M.Adpt.v;X[7]=M.Clr.v;X[8]=M.Qual.v;X[9]=M.Turb.v;X[10]=M.Jag.v;X[11]=M.Opct.v.val;
X[12]=M.Lins.v;X[13]=M.Botm.v;X[14]=M.Styl.v;X[15]=M.Shap.v;X[16]=M.RnSh.v;X[17]=M.Arng.v},gFlam:function(M,X){M.Type.v=X[0];
M.Leng.v=X[1];M.RndL.v=X[2];M.Widt.v=X[3];M.Angl.v=X[4];M.Intr.v=X[5];M.Adpt.v=X[6];M.Clr.v=X[7];M.Qual.v=X[8];
M.Turb.v=X[9];M.Jag.v=X[10];M.Opct.v.val=X[11];M.Lins.v=X[12];M.Botm.v=X[13];M.Styl.v=X[14];M.Shap.v=X[15];
M.RnSh.v=X[16];M.Arng.v=X[17]},sAdNs:function(M,X){X[0]=M.Nose.v.val;X[1]=["Gsn","Unfr"].indexOf(M.Dstr.v.Dstr);
X[2]=M.Mnch.v},gAdNs:function(M,X){M.Nose.v.val=X[0];M.Dstr.v.Dstr=["Gsn","Unfr"][X[1]];M.Mnch.v=X[2]},sDstS:function(M,X){X[0]=M.Rds.v;
X[1]=M.Thsh.v},gDstS:function(M,X){M.Rds.v=X[0];M.Thsh.v=X[1]},sGsnB:function(M,X){X[0]=M.Rds.v.val},gGsnB:function(M,X){M.Rds.v.val=X[0]},sDila:function(M,X){X[0]=M.Crop.v.val;
X[1]=M.Rds.v.val},gDila:function(M,X){M.Crop.v.val=X[0];M.Rds.v.val=X[1]},sHghP:function(M,X){X[0]=M.Rds.v.val},gHghP:function(M,X){M.Rds.v.val=X[0]},sHsbP:function(M,X){var J=["RGBC","HSBl","HSLC"];
X[0]=J.indexOf(M.Inpt.v.ClrS);X[1]=J.indexOf(M.Otpt.v.ClrS)},gHsbP:function(M,X){var J=["RGBC","HSBl","HSLC"];
M.Inpt.v.ClrS=J[X[0]];M.Otpt.v.ClrS=J[X[1]]},"sMxm ":function(M,X){var J="preserveShape";X[0]=M.Rds.v.val;
X[1]=M[J]?["squareness","Rndn"].indexOf(M[J].v[J]):0},"gMxm ":function(M,X){var J="preserveShape";M.Rds.v.val=X[0];
M[J]={t:"enum",v:{preserveShape:["squareness","Rndn"][X[1]]}}},"sMnm ":function(M,X){var J="preserveShape";
X[0]=M.Rds.v.val;X[1]=M[J]?["squareness","Rndn"].indexOf(M[J].v[J]):0},"gMnm ":function(M,X){var J="preserveShape";
M.Rds.v.val=X[0];M[J]={t:"enum",v:{preserveShape:["squareness","Rndn"][X[1]]}}},sMtnB:function(M,X){X[0]=[M.Angl.v];
X[1]=M.Dstn.v.val;console.log(X)},gMtnB:function(M,X){M.Angl.v=typeof X[0]=="number"?X[0]:X[0][0];M.Dstn.v.val=X[1]},sOfst:function(M,X){X[0]=M.Hrzn.v;
X[1]=M.Vrtc.v;X[2]=["Rpt","Bckg","Wrp"].indexOf(M.Fl.v.FlMd)},gOfst:function(M,X){M.Hrzn.v=X[0];M.Vrtc.v=X[1];
M.Fl.v.FlMd=["Rpt","Bckg","Wrp"][X[2]]},sPnch:function(M,X){X[0]=M.Amnt.v},gPnch:function(M,X){M.Amnt.v=X[0]},"sPlr ":function(M,X){X[0]=["RctP","PlrR"].indexOf(M.Cnvr.v.Cnvr)},"gPlr ":function(M,X){M.Cnvr.v.Cnvr=["RctP","PlrR"][X[0]]},sRple:function(M,X){X[0]=M.Amnt.v;
X[1]=["Sml","Mdm","Lrg"].indexOf(M.RplS.v.RplS)},gRple:function(M,X){M.Amnt.v=X[0];M.RplS.v.RplS=["Sml","Mdm","Lrg"][X[1]]},sTwrl:function(M,X){X[0]=M.Angl.v},gTwrl:function(M,X){M.Angl.v=X[0]},sZgZg:function(M,X){X[0]=M.Amnt.v;
X[1]=M.NmbR.v;X[2]=["ArnC","OtFr","PndR"].indexOf(M.ZZTy.v.ZZTy)},gZgZg:function(M,X){M.Amnt.v=X[0];
M.NmbR.v=X[1];M.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][X[2]]},sUnsM:function(M,X){X[0]=M.Amnt.v.val;X[1]=M.Rds.v.val;
X[2]=M.Thsh.v},gUnsM:function(M,X){M.Amnt.v.val=X[0];M.Rds.v.val=X[1];M.Thsh.v=X[2]},sWave:function(M,X){X[0]=M.NmbG.v;
X[1]=M.WLMn.v;X[2]=M.WLMx.v;X[3]=M.AmMn.v;X[4]=M.AmMx.v;X[5]=M.SclH.v;X[6]=M.SclV.v;X[7]=["WvSn","WvTr","WvSq"].indexOf(M.Wvtp.v.Wvtp);
X[8]=["WrpA","RptE"].indexOf(M.UndA.v.UndA);X[9]=M.RndS.v},gWave:function(M,X){M.NmbG.v=X[0];M.WLMn.v=X[1];
M.WLMx.v=X[2];M.AmMn.v=X[3];M.AmMx.v=X[4];M.SclH.v=X[5];M.SclV.v=X[6];M.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][X[7]];
M.UndA.v.UndA=["WrpA","RptE"][X[8]];if(X[9]!=null){var J=parseInt(X[9]);if(isNaN(J))J=248325464;J=Math.max(0,Math.min(268435455,J));
M.RndS.v=J}},sDspl:function(M,X){X[0]=M.HrzS.v;X[1]=M.VrtS.v;X[2]=0;X[3]=["WrpA","RptE"].indexOf(M.UndA.v.UndA)},gDspl:function(M,X){M.HrzS.v=X[0];
M.VrtS.v=X[1];M.UndA.v.UndA=["WrpA","RptE"][X[3]];M.DspF.v.pth=X[4]},sbrit:function(M,X){X[0]=M.Brgh?M.Brgh.v:0;
X[1]=M.Cntr?M.Cntr.v:0;X[2]=M.useLegacy?M.useLegacy.v:!1},gbrit:function(M,X){M.Brgh.v=X[0];M.Cntr.v=X[1];
if(X[2]!=null)M.useLegacy.v=X[2]}};fV.asI=function(M){var X=new es(0,0);if(M.enab.v==!1)return X;var J=M.filterFXList.v;
for(var $=0;$<J.length;$++){var q=J[$].v;if(q.enab.v==!1)continue;var W=fV._v(q),T=fV.$S(W,q.Fltr?q.Fltr.v:null);
if(T.x>X.x)X.x=T.x;if(T.y>X.y)X.y=T.y}return X};fV.$S=function(M,X){var J=0,q=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(M)!=-1){var W=X.Rds?X.Rds.v.val:1;
J=q=W*2.57}if(M=="MtnB")J=q=X.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,blurbTransform,Frgm,Flam".split(",").indexOf(M)!=-1){J=q=1e4}if(M=="GEfc")return iC.$S(X);
return new es(Math.ceil(J),Math.ceil(q))};fV.U2=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
fV.re=function(M,X){var J={z:X.pU>>16,L:X.pU>>8&255,g:X.pU&255},q={z:X.Yt>>16,L:X.Yt>>8&255,g:X.Yt&255},W=fV.names[M];
if(W==null)W=ia.names[M];var T=M;for(var _ in ia.QV)if(ia.QV[_]==M)T=_;var m={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:kd.get(W)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:t.NX.$J(J)},BckC:{t:"Objc",v:t.NX.$J(q)},filterID:{t:"long",v:T.length==4?H.avl(T):777}}},d=fV.IH(M);
if(d)m.v.Fltr={t:"Objc",v:d};return m};fV.nU=function(M,X,J,q){var W=Date.now(),T=aq.zw&&Math.max(q.r,q.$)<=aq.qt.getParameter(aq.qt.MAX_TEXTURE_SIZE),_=t.qP(J);
if(M<1){var m=Math.round(M*5),d=[1,2,1,2,[40,26,13,6,4,2][m],2,1,2,1];d=t.BD.yA(d);if(!T){t.IN(J);var A=J.slice(0);
t.BD.Br(A,J,q.r,q.$,d,!0);t.py(J)}else{var p=q.r,a=q.$,f=aq.hu(0,p,a,_);f.set(J);var s=aq.hu(1,p,a,_),j=new Float32Array([1/p,1/a]);
aq.O$(s);aq.filter.te({e:aq.filter.apP,LU:j,aud:new Float32Array(d)},f.SX);s.get(J)}}else{var Y=[];while(X!=2&&M*[1,2.4][X]>20&&Y.length<4){var G=t.Es(J,q);
Y.push(J,q);J=G.hT;q=G.S;M/=2}var p=q.r,a=q.$;if(!T||X==2&&M>15){t.IN(J);if(X==0)t.zp.ah5(J,q,M);if(X==1)t.zp.aa_(J,q,M);
if(X==2)t.zp.aFw(J,q,M);t.py(J)}else{var f=aq.hu(0,p,a,_);f.set(J);var s=aq.hu(1,p,a,_),j=new Float32Array([1/p,1/a]);
if(X==0){var Q=1;while(Q<M)Q<<=1;aq.O$(s);aq.filter.te({e:aq.filter.M0,LU:j,a4:M,f4:[0,0,Q]},f.SX);aq.O$(f);
aq.filter.te({e:aq.filter.M0,LU:j,a4:M,f4:[0,1,Q]},s.SX);f.get(J)}else if(X==1){var Z=3,g=t.zp.aEj(M,Z);
for(var $=0;$<Z;$++){var S=g[$]>>>1,U=1;while(U<S)U<<=1;if(S==0)continue;aq.O$(s);aq.filter.te({e:aq.filter.M0,LU:j,a4:S,f4:[0,0,U]},f.SX);
aq.O$(f);aq.filter.te({e:aq.filter.M0,LU:j,a4:S,f4:[0,1,U]},s.SX)}f.get(J)}else{var Q=1;while(Q<M)Q<<=1;
aq.O$(s);aq.filter.te({e:aq.filter.M0,LU:j,a4:M,f4:[0,0,Q]},f.SX);s.get(J)}}var B=Date.now();while(Y.length!=0){var e=Y.pop(),P=Y.pop();
t.scale.a6i(J,q.r,q.$,P,e.r,e.$);J=P;q=e}}};fV.ack=function(M,X,J,q){for(var $=0;$<M.length;$++){J[$]=M[$]*(1/255);
q[$]=0}FFT.fft2d(J,q);var W=X>>>1,T=16384,_=128,d=100;while(_<X){_<<=1;T<<=2}var m=255/Math.log(T),A=-100;
for(var p=0;p<X;p++)for(var a=0;a<W;a++){var f=X+W+p&X-1,s=J[f*X+a],j=q[f*X+a],Y=Math.sqrt(s*s+j*j),G=Math.atan2(j,s);
M[p*X+a]=Math.round(m*Math.log(Y+1));M[p*X+W+a]=Math.round((Math.PI+G)*(255*.5/Math.PI))}};fV.agL=function(M,X,J,q){J.fill(0);
q.fill(0);var W=X>>>1,T=16384,_=128;while(_<X){_<<=1;T<<=2}var m=255/Math.log(T),d=[],A=[],p=[];for(var $=0;
$<256;$++){d[$]=Math.exp($/m)-1;var a=$*(2*Math.PI/255)-Math.PI;A[$]=Math.sin(a);p[$]=Math.cos(a)}for(var f=0;
f<X;f++)for(var s=0;s<W;s++){var j=X+W+f&X-1,Y=d[M[f*X+s]],a=M[f*X+W+s],G=Y*p[a],Q=Y*A[a];J[j*X+s]=G;
q[j*X+s]=Q;if(s!=0){var Z=j==0?j*X+X-s:(X-j)*X+(X-s);J[Z]=G;q[Z]=-Q}}FFT.ifft2d(J,q);for(var $=0;$<M.length;
$++){M[$]=Math.max(0,Math.min(255,~~(.5+255*J[$])))}};fV.aaz=new ArrayBuffer(512);fV.am6=function(M){var X=fV.aaz,J=M.length;
if(X.byteLength<J)fV.aaz=X=new ArrayBuffer(J);var q=new Uint8Array(X);for(var $=0;$<J;$+=4){q[$]=M[$];
q[$+1]=M[$+1];q[$+2]=M[$+2];q[$+3]=M[$+3]}return X};fV.U3=function(M,X,J,q,W,T,_){var m,d,A=t.qP(X.buffer);
if(T==null)T={buffer:t.j(X.buffer.length,A),S:X.S.Q()};T.buffer.set(X.buffer);var p="Blr ,BlrM,Shrp,ShrM,GsnB,boxblur,smartSharpen,UnsM,HghP".split(","),a=A!=8&&p.indexOf(M)==-1;
if(a){m=X.buffer;d=T.buffer;X.buffer=t.cY(m,8);T.buffer=t.cY(d,8)}T=fV.avM(M,X,J,q,W,T,_);if(a){X.buffer=m;
t.cY(T.buffer,A,d);T.buffer=d}return T};fV.avM=function(M,X,J,q,W,T,_){var m=J&&J.RndS?J.RndS.v>>>1:0,d=t.qP(X.buffer),A=t.P0(d);
if(M=="GEfc"){var p=[];if(J.GEfs){var a=J.GEfs.v;for(var $=0;$<a.length;$++){var f=a[$].v;if(f.GELv&&f.GELv.v==!1)continue;
p.push(f)}}else p=[J];for(var $=0;$<p.length;$++){var s;if($==0)iC.U3(M,X,p[$],q,W,T,_);else{if(s==null)s={buffer:t.j(X.buffer.length),S:X.S.Q()};
t.fc(T.buffer,s.buffer);iC.U3(M,s,p[$],q,W,T,_)}}}if(M=="Dila"){var j=J.Crop.v.val,Y=J.Rds.v.val+j;Y=Y*Y;
if(Y==0)return;var G=X.S,Q=G.r,Z=G.$,g=Q*Z,S=X.buffer,s=T.buffer,U=t.j(g);t.SF(S,U,3);if(j!=0){var B=G.Q();
B.$K(1,1);var e=t.j(B.o());t.Rc(U,G,e,B);t.vN(e);t.style.stroke(e,e,B,j);t.vN(e);t.Rc(e,B,U,G)}var P=t.style.x5(U,Q,Z);
s.fill(0);for(var h=0;h<Z;h++)for(var V=0;V<Q;V++){var $=h*Q+V,I=$<<1,F=$<<2,c=P[I],D=P[I+1];if(c*c+D*D<Y){var n=(h+D)*Q+(V+c)<<2;
s[F]=S[n];s[F+1]=S[n+1];s[F+2]=S[n+2];s[F+3]=255}}}if(M=="Adobe Camera Raw Filter"){var G=X.S,Q=G.r,Z=G.$,b=t.cY(X.buffer,32),N=t.b(J);
delete N.Upri;delete N.GuUr;e4(b,Q,Z,b,N);t.cY(b,8,T.buffer)}if(M=="Fct "){var G=X.S,Q=G.r,Z=G.$,g=Q*Z,L=g*4;
function R(du){var kP=du.slice(0);for(var h=0;h<3;h++)for(var V=0;V<3;V++)kP[h*3+V]=du[(2-V)*3+h];return kP}function i(dm,f3,iQ,eh){var kJ=0;
for(var h=0;h<3;h++)for(var V=0;V<3;V++)kJ+=f3[h*3+V]*dm[(eh-1+h)*Q+iQ-1+V];return kJ}var v=[8,5,2,5,2,-1,2,-1,-4],E=[5,5,5,2,2,2,-1,-1,-1],u=[2,2,2,2,2,2,2,2,2],C=[];
C.push(v);for(var $=0;$<3;$++)C.push(R(C[C.length-1]));C.push(E);for(var $=0;$<3;$++)C.push(R(C[C.length-1]));
C.push(u);for(var $=0;$<9;$++)C[$]=t.BD.yA(C[$]);var l=[-Q-1,-Q,-Q+1,-1,0,1,Q-1,Q,Q+1],x=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],y=t.j(g),ge=new Float32Array(g),O=t.j(g);
for(var kz=0;kz<3;kz++){t.SF(X.buffer,y,kz);for(var z=0;z<1;z++){for(var h=1;h<Z-1;h++)for(var V=1;V<Q-1;
V++){var eZ=h*Q+V,kM=y[eZ];ge[eZ]=1e9;for(var $=0;$<9;$++){var jV=i(y,C[$],V,h),cL=(jV-kM)*(jV-kM);if(cL<ge[eZ])ge[eZ]=cL}}for(var h=1;
h<Z-1;h++)for(var V=1;V<Q-1;V++){var aw=0,h2=1e9;for(var $=0;$<9;$++){var ea=h*Q+V+l[$],cL=ge[ea];if(cL<h2){h2=cL;
aw=y[ea]}}O[h*Q+V]=aw}y.set(O)}t.ix(O,T.buffer,kz)}}if(M=="adaptCorrect"){var G=X.S,Q=G.r,Z=G.$,g=Q*Z,L=g*4,ht=J.sdwM.v,jn=ht.Amnt.v.val/100,gE=ht.Wdth.v.val/100,bS=ht.Rds.v,bi=J.hglM.v,cj=bi.Amnt.v.val/100,bb=bi.Wdth.v.val/100,c0=bi.Rds.v;
t.aA4.dV(X.buffer,T.buffer,Q,Z,jn,gE,bS,cj,bb,c0,J.ClrC.v/100,J.Cntr.v/100)}if(M=="denoise"){var G=X.S,Q=G.r,Z=G.$,cV=J.channelDenoise.v[0].v;
t.auh.adq(X.buffer,Q,Z,T.buffer,cV.Amnt.v/10,cV.EdgF.v/100)}if(M=="HsbP"){var g_=J.Inpt.v.ClrS,hx=J.Otpt.v.ClrS,G=X.S,Q=G.r,Z=G.$,g=Q*Z;
for(var $=0;$<g;$++){var F=$*4,z=X.buffer[F]*(1/255),au=X.buffer[F+1]*(1/255),kP=X.buffer[F+2]*(1/255);
if(g_=="RGBC"){}else if(g_=="HSLC"){var O=t.Io(z,au,kP);z=O.z;au=O.L;kP=O.g}else if(g_=="HSBl"){var O=t.ari(z,au,kP);
z=O.z;au=O.L;kP=O.g}var iK=z,b3=au,fs=kP;if(hx=="RGBC"){}else if(hx=="HSLC"){var O=t.MT(z,au,kP);iK=O.oz;
b3=O.i$;fs=O.lj}else if(hx=="HSBl"){var O=t.a9o(z,au,kP);iK=O.oz;b3=O.i$;fs=O.g}T.buffer[F]=~~(255*iK);
T.buffer[F+1]=~~(255*b3);T.buffer[F+2]=~~(255*fs)}}if(M=="Fbrs"){var G=X.S,Q=G.r,Z=G.$;t.B.arX(X.buffer,Q,Z,T.buffer,[J.Vrnc.v,J.Strg.v,m]);
var ch=t.j(Q*Z);t.SF(T.buffer,ch,0);t.vN(ch);iC.oy(ch,T.buffer,q,W)}if(M=="Frgm"){var G=X.S,Q=G.r,Z=G.$,hv=X.buffer.slice(0);
t.IN(hv);t.B.awS(hv,Q,Z,T.buffer);t.py(T.buffer)}if(M=="Flam"){var G=X.S,Q=G.r,Z=G.$,g6=J.Clr.v,ef={e:J.Type.v+1,length:J.Leng.v,anX:J.RndL.v,DK:J.Widt.v,acU:J.Angl.v,asv:J.Intr.v,akF:J.Adpt.v,color:{z:g6.Rd.v,L:g6.Grn.v,g:g6.Bl.v},Hl:J.Qual.v+1,fQ:J.Turb.v,fd:J.Jag.v,G8:J.Opct.v.val,Y4:J.Lins.v,ay$:J.Botm.v,style:J.Styl.v+1,shape:J.Shap.v+1,a0J:J.RnSh.v,ath:J.Arng.v,axQ:!1};
if(_[3]==null)return;var fN=_[3],kb=fN[0],cn=fN[1],dF=kb[cn.length!=0?cn[0]:0];if(dF==null){alert("Make a path first");
return}var et=dF.add.vmsk.X,bh=t.I.Qa(et),dY=[];for(var n=0;n<bh;n++){var jM=t.I.kj(et,n),bz=et[jM];
if(bz.length<2)continue;var hh=[];dY.push(hh);var dM=bz.length-(bz.e==3?1:0);for(var eZ=0;eZ<dM;eZ++){var iX=et[jM+1+eZ],aW=eZ==bz.length-1?et[jM+1]:et[jM+1+eZ+1],eC=iX.Z,dh=iX.vJ,v=aW.vX,ff=aW.Z,fE=Math.round(es.Yq(eC,ff)/5);
for(var dX=0;dX<fE;dX++){var i2=dX/fE,ew=1-i2,V=ew*ew*ew*eC.x+3*ew*ew*i2*dh.x+3*ew*i2*i2*v.x+i2*i2*i2*ff.x,h=ew*ew*ew*eC.y+3*ew*ew*i2*dh.y+3*ew*i2*i2*v.y+i2*i2*i2*ff.y;
hh.push(V,h)}}}var hW=[dY,ef],jt=Date.now(),h3=iU(hW);em(X.buffer,Q,Z,T.buffer,h3,hW)}if(M=="Dfs "){var G=X.S,Q=G.r,Z=G.$,dl=["Nrml","DrkO","LghO","anisotropic"].indexOf(J.Md.v.DfsM);
if(dl<3)t.B.a3E(X.buffer,Q,Z,T.buffer,[dl]);else{var hW=[1.4,1.6,1,4,!1,2,[0,0,.001]],G=X.S.Q();G.x=G.y=0;
t.Qb.filter(X.buffer,G,T.buffer,hW)}}if(M=="TrcC"){var G=X.S,Q=G.r,ba=Q<<2,Z=G.$,b_=J.Lvl.v,f8=J.Edg.v.CntE=="Lwr",ak=X.buffer,jk=T.buffer;
t.MY(jk,1,1,1);function i6(kR,fU){gm(kR,fU);gm(kR+1,fU+1);gm(kR+2,fU+2)}function k2(kR,fU){cu(kR,fU);
cu(kR+1,fU+1);cu(kR+2,fU+2)}function gm(kR,fU){var iK=ak[kR],b3=ak[fU];if(iK>=b_&&b3<b_)jk[kR]=0;if(iK<b_&&b3>=b_)jk[fU]=0}function cu(kR,fU){var iK=ak[kR],b3=ak[fU];
if(iK>b_&&b3<=b_)jk[fU]=0;if(iK<=b_&&b3>b_)jk[kR]=0}if(f8)for(var h=1;h<Z;h++)for(var V=1;V<Q;V++){var F=h*Q+V<<2;
i6(F,F-4);i6(F,F-ba)}else for(var h=1;h<Z;h++)for(var V=1;V<Q;V++){var F=h*Q+V<<2;k2(F,F-4);k2(F,F-ba)}}if(M=="Embs"){var G=X.S,Q=G.r,Z=G.$,ek=-J.Angl.v*Math.PI/180,i_=J.Hght.v,iP=J.Amnt.v/100;
i_/=2;var c=Math.cos(ek)*i_,D=Math.sin(ek)*i_,ak=X.buffer,jk=T.buffer;jk.fill(0);var cf=new Uint32Array(ak.buffer),O=new Uint8Array(4),id=new Uint32Array(O.buffer);
for(var h=0;h<Z;h++)for(var V=0;V<Q;V++){var i1=0,f0=0,ej=0;if(0<=V+c&&V+c<Q&&0<=h+D&&h+D<Z){t.t.GN(V+c+.5,h+D+.5,cf,Q,Z,id,0,0);
i1+=O[0]-128;f0+=O[1]-128;ej+=O[2]-128}if(0<=V-c&&V-c<Q&&0<=h-D&&h-D<Z){t.t.GN(V-c+.5,h-D+.5,cf,Q,Z,id,0,0);
i1-=O[0]-128;f0-=O[1]-128;ej-=O[2]-128}var F=h*Q+V<<2;jk[F]=Math.max(0,Math.min(255,i1*iP+128));jk[F+1]=Math.max(0,Math.min(255,f0*iP+128));
jk[F+2]=Math.max(0,Math.min(255,ej*iP+128));jk[F+3]=ak[F+3]}}if(M=="ShrE"){var G=X.S,Q=G.r,Z=G.$;t.B.asJ(X.buffer,Q,Z,T.buffer)}if(M=="Dspc"){var G=X.S,Q=G.r,Z=G.$;
t.B.anz(X.buffer,Q,Z,T.buffer)}if(M=="Slrz"){var kk=T.buffer,dZ=128;for(var $=0;$<kk.length;$+=4){if(kk[$]>dZ)kk[$]=255-kk[$];
if(kk[$+1]>dZ)kk[$+1]=255-kk[$+1];if(kk[$+2]>dZ)kk[$+2]=255-kk[$+2]}}if(M=="Wnd "){var G=X.S,Q=G.r,Z=G.$,cq=["Wnd","Blst","Stgr"],hI=J.WndM.v.WndM;
t.B.bf(X.buffer,Q,Z,T.buffer,[cq.indexOf(hI),J.Drct.v.Drct!="Left"])}if(M=="Bokh"){var G=X.S,Q=G.r,Z=G.$,g=Q*Z,L=g*4,fb=X.buffer.slice(0),d6=J.BkDi.v.BtDi,kc=J.BkDc,jm=J.BkDs.v,f4=J.BkDp.v/255;
if(d6=="BeIn")f4=0;var ib=57*(.3+.7*((Q+Z)/2)/1750)*(J.BkIb.v/100)*(1+.2*Math.pow(f4,.1)),jX=parseInt(J.BkIs.v.BtIs.slice(3)),ds=-J.BkIr.v*Math.PI/180,i7=[];
for(var $=0;$<8;$++){var hU=ds+$*(Math.PI*2/jX),jy=ds+($+1)*(Math.PI*2/jX),fi=Math.cos(hU),g$=Math.sin(hU),aS=Math.cos(jy),a9=Math.sin(jy),j5=[0,0,0];
t.FB.mH([[fi,g$,1,0],[aS,a9,1,0],[1,1,1,1]],j5);if(j5[2]>0){j5[0]*=-1;j5[1]*=-1;j5[2]*=-1}i7.push(j5[0],j5[1],j5[2],0)}if(d6=="BeIn"){t.Ya(fb,0);
f4=1}else if(d6=="BeIt"&&kc.v.BtDc=="BeCt"){}else{var fD;if(d6=="BeIt"&&kc.v.BtDc=="BeCm")fD=_[1];else if(d6=="BeIa")fD=_[2][kc.v];
if(fD==null){t.Ya(fb,0)}else{var y;if(fD.S.w6(G))y=fD.N;else y=fD.Xu(G);t.ix(y,fb,3)}}if(jm)for(var $=0;
$<L;$+=4)fb[$+3]=255-fb[$+3];if(aq.zw){var e2=fb,kZ=Q,a_=Z,g5=1,hG=(J.BkSb.v==0||J.BkSt.v==255)&&d6=="BeIn";
if(!hG){var f7=0;for(var $=0;$<L;$+=4)f7+=Math.abs(f4-fb[$+3]*(1/255));f7=f7/g*ib;var e$=3.14*f7*f7*Q*Z/3e6;
if(e$>2e3){alert("too large radius");return}}while(hG&&3*(ib/g5)*(ib/g5)*Q*Z>500*2e3*2e3){var j8=t.ayS(fb,new gc(0,0,kZ,a_));
fb=j8.hT;kZ=j8.S.r;a_=j8.S.$;g5*=2}var jt=Date.now(),S=aq.hu(0,kZ,a_);S.set(fb);var aB=aq.hu(1,Q,Z);
aq.O$(aB);aq.filter.te({e:aq.filter.ahp,LU:new Float32Array([1/kZ,1/a_]),aay:f4,K7:ib/g5,arL:new Float32Array([J.BkSb.v/100,J.BkSt.v/255]),aFX:new Float32Array([J.BkNa.v/100,J.BkNt.v.BtNt=="BeNu"?0:1,J.BkNm.v?1:0]),ajY:new Float32Array(i7.slice(0,16)),a7_:new Float32Array(i7.slice(16))},S.SX);
aB.get(T.buffer);var a2=T.buffer;for(var $=0;$<L;$+=4)a2[$+3]=X.buffer[$+3]}}if(M=="blurbTransform"){t.qg.apply(J,X,T)}if(M=="rigidTransform"){var jt=Date.now(),hS=fV.am6,S=X.buffer.slice(0),fx=0,jQ=0;
t.IN(S);var Q=X.S.r,Z=X.S.$,fH=J.puppetShapeList.v,bZ=[],iM=[],hz=[],d1=[];for(var eZ=0;eZ<fH.length;
eZ++){var e9=fH[eZ].v,I=fx*2,eV=jQ*3,gT=e9.originalVertexArray.v.length>>>2,fn=e9.indexArray.v.length>>>2,gW=new Float32Array(hS(e9.originalVertexArray.v));
for(var $=0;$<gT;$++)bZ[I+$]=gW[$];var c1=new Float32Array(hS(e9.deformedVertexArray.v));for(var $=0;
$<gT;$++)iM[I+$]=c1[$];var bD=new Uint32Array(hS(e9.indexArray.v));for(var $=0;$<fn;$++)hz[eV+$]=fx+bD[$];
var eT=[],bp=[],ck=e9.PnDp.v;for(var $=0;$<ck.length;$++){eT.push(e9.pinVertexIndices.v[$].v);bp.push(ck[$].v)}var aY=t.xl.axo(gW,bD,eT,bp);
for(var $=0;$<aY.length;$++)d1[fx+$]=aY[$];fx+=gT>>>1;jQ+=~~(fn/3)}var bx=new kp(1,0,0,1,-X.S.x,-X.S.y);
t.G.u(bZ,bx,bZ);t.G.u(iM,bx,iM);T.buffer.fill(0);t.xl.bo(S,Q,Z,T.buffer,Q,Z,bZ,iM,d1,hz);t.py(T.buffer)}if(M=="lightFilterGradient"){function gk(eC){var f3=1/Math.sqrt(eC[0]*eC[0]+eC[1]*eC[1]+eC[2]*eC[2]);
eC[0]*=f3;eC[1]*=f3;eC[2]*=f3}var Q=X.S.r,Z=X.S.$,g=Q*Z,jt=Date.now(),be=t.j(g),b3=.3,fs=.7;t.i5(T.buffer,be);
var dd=be.slice(0);t.zp.zk(dd,T.S,16);var jp=be.slice(0);t.zp.zk(jp,T.S,8);var kB=be,hc=new Float32Array(g),fP=J.Dtl.v,dA=fP[2].v,g9=fP[1].v,a$=fP[0].v,kJ=J.Scl.v*40*J.textureScale.v/(dA+g9+a$);
dA*=kJ;g9*=kJ;a$*=kJ;for(var $=0;$<g;$++){var hy=dd[$]*(1/255),eU=jp[$]*(1/255),iY=kB[$]*(1/255);iY=iY*iY;
hc[$]=dA*hy+g9*eU+a$*iY}var eO=J.blur.v;if(eO!=0){t.zp.zk(hc,T.S,eO)}var kq=Q-1,aL=Z-1;for(var h=0;h<Z;
h++)for(var V=0;V<Q;V++){var $=h*Q+V,F=$*4,fq=hc[$],c=b3*(hc[$+(V==kq?0:1)]-fq)+fs*(fq-hc[$-(V==0?0:1)]),D=b3*(hc[$+(h==aL?0:Q)]-fq)+fs*(fq-hc[$-(h==0?0:Q)]),eC=[1,0,c],dh=[0,1,D];
gk(eC);gk(dh);var jy=eC[0],cT=eC[2],ha=dh[1],av=dh[2],it=-cT*ha,b1=-jy*av,al=jy*ha;T.buffer[F]=~~(127.5+it*127.5);
T.buffer[F+1]=~~(127.5+b1*127.5);T.buffer[F+2]=~~(127.5+al*127.5)}}if(M=="defr"){var Q=X.S.r,Z=X.S.$;
e1(X.buffer,Q,Z,T.buffer)}if(M=="dDFT"||M=="iDFT"){function hp(jX){if(jX==0)return 1;jX--;jX|=jX>>1;
jX|=jX>>2;jX|=jX>>4;jX|=jX>>8;jX|=jX>>16;return jX+1}var Q=X.S.r,Z=X.S.$,hl=hp(Math.max(Q,Z)),c4=hl>>>1,bv=new gc(0,0,hl,hl),fj=new gc(0,0,Q,Z);
fj.y=hl-Z>>>1;var ho=Q>>>1,b$=new gc(0,fj.y,ho,Z),kU=new t.Uy(Q*Z);t.Qf(X.buffer,kU);var ah=new Float64Array(hl*hl),cG=new Float64Array(hl*hl),y=t.j(hl*hl);
FFT.init(hl);var fK=[kU.z,kU.L,kU.g];for(var $=0;$<3;$++){var cI=fK[$];y.fill(0);if(M=="dDFT"){t.Rc(cI,fj,y,bv);
fV.ack(y,hl,ah,cG);t.Rc(y,bv,cI,fj,b$);b$.x+=ho;bv.x-=c4-ho;t.Rc(y,bv,cI,fj,b$);b$.x-=ho;bv.x+=c4-ho}else{t.Rc(cI,fj,y,bv,b$);
b$.x+=c4;fj.x+=c4-ho;t.Rc(cI,fj,y,bv,b$);b$.x-=c4;fj.x-=c4-ho;fV.agL(y,hl,ah,cG);t.Rc(y,bv,cI,fj)}}t.Uq(kU,T.buffer)}if(M=="Avrg"){var jv=0,cs=0,d4=0,fw=0,kQ=1;
for(var $=0;$<X.buffer.length;$+=4){var U=X.buffer[$+3];jv+=X.buffer[$]*U;cs+=X.buffer[$+1]*U;d4+=X.buffer[$+2]*U;
fw+=U}var aI=1/fw;jv=Math.round(kQ*(jv*aI)+(1-kQ)*255);cs=Math.round(kQ*(cs*aI)+(1-kQ)*255);d4=Math.round(kQ*(d4*aI)+(1-kQ)*255);
t.MY(T.buffer,jv/255,cs/255,d4/255)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(M)!=-1){var kA=J.Rds?J.Rds.v.val:1;
fV.nU(kA,M=="boxblur"?0:1,T.buffer,T.S);if(M=="UnsM"||M=="smartSharpen"){var iP=(J.Amnt?J.Amnt.v.val:200)/100,ke=0;
if(M=="UnsM")ke=J.Thsh.v*A/255;else iP*=.75;for(var $=0;$<X.buffer.length;$++){if(($&3)==3){T.buffer[$]=X.buffer[$];
continue}var kM=X.buffer[$],jV=T.buffer[$],d9=iP*(kM-jV);if(d9>0)d9=Math.max(0,d9-ke);else d9=Math.min(0,d9+ke);
T.buffer[$]=Math.max(0,Math.min(A,kM+d9))}}if(M=="HghP")for(var $=0;$<X.buffer.length;$++){if(($&3)==3){T.buffer[$]=X.buffer[$];
continue}var kM=X.buffer[$],jV=T.buffer[$];T.buffer[$]=Math.max(0,Math.min(A,.5*A+kM-jV))}}if(M=="AdNs"){var aH=new Uint8ClampedArray(T.buffer.buffer),ar=255*J.Nose.v.val/100,gM;
if(J.Dstr.v.Dstr=="Gsn")gM=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else gM=function(){return Math.random()*2-1};for(var $=0;$<aH.length;$+=4){var z=aH[$],au=aH[$+1],kP=aH[$+2],eM,ai,jS;
if(J.Mnch.v){eM=ai=jS=gM()}else{eM=gM();ai=gM();jS=gM()}z+=ar*eM;au+=ar*ai;kP+=ar*jS;aH[$]=z;aH[$+1]=au;
aH[$+2]=kP}}var jt=Date.now();if(M=="Mdn "||M=="DstS"||M=="Mxm "||M=="Mnm "||M=="surfaceBlur"){var z=0,fm=J.Thsh,e9=0;
if(fm)fm=fm.v;else fm=0;if(M=="Mdn "||M=="Mxm "||M=="Mnm "||M=="surfaceBlur")z=J.Rds.v.val;else z=J.Rds.v;
var im=10*Math.ceil(z/10),Q=X.S.r,Z=X.S.$,l0=["Mnm ","Mxm ","surfaceBlur"].indexOf(M),cy=(e9==0?1:.75)*[.73,.73,1.2][l0]*(Q*Z*Math.pow(im*im,1.05))/6022387,jZ=.6*(Q*Z*Math.pow(z,1/2.6))/6500;
if(M=="Mxm "||M=="Mnm ")jZ=Q*Z/13e3;var gC=J.preserveShape;if(gC&&gC.v.preserveShape=="Rndn")e9=1;if(aq.zw&&l0!=-1&&(cy<jZ||e9==1)&&cy<500){var S=aq.hu(0,Q,Z);
S.set(X.buffer);var s=aq.hu(1,Q,Z);aq.O$(s);aq.filter.te({e:aq.filter.aoL,LU:new Float32Array([1/Q,1/Z]),K7:z,aEx:fm/255,f4:[e9,l0,im]},S.SX);
s.get(T.buffer)}else if(M=="Mxm "||M=="Mnm "){var Q=X.S.r,Z=X.S.$;t.u7.a4x(X.buffer,T.buffer,Q,Z,1+Math.floor(J.Rds.v.val)*2,M=="Mxm ")}else{z=Math.round(z);
t.Tg.ho=.5;t.Tg.tX=fm;var df=M=="surfaceBlur"?1:0;t.Tg.GE(X.buffer,T.buffer,Q,Z,z,df);if(M=="DstS")for(var $=0;
$<Q*Z*4;$++){var cd=Math.abs(X.buffer[$]-T.buffer[$]);if(cd<=fm)T.buffer[$]=X.buffer[$]}}}if(M=="ClrH"){var b$=X.S.Q(),c_=0;
b$.x=b$.y=0;var z=J.Rds.v;z=z*Math.sqrt(2);var Q=b$.r,Z=b$.$,hC=t.mt(Q,Z),aN=new Float32Array(256);for(var $=0;
$<256;$++){var g6=$/255,kA=Math.sqrt(g6*(1/Math.PI));if(kA>.5)kA=.5+Math.pow((kA-.5)/(.564-.5),1.35)*.2;
aN[$]=z*kA}var i4=Math.floor(2*Q/z),bA=Math.floor(2*Z/z),a1=10-(z-54*Math.sqrt(2))*1.5,fl=[X.buffer,b$];
t.uW(fl);while(fl[c_*2+1].r>1.5*Q/z)c_++;var i1=fl[c_*2+1],ej=fl[c_*2],bF=t.j(i1.o()),g5=1/(1<<c_),kZ=i1.r,a_=i1.$,y=t.j(Q*Z);
for(var dm=0;dm<3;dm++){t.SF(ej,bF,dm);t.vN(bF);var ek=Math.PI*J["Ang"+(dm+1)].v/180,cc=new kp;cc.translate(-Q/2,-Z/2);
cc.rotate(-ek);cc.translate(Q/2,Z/2);hC.clearRect(0,0,Q,Z);for(var h=-(bA>>>2);h<bA;h++)for(var V=-(i4>>>2);
V<i4;V++){var g8=cc.y8(new es((V+.5)*z-a1,(h+.5)*z-a1)),ce=Math.max(0,Math.min(g8.x*g5,kZ-.51)),iy=Math.max(0,Math.min(g8.y*g5,a_-.51)),g=~~t.t.S_(ce,iy,bF,kZ,a_);
hC.beginPath();hC.arc(g8.x,g8.y,aN[g],0,2*Math.PI);hC.fill()}var jA=hC.getImageData(0,0,Q,Z);t.SF(jA.data,y,3);
t.vN(y);t.ix(y,T.buffer,dm)}}if(M=="Crst"||M=="Pntl"){var Q=X.S.r,Z=X.S.$,df=M=="Crst"?t.r8.afC:t.r8.asM;
df(X.buffer,Q,Z,T.buffer,J.ClSz.v,[Math.round(W.z),Math.round(W.L),Math.round(W.g)])}if(M=="Mztn"){var Q=X.S.r,Z=X.S.$,g=Q*Z,kU=new t.Uy(g),fr=[kU.z,kU.L,kU.g];
t.Qf(X.buffer,kU);var hI=J.MztT.v.MztT,bQ={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[hI],jt=Date.now(),dG=[];
for(var $=0;$<g;$++){dG[$]=Math.random()}var g=Q*Z,ie=Math.round(g*bQ[0]),ct=g-Q-1;for(var $=0;$<ie;
$++){var dj=Math.random(),c7=1;if(dj<.5){c7=Q;dj*=2}else dj=2*(dj-.5);var kR=Math.floor(dj*ct),fU=kR+c7;
dG[kR]=dG[fU]}var ix=Math.round(Q*bQ[1]);for(var h=0;h<Z;h++)for(var $=0;$<ix;$++){var dj=t.v.HO(h*g+$),kR=h*Q+Math.floor(dj*(Q-1));
dG[kR]=dG[kR+1]}var fR=new Float64Array(256);for(var $=0;$<256;$++){var ip=$/255,gN=2*(ip<.5?ip:1-ip);
gN=bQ[2]+Math.pow(gN,bQ[3])*(1-bQ[2]);ip=ip<.5?gN*.5:1-gN*.5;fR[$]=ip}for(var kz=0;kz<3;kz++){var y=fr[kz];
for(var h=0;h<Z;h++){for(var V=0;V<Q;V++){var $=h*Q+V,cE=y[$],ip=fR[cE],dj=dG[$];y[$]=dj>ip?0:255}}}t.Uq(kU,T.buffer)}if(M=="Msc "){var bh=J.ClSz.v.val,Q=X.S.r,Z=X.S.$,e6=Math.ceil(Q/bh),iV=Math.ceil(Z/bh),dk=t.j(e6*iV*4);
t.scale.JY(X.buffer,Q,Z,dk,e6,iV,1/bh);t.scale.JY(dk,e6,iV,T.buffer,Q,Z,bh)}if(M=="Clds"||M=="DfrC"){var Q=T.S.r,Z=T.S.$,g=Q*Z,dJ=t.j(g);
if(M=="Clds")t.Tb(T.buffer,4278190080);var hr=t.j(256*4);for(var $=0;$<256;$++){var F=$<<2,du=$/255,bD=1-du;
hr[F]=Math.round(du*q.z+bD*W.z);hr[F+1]=Math.round(du*q.L+bD*W.L);hr[F+2]=Math.round(du*q.g+bD*W.g)}t.B.adH(X.buffer,Q,Z,dJ);
var kj=T.buffer;for(var $=0;$<g;$++){var F=$<<2,kz=dJ[$]<<2,z=hr[kz],au=hr[kz+1],kP=hr[kz+2];if(M=="Clds"){kj[F]=z;
kj[F+1]=au;kj[F+2]=kP}else{kj[F]=Math.abs(kj[4*$]-z);kj[F+1]=Math.abs(kj[4*$+1]-au);kj[F+2]=Math.abs(kj[4*$+2]-kP)}}}if(M=="LnsF"){var Q=X.S.r,Z=X.S.$,hI=["Zm","Nkn","Nkn1","PnVs"].indexOf(J.Lns.v.Lns),ik=J.FlrC.v,bu=[Math.min(hI,2),J.Brgh.v/100,ik.Hrzn.v,ik.Vrtc.v],jt=Date.now();
t.ahR(X.buffer,Q,Z,T.buffer,bu)}var jD=["Blr ","BlrM","Shrp","ShrM"].indexOf(M);if(jD!=-1){var a7=jD>1,Q=X.S.r,Z=X.S.$,cx=t.BD.rj[jD],aQ=X.buffer.slice(0);
if(!a7)t.IN(aQ);t.BD.Br(aQ,T.buffer,Q,Z,cx,!0,!1);if(!a7)t.py(T.buffer)}if(M=="MtnB"){var dp=-J.Angl.v*Math.PI/180,dP=J.Dstn.v.val/2,jt=Date.now(),Q=X.S.r,Z=X.S.$,G=X.S.Q();
G.x=G.y=0;if(aq.zw){var jt=Date.now(),b0=T.buffer;b0.set(X.buffer);t.IN(b0);var dr=aq.hu(0,Q,Z);dr.set(b0);
var ak=t.j(4);ak[0]=Math.round(128+127*Math.cos(dp));ak[1]=Math.round(128+127*Math.sin(dp));t.Tb(b0,new Uint32Array(ak.buffer)[0]);
var cD=aq.hu(1,Q,Z);cD.set(b0);aq.O$(dr,G);dr.YB(G);aq.filter.te({e:aq.filter.PN,g6:cD.SX,LU:new Float32Array([1/Q,1/Z]),J6:dP/2,lT:1},dr.cR);
dr.get(b0);t.py(b0)}else{var jY=T.buffer,bx=new kp;bx.rotate(dp);var O=o.fx.gj([X.buffer,X.S],bx);fV.nU(dP,2,O.buffer,O.S);
bx.vN();O=o.fx.gj([O.buffer,O.S],bx,!1,jY.buffer,T.S);if(!t.CH(X.buffer))for(var $=0;$<jY.length;$+=4)jY[$+3]=255}console.log(Date.now()-jt)}if(M=="RdlB"){var Q=X.S.r,Z=X.S.$,iP=J.Amnt.v,f6=J.BlrM.v.BlrM=="Zm",dm=J.Cntr.v,iQ=dm.Hrzn.v,eh=dm.Vrtc.v,c=Math.max(iQ,1-iQ)*Q,D=Math.max(eh,1-eh)*Z,kA=Math.sqrt(c*c+D*D),gJ=2*Math.PI*kA*1.5,g1=Math.round(gJ),gy=Math.round(kA),b$=new gc(0,0,g1,gy),cS=t.j(g1*gy*4),hM=f6?4:1,jE=f6?.6:8*((Q+Z)/2)/1400,bo=.1,g5=1,i4=1;
t.t.avS(X.buffer,Q,Z,cS,g1,gy,iQ,eh,hM,bo,g5,i4);var jo=f6?t.j(g1*gy*4):null;if(f6){t.t.jJ(cS,jo,g1,gy);
var i2=jo;jo=cS;cS=i2;b$.r=gy;b$.$=g1}fV.nU(jE*iP,2,cS,b$);if(f6){t.t.jJ(cS,jo,gy,g1);var i2=jo;jo=cS;
cS=i2;b$.r=g1;b$.$=gy}t.t.aDl(cS,g1,gy,T.buffer,Q,Z,iQ,eh,hM,bo,g5,i4)}if(M=="Plr "){var Q=X.S.r,Z=X.S.$;
if(J.Cnvr.v.Cnvr=="RctP")t.t.aDl(X.buffer,Q,Z,T.buffer,Q,Z,.5,.5,1,0,2,Q/Z);else t.t.avS(X.buffer,Q,Z,T.buffer,Q,Z,.5,.5,1,0,2,Q/Z)}if(M=="FndE"){var Q=X.S.r,Z=X.S.$;
t.BD.aFd(X.buffer,T.buffer,Q,Z)}if(M=="oilPaint"){var ek=J.LghD.v*Math.PI/180,bt=[Math.cos(ek),Math.sin(ek),.001],hW=[J.stylization.v,J.cleanliness.v,J.brushScale.v,J.microBrush.v,J.lightingOn.v,J.specularity.v,bt],G=X.S.Q();
G.x=G.y=0;t.Qb.filter(X.buffer,G,T.buffer,hW)}if(M=="Ofst"){var Q=X.S.r,Z=X.S.$,ap=new Uint32Array(X.buffer.buffer),cM=new Uint32Array(T.buffer.buffer);
cM.fill(0);var fu=J.Hrzn.v,bH=J.Vrtc.v,ko=J.Fl.v.FlMd;if(ko=="Bckg"||ko=="Rpt"){var b$=X.S.Q();b$.offset(fu,bH);
t.fA(ap,b$,cM,T.S)}if(ko=="Rpt"){var fi,g$,aS,a9,fz;fu=Math.max(-Q,Math.min(Q,fu));bH=Math.max(-Z,Math.min(Z,bH));
fi=fu>0?fu:0;aS=fu>0?Q:Q+fu;g$=bH>0?0:bH+Z;a9=bH>0?bH:Z;fz=bH>0?0:Q*(Z-1);for(var h=g$;h<a9;h++)for(var V=fi;
V<aS;V++)cM[h*Q+V]=ap[fz+V-fu];fi=fu>0?0:Q+fu;aS=fu>0?fu:Q;g$=bH>0?bH:0;a9=bH>0?Z:Z+bH;fz=fu>0?0:Q-1;
for(var h=g$;h<a9;h++)for(var V=fi;V<aS;V++)cM[h*Q+V]=ap[fz+Q*(h-bH)];if(fu>=0&&bH>=0){fi=0;aS=fu;g$=0;
a9=bH;fz=0}if(fu>=0&&bH<0){fi=0;aS=fu;g$=Z+bH;a9=Z;fz=Q*(Z-1)}if(fu<0&&bH>=0){fi=Q+fu;aS=Q;g$=0;a9=bH;
fz=Q-1}if(fu<0&&bH<0){fi=Q+fu;aS=Q;g$=Z+bH;a9=Z;fz=Q*Z-1}for(var h=g$;h<a9;h++)for(var V=fi;V<aS;V++)cM[h*Q+V]=ap[fz]}if(ko=="Wrp"){fu=(fu+100*Q)%Q;
bH=(bH+100*Z)%Z;var b$=new gc(fu-Q,bH-Z,Q,Z);t.fA(ap,b$,cM,T.S);b$.offset(Q,0);t.fA(ap,b$,cM,T.S);b$.offset(0,Z);
t.fA(ap,b$,cM,T.S);b$.offset(-Q,0);t.fA(ap,b$,cM,T.S)}}if(M=="Rept"){var j9=J.Rsft.v.val/100,di=J.SpcX.v.val/100;
di=Math.max(di,-.99);var jN=J.SpcY.v.val/100;jN=Math.max(jN,-.99);var g5=J.Scl.v.val/100,bx=new kp;bx.rotate(J.Angl.v*Math.PI/180);
bx.scale(g5,g5);var je={buffer:X.buffer,S:X.S};t.yn(je);if(je.S.M5()){je.buffer=X.buffer;je.S=X.S}var kj=je.buffer,b$=je.S,ga=t.pD(kj,b$,0),aD=new Uint32Array(kj.buffer)[0];
if(!ga.M5()&&!ga.w6(b$)){var dc=t.j(ga.o()*4);t.fA(kj,b$,dc,ga);kj=dc;b$=ga}b$.x=b$.y=0;aD=di==0&&jN==0&&!t.CH(X.buffer)||J.SpcC.v?aD:0;
function gD(V){return V<0?Math.ceil(V):Math.floor(V)}var jq=bx.y8(new es(b$.r,0));jq.x=gD(jq.x);jq.y=gD(jq.y);
var ku=bx.y8(new es(0,b$.$));ku.x=gD(ku.x);ku.y=gD(ku.y);var O=o.fx.gj([kj,b$],bx,!1),fj=O.S,jk=O.buffer,fY=Math.round(fj.x),gH=Math.round(fj.y),g7=Math.max(T.S.r,T.S.$)/Math.min(b$.r*g5*(1+di),b$.$*g5*(1+jN));
g7=Math.ceil(g7*1.7);t.Tb(T.buffer,aD);for(var h=-g7;h<g7;h++){for(var V=-g7;V<g7;V++){var h$=(V+h*j9)*(1+di),gZ=h*(1+jN);
fj.x=fY+Math.round(h$*jq.x+gZ*ku.x);fj.y=gH+Math.round(h$*jq.y+gZ*ku.y);if(fj.B8(T.S))t.v.r$("norm",jk,fj,T.buffer,T.S,fj,1)}}}if(M=="Ctoa"){var W=t.NX.NH(J.Clr.v),fm=J.Trsp.v.val/100,kK=J.Opct.v.val/100;
fm=kK==0?0:fm/kK;var Q=X.S.r,Z=X.S.$,co=~~W.z,jJ=~~W.L,jg=~~W.g,fz=X.buffer,ea=T.buffer;for(var h=0;
h<Z;h++)for(var V=0;V<Q;V++){var $=h*Q+V,F=$<<2,b$=fz[F],gB=fz[F+1],kj=fz[F+2],gQ=Math.abs(co-b$),aa=Math.abs(jJ-gB),b4=Math.abs(jg-kj),iT=Math.max(gQ,aa,b4)*(1/255);
iT=Math.max(0,Math.min(1,iT/kK));var hH=iT==0?0:1/iT,hK=fm==1?1:Math.max(0,Math.min(1,(iT-fm)/(1-fm)));
ea[F]=Math.max(0,Math.min(255,(b$-co*(1-iT))*hH));ea[F+1]=Math.max(0,Math.min(255,(gB-jJ*(1-iT))*hH));
ea[F+2]=Math.max(0,Math.min(255,(kj-jg*(1-iT))*hH));ea[F+3]=Math.min(ea[F+3],~~(.5+hK*255))}}if(M=="Dthr"){function bq(V){return~~(.5+255*t.HR(V/255))}var eZ=J.Plte.v,jz;
if(eZ==0)jz=[4278190080,4294967295];else{var j3=[[1,1,1],[2,2,2],[3,3,2]][eZ-1],eq=[1<<j3[0],1<<j3[1],1<<j3[2]],bU=[~~(255/(eq[0]-1)),~~(255/(eq[1]-1)),~~(255/(eq[2]-1))];
jz=[];for(var z=0;z<eq[0];z++)for(var au=0;au<eq[1];au++)for(var kP=0;kP<eq[2];kP++)jz.push(255<<24|bq(kP*bU[2])<<16|bq(au*bU[1])<<8|bq(z*bU[0]))}var Q=X.S.r,Z=X.S.$,g=Q*Z,fQ=g*4,ej=X.buffer.slice(0),kD=T.buffer;
for(var $=0;$<fQ;$++)ej[$]=~~(.5+255*t.HR(ej[$]/255));var ey=t.j(Q*Z);UPNG.encode.dither(ej,Q,Z,jz,kD,ey,J.Mthd?J.Mthd.v:1);
for(var $=0;$<fQ;$++)kD[$]=~~(.5+255*t.jm(kD[$]/255))}if(M=="Part"){var ky=[J.RndS.v,J.Cont.v/100,J.Size.v,J.Dpth.v/100,J.Brgh.v/100,t.NX.NH(J.Clr.v),J.Time.v,J.Blnk.v,J.Fall.v,J.Turb.v/100];
t.wc.ZY(T.buffer,X.S.r,X.S.$,ky)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(M)!=-1){var dO=_[0],Q=X.S.r,Z=X.S.$,fR,iG=0;
if(M=="LqFy")fR=cb.Ah(new Uint8Array(J.LqMe.v).buffer);else{var cC=3;if(M=="Wave")cC=Math.min(3,J.WLMn.v);
fR={a3:Math.floor(Q/cC),oz:Math.floor(Z/cC)};fR.map=new Float32Array(fR.a3*fR.oz*2);if(M=="LnCr"){var iQ=.5*(fR.a3-1),eh=.5*(fR.oz-1),er=Math.max(Math.abs(0-iQ),Math.abs(1-iQ)),fC=Math.max(Math.abs(0-eh),Math.abs(1-eh)),cc=Math.sqrt(er*er+fC*fC),fv=0,gd=0,a3=-1,cY=2,g5=J.LnSi.v/100,f6=1/g5,jx=J.LnIa.v/100,dv=jx==0?1e-6:jx*4.6,az=f6/cc;
for(var h=0;h<fR.oz;h++){for(var V=0;V<fR.a3;V++){var c=(V-iQ)*az,D=(h-eh)*az,z=Math.sqrt(c*c+D*D)*dv,ij=Math.atan(z),ih=jx>0?ij/z:z/ij,i4=iQ+cc*ih*c,bA=eh+cc*ih*D,$=h*fR.a3+V<<1;
fR.map[$]=i4-V;fR.map[$+1]=bA-h}}}else if(M=="Kale"){var e6=fR.a3,iV=fR.oz,hb=(e6-1)*.5,aL=(iV-1)*.5,dq=J.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,h6=J.Mirr.v,jB=Math.PI*2/h6,jU=.5*jB;
for(var h=0;h<iV;h++)for(var V=0;V<e6;V++){var c=V-hb,D=h-aL,aU=Math.sqrt(c*c+D*D),ek=Math.atan2(D,c)+dq;
ek=ek%jB;if(ek>jU)ek=jB-ek;var i4=hb+Math.cos(ek-dq)*aU,bA=aL+Math.sin(ek-dq)*aU,$=(h*e6+V)*2;fR.map[$]=i4-V;
fR.map[$+1]=bA-h}}else if(M=="Dspl"&&dO.length!=0){iG=J.UndA.v.UndA=="WrpA"?2:1;var af=J.DspF.v.pth,jK,eI=J.DspD,kt,dC,b5;
if(eI){var jv=eI.v;dC=jv[1]*256+jv[0];kt=jv[5]*256+jv[4];b5=new Uint8Array(jv.slice(10,10+kt*dC))}else{for(var $=0;
$<dO.length;$++)if(dO[$].qM==af)jK=dO[$];if(jK==null)jK=dO[0];jK.m7();var gQ=jK.SA[1],b5=t.j(gQ.o());
t.i5(jK.SA[0],b5);kt=gQ.r;dC=gQ.$}fR={a3:kt,oz:dC};fR.map=new Float32Array(fR.a3*fR.oz*2);var cJ=2.54*J.HrzS.v*kt/Q,bw=2.54*J.VrtS.v*dC/Z;
for(var h=0;h<fR.oz;h++){for(var V=0;V<fR.a3;V++){var cd=-.5+b5[h*kt+V]*(1/255),$=h*fR.a3+V<<1;fR.map[$]=cd*cJ;
fR.map[$+1]=cd*bw}}}else if(M=="Pnch"||M=="Twrl"||M=="Sphr"||M=="ZgZg"){var iP=1,dp=Math.PI,dn=0,h4=1,ep=0,dm=3,bh=1.53,ih=1;
if(M=="Pnch"||M=="Sphr"||M=="ZgZg")iP=J.Amnt.v/100;if(M=="ZgZg"){h4=J.NmbR.v;ep=["ArnC","OtFr","PndR"].indexOf(J.ZZTy.v.ZZTy)}if(M=="Twrl")dp=J.Angl.v*Math.PI/180;
if(M=="Sphr")dn=["Nrml","HrzO","VrtO"].indexOf(J.SphM.v.SphM);function df(V){V=Math.pow(V,1-V*.3-V*V*(V*V)*.5);
return-.225*Math.sin(V*Math.PI)}function fS(Z,f3,z,fi,g$,aS,a9,ih){var c=aS-fi,D=a9-g$,aZ=fi-Z,fM=g$-f3,du=c*c+D*D,kP=2*(c*aZ+D*fM),dm=aZ*aZ+fM*fM-z*z,bE=Math.sqrt(kP*kP-4*du*dm),fd=ih/(2*du),h0=(-kP+bE)*fd,go=(-kP-bE)*fd;
return ih*Math.min(h0,go)}var e6=fR.a3,iV=fR.oz,hb=fR.a3/2,aL=fR.oz/2,eb=1/hb,z=Math.sqrt(dm*dm+1)/dm,cI=dm+Math.sqrt(1/(dm*dm));
if(iP<0){dm=1.72;z=1;cI=dm;bh=-1;ih=-1}for(var h=0;h<iV;h++){var D=(h-aL)/aL;for(var V=0;V<e6;V++){var c=(V-hb)*eb;
if(dn==1)D=0;else if(dn==2)c=0;var fA=Math.sqrt(c*c+D*D);if(fA<1&&fA!=0){var $=h*fR.a3+V<<1;if(M=="Pnch"){var cP=-iP*df(fA)/fA;
fR.map[$]=c*cP*hb;fR.map[$+1]=D*cP*aL}else if(M=="Sphr"){var i2=fS(0,cI,z,0,0,fA,dm,ih),a1=bh*iP*(i2-1);
fR.map[$]=c*a1*hb;fR.map[$+1]=D*a1*aL}else if(M=="Twrl"){var ek=Math.atan2(D,c)-dp*(1-fA)*(1-fA),gx=Math.cos(ek),aC=Math.sin(ek);
fR.map[$]=(fA*gx-c)*hb;fR.map[$+1]=(fA*aC-D)*aL}else if(M=="ZgZg"){var gx=0,aC=0,jF=iP*(.5-.5*Math.cos(fA*h4*2*Math.PI))*(1-fA);
if(ep==0){var ek=Math.atan2(D,c)-3.5*jF;gx=fA*Math.cos(ek);aC=fA*Math.sin(ek)}if(ep==1){jF=100/Q*jF/fA;
gx=(1-jF)*c;aC=(1-jF)*D}if(ep==2){var u=512/Q*jF*Math.PI/4;gx=u+c;aC=u+D}fR.map[$]=(gx-c)*hb;fR.map[$+1]=(aC-D)*aL}}}}}else if(M=="Shr "){var et=t.b(J.ShrP.v);
t.pq.u(et,new kp(0,255/127,255/127,0,-2,0));var cZ=t.pq.qr(et,fR.oz,!0);iG=J.UndA.v.UndA=="WrpA"?2:1;
for(var h=0;h<fR.oz;h++){var c=-cZ[h]*fR.a3;for(var V=0;V<fR.a3;V++){var $=h*fR.a3+V<<1;fR.map[$]=c}}}else if(M=="Wave"){var cm=J.NmbG.v,j4=J.WLMn.v,fo=J.WLMx.v,db=J.AmMn.v*(Math.PI/4),aj=J.AmMx.v*(Math.PI/4),dI=J.SclH.v/100,ks=J.SclV.v/100,hI=J.Wvtp.v.Wvtp,jF=Math.sin;
if(hI=="WvTr")jF=function(V){V*=2/Math.PI;return-.5+Math.abs(V%2-1)};if(hI=="WvSq")jF=function(V){V*=2/Math.PI;
return 1+2*Math.floor(V%2-1)};var a6=[],gP=new t.v.bN(J.RndS.v);for(var $=0;$<cm;$++){a6.push(gP.get()*10);
a6.push(Math.PI*cC/(j4+gP.get()*(fo-j4)));a6.push(dI*(db+gP.get()*(aj-db))/cC);a6.push(gP.get()*10);
a6.push(Math.PI*cC/(j4+gP.get()*(fo-j4)));a6.push(ks*(db+gP.get()*(aj-db))/cC)}var gn=[],jc=[],j2=Math.max(fR.a3,fR.oz);
for(var $=0;$<j2;$++){var c=0,D=0;for(var dX=0;dX<cm;dX++){var eR=dX*6;c+=a6[eR+2]*jF(a6[eR]+$*a6[eR+1]);
D+=a6[eR+5]*jF(a6[eR+3]+$*a6[eR+4])}gn[$]=D;jc[$]=c}for(var h=0;h<fR.oz;h++){for(var V=0;V<fR.a3;V++){var $=h*fR.a3+V<<1;
fR.map[$]=jc[h];fR.map[$+1]=gn[V]}}iG=J.UndA.v.UndA=="WrpA"?2:1}else if(M=="Rple"){iG=1;var iP=J.Amnt.v/100,a5=4,ag=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],iw=1,gu=1,aZ=0,ab=["Sml","Mdm","Lrg"].indexOf(J.RplS.v.RplS);
if(ab==0){iw=1;gu=.2;aZ=3}if(ab==2){iw=1;gu=2;aZ=-1;ag=ag.reverse()}var eQ=function(V,h){var dm=Math.cos,kJ=0;
for(var $=0;$<a5;$++)for(var dX=0;dX<a5;dX++)kJ+=ag[$*a5+dX]*dm(V*($+aZ)-h*(dX+aZ));return kJ},b7=Math.floor(50/cC),aE=new Float32Array(b7*b7*2),ay=gu*iP*.5/cC;
for(var h=0;h<b7;h++)for(var V=0;V<b7;V++){var iQ=iw*V*2*Math.PI/b7,eh=iw*h*2*Math.PI/b7,iE=eQ(iQ,eh),c=(eQ(iQ+.01,eh)-iE)*100,D=(eQ(iQ,eh+.01)-iE)*100,$=(h*b7+V)*2;
aE[$]=c*ay;aE[$+1]=D*ay}for(var h=0;h<fR.oz;h++)for(var V=0;V<fR.a3;V++){var aC=h%b7,gx=V%b7,$=h*fR.a3+V<<1,eL=aC*b7+gx<<1;
fR.map[$]=aE[eL];fR.map[$+1]=aE[eL+1]}}}t.aT.hl(X.buffer,T.buffer,Q,Z,null,fR.map,fR.a3,fR.oz,iG)}return T};
var iC={};iC.aAn="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");iC.An="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
iC.I6=["ScrC","ScrD","ScrL"];iC.nC=["SDRD","SDHz","SDLD","SDVt"];iC.lz="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
iC.d$="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");iC.A9="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
iC.fj=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];iC.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
iC.IH=function(M){var X;if(M=="ClrP")X={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(M=="Ct")X={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(M=="DryB")X={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(M=="FlmG")X={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(M=="Frsc")X={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(M=="NGlw")X={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(M=="PntD")X={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(M=="PltK")X={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(M=="PlsW")X={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(M=="PstE")X={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(M=="RghP")X={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(M=="SmdS")X={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(M=="Spng")X={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(M=="Undr")X={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(M=="Wtrc")X={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(M=="AccE")X={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(M=="AngS")X={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(M=="Crsh")X={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(M=="DrkS")X={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(M=="InkO")X={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(M=="Smie")X={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(M=="Spt")X={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(M=="SprS")X={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(M=="DfsG")X={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(M=="Gls")X={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(M=="OcnR")X={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(M=="BsRl")X={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(M=="ChlC")X={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(M=="Chrc")X={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(M=="Chrm")X={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(M=="CntC")X={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(M=="GraP")X={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(M=="HlfS")X={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(M=="NtPr")X={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(M=="Phtc")X={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(M=="Plst")X={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(M=="Rtcl")X={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(M=="Stmp")X={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(M=="TrnE")X={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(M=="WtrP")X={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(M=="GlwE")X={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(M=="Crql")X={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(M=="Grn")X={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(M=="MscT")X={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(M=="Ptch")X={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(M=="StnG")X={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(M=="Txtz")X={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
X.__name="Filter Gallery";X.classID="GEfc";X.GEfk={t:"enum",v:{GEft:M}};X.GELv={t:"bool",v:!0};return X};
iC.N8=function(M,X){for(var $=0;$<X.length;$++)~~(X[$]=(M[4*$]+M[4*$+1]+M[4*$+2])*(1/3))};iC.a8J=function(M,X,J,q,W,T){var _=UPNG.quantize(M,X);
_={jw:_.inds,MM:_.plte};if(T){var m=new Uint32Array(_.MM.length);for(var $=0;$<m.length;$++)m[$]=_.MM[$].est.rgba;
_.jw=t.a0p(new Uint8Array(M),J,q,new Uint8Array(m.buffer))}var d=Math.floor((J+q)*.015);if(d!=0&&W)t.GI.a4D(_.jw,J,q,d);
return _};iC.U3=function(M,X,J,q,W,T,_){M=J.GEfk.v.GEft;var m=X.S,d=m.r,A=m.$,p=d*A,a=J.FlRs?J.FlRs.v>>>1:0;
function f(U){return U.z<<24|U.L<<16|U.g<<8|255}if(M=="ClrP")t.B.a0D(X.buffer,d,A,T.buffer,[J.Pncl.v,J.StrP.v,J.PprB.v]);
if(M=="Ct"){var s=J.NmbL.v,j=J.EdgS.v,Y=iC.a8J(X.buffer.buffer,s*2,d,A,!0);for(var $=0;$<Y.jw.length;
$++)Y.jw[$]++;var G=new Uint8Array((d+2)*(A+2));t.Rc(Y.jw,new gc(1,1,d,A),G,new gc(0,0,d+2,A+2));var Q=t.G.lO(G,d+2,A+2,j,!1),Z=new kp(1,0,0,1,-1,-1);
for(var $=0;$<Q.length;$++)t.G.u(Q[$].path.d,Z,Q[$].path.d);var g=[],S=Y.MM;for(var $=0;$<S.length;$++){var U=S[$].est.q;
g.push({z:Math.round(255*U[0]),L:Math.round(255*U[1]),g:Math.round(255*U[2]),Jm:Math.round(255*U[3])})}var B=t.mt(d,A);
for(var $=0;$<Q.length;$++){var e=Q[$],U=g[e.color-1];if(U.Jm==0)continue;B.fillStyle="rgba("+U.z+","+U.L+","+U.g+","+U.Jm/255+")";
B.beginPath();Typr.U.pathToContext({crds:e.path.d,cmds:e.path.C6},B);B.fill()}if(!m.M5()){var P=B.getImageData(0,0,d,A);
t.fc(P.data,T.buffer)}}if(M=="DryB")t.B.a3C(X.buffer,d,A,T.buffer,[J.BrsS.v,J.BrsD.v,J.Txtr.v]);if(M=="FlmG")t.B.ahv(X.buffer,d,A,T.buffer,[J.Grn.v,J.HghA.v,J.Intn.v,a]);
if(M=="Frsc")t.B.ase(X.buffer,d,A,T.buffer,[J.BrsS.v,J.BrsD.v,J.Txtr.v]);if(M=="NGlw")t.B.ajd(X.buffer,d,A,T.buffer,[J.Sz.v,J.Brgh.v,f(t.NX.NH(J.Clr.v)),f(q),f(W)]);
if(M=="PltK")t.B.ajD(X.buffer,d,A,T.buffer,[J.StrS.v,J.StDt.v,J.Sftn.v]);if(M=="PstE")t.B.aI$(X.buffer,d,A,T.buffer,[J.EdgT.v,J.EdgI.v,J.Pstr.v]);
if(M=="RghP")t.B.a80(X.buffer,d,A,T.buffer,[J.StrL.v,J.StDt.v,iC.lz.indexOf(J.TxtT.v.TxtT),J.Scln.v,J.Rlf.v,iC.An.indexOf(J.LghD.v.LghD),J.InvT.v]);
if(M=="SmdS")t.B.aaj(X.buffer,d,A,T.buffer,[J.StrL.v,J.HghA.v,J.Intn.v,J.FlRs?J.FlRs.v:0,a]);if(M=="Spng")t.B.afg(X.buffer,d,A,T.buffer,[J.BrsS.v,J.Dfnt.v,J.Smth.v,J.FlRs?J.FlRs.v:0,a]);
if(M=="Undr")t.B.ag2(X.buffer,d,A,T.buffer,[J.BrsS.v,J.TxtC.v,iC.lz.indexOf(J.TxtT.v.TxtT),J.Scln.v,J.Rlf.v,iC.An.indexOf(J.LghD.v.LghD),J.InvT.v]);
if(M=="Wtrc")t.B.amf(X.buffer,d,A,T.buffer,[J.BrsD.v,J.ShdI.v,J.Txtr.v]);if(M=="AccE")t.B.aDv(X.buffer,d,A,T.buffer,[J.EdgW.v,J.EdgB.v,J.Smth.v]);
if(M=="AngS")t.B.agV(X.buffer,d,A,T.buffer,[J.DrcB.v,J.StrL.v,J.Shrp.v]);if(M=="Crsh")t.B.aoR(X.buffer,d,A,T.buffer,[J.StrL.v,J.Shrp.v,J.Strg.v]);
if(M=="DrkS")t.B.ahK(X.buffer,d,A,T.buffer,[J.Blnc.v,J.BlcI.v,J.WhtI.v]);if(M=="InkO")t.B.a5W(X.buffer,d,A,T.buffer,[J.StrL.v,J.DrkI.v,J.LghI.v]);
if(M=="Smie")t.B.ahn(X.buffer,d,A,T.buffer,[J.StrW.v,J.StrP.v,J.Cntr.v]);if(M=="DfsG")t.B.afd(X.buffer,d,A,T.buffer,[J.Grns.v,J.GlwA.v,J.ClrA.v,f(W),a]);
if(M=="CntC")t.B.a3$(X.buffer,d,A,T.buffer,[J.FrgL.v,J.BckL.v,iC.lz.indexOf(J.TxtT.v.TxtT),J.Scln.v,J.Rlf.v,iC.An.indexOf(J.LghD.v.LghD),J.InvT.v,f(W),f(q)]);
if(M=="ChlC")t.B.amu(X.buffer,d,A,T.buffer,[J.ChrA.v,J.ChlA.v,J.StrP.v,a,f(W),f(q)]);var h=M=="GraP"||M=="Chrc"||M=="Plst"||M=="Rtcl"||M=="Stmp"||M=="TrnE";
if(h){var V=t.j(d*A);if(M=="GraP")t.B.ape(X.buffer,d,A,T.buffer,[J.StrL.v,J.LgDr.v,iC.nC.indexOf(J.SDir.v.StrD),a]);
if(M=="Chrc")t.B.axm(X.buffer,d,A,T.buffer,[J.ChAm.v,J.Dtl.v,J.LgDr.v]);if(M=="Plst")t.B.aEO(X.buffer,d,A,T.buffer,[J.ImgB.v,iC.d$.indexOf(J.LghP.v.LghP),J.Smth.v]);
if(M=="Rtcl")t.B.aGa(X.buffer,d,A,T.buffer,[J.Dnst.v,J.BlcL.v,J.WhtL.v,a]);if(M=="Stmp")t.B.a6q(X.buffer,d,A,T.buffer,[J.LgDr.v,J.Smth.v]);
if(M=="TrnE")t.B.a0Q(X.buffer,d,A,T.buffer,[J.ImgB.v,J.Smth.v,J.Cntr.v,a]);t.SF(T.buffer,V,0);iC.oy(V,T.buffer,q,W)}if(M=="NtPr")t.B.awA(X.buffer,d,A,T.buffer,[J.ImgB.v,J.Grns.v,J.Rlf.v,f(q),f(W),a]);
if(M=="WtrP")t.B.aGQ(X.buffer,d,A,T.buffer,[J.FbrL.v,J.Brgh.v,J.Cntr.v,a>>>1]);if(M=="Crql")t.B.a0A(X.buffer,d,A,T.buffer,[J.CrcS.v,J.CrcD.v,J.CrcB.v,a]);
if(M=="Grn")t.B.ad6(X.buffer,d,A,T.buffer,[J.Intn.v,iC.A9.indexOf(J.Grnt.v.Grnt),J.Cntr.v,f(q),f(W),a]);
if(M=="MscT")t.B.arU(X.buffer,d,A,T.buffer,[J.TlSz.v,J.GrtW.v,J.LghG.v,a]);if(M=="Ptch")t.B.adW(X.buffer,d,A,T.buffer,[J.SqrS.v,J.Rlf.v,a]);
if(M=="Phtc"){function I(bh,dY,m,i_){t.zp.zk(dY,m,i_,2);for(var $=0;$<p;$++)dY[$]=Math.max(0,Math.min(255,128+bh[$]-dY[$]))}var F=J.Dtl.v,c=J.Drkn.v,D=t.j(p);
t.i5(X.buffer,D);var n=D.slice(0);I(D,n,m,1);if(F==1){F=2;c=Math.round(c/4)}var b=D.slice(0);I(D,b,m,F);
for(var $=0;$<p;$++)D[$]=Math.max(0,Math.min(255,255-(n[$]-b[$])*c));iC.oy(D,T.buffer,q,W)}if(M=="Spt"||M=="SprS"){var N,L=1,R=1;
N={a3:Math.floor(d/R),oz:Math.floor(A/R)};N.map=new Float32Array(N.a3*N.oz*2);var i=new t.v.bN(a),v=new Float32Array(8192),E=J.SprR.v,u=E<20?.018*E:.36+(E-20)*.128;
if(M=="SprS"){u=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][E]}for(var $=0;
$<8192;$++)v[$]=(-1+2*i.get())*u*70;for(var C=0;C<A;C++)for(var l=0;l<d;l++){var x=C*d+l<<1;N.map[x]=v[x%7919];
N.map[x+1]=v[(x+1)%7919]}var y=N.map.slice(0),ge=M=="Spt"?J.Smth.v-1:1;if(M=="Spt"&&ge!=0){iC.aGt(N.map,y,d,A,ge);
iC.as3(y,N.map,d,A,ge)}if(M=="SprS"){var O=J.StrL.v>>>1,kz=O==0?2:1;iC.aGt(N.map,y,d,A,kz);iC.as3(y,N.map,d,A,kz);
if(O!=0){var z=iC.nC.indexOf(J.SDir.v.StrD),eZ=[1,1,1,0][z],kM=[-1,0,1,1][z],jV=2*O+1,cL=1/jV;for(var C=0;
C<A;C++)for(var l=0;l<d;l++){var x=C*d+l<<1,aw=0,h2=0;for(var $=0;$<jV;$++){var ea=Math.max(0,Math.min(d-1,l-(O+$)*eZ)),ht=Math.max(0,Math.min(A-1,C-(O+$)*kM)),jn=ht*d+ea<<1;
aw+=N.map[jn];h2+=N.map[jn+1]}y[x]=aw*cL;y[x+1]=h2*cL}N.map=y}}t.aT.hl(X.buffer,T.buffer,d,A,null,N.map,N.a3,N.oz,L)}if(M=="BsRl"||M=="PlsW"||M=="Chrm"){var gE=Date.now(),bS=t.j(p);
t.i5(X.buffer,bS);var F=J.Dtl.v,bi=J.Smth.v;if(F!=15){t.zp.zk(bS,m,Math.round((15-F)*.5))}var cj=1.4/d,bb=1.4/A,c0=new Float32Array(p),cV=new Float32Array(p),g_=new Float32Array(T.buffer.buffer);
for(var C=0;C<A;C++)for(var l=0;l<d;l++){var $=C*d+l,eZ=l==d-1?bS[$]-bS[$-1]:bS[$+1]-bS[$],kM=C==A-1?bS[$]-bS[$-d]:bS[$+d]-bS[$],hx=l*cj-.7,au=C*bb-.7;
c0[$]=eZ==0?hx:eZ*.4;cV[$]=kM==0?au:kM*.4}if(M=="BsRl"){var kP=(2+iC.An.indexOf(J.LghD.v.LghD))*Math.PI*.25,aw=Math.cos(kP);
if(Math.abs(aw)<.1)aw=0;aw=Math.sign(aw);var h2=Math.sin(kP);if(Math.abs(h2)<.1)h2=0;h2=Math.sign(h2);
var iK=1/(aw*aw+h2*h2),b3=bS.slice(0);for(var C=0;C<A;C++)for(var l=0;l<d;l++){var $=C*d+l,fs=Math.max(-1,Math.min(1,aw*c0[$])),ch=Math.max(-1,Math.min(1,h2*cV[$]));
b3[$]=128+127*(fs+ch)*iK}if(bi!=1){t.zp.zk(b3,m,Math.round((bi-1)*.5))}iC.oy(b3,T.buffer,q,W)}else{if(M=="Chrm")bi=5+bi;
if(bi>1)iC.nU(c0,cV,g_,m,bi-1);if(M=="PlsW"){var hv=new Uint8Array(c0.buffer);for(var $=0;$<p;$++){var g6=$<<2,eZ=c0[$],kM=cV[$],ef=1/(Math.sqrt(1+eZ*eZ)*Math.sqrt(1+kM*kM)),fN=ef*ef,kb=fN*fN,U=~~(255*(kb*kb*fN));
hv[g6+0]=U;hv[g6+1]=U;hv[g6+2]=U;hv[g6+3]=U}T.buffer.set(X.buffer);t.v.r$("norm",hv,m,T.buffer,m,m,J.HghS.v/20)}else if(M=="Chrm"){var cn=T.buffer,dF=d>>>1,et=A>>>1;
for(var $=0;$<p;$++){var g6=$<<2,eZ=c0[$],kM=cV[$],bh={x:1,y:0,t6:eZ};hA.FH(bh);var dY={x:0,y:1,t6:kM};
hA.FH(dY);var jM=hA.aeO(bh,dY),bz=1/jM.t6,hh=~~Math.max(0,Math.min(d-1,dF-jM.x*bz*dF)),dM=~~Math.max(0,Math.min(A-1,et-jM.y*bz*et)),U=bS[dM*d+hh];
cn[g6+0]=U;cn[g6+1]=U;cn[g6+2]=U}}}}if(M=="Gls"||M=="OcnR"||M=="Txtz"){var iX=M=="OcnR"?2:iC.lz.indexOf(J.TxtT.v.TxtT),aW=iC.Gb(iX),eC=aW[0],bS=aW[1],dh=eC.r,ff=eC.$,jV=24,ba=0,b_,f8;
function fE(j5,fD,e2){return~~(dX*(j5+fD)+8192)&127}var c0=new Float32Array(p),cV=new Float32Array(p),g_=new Float32Array(T.buffer.buffer),dX=M=="OcnR"?1/(1+(J.RplS.v-1)*.1):100/J.Scln.v;
if(iX==3)dX*=32/22.2;var gE=Date.now(),i2=dX,cj=1.4/d,bb=1.4/A;if(M=="Txtz"){i2*=1/255;jV=256}for(var C=0;
C<A;C++){var ew=fE(C,m.y,ff),ht=ew+1&127;for(var l=0;l<d;l++){var $=C*d+l,hW=fE(l,m.x,dh),ea=hW+1&127,jt=0,h3=0,dl=0;
if(M=="Txtz"){jt=t.t.S_(dX*l,dX*C,bS,128,128);h3=t.t.S_(dX*l,dX*C+1,bS,128,128);dl=t.t.S_(dX*l+1,dX*C,bS,128,128)}else{jt=bS[ew*dh+hW];
h3=bS[ht*dh+hW];dl=bS[ew*dh+ea]}c0[$]=Math.max(-jV,Math.min((dl-jt)*i2,jV));cV[$]=Math.max(-jV,Math.min((h3-jt)*i2,jV))}}if(M=="Txtz")iC.arn(c0,cV,g_,m,6);
else iC.nU(c0,cV,g_,m,M=="Txtz"?1:M=="OcnR"?3.5/dX:J.Smth.v);if(M=="Txtz")ba=J.InvT.v?-1:1;else if(M=="Gls"){ba=[1,.4,.5,.5,.5,.5,.5][iX]*(Math.exp(J.Dstr.v*.155)-1);
if(J.InvT.v)ba=-ba}else{ba=.5*(Math.exp(J.RplM.v*.155)-1)}var cn=T.buffer;if(M=="Txtz"){var kP=(2+iC.An.indexOf(J.LghD.v.LghD))*Math.PI*.25,aw=Math.cos(kP),h2=Math.sin(kP);
b_={x:aw,y:h2,t6:0};hA.FH(b_);f8=J.Rlf.v;f8=f8/4+Math.max(0,(f8-35)*2)}function ak(bh,dY,i6){var ej=t.v.overF(dY,bh,1),j5=(1-i6)*bh+i6*(i6*dY+(1-i6)*ej);
return j5*255}for(var C=0;C<A;C++)for(var l=0;l<d;l++){var $=C*d+l,g6=$<<2,eZ=c0[$],kM=cV[$],bh={x:1,y:0,t6:eZ};
hA.FH(bh);var dY={x:0,y:1,t6:kM};hA.FH(dY);var jM=hA.aeO(bh,dY);if(M=="Txtz"){var jk=hA.a2N(jM,b_)*ba,i6=1,U=1;
if(jk<0){U=0;jk=-jk}i6=Math.min(1,jk*f8);cn[g6+0]=~~ak(X.buffer[g6]*(1/255),U,i6);cn[g6+1]=~~ak(X.buffer[g6+1]*(1/255),U,i6);
cn[g6+2]=~~ak(X.buffer[g6+2]*(1/255),U,i6)}else{var bz=ba/jM.t6,hh=~~Math.max(0,Math.min(d-1,l-jM.x*bz)),dM=~~Math.max(0,Math.min(A-1,C-jM.y*bz)),k2=dM*d+hh<<2;
cn[g6+0]=X.buffer[k2];cn[g6+1]=X.buffer[k2+1];cn[g6+2]=X.buffer[k2+2]}}}if(M=="PntD"){var gm=J.Shrp.v*.4,cu=J.BrsT.v.BrsT,ek={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[cu],i_=Math.round(J.Sz.v*.5);
t.Tg.ho=ek[0];t.Tg.GE(X.buffer,T.buffer,d,A,i_,0,[]);var iP=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];iP=t.BD.yA(iP);
var cf=T.buffer.slice(0);t.BD.Br(cf,T.buffer,d,A,iP);for(var $=0;$<X.buffer.length;$++){var id=T.buffer[$]-cf[$];
T.buffer[$]=Math.max(0,Math.min(255,cf[$]+gm*id))}}if(M=="GlwE"){var i1=T.buffer.slice(0);t.Tg.ho=.5;
t.Tg.GE(X.buffer,i1,d,A,J.Smth.v>>>1,0,[]);t.BD.aFd(i1,T.buffer,d,A);t.fc(T.buffer,i1);t.vN(i1);t.Ya(i1,1);
t.u7.a4x(i1,T.buffer,d,A,(J.EdgW.v>>>1)*2+1,!0);var f0=J.EdgB.v/10;for(var $=0;$<i1.length;$++){if(($&3)==3)continue;
var ej=T.buffer[$];T.buffer[$]=Math.max(0,Math.min(255,ej*f0))}}if(M=="StnG"){t.r8.auY(X.buffer,d,A,T.buffer,J.ClSz.v,[Math.round(q.z),Math.round(q.L),Math.round(q.g)],J.BrdT.v,a)}if(M=="HlfS"){var kk=J.HlSz.v,dZ=kk*2+1,cq=J.Cntr.v,hI=iC.I6.indexOf(J.ScrT.v.ScrT),p=d*A,fb=p*4,d6=t.j(p),kc=X.buffer,ds=0,i7=0;
iC.N8(kc,d6);t.zp.IV(d6,m,kk);var jm=Math.PI/dZ,f4=new Float64Array(d),aw=new Float64Array(d),ib=new Float64Array(2*d);
for(var l=0;l<d;l++){var hW=(l-(d>>>1))*jm;f4[l]=hW*hW;aw[l]=Math.cos(hW);var eZ=l<<1;ib[eZ]=Math.sin(eZ*(1/4.5));
ib[eZ+1]=Math.sin((eZ+1)*(1/4.5))}for(var C=0;C<A;C++){var ew=(C-(A>>>1))*jm,h2=Math.cos(ew),hU=ew*ew;
for(var l=0;l<d;l++){var U=h2;if(hI==0){var jy=.5+Math.sqrt(f4[l]+hU)*4.5;U=ib[~~jy]}else if(hI==1){U=aw[l]*h2}var $=C*d+l,fi=d6[$]*(.75+.25*U),i6=kc[($<<2)+3]*(1/255),g$=Math.max(0,Math.min(255,~~fi));
ds+=g$*i6,i7+=i6;d6[$]=g$}}ds/=i7;var aS=128+1.26*(ds-128),f0=.08+.25*Math.abs((128-ds)/128),a9=1+f0*cq;
for(var $=0;$<p;$++){var fi=aS+(d6[$]-aS)*a9;d6[$]=Math.max(0,Math.min(255,~~fi))}if(cq>46)t.round(d6);
iC.oy(d6,T.buffer,q,W)}for(var $=0;$<X.buffer.length;$+=4)T.buffer[$+3]=X.buffer[$+3]};iC.oy=function(M,X,J,q){var W=M.length,T=J.z,_=J.L,m=J.g,d=q.z,A=q.L,p=q.g;
for(var $=0;$<W;$++){var a=M[$]*(1/255),f=1-a,s=$<<2;X[s]=~~(T*f+d*a);X[s+1]=~~(_*f+A*a);X[s+2]=~~(m*f+p*a)}};
iC.Gb=function(M){if(M==6)M=2;var X="blocks canvas frosted tinylens brick burlap".split(" ")[M];if(iC.A6==null)iC.A6=[];
if(iC.A6[M]==null){var J,q;if(M==2){q=new gc(0,0,128,128);var W=fV.IH("AdNs");W.Mnch.v=!0;W.Dstr.v.Dstr="Gsn";
W.Nose.v.val=50;var J=t.j(q.o()*4),T=J.slice(0);t.Tb(T.buffer,4286611584);fV.U3("AdNs",{buffer:T,S:q},W,0,0,{buffer:J,S:q})}else{var _=h1.Rv.get("tex/"+X,!0)[0];
q=_.kq;J=new Uint8Array(_.data)}var m=t.j(q.o());t.SF(J,m,0);iC.A6[M]=[q,m]}return iC.A6[M]};iC.nU=function(M,X,J,q,W){if(W<=1){W=Math.round(W);
iC.arn(M,X,J,q,[1,16,4][W]);return}var T=W*.42;if(M){t.zp.zk(M,q,T,3)}if(X){t.zp.zk(X,q,T,3)}};iC.arn=function(M,X,J,q,W){var T=t.BD.yA([1,2,1,2,W,2,1,2,1]);
if(M){J.set(M);t.BD.al4(M,J,q.r,q.$,T);M.set(J)}if(X){J.set(X);t.BD.al4(X,J,q.r,q.$,T);X.set(J)}};iC.$S=function(M){if(M==null)return new es(0,0);
var X=0,J=M.GEfs?M.GEfs.v:[{v:M}];for(var $=0;$<J.length;$++){var q=J[$].v,T=1e4;if(q.GELv&&!q.GELv.v)continue;
var W=q.GEfk.v.GEft;if(W=="GlwE"||W=="Phtc"||W=="BsRl"||W=="PlsW"||W=="Chrm"||W=="Gls"||W=="OcnR"||W=="InkO")T=0;
X=Math.max(X,T)}return new es(X,X)};iC.ahJ=function(M){var X=[0,0,0,0,0,0,0,0,0,0,0,0,0],J=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][M];
for(var $=0;$<13;$++){var q=$-6;X[$]=1/(J*Math.sqrt(2*Math.PI))*Math.exp(-.5*(q/J)*(q/J))}return X};
iC.aGt=function(M,X,J,q,W){var T=iC.ahJ(W),_=6,m=13;for(var d=0;d<q;d++)for(var A=0;A<J;A++){var p=d*J+A<<1,a=0,f=0;
for(var $=0;$<m;$++){var s=A+$-_,j=s<0?0:s>=J?J-1:s,Y=(d*J+j)*2,G=T[$];a+=G*M[Y];f+=G*M[Y+1]}X[p]=a;
X[p+1]=f}};iC.as3=function(M,X,J,q,W){var T=iC.ahJ(W),_=6,m=13;for(var d=0;d<q;d++)for(var A=0;A<J;A++){var p=d*J+A<<1,a=0,f=0;
for(var $=0;$<m;$++){var s=d+$-_,j=s<0?0:s>=q?q-1:s,Y=(j*J+A)*2,G=T[$];a+=G*M[Y];f+=G*M[Y+1]}X[p]=a;
X[p+1]=f}};function ae(){}ae.T3=[2,5,5,7,4,4];ae.pi="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
ae.TW="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
ae.Ql=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
ae.U_=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
ae.Wz=function(M){if(M=="passThrough")return"pass";return ae.pi[ae.TW.indexOf(M)]};ae.fF=function(M){if(M=="pass")return"passThrough";
return ae.TW[ae.pi.indexOf(M)]};ae.getName=function(M){return ae.Ql[ae.pi.indexOf(M)]};function K(){this.S=null;
this.buffer=null;this.Sw="norm";this.G8=255;this.H2=!1;this.Nx=!1;this.l4=0;this.pZ=0;this.ed=!0;this.NQ=[];
for(var $=0;$<10;$++)this.NQ.push(0,0,255,255);this.name=null;this.add={};this.I4=null;this.MO=null;
this.JS=null;this.i4=null;this.a6x=30;this.xk=null;this.Lo=null;this.Qm=null;this.eN=null;this.tD=0;
this.Cq=!1;this.Yb=null;this.ws=new K.u0}K.u0=function(){this.OC=!0;this.ma=!0;this.DY=t.j(0);this.aAD=t.j(0);
this.dI=null;this.bV={};this.azw=null;this.ih=null;this.LN=null;this.HL=null;this.q_=null;this.W2=null;
this.$V=null;this.Z7=null;this.l6=null;this.ou=null;this.uT=null;this.Tv=null;this.zy=!1};K.u0.prototype.aJ9=function(){this.OC=null;
this.ma=!1;this.dI=null;this.zy=aq.zw};K.u0.prototype.a1W=function(){hA.a0s(this.bV);this.DY=t.j(0);
this.aAD=t.j(0);if(this.HL)this.HL.delete();if(this.q_)this.q_.delete();this.HL=null;this.q_=null;var M=[this.W2,this.$V,this.Z7,this.l6,this.ou,this.uT];
for(var $=0;$<6;$++)if(M[$]!=null&&M[$]instanceof aq.Uy)M[$].delete();this.W2=null;this.$V=null;this.Z7=null;
this.l6=null;this.ou=null;this.uT=null};K.prototype.vV=function(M){if(M==null)M=this.S.Q();if(this.ws.dI==null)this.ws.dI=M;
else this.ws.dI=this.ws.dI.m0(M)};K.prototype.nA=function(){return this.add.lsct==gO.A$||this.add.lsct==gO.dw};
K.prototype.eQ=function(){var M=this.add;return M.SoCo!=null||M.GdFl!=null||M.PtFl!=null||M.vstl!=null};
K.prototype.akd=function(){var M=this.add.lmfx;if(M==null)return;var X=["GrFl","patternFill"];for(var $=0;
$<X.length;$++){var J=kf.an[kf.order.indexOf(X[$])],q=M[J].v;if(q.length==0)continue;for(var W=0;W<q.length;
W++){var T=q[W].v;if(T.enab.v&&(T.Algn==null||!T.Algn.v))this.ws.ma=!0}}};K.prototype.afU=function(){var M=this.JS,X=this.ws.OC;
if(this.eQ())M=this.hM();if(!aq.zw)return M.ps();if(this.ws.q_==null||X||aq.zw!=this.ws.zy){var J=M.Hg(),q=M.ps(),W=this.ws.q_,T=t.qP(q),_=null;
if(X!=!0&&X!=null){_=X.Q();_.offset(-J.x,-J.y)}if(W==null||W.r!=J.r||W.$!=J.$||W.depth!=T){W=this.ws.q_=new aq.q5(J.r,J.$,T);
_=null}W.set(q,_)}return this.ws.q_};K.prototype.am_=function(M){var X=this.S,J=this.buffer;if(!aq.zw){var q=this.to(M,J,X);
if(q){J=q.hT;X=q.S}return J}if(this.ws.dI!=null||aq.zw!=this.ws.zy){var q=this.to(M,J,X);if(q){J=q.hT;
X=q.S}var W=X;if(aq.zw!=this.ws.zy||this.ws.HL==null||this.ws.HL.r!=W.r||this.ws.HL.$!=W.$||this.ws.HL.depth!=M.depth){if(this.ws.HL)this.ws.HL.delete();
this.ws.HL=new aq.Uy(W.r,W.$,M.depth);this.ws.HL.set(J)}else{var T=this.ws.dI.Q();T.offset(-X.x,-X.y);
this.ws.HL.set(J,T)}}return this.ws.HL};K.prototype.Zw=function(){var M=this.JS;if(this.eQ())M=this.hM();
return M!=null&&M.isEnabled&&(!M.S.M5()||M.NH()!=255)};K.prototype.to=function(M,X,J){if(this.mT()){var q=this.uV(M);
if(q.JS&&q.JS.isEnabled&&(!q.JS.S.M5()||q.JS.color==0)){var W=this.add.SoLd.filterFX.v;q.JS.Fw=W.filterMaskDensity?W.filterMaskDensity.v:255;
q.JS.VU=W.filterMaskFeather?W.filterMaskFeather.v:0;var T=q.buffer,_=q.S;if(_.o()<J.o()){_=J;T=t.j(_.o()*4,M.depth);
t.fA(q.buffer,q.S,T,_)}var m=q.JS.Xu(J);t.vN(m);X=X.slice(0);t.v.z2(T,_,X,J,m,J,0,J,1);return{hT:X,S:J}}}};
K.prototype.avR=function(){var M={xn:!1,zU:!1,dJ:0,Fk:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)M.zU=!0;
if(this.hM()&&this.hM().isEnabled)M.xn=!0;if(M.xn&&M.zU){M.dJ=this.hM().S.x-this.add.vmsk.hM().S.x;M.Fk=this.hM().S.y-this.add.vmsk.hM().S.y}return M};
K.prototype.j$=function(M,X){if(gj!=0)return;if(X&&this.hM().VU!=0){X=X.Q();var J=Math.round(this.hM().VU*2.4);
X.$K(J,J)}var q=!1;if(this.add.lsct==gO.Vd)return;var W=this,T=this.hM()!=null&&this.hM().A8,_=this.add.vmsk!=null&&this.add.vmsk.A8,m=this.avR(),d=JSON.stringify(m)!=this.ws.azw||m.xn&&T||m.zU&&_;
if(d){if(m.zU){var A=this.add.vmsk.hM(null,M.depth);if(m.xn){this.JS=this.hM().uM(A);this.ws.ih=new es(this.JS.S.x-this.hM().S.x,this.JS.S.y-this.hM().S.y)}else this.JS=A}if(this.JS)q=!0;
if(this.JS)this.ws.LN=new es(this.S.x-this.JS.S.x,this.S.y-this.JS.S.y);if(m.xn)this.hM().A8=!1;if(m.zU)this.add.vmsk.A8=!1;
this.vV(X)}else{if(m.xn&&m.zU){this.JS.S.x=this.hM().S.x+this.ws.ih.x;this.JS.S.y=this.hM().S.y+this.ws.ih.y}}if(W.eQ()){this.xT(M)}if(W.nQ()){var p;
if(this.JS)p=new es(this.S.x-this.JS.S.x,this.S.y-this.JS.S.y);if(this.JS&&this.JS.isEnabled&&(this.ws.LN==null||!p.w6(this.ws.LN))){this.ws.LN=p;
this.vV(X);q=!0}}if(ia.get(W.add)!=null)q=!0;if(q){var a=this.ws.OC;if(X&&a&&a!=!0)a=a.m0(X);else a=X?X:!0;
this.ws.OC=a}this.ws.azw=JSON.stringify(m)};K.prototype.xT=function(M){if(gj!=0)return;var X=this,J=X.add.vstk,q=new gc(0,0,M.r,M.$),W,T=X.add.vmsk?this.add.vmsk.hM(null,M.depth):null,d=!0,a;
if(T&&T.isEnabled&&T.NH()==0)W=T.Hg().Q();else W=q;var _=X.hM();if(_&&_.isEnabled&&_.NH()==0)W=W.Lg(X.JS.Hg());
var m=T&&J;if(J&&(!J.strokeEnabled.v||J.strokeStyleLineWidth.v.val==0))m=!1;if(J&&!J.fillEnabled.v&&m)d=!1;
var A=t.j(W.o()*4,M.depth);if(d){if(X.add.SoCo)hA.zK(A,X.add.SoCo.Clr.v);if(X.add.GdFl){var p=T&&T.color==0?t.I.NP(X.add.vmsk.X,null,!0):null;
hA.Yx(X.add.GdFl,A,W,M,null,p)}if(X.add.PtFl)hA.l7(X.add.PtFl,A,W,M.add.Patt,X.add.fxrp)}if(m)a=kf.XZ._z.indexOf(J.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(T){var f=T.Fw;if(m)T.Fw=255;var s=t.j(W.o(),M.depth);if(T.NH()!=0)s.fill(t.P0(M.depth)*T.NH()/255);
if(T&&T.isEnabled){var j=T.Hg(),Y=T.ps();if(j.w6(W))t.fc(Y,s);else t.Rc(Y,j,s,W)}if(m&&a==2){}else{if(X.add.SoCo&&d){t.ix(s,A,3)}else t.tc(s,W,A,W)}if(m)T.Fw=f}X.buffer=A;
X.S=W;if(m){var G=J.strokeStyleContent.v,Q=kf.XZ.PP.indexOf(G.classID),Z=this.add.vmsk.hM(J,M.depth);
if(a!=0&&!X.S.w6(q))X.extend(X.S.m0(Z.Hg()));var f=Z.Fw;Z.Fw=255;var g=Z.Xu(X.S);Z.Fw=f;if(Z.color==255)t.vN(g);
var S=t.j(X.S.o()*4,M.depth);if(Q==0)hA.zK(S,G.Clr.v);if(Q==1)hA.Yx(G,S,X.S,M,null,T.color==0?T.S:null);
if(Q==2)hA.l7(G,S,X.S,M.add.Patt,X.add.fxrp);var U=J.strokeStyleOpacity.v.val/100;if(U!=1)t.iR(g,U);
if(Z.color==255)a=2-a;if(a<2){t.v.z2(S,X.S,X.buffer,X.S,g,X.S,255,X.S,1,!1);if(a==0)t.S6(s,X.buffer)}if(a==2){t.S6(g,S);
t.vN(s);t.v.z2(S,X.S,X.buffer,X.S,s,W,255,X.S,1,!1);t.vN(s)}if(Z.Fw!=255){var B=S.slice(0);t.Ya(B,1);
t.v.r$("norm",B,X.S,X.buffer,X.S,X.S,1-Z.Fw/255)}f=T.Fw;T.Fw=255;this.aAD=T.Xu(X.S);T.Fw=f}this.vV()};
K.prototype.el=function(M,X,J,q,W){var T=this,_=T.add.SoLd.Idnt.v,m=T.add.SoLd,d=o.fx.Bz(m.nonAffineTransform),A=t.G.Cs(d),p=M.zh(_,m.Crop?m.Crop.v:null,[A.r,A.$],m.Impr.v.classID,J),g=null;
if(p==null)return;var a=p.SA;t.ahm(a,M.depth);if(W&&t.Nf(a[0],0))return;if(m.Sz){m.Sz.v.Wdth.v=p.DA.r;
m.Sz.v.Hght.v=p.DA.$}if(gj!=0)return;var f=p.Qv==null?m.Rslt.v.val:p.Qv,s=m.quiltWarp.v;if(t.Rl.tU(s))s=null;
var j=t.t.bw(d,p.DA);if(s){var A=t.G.Cs(t.Rl.LK(s)[3]),Y=A.x,G=A.y,Q=1/A.r,Z=1/A.$;j=t.t.bw(d);j=t.t.uM(j,[Q,0,-Y*Q,0,Z,-G*Z,0,0])}if(!X&&!T.mT()&&s==null){var S=M.U.indexOf(T),U=K.oX(T);
for(var $=0;$<S;$++){var B=M.U[$];if(B.add.SoLd&&!B.mT()&&K.oX(B)[0]==U[0]){var e=K.oX(B);g={buffer:B.buffer.slice(0),S:B.S.Q()};
g.S.offset(Math.round(U[1]-e[1]),Math.round(U[2]-e[2]));break}}}if(g==null)g=o.fx.IA(a,X?0:1,j,s,null,null,X);
if(g==null){T.buffer=t.j(0,M.depth);T.S=new gc}else if(T.mT()){var P=T.uV(M);if(q){P.buffer=t.cY(P.buffer,M.depth);
P.buffer.fill(0);t.fA(g.buffer,g.S,P.buffer,P.S)}else{P.buffer=g.buffer;P.S=g.S.Q()}this.o_(M,X)}else{T.buffer=g.buffer;
T.S=g.S}T.j$(M);T.vV();M.vV()};K.oX=function(M){var X=M.add.SoLd,J=X.Idnt.v,q=o.fx.Bz(X.nonAffineTransform),W=t.t.bw(q,new gc(0,0,1e3,1e3)),T=X.quiltWarp.v;
if(t.Rl.tU(T))T=null;return[[J,W[0],W[1],W[3],W[4],W[6],W[7],T==null].join(":"),W[2],W[5]]};K.prototype.o_=function(M,X){if(X==null)X=!1;
var J=this.uV(M),q=this.add.SoLd.filterFX.v,W=fV.asI(q),T=new gc(0,0,M.r,M.$),_=J.S.m0(T),m=J.S.Q();
m.$K(W.x,W.y);var d={buffer:null,S:_.Lg(m)};d.buffer=t.j(d.S.o()*4,M.depth);t.fA(J.buffer,J.S,d.buffer,d.S);
if(q.enab.v&&X==!1){var A=q.filterFXList.v;for(var $=0;$<A.length;$++){var p=A[$].v;if(p.enab.v==!1)continue;
var a=p.blendOptions.v,f=ae.Wz(a.Md.v.BlnM),s=a.Opct.v.val/100,j=t.NX.NH(p.FrgC.v),Y=t.NX.NH(p.BckC.v),G=fV._v(p),Q={buffer:t.j(d.buffer.length,M.depth),S:d.S.Q()},Z=p.Fltr?p.Fltr.v:null;
if(ia.QV[G]!=null){var g=ia.QV[G],S=ia.BZ(g,Z);if(S)ia.U3(S,d.buffer,Q.buffer,d.S)}else fV.U3(G,d,Z,j,Y,Q,[M.add.lnk2?M.add.lnk2:[],this.hM(),M.OD]);
if(f=="norm"&&s==1)d=Q;else if(f=="norm"){t.v.z2(Q.buffer,Q.S,d.buffer,d.S,null,null,null,d.S,s)}else{t.v.r$(f,Q.buffer,Q.S,d.buffer,d.S,d.S,s)}}}this.S=d.S;
this.buffer=d.buffer;this.Wn();this.vV();M.vV()};K.prototype.sG=function(M,X,J){this.Yb=this.aeg(M,X,J)};
K.prototype.ag=function(M,X){var J=this.aeg(M,X,!0);if(J==null)return null;var q={CJ:J.tD,b3:J.dC,S:J.uF};
if(q.CJ==1||q.CJ==3){var W=q.S,T=t.j(W.r*W.$*4,t.qP(M.c.N));t.ix(q.b3,T,0);t.ix(q.b3,T,1);t.ix(q.b3,T,2);
t.avz(M.c.N,M.c.S,T,W);q.b3=T}return q};K.prototype.aeg=function(M,X,J){var q,W,T,_,m,d,A;if(this.tD<=0){var p=t.j(this.S.o(),M.depth);
t.SF(this.buffer,p,3);q=t.w3.yW(X,{N:p,S:this.S},3);if(q==null)return null;var a=t.pT(q.N,q.S);_=q.S.Q();
m=this.S.Q();W=t.j(_.o()*4,M.depth);t.fA(this.buffer,m,W,_);t.ix(q.N,W,3);T=this.buffer.slice(0);if(!J){var f=X.N.slice(0);
t.vN(f);t.tc(f,X.S,T,m)}d=this.buffer.slice(0);A=this.S.Q()}if(this.tD==1||this.tD==3){var s=this.tD==1?this.hM():this.uV(M).JS;
_=X.S.Q();m=s.S.Q();W=s.SJ(_);var T=s.N.slice(0);if(!J){var j=t.j(_.o(),M.depth);if(s.color==255)j.fill(t.P0(M.depth));
t.v.Qe(j,_,T,m,X.N,_,1)}d=s.N.slice(0);A=s.S.Q()}return{tD:this.tD,dC:W,uF:_,ny:T,N2:m,qA:d,Fj:A}};K.prototype.rS=function(M,X){var J=this.Yb;
if(J.tD==0){this.S=J.Fj;this.buffer=J.qA;this.vV()}if(J.tD==1||J.tD==3){var q=J.tD==1?this.hM():this.uV(M).JS;
q.N=J.qA;q.S=J.Fj;if(this.tD==1){q.A8=!0;this.j$(M)}if(this.tD==3)this.vV()}this.Yb=X};K.prototype.cu=function(M,X){var J=M.depth;
if(this.tD<=0&&X.S.w6(this.S)){var q=t.j(this.S.o(),J);t.SF(this.buffer,q,3);if(t.w6(M.c.N,q)){var W=this.S,T=this.buffer;
this.Yb={tD:this.tD,dC:T.slice(0),uF:W.Q(),ny:t.j(0),N2:new gc,qA:t.j(0),Fj:new gc};return!0}}var _=this.Yb;
if(_==null)return!1;if(_.tD!=this.tD)return!1;if(!X.S.w6(_.uF))return!1;var m=_.N2.m0(_.uF);if(_.tD<=0){if(!m.w6(this.S))return!1;
var d=t.j(_.dC.length>>2,J);t.SF(_.dC,d,3);if(!t.w6(X.N,d))return!1;var A=t.j(m.o()*4,J);t.fA(_.ny,_.N2,A,m);
t.v.r$("norm",_.dC,_.uF,A,m,m,1);return t.w6(A,this.buffer)}if(_.tD==1||_.tD==3){var p=_.tD==1?this.hM():this.uV(M).JS;
if(!m.w6(p.S))return!1;var a=t.j(m.o(),J);a.fill(p.color*t.P0(J)/255);t.Rc(_.ny,_.N2,a,m);t.v.Qe(_.dC,_.uF,a,m,X.N,m,1);
return t.w6(a,p.N)}};K.prototype.G$=function(M,X,J,q){var W=this.Yb;W.uF.offset(X,J);var T=W.N2.m0(W.uF);
if(W.tD<=0){var _=t.j(T.o()*4,M.depth);t.fA(W.ny,W.N2,_,T);t.v.r$("norm",W.dC,W.uF,_,T,T,1);this.buffer=_;
this.S=T;this.vV()}else{var m=this.tD==1?this.hM():this.uV(M).JS,d=t.j(T.o());d.fill(m.color);t.Rc(W.ny,W.N2,d,T);
t.v.Qe(W.dC,W.uF,d,T,q.N,T,1);m.N=d;m.S=T.Q();if(this.tD==1){m.A8=!0;this.j$(M)}if(this.tD==3)this.vV()}};
K.prototype.ax7=function(M){var X=[-1,0,1,2];if(M)X.push(3);if(this.JS)X.push(-2);if(this.i4)X.push(-3);
return X};K.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};K.prototype.EC=function(jX){this.add.luni=this.name=jX};
K.prototype.yH=function(M){var X=this.add.lnsr,J=this.add.TySh;if(X=="rend"&&J){var q=f5.UP(J.Zj);this.EC(q.slice(0,q.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
K.prototype.cV=function(){return(this.l4&1<<1)==0};K.prototype.nQ=function(){return(this.l4&1<<4)==0};
K.prototype.Yh=function(){return(this.l4&1<<5)!=0};K.prototype.aCS=function(){var M=this;if(M.add.lnsr!="bgnd"){M.add.lnsr="bgnd";
M.EC("Background");M.add.lspf=1<<2}};K.prototype.a4A=function(){var M=this;if(M.add.lnsr=="bgnd"){delete M.add.lnsr;
M.EC("Layer 0");M.add.lspf=0}};K.prototype.Uc=function(M){var X=this.add.lspf;return X==null?!1:(X>>M&1)!=0};
K.prototype.EG=function(M){if(M&&!this.cV())this.l4-=2;if(!M&&this.cV())this.l4+=2};K.prototype.rm=function(){var M=this.add.lmfx;
if(M==null)return!1;for(var X in M){if(X=="masterFXSwitch")continue;if(X=="Scl")continue;if(X=="classID")continue;
if(M[X].v.length>0)return!0}return!1};K.prototype.mT=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
K.prototype.TN=function(){var M=this.add.lmfx;if(M==null)return!1;if(!M.masterFXSwitch.v)return!1;for(var X in M){if(X=="masterFXSwitch")continue;
if(X=="Scl")continue;if(X=="classID")continue;var J=M[X].v;for(var $=0;$<J.length;$++)if(J[$].v.enab.v)return!0}return!1};
K.prototype.i7=function(){var M=this,X=M.add.SoLd,J=M.add.TySh,q=M.add.vmsk,W=[];if(X)W=o.fx.Bz(X.nonAffineTransform);
if(J&&this.ws.Bm){W=t.G.mP(M.ws.Bm).d;t.G.u(W,J.u,W)}if(q)W=t.G.mP(q.ah0()).d;return W};K.prototype.d9=function(M,X,J,q){if(gj==1)return t.G.Cs(this.i7());
var W=new gc,T=this.tV(M,J,q);if(T.indexOf(0)!=-1)W=W.m0(this.S);if(T.indexOf(1)!=-1){var _=this.hM(),m=_.Hg();
W=J&&_.NH()==0?W.M5()?m:W.Lg(m):W.m0(m)}if(T.indexOf(2)!=-1){var d=this.add.vmsk,A=this.add.vstk,p;if(X){if(d.FQ.length>1){var a=t.I.dl(d.X,null,d.FQ);
p=t.G.Cs(a);if(p.M5())p=null}if(p==null)p=t.I.NP(d.X,d.O.length!=0?d.O:null)}else p=t.I.NP(d.X);if(!q&&A&&A.strokeEnabled.v){var f=A.strokeStyleLineAlignment.v.strokeStyleLineAlignment,s=A.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(f!="strokeStyleAlignInside"){var j=A.strokeStyleLineWidth.v.val;if(s=="strokeStyleMiterJoin")p=new gc(0,0,M.r,M.$);
else p.$K(j,j)}}W=W.m0(p)}if(T.indexOf(3)!=-1)W=W.m0(this.uV(M).JS.Hg());if(T.length==0&&this.eQ())W=q?new gc(0,0,0,0):new gc(0,0,M.r,M.$);
return W};K.prototype.sS=function(){var M=this.add.artb,X=M.artboardBackgroundType.v,J=0;if(X==1)J=4294967295;
else if(X==2)J=4278190080;else if(X==3)J=0;else if(X==4){J=M.Clr.v;J=255<<24|J.Bl.v<<16|J.Grn.v<<8|J.Rd.v}else throw X;
return J};K.prototype.PH=function(){var M=this.add.artb.artboardRect.v,X=M.Btom.v,J=M.Left.v,q=M.Rght.v,top=M.Top.v;
return new gc(J,top,q-J,X-top)};K.prototype.oQ=function(M){var X=K.JO(M);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=X};K.JO=function(M){var X={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
X.Btom.v=M.y+M.$;X.Left.v=M.x;X.Rght.v=M.x+M.r;X.Top.v=M.y;return X};K.prototype.tV=function(M,X,J){var q=[],W=this;
if(!X&&W.Cq&&J){q.push(2)}else if(W.tD<=0||X){if(W.nQ()){if(gj==1&&W.add.TySh)q.push(0);else if(gj==1&&W.add.SoLd)q.push(0);
else if(!this.S.M5()||W.add.SoLd||W.add.TySh)q.push(0)}if(W.hM()&&!W.hM().S.M5())if(W.hM().kx||X)q.push(1);
if(W.add.vmsk)if(W.add.vmsk.kx||X)q.push(2);if(W.mT()&&W.uV(M).JS&&!W.uV(M).JS.S.M5())q.push(3)}else if(W.tD==1){q.push(1);
if(W.hM().kx&&!W.hM().S.M5()){if(W.nQ())if(!this.S.M5())q.push(0);if(W.add.vmsk)if(W.add.vmsk.kx)q.push(2)}}else if(W.tD==3&&!W.uV(M).JS.S.M5())q.push(3);
if(W.add.artb&&q.indexOf(0)==-1)q.push(0);q.sort();return q};K.prototype.hM=function(){var M=this;return M.i4?M.i4:M.add.vmsk&&M.add.vmsk.isEnabled?null:M.JS};
K.prototype.uV=function(M){var X=this.add.SoLd.placed.v,J=M.add.FEid;if(J==null)return null;for(var $=0;
$<J.length;$++)if(J[$].id==X)return J[$];return null};K.prototype.extend=function(M){t.aGk(this,M)};
K.prototype.ayX=function(M,X,J){var q=M.Q();if(this.TN()){var W=this.add.lmfx,T=X.root.Hc(X.U.indexOf(this)),_=W.gradientFillMulti.v,m=!1;
for(var $=0;$<_.length;$++)if(_[$].v.enab.v&&_[$].v.Algn.v)m=!0;if(m)q=q.m0(T.Hg(X,!1));var d=hA.as5(this.add.lmfx,X,J);
q.offset(d.x,d.y);q.r+=d.r;q.$+=d.$}return q};K.prototype.Wn=function(){if(this.nQ())t.yn(this);var M=this.hM();
if(M)M.Wn()};K.prototype.Q=function(){var M=new K;M.S=this.S.Q();M.buffer=this.buffer.slice(0);M.Sw=this.Sw;
M.G8=this.G8;M.H2=this.H2;M.l4=this.l4;M.name=this.name;M.NQ=this.NQ.slice(0);if(this.JS)M.JS=this.JS.Q();
if(this.i4)M.i4=this.i4.Q();for(var X in this.add)M.add[X]=dL.Q(X,this.add[X]);return M};K.prototype.cf=function(M){var X=this;
if(X.add.TySh)delete X.add.TySh;if(X.add.SoLd){var J=this.to(M,this.buffer,this.S);if(J){this.buffer=J.hT;
this.S=J.S;this.vV()}delete X.add.SoLd}if(X.add.SoCo||X.add.GdFl||X.add.PtFl){if(X.add.vogk)delete X.add.vogk;
if(X.add.SoCo)delete X.add.SoCo;if(X.add.GdFl)delete X.add.GdFl;if(X.add.PtFl)delete X.add.PtFl;if(X.add.vmsk){console.log(X.i4,X.JS);
delete X.add.vmsk;if(X.i4==null&&X.JS)delete X.JS;else if(X.i4!=null&&X.JS!=null){X.JS=X.i4;delete X.i4}}}if(!X.nA()&&ia.get(X.add)==null&&!this.nQ())this.l4-=16};
K.prototype.SS=function(M){var X=255,J=0;if(M==2){var q=this.add.SoLd.filterFX.v;if(q.filterMaskDensity)X=q.filterMaskDensity.v;
if(q.filterMaskFeather)J=q.filterMaskFeather.v}else{var W=M==0?this.hM():this.add.vmsk;X=W.Fw;J=W.VU}return{sl:M,EU:X,nV:J}};
K.prototype.a39=function(M){if(M.sl==2){var X=this.add.SoLd.filterFX.v;if(M.EU==255)delete X.filterMaskDensity;
else X.filterMaskDensity={t:"long",v:M.EU};if(M.nV==0)delete X.filterMaskFeather;else X.filterMaskFeather={t:"doub",v:M.nV};
this.vV()}else{var J=M.sl==0?this.hM():this.add.vmsk;J.Fw=M.EU;J.VU=M.nV;J.A8=!0}};K.prototype.hg=function(){var M=this,X=M.add.vmsk;
if(X==null)return;M.add.vogk=t.fg.ald(X.X)};K.hg=function(M){var X=[],J=t.I.Qa(M);for(var q=0;q<J;q++)X.push(t.fg.Df());
return X};var gO={sH:0,A$:1,dw:2,Vd:3};K.$O=function(M){this.name="Mask";this.OI=!1;this.t9={z:255,L:0,g:0};
this.N6=50;this.Dv=0;this.color=255;this.kx=!0;this.isEnabled=!0;this.qO=!1;this.Fw=255;this.VU=0;this.S=new gc;
this.N=t.j(0,M);this.VG=null;this.ann=null;this.A8=!0};K.$O.prototype.uM=function(M){if(!this.isEnabled)return M;
var X=new K.$O;X.color=Math.round(this.NH()*M.NH()/255);if(this.NH()==0&&M.NH()==0)X.S=this.Hg().Lg(M.Hg());
else if(M.NH()==0)X.S=M.Hg().Q();else if(this.NH()==0)X.S=this.Hg().Q();else X.S=this.Hg().m0(M.Hg());
X.N=this.Xu(X.S);X.Fw=255;X.VU=0;var J=M.Xu(X.S);t.amd(J,X.S,X.N,X.S);return X};K.$O.prototype.Hg=function(){if(this.VU==0)return this.S;
var M=Math.ceil(this.VU*2.2),X=this.S.Q();if(X.y==0){if(X.x==0)X.r+=M;else X.$K(M,0);X.$+=M}else X.$K(M,M);
return X};K.$O.prototype.ps=function(){if(this.VU==0&&this.Fw==255)return this.N;if(this.VU==0){var M=this.N.slice(0);
t.vN(M);t.iR(M,this.Fw/255);t.vN(M);return M}var X=this.Hg(),M=this.SJ(X);t.zp.zk(M,X,this.VU);if(this.Fw!=255){t.vN(M);
t.iR(M,this.Fw/255);t.vN(M)}return M};K.$O.prototype.NH=function(){return Math.round(255-(255-this.color)*(this.Fw/255))};
K.$O.prototype.extend=function(M){t.extend(this,M,this.color/255)};K.$O.prototype.Wn=function(){if(this.color==255)t.vN(this.N);
t.Wn(this);if(this.color==255)t.vN(this.N)};K.$O.prototype.Q=function(){var M=new K.$O;M.name=this.name;
M.OI=this.OI;M.t9=this.t9;M.N6=this.N6;M.Dv=this.Dv;M.color=this.color;M.kx=this.kx;M.isEnabled=this.isEnabled;
M.qO=this.qO;M.Fw=this.Fw;M.VU=this.VU;M.S=this.S.Q();M.N=this.N.slice(0);return M};K.$O.prototype.SJ=function(M,X){var J=t.qP(this.N);
if(X==null)X=t.j(M.o(),J);X.fill(this.color*t.P0(J)/255);t.Rc(this.N,this.S,X,M);return X};K.$O.prototype.Xu=function(M,X){var J=this.Hg(),q=this.ps(),W=t.qP(q);
if(X==null)X=t.j(M.o(),W);X.fill(this.NH()*t.P0(W)/255);t.Rc(q,J,X,M);return X};K.JL=function(){this.kx=!0;
this.isEnabled=!0;this.Fw=255;this.VU=0;this.W8=0;this.li=1;this.X=[{e:6},{e:8,all:0}];this.mO=[-3,-3];
this.pj=!1;this.i4=null;this.A8=!0;this.O=[];this.FQ=[]};K.JL.prototype.ah0=function(M){var X=K.JL.Oz(this.X),J=new kp;
if(M)J.rotate(-this.W8);t.I.cI(X,J);return t.I.NP(X)};K.JL.prototype.F_=function(){var M=this.ah0(!0),X=t.G.mP(M).d,J=new kp;
J.rotate(this.W8);t.G.u(X,J,X);return X};K.JL.prototype.offset=function(M,X){this.i4=this.hM();t.I.cI(this.X,new kp(1,0,0,1,M,X));
this.i4.S.offset(M,X)};K.JL.prototype.hM=function(M,X){if(!this.A8&&this.i4&&M==null){this.i4.isEnabled=this.isEnabled;
return this.i4}var J=this.X,q=t.I.NP(J),W="strokeStyleLineAlignment",T="strokeStyleLineJoinType";if(q.o()>2e4*2e4)q=new gc(0,0,100,100);
if(M&&M[W].v[W]!="strokeStyleAlignInside"){var _=1;if(M[T].v[T]=="strokeStyleMiterJoin"){var m=t.I.avI(J),d=m/2,A=Math.sin(d),p=Math.cos(d);
p/=A;A=1;var _=Math.sqrt(p*p+A*A);if(isNaN(_)||_<1)_=1}_*=M[W].v[W]=="strokeStyleAlignOutside"?1:.5;
var a=Math.ceil(M.strokeStyleLineWidth.v.val*_);a=Math.min(a,600);q.$K(a,a)}q=t.G.JE(q);var f=new K.$O;
f.color=t.I.xf(J)?0:255;f.kx=this.kx;f.isEnabled=this.isEnabled;f.qO=!0;f.S=q;f.Fw=this.Fw;f.VU=this.VU;
f.N=t.j(f.S.o());if(!q.M5())t.I.aoc(J,f.N,f.S,M);if(X!=null&&X!=8)f.N=t.cY(f.N,X);if(M==null){this.i4=f;
this.A8=!1}return f};K.JL.prototype.Q=function(){var M=new K.JL;M.kx=this.kx;M.isEnabled=this.isEnabled;
M.Fw=this.Fw;M.VU=this.VU;M.W8=this.W8;M.X=K.JL.Oz(this.X);M.mO=this.mO.slice(0);M.pj=this.pj;M.O=this.O.slice(0);
M.FQ=this.FQ.slice(0);return M};K.JL.prototype.concat=function(M){var X=M.X.slice(2);if(X.length==0)return;
X[0].li=3;this.X=this.X.concat(X)};K.JL.Oz=function(M){var X=[];for(var $=0;$<M.length;$++){var J=M[$];
if(J.e>5||J.e==0||J.e==3)X.push(t.b(J));else X.push({e:J.e,vX:J.vX.Q(),Z:J.Z.Q(),vJ:J.vJ.Q()})}return X};
K.JL.av9=function(M,X,J){if(M.length!=X.length)return!1;for(var $=2;$<M.length;$++){var q=M[$],W=X[$];
if(q.e!=W.e)return!1;if(q.e==0||q.e==3){if(q.length!=W.length||!J&&q.li!=W.li)return!1}else if(!q.vX.w6(W.vX)||!q.Z.w6(W.Z)||!q.vJ.w6(W.vJ))return!1}return!0};
K.JL.prototype.aef=function(){var M=this.X;for(var $=3;$<M.length;$++)if(M[$].e==0||M[$].e==3)M[$].li=-1};
K.oE=function(){this.e=null;this.MR=2;this.qM=null;this.iW="";this.fH="";this.gi="";this.open=0;this.raw=null;
this.SA=null;this.aby="none";this.hj=!1;this.Qv=null;this.DA=null};K.oE.prototype.Q=function(){var M=new K.oE;
M.e=this.e;M.MR=this.MR;M.qM=this.qM;M.iW=this.iW;M.fH=this.fH;M.gi=this.gi;M.open=this.open;M.raw=new Uint8Array(this.raw.buffer.slice(0));
return M};K.oE.prototype.m7=function(M,X,J,q,W){if(J==null)J="none";var T=this,_=h1.$Y(T.raw.buffer),m=_=="svg"||_=="pdf"||_=="ai";
if(T.SA){var d=X&&m&&Math.max(T.SA[1].r,T.SA[1].$)<Math.max(X[0],X[1]);if(!d&&J==this.aby&&!T.hj)return}this.aby=J;
if(!m)M=0;if(_==null){alert("Unsupported format: "+H.zb(T.raw,0,4));return null}var A=h1.mr(_);if(_=="psd"&&gj==1){var p=bB.a7K(T.raw)[0],a=new Uint8Array(p.data);
T.SA=[a,p.kq]}else if(A.R8){var f=new dD(name+(_=="psd"?"":"-"+_)+".psd"),a;A.ss(T.raw.buffer,f,X);var s=new gc(0,0,f.r,f.$);
if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(J)!=-1){var j=[];for(var $=0;$<f.U.length;
$++){var Y=f.U[$],G=Y.buffer;if(!Y.S.w6(s)){G=t.j(s.o()*4);t.fA(Y.buffer,Y.S,G,s);console.log("resizing")}j.push(G)}a=t.j(s.o()*4);
t.stack.stack(j,a,J)}else{for(var $=0;$<f.U.length;$++)if(f.U[$].eQ())f.U[$].j$(f);if(q&&f.hj){var Q=i5.bk(f,q,W);
T.hj=!Q;if(Q)i5.cW(f,q,W)}f.b8();f.vV();f.rD();a=f.m7()}T.SA=[a,s];T.Qv=f.Qv!=null&&f.Qv!=0?f.Qv:72}else if(A){var Z=A.ss(T.raw.buffer)[0],g=Z.depth;
T.SA=[g==16?new Uint16Array(Z.data):new Uint8Array(Z.data),Z.kq];T.Qv=Z.Qv!=null&&Z.Qv!=0?Z.Qv:72}if(T.SA){T.DA=T.SA[1].Q();
if(M==1){var G=T.SA[0],S=T.SA[1],U=t.j(S.o());t.SF(G,U,3);var B=t.pT(U,S),e=t.j(B.o()*4);t.fA(G,S,e,B);
B.x=B.y=0;T.SA=[e,B]}else{var G=T.SA[0],S=T.SA[1],B=t.pD(G,S,2,null,4278190080);if(B.M5())B=new gc(0,0,1,1);
while((B.x&15)!=0){B.x--;B.r++}while((B.y&15)!=0){B.y--;B.$++}if(!B.w6(S)&&B.o()/S.o()<.7){var e=t.j(B.o()*4,t.qP(G));
t.fA(G,S,e,B);T.SA=[e,B]}}t.uW(T.SA)}};K.T0="0";K.es="2";K.v0="2.5";K.Kc="2.6";K.QT="3";K.Rz="4";K.tk="4.4";
K.yY="4.5";K.aqW="4.6";K.$i="5";K.Vu="5.5";K.t$="6";K.a2A="7";K.avA="8";K.J3="9";K.TB="9.3";K.aBr="9.5";
K.xM="9.6";K.jE="10";K.zt="11";K.zI="12";K.$0="13";K.JC="13.1";K.a6k="13.2";K.U9="13.3";K.ld="13.4";
K.FV="14";K.h9="14.1";K.dU="14.2";K.pr="14.3";K.Vf="17";K.X7="18";K.aGp="19";K.S$="19.5";K.CV="19.6";
K.Mp="19.7";K.hx="19.8";K.ni="20";K.HB="21";K.bC="21.5";K.C3="22";K.qh="22.5";K.FF="23";K.al$="24";K.a0="25";
K.a0R="26";K.aIy="27";K.vP="28";K.BE="29";K.H4="30";K.uk="31";K.YO="32";K.a78="32.5";K.Q2="33";K.La="34";
K.Ge="35";K.Qc="36";K.X4="36.5";K.S8="37";K.nG="37.5";K.a3P="37.6";K.KK="38";K.Jz="38.5";K.NE="38.6";
K.Su="39";K.gn="40";K.v8="41";K.aIm="42";K.Qx="50";K.Fr="51";K.bD="52";K.BI="53";K.hf="54";K.ai3="54.5";
K.Cc="54.6";K.au4="54.7";K.AQ="54.8";K.h3="55";K.lM="55.5";K.d6="56";K.$U="57";K.HN="58";K.KB="59";K.II="60";
function d3(){this.depth=0;this.index=-1;this.w=null;this.Zs=null;this.VO=-1;this.children=null;this.parent=null;
this.np=null}d3.prototype.aBk=function(M,X){if(this.depth!=0)M.push(this.w.getName());if(this.children)for(var $=0;
$<this.children.length;$++)this.children[$].aBk(M,X);if(M.length>X.tz.length)X.tz=M.slice(0);if(this.depth!=0)M.pop()};
d3.prototype.avi=function(){var M=0;if(this.w.nA()){for(var $=0;$<this.children.length;$++)M+=this.children[$].avi()}else if(this.w.buffer)M+=this.w.buffer.length;
return M};d3.prototype.Hc=function(M){var X=this.np[M];return this.np[M]};d3.prototype.Rx=function(M,X){var J=this.w;
if(!J.cV()||J.Uc(2)||J.Uc(31))return null;if(J.Zw()){var q=J.JS.S.B8(M);if(!q&&J.JS.color==0)return}if(J.nA()){for(var $=0;
$<this.children.length;$++){var jX=this.children[$];jX.Rx(M,X)}}else if(gj==1){var W=J.i7();if(M.B8(t.G.Cs(W))&&X.indexOf(this.index)==-1)X.push(this.index)}else if(J.S.B8(M))X.push(this.index)};
d3.prototype.WR=function(M,X){var J=this.w;if(!J.cV()||J.Uc(2)||J.Uc(31))return null;if(J.Zw()){if(J.JS.S.ZO(M)){if(!t.WR(M,J.JS.N,J.JS.S))return null}else if(J.JS.color==0)return null}if(J.nA()){if(J.add.artb&&!J.PH().ZO(M))return null;
for(var $=this.children.length-1;$>=0;$--){var jX=this.children[$],q=jX.WR(M,X);if(q&&X==null)return q}return null}else if(gj==1){if(J.add.vmsk){var W=J.add.vstk,T=!W.fillEnabled.v&&!J.Nx,_=W.strokeStyleLineWidth.v.val*.5,m=t.I.WR(J.add.vmsk.X,M,T,_);
return m.gO==-1?null:this}var d=J.i7();if(bX.UZ(d,M.x,M.y))return this}else if(J.add.TySh&&J.S.ZO(M)||t.a4F(M,J.buffer,J.S)){if(X==null)return this;
else X.push(this.index)}return null};d3.prototype.a5Z=function(M){var X=this.w;if(!X.cV()||X.Uc(2)||X.Uc(31))return null;
var J=X.add.vmsk;if(J&&J.isEnabled){var q=t.I.WR(J.X,M).gO;if(q!=-1)return{a3U:this,azM:q}}if(X.nA()){if(X.add.artb&&!X.PH().ZO(M))return null;
for(var $=this.children.length-1;$>=0;$--){var jX=this.children[$],W=jX.a5Z(M);if(W)return W}return null}return null};
d3.prototype.sP=function(M,X){M.push(this.index);if(this.w.nA()){M.push(this.VO);if(X)if(this.w.tD==1&&this.w.hM().kx==!1)return;
for(var $=0;$<this.children.length;$++)this.children[$].sP(M)}};d3.Hh=function(){var M=document.createElement("canvas");
return M.getContext("2d")};d3.akN=function(M,X){var J,q;if(M.r>M.$){J=Math.floor(X);q=Math.floor(X*(M.$/M.r))}else{J=Math.floor(X*(M.r/M.$));
q=Math.floor(X)}return new es(J,q)};d3.R9=32;d3.j7=1;d3.prototype.aw=function(M,X,J){var q=d3.j7,W=this.w;
if(W.nA()&&W.add.artb!=null)X=W.PH();var T=q==0?W.S:X;if(T.M5()||W.add.TySh)T=X;var _=d3.R9*o.pv(),m=d3.akN(T,_),d=m.x,A=m.y,p=d3.akN(X,_),a=ia.get(W.add)!=null;
if(W.eQ()&&W.add.vmsk==null||W.add.TySh||a)d=A=Math.max(A,16);else if(W.nA()){d=A=Math.round(18*o.pv())}else{d=Math.max(d,6);
A=Math.max(A,6)}if(J&&W.xk==null){W.xk=d3.Hh();if(gj==0){W.Lo=d3.Hh();W.Qm=d3.Hh();W.eN=d3.Hh()}}var f=W.eQ()&&W.add.vmsk;
if(gj==1&&!W.nA()){if(J)t.Xn.axq(W.xk,d,A,M,this)}else if(f){if(J&&W.add.vstk)t.Xn.L0(W.xk,d,A,T,W.buffer,W.S,!1,null,!W.add.vstk.fillEnabled.v&&!W.add.vstk.strokeEnabled.v);
if(J)t.Xn.a87(W.xk,d,A)}else if(W.add.TySh){if(J)t.Xn.a10(W.xk,A,A,W.add.TySh)}else if(W.add.SoCo){if(J)t.Xn.a1U(W.xk,A,A,W.add.SoCo)}else if(W.add.GdFl){if(J)t.Xn.aBB(W.xk,A,A,W.add.GdFl)}else if(W.add.PtFl){if(J)t.Xn.aar(W.xk,A,A,W.add.PtFl,M)}else if(a){if(J)t.Xn.a3H(W.xk,A,A,W.add)}else if(W.add.SoLd){if(J)t.Xn.L0(W.xk,d,A,T,W.buffer,W.S,!1);
if(J)t.Xn.aBQ(W.xk,d,A,W.add.SoLd)}else if(W.nA()){}else{if(J){if(W.nQ())t.Xn.L0(W.xk,d,A,T,W.buffer,W.S,!1);
else{t.Xn.aIO(W.xk,A,A)}}}var s=W.hM();if(J){if(s)t.Xn.Z0(W.Lo,p.x,p.y,X,s);if(W.mT()&&W.uV(M)&&W.uV(M).JS){var j=W.uV(M).JS;
t.Xn.Z0(W.eN,p.x,p.y,X,j)}if(!f&&W.add.vmsk){t.Xn.Z0(W.Qm,p.x,p.y,X,W.add.vmsk.hM(),!0)}}if(s||W.add.vmsk)A=Math.max(A,p.y);
W.a6x=Math.max(A,16);if(J!=!0&&W.nA()&&(W.add.lsct==gO.A$||M.U.length<4e3))for(var $=0;$<this.children.length;
$++)this.children[$].aw(M,X)};d3.prototype.akI=function(M,X,J,q){this.depth=J;var W=M[X];if(q==null)q=[];
this.np=q;if(W.add.lsct==gO.Vd){this.Zs=W;this.VO=X-1;this.children=[];var $=X+1;while(!0){var T=M[$];
if(T==null)console.log($,M.length);if(T.add.lsct==gO.A$||T.add.lsct==gO.dw){if(W.add.lyid==T.add.lyid)W.add.lyid+=16777215;
this.w=T;this.index=$-1;q[this.index]=this;q[X-1]=this;break}var _=new d3;_.parent=this;$=_.akI(M,$,J+1,q);
this.children.push(_)}return $+1}else{this.w=W;this.index=X-1;q[this.index]=this;return X+1}};d3.prototype.gp=function(M,X,J,q){var W=this.Hc(J),T=M;
while(W.parent!=null){T=W.w.ayX(T,X,q);W=W.parent}return T};d3.prototype.Hg=function(M,X){var J=this.w,q=new gc;
if(!J.cV())return q;var W=J.hM();if(J.nA())for(var $=0;$<this.children.length;$++){var T=this.children[$].Hg(M,!0);
q=q.m0(T)}else if(ia.get(J.add)!=null)q=J.Zw()&&J.JS.color==0?J.JS.Hg().Q():new gc(0,0,M.r,M.$);else if(J.eQ()&&J.add.vmsk&&J.add.vmsk.isEnabled&&J.add.vstk){q=J.S.Q()}else if(J.eQ()&&W&&W.isEnabled&&W.NH()!=0)q=new gc(0,0,M.r,M.$);
else{q=J.d9(M,!1,!0);if(J.add.vmsk)q=t.G.JE(q)}return X?J.ayX(q,M):q};d3.sB={delete:function(M){if(M&&M.r)M.delete()},j:function(M,X){return aq.zw?new aq.Uy(M,X):t.j(M*X*4)},X$:function(M,X,J){var q=X.r,W=X.$;
if(M==null||aq.zw&&(M.r!=q||M.$!=W||M.depth!=J)||!aq.zw&&(M.length!=q*W*4||t.qP(M)!=J)){d3.sB.delete(M);
return aq.zw?new aq.Uy(q,W,J):t.j(q*W*4,J)}else return M},Rc:function(M,X,J,q,W){(aq.zw?aq.yR:t.fA)(M,X,J,q,W)},z2:function(M,X,J,q,W,T,_,m,$,d,A){(aq.zw?aq.v.yb:t.v.z2)(M,X,J,q,W,T,_,m,$,d,A)},auS:function(M,X,J,q,W,T,_,m){var d=J.Q(),A=W.r,p=W.$,a=d.x,f=d.y,s=d.x+d.r>A?-1:0,j=d.x<0?2:1,Y=d.y+d.$>p?-1:0,G=d.y<0?2:1;
for(var Q=Y;Q<G;Q++)for(var Z=s;Z<j;Z++){d.x=a+Z*A;d.y=f+Q*p;d3.sB.r$(M,X,d,q,W,T,_,m)}},r$:function(M,X,J,q,W,T,_,m){if(aq.zw)aq.v.auO(M,X,J,q,W,T,_,m);
else t.v.r$(M,X,J,q,W,T,_,m)},xm:function(M,X){if(aq.zw){aq.O$(M);aq.Cb(X)}else t.Tb(M,X)},aF:function(M){if(aq.zw){aq.O$(M);
aq.aF()}else{var X=t.qP(M),J=X==8?255:X==16?65535:1;if(X==8)t.Ya(M,1);else for(var $=0;$<M.length;$+=4)M[$+3]=J}},abC:function(M,X,J,q,W){if(aq.zw){aq.v.yb(null,null,q,W,M,X,J,W,1,!1)}else{if(J==255)t.tc(M,X,q,W);
else{var T=t.j(X.o(),t.qP(M));t.gt(q,W,T,X);t.nd(M,T);t.Ya(q,0);t.avz(T,X,q,W)}}},_I:function(M,X,J,q){if(aq.zw)aq.v.yb(null,null,J,q,M,X,0,q,1,!1);
else t._I(M,X,J,q)}};d3.prototype.nE=function(M,X,J,q,W,T){var _=typeof T=="number";if(!this.w.nA()&&(_&&this.index>T||!_&&T.indexOf(this.index)==-1)){return}var m=this.w,d=hA.EK(m),A=d3.sB,p=M.depth;
if(p==null)p=t.qP(M);var a=m.eQ()?m.hM():m.JS;if(!m.cV())return;if(m.Zw()&&a.S.M5()&&a.NH()==0){return}if(m.add.vstk==null&&this.Hg(q,!1).M5()){return}if(m.eQ()&&m.S.M5())return;
var f=this.Hg(q,!0).Lg(J);if(!X.w6(J)&&!J.B8(f))return;if(m.nA()&&m.add.artb){var s=m.PH();J=J.Lg(s)}var j=d3.ami(m,W,d);
if(!j){this.a3F(M,X,J,q,W,T);return}m.ws.W2=A.X$(m.ws.W2,f,p);A.Rc(M,X,m.ws.W2,f,J);this.a3F(m.ws.W2,f,J,q,W,T);
A.z2(m.ws.W2,f,M,X,null,null,0,J,m.G8/255,m.Sw=="diss",d.Oc)};d3.ami=function(M,X,J){if(J.Oc[0]*J.Oc[1]*J.Oc[2]==0)return!0;
return M.G8!=255&&(X.length!=0||M.nA()||M.TN())};d3.aJj={ws:{}};d3.prototype.a3F=function(M,X,J,q,W,T){var _=this.w,m=hA.EK(_),d=ia.get(_.add)!=null,A=d3.sB,p=M.depth,B=null,e=null,P=null,c;
if(p==null)p=t.qP(M);var a=d3.ami(_,W,m),f=a?1:_.G8/255,s=_.eQ()?_.hM():_.JS,j=_.nA()&&m.yl==null&&(_.Sw=="pass"||_.add.artb)&&!(W.length>0||m.fill!=1||_.TN()),Y=!_.nA()&&!d&&!_.TN()&&W.length==0,G=d&&!_.TN()&&W.length==0;
if(j||Y||G){var Q=M,Z=X;if(_.Zw()){Z=this.Hg(q,!1);Q=_.ws.l6=A.X$(_.ws.l6,Z,p);A.Rc(M,X,_.ws.l6,Z)}if(j)this.pt(Q,Z,J,q,T);
if(Y)A.r$(_.Sw,_.am_(q),_.S,Q,Z,J,f,m);if(G){var g=_.Zw()&&s.NH()==0?s.Hg().Q():Z.Q(),S=_.ws;if(g.w6(new gc(0,0,q.r,q.$)))S=d3.aJj;
S.Z7=this.aFu(Q,Z,S.Z7,g,_.add);m.SL=!0;A.r$(_.Sw,S.Z7,g,Q,Z,J,f,m)}if(_.Zw())A.z2(Q,Z,M,X,_.afU(),s.Hg(),s.NH(),J,1,_.Sw=="diss");
_.ws.aJ9();return}var U=_.nA()&&_.Sw=="pass"&&(W.length>0||m.fill!=1||_.TN()),g=_.S;if(_.nA()){g=this.Hg(q,!1);
P=_.ws.Z7=A.X$(_.ws.Z7,g,p);A.xm(P,0);this.pt(P,g,g,q,T);e=A.X$(_.ws.$V,g,p);A.Rc(P,g,e,g)}else if(d){g=_.Zw()&&s.NH()==0?s.Hg().Q():X.Q();
e=A.X$(_.ws.$V,g,p);A.xm(e,4294967295)}else{g=_.S;B=_.am_(q);e=A.X$(_.ws.$V,g,p);A.Rc(B,g,e,g)}_.ws.$V=e;
if(_.Zw())A.abC(_.afU(),s.Hg(),s.NH(),e,g);if(_.TN())if(_.ws.dI||_.ws.ma||_.ws.zy!=aq.zw||_.ws.OC||_.nA()){var h=_.add.vmsk,V=t.j(g.o(),p);
if(hA.aqy(_.add.lmfx)){if(aq.zw){if(!_.nA()&&_.hM()==null&&_.S.w6(g)&&h==null)t.SF(_.buffer,V,3);else{var I=t.j(g.o()*4,p);
e.get(I);t.SF(I,V,3)}}else t.SF(e,V,3)}if(_.ws.ma||_.ws.zy!=aq.zw||!t.w6(V,_.ws.DY)){var F=null;if(_.eQ()&&h&&h.isEnabled&&h.hM().color==0)F=h.hM().S;
hA.a0s(_.ws.bV);_.ws.bV=hA.amG(V,g,_.add.lmfx,_.add.fxrp,q,F);_.ws.DY=V;_.ws.aHp=g}}if(_.TN())hA.a1Z(_.add.lmfx,_.ws.bV,g,M,X,J);
if(_.nA()){B=A.X$(_.ws.l6,g,p);A.xm(B,0);if(_.Sw=="pass")A.Rc(M,X,B,g);if(U)A._I(P,g,B,g);this.pt(B,g,J,q,T);
_.ws.l6=B}if(d){B=_.ws.l6=this.aFu(M,X,_.ws.l6,g,_.add)}if(_.nA()||d)c=B;else{c=A.X$(_.ws.l6,g,p);A.Rc(B,g,c,g,J);
_.ws.l6=c}A.aF(c);for(var $=0;$<W.length;$++)W[$].nE(c,g,J,q,[],T);var D=_.ws.ou=A.X$(_.ws.ou,g,p);A.Rc(M,X,D,g,J);
if(d)m.SL=!0;A.r$(_.Sw=="pass"?"norm":_.Sw,c,g,D,g,J,1,m);if(_.TN()){var n=_.ws.bV.e.FrFX,k=null;if(n.length!=0){k=n[0];
for(var $=0;$<n.length;$++)if(n[$].ay.r>k.ay.r)k=n[$];_.ws.uT=A.X$(_.ws.uT,k.ay,p);A.Rc(M,X,_.ws.uT,k.ay,J);
_.ws.Tv=A.X$(_.ws.Tv,k.ay,p)}hA.apA(_.add.lmfx,_.ws.bV,g,M,X,J,D,_.ws.uT,_.ws.Tv,k?k.ay:null)}A.z2(D,g,M,X,e,g,0,J,1,_.Sw=="diss");
_.ws.aJ9()};d3.prototype.aFu=function(M,X,J,q,W){var T=ia.get(W),_;if(T)_=ia.BZ(T,W[T]);var m=t.qP(M),d=d3.sB;
J=d.X$(J,q,m);if(!(aq.zw&&X.w6(q)))d.Rc(M,X,J,q);if(_){if(aq.zw){var A=q.Q();A.x=A.y=0;if(X.w6(q)){aq.O$(J,A);
ia.te(_,M.SX,A)}else{aq.O$(J,q);J.YB(q);ia.te(_,J.cR,A)}}else ia.U3(_,J,J,q)}return J};d3.prototype.pt=function(M,X,J,q,W){var T=X.r,_=X.$,m=X.x,d=X.y,jX=J,A=jX.x,p=jX.y,a=-1,f=-1,s=2,j=2;
if(!q.RM){a=f=0;s=j=1}var Y=this.children;for(var $=0;$<Y.length;$++){var G=ia.get(Y[$].w.add)!=null,Q=[];
for(var Z=$+1;Z<Y.length;Z++)if(Y[Z].w.H2)Q.push(Y[Z]);else break;for(var g=f;g<j;g++)for(var S=a;S<s;
S++){X.x=m+S*T;X.y=d+g*_;jX.x=A+S*T;jX.y=p+g*_;if((S!=0||g!=0)&&G)continue;Y[$].nE(M,X,jX,q,Q,W)}$+=Q.length}X.x=m;
X.y=d;jX.x=A;jX.y=p};(function(){d3.prototype.OV=function(W,T,_,m){var d=this.w,A=d.add.lmfx,p=d.add.TySh,a=d.add.SoLd,s=null;
if(!d.cV())return;T.save();var f=d.G8/255*(d.add.iOpa?d.add.iOpa/255:1);T.globalAlpha*=f;T.globalCompositeOperation=ae.U_[ae.pi.indexOf(d.Sw)];
var j=W.add.prvw==0;if(j){T.lineWidth=1/W.k.r7;T.fillStyle="black"}var Y=hA.atC(d,!1);if(Y){s=T;var G=document.createElement("canvas");
G.width=T.canvas.width;G.height=T.canvas.height;var Q=T.getTransform();T=G.getContext("2d");T.setTransform(Q.a,Q.b,Q.c,Q.d,Q.e,Q.f)}if(d.nA()){var Z=this.children,g=null;
for(var $=0;$<Z.length;$++)if(Z[$].w.Nx&&Z[$].w.cV())g=Z[$].w;if(g&&!j){T.beginPath();X(g,T);T.clip()}for(var $=0;
$<Z.length;$++)Z[$].OV(W,T,_,m)}else if(p){var S=!0;if(d.ws.path==null){S=i5.kH(p,_.Rb);if(S)i5.IS(d,_.Rb,!1)}if(S){{var U=p.u;
T.save();M(T,U);var B=d.ws.path;if(j){var e=B.C6.slice(0);for(var $=0;$<e.length;$++)if(e[$][0]=="#")e[$]="#000000";
B={C6:e,d:B.d}}i5.ah9(B,T);T.restore()}}}else if(d.eQ()&&d.add.vmsk&&(!d.Nx||j)){var P=d.add.vmsk;T.beginPath();
X(d,T);if(j){T.stroke()}else{var h=d.add.vstl;if(h.nz.length!=0){var V=J(h.nz,P.X,W,T);if(V[1]){T.save();
M(T,V[1])}T.fillStyle=V[0];T.fill(["nonzero","evenodd"][P.li]);if(V[1]){T.restore()}}if(h.s0.length!=0){t.I.rP(h,T);
T.strokeStyle=J(h.s0,P.X,W,T,!0)[0];T.stroke()}}}else if(a){var I=a.filterFX;if(I){var V=I.v.filterFXList.v;
for(var $=0;$<V.length;$++){var F=V[$].v;if(!F.enab.v)continue;var c=fV._v(F);if(c=="GsnB"){T.filter="blur("+F.Fltr.v.Rds.v.val*W.k.r7+"px)"}}}var D=a.Idnt.v,n=W.zh(D,a.Crop?a.Crop.v:null),U=t.t.sf(a),k=n.SA;
if(j){var b=o.fx.Bz(a.Trnf);T.moveTo(b[0],b[1]);for(var $=2;$<8;$+=2)T.lineTo(b[$],b[$+1]);T.closePath();
T.stroke()}else q(W,d,T,U,k)}if(Y){s.save();s.setTransform(1,0,0,1,0,0);s.drawImage(T.canvas,0,0);s.restore();
T=s}T.globalAlpha/=f;T.globalCompositeOperation="source-over";T.restore()};function M(W,T){W.transform(T.Jm,T.g,T.br,T.Bi,T._f,T.Ey)}function X(W,T){var _=W.add.vmsk.X;
for(var $=0;$<_.length;$++){if(_[$].e>5)continue;var m=_[$].length;if(m==0)continue;var d=_[$].e==3;
t.I.a3z(T,_,$+1,m,0,0,d);if(!d)T.closePath();$+=m}}function J(W,T,_,m,d){if(W.length==3)return[CSS.afp(W),null];
else if(W.length==2){var A=_.nB[W[0]],p=1,a=A.$v;if(a==null){var f=document.createElement("canvas"),s=f.getContext("2d");
f.width=Math.round(A.r*p);f.height=Math.round(A.$*p);s.scale(p,p);A.root.OV(A,s,{},null);a=A.$v=m.createPattern(f,"repeat")}var j=new kp(1/p,0,0,1/p,0,0),Y=_.Qv/72,G=new kp;
G.concat(j);var Q=W[1][1];G.concat(new kp(Q[0],Q[1],Q[2],Q[3],Y*Q[4],Y*Q[5]));G.scale(1,-1);return[a,G]}else{var Z=W[0],g=W[1],S=W[2],U=-S[5]*Math.PI/180,B=br.K9(W,T),e,j;
if(Z==0){var P=[0,0,1,0];t.G.u(P,B,P);e=m.createLinearGradient(P[0],P[1],P[2],P[3])}else{var P=[Math.cos(U)*S[6],Math.sin(U)*S[6],0,0,1,0],h=Math.abs(B.Jm*B.g+B.br*B.Bi)<1e-9,V=Math.abs(B.Jm*B.Jm+B.g*B.g-B.br*B.br-B.Bi*B.Bi)<1e-9,I=h&&V;
if(I||d){t.G.u(P,B,P);var F=P[4]-P[2],c=P[5]-P[3];e=m.createRadialGradient(P[0],P[1],0,P[2],P[3],Math.sqrt(F*F+c*c))}else{e=m.createRadialGradient(P[0],P[1],0,0,0,1);
j=B}}t.NX.SH(e,g);return[e,j]}}function q(W,T,_,m,d){if(m==null)m=new kp;var A=T.buffer,p=T.S;if(d){var a=m.zQ()*W.k.r7,f=0;
while(1<<f/2<.5/a&&f+2<d.length)f+=2;A=d[f];p=d[f+1];p=p.Q();p.x=p.y=0;var a=1<<f/2,s=new kp;s.scale(a,a);
s.concat(m);m=s}if(p.M5())return;var j=document.createElement("canvas");j.width=p.r;j.height=p.$;var Y=j.getContext("2d");
Y.putImageData(new ImageData(new Uint8ClampedArray(A.buffer),p.r,p.$),0,0);_.transform(m.Jm,m.g,m.br,m.Bi,m._f,m.Ey);
_.drawImage(j,p.x,p.y);m.vN();_.transform(m.Jm,m.g,m.br,m.Bi,m._f,m.Ey)}}());function dD(M){this.DE="psd";
this.s7=!1;this.name=M;this.vY=8;this.depth=8;this.s6=-1;this.RM=!1;this.jo=null;this.u_=null;this.Ws=null;
this.iE=null;this.r=0;this.$=0;this.buffer=null;this.U=[];this.YG={};this.add={};this.O2=[];this.nB={};
this.MM=[];this.$v=null;this.bF=4;this.dh=null;this.Qv=72;this.eJ={};this.O=[];this.aZ=[];this.j2=!1;
this.YY=[];this.ZN=[];this.Qt=[dD.Sp("Work Path")];this.n4=-1;this.Fg=[];this.bQ=null;this.ZU={classID:"CompList",list:{t:"VlLs",v:[]}};
this.jk=null;this.Xk=[];this.ty=[];this.a1=[];this.root=null;this.gS=null;this.hj=!1;this.atA=!1;this.amP=!1;
this.zY=!1;this.E5=!1;this.fy=!1;this.K8=!1;this.bM=!1;this.$s=!1;this.we=!1;this.dI=null;this.P2=null;
this.c=null;this.OD=[];this.LV=[];this.aS={AF:{},PJ:[],au:[],Lx:[],Fm:[],RY:[],Gn:null,E7:null,OX:null,Ur:null,HC:null,z3:null,S0:null,TA:null,lw:[],Lh:[],B$:null};
this.history=[new hY([1,0],null)];this.sv=0;this.bI=0;this.axS=0;this.uR=0;this.lh=null;this.jG=!1;this.k=new jC(this);
this.mK=null;this.oO=null}dD.prototype.od=function(){var M=this;M.bI=M.sv;M.axS=Date.now();M.fy=!0};
dD.prototype.akf=function(){var M=this,X=M.add.artd;return X!=null&&X.Cnt.v>1||M.add.arts&&M.add.arts.length>1};
dD.prototype.vR=function(M){if(M){if(M.length==30240){this.vR(null);return}this.YG.r1039=M;var X=ICC.R(M.buffer),W=null,T=17,a,f;
if(X==null){this.vR(null);return}var J=X.header.spaceIn.toLowerCase(),q=JSON.stringify(X.tags.desc).toLowerCase();
try{W=ICC.U.profileName(X)}catch(hP){}if(J!="rgb "||W==null||q.indexOf("srgb")!=-1&&this.depth!=32||q.indexOf("apple wide color sharing profile")!=-1||J=="rgb "&&this.add.fcmy==1){this.vR(null);
return}console.log("We got an ICC profile!",X,W);try{var _=ICC.U.sampleLUT(X,T)}catch(hP){this.vR(null);
return}var m=t.kC("rgbToRgbC"),d=m[2],A=m[3],p=dD.a6A(_,A,d);if(aq.zw){a=new aq.Uy(T,T*T,aq.Vi());a.set(ICC.U.lutToRGBA32(_,T));
f=new aq.Uy(T,T*T,aq.Vi());f.set(ICC.U.lutToRGBA32(p,T))}this.mK=[M,X,T,_,a,p,f]}else{delete this.YG.r1039;
this.mK=null}};dD.a6A=function(M,X,J){var q=M.slice(0),W=t.j(4,32);for(var $=0;$<M.length;$+=3){W[0]=M[$];
W[1]=M[$+1];W[2]=M[$+2];ICC.U.applyLUT(X,J,W,W);q[$]=W[0];q[$+1]=W[1];q[$+2]=W[2]}return q};dD.prototype.UT=function(){return this.mK};
dD.prototype.fW=function(){if(this.mK)return this.mK;if(this.add.fcmy==1){if(this.oO==null){var M=t.kC("rgbToRgbC"),X=M[2],J=M[3],q;
if(aq.zw){q=new aq.Uy(X,X*X,aq.Vi());q.set(ICC.U.lutToRGBA32(J,X))}this.oO=[null,null,X,null,null,J,q]}return this.oO}};
dD.prototype.aEi=function(){var M=this;if(M.k.KV.join("")!="111"){M.k.KV=[1,1,1];M.fy=!0}for(var $=0;
$<M.U.length;$++){var X=M.U[$],J=X.add.vmsk;if(X.mT()){var q=X.uV(M);if(q&&q.JS&&q.JS.OI){q.JS.OI=!1;
M.fy=!0}}var W=X.hM();if(W&&W.OI){W.OI=!1;M.fy=!0}if(J){if(J.O.length!=0)J.O=[];if(J.FQ.length!=0)J.FQ=[]}}};
dD.prototype.aoo=function(){var M=this;return M.c!=null||M.ZX()[1].length!=0||M.O.length>1};dD.prototype.ob=function(){var M=this.aZ,X=[];
for(var $=0;$<M.length;$++)X[$]=-1;var J=this.root.children;for(var $=0;$<J.length;$++){var q=J[$],W=q.w.add.artb;
if(W==null)continue;var T=W.guideIndeces;T=T?T.v:[];for(var _=0;_<T.length;_++)X[T[_].v]=q.index}return[t.b(M),X]};
dD.prototype.tO=function(M){this.aZ=t.b(M[0]);var X=M[1],J=this.root.children;for(var $=0;$<J.length;
$++){var q=J[$],W=q.w.add.artb;if(W==null)continue;W.guideIndeces={t:"VlLs",v:[]}}for(var $=0;$<X.length;
$++)if(X[$]!=-1)this.U[X[$]].add.artb.guideIndeces.v.push({t:"long",v:$})};dD.prototype.ayg=function(M){var X=this;
if(M[0])X.add.lnk2=M[0];else delete X.add.lnk2;if(M[1])X.add.FEid=M[1];else delete X.add.FEid;if(M[2])X.add.Patt=M[2];
else delete X.add.Patt};dD.prototype.a0U=function(M){var X=this,J=[],q=[],W=[],j=null,Y=null,G=null;
for(var $=0;$<M.length;$++){var T=M[$];if(T.add.SoLd){J.push(T.add.SoLd.Idnt.v);q.push(T.add.SoLd.placed.v)}if(T.add.PtFl)W.push(T.add.PtFl.Ptrn.v.Idnt.v);
if(T.add.lmfx){for(var _=0;_<kf.an.length;_++){var m=T.add.lmfx[kf.an[_]].v;for(var d=0;d<m.length;d++)if(m[d].v.Ptrn){var A=m[d].v;
if(A.classID=="FrFX"&&A.PntT.v.FrFl!="Ptrn")continue;W.push(A.Ptrn.v.Idnt.v)}}}var p=T.add.vstk;if(p&&p.strokeStyleContent.v.classID=="patternLayer"){W.push(p.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var a=X.add.lnk2,f=X.add.FEid,s=X.add.Patt;
if(a){j=[];for(var $=0;$<a.length;$++)if(J.indexOf(a[$].qM)!=-1)j.push(a[$]);if(j.length==0)j=null}if(f){Y=[];
for(var $=0;$<f.length;$++)if(q.indexOf(f[$].id)!=-1)Y.push(f[$]);if(Y.length==0)Y=null}if(s){G=[];for(var $=0;
$<s.length;$++)if(W.indexOf(s[$].id)!=-1)G.push(s[$]);if(G.length==0)G=null}return[j,Y,G]};dD.prototype.fr=function(M){var X=this,J=X.root.Hc(M==null?X.O[0]:M),q=!1;
while(J.parent!=null){q=q||J.w.Uc(31);J=J.parent}return q};dD.prototype.p1=function(){var M=this.OD,X=this.OD.length;
if(X!=0&&M[X-1].name=="Quick Mask")return M[X-1]};dD.prototype.y7=function(){return this.DE==kl.Q_("% |/!)")||this.DE==kl._Y("gP")};
dD.prototype.TU=function(M){var X=this.add.artd;if(M!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:M},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};dD.prototype.yE=function(M){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(M)==-1)this.add.FEid.push(M)};
dD.prototype.c0=function(M){var X=this.add.FEid.indexOf(M);this.add.FEid.splice(X,1);if(this.add.FEid.length==0)delete this.add.FEid};
dD.prototype.vV=function(M){if(M==null)M=new gc(0,0,this.r,this.$);if(this.dI==null)this.dI=M;else this.dI=this.dI.m0(M)};
dD.prototype.asP=function(M){return this.dI!=null};dD.prototype.BS=function(M){var X=this.U[M],J=this.root.Hc(M);
if(J==null)return!1;if(X.nA()||J.parent.children.indexOf(J)==0)return!1;return!0};dD.aJ7=function(M){if(M.add.lnk2)for(var $=0;
$<M.add.lnk2.length;$++){var X=M.add.lnk2[$].qM;M.add.lnk2[$].qM=dD.dG()+X.slice(8);for(var J=0;J<M.U.length;
J++){var q=M.U[J].add.SoLd;if(q&&q.Idnt.v==X)q.Idnt.v=M.add.lnk2[$].qM}}};dD.prototype.Pf=function(M,X,J){M.sort(function(a,f){return a-f});
var top=M[M.length-1],q=this.U.slice(0),W=this.O.slice(0),T=[],_=[];for(var $=0;$<this.U.length;$++){if(M.indexOf($)!=-1)_.push(this.U[$]);
else T.push(this.U[$])}this.Ig(_);this.O=[];var m=this.root.Hg(this,!0);if(X)m=m.Lg(X);if(J)m=m.m0(J);
if(m.M5())m=new gc(0,0,100,100);var d=new gc(-m.x,-m.y,this.r,this.$),A=new Uint8Array(h1.mr("PSD").iL(this,0,0,[!0,!1]));
this.Ig(q);this.O=W;var p=new dD(this.U[top].getName());h1.mr("PSD").ss(A.buffer,p);delete p.add.artd;
p.YY=[];p.Ig(p.U);p.tO([[],[]]);dD.aJ7(p);o.VN.cC(p,m);p.vV();p.rD();p.m7();return[p,m,T,top]};dD.prototype.afE=function(M,X,J){var q=this.Pf(M),W=q[0],T=q[1],_=q[2],top=q[3],m;
if(J=="jpg")m=new Uint8Array(h1.mr("JPG").iL([[W.m7().buffer]],W.r,W.$,[80]));else m=new Uint8Array(h1.mr("PSD").iL(W,null,null,[!0,!1]));
if(X)_=this.U.slice(0);var d=this.Xg(m,W.name,T.x,T.y);if(top==this.U.length-1)_.push(d);else _.splice(X?top+1:top-M.length+1,0,d);
this.Ig(_);this.O=[_.indexOf(d)]};dD.dG=function(M){if(M==null)M="";var X="";while(X==""||X==M){X="";
for(var $=0;$<8;$++)X+=Math.floor(Math.random()*16).toString(16)}return X};dD.prototype.m_=function(M){if(M==null)return;
if(this.add.Patt==null)this.add.Patt=[];var X=this.add.Patt;for(var $=0;$<X.length;$++)if(X[$].id==M.id)return;
X.push(M)};dD.prototype.arG=function(M){for(var $=0;$<this.U.length;$++){var X=this.U[$],J=X.add.SoLd;
if(J&&J.Idnt.v==M)X.el(this)}};dD.prototype.Xg=function(M,X,J,q,W,T,_){if(this.add.lnk2==null)this.add.lnk2=[];
var m=null;for(var $=0;$<this.add.lnk2.length;$++)if(t.w6(M,this.add.lnk2[$].raw)){m=this.add.lnk2[$].qM;
break}if(m==null){var d=h1.$Y(M.buffer);m=dD.dG()+"-d71c-11e5-b1ae-a548a96e5f9f";var A=new K.oE;A.qM=m;
A.gi=d=="psd"?"8BIM":"    ";A.iW=X+"."+d;A.fH=d=="psd"?"8BPB":"    ";A.open=0;A.raw=M;A.e="liFD";A.MR=2;
this.add.lnk2.push(A)}var p=this.zh(m,null,null,null,T,_),a=dD.dG()+"-d71c-11e5-b1ae-a548a96e5f9f",f=this.C0(),s=p?p.DA:new gc;
f.EC(X);f.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:m},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:a},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,quiltWarp:{t:"Objc",v:t.Rl.j(s)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:s.r},Hght:{t:"doub",v:s.$}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:p?p.Qv:72}}};
var j=s.Q();if(J!=null)j.offset(J,q);if(p!=null&&W){var d=h1.$Y(M.buffer),Y=W.x,G=W.y,Q=W.r,Z=W.$;j=p.DA.Q();
j.offset(Y+J,G+q);var g=g=this.Qv/(d=="pdf"?144:p.Qv?p.Qv:this.Qv);j.r=j.r*g;j.$=j.$*g;var S=Math.max(j.r/Q,j.$/Z);
if(S>1.0001){j.r=j.r/S;j.$=j.$/S}j.x=Math.round(Y+(Q-j.r)/2);j.y=Math.round(G+(Z-j.$)/2)}var U=t.G.mP(j).d;
f.add.SoLd.Trnf=o.fx.qT(U);f.add.SoLd.nonAffineTransform=o.fx.qT(U);if(p){if(W)f.el(this,!1);else if(gj==0){f.S=p.SA[1].Q();
f.S.offset(j.x,j.y);f.buffer=p.SA[0].slice(0)}}return f};dD.prototype.Vo=function(){var M=this.add.arts,X=new gc;
for(var $=0;$<M.length;$++)X=X.m0(t.G.Oi(M[$].ny));return X};dD.prototype.aoq=function(M,X,J){var q=this.Vo();
if(X==null){X=q.r;J=q.$}var W=t.mt(X,J);W.save();W.translate(-q.x,-q.y);W.scale(X/q.r,J/q.$);this.root.OV(this,W,M,new gc(0,0,X,J));
W.restore();return W.getImageData(0,0,X,J).data.buffer};dD.prototype.m7=function(M){if(M!=null){this.vV();
this.rD(M);var X=this.buffer;if(aq.zw)this.gS.get(X);else X=X.slice(0);this.vV();this.rD();return X}if(this.dI){this.rD();
this.dI=null}if(aq.zw&&this.P2){this.gS.get(this.buffer);this.P2=null;this.K8=!0}return this.buffer};
dD.prototype.alo=function(){for(var $=0;$<this.U.length;$++)this.U[$].akd();this.vV()};dD.prototype.aj6=function(){for(var $=0;
$<this.U.length;$++)if(this.U[$].add.lmfx)this.U[$].ws.ma=!0};dD.prototype.ic=function(){var M=this.YG.r1044;
if(M==null){M=this.YG.r1044=new Uint8Array(4);var X=0;for(var $=0;$<this.U.length;$++)X=Math.max(X,this.U[$].add.lyid);
H.R2(M,0,X)}var J=H.Z3(M,0);H.R2(M,0,J+1);return J+1};dD.prototype.KE=function(M,X,J){if(M==null)M=!0;
var q=this;if(q.LV.length!=0)return!0;if(q.O.length!=1){if(M)alert(q.O.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.rz(M,X,J)};dD.prototype.rz=function(M,X,J){if(M==null)M=!0;if(X==null)X=!1;var q=this;
if(q.LV.length!=0)return!0;for(var $=0;$<q.O.length;$++){var W=q.U[q.O[$]],T=X||W.tD<=0;if(W.add.lsct!=null&&W.add.lsct!=gO.sH&&W.tD!=1){if(M)alert(kd.get([15,7,2]));
return!1}if(T&&!W.nQ()){if(M)alert(kd.get([15,7,2]));return!1}if(T&&W.add.TySh){return this.amA(M,[15,7,3],J)}if(T&&W.add.SoLd){return this.amA(M,[15,7,4],J)}if(W.Uc(1)||q.fr(q.O[$])){if(M)alert(kd.get([6,57,0]));
return!1}}return!0};dD.prototype.amA=function(M,X,J){if(M&&typeof M=="object"){var q=new jb(r.E.C);q.data={h:r.m.SQ,bf:"confirm"};
q.data.K=kd.get(X)+". "+kd.get([6,8])+"?";var W=M;q.data.nT=function(){var T=new jb(r.E.pL,!0);T.data={hC:"rasterizeLayer",Qd:{classID:"rasterizeLayer",null:k$.kh("Lyr",!0)}};
W.a(T)};M.a(q);return!1}if(M)alert(kd.get(X));return!1};dD.prototype.a3J=function(M){var X=this.root.Hc(M);
if(X.parent)return X.w.cV()&&this.a3J(X.parent.index);else return X.w.cV()};dD.prototype.WT=function(M){var X=this;
if(M){var J=0;for(var $=0;$<X.O.length;$++)if(X.U[X.O[$]].add.artb)J++;if(J>1)return-1}if(X.add.artd&&X.O.length!=0){var q=X.root.Hc(X.O[0]);
while(q.parent.parent)q=q.parent;if(q.w.add.artb)return q.index}return-1};dD.prototype.Pd=function(){var M=this.WT();
if(M!=-1){var X=this.U[M].PH();return new es(X.x,X.y)}return new es(0,0)};dD.prototype.amI=function(){var M=this.U[this.O[0]];
if(M.tD<=0&&!M.S.B8(this.c.S)){alert("Selected area is empty.");return!1}if(this.O.length==1&&this.c){var X=t.j(this.c.N.length);
t.gt(M.buffer,M.S,X,this.c.S);t.nd(this.c.N,X);if(t.Nf(X,0)){alert("Selected area is empty.");return!1}}return!0};
dD.prototype.Z$=function(){if(this.YG["r"+1037]==null)this.Ci(30);return H.Pp(this.YG["r"+1037],0)};
dD.prototype.Ci=function(M){if(this.YG["r"+1037]==null)this.YG["r"+1037]=new Uint8Array(4);if(H.Pp(this.YG["r"+1037],0)==M)return;
H.Uv(this.YG["r"+1037],0,M);this.aj6()};dD.prototype.Xy=function(){if(this.YG["r"+1049]==null)this.xh(30);
return H.Pp(this.YG["r"+1049],0)};dD.prototype.xh=function(M){if(this.YG["r"+1049]==null)this.YG["r"+1049]=new Uint8Array(4);
if(H.Pp(this.YG["r"+1049],0)==M)return;H.Uv(this.YG["r"+1049],0,M);this.aj6()};dD.prototype.sF=function(M){if(this.add.lnk2==null)return null;
for(var $=0;$<this.add.lnk2.length;$++)if(this.add.lnk2[$].qM==M)return this.add.lnk2[$];return null};
dD.prototype.a96=function(M){var X=this.sF(M);if(X==null)return!1;var J=h1.$Y(X.raw.buffer);if(J==null)return!1;
if(h1.mr(J)!=null||J=="psd")return!0;return!1};dD.prototype.zh=function(M,X,J,q,W,T){var _=this.sF(M);
if(_==null)return null;_.m7(X,J,q,W,T);if(_.SA)return _};dD.prototype.a5k=function(){var M=this.r,X=this.$,J=this.gS,q=this.depth;
if(aq.zw&&J==null)J=this.gS=new aq.Uy(M,X,q,!0);if(this.buffer==null||this.buffer.length!=M*X*4||aq.zw&&(J.r!=M||J.$!=X||J.depth!=q)){this.buffer=t.j(M*X*4,q);
if(J)J.delete();if(aq.zw)J=this.gS=new aq.Uy(M,X,q,!0)}};dD.prototype.abj=function(){this.a5k();if(aq.zw){this.gS.set(this.buffer)}};
dD.prototype.rD=function(M){if(gj!=0)throw"redrawing in vector mode";var X=this.r,J=this.$,q=new gc(0,0,X,J),W=this.RM?q:q.Lg(this.dI);
this.a5k();if(W.M5())return;if(!W.w6(q)){if(!aq.zw){var T=t.j(W.o()*4,this.depth);t.fA(T,W,this.buffer,q)}if(aq.zw){aq.O$(this.gS,W);
aq.Cb(0)}}else{if(aq.zw){this.gS.set(null)}else{this.buffer.fill(0)}}var _=Date.now(),m=aq.zw?this.gS:this.buffer;
if(M==null)M=1e9;var d=this.root.children;for(var $=0;$<d.length;$++){var A=d[$].w;if(A.cV()&&A.add.artb&&this.add.artd){var p=A.PH(),a=W.Lg(p),f=A.sS();
if(f!=0){if(aq.zw){aq.O$(m,a);aq.Cb(f);aq.Cb(f)}else t.adZ(m,q,a,f)}}}this.root.nE(m,q,W,this,[],M);
this.P2=this.dI.Q()};dD.prototype.C0=function(M){var X=new K;X.S=new gc(0,0,0,0);X.buffer=t.j(0,this.depth);
X.EC("Layer");if(M!=!0)X.add.lyid=this.ic();X.add.lsct=gO.sH;X.add.lclr=0;X.add.fxrp=new es(0,0);return X};
dD.prototype.mm=function(M){var X=this.C0(M);X.EC("</Layer group>");X.add.lsct=gO.Vd;X.l4=24;return X};
dD.prototype.LZ=function(){return this.sv!=this.bI};dD.prototype.Vr=function(M){while(this.history.length>this.sv+1)this.history.pop();
if(this.bI>this.sv)this.bI=-1;if(M.J.id!=o.sc){this.zY=!0;if(this.ZU.lastAppliedComp){delete this.ZU.lastAppliedComp;
this.K8=!0}}this.history.push(M);this.sv++;this.K8=!0;var X=hO.Dm()?60:30,J=0;for(var $=this.history.length-1;
$>=0;$--){var q=this.history[$];if(q.ZC)continue;J++;if(J==X){this.sv-=$;this.history=this.history.slice($);
break}}};dD.prototype.pC=function(){if(this.sv!=this.history.length-1)return null;return this.history[this.history.length-1]};
dD.prototype.AX=function(M,X,J,q){if(M==null)M=!1;var W=X!=null?[X]:this.O.slice(0);if(q){var T=[];for(var $=0;
$<W.length;$++){var _=this.U[W[$]],m=_.pZ;if(_.ed&&m!=0&&T.indexOf(m)==-1)T.push(m)}if(T.length!=0)for(var $=0;
$<this.U.length;$++){var _=this.U[$],m=_.pZ;if(_.ed&&m!=0&&T.indexOf(m)!=-1&&W.indexOf($)==-1)W.push($)}}var d=[];
for(var $=0;$<W.length;$++){var A=this.cy(W[$],M);for(var p=0;p<A.length;p++)if(d.indexOf(A[p])==-1)d.push(A[p]);
if(J){var jX=this.root.Hc(W[$]);while(jX.parent!=null&&jX.parent.parent!=null){jX=jX.parent;if(d.indexOf(jX.index)==-1){d.push(jX.index,jX.VO)}}}}return d};
dD.prototype.c1=function(M,X,J){var q=this,W=q.AX(!1,M,null,J);W.sort(function(g,S){return g-S});var T={};
for(var _=0;_<q.U.length;_++){var m=q.U[_].getName();T[m]=!0}var d=[];for(var $=0;$<W.length;$++){var A=q.U[W[$]].Q(),G,Q;
A.add.lyid=q.ic();A.add.lspf=0;if(A.mT()){var p=A.uV(q),a=dD.aeD(p);q.yE(a);A.add.SoLd.placed.v=a.id}else if(A.add.SoLd){var f=A.add.SoLd.placed.v;
A.add.SoLd.placed.v=dD.dG(f.slice(0,8))+f.slice(8)}A.j$(q);var s=A.getName(),j=s.length;while(48<=s.charCodeAt(j-1)&&s.charCodeAt(j-1)<=57)j--;
var Y=parseInt(s.slice(j));if(isNaN(Y)){if(s.endsWith(" copy")){Y=1;G=s.slice(0,s.length-5)}else{Y=0;
G=s}}else if(s.slice(0,j).endsWith(" copy ")){Y=Y;G=s.slice(0,j-6)}else{Y=0;G=s}Y++;while(!0){Q=G+" copy"+(Y==1?"":" "+Y);
if(T[Q]==null)break;Y++}var Z=W.indexOf(this.root.Hc(W[$]).parent.index)!=-1;if(s=="Background"&&q.U.length==1)Q="Layer 1";
if(X!=!0&&!Z)A.EC(Q);T[Q]=!0;d.push(A)}return d};dD.aeD=function(M){return{id:dD.dG(M.id.slice(0,8))+M.id.slice(8),buffer:M.buffer.slice(0),S:M.S.Q(),JS:M.JS?M.JS.Q():null}};
dD.ans=function(M){return{id:M,S:new gc,buffer:t.j(1),JS:new K.$O}};dD.Sp=function(M,X,J){if(J==null)J=[0,0];
if(X==null)X={vmsk:new K.JL};if(X.vogk==null){X.vogk=[];var q=t.I.Qa(X.vmsk.X);for(var W=0;W<q;W++)X.vogk.push(t.fg.Df())}return{name:M,gO:0,D_:J,add:X}};
dD.prototype.ZX=function(M){var X=[],J=[],q=this;for(var $=1;$<q.Qt.length;$++){var W=q.Qt[$];W.gO=-1-$;
X.push(W);if(q.Fg.indexOf($)!=-1)J.push(X.length-1)}if(q.Qt[0].add.vmsk.X.length>2){var W=q.Qt[0];W.gO=-1;
X.push(W);if(q.Fg.indexOf(0)!=-1)J.push(X.length-1)}var T=q.bQ==null;if(T)q.bQ=[];for(var $=q.O.length-1;
$>=0;$--){var _=q.O[$],m=q.U[_],d=m.add.TySh;if(m.add.vmsk!=null){var W=dD.Sp("\""+m.getName()+"\" Shape Path",m.add);
W.gO=_;X.push(W);if(T&&(m.Cq||m.eQ()))q.bQ.push(_);if(q.bQ.indexOf(_)!=-1)J.push(X.length-1)}if(M!=!0&&d&&d.add&&t.Rl.tU(d.OG)){var W=dD.Sp("\""+m.getName().slice(0,10)+"..\" Text Path",d.add);
W.gO=1e6+q.O[$];X.push(W);J.push(X.length-1)}}if(J.length==0&&M){q.Qt[0].gO=-1;q.Fg=[0];J.push(X.length);
X.push(q.Qt[0])}return[X,J]};dD.prototype.cy=function($,M){var X=[],jX=this.root.Hc($);if(jX)jX.sP(X,M);
return X};dD.prototype.k1=function(){this.root.aw(this,new gc(0,0,this.r,this.$))};dD.prototype.Ig=function(M){for(var $=0;
$<this.U.length;$++){var X=this.U[$];if(M.indexOf(X)==-1){X.ws.a1W();X.vV()}}var J=0;for(var $=0;$<M.length;
$++)if(M[$].add.artb)J++;this.TU(J);this.U=M.slice(0);this.b8()};dD.prototype.b8=function(){var M=this.U,X=M.length;
this.root=new d3;var J=this.C0(!0);J.Sw="pass";J.add.lsct=gO.A$;J.EC("");var q=this.mm(!0),W=[q];for(var $=0;
$<X;$++)W.push(M[$]);W.push(J);this.root.akI(W,0,0);if(this.O.length==0)this.O=[X-1]};dD.prototype.b7=function(){if(this.O.length!=1)return;
var M=this.root.Hc(this.O[0]);while(M.parent!=null){var X=M.parent.w;X.add.lsct=gO.A$;M=M.parent}this.fy=this.atH=!0};
dD.prototype.a9V=function(){this.b8();var M=[this.root],c$=0;while(M.length!=0){var top=M.pop();c$++;
if(top.w.add.lsct==gO.A$)for(var $=0;$<top.children.length;$++)M.push(top.children[$])}if(c$>1e3){var X=this.root.children;
for(var $=0;$<X.length;$++)if(X[$].w.add.lsct==gO.A$)X[$].w.add.lsct=gO.dw}};dD.D3=function(M,X,J,q,W,T,_,m,d){if(m==null)m="sRGB IEC61966-2.1";
if(d==null)d=8;var A={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:q},artboard:{t:"bool",v:T},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:M*72/J}},Hght:{t:"UntF",v:{type:"#Rlt",val:X*72/J}},Rslt:{t:"UntF",v:{type:"#Rsl",val:J}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:W}},Dpth:{t:"long",v:d},profile:{t:"TEXT",v:m}}}};
if(W=="Clr")A.Nw.v.FlCl={t:"Objc",v:_};return{hC:"make",Qd:A}};dD.Uu=["sRGB","Adobe RGB","ProPhoto RGB","Display P3"];
dD.uy=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"];dD.FJ=[null,"icc/adobe","icc/prophoto","icc/displayp3"];
dD.ap5=function(M,X){var J=0,q=0,W=72,T=X.azl,_=M.preset&&M.preset.v=="Clipboard",m=M.Dpth?M.Dpth.v:8;
if(_){J=T.r;q=T.$}else{J=M.Wdth.v.val;q=M.Hght.v.val;W=M.Rslt.v.val;J=Math.round(J*W/72);q=Math.round(q*W/72)}var d=new dD((M.Nm?M.Nm.v:kd.get([11,7]))+".psd");
d.r=J;d.$=q;d.Qv=W;d.depth=m;var A=M.Fl?M.Fl.v.Fl:"Wht";if(M.artboard&&M.artboard.v){var p=d.C0();p.EC(kd.get([1,16,0])+" 1");
p.add.lsct=gO.A$;p.oQ(new gc(0,0,J,q));p.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[A]};
if(A=="Clr")p.add.artb.Clr={t:"Objc",v:t.NX.$J(t.NX.NH(M.FlCl.v))};p.Sw="pass";p.l4=24;var a=d.C0();
a.EC("Layer 1");d.Ig([d.mm(),a,p]);d.TU(1);d.O=[1]}else if(gj==0){var f=d.C0(),s=0;f.EC("Background");
d.Ig([f]);f.add.lspf=1<<2;if(A=="Clr")s=t.NX.NH(M.FlCl.v);else if(A!="Trns"){var j=X.Yt;s={Wht:{z:255,L:255,g:255},Blck:{z:0,L:0,g:0},BckC:{z:j>>>16,L:j>>>8&255,g:j&255}}[A]}if(s){f.S=new gc(0,0,J,q);
f.buffer=t.j(J*q*4,m);hA.zK(f.buffer,t.NX.$J(s))}}if(gj==0)d.buffer=t.j(J*q*4,m);var Y=M.profile;if(Y){var G=dD.FJ[dD.uy.indexOf(Y.v)];
if(G)d.vR(h1.Rv.get(G))}return d};dD.prototype.a41=function(){var M=this,X=M.add.arts=[],J=!0;M.add.prvw=1;
M.b8();var q=M.root.children;for(var $=0;$<q.length;$++)if(!q[$].w.nA())J=!1;if(!J||M.U.length==0){M.U.unshift(M.mm());
var W=M.C0();W.EC("Layer 1");W.add.lsct=gO.A$;W.Sw="pass";W.l4=24;M.U.push(W);for(var $=0;$<M.O.length;
$++)M.O[$]++;M.bM=!0}if(M.add.artd){delete M.add.artd;var T=[];for(var $=0;$<M.U.length;$++){var W=M.U[$],_=W.add.artb;
if(_==null)continue;var m=W.PH();delete W.add.artb;X.push({HH:W.getName(),ny:[m.x,m.y,m.x+m.r,m.y+m.$],O:!1});
var d=_.artboardBackgroundType.v;if(d!=1&&d!=3){var A=M.root.Hc($).Zs;T.push([A,d,m,t.NX.NH(_.Clr.v)])}}for(var $=0;
$<T.length;$++){var A=T[$][0],d=T[$][1],m=T[$][2],p=T[$][3],W=M.C0();W.EC("Background");W.add.vmsk=new K.JL;
W.add.vmsk.X=t.I.bg.Rect(m.x,m.y,m.r,m.$);W.add.vstk=kf.XZ.IH(!0);W.add.vstl=kf.so.IH();W.add.vstl.nz=[null,[1,1,1],[0,0,0],[],[p.z/255,p.L/255,p.g/255],[1,1,1]][d];
W.hg();M.U.splice(M.U.indexOf(A)+1,0,W);M.b8()}console.log(T)}else X.push({HH:"Artboard",ny:[0,0,M.r,M.$],O:!1});
if(M.name.endsWith(".psd"))M.name=M.name.slice(0,-4)+".ai";if(M.buffer)M.buffer=null;for(var $=0;$<M.U.length;
$++){var W=M.U[$],m=W.S;if(W.nA()&&W.add.vmsk){var a=M.C0();M.U.splice($,0,a);a.EC("<Clipping Path>");
a.Nx=!0;a.add.vogk=W.add.vogk;delete W.add.vogk;a.add.vmsk=W.add.vmsk;delete W.add.vmsk;a.add.vstk=kf.XZ.IH();
a.add.SoCo=JSON.parse(kf.px[kf.order.indexOf("SoFi")]);a.add.vstl={};console.log("mask here!")}else if(W.add.SoLd&&W.add.vmsk){delete W.add.vmsk}else if(W.eQ()&&W.add.vstl==null){if(W.add.vmsk==null){W.add.vmsk=new K.JL;
W.add.vmsk.X=t.I.bg.Rect(0,0,M.r,M.$);W.add.vstk=kf.XZ.IH(!0);W.hg()}var f=W.add.vstl=dD.yg(W.add)}delete W.add.lmfx;
if(W.add.SoLd||W.add.TySh||W.add.vmsk||m.M5())continue;var s=m.r,j=m.$,Y=t.jd(W.buffer,s,j)?"JPG":"PNG";
if(s*j<700*700)Y="PNG";var G=h1.mr(Y).iL([[W.buffer.buffer]],s,j),Q=M.U[$]=M.Xg(new Uint8Array(G),W.getName(),m.x,m.y);
Q.EG(W.cV())}};dD.yg=function(M,X){var J=M.vstk,d=null,A=null;if(J==null)J=kf.XZ.IH(!0);var q=kf.XZ.tx(J),W=kf.M2(M),T=kf.UH(J);
function _(d){var Y=t.NX.NH(d.Clr.v);return[Y.z/255,Y.L/255,Y.g/255]}var m=M.lmfx;if(m)d=m.solidFillMulti.v[0];
if(d)d=d.v;if(d&&(!d.enab.v||d.Opct.v.val<50))d=null;if(m)A=m.frameFXMulti.v[0];if(A)A=A.v;if(A&&(!A.enab.v||A.Opct.v.val<50))A=null;
var p=M.vmsk,a=p?p.X:t.I.bg.Rect(0,0,X.r,X.$);for(var f=0;f<2;f++){var s=f==0?W:T,j=[];if(s.fH==1)j=c8.DR(s.PD.Clr.v);
if(s.fH==2){j=M[f==0?"_fstl":"_sstl"];if(j==null||gj==0)j=br.d0(s.PD,a,X)}if(f==0&&d)j=_(d);if(f==1&&A){j=_(A);
q.G2=A.Sz.v.val;q.JJ=kf.stroke.types.indexOf(A.Styl.v.FStl);q.NT=1}if(f==0)q.nz=j;else q.s0=j}return q};
function jC(M){this.AR=M;this.r7=0;this.Yu=1;this.s=new es(0,0);this.Dr=new es(0,0);this.Ow=0;this.KV=[1,1,1];
this.Yg=0;this.dy=new gc(0,0,1,1);this.aaC=new gc(0,0,M.r,M.$);this.At=null;this.Xq=null;this.Mg=null;
this.Be=null;this.Dg=null;this.Nm=null}jC.prototype.VR=function(){var M=this,X=M.dy.o();if(M.Dg==null||M.Dg.length!=X*4){M.Be=t.j(X);
M.Dg=t.j(X*4)}};jC.prototype.Zg=function(M){var X=new kp,J=this.dy,q=this.AR,W=M?this.Yu:this.r7,T=M?this.Dr:this.s,_=Math.round((J.r-q.r*W)/2+T.x),m=Math.round((J.$-q.$*W)/2+T.y);
X.translate(-_,-m);X.scale(1/W,1/W);var d=q.r/2,A=q.$/2;X.translate(-d,-A);X.rotate(this.Ow);X.translate(d,A);
return X};jC.prototype.aaJ=function(M){var X=this.dy,J=this.AR,q=Math.atan2(-M.g,M.Jm),W=J.r/2,T=J.$/2;
M.translate(-W,-T);M.rotate(-q);M.translate(W,T);var _=1/M.zQ();M.scale(_,_);var m=-M._f,d=-M.Ey,A=Math.round(m-(X.r-J.r*_)/2),p=Math.round(d-(X.$-J.$*_)/2);
if(Math.abs(_-Math.round(_))<1e-6)_=Math.round(_);this.Ow=q;this.r7=_;this.s=new es(A,p)};jC.prototype.Ob=function(M,X,J){var q=this.Zg(),W=q.y8(new es(M,X));
if(J){W.x=Math.round(W.x);W.y=Math.round(W.y)}return W};jC.prototype.fT=function(M,X){var J=this.Zg();
J.vN();return J.y8(new es(M,X))};function kf(){}kf.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh St3D".split(" ");
kf.an="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti St3DMulti".split(" ");
kf.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0],"3D"];kf.agM=["DrSh","IrSh","SoFi","GrFl","FrFX"];
kf.dB=["Clr"];kf.iz="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");kf.T7=["Ptrn","Angl","Scl","Algn","phase"];
kf.rs={Hu:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",ahL:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",awb:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",acj:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",x8:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"Default/orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\",\"t\":\"TEXT\"}}}"};
kf.rs.Hu="\"Clr\": "+kf.rs.Hu;kf.rs.NX="\"Grad\":"+kf.rs.ahL+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
kf.rs.x8="\"Ptrn\":"+kf.rs.x8+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
kf.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
kf.px=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"overprint\":{\"t\":\"bool\",\"v\":false},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+kf.rs.Hu+","+kf.rs.NX+","+kf.rs.x8+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+kf.rs.Hu+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+kf.rs.NX+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+kf.rs.x8+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true ,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Lineární\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"},\"Cntn\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"St3D\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":false,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 90},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Srnk\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},  \"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Drkn\":{\"v\":{\"type\":\"#Prc\",\"val\":25},\"t\":\"UntF\"} }"];
kf.NX={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
kf.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],Wg:["SClr","GrFl","Ptrn"],ahl:[[13,0],[12,37],[12,62]]};
kf.Wy={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],ass:["SrcC","SrcE"],aGi:[[19,5,1],[12,69]]};kf.ry={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],a5H:["SfBL","PrBL","Slmt"],a9j:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
kf.XZ={fO:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],_z:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],PP:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!1},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pxl",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+kf.rs.Hu+"}")},strokeStyleResolution:{t:"doub",v:72}},IH:function(M,X){var J=JSON.parse(kf.XZ.asq);
if(M)J.fillEnabled.v=!0;if(X)J.strokeEnabled.v=!0;return J},tx:function(M,X,J){if(X==null)X={};if(J==null)J=1;
var q=M.strokeStyleLineDashSet.v,W=X.G2=M.strokeStyleLineWidth.v.val*J;X.tu=M.strokeStyleMiterLimit.v;
X.qS=M.strokeStyleLineDashOffset.v.val;X.NT=kf.XZ.join.indexOf(M.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
X.o5=kf.XZ.fO.indexOf(M.strokeStyleLineCapType.v.strokeStyleLineCapType);X.JJ=kf.XZ._z.indexOf(M.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
X.hc=[];for(var $=0;$<q.length;$++)X.hc.push(q[$].v.val*W);if(X.hc.length==1&&X.hc[0]==0)X.hc=[];return X},write:function(M,X,J){if(J==null)J=1;
var q=X.G2,W=X.tu,T=X.hc,_=X.qS,m=X.NT,d=X.o5,A=X.JJ;if(q!=null)q=M.strokeStyleLineWidth.v.val=Math.max(.4,q*J);
else q=M.strokeStyleLineWidth.v.val;if(A!=null)M.strokeStyleLineAlignment.v.strokeStyleLineAlignment=kf.XZ._z[A];
if(W!=null)M.strokeStyleMiterLimit.v=W;if(T!=null)M.strokeStyleLineDashSet.v=hA.ts(T,J/q);if(_!=null)M.strokeStyleLineDashOffset.v.val=_;
if(m!=null)M.strokeStyleLineJoinType.v.strokeStyleLineJoinType=kf.XZ.join[m];if(d!=null)M.strokeStyleLineCapType.v.strokeStyleLineCapType=kf.XZ.fO[d]}};
kf.XZ.asq=JSON.stringify(kf.XZ.default);kf.so={IH:function(){return{nz:[1,1,1],s0:[0,0,0],G2:1,tu:10,hc:[],qS:0,NT:0,o5:0,JJ:1}},a1k:function(M){var X=f5.NH(M.StrokeColor),J=kf.so.IH();
J.JJ=M.FillFirst?1:2;var q=M._LineCap,W=M._LineJoin,T=M._MiterLimit,_=M._LineDashOffset,m=M._LineDashArray,d=M.OutlineWidth;
if(q)J.o5=q;if(W)J.NT=W;if(T)J.tu=T;if(m)J.hc=m;if(d!=null)J.G2=d;J.s0=[X.z/255,X.L/255,X.g/255];return J},a5G:function(M,X){X.FillFirst=M.JJ==1;
X._LineCap=M.o5;X._LineJoin=M.NT;X._MiterLimit=M.tu;X._LineDashArray=M.hc}};kf.UH=function(M){var X=M.strokeEnabled.v,J=M.strokeStyleContent.v;
return X?{fH:1+kf.XZ.PP.indexOf(J.classID),PD:J}:{fH:0}};kf.rP=function(M,X){var J=X.fH;M.strokeEnabled.v=J!=0;
if(J!=0){M.strokeStyleContent.v=X.PD;X.PD.classID=kf.XZ.PP[J-1]}};kf.M2=function(M){var X=M.vstk,J=null;
if(X&&!X.fillEnabled.v)J={fH:0};else if(M.SoCo)J={fH:1,PD:M.SoCo};else if(M.GdFl)J={fH:2,PD:M.GdFl};
else if(M.PtFl)J={fH:3,PD:M.PtFl};return J};kf.v6=function(M,X){var J=M.vmsk,q=M.vstk,W=X.fH;if(q)q.fillEnabled.v=W!=0;
if(W>0){var T=["SoCo","GdFl","PtFl"][W-1];for(var $=0;$<3;$++)delete M[["SoCo","GdFl","PtFl"][$]];M[T]=X.PD}};
kf.iI=[{classID:"null",Clr:JSON.parse(kf.px[5]).Clr},{classID:"null",Grad:JSON.parse(kf.px[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(kf.px[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var hA={};hA.abo=function(M,X){function J(M,f){if(M==null||!M.masterFXSwitch.v)return null;var s=M[f].v,j;
if(s.length!=0){j=s[0].v;if(!j.enab.v)j=null}return j}var q=X.SoCo,W=X.GdFl,T=J(M,"solidFillMulti"),_=J(M,"gradientFillMulti");
if(T==null&&_==null)return[q,W];var m=hA.atN;if(q&&T&&_==null){var d=t.b(q);d.Clr.v=m(T.Clr.v,q.Clr.v,T);
return[d,null]}if(W&&T&&_==null){var A=t.b(W),p=A.Grad.v.Clrs.v;for(var $=0;$<p.length;$++){var a=p[$].v.Clr;
a.v=m(T.Clr.v,a.v,T)}return[null,A]}if(q&&_){var A=t.b(_),p=A.Grad.v.Clrs.v;for(var $=0;$<p.length;$++){var a=p[$].v.Clr;
a.v=m(a.v,q.Clr.v,_)}return[null,A]}return[T,_]};hA.ND={vG:t.j(4),ft:t.j(4),z:new gc(0,0,1,1)};hA.atN=function(M,X,J){var q=ae.Wz(J.Md.v.BlnM),W=J.Opct.v.val/100,T=hA.ND;
M=t.NX.NH(M);X=t.NX.NH(X);T.vG[0]=M.z;T.vG[1]=M.L;T.vG[2]=M.g;T.vG[3]=255;T.ft[0]=X.z;T.ft[1]=X.L;T.ft[2]=X.g;
T.ft[3]=255;t.v.r$(q,T.vG,T.z,T.ft,T.z,T.z,W);return{classID:"RGBC",Rd:{t:"doub",v:T.ft[0]},Grn:{t:"doub",v:T.ft[1]},Bl:{t:"doub",v:T.ft[2]}}};
hA.a2r=function(M,X,J){var q=M;M=M.slice(0);var W=ae.pi[ae.TW.indexOf(X.Md.v.BlnM)],T=t.NX.NH(X.Clr.v),_=4278190080|Math.round(T.g)<<16|Math.round(T.L)<<8|Math.round(T.z),m=t.j(J.o()*4);
t.Tb(m,_);t.v.r$(W,m,J,M,J,J,X.Opct.v.val/100);for(var $=0;$<M.length;$+=4)M[$+3]=q[$+3];return M};hA.S4=function(M,X){var J=["Sz","blur","Sftn","Dstn"];
for(var $=0;$<kf.order.length;$++){var q=kf.order[$],W=M[kf.an[$]].v;for(var T=0;T<W.length;T++){var _=W[T].v;
for(var m=0;m<J.length;m++){var d=_[J[m]];if(d){var A=d.v.val,p=A;p=Math.max(A==0?0:1,p*X);if(q=="ChFX")p=Math.min(p,250);
if(q=="ebbl"){if(J[m]=="blur")p=Math.min(p,250);if(J[m]=="Sftn")p=Math.min(p,16)}d.v.val=Math.round(p)}}if(q=="ebbl"||q=="patternFill"||q=="FrFX")if(_.Ptrn&&_.Scl)_.Scl.v.val=Math.max(1,Math.min(1e3,_.Scl.v.val*X))}}};
hA.as5=function(M,X,J){var q=new gc(-.5,-.5,1,1);for(var $=0;$<kf.order.length;$++){var W=kf.order[$],T=M[kf.an[$]].v;
for(var _=0;_<T.length;_++){var m=T[_].v,a;if(!m.enab.v)continue;var d=m.blur?m.blur.v.val+1:0,A=m.Ckmt?m.Ckmt.v.val/100:0,p=Math.round(d*A);
if(W=="DrSh"||W=="IrSh"&&J){a=new gc(-.5,-.5,1,1);a.$K(d,d);hA.Cx(a,m,X,0)}if(W=="St3D"){a=new gc(-.5,-.5,1,1);
hA.Cx(a,m,X,Math.PI,"Angl")}if(W=="OrGl"||W=="IrGl"&&J){a=new gc(-.5,-.5,1,1);a.$K(d,d)}if(W=="FrFX"){var f=hA.fI(m),s=f[1];
if(J)s=Math.max(f[0],s);a=new gc(-.5,-.5,1,1);a.$K(Math.ceil(s),Math.ceil(s))}if(W=="ebbl"){var d=m.blur.v.val,j=m.bvlS.v.BESl;
if(j=="Embs"||j=="PlEb")d/=2;var Y=["OtrB","InrB","Embs","PlEb","strokeEmboss"],G=["SfBL","PrBL","Slmt"],Q=["In","Out"],Z=m.bvlT.v.bvlT!="SfBL"?d:d*.43,g=Math.round(d);
a=new gc(-g-1,-g-1,2*g+2,2*g+2)}if(J&&W=="ChFX"){a=new gc(-.5,-.5,1,1);a.$K(d,d);var S=a.Q();hA.Cx(a,m,X,0);
hA.Cx(S,m,X,Math.PI);a=a.m0(S)}if(a)q=q.m0(a)}}if(q.x!=Math.ceil(q.x)){q.x=Math.ceil(q.x);q.r-=1}if(q.y!=Math.ceil(q.y)){q.y=Math.ceil(q.y);
q.$-=1}q.r=Math.floor(q.r);q.$=Math.floor(q.$);return q};hA.fI=function(M){var X,J,q=0,W=0;if(M.Sz){X=M.Sz.v.val;
J=kf.stroke.types.indexOf(M.Styl.v.FStl)}else{X=M.Wdth.v;J=["Insd","Cntr","Otsd"].indexOf(M.Lctn.v.StrL)}if(J==0)q=X;
if(J==1)q=W=X/2;if(J==2)W=X;return[q,W]};hA.aq$=function(M,X){if(aq.zw&&M.AM==null){M.AM=new aq.Uy(M.rR.r,M.rR.$,X);
M.AM.set(M.hT);delete M.hT;if(M.Uh){M.PS=new aq.q5(M.rR.r,M.rR.$,X);M.PS.set(M.Uh);delete M.Uh}if(M.X0){M.rX=new aq.q5(M.rR.r,M.rR.$,X);
M.rX.set(M.X0);delete M.X0}}};hA.a8N=function(M){if(M.AM)M.AM.delete();if(M.PS)M.PS.delete();if(M.rX)M.rX.delete()};
hA.a0s=function(M){if(M.all==null)return;for(var $=0;$<M.all.length;$++){hA.a8N(M.all[$])}};hA.amG=function(M,X,J,q,W,T){M=t.cY(M,8);
var _=hA.xZ(J,q,M,X,W,T),m=W.depth;for(var $=0;$<_.all.length;$++){var d=_.all[$];d.hT=t.cY(d.hT,m);
if(d.Uh)d.Uh=t.cY(d.Uh,m);if(d.X0)d.X0=t.cY(d.X0,m);hA.aq$(d,m)}return _};hA.aqy=function(M){for(var $=0;
$<kf.order.length;$++){var X=kf.order[$],J=kf.an[$],q=M[J].v;for(var W=0;W<q.length;W++){var T=q[W].v;
if(T.enab.v&&["patternFill","GrFl","SoFi"].indexOf(X)==-1)return!0}}return!1};hA.xZ=function(M,X,J,q,W,T){if(T==null)T=q;
var _=0,m=0;for(var $=0;$<kf.order.length;$++){var d=kf.order[$],A=kf.an[$],p=M[A].v;for(var a=0;a<p.length;
a++){var f=p[a].v;if(d=="DrSh"&&f.enab.v&&f.Ckmt.v.val>0&&f.blur.v.val>0)_=Math.max(_,Math.ceil(f.Ckmt.v.val*f.blur.v.val/100));
if(d=="OrGl"&&f.enab.v&&f.Ckmt.v.val>0&&f.blur.v.val>0&&f.GlwT.v.BETE=="SfBL")_=Math.max(_,Math.ceil(f.Ckmt.v.val*f.blur.v.val/100));
if(d=="OrGl"&&f.enab.v&&f.blur.v.val>0&&f.GlwT.v.BETE=="PrBL")_=Math.max(_,f.blur.v.val);if(d=="FrFX"&&f.enab.v&&f.Sz.v.val>0){if(f.Styl.v.FStl=="OutF")_=Math.max(_,f.Sz.v.val);
if(f.Styl.v.FStl=="CtrF")_=Math.max(_,Math.ceil(f.Sz.v.val/2));m=Math.max(m,hA.fI(f)[1])}}}var s=new hA.Th(J,q,_,hA.aqy(M)),j=-q.x,Y=-q.y,G={e:{},all:[]};
for(var Q=0;Q<kf.order.length;Q++){var d=kf.order[Q],A=kf.an[Q];G.e[d]=[];for(var Z=M[A].v.length-1;
Z>=0;Z--){var g=M[A].v[Z].v,e;if(!g.enab.v)continue;var S=g.blur?g.blur.v.val:0,U=g.Ckmt?g.Ckmt.v.val/100:0,B=S*U;
if(d=="St3D"){var P=Math.max(1e-4,1-g.Srnk.v.val/100),D=2,aw=0;function h(V,gE,g){var fn=g.Angl.v.val;
fn*=Math.PI/180;var v=g.Dstn.v.val,gW=Math.cos(fn)*v,c1=-Math.sin(fn)*v,bD=P+gE*(1-P),bi=new kp;bi.translate(-V.r/2,-V.$/2);
bi.scale(bD,bD);bi.translate(V.r/2,V.$/2);bi.translate((1-gE)*gW,(1-gE)*c1);return bi}var V=q.Q(),I=J;
V.x=V.y=0;var F=Date.now(),c=V.Q();c.$K(D,D);var n=t.j(c.o());t.Rc(I,V,n,c);c.x=c.y=0;t.zp.zk(n,c,2);
var k=t.j(c.o()*4);k.fill(255);t.Qh(n,k);var b=t.j(V.o()),N=V.r,L=V.$,R=c.r,i=hA.amD(g,W),v=Math.cos(i[1]),E=-Math.cos(i[0])*v,u=Math.sin(i[0])*v;
if(Math.abs(E)<.001&&Math.abs(u)<.001)E=u=0;for(var C=0;C<L;C++)for(var l=0;l<N;l++){var $=(C+D)*R+l+D,x=n[$+1]-n[$-1],y=n[$+R]-n[$-R],ge=x*x+y*y;
if(ge>10){var O=1/Math.sqrt(ge);b[C*N+l]=Math.max(0,Math.min(255,128+127*(E*O*x+u*O*y)))}}var kz=[I,V],z=h(V,0,g),eZ=t.G.mP(V).d,kM=eZ.slice(0);
t.G.u(eZ,z,kM);var jV=V.m0(t.G.Oi(kM)),cL=t.j(jV.o()*4);for(var $=0;$<8;$+=2){var x=eZ[$]-kM[$],y=eZ[$+1]-kM[$+1];
aw=Math.max(aw,Math.sqrt(x*x+y*y))}var h2=Math.round(aw/2),ea=t.NX.NH(g.Clr.v);ea.z/=255;ea.L/=255;ea.g/=255;
var ht=g.Drkn.v.val/100;for(var jn=0;jn<h2;jn++){var gE=jn/h2,bS=1-ht+gE*ht,bi=h(V,gE,g),cj=V.Q(),bb=I;
if(P!=1){var c0=o.fx.Pm(kz,bi);cj=c0.S;bb=c0.N}else{var cV=bi.y8(new es(0,0));cj.x+=Math.round(cV.x);
cj.y+=Math.round(cV.y)}var g_=t.j(cj.o()*4);if(E!=0||u!=0){var hx=cj.r,au=cj.$,kP=ea.z,iK=ea.L,b3=ea.g,fs=bi.Q();
fs.vN();var ch=fs.y8(new es(.5,.5)),hv=fs.y8(new es(1.5,1.5)),x=hv.x-ch.x,y=hv.y-ch.y;for(var C=0;C<au;
C++){for(var l=0;l<hx;l++){var $=C*hx+l,g6=$*4,ef=Math.max(0,Math.min(N-1,~~(.5+x*l))),fN=Math.max(0,Math.min(L-1,~~(.5+y*C))),kb=b[fN*N+ef],cn=-1+2*kb*(1/255),dF=-cn,et=0;
if(cn>0){dF=0;et=cn}g_[g6]=255*(1-dF)*(et+(1-et)*kP)*bS;g_[g6+1]=255*(1-dF)*(et+(1-et)*iK)*bS;g_[g6+2]=255*(1-dF)*(et+(1-et)*b3)*bS}}}else hA.zK(g_,g.Clr.v,bS);
t.ix(bb,g_,3);t.v.r$("norm",g_,cj,cL,jV,cj,1)}e={hT:cL,rR:jV}}else if(d=="DrSh"){var bh=s.m8(B,S-B,!0),dY=bh.fo,jM=bh.Os.Q();
hA.Eb(dY,g,!1);if(g.Cntn&&g.Cntn.v){var bz=new gc;hA.Cx(bz,g,W,0);var hh=jM.Q();hh.offset(-bz.x,-bz.y);
hh=hh.m0(jM);var dM=t.j(hh.o());t.Rc(dY,jM,dM,hh);var iX=Math.sqrt(bz.x*bz.x+bz.y*bz.y),aW=dY.slice(0);
for(var $=0;$<iX-1;$++){var x=Math.round(-bz.x*$/iX),y=Math.round(-bz.y*$/iX),eC=bh.Os.Q();eC.offset(x,y);
t.adO(aW,eC,dM,hh)}dY=dM;jM=hh}jM.offset(j,Y);hA.Cx(jM,g,W,0);var cL=t.j(jM.o()*4);hA.zK(cL,g.Clr.v);
t.ix(dY,cL,3);e={hT:cL,rR:jM,abQ:g.layerConceals.v}}else if(d=="IrSh"){var bh=s.m8(B,S-B,!1);hA.Cx(bh.Os,g,W,0);
var jM=s.S().Q(),dY=t.j(jM.o());dY.fill(255);t.Rc(bh.fo,bh.Os,dY,jM);hA.Eb(dY,g,!0,!0);var cL=t.j(jM.o()*4);
hA.zK(cL,g.Clr.v);t.ix(dY,cL,3);jM.offset(j,Y);e={hT:cL,rR:jM}}else if(d=="GrFl"){var cL=t.j(s.S().o()*4);
hA.Yx(g,cL,s.S(),W,null,T);var jM=s.S().Q();jM.offset(j,Y);e={hT:cL,rR:jM}}else if(d=="SoFi"){var cL=t.j(s.fo().length*4);
hA.zK(cL,g.Clr.v);var jM=s.S().Q();jM.offset(j,Y);e={hT:cL,rR:jM}}else if(d=="ebbl"){var dh=!1;if(dh)console.log(g);
var F=Date.now(),ff=F,fE=g.bvlS.v.BESl,dX=g.bvlT.v.bvlT;if(fE=="strokeEmboss"){var i2=M.frameFXMulti.v;
if(i2.length==0)continue;i2=i2[0].v;if(!i2.enab.v)continue;var ew=i2.Styl.v.FStl;if(ew=="OutF")fE="OtrB";
if(ew=="CtrF")fE="Embs";if(ew=="InsF")fE="InrB"}var S=g.blur.v.val;if(S==0)S=.7;if(fE=="Embs"||fE=="PlEb")S/=2;
var hW=["OtrB","InrB","Embs","PlEb","strokeEmboss"],jt=["SfBL","PrBL","Slmt"],h3=["In","Out"],dl=dX!="SfBL"?S:S*.45,ba=Math.round(S),b_=s.S().Q(),f8=b_.Q();
f8.$K(ba,ba);var N=f8.r,L=f8.$,ak=N*L,jk=t.j(ak);t.Rc(s.fo(),b_,jk,f8);var i6=t.style.Pl(jk,N,L);t.vN(jk);
var k2=t.style.Pl(jk,N,L);if(dh)console.log("distTransform computed",Date.now()-F);F=Date.now();hA.aEu(dl,i6,k2);
if(dh)console.log("summing + cropping",Date.now()-F);F=Date.now();if(dX=="SfBL"){var gm=Math.pow(S*.21,1.22);
if(!0)gm=Math.max(gm,2);t.zp.zk(k2,f8,gm,2)}if(dh)console.log("blurring",Date.now()-F);F=Date.now();
var cu=k2,ek=i6;ek.set(cu);if(g.useShape.v){var i_=Math.min(100,g.Inpr.v.val+1)/100;if(fE!="OtrB"&&fE!="InrB")i_=1;
var iP=t.pq.qr(g.MpgS.v.Crv.v,2e3),cf=Math.round(2e3/i_);iP=t.pq.aa6(iP,cf,fE=="InrB");var id=.5/dl;
for(var $=0;$<ak;$++){var i1=cu[$],f0=.99999*(i1+dl)*id;cu[$]=-dl+2*dl*iP[~~(f0*(cf-1))]}if(dh)console.log("applying shape",Date.now()-F);
F=Date.now()}if(g.useTexture.v){var g_=t.j(N*L*4);hA.l7(g,g_,f8,W.add.Patt,X);var ej=t.j(N*L);t.i5(g_,ej);
t.zp.IV(ej,f8,1);var kk=S*g.textureDepth.v.val*(1/100)*(1/255);if(g.InvT.v)kk=-kk;for(var $=0;$<ak;$++)cu[$]+=-kk*ej[$];
if(dh)console.log("applying texture",Date.now()-F);F=Date.now()}var dZ=fE=="PlEb",cq=new Float32Array(ak),hI=cq;
if(dZ){hI=new Float32Array(ak)}var fb=hA.aoC(N,L,g,W,cu,cq,hI,dZ);if(dh)console.log("raycasting",Date.now()-F);
F=Date.now();if(g.Sftn.v.val!=0){t.zp.zk(cq,f8,g.Sftn.v.val*.43,2);if(dZ)t.zp.zk(hI,f8,g.Sftn.v.val*.43,2)}if(dh)console.log("softening",Date.now()-F);
F=Date.now();var d6=new Uint8Array(cq.buffer),kc=new Uint32Array(d6.buffer),jm=new Uint8Array(cu.buffer),f4=new Uint32Array(jm.buffer),ib=d6,ds=jm,i7=kc,hU=f4;
if(dZ){ib=new Uint8Array(hI.buffer);i7=new Uint32Array(ib.buffer);ds=new Uint8Array(ek.buffer);hU=new Uint32Array(ds.buffer)}hA.az0(g,N,L,fb,dl,dZ,ek,kc,f4,i7,hU,cq,hI);
if(dh)console.log("baking textures",Date.now()-F);F=Date.now();f8=s.S().Q();f8.$K(ba,ba);f8.offset(j,Y);
e={aHL:g.bvlS.v.BESl=="strokeEmboss"};var jy=ae.Wz(g.hglM.v.BlnM),fi=g.hglO.v.val/100,g$=ae.Wz(g.sdwM.v.BlnM),aS=g.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(fE)!=-1){e.xI={hT:d6,rR:f8,VC:jy,PC:fi};e.Fp={hT:jm,rR:f8,VC:g$,PC:aS}}if(["OtrB","Embs","PlEb"].indexOf(fE)!=-1){e.UY={hT:ib,rR:f8,VC:jy,PC:fi};
e.h5={hT:ds,rR:f8,VC:g$,PC:aS}}if(dh)console.log(Date.now()-ff)}else if(d=="patternFill"){var a9=s.S(),cL=t.j(a9.o()*4);
hA.l7(g,cL,a9,W.add.Patt,X);var jM=a9.Q();jM.offset(j,Y);e={hT:cL,rR:jM}}else if(d=="ChFX"){var cL=t.j(s.fo().length*4);
hA.zK(cL,g.Clr.v);var S=g.blur.v.val,j5=s.S().Q();j5.$K(S,S);var fD=t.j(j5.o());t.Rc(s.fo(),s.S(),fD,j5);
t.zp.zk(fD,j5,S*.43);var e2=t.pq.s$(g.MpgS.v.Crv.v,256,!0);t.aJb(fD,e2);var kZ=t.j(s.fo().length),a_=t.j(s.fo().length),g5=s.S().Q();
hA.Cx(g5,g,W,0);t.Rc(fD,j5,kZ,g5);g5=s.S().Q();hA.Cx(g5,g,W,Math.PI);t.Rc(fD,j5,a_,g5);var hG=kZ.length;
for(var $=0;$<hG;$++)cL[4*$+3]=Math.abs(kZ[$]-a_[$]);if(g.Invr.v)for(var $=0;$<hG;$++)cL[4*$+3]=255-cL[4*$+3];
var jM=s.S().Q();jM.offset(j,Y);e={hT:cL,rR:jM}}else if(d=="OrGl"){var bh;if(g.GlwT.v.BETE=="SfBL")bh=s.m8(B,S-B,!0);
else bh=s.a65(S,U,!0);var dY=bh.fo,jM=bh.Os,f7=dY.slice(0);hA.aBP(dY,g);var cL=t.j(jM.o()*4);if(g.Grad==null){hA.zK(cL,g.Clr.v);
hA.Eb(dY,g,!1)}else{hA.Eb(dY,g,null);var e$={s9:dY,r6:255,ew:0,Q8:jM};hA.Yx(g,cL,jM,W,e$);var j8=g.Nose.v.val/100,aB=jM.r;
for(var $=0;$<f7.length;$++){var a2=255,hS=f7[$];if(hS<32){var fH=(hS+f7[$-1]+f7[$+1]+f7[$-aB]+f7[$+aB])*.2-1;
a2=Math.min(255,Math.round(Math.max(0,fH)*8))}dY[$]=a2}hA.a2z(dY,g)}t.ix(dY,cL,3);jM.offset(j,Y);e={hT:cL,rR:jM}}else if(d=="IrGl"){var bh;
if(g.GlwT.v.BETE=="SfBL")bh=s.m8(B,S-B,!1);else bh=s.a65(S,U,!1);var dY=bh.fo,jM=bh.Os;hA.aBP(dY,g);
if(g.glwS.v.IGSr=="SrcC")t.vN(dY);var cL=t.j(jM.o()*4);if(g.Grad==null){hA.zK(cL,g.Clr.v);hA.Eb(dY,g,!0)}else{hA.Eb(dY,g,null);
var e$={s9:dY,r6:255,ew:0,Q8:jM};hA.Yx(g,cL,jM,W,e$);dY.fill(255);hA.a2z(dY,g)}t.ix(dY,cL,3);jM.offset(j,Y);
e={hT:cL,rR:jM}}else if(d=="FrFX"){var bZ=hA.fI(g),iM=bZ[0],hz=bZ[1],jM=s.S().Q(),d1=null,fx=null;jM.$K(Math.ceil(m),Math.ceil(m));
if(hz>0){var bh=s.m8(hz,0,!0);fx=bh.fo;if(fx.length<jM.o()){fx=t.j(jM.o());t.Rc(bh.fo,bh.Os,fx,jM)}}if(iM>0){var bh=s.m8(iM,0,!1);
d1=t.j(jM.o());d1.fill(255);t.Rc(bh.fo,bh.Os,d1,jM)}jM.offset(j,Y);var cL=t.j(jM.o()*4),jQ=g.PntT.v.FrFl;
if(jQ=="SClr")hA.zK(cL,g.Clr.v);if(jQ=="GrFl")hA.Yx(g,cL,jM,W,s.akn(iM,hz));if(jQ=="Ptrn")hA.l7(g,cL,jM,W.add.Patt,X);
var e9=g.overprint,eV=e9?e9.v:!1;if(eV){var gT=d1?d1:fx;if(d1&&fx)t.w3.Lg(d1,fx,gT);t.ix(gT,cL,3)}e={hT:cL,rR:jM,X0:fx,Uh:d1,asH:eV}}G.e[d].push(e);
if(d=="ebbl"){if(e.xI)G.all.push(e.xI,e.Fp);if(e.UY)G.all.push(e.UY,e.h5)}else{e.VC=ae.Wz(g.Md.v.BlnM);
e.PC=g.Opct.v.val/100,G.all.push(e)}}}return G};hA.FH=function(M){var X=1/Math.sqrt(M.x*M.x+M.y*M.y+M.t6*M.t6);
M.x*=X;M.y*=X;M.t6*=X};hA.aeO=function(M,X){return{x:M.y*X.t6-M.t6*X.y,y:M.t6*X.x-M.x*X.t6,t6:M.x*X.y-M.y*X.x}};
hA.a2N=function(M,X){return M.x*X.x+M.y*X.y+M.t6*X.t6};hA.a2z=function(M,X){var J=X.Nose.v.val/100;if(J>0)for(var $=0;
$<M.length;$++){var q=M[$];q=Math.min(510-(1+J)*t.style.HO($),q);M[$]=q}};hA.aEu=function(M,X,J){var q=X.length;
for(var $=0;$<q;$++){var W=J[$]-X[$];J[$]=W}for(var $=0;$<q;$++){var W=J[$];if(W<-M)J[$]=-M;else if(W>M)J[$]=M}};
hA.aoC=function(M,X,J,q,W,T,_,m){var d=hA.amD(J,q),A=d[0],p=d[1],a=Math.cos(A)*Math.cos(p),f=-Math.sin(A)*Math.cos(p),s=Math.sin(p);
T.fill(s);if(m)_.fill(s);var j=(J.bvlT.v.bvlT=="SfBL"?1:.5)*(J.bvlD.v.BESs=="In"?1:-1)*J.srgR.v.val/100,Y=-.125*j;
for(var G=0;G<X;G++){var Q=G==0?0:-M,Z=G==X-1?0:M,$=G*M;for(var g=0;g<M;g++,$++){var S=g==0?$:$-1,U=g==M-1?$:$+1,B=W[U]-W[S],e=W[$+Z]-W[$+Q];
if(B*B+e*e<.005)continue;var P=W[S+Q],h=W[U+Q],V=W[S+Z],I=W[U+Z],F=Y*(h+2*B+I-P-V),c=Y*(V+2*e+I-P-h),D=1/Math.sqrt(F*F+c*c+1);
F*=D;c*=D;T[$]=Math.max(0,F*a+c*f+D*s);if(m)_[$]=Math.max(0,-F*a-c*f+D*s)}}return s};hA.az0=function(M,X,J,q,W,T,_,m,d,A,p,a,f){var s=1/q,j=1/(1-q),Y=1/W,G=t.pq.qr(M.TrnS.v.Crv.v,1024),Q=hA.wy(M.hglC.v,0),Z=hA.wy(M.sdwC.v,0),g=new Float32Array(2500);
for(var $=0;$<2500;$++){var S=Math.max(0,Math.min(1,($-500)*.001));g[$]=Math.pow(S,.2)}var U=new Float32Array(1024),B=new Float32Array(1024);
for(var $=0;$<1024;$++){var e=G[$];U[$]=255*(1-Math.min(1,e*s));B[$]=255*(1-Math.min(1,(1-e)*j))}for(var P=0;
P<J;P++)for(var S=0;S<X;S++){var $=P*X+S,h=(_[$]+W*.993)*Y,V=g[~~(500+h*1e3)],I=~~(a[$]*1023),F=V*U[I],c=V*B[I];
d[$]=~~(.5+F)<<24|Z;m[$]=~~(.5+c)<<24|Q;if(T){I=~~(f[$]*1023);F=V*U[I];c=V*B[I];p[$]=~~(.5+F)<<24|Z;
A[$]=~~(.5+c)<<24|Q}}};hA.EK=function(M){var X=hA.ah(),J=M.NQ,q=!1;for(var $=0;$<32;$+=8)if(J[$]+J[$+1]+J[$+4]+J[$+5]!=0||J[$+2]+J[$+3]+J[$+6]+J[$+7]!=1020)q=!0;
if(q){J=J.slice(0);for(var $=0;$<40;$+=4){var W=J[$]/255,T=J[$+1]/255,_=J[$+2]/255,m=J[$+3]/255;J[$]=W-.001;
J[$+1]=W==T?1e6:1/(T-W);J[$+2]=_==m?-1e6:1/(_-m);J[$+3]=m+.001}}var d=M.add.iOpa!=null?M.add.iOpa/255:X.fill,A=M.add.vstk;
if(A&&!A.fillEnabled.v&&(!A.strokeEnabled.v||A.strokeStyleLineWidth.v.val==0))d=0;return{fill:d,yl:q?J:null,Oc:M.add.brst!=null?M.add.brst:X.Oc,adu:M.add.knko!=null?M.add.knko:X.adu,style:!1,SL:!1}};
hA.ah=function(){return{fill:1,yl:null,Oc:[1,1,1],adu:0,style:!1,SL:!1}};hA.a2U=function(M,X,J,q,W,T,_,m){if(m==null)m=1;
if(_==null)_=new kp;var d=M.c5[1].r,A=M.c5[1].$,p=new kp,a=W<2;if(a)p.translate(-d/2,-A/2);if(W==0){m*=Math.max(J/d,q/A)}else if(W==1){m*=Math.min(J/d,q/A)}else if(W==2){p.scale(1/d,1/A);
p.concat(_);p.scale(J,q)}else if(W==3){m=m}p.scale(m,m);if(a)p.translate(J/2,q/2);p.concat(T);X.Ptrn.v.Idnt.v=M.id;
X.Scl.v.val=Math.round(100*p.zQ());X.Angl.v.val=Math.round(180*Math.atan2(-p.g,p.Jm)/Math.PI);X.Algn.v=!0;
var f=X.phase.v;f.Hrzn.v=Math.round(p._f);f.Vrtc.v=Math.round(p.Ey)};hA.AK=function(M,X){if(X==null)return null;
var J=M.Idnt.v,q=M.Nm.v;for(var $=0;$<X.length;$++)if(X[$].id==J)return X[$];for(var $=0;$<X.length;
$++)if(X[$].name==q)return X[$];return null};hA.ad4=function(M,X,J){var q=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var $=0;$<q.length;$++){var W=M.v[q[$]].v;for(var T=0;T<W.length;T++)if(W[T].v.Ptrn)X.m_(hA.AK(W[T].v.Ptrn.v,J))}};
hA.a2n=function(M,X,J){var q=["patternFillMulti","ebblMulti","frameFXMulti"];for(var $=0;$<q.length;
$++){var W=M.v[q[$]].v;for(var T=0;T<W.length;T++)if(W[T].v.Ptrn){var _=W[T].v.Ptrn.v,m=hA.AK(_,J),d=hA.AK(_,X.add.Patt);
if(m==null&&d)J.push(d)}}};hA.l7=function(M,X,J,q,W){var T=hA.AK(M.Ptrn.v,q);if(T!=null&&!J.M5()){var _=T.c5,m=_[0],d=_[1],A=0;
t.uW(_);var p=(M.Scl?M.Scl.v.val:100)/100;while((p<.3||p==.5)&&_[A+2]){p*=d.r/_[A+3].r;A+=2;m=_[A];d=_[A+1]}var a=t.scale.l7(m,d.r,d.$),f=M.phase?M.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},s=M.Angl?M.Angl.v.val:0,j=-J.x+f.Hrzn.v-1,Y=-J.y+f.Vrtc.v-1;
if(M.Algn!=null&&!M.Algn.v){}else if(W){j+=W.x;Y+=W.y}if(X)t.scale.aBm(a,X,J.r,J.$,p,p,j+1,Y+1,s*Math.PI/180);
else return[a,p,j+1,Y+1,s*Math.PI/180]}};hA.Yx=function(M,X,J,q,W,T,_,m){if(T==null)T=J;var d=M.Type?M.Type.v.GrdT:"shapeburst",A=M.Algn&&M.Algn.v?T:new gc(0,0,q.r,q.$),p=M.Angl?t.NX.acA(M,A):[new es(0,0),new es(100,0)],a=p[0].x,f=p[0].y,s=p[1].x-a,j=p[1].y-f,Y=Math.sqrt(s*s+j*j);
Y=1/(2*Y*Y);var G=[s*Y,j*Y,-j*Y,s*Y],Q=M.Rvrs?M.Rvrs.v:!1,Z=M.Dthr?M.Dthr.v:!1;t.NX.Bt(M.Grad.v,X,J,G,a,f,Q,kf.NX.types.indexOf(d),_==null?0:_,m==null?0:m,W,Z)};
hA.aeq=function(M,X,J){for(var $=0;$<M.all.length;$++){var q=M.all[$];q.ay=q.rR.Q();q.ay.offset(X,J)}};
hA.a1Z=function(M,X,J,q,W,T){var _=aq.zw?hA.akC:hA.a5n;hA.aeq(X,J.x,J.y);var m=X.e.DrSh;for(var $=0;
$<m.length;$++)if(!m[$].abQ)_(m[$],q,W,T)};hA.apA=function(M,X,J,q,W,T,_,m,d,A){var p=J,a=aq.zw?hA.akC:hA.a5n,f=aq.zw?aq.v.yb:t.v.z2,s;
s=X.e.DrSh;for(var $=0;$<s.length;$++)if(s[$].abQ)a(s[$],q,W,T);s=X.e.St3D;for(var $=0;$<s.length;$++)a(s[$],q,W,T);
s=X.e.OrGl;for(var $=0;$<s.length;$++)a(s[$],q,W,T);var j="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
for(var Y=0;Y<j.length;Y++){var s=X.e[j[Y]];for(var $=0;$<s.length;$++)a(s[$],_,p,T)}var G=X.e.ebbl[0],Q=G!=null&&G.aHL;
s=X.e.FrFX;for(var $=0;$<s.length;$++){var Z=s[$];d3.sB.Rc(m,A,d,A,T);a(Z,d,A,T);if(Q&&$==s.length-1){if(G.h5)a(G.h5,d,A,T);
if(G.UY)a(G.UY,d,A,T);if(G.Fp)a(G.Fp,d,A,T);if(G.xI)a(G.xI,d,A,T)}if(Z.asH){if(Z.Uh||Z.PS){a(Z,_,p,T)}if(Z.X0||Z.rX){a(Z,q,W,T)}}else{if(Z.Uh||Z.PS)f(d,A,_,p,aq.zw?Z.PS:Z.Uh,Z.ay,0,T,1);
if(Z.X0||Z.rX)f(d,A,q,W,aq.zw?Z.rX:Z.X0,Z.ay,0,T,1)}}if(!Q&&G!=null){if(G.h5)a(G.h5,q,W,T);if(G.UY)a(G.UY,q,W,T);
if(G.Fp)a(G.Fp,_,p,T);if(G.xI)a(G.xI,_,p,T)}};hA.a5n=function(M,X,J,q){var W=hA.ah();W.fill=M.PC;W.style=!0;
t.v.r$(M.VC,M.hT,M.ay,X,J,q,1,W)};hA.akC=function(M,X,J,q){var W=hA.ah();W.fill=M.PC;W.style=!0;aq.v.auO(M.VC,M.AM,M.ay,X,J,q,1,W)};
hA.aBP=function(M,X){var J=1-X.Inpr.v.val/100,q=1+Math.tan(J*(Math.PI/2)),W=M.length;for(var $=0;$<W;
$++)M[$]=Math.min(255,Math.round(M[$]*q))};hA.Eb=function(M,X,J,q){var W=X.blur.v.val,T=Math.round(W*(X.Ckmt.v.val/100));
if(W>T){var _=t.pq.s$(X.TrnS.v.Crv.v,256,q!=!0);t.aJb(M,_)}if(J!=null&&X.Nose.v.val>0)t.style.YM(M,X.Nose.v.val/100,J)};
hA.wy=function(M,X,J){var q=t.NX.NH(M);if(J!=null){q.z=Math.round(q.z*J);q.L=Math.round(q.L*J);q.g=Math.round(q.g*J)}return X<<24|q.g<<16|q.L<<8|q.z};
hA.zK=function(M,X,J){var q=t.qP(M);if(q==8)new Uint32Array(M.buffer).fill(hA.wy(X,255,J));else{var W=t.NX.NH(X),T=(J==null?1:J)/255;
t.MY(M,W.z*T,W.L*T,W.g*T);t.Ya(M,1)}};hA.Cx=function(M,X,J,q,W){var T=X.uglg&&X.uglg.v?J.Z$():X[W?W:"lagl"].v.val;
T=T*Math.PI/180+q;var _=Math.cos(T)*X.Dstn.v.val,m=Math.sin(T)*X.Dstn.v.val;M.x-=Math.round(_);M.y+=Math.round(m)};
hA.amD=function(M,X){var J=M.uglg&&M.uglg.v?X.Z$():M.lagl.v.val;J=J*(Math.PI/180);var q=M.uglg&&M.uglg.v?X.Xy():M.Lald.v.val;
q=q*(Math.PI/180);return[J,q]};hA.a7P=function(M){if(M==null||!M.masterFXSwitch.v)return null;var X=M.frameFXMulti.v,J=null;
for(var $=0;$<X.length;$++)if(X[$].v.enab.v)J=X[$].v;if(J==null)return null;var q=kf.XZ.IH();hA.aHK(J,q);
return q};hA.aHK=function(M,X){var J=kf.stroke.Wg.indexOf(M.PntT.v.FrFl),q=[kf.dB,kf.iz,kf.T7][J],W=X.strokeStyleContent.v={classID:kf.XZ.PP[J]};
for(var $=0;$<q.length;$++)W[q[$]]=M[q[$]];X.strokeEnabled=M.enab;X.strokeStyleLineWidth=M.Sz;X.strokeStyleLineAlignment.v.strokeStyleLineAlignment=kf.XZ._z[kf.stroke.types.indexOf(M.Styl.v.FStl)];
X.strokeStyleOpacity=M.Opct;X.strokeStyleBlendMode=M.Md;X.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
hA.ts=function(M,X){var J=[];for(var $=0;$<M.length;$++)J.push({t:"UntF",v:{type:"#Nne",val:M[$]*X}});
return J};hA.atC=function(M,X){var J=M.G8/255*(M.add.iOpa?M.add.iOpa/255:1),q=M.add.TySh,W=M.nA()||M.eQ()&&M.add.vmsk&&M.add.vstk.fillEnabled.v&&M.add.vstk.strokeEnabled.v;
if(q){var T=q.Zj.EngineDict.StyleRun.RunArray,_=T[0].StyleSheet.StyleSheetData,m=0;if(_.FillFlag)m++;
if(_.StrokeFlag)m++;if(_._FillBackgroundFlag)m++;if(m>1)W=!0}return W&&(X||J!=1||M.Sw!="pass"&&M.Sw!="norm")};
hA.Th=function(M,X,J,q){this.ba=X.Q();this.acz=X.Q();this.acz.$K(J,J);if(q){this.ba.$K(1,1);this.xL=t.j(this.ba.o());
t.Rc(M,X,this.xL,this.ba)}else this.xL=M;this.o2=null;this.Gk=null;this.Hz=null};hA.Th.prototype.fo=function(){return this.xL};
hA.Th.prototype.S=function(){return this.ba};hA.Th.prototype.VA=function(){return this.acz};hA.Th.prototype.uI=function(){if(this.o2)return this.o2;
this.o2=this.fo().slice(0);t.vN(this.o2);return this.o2};hA.Th.prototype.Fl=function(){if(this.Gk)return this.Gk;
this.Gk=t.style.Pl(this.uI(),this.S().r,this.S().$);return this.Gk};hA.Th.prototype.rl=function(){if(this.Hz)return this.Hz;
var M=this.VA(),X=t.j(M.o());t.Rc(this.fo(),this.S(),X,M);var J=Date.now();this.Hz=t.style.Pl(X,M.r,M.$);
return this.Hz};hA.Th.prototype.akn=function(M,X){var J={r6:-X,ew:M,Q8:null,s9:null};if(X==0){J.Q8=this.S();
J.s9=this.Fl();return J}var q=this.rl().slice(0),W=this.VA();J.Q8=W;J.s9=q;for(var $=0;$<q.length;$++)q[$]=-q[$];
if(M==0)return J;var T=this.Fl(),_=this.S();for(var m=0;m<_.$;m++)for(var d=0;d<_.r;d++){var A=m*_.r+d,p=(m+_.y-W.y)*W.r+d+_.x-W.x;
q[p]+=T[A]}return J};hA.Th.prototype.m8=function(M,X,J){var q=Math.ceil(M+X),W={Os:this.S().Q(),fo:null};
W.Os.$K(q,q);W.fo=t.j(W.Os.o());if(M==0&&X==0)t.fc(J?this.fo():this.uI(),W.fo);else{var T=W.fo;t.Rc(this.fo(),this.S(),T,W.Os);
if(!J)t.vN(T);if(M!=0){if(J)t.style.jz(T,W.Os,this.rl(),this.VA(),M);else t.style.jz(T,W.Os,this.Fl(),this.S(),M)}if(X!=0)t.zp.zk(T,W.Os,Math.max(1,X*.43))}return W};
hA.Th.prototype.a65=function(M,X,J){var q=M*(X-.5),W={Os:this.S().Q(),fo:null};if(J)W.Os.$K(M,M);W.fo=t.j(W.Os.o());
var T=W.Os.r,_=W.Os.$,m=J?this.rl():this.Fl(),d=J?this.VA():this.S(),A=W.Os,p=A.Lg(d),T=p.r,_=p.$,a=p.x-A.x,f=p.y-A.y,s=p.x-d.x,j=p.y-d.y,Y=1-X*2;
for(var G=0;G<_;G++)for(var Q=0;Q<T;Q++){var Z=m[(G+j)*d.r+Q+s],g=Z/M;W.fo[(G+f)*A.r+Q+a]=Math.max(0,Math.min(255,255-255*((g+Y)/(1+Y))))}return W};
hA.adL=function(M,X,J,q){var W=M.Lefx,T=M.blendOptions;if(W){var _=X.add.lmfx;if(J==null)J=_?_.Scl.v.val:100;
X.add.lmfx=t.b(W.v);if(X.add.lmfx.Scl==null)X.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};hA.S4(X.add.lmfx,J/X.add.lmfx.Scl.v.val);
if(_)X.add.lmfx.Scl.v.val=_.Scl.v.val;var m=W.v.gagl;if(m&&q)q.Ci(m.v.val)}else delete X.add.lmfx;if(T){T=T.v;
if(T.Md)X.Sw=ae.Wz(T.Md.v.BlnM);if(T.Opct)X.G8=Math.round(T.Opct.v.val*255/100);if(T.fillOpacity)X.add.iOpa=Math.round(T.fillOpacity.v.val*255/100);
if(T.Blnd){var d=[];for(var $=0;$<10;$++)d.push(0,0,255,255);var A=T.Blnd.v,p="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var $=0;$<A.length;$++){var a=A[$].v,f=8*["Gry","Rd","Grn","Bl"].indexOf(a.Chnl.v[0].v.enum);for(var s=0;
s<8;s++){d[f+s]=a[p[s]].v}}X.NQ=d}}};hA.ab4=function(M){var X="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),J=[],q=M.NQ;
for(var $=0;$<4;$++){var W=$*8;if(q[W]+q[W+1]+q[W+4]+q[W+5]==0&&q[W+2]+q[W+3]+q[W+6]+q[W+7]==4*255)continue;
var T={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][$]}}]}}};
J.push(T);for(var _=0;_<8;_++)T.v[X[_]]={t:"long",v:q[$*8+_]}}var m={classID:"blendOptions"};if(M.Sw!="norm")m.Md={t:"enum",v:{BlnM:ae.fF(M.Sw)}};
if(M.G8!=255)m.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(M.G8*100/255)}};if(M.add.iOpa!=null)m.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(M.add.iOpa*100/255)}};
if(J.length!=0)m.Blnd={t:"VlLs",v:J};var d={W7:{classID:"null",Idnt:{t:"TEXT",v:dD.dG()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Default/Custom Style"}},$m:{classID:"Styl",blendOptions:{t:"Objc",v:m}}},A=M.add.lmfx;
if(A)d.$m.Lefx={t:"Objc",v:A};return d};function kW(){}kW.e$=function(M){var X=t.b(kW.aiG),J=X.Brsh.v;
if(M!=null){delete J.Hrdn;J.classID="sampledBrush";J.sampledData={t:"TEXT",v:M}}return X};kW.aiG={classID:"brushPreset",Nm:{t:"TEXT",v:"Default/My Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
kW.aeH=function(M,X){var J=["opVr","szVr"],q=["usePaintDynamics","useTipDynamics"];for(var $=0;$<2;$++){var W=J[$];
if(M[W]==null)M[W]=JSON.parse(kW.FH.LM[W]);M[W].v.bVTy.v=X[$]?2:0;if(X[$])M[q[$]].v=!0}kW.FH.alB(M)};
kW.FH={};kW.FH.check=function(M){var X=kW.FH.if;for(var $=0;$<X.length;$++)if(M[X[$]]==null)M[X[$]]=JSON.parse(kW.FH.LM[X[$]]);
var J=[];for(var $=0;$<X.length;$++)J.push(X[$]);var q=kW.FH.aI2;for(var $=0;$<q.length;$++){var W=q[$][0],T=q[$][1],_=!0;
for(var m=0;m<W.length;m++)_=_&&M[W[m]].v==!0;if(_)for(var m=0;m<T.length;m++){if(M[T[m]]==null)console.log("Missing conditional parameter "+T[m]);
else J.push(T[m])}}for(var d in M)if(J.indexOf(d)==-1&&d!="toolOptions")console.log("Extra parameter "+d);
M=M.Brsh.v;X=kW.FH.Ro.if;for(var $=0;$<X.length;$++)if(M[X[$]]==null)M[X[$]]=JSON.parse(kW.FH.Ro.LM[X[$]]);
J=[];for(var $=0;$<X.length;$++)if(M[X[$]])J.push(X[$]);else console.log("Missing default parameter "+X[$]);
q=kW.FH.Ro.a7F[M.classID];for(var $=0;$<q.length;$++)if(M[q[$]]==null&&q[$]!="dtipsGridSize"&&q[$]!="dtipsErodibleTipHeightMap"&&M.a73!=1)console.log("Missing conditional parameter "+q[$]);
else J.push(q[$]);for(var d in M)if(J.indexOf(d)==-1)console.log("Extra parameter "+d)};kW.FH.alB=function(M){var X=kW.FH.aI2;
for(var $=0;$<X.length;$++){var J=X[$][0],q=X[$][1],W=!0;for(var T=0;T<J.length;T++)W=W&&M[J[T]]&&M[J[T]].v==!0;
if(W){for(var T=0;T<q.length;T++)if(M[q[T]]==null){M[q[T]]=JSON.parse(kW.FH.LM[q[T]])}}else for(var T=0;
T<q.length;T++)if(M[q[T]]!=null){delete M[q[T]]}}};kW.FH.Ro={};kW.FH.Ro.if="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
kW.FH.Ro.LM={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};kW.FH.Ro.a7F={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
kW.FH.aI2=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
kW.FH.if="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
kW.FH.LM={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function aT(M,X){this.aeT=M;this.Ow=X==null?0:X;this.dir=0}aT.prototype.B6=function(M,X){var J=this.aeT,q=new es(M.x-J.x,M.y-J.y),W=new kp;
W.rotate(-this.Ow);q=W.y8(q);if(this.dir==0&&!J.w6(M))this.dir=Math.abs(q.x)<Math.abs(q.y)?1:2;if(X.M(hP.HG)){if(this.dir==1)q.x=0;
if(this.dir==2)q.y=0}W.vN();q=W.y8(q);var T=new es(J.x+q.x,J.y+q.y);return T};aT.prototype.aoJ=function(M){if(M.M(hP.HG))return this.dir;
return 0};var eE=function(){function M(){this.aCx={}}M.a9Y=function(X,J){var q=X.Q();q._f-=Math.floor(q._f);
q.Ey-=Math.floor(q.Ey);var W=new es(J,0),T=new es(0,J),_=q.y8(W),m=q.y8(T),d=new es(q._f,q.Ey);return[_,m,d]};
M.ay1=function(X,J){var q=es.Yq;return q(X[0],J[0])+q(X[1],J[1])+q(X[2],J[2]);return dsum};M.prototype.awE=function(X){var J=this.aCx,q=J[X];
if(q==null)q=J[X]={om:[],mf:0,o:0,aAC:0,aeL:0};q.mf=Date.now();while(Object.keys(J).length>3){var W="",T=Date.now();
for(var _ in J){var m=J[_].mf;if(m<T){T=m;W=_}}delete J[W]}return q};M.prototype.akb=function(X,J){var q=X.om,W,T=1e6;
for(var $=0;$<q.length;$++){var _=q[$],m=M.ay1(_.VU,J);if(m<T){W=_;T=m}}return W};M.prototype.a1v=function(X,J){var q=X.om;
q.push(J);X.o+=J.S.o();if(q.length>1e3||X.o>100*100*1600){q.sort(function(T,_){return _.mf-T.mf});while(q.length>500||X.o>100*100*800){var W=q.pop();
X.o-=W.S.o()}}};return M}();function eY(M,X,J,q,W,T,_,m,d){this.Kj=X;this.a5=J;this.Yt=T;this.FK=q;this.Er=null;
this.WS=null;this.gq=0;this.aoa=0;this.a0K=0;this.a7=0;this.LW=0;this.yi=d==null?Math.floor(Math.random()*16777215):d;
this.$C=d==null?Math.floor(Math.random()*16777215):d;this.kq=new gc;this.F$=new gc;this.B3=q.depth?q.depth:8;
if(m!=null){this.hT=m}else{var A=eY.aAV;if(A.length!=_.o()*4)A=t.j(_.o()*4,this.B3);else A.fill(0);this.hT=eY.aAV=A}this.S=_.Q();
this.WU=[];this.Kp=[];this.EE=null;this.pU=0;this.g=null;this.aoS="";this.ZV=null;this.XM=null;this.a5r(M,W)}eY.aAV=t.j(0);
eY.prototype.a5r=function(M,X){this.pU=X;this.g=M;this.aoS=JSON.stringify(M)+JSON.stringify(this.FK.XT);
this.ZV=eY.aG_(this.g,this.Kj,this.a5);this.ZV.c5[0]=t.cY(this.ZV.c5[0],this.B3);this.XM=t.j(this.ZV.c5[1].o()*4,this.B3);
t.ix(this.ZV.c5[0],this.XM,3)};eY.prototype.moveTo=function(M,X,J){J=this.aeM(J);this.gq=J;var q=new es(M,X),W=this.g.Brsh.v.Dmtr.v.val;
this.Er=q.Q();this.WS=q.Q();this.EE=q.Q();this.WU=[M,X];this.Kp=[J];if(this.FK.f3!=eY.g9){var T=this.g.angleDynamics,_=T?T.v.bVTy.v==6:!1;
this.FP(_?new gc:this.axb(q,this.ajW(J),J,new es(0,0)))}this.a7=q.Q()};eY.prototype.lineTo=function(M,X,J){J=this.aeM(J);
var q=this.WU,W=q.length,T=q[W-2],_=q[W-1];if(M==T&&X==_)return;var m=this.g.Brsh.v.Dmtr.v.val,d=Math.ceil(m)+1,A=new gc(Math.round(T),Math.round(_),0,0);
A.$K(d,d);var p=new gc(Math.round(M),Math.round(X),0,0);p.$K(d,d);this.WU.push(M,X);this.Kp.push(J);
W+=2;if(W>=6)this.FP(this.amF(W))};eY.prototype.aeM=function(M){if(M==null)M=1;M=Math.max(.05,Math.min(5,M));
if(isNaN(M)){alert("Pressure is not a number");throw"e"}return M};eY.prototype.FP=function(M){this.kq=M;
this.F$=this.F$.m0(M)};eY.prototype.finish=function(){var M=this.WU,X=M.length,J;if(X==4)J=this.Ar(M[X-2],M[X-1],this.Kp[(X>>1)-1],!0);
if(X>4)J=this.amF(X+2);if(J)this.FP(J)};eY.prototype.Hg=function(){return this.S.Q()};eY.prototype.t5=function(){return this.kq.Lg(this.S)};
eY.prototype.m1=function(){return this.F$.Lg(this.S)};eY.prototype.io=function(){return this.hT};eY.prototype.amF=function(M){var X=this.WU,J=this.Kp,q=X[M-6],W=X[M-5],T=X[M-4],_=X[M-3],m=J[(M>>1)-3],d=J[(M>>1)-2],A=new es(0,0),p=new es(0,0);
if(8<=M)A=eY.alk(X[M-8],X[M-7],q,W,T,_);if(M<=X.length)p=eY.alk(X[M-2],X[M-1],T,_,q,W);var a=q+A.x,f=W+A.y,s=T+p.x,j=_+p.y,Y=new gc,G=this.apO()?1:10;
for(var $=0;$<G;$++){var Q=($+1)/G,Z=1-Q,g=Z*Z*Z*q+3*Q*Z*Z*a+3*Q*Q*Z*s+Q*Q*Q*T,S=Z*Z*Z*W+3*Q*Z*Z*f+3*Q*Q*Z*j+Q*Q*Q*_,U=this.Ar(g,S,m+Q*(d-m));
Y=Y.m0(U)}return Y};eY.alk=function(M,X,J,q,W,T){var _=M-J,m=X-q,d=W-J,A=T-q,p=Math.sqrt(_*_+m*m),a=Math.sqrt(d*d+A*A),f=Math.acos((_*d+m*A)/(p*a))/Math.PI,s=.35,j=.1;
f=j+f*(s-j);var Y=W-M,G=T-X,Q=Math.sqrt(Y*Y+G*G),Z=f*a/Q;return new es(Y*Z,G*Z)};eY.prototype.Ar=function(M,X,J,q){var W=new gc,T=this.FK.aF_;
if(T==null)T=0;if(T==0||q){W=this.aIe(M,X,J);return W}var _=this.EE,m=M-_.x,d=X-_.y,A=Math.sqrt(m*m+d*d);
m/=A;d/=A;if(A>T){var p=_.x+m*(A-T),a=_.y+d*(A-T);W=this.aIe(p,a,J);this.EE.cn(p,a)}return W};eY.prototype.apO=function(){var M=this.g,X=M.Brsh.v.Dmtr.v.val;
return this.FK.XT&&X==1};eY.prototype.aIe=function(M,X,J){var q=new gc,W=new es(M,X),T=this.FK.f3,_=W.d7(this.WS);
_.normalize(1);var m=es.Yq(this.WS,W),d=-this.aoa,A=this.WS.Q();if(this.apO()){if(m>.99){var p=this.WS,a=t.iJ.a06(W,this.S,this.FK.D_);
for(var $=0;$<a.length;$++){var f=a[$],s=f.y8(p),j=f.y8(W);eY.a55(s,j,this.hT,this.S,this.Jd(this.g));
q=q.m0(t.G.Oi([s.x,s.y,j.x,j.y]))}d=m}else W=this.WS}else while(!0){var Y=this.gq+(J-this.gq)*(Math.max(0,d)/m),G=this.ajW(Y),Q=this.ayA()*(G+this.a0K)/2*this.ZV.adK;
if(T==eY.g9)Q=1;Q=Math.max(Q,.5);if(d+Q<m){d+=Q;this.LW+=Q;var Z=new es(this.WS.x+_.x*d,this.WS.y+_.y*d),S=1;
if(T==eY.g9){var j=A.Q();j.x+=_.x>0?1:-1;var g=A.Q();g.y+=_.y>0?1:-1;if(es.Yq(j,Z)<es.Yq(g,Z))Z=j;else Z=g;
d=es.Yq(Z,this.WS)}if(this.g.useScatter.v==!0){S=this.g.Cnt.v;var U=this.g.countDynamics.v.jitter.v.val/100,B=U*(-1+2*this.yU());
S+=Math.round(S*B)}for(var $=0;$<S;$++){var e=this.axb(Z,G,J,_);q=q.m0(e)}A=Z}else break}this.aoa=m-d;
this.WS=W;this.gq=J;return q};eY.prototype.ayA=function(){var M=this.g.Brsh.v,X=M.Spcn.v.val,J=Math.max(5,M.Rndn.v.val);
return J/100*(X/100)};eY.prototype.ajW=function(M){var X=this.g,J=X.Brsh.v.Dmtr.v.val;if(X.useTipDynamics.v){var q=J*(X.minimumDiameter.v.val/100);
J=q+(J-q)*(1-this.yU(this.$C)*(X.szVr.v.jitter.v.val/100));J*=eY.DF(X,"szVr",M,this.LW)}return J};eY.DF=function(M,X,J,q){var W=1,T=M[X].v,_=T.bVTy.v,m=T.fStp.v;
if(_==1)W*=Math.max(0,(m-q)/m);if(_==2)W*=J;return W};eY.prototype.axb=function(M,X,J,q){var W=this.FK.hi,Y=0;
W=Math.min(1,W);var T=this.g,_=this.g.Brsh.v,m=_.Dmtr.v.val,d=this.FK,A=d.f3,p=d.a9w,a=this.ZV.c5[1],f=new kp;
f.translate(-a.r/2,-a.$/2);f.scale(1/this.ZV.alx,1/this.ZV.alx);f.scale(X/m,X/m);f.scale(1,Math.max(5,_.Rndn.v.val)/100);
if(T.usePaintDynamics&&T.usePaintDynamics.v){var s=T.opVr.v.jitter.v.val/100,j=T.prVr.v.jitter.v.val/100;
W*=1-this.yU()*s;W*=1-this.yU()*j;W*=eY.DF(T,"opVr",J,this.LW)*eY.DF(T,"prVr",J,this.LW)}if(T.useTipDynamics.v){var G=T.angleDynamics.v,Q=T.minimumRoundness.v.val/100;
f.scale(1,Q+(1-Q)*Math.round(100-this.yU()*T.roundnessDynamics.v.jitter.v.val)/100);Y+=(-.5+this.yU())*4*Math.PI*(G.jitter.v.val/100);
Y+=eY.DF(T,"angleDynamics",J,this.LW)*2*Math.PI;if(G.bVTy.v==6)Y+=Math.atan2(-q.y,q.x)}Y+=_.Angl.v.val*(Math.PI/180);
f.rotate(Y);if(T.useScatter.v){var Z=(-1+2*this.yU())*T.scatterDynamics.v.jitter.v.val/100;f.translate(-Z*X*q.y,Z*X*q.x)}f.translate(M.x,M.y);
var g=this.atS(f,M,X),S=g.S.Q();if(A==null){var U=this.Jd(T);t.MY(g.qY,U.z,U.L,U.g);if(this.F$.M5()&&this.S.w6(g.S)&&W==1)this.hT=g.qY.slice(0);
else{var B=t.iJ.a06(M,this.S,d.D_);for(var $=0;$<B.length;$++){var e=B[$],P,h;if(e.Jm==1&&e.g==0&&e.br==0&e.Bi==1){P=g.qY;
h=g.S.Q();h.x+=e._f;h.y+=e.Ey}else{var V=f.Q();V.concat(e);var I=this.atS(V,e.y8(M),X);P=I.qY;h=I.S;
t.MY(P,U.z,U.L,U.g)}if(h.B8(this.S)){S=S.m0(h);if(this.B3==8)t.v.a7H(P,h,this.hT,this.S,h,W);else t.v.r$("norm",P,h,this.hT,this.S,h,W)}}}}if(A==eY.g9){var F=new es(g.S.x+g.S.r/2,g.S.y+g.S.$/2),c=Math.round(F.x-this.a7.x),D=Math.round(F.y-this.a7.y),n=g.S.Q();
n.offset(-c,-D);var k=n.Lg(this.S);k.offset(c,D);t.fA(this.hT,this.S,g.qY,n);if(this.B3==8)t.v.a2a(g.qY,g.S,this.hT,this.S,g.r1,g.S,W);
else t.v.z2(g.qY,g.S,this.hT,this.S,g.r1,g.S,0,k,W,!1)}if(A==eY.M0||A==eY.jP||A==eY.b6){var b=g.S.Lg(this.S),N;
if(b.w6(g.S))N=g.r1;else{N=t.j(b.o(),this.B3);t.Rc(g.r1,g.S,N,b)}var L=t.j(b.o()*4,this.B3);t.fA(this.hT,this.S,L,b);
if(A==eY.jP){var R=L.slice(0),i=t.BD.yA([-1,-1,-1,-1,25,-1,-1,-1,-1]);t.BD.Br(L,R,b.r,b.$,i);t.fc(R,L)}else if(A==eY.b6){var v=fV.IH("UnsM");
v.Amnt.v.val=15;v.Thsh.v=0;v.Rds.v.val=5;var R=t.j(L.length,this.B3);fV.U3("UnsM",{buffer:L,S:b},v,0,0,{buffer:R,S:b});
t.fc(R,L)}else{fV.nU(1,0,L,b)}if(this.B3==8)t.v.a2a(L,b,this.hT,this.S,N,b,W);else t.v.z2(L,b,this.hT,this.S,N,b,0,b,W,!1)}this.a0K=X;
this.a7=F;this.$C++;return S};eY.prototype.Jd=function(M){var X=eY.awd(this.pU);if(M.useColorDynamics&&M.useColorDynamics.v){var J=1-this.yU()*M.clVr.v.jitter.v.val/100,q=eY.awd(this.Yt);
X.z=J*X.z+(1-J)*q.z;X.L=J*X.L+(1-J)*q.L;X.g=J*X.g+(1-J)*q.g;var W=(-.5+this.yU())*M.H.v.val/100,T=(-1+2*this.yU())*M.Strt.v.val/100,_=(-1+2*this.yU())*M.Brgh.v.val/100,m=t.G7(X.z,X.L,X.g);
m.oz=(m.oz+W+1)%1;m.i$=m.i$+T;if(m.i$<0)m.i$=-m.i$;if(m.i$>1)m.i$=1-(m.i$-1);m.tz=m.tz+_;if(m.tz<0)m.tz=-m.tz;
if(m.tz>1)m.tz=1-(m.tz-1);X=t.HQ(m.oz,m.i$,m.tz)}return X};eY.prototype.FH=function(M){return Math.max(0,Math.min(1,M))};
eY.prototype.yU=function(M){if(M==null){M=this.yi++}return eY.hash(M)};eY.awd=function(M){return{z:(M>>16&255)/255,L:(M>>8&255)/255,g:(M>>0&255)/255}};
eY.hash=function(M){M=M^61^M>>16;M=M+(M<<3);M=M^M>>4;M=M*668265261;M=M^M>>15;return(M&16777215)/16777215};
eY.a6V=new eE;eY.prototype.atS=function(M,X,J){var q=this.FK.XT,W=Math.round(this.g.Brsh.v.Dmtr.v.val),T;
if(q&&W<=3){T={N:t.j(W*W,this.B3),S:new gc(Math.round(X.x-W/2),Math.round(X.y-W/2),W,W)};T.N.fill(255)}else if(M.Jm==1&&M.g==0&&M.br==0&&M.Bi==1){T={N:this.ZV.c5[0],S:this.ZV.c5[1].Q(),qY:this.XM};
T.S.x=Math.round(M._f);T.S.y=Math.round(M.Ey)}else{if(M.zQ()>1e-4)T=o.fx.Pm(this.ZV.c5,M)}if(T==null)T={N:t.j(0,this.B3),S:new gc};
var _={r1:T.N,S:T.S,qY:T.qY};if(_.qY==null||q){if(q)t.round(T.N);_.qY=t.j(T.S.o()*4,this.B3);t.ix(_.r1,_.qY,3)}return _};
eY.aG_=function(M,X,J){var q,W,T,_=M.Brsh.v.Dmtr.v.val,m=M.Brsh.v.classID;if(m=="computedBrush"){var d=M.Brsh.v.Hrdn.v.val/100;
W=_<100?1.4:1;T=1;q=t.aDt.ais(_,d,W)}if(m=="sampledBrush"){var A;for(var $=0;$<X.length;$++)if(X[$].id==M.Brsh.v.sampledData.v)A=X[$];
q=A.c5;var p=q[1];W=Math.max(p.r,p.$)/_;T=Math.min(p.r,p.$)/Math.max(p.r,p.$)}return{alx:W,adK:T,c5:q}};
eY.kX=null;eY.qt=null;eY.aw=function(M,X,J,q,W,T){var _=eY.kX,m=eY.qt;if(_==null){eY.kX=_=document.createElement("canvas");
eY.qt=m=_.getContext("2d")}if(T==null)T=q;if(_.width!=T||_.height!=W){_.width=T;_.height=W}else m.clearRect(0,0,T,W);
m.fillStyle="#000000";m.font=Math.floor(10*o.pv())+"px sans-serif";var d=M.Brsh.v.Dmtr.v.val,A=""+d,p=M.useBrushSize;
if(p&&p.v)A="---";var a=m.measureText(A);m.fillText(A,(q-a.width)/2,W-2);var f=q,s=W-10*o.pv(),j=Math.min(f,s),Y=M.Brsh.v.classID;
if(Y=="computedBrush"){m.translate(f/2,s/2);m.rotate(-M.Brsh.v.Angl.v.val*Math.PI/180);m.scale(1,.1+.9*M.Brsh.v.Rndn.v.val/100);
var G=Math.min(.95*j/2,d/2)+.5,Q=.9*M.Brsh.v.Hrdn.v.val/100,Z=m.createRadialGradient(0,0,0,0,0,G);Z.addColorStop(Q,"rgba(0,0,0,1)");
Z.addColorStop((.5+Q)/1.5,"rgba(0,0,0,.5)");Z.addColorStop(1,"rgba(0,0,0,0)");m.fillStyle=Z;m.fillRect(-G,-G,2*G,2*G);
m.setTransform(1,0,0,1,0,0)}else if(Y=="sampledBrush"){var g,P=0;for(var $=0;$<X.length;$++)if(X[$].id==M.Brsh.v.sampledData.v)g=X[$];
var S=g.c5;t.LH(S);var U=S[0],B=S[1].r,e=S[1].$;while((B>f||e>s)&&S[P+2]){P+=2;U=S[P];B=S[P+1].r;e=S[P+1].$}if(B*e!=0){var h=t.j(B*e*4);
t.ix(U,h,3);var V=new ImageData(new Uint8ClampedArray(h.buffer),B,e);m.putImageData(V,Math.round((f-B)/2),Math.round((s-e)/2))}}else{}return _.toDataURL()};
eY.iF=function(M,X,J,q){if(J==0)J=1;var W=M.Brsh.v,T=W.Dmtr.v.val,_=W.Angl.v.val,m=W.Dmtr.v.val=Math.min(q!=null?Math.round(q*2.6):3e3,T*J),d=W.Hrdn?W.Hrdn.v.val/100:1,A=q!=null?q:Math.round((_==0?1:1.42)*m*(1+.55*(1-d)))+4,f;
A=Math.max(25,Math.min(A,3e3));var p=new gc(0,0,A,A),a=new eY(M,X,null,{hi:1},16711712,0,p);W.Dmtr.v.val=T;
a.moveTo(p.r/2,p.$/2);var s=t.cY(a.io(),8),j=a.Hg();if(p.w6(j))f=s;else{f=t.j(p.o()*4);t.fA(s,j,f,p)}return[f,p,m]};
eY.alq=function(M,X,J,q){var W=X.r,T=W>>>1;for(var $=2;$<7;$++){M[W*(T-$)+T-1]=q;M[W*(T-$)+T]=J;M[W*(T-$)+T+1]=q;
M[W*(T+$)+T-1]=q;M[W*(T+$)+T]=J;M[W*(T+$)+T+1]=q;M[W*(T-1)+T-$]=q;M[W*T+T-$]=J;M[W*(T+1)+T-$]=q;M[W*(T-1)+T+$]=q;
M[W*T+T+$]=J;M[W*(T+1)+T+$]=q}q=J;if(o.pv()>=1.5)for(var $=5;$<11;$++){M[W*(T-$)+T-1]=q;M[W*(T-$)+T]=J;
M[W*(T-$)+T+1]=q;M[W*(T+$)+T-1]=q;M[W*(T+$)+T]=J;M[W*(T+$)+T+1]=q;M[W*(T-1)+T-$]=q;M[W*T+T-$]=J;M[W*(T+1)+T-$]=q;
M[W*(T-1)+T+$]=q;M[W*T+T+$]=J;M[W*(T+1)+T+$]=q}};eY.ll=function(M,X,J,q){var W=eY.iF(M,X,J),T=W[0].slice(0),_=W[1],m=W[2],d=_.o(),A=t.j(d);
t.SF(T,A,3);var p=t.j(d);t.c.alP(A,p,_,o.pv()>1.9);if(m<3||t.Nf(p,0)||q&&m>12){eY.alq(p,_,255,0)}var a=[3,5,3,4,8,4,3,5,3];
a=t.BD.yA(a);t.BD.yX(p,A,_.r,_.$,a);T.fill(255);t.ix(A,T,3);for(var $=0;$<d;$++)if(p[$]==255){T[$<<2]=T[($<<2)+1]=T[($<<2)+2]=0;
T[($<<2)+3]=255}return{J_:T,Os:_,UO:new es(_.r/2,_.$/2)}};eY.a55=function(M,X,J,q,W){var T=4278190080|Math.round(W.g*255)<<16|Math.round(W.L*255)<<8|Math.round(W.z*255)<<0;
J=new Uint32Array(J.buffer);var _=Math.floor(M.x),m=Math.floor(M.y),d=Math.floor(X.x),A=Math.floor(X.y),p=Math.abs(d-_),a=Math.abs(A-m),f=_<d?1:-1,s=m<A?1:-1,j=p-a;
while(!0){J[m*q.r+_]=T;if(_==d&&m==A)break;var Y=2*j;if(Y>-a){j-=a;_+=f}if(Y<p){j+=p;m+=s}}};eY.g9="0";
eY.M0="1";eY.jP="2";eY.b6="3";var i5={};i5.IS=function(M,X,J){if(J==null)J=!0;var q=M.add.TySh,W=q.Zj,T=new dV(W,X,q.PX);
M.ws.Bm=T.ml();var _=M.ws.path=i5.OY(T,q);if(gj!=0)return[_,T,null];var m=i5.bo(_,q.u,f5.Nu(q));if(J){M.S=m.Os;
var d=t.qP(M.buffer);M.buffer=t.cY(m.hT,d);M.vV()}return[_,T,m]};i5.bo=function(M,X,J){M={C6:M.C6,d:M.d.slice(0)};
t.G.u(M.d,X,M.d);var q=t.G.Oi(M.d),W=0;if(q.M5())return{hT:t.j(0),Os:new gc};for(var $=0;$<M.C6.length;
$++){var T=M.C6[$];if(T[0]=="O"&&T[1]=="-")W=Math.max(W,parseFloat(T.split("-")[2]))}W=Math.ceil(W*X.zQ()/2);
q.$K(W,W);var _=t.mt(q.r,q.$);_.translate(-q.x,-q.y);i5.ah9(M,_);var m=_.getImageData(0,0,q.r,q.$),d=new Uint8Array(m.data.buffer);
if(J==0)for(var $=0;$<d.length;$+=4)d[$+3]=d[$+3]>80?255:0;if(J==3)for(var $=0;$<d.length;$+=4)d[$+3]=Math.min(255,d[$+3]*1.5);
_.resetTransform();_.beginPath();return{hT:d,Os:q}};i5.OY=function(M,X,J){var q=X.u,W=X.Zj;i5.u1=q.zQ();
var T=f5.Nu(X),_=Math.max(q.g*q.g,q.br*q.br)<1e-9?q:null;if(T==3||T==4)_=null;var m={C6:[],d:[]};i5.aA5(M,m,_,!0);
i5.aA5(M,m,_,!1);m=i5.Ta(m,X,M,J);return m};i5.u1=1;i5.Ta=function(M,X,J,q){if(M==null)return M;if(J&&J.n8)t.G.u(M.d,J.n8,M.d);
if(J&&!t.Rl.tU(X.OG)){var W=f5.Hg(X,J);if(!W.M5()){if(M.C6){M=t.G.qG(M);var T=Math.min(W.r,W.$)/8;if(T<1)T=1;
M=t.G.yI(M,T)}var _=t.Rl.LK(X.OG,W);t.BF.u(_,M.d,W)}}var m=X.u;if(q)t.G.u(M.d,m,M.d);return M};i5.ah9=function(M,X){X.save();
X.miterLimit=2;Typr.U.pathToContext({crds:M.d,cmds:M.C6},X);X.restore()};i5.kH=function(M,X,J){var q=dV.ahq(J),W=M.Zj,T=W.ResourceDict.FontSet,_=W.ResourceDict.StyleSheetSet[0].StyleSheetData,m=W.EngineDict.StyleRun.RunLengthArray,d=W.EngineDict.StyleRun.RunArray,A=f5.UP(W),p=!0,a={},f=0;
for(var $=0;$<d.length;$++){var s=d[$].StyleSheet.StyleSheetData.Font;if(s==null)s=_.Font;for(var j=0;
j<m[$];j++){var Y=A.charCodeAt(f+j),G=s+","+(Y>128?Y:-1);if(a[G]==null){a[G]=1;if(X.z0(T[s].Name,Y)==null)p=!1}}f+=m[$]}return p&&q};
i5.bk=function(M,X,J){var q=!0;for(var W=0;W<M.U.length;W++){var T=M.U[W],_=T.add.TySh;if(_!=null&&!i5.kH(_,X,J))q=!1}return q};
i5.cW=function(M,X,J){for(var q=0;q<M.U.length;q++){var W=M.U[q],T=W.add.TySh;if(T!=null&&i5.kH(T,X,J)){i5.IS(W,X);
M.vV()}}};i5.aA5=function(M,X,J,q){var W=new kp;for(var $=0;$<M.Js.length;$++)i5.aHg(M.cN,M.Js[$],X,W,J,q)};
i5.aHg=function(M,X,J,q,W,T){q.translate(X.VX.x,X.VX.y);for(var $=0;$<X.hR.length;$++){var _={},m=X.hR[$];
if(!m.Bs)break;var d=q.Q();d.translate(m.VX.x,m.VX.y);if(W){var A=W.Ey+d.Ey*W.Bi;d.Ey=(Math.round(A)-W.Ey)/W.Bi}for(var p=m.start;
p<m.end;p++)i5.aIK(M,X.OF[p],X,_,J,d,T)}q.translate(-X.VX.x,-X.VX.y)};i5.aIK=function(M,X,J,q,W,T,_){T.translate(X.VX.x,X.VX.y);
for(var m=X.Mb;m<=X.h$;m++){var d=J.SG[m],A=d.Os.r,p=M[J.a1m+d.jU],a=p.eF._FillBackgroundFlag;if(p.vQ=="\n"||_&&!a)continue;
var f=p.eF.FontSize/p.GK.head.unitsPerEm,s=T.Q();s.translate(d.VX.x+d.dJ*f,d.VX.y-d.Fk*f);var j=new kp;
j.scale(f,-f);if(p.eF.FauxItalic)j.concat(new kp(1,0,-Math.tan(.18),1,0,0));j.translate(0,p.ne);j.scale(p.scale.x,p.scale.y);
if(p.eF.BaselineShift!=null)j.translate(0,-p.eF.BaselineShift);if(d.Ow!=0){j.rotate(-d.Ow)}j.concat(s);
var Y=(p.eF.OutlineWidth?p.eF.OutlineWidth:1)*i5.u1;if(_){W.C6.push(i5.Jd(p.eF._FillBackgroundColor));
var G=1.005*d.Os.$/f,Q=new gc(-d.dJ,-G*.27,1.03*d.Os.r/(f*p.scale.x),G);if(p.eF.StrokeFlag)Q.$K(Y/f,Y/f);
t.G.concat(W,t.G.mP(Q),j);W.C6.push("X");continue}if(p.eF.FillFlag)W.C6.push(i5.Jd(p.eF.FillColor));
if(p.eF.StrokeFlag){var Z=kf.so.a1k(p.eF);W.C6.push(i5.afT(Z))}if(d.path.C6.length!=0&&p.vQ!="\t"){if(p.eF.FauxBold){var g=p.eF.FontSize/2048*27*p.scale.x,S=Math.cos(d.Ow)*g,U=Math.sin(d.Ow)*g;
j._f+=S;j.Ey+=U;t.G.concat(W,d.path,j);j._f-=S+S;j.Ey-=U+U;t.G.concat(W,d.path,j)}else t.G.concat(W,d.path,j)}if(p.vQ!="\n"){var B=d.Os.r/f;
if(p.eF.Underline){if(q.Ih==null)q.Ih=p.GK.post.underlineThickness;if(q.at$==null)q.at$=p.GK.post.underlinePosition;
var e=0,P=q.at$-q.Ih/2,h=-q.Ih;t.G.concat(W,{C6:["M","L","L","L","Z"],d:[e,P,e+B,P,e+B,P+h,e,P+h]},j)}if(p.eF.Strikethrough){var V=p.GK["OS/2"].yStrikeoutSize,I=p.GK["OS/2"].yStrikeoutPosition,e=0,P=I+V/2,h=-V;
t.G.concat(W,{C6:["M","L","L","L","Z"],d:[e,P,e+B,P,e+B,P+h,e,P+h]},j)}}var F=p.eF.FillFlag,c=p.eF.FillFirst;
if(c==null)c=!0;if(F&&c)W.C6.push("X");if(p.eF.StrokeFlag)W.C6.push("OX");if(F&&!c)W.C6.push("X")}T.translate(-X.VX.x,-X.VX.y)};
i5.afT=function(M){var X=M.s0,J=["O","#"+t.NZ(t.hO({z:X[0],L:X[1],g:X[2]},1)),M.G2];J.push(M.o5,M.NT,M.tu,M.qS,M.hc.join(","));
return J.join("-")};i5.agk=function(M){var X=parseFloat,J=M.split("-"),q=t.vT(parseInt(J[1].slice(1),16)),W=J[8]=="1"?2:0;
return{s0:[q.z/255,q.L/255,q.g/255],G2:X(J[2]*(W==2?.5:1)),o5:X(J[3]),NT:X(J[4]),tu:X(J[5]),qS:X(J[6]),hc:J[7]==""?[]:J[7].split(",").map(X),JJ:W}};
i5.Jd=function(M){return"#"+t.NZ(t.hO(f5.NH(M)))};function dV(M,X,J){var q=f5.mj(M),W,T,_=f5.jA(M),m=M._LineOrientation==2?new kp:null,a,s;
if(M.Curve)T=dV.Cd(M.Curve);if(q!=0){W=new gc(_[0],_[1],_[2],_[3]);if(m){var d=W.r;W.r=W.$;W.$=d;m.translate(0,-_[2])}if(q==2){W.r=T[5]-T[4];
W.$=9999}}this.Js=[];this.cN=[];this.Dv=q;this.n8=m;var A=this.amg=f5.UP(M),p=-1,f=-1;for(var $=0;$<A.length;
$++){var j=a,Y=f5.aal(M,$);if(Y!=p){p=Y;j=a=f5.a09(M,Y)}var G=s,Y=f5.a11(M,$);if(Y!=f){f=Y;G=s=f5.aEz(M,Y)}var Q={vQ:A.charAt($),eF:j,GK:null,tQ:!1,XG:-1,ak:f5.avK(M,$),ne:0,scale:new es(0,0),Ck:0,lineHeight:0,k6:0},Z=M.ResourceDict.FontSet[j.Font].Name,g=Q.GK=X.z0(Z,A.charCodeAt($));
if(j.FontCaps==1)Q.tQ=g&&g.GSUB&&g.GSUB.smcp?!1:!0;Q.scale.x=j.HorizontalScale==null?1:j.HorizontalScale;
Q.scale.y=j.VerticalScale==null?1:j.VerticalScale;var S=g["OS/2"],U=g.hhea;if(Q.tQ&&Q.vQ!=Q.vQ.toUpperCase()){var B=S.sxHeight?S.sxHeight/S.sTypoAscender:.76;
Q.scale.x*=B;Q.scale.y*=B}var e=1/g.head.unitsPerEm*j.FontSize;if(j.FontBaseline==1){var B=M.ResourceDict.SuperscriptSize;
Q.scale.x*=B;Q.scale.y*=B;Q.ne-=M.ResourceDict.SuperscriptPosition*j.FontSize}if(j.FontBaseline==2){var B=M.ResourceDict.SubscriptSize;
Q.scale.x*=B;Q.scale.y*=B;Q.ne+=M.ResourceDict.SubscriptPosition*j.FontSize}Q.Ck=dV.Ck(g)*j.FontSize;
var P=G.AutoLeading;Q.lineHeight=j.FontSize*(P==null?1.2:P);if(j.AutoLeading==!1)Q.lineHeight=j.Leading;
if(Q.vQ=="\n"&&A[$-1]!="\n")Q.lineHeight=0;if(Q.lineHeight==0)Q.lineHeight=.01;this.cN.push(Q)}var h=this.Js,V=[0];
for(var $=0;$<M.EngineDict.ParagraphRun.RunLengthArray.length;$++){var I=new dV.RX(M,X,this.cN,$,W,V,q==1?T:null);
h.push(I)}if(m){if(q==0)m.translate(0,h[0].OF[0].Ck/2);m.rotate(-Math.PI/2)}if(q==2){var F=M.Curve.Points,c=T[0],D=T[1],n=T[2],k=T[3],b=T[4],N=T[5];
for(var $=0;$<h.length;$++)for(var L=0;L<h[$].hR.length;L++)if(!($==0&&L==0))h[$].hR[L].Bs=!1;var I=h[0],R=I.hR[0];
I.VX.cn(0,0);R.VX.cn(0,0);for(var L=R.start;L<R.end;L++){var i=I.OF[L],v=i.VX.x;i.VX.x=0;for(var E=i.Mb;
E<=i.h$;E++){var u=I.SG[E],C=u.Os.r/2;u.VX.x+=v;var l=dV.a4i(c,(b+u.VX.x+C)%k);u.VX.x=l[0]-C*l[2];u.VX.y=l[1]-C*l[3];
u.Ow=Math.atan2(l[3],l[2])}}}if(J){var x=J.VAlign.v;if(x!=0&&f5.mj(M)==1){var y=f5.jA(M)[3],ge=this.ml().$,O=0;
if(x==1)O=y-ge;if(x==2)O=(y-ge)/2;for(var $=0;$<this.Js.length;$++)this.Js[$].VX.y+=O}}}dV.Ck=function(M){var X=M._hhhh;
if(X==null){var J=Typr.U,q=J.codeToGlyph(M,104),W=t.G.Cs(Typr.U.glyphToPath(M,q).crds).$;X=M._hhhh=W*(1/M.head.unitsPerEm)}return X};
dV.prototype.aCU=function(){return!this.aE$(0)};dV.prototype.aIl=function(){return this.aE$(1)};dV.prototype.aE$=function(M){var X=this.Js,J=!0,q=0;
for(var $=0;$<X.length;$++){var W=X[$].hR,T=W.length;q+=T;for(var _=0;_<T;_++)J&=W[_].Bs}return[J,q][M]};
dV.Cd=function(M,X,J){if(X==null)X=.25;var q=M.Points,W=q.length,T=W>>>3,_=M.TextOnPathTRange,m=M.Reversed,f=0,s=0;
if(m){var d=q.slice(0);for(var $=0;$<W;$+=2){d[$]=q[W-2-$];d[$+1]=q[W-1-$]}q=d;_=[T-_[1]%T,T-_[0]%T]}var A=[],p=[0],a=[0];
for(var $=0;$<W;$+=8){var j=q[$+6]-q[$+0],Y=q[$+7]-q[$+1],G=Math.round(Math.sqrt(j*j+Y*Y)/X),Q=J&&$==W-8?G+1:G;
for(var Z=0;Z<Q;Z++){var g=Z/G,S=1-g,U=S*S*S*q[$+0]+3*S*S*g*q[$+2]+3*S*g*g*q[$+4]+g*g*g*q[$+6],B=S*S*S*q[$+1]+3*S*S*g*q[$+3]+3*S*g*g*q[$+5]+g*g*g*q[$+7];
A.push(U,B);if($+Z!=0){var j=U-f,Y=B-s;a.push(a[a.length-1]+Math.sqrt(j*j+Y*Y));p.push(($>>>3)+g)}f=U;
s=B}}var X=a.length,e=a[X-1],P=dV.Vh(_[0]%T,p),h=dV.Vh(_[1]%T,p),V=a[P%X],I=a[h%X];if(V>=I)I+=e;return[A,p,a,e,V,I]};
dV.Vh=function(M,X){var $=0;while(X[$]<M)$++;return $};dV.a4i=function(M,X){var J=0,$=0,q,W,T;while(J<X){q=M[$+2]-M[$];
W=M[$+3]-M[$+1];T=Math.sqrt(q*q+W*W);J+=T;$+=2}return[M[$],M[$+1],q/T,W/T]};dV.prototype.auZ=function(M){return this.cN[M]};
dV.prototype.a2I=function(M){for(var X=0;X<this.Js.length;X++){var J=this.Js[X];for(var q=0;q<J.hR.length;
q++){var W=J.hR[q],T=J.OF[W.start].start,_=J.OF[W.end-1].end;if(T<M&&M<_)return[T,_-1]}}return[0,1]};
dV.prototype.agW=function(M,X){var J=-1,q=this.Js;if(this.Dv==2){var W=1e9,T=0,_=q[0],m=_.hR[0];for(var d=m.start;
d<m.end;d++){var A=_.OF[d];for(var p=A.Mb;p<=A.h$;p++){var a=_.SG[p],f=a.Os.r,s=M.x-a.VX.x,j=M.y-a.VX.y,Y=s*s+j*j;
if(Y<W){W=Y;T=a.jU}}}if(T!=0&&this.amg.codePointAt(T-1)>65535)T--;return T}for(var G=0;G<q.length;G++){var _=q[G];
for(var Q=0;Q<_.hR.length;Q++){J++;var m=_.hR[Q],Z=_.hR[Q+1];if(Z==null&&G<q.length-1)Z=q[G+1].hR[0];
if(X!=null){if(J!=X)continue}else{if(Z!=null&&_.VX.y+m.VX.y<M.y)continue}for(var d=m.start;d<m.end;d++){var A=_.OF[d];
for(var p=A.Mb;p<=A.h$;p++){var a=_.SG[p],f=a.Os.r,g=_.VX.x+m.VX.x+A.VX.x,S=g+a.VX.x,U=g+(p<A.h$?_.SG[p+1].VX.x:a.VX.x+f);
if(M.x<=U||d+1==m.end&&p==A.h$){var B=_.a1m+a.jU,e=this.cN[B],P=e.k6&1;if(e.vQ!="\n"&&(P==0&&M.x>S+f/2||P==1&&M.x<S+f/2))B+=this.amg.codePointAt(B)>65535?2:1;
return B}}}}}};dV.prototype.fS=function(M){var X={Os:new gc,Sn:0},J=0;for(var q=0;q<this.Js.length;q++){var W=this.Js[q];
for(var T=0;T<W.hR.length;T++){var _=W.hR[T];X.Sn=J;J++;for(var m=_.start;m<_.end;m++){var d=W.OF[m];
for(var A=d.start;A<d.end;A++){if(A==M){var p=this.cN[A],a=p.XG,f=W.SG[a].jU,s=1;while(W.SG[a]!=null&&W.SG[a].jU==f){var j=W.SG[a],Y=W.VX.x+_.VX.x+d.VX.x+j.VX.x,G=W.VX.y+_.VX.y+d.VX.y+j.VX.y;
X.Os=X.Os.m0(new gc(Y,G-p.lineHeight,j.Os.r,p.lineHeight));X.Ow=j.Ow;a+=s}return X}}}}}};dV.prototype.ml=function(){var M=Infinity,X=Infinity,J=-Infinity,q=-Infinity;
for(var $=0;$<this.Js.length;$++){var W=this.Js[$];for(var T=0;T<W.hR.length;T++){var _=W.hR[T];if(!_.Bs)break;
for(var m=_.start;m<_.end;m++){var d=W.OF[m];for(var A=d.Mb;A<=d.h$;A++){var p=W.SG[A],a=p.Os,f=W.VX.x+_.VX.x+d.VX.x+p.VX.x,s=W.VX.y+_.VX.y+d.VX.y+p.VX.y;
M=Math.min(M,f+a.x);X=Math.min(X,s+a.y);J=Math.max(J,f+a.x+a.r);q=Math.max(q,s+a.y+a.$)}}}}return new gc(M,X,J-M,q-X)};
dV.G9=function(M){return 19968<=M&&M<=40959||12288<=M&&M<=12543};dV._9=function(M,X,J,q,W,T,_){var m=[T],d=0;
for(var $=T;$<_;$++){if(J[$]==null)console.log($,T,_,J);var A=J[$].vQ,p=A.charCodeAt(0);if(p==32||p==9){m.push(d,$,1,$+1);
d=0}else if(p==3851){m.push(d+1,$+1);d=0}else if(dV.G9(p)){m.push(d,$);d=1}else if($!=T&&J[$].k6!=J[$-1].k6){m.push(d,$);
d=1}else d++}m.push(d);var a=[];for(var $=0;$<m.length;$+=2){var f=m[$],s=m[$+1];if(s==0)continue;a.push(new dV.a6E(M,X,J,q,W,f,s))}return a};
dV.aGZ=function(M,X,J,q,W,T,_){var m=[0,X?X.r:1e9],d=[];if(q){var A=M[T].Ck,p=W+(W==0?A:M[T].lineHeight),a=p-A*.9,f=t.G.a7Q(q[0],a),s=f.length,j=t.G.a7Q(q[0],p),Y=j.length;
if(s!=0&&Y!=0){var G=0,Q=0,Z=[];while(G<s&&Q<Y){var g=Math.max(f[G],j[Q]),S=f[G+1],U=j[Q+1],B=Math.min(S,U);
if(g<B)Z.push(g,B);if(S<U)G+=2;else Q+=2}if(Z.length!=0)m=Z}}for(var e=0;e<m.length;e+=2){var P=0,h=T,V=X?m[e+1]-m[e]-J.StartIndent-J.EndIndent-(T==0?J.FirstLineIndent:0):Infinity;
while(T!=M.length){var I=M[T],F=P==0||(I.b0||I.Vs)||P+I.Os.r<V;if(!F)break;P+=I.Os.r;T++}d.push(T-h)}_[0]=d;
_[1]=m;_[2]=T};dV.aFU=function(M,X){var J=M.length,q=new Uint32Array(J),W=new Uint8Array(J),T=0;for(var $=0;
$<J;$++){W[$]=0;var _=M.charCodeAt($);q[$]=_;if(_>T)T=_}if(T>1424)W=dV.ay5(q,X);return W};dV.ax6=function(M){return M=="ß"?M:M.toUpperCase()};
dV.RX=function(M,X,J,q,W,T,_){this.OF=[];this.hR=[];this.VX=new es(0,0);this.SG=null;this.OF=null;this.eF=f5.aEz(M,q);
var m=this.eF,a=0,j="",U=0,B=1,kz=0;if(q!=0){var d=m.SpaceBefore;if(d!=null)T[0]+=d}var A=M.EngineDict.ParagraphRun.RunLengthArray,p=A[q];
for(var $=0;$<q;$++)a+=A[$];var f=m._Direction?m._Direction:0;this.a1m=a;var s=f5.UP(M).slice(a,a+p);
for(var Y=0;Y<s.length;Y++){var G=J[a+Y],Q=G.eF.FontCaps,Z=s.charAt(Y);if(Q==0)j+=Z;if(Q==1)j+=G.tQ?dV.ax6(Z):Z;
if(Q==2)j+=dV.ax6(Z)}s=j;var g=dV.aFU(s,f),S=[],e=g[0]&1,P=J[a].GK;J[a].k6=g[0];for(var $=1;$<s.length;
$++){var Z=J[a+$],h=g[$];Z.k6=h;if(h!=e||Z.GK!=P){S.push(U,B);U=$;B=1;e=h;P=Z.GK}else B++}S.push(U,B);
var V=this.SG=[];for(var $=0;$<S.length;$+=2){var I=S[$],F=S[$+1],c=(J[a+I].k6&1)==0,D=s.slice(I,I+F),n=[];
for(var Y=0;Y<F;Y++){var b=J[a+I+Y].eF,N=[];n.push(N);for(var L=0;L<8;L++)N.push(b[f5.QI[L]]?1:0);N.push(b.FontCaps==1?1:0)}n=dV.aav(n);
var R=Typr.U.shapeHB(J[a+I].GK,D,c,n),i=[];for(var Y=0;Y<R.length;Y++){var v=R[Y];i.push({L:v.g,jU:v.cl,VY:v.ax,VV:v.ay,dJ:v.dx,Fk:v.dy})}R=i;
for(var Y=0;Y<D.length;Y++){var E=0,u=-1;for(var C=0;C<R.length;C++){var B=R[C].jU;if(B<=Y&&B>u){u=B;
E=C}}J[a+I+Y].XG=V.length+E}for(var Y=0;Y<R.length;Y++){V.push(R[Y]);R[Y].jU+=I;var Z=J[a+R[Y].jU];if(Z.ak!=-1&&Z.ak<Z.GK.maxp.numGlyphs){R[Y].L=Z.ak;
var l=Z.GK.hmtx;if(l){var x=Object.keys(l)[0];R[Y].VY=l[x][Z.ak]}}if(Z.vQ=="\n")R[Y].VY=0;if(Z.vQ=="\t")R[Y].VY=Z.GK.head.unitsPerEm*36/Z.eF.FontSize}}var y=f5.DO(m),ge=this.OF=dV._9(M,X,J,a,V,a,a+p),O=this.hR,z=-1,j=[null,null,0];
while(kz<ge.length){dV.aGZ(ge,W,m,_,T[0],kz,j);z++;var eZ={start:kz,end:0,Os:new gc,VX:new es(0,0),Bs:!0},hx=0,au=0;
O.push(eZ);eZ.end=j[2];if(eZ.start==eZ.end)throw"e";var kM=eZ.end==ge.length;function cL(b3,I,fs){var ch=fs-I>>>1;
for(var $=0;$<ch;$++){var hv=b3[I+$];b3[I+$]=b3[fs-1-$];b3[fs-1-$]=hv}}for(var aw=1;aw<5;aw++){var h2=-1;
for(var $=eZ.start;$<eZ.end;$++){var h=J[ge[$].start].k6;if(h2==-1&&h>=aw)h2=$;else if(h2!=-1&&h<aw){cL(ge,h2,$);
h2=-1}}var ea=eZ.end;if(f==0&&ge[ea-1].b0)ea--;if(h2!=-1)cL(ge,h2,ea)}var ht=j[0],jn=j[1],h2=kz,gE=kz;
for(var bS=0;bS<jn.length;bS+=2){var bi=W?jn[bS+1]-jn[bS]-m.StartIndent-m.EndIndent-(kz==0?m.FirstLineIndent:0):Infinity,cj=0;
h2=gE;gE+=ht[bS>>>1];var bb=this.anw(h2,gE,ge,f,W!=null);if(W){if(y==1||kM&&y==4)cj=bb[1]+(bi-bb[0]);
if(y==2||kM&&y==5)cj=bb[1]+(bi-bb[0])/2;if(gE-h2==1&&ge[h2].Os.r>bi)cj=0;if(z==0)cj+=m.FirstLineIndent;
cj+=m.StartIndent}else{if(y==0)cj=m.StartIndent+m.FirstLineIndent;if(y==1)cj=-bb[0]-m.EndIndent;if(y==2)cj=-bb[0]/2}cj+=jn[bS];
if(W&&y>2&&(y==6||!kM))this.aEU(h2,gE,ge,bi,f,cj);else{var c0=cj;for(var $=h2;$<gE;$++){var cV=ge[$],g_=cV.Os.r;
cV.VX.x=c0;if(cV.rJ=="\t")g_=Math.ceil((c0+4)/36)*36-c0;c0+=g_}}}kz=eZ.end;for(var $=eZ.start;$<eZ.end;
$++){var kP=ge[$].Os.Q();kP.apm(ge[$].VX);eZ.Os=eZ.Os.m0(kP);hx=Math.max(hx,ge[$].Ck);au=Math.max(au,ge[$].lineHeight)}eZ.VX.y=z==0?0:O[z-1].VX.y+au;
if(z==0){if(q==0&&W)T[0]+=hx;if(q!=0)T[0]+=au;this.VX.y=T[0]}else T[0]+=au;if(W)eZ.Bs=this.VX.y+eZ.VX.y<W.y+W.$||q==0&&z==0}var iK=m.SpaceAfter;
if(iK!=null)T[0]+=iK};dV.RX.prototype.anw=function(M,X,J,q,W){var T=0,_=0;for(var $=M;$<X;$++)T+=J[$].Os.r;
if(W){if(q==0)for(var $=X-1;$>=M;$--)if(J[$].b0||J[$].Vs)T-=J[$].Os.r;else break;if(q==1)for(var $=M;
$<X;$++)if(J[$].b0||J[$].Vs){var m=J[$].Os.r;T-=m;_-=m}else break}return[T,_]};dV.RX.prototype.aEU=function(M,X,J,q,W,T){var _=0,m=0,d=0,A=0;
for(var $=M;$<X;$++)if(J[$].b0)d++;else{_+=J[$].Os.r;m++}if(W==0)for(var $=X-1;$>=M;$--)if(J[$].b0||J[$].Vs){if(J[$].b0){d--}}else break;
if(W==1)for(var $=M;$<X;$++)if(J[$].b0||J[$].Vs){if(J[$].b0){d--;A++}}else break;if(m<=1||d==0){if(m==1)J[M].VX.x=T;
return}var p=(q-_)/d,a=-A*p;for(var $=M;$<X;$++){if(J[$].b0)this.SG[J[$].Mb].Os.r=J[$].Os.r=p;J[$].VX.x=T+a;
a+=J[$].Os.r}};dV.a6E=function(M,X,J,q,W,T,_){this.rJ="";for(var $=0;$<_;$++)this.rJ+=J[T+$].vQ;this.b0=_==1&&(J[T].vQ==" "||J[T].vQ=="\t");
this.Vs=_==1&&J[T].vQ=="\n";this.start=T;this.end=T+_;this.Os=new gc;this.VX=new es(0,0);this.Ck=0;this.lineHeight=0;
var m=0,d=0;if(_==0){this.lineHeight=J[T].lineHeight;this.Ck=J[T].Ck;this.Os=new gc(0,-J[T].lineHeight,0,J[T].lineHeight)}var A=J[T].XG,p=J[T+_-1].XG;
if(p<A){var a=A;A=p;p=a}while(p+1<W.length&&W[p].jU==W[p+1].jU){p++}this.Mb=A;this.h$=p;for(var f=A;
f<=p;f++){var s=W[f],j=J[q+s.jU],Y=M._LineOrientation==2&&(j.eF.BaselineDirection!=2||dV.G9(j.vQ.charCodeAt(0))),G=Typr.U.glyphToPath(j.GK,s.L),U=0;
s.path={C6:G.cmds,d:G.crds};var Q=j.eF.FontSize,Z=1/j.GK.head.unitsPerEm*Q;if(!j.eF.AutoKerning)m+=j.eF.Kerning*2*Z*j.scale.x;
s.VX=new es(m,0);s.Ow=0;if(Y&&s.path.d.length>0){s.Ow=-Math.PI/2;s.VX.x+=Q*.83;s.VX.y=-Q*.3+s.VY*Z/2;
s.VY=Q/Z}var g=s.VY*Z*j.scale.x;s.Os=new gc(0,-j.lineHeight,g,j.lineHeight);var S=s.Os.Q();S.apm(s.VX);
if(j.eF.Tracking!=null)U=j.eF.Tracking*.001*Q;if(j.eF.FauxBold==!0)U+=.027*Q;m+=g+U;if(f<W.length-2)s.Os.r+=U;
if(_==1&&j.vQ==" "){S.r+=2*U;s.VX.x+=U}else if(_==1&&j.vQ!=null&&dV.G9(j.vQ.charCodeAt(0)))S.r+=U;this.Os=this.Os.m0(S);
this.Ck=Math.max(this.Ck,j.Ck);this.lineHeight=Math.max(this.lineHeight,j.lineHeight)}};dV.fm=0;dV.ahq=function(M){if(dV.fm==2)return!0;
if(dV.fm==1)return!1;dV.fm=1;function X(){fetch(hO.$u("code/ext/fribidi.wasm")).then(function(J){return J.arrayBuffer()}).then(function(J){return WebAssembly.instantiate(J)}).then(function(J){var q=J.instance.exports,W=q.memory,T=16,_=256,m=1,d=T|_,A=T|_|m;
dV.ay5=function(a,f){var s=a.length,j=s*4+4+s*4+s*4+s;h1.ia(q,j+s+1e7);var Y=new Uint8Array(W.buffer),G=new Uint32Array(W.buffer),Q=q.calloc(j,1),Z=Q+s*4,g=Z+4,S=g+s*4,U=S+s*4;
G.set(a,Q>>>2);G[Z>>>2]=f==0?d:A;q.fribidi_get_bidi_types(Q,s,g);q.fribidi_get_bracket_types(Q,s,g,S);
q.fribidi_get_par_embedding_levels_ex(g,S,s,Z,U);var B=Y.slice(U,U+s);q.free(Q);return B};dV.fm=2;var p=new jb(r.E.C,!0);
p.data={h:r.m.OA,jo:"add",iw:bN.Ua,jH:null};if(M)M.a(p)})}Typr.U.initHB(hO.$u("code/ext/hb.wasm"),X);
return!1};dV.aav=function(M){var X=[],J=M.length,q=f5.ap7;for(var W=0;W<9;W++){var T=q[W],m=null;if(T==null)continue;
var _=-1;for(var $=0;$<J;$++){var d=M[$][W];if(d!=_){if(m)m[3]=$;m=[T,d,$,$+1];X.push(m);_=d}}m[3]=J}return X};
function f5(){}f5.pd=function(M,X){for(var J in X)M[J]=X[J]};f5.QI="_Ligatures _ContextualLigatures _DiscretionaryLigatures _Swash _StylisticAlternates _Titling _Ordinals _Fractions".split(" ");
f5.Qz=[18,20,19,25,28,26,24,23];f5.aCL="Standard Ligatures,Contextual Ligatures,Discretionary Ligatures,Swash,Stylistic Alternates,Titling Alternates,Ordinals,Fractions".split(",");
f5.ap7="liga calt dlig swsh salt titl ordn frac smcp".split(" ");f5.c7=function(M,X,J,q){var W=f5.ah6();
if(J)f5.oW(W,0,0,J);var T=new kp;if(q!=null)T.rotate(q);T.translate(Math.round(M),Math.round(X));var _={u:T,Zj:W};
_.PX=f5.aaG();_.OG=t.Rl.j();_.hd=new gc;return _};f5.ail=function(M){var X=["CharacterDirection",0];
for(var $=0;$<X.length;$+=2){if(M[X[$]]!=null&&M[X[$]]!=X[$+1]){throw"e";console.log(X[$],M[X[$]])}}if(M instanceof Array)for(var $=0;
$<M.length;$++)f5.ail(M[$]);else if(M instanceof Object)for(var J in M)f5.ail(M[J])};f5.DO=function(M,X){if(X==null)X=M.Justification;
var J=M._Direction?M._Direction:0;if(J==1){if(X==0||X==3)X++;else if(X==1||X==4)X--}return X};f5.xV=function(M){if(M.add==null)return;
var X=M.Zj,J=X.Curve,q=M.add.vmsk,W=q.X,T=t.G.BM(W,2).d,_=M.u.Q();_.vN();t.G.u(T,_,T);var m=T.slice(0,8);
for(var d=8;d<T.length;d+=6)m.push(T[d-2],T[d-1],T[d],T[d+1],T[d+2],T[d+3],T[d+4],T[d+5]);J.Points=m;
J.TextOnPathTRange=q.mO.slice(0);J.Reversed=q.pj;if(f5.mj(X)==1){var J=dV.Cd(X.Curve),A=t.G.Cs(J[0]);
f5.Tf(X,[0,0,A.r,A.$].map(Math.round));for(var $=0;$<m.length;$+=2){m[$]-=A.x;m[$+1]-=A.y}var p=new kp(1,0,0,1,A.x,A.y);
p.concat(M.u);M.u=p}};f5.GT=function(M){if(M.add==null)return;var X=M.add.vmsk,J=M.Zj.Curve,q=J.Points,W={C6:["M"],d:[q[0],q[1]]};
for(var $=0;$<q.length;$+=8){W.C6.push("C");W.d.push(q[$+2],q[$+3],q[$+4],q[$+5],q[$+6],q[$+7])}t.G.u(W.d,M.u,W.d);
var T=t.G.n$(W,!0);X.X=T;X.pj=J.Reversed;X.mO=J.TextOnPathTRange.slice(0);M.add.vogk=K.hg(T)};f5.NH=function(M){var X={z:0,L:0,g:0};
if(M){var J=M.Values;if(M.Type==1)X={z:J[1]*255,L:J[2]*255,g:J[3]*255};else if(M.Type==2){var q={classID:"CMYC",Cyn:{t:"doub",v:J[1]*100},Mgnt:{t:"doub",v:J[2]*100},Ylw:{t:"doub",v:J[3]*100},Blck:{t:"doub",v:J[4]*100}};
X=t.NX.NH(q)}else console.log("Unknown color type")}return X};f5.a6S=function(M){for(var $=0;$<M.length;
$++){var X=M[$].StyleSheet.StyleSheetData,J=X.FillColor;if(J&&J.Type==2){var q=f5.NH(J);J.Type=1;J.Values=[1,q.z/255,q.L/255,q.g/255]}}};
f5.Hg=function(M,X){var J;if(f5.mj(M.Zj)==1){var q=f5.jA(M.Zj);J=new gc(0,0,q[2]-q[0],q[3]-q[1])}else{J=X.ml();
if(X.n8){var W=X.n8.Q(),T=t.G.mP(J);t.G.u(T.d,W,T.d);J=t.G.Cs(T.d)}}return J};f5.uM=function(M){var X=M[0];
for(var $=0;$<M.length;$++)X=f5.azd(X,M[$]);return X};f5.azd=function(M,X){var J={};for(var q in M)if(JSON.stringify(M[q])==JSON.stringify(X[q]))J[q]=M[q];
return J};f5.fa=function(M,X){var J=M.Hd,q=-1;for(var $=0;$<J.length;$++)if(J[$].Name==X)q=$;if(q==-1){q=J.length;
J.push({FontType:1,Name:X,Script:0,Synthetic:0})}M.cN.Font=q};f5.UP=function(M){return M.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
f5.cd=function(M,X){M.EngineDict.Editor.Text=X.replace(/\n/g,"\r")};f5.mj=function(M){return M.Curve&&M.Curve.TextOnPathTRange[0]>=0?2:M.EngineDict.Rendered.Shapes.Children[0].ShapeType};
f5.Wu=function(M,X){var J=M.EngineDict.Rendered.Shapes.Children[0];J.ShapeType=X;var q=J.Cookie.Photoshop;
q.ShapeType=X;q.Base.ShapeType=X;if(X==0){delete q.BoxBounds;q.PointBase=[0,0]}if(X==1){delete q.PointBase;
q.BoxBounds=[0,0,1,1]}};f5.jA=function(M){return M.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
f5.Tf=function(M,X){M.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=X};f5.avK=function(M,X){var J=M.EngineDict.AlternateGlyphRun;
if(J==null)return-1;var q=f5.Ud(J.RunLengthArray,X).pz;if(J.RunArray[q]==null)return-1;var W=J.RunArray[q].Glyph;
return W==null?-1:W};f5.aah=function(M,X,J){var q=M.EngineDict.AlternateGlyphRun;if(q==null){q=M.EngineDict.AlternateGlyphRun=f5.aFC();
q.RunArray.push({});q.RunLengthArray.push(f5.UP(M).length)}var W=f5.Ud(q.RunLengthArray,X),T=W.pz,_=X-W.Ll,m=q.RunArray[T],d=JSON.stringify(m),A=q.RunLengthArray[T];
if(_!=0){q.RunArray.splice(T,0,JSON.parse(d));q.RunLengthArray.splice(T,0,_);q.RunLengthArray[T+1]-=_;
T++;A-=_;_=0}if(A!=1){q.RunArray.splice(T+1,0,JSON.parse(d));q.RunLengthArray.splice(T+1,0,A-1);q.RunLengthArray[T]=1;
A=1}m.Glyph=J};f5.aal=function(M,X){var J=M.EngineDict.StyleRun.RunLengthArray;return f5.Ud(J,X).pz};
f5.a09=function(M,X){var J=M.ResourceDict.StyleSheetSet[0].StyleSheetData,q={};for(var W in J)q[W]=J[W];
var T=M.EngineDict.StyleRun.RunArray[X].StyleSheet.StyleSheetData;f5.pd(q,T);return q};f5.a11=function(M,X){var J=M.EngineDict.ParagraphRun.RunLengthArray;
return f5.Ud(J,X).pz};f5.aEz=function(M,X){var J=M.ResourceDict.ParagraphSheetSet[0].Properties,q={};
for(var W in J)q[W]=J[W];var T=M.EngineDict.ParagraphRun.RunArray[X].ParagraphSheet.Properties;f5.pd(q,T);
var _=["StartIndent","EndIndent","FirstLineIndent"];for(var $=0;$<3;$++)if(q[_[$]]==null)q[_[$]]=0;return q};
f5.p7=function(M,X,J){if(J=="")return;var q=f5.UP(M);f5.cd(M,q.substring(0,X)+J+q.substring(X,q.length));
var W=M.EngineDict.StyleRun,T=W.RunLengthArray,_=f5.Ud(T,X-1);T[_.pz]+=J.length;var m=M.EngineDict.AlternateGlyphRun;
if(m){var T=m.RunLengthArray,_=f5.Ud(T,X-1);T[_.pz]+=J.length}var d=M.EngineDict.ParagraphRun,T=d.RunLengthArray,A=f5.Ud(T,X),p=J.split("\n");
if(p.length==1){T[A.pz]+=J.length;return}T.splice(A.pz+1,0,T[A.pz]-(X-A.Ll));d.RunArray.splice(A.pz+1,0,t.b(d.RunArray[A.pz]));
T[A.pz]-=T[A.pz+1];T[A.pz]+=p[0].length+1;for(var $=1;$<p.length-1;$++){d.RunArray.splice(A.pz+$,0,t.b(d.RunArray[A.pz+$-1]));
d.RunLengthArray.splice(A.pz+$,0,p[$].length+1)}T[A.pz+p.length-1]+=p[p.length-1].length};f5.FZ=function(M,X,J){var q=f5.UP(M);
f5.cd(M,q.substring(0,X)+q.substring(J,q.length));f5.UG(M.EngineDict.ParagraphRun,X,J,!0);f5.UG(M.EngineDict.StyleRun,X,J,!1);
var W=M.EngineDict.AlternateGlyphRun;if(W)f5.UG(W,X,J,!1)};f5.UG=function(M,X,J,q){var W=M.RunLengthArray,T=f5.Ud(W,X),_=f5.Ud(W,J),m=[];
for(var $=0;$<W.length;$++)for(var d=0;d<W[$];d++)m.push($);m.splice(X,J-X);var A=[];for(var $=0;$<W.length;
$++)A.push(0);for(var $=0;$<m.length;$++)A[m[$]]++;for(var $=0;$<W.length;$++){if(A[$]==0){A.splice($,1);
W.splice($,1);M.RunArray.splice($,1);$--}else if(A[$]<W[$])W[$]=A[$]}if(q&&T.pz!=_.pz&&T.Ll!=X){W[T.pz]+=W[T.pz+1];
W.splice(T.pz+1,1);M.RunArray.splice(T.pz+1,1)}};f5.oW=function(M,X,J,q){var W=M.EngineDict.Editor.Text.length;
if(J==W-2)J++;if(q.cN.Font!=null)M.ResourceDict.FontSet=q.Hd.slice(0);if(X<=J)f5.a2X(M.EngineDict.StyleRun,q.cN,X,J,!0);
f5.a2X(M.EngineDict.ParagraphRun,q.Js,X,J,!1)};f5.TC=function(M,X,J){var q={Hd:M.ResourceDict.FontSet.slice(0),cN:[],Js:[]},W=M.EngineDict.StyleRun.RunLengthArray,T=f5.Ud(W,X).pz,_=f5.Ud(W,J).pz;
for(var $=T;$<=_;$++){var m=t.b(M.ResourceDict.StyleSheetSet[0].StyleSheetData),d=M.EngineDict.StyleRun.RunArray;
if(d.length==0)continue;var A=d[$].StyleSheet.StyleSheetData;f5.pd(m,A);q.cN.push(m)}var p=M.EngineDict.ParagraphRun.RunLengthArray,a=f5.Ud(p,X).pz,f=f5.Ud(p,J).pz;
for(var $=a;$<=f;$++){var s=M.EngineDict.ParagraphRun.RunArray;if(s.length==0)continue;q.Js.push(t.b(s[$].ParagraphSheet.Properties))}q.cN=q.cN.length==0?{}:f5.uM(q.cN);
q.Js=q.Js.length==0?{}:f5.uM(q.Js);return q};f5.a2X=function(M,X,J,q,W){var T=M.RunLengthArray;if(W){var _=f5.Ud(T,J);
if(_.Ll!=J){var m=T[_.pz];T.splice(_.pz,0,J-_.Ll);T[_.pz+1]=m-T[_.pz];M.RunArray.splice(_.pz+1,0,t.b(M.RunArray[_.pz]))}var d=f5.Ud(T,q);
if(d.Ll+T[d.pz]-1!=q){var m=T[d.pz];T.splice(d.pz,0,q-d.Ll+1);T[d.pz+1]=m-T[d.pz];M.RunArray.splice(d.pz+1,0,t.b(M.RunArray[d.pz]))}}var _=f5.Ud(T,J),d=f5.Ud(T,q);
if(W)for(var $=_.pz;$<=d.pz;$++)f5.pd(M.RunArray[$].StyleSheet.StyleSheetData,X);else for(var $=_.pz;
$<=d.pz;$++)f5.pd(M.RunArray[$].ParagraphSheet.Properties,X)};f5.abh=function(M,X,J){var q=M.EngineDict.StyleRun.RunLengthArray,W=[],T=0;
for(var $=0;$<q.length;$++){var _=q[$];for(var m=0;m<_;m++)if(X<=T+m&&T+m<J)W.push($);T+=_}var d=W[0],A=[];
for(var $=0;$<W.length;$++){var p=W[$]-d;if(p==A.length)A.push(0);A[p]++}return A};f5.a72=function(M){var X=M.EngineDict.StyleRun,J=X.RunArray,q=X.RunLengthArray;
for(var $=0;$<q.length-1;$++){var W=J[$].StyleSheet.StyleSheetData,T=J[$+1].StyleSheet.StyleSheetData;
if(JSON.stringify(W)==JSON.stringify(T)){J.splice($+1,1);q[$]+=q[$+1];q.splice($+1,1);$--}}};f5.Nu=function(M){var X=M.PX.AntA.v.Annt;
X=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(X);if(X==-1)X=1;return X};f5.ka=function(M,X){M.PX.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][X]};
f5.jp=function(M,X){var J,q;J=["FontSize","Leading","BaselineShift","OutlineWidth"];q=M.cN;for(var $=0;
$<J.length;$++)if(q[J[$]]!=null)q[J[$]]*=X;J=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
q=M.Js;for(var $=0;$<J.length;$++)if(q[J[$]]!=null)q[J[$]]*=X};f5.aqV=function(){return f5.TC(t.b(f5.a2Y),0,0)};
f5.aaG=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0},VAlign:{t:"long",v:0}}};
f5.Ud=function(M,X){var J=0,$=0;while(J+M[$]<=X){J+=M[$];$++}return{pz:$,Ll:J}};f5.ah6=function(){var M=t.b(this.a2Y);
return M};f5.anL=function(M,X){var J=X.Js};f5.a9r=function(M,X){var J=X.cN,q;q=M.Undl;if(q&&q.v.Undl=="underlineOnLeftInVertical")J.Underline=!0;
q=M.syntheticItalic;if(q)J.FauxItalic=q.v};f5.ayo={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
f5.av5={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundFlag:!1,_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
f5.aFC=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};f5.a2Y={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:t.b(f5.ayo)},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01ー\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:t.b(f5.ayo)}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:t.b(f5.av5)}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var he={};he.a83=function(M){var X=he.aD$(M._0,M._1);he.a9Q(X,M._0);return X};he.a1b=function(M,X,J){var q={};
q._98={_0:"i7"};q._0=he.aaW(M,X,J?J._0:null);q._1=he.a3h(M,X,q._0,J?J._1:null);return q};he.aaW=function(M,X,J){var q={};
q._1=he.arm(M,J?J._1:null);q._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};q._3=t.b(he.aJk);q._4=t.b(he.aIi);
q._5=he.aGC(M,q._1._0,J?J._5:null);q._6=he.aG9(M,J?J._6:null);q._8=he.ahd(M,X,J?J._8:null);q._9=he.a2T;
return q};he.a9Q=function(M,X){he.a5P(M,X._5,X._1._0)};he.arm=function(M,X){var J=[],q=[];for(var $=0;
$<M.length;$++){var W=M[$].ResourceDict.FontSet;for(var T=0;T<W.length;T++){var _=W[T];if(q.indexOf(_.Name)!=-1)continue;
J.push(_);q.push(_.Name)}}var m={_0:[]};for(var $=0;$<J.length;$++){var d=J[$],A={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+d.Name,_1:"i"+d.Script,_2:"i"+d.FontType}}};
if(d.Script==0)delete A._0._0._1;m._0.push(A)}return m};he.aGC=function(M,X,J){var q={_0:[],_1:[]},W={_0:t.b(he.ayi)};
he.a1P(W._0,M[0].ResourceDict.StyleSheetSet[0],X,M[0].ResourceDict.FontSet);q._0.push(W);q._1.push({_0:"i0"});
q._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});q._1.push({_0:"i1"});return q};he.a5P=function(M,X,J){var q=X._0[0];
for(var $=0;$<M.length;$++)he.agr(q._0,M[$].ResourceDict.StyleSheetSet[0],J,M[$].ResourceDict.FontSet)};
he.aG9=function(M,X){var J={_0:[],_1:[]},q={_0:t.b(he.f0)};he.Yr(q._0,M[0].ResourceDict.ParagraphSheetSet[0]);
J._0.push(q);J._1.push({_0:"i0"});q={_0:t.b(he.f0)};he.Yr(q._0,M[0].ResourceDict.ParagraphSheetSet[0]);
q._0._0="sBasic Paragraph";q._0._6="i0";J._0.push(q);J._1.push({_0:"i1"});return J};he.ahd=function(M,X,J){var q={_0:[]};
for(var $=0;$<M.length;$++){var W=M[$].Curve,T={};q._0.push({_0:T});var _=f5.mj(M[$]);T._1={};T._2={};
T._2._0="i"+_;if(M[$]._LineOrientation==2)T._2._1="i2";if(_==0){delete T._1;T._2._6=["f-1","f-1"];T._2._11={_4:"i-1",_7:!1}}else if(_==1&&W==null){var m=f5.jA(M[$]),d=m[2],A=m[3];
T._1._0=he.BV("f",[0,0,0,0,d,0,d,0,d,0,d,0,d,A,d,A,d,A,d,A,0,A,0,A,0,A,0,A,0,0,0,0]);T._2._6=["f-2","f-2"];
T._2._11={_4:"i-2",_7:!1}}else if(_==1){var m=f5.jA(M[$]),d=m[2],A=m[3];T._1._0=he.BV("f",W.Points);
T._2._6=["f-3","f-3"];T._2._11={_4:"i-3",_7:!1}}else if(_==2){T._1._0=he.BV("f",W.Points);T._2._6=he.BV("f",W.TextOnPathTRange);
T._2._11={_0:W.Reversed,_3:"i0",_5:"f0",_7:!1}}}return q};he.a3h=function(M,X,J,q){var W={};W._0=t.b(he.axv);
W._1=he.aEl(M,X,J,q?q._1:null);W._2=t.b(he.ayi._6);W._3=t.b(he.f0._5);return W};he.aD$=function(M,X){return he.aF6(M,X._1)};
he.aEl=function(M,X,J,q){var W=[],T=J._1._0;for(var $=0;$<M.length;$++){var _=M[$],m={_0:{}};W.push(m);
m._0._0="s"+_.EngineDict.Editor.Text;m._0._0=m._0._0;var d=m._0._5={_0:[]},A=_.EngineDict.ParagraphRun;
for(var p=0;p<A.RunArray.length;p++){var a={_0:{}};d._0.push(a);a._0._0={_0:"s",_5:{},_6:"i1"};he.Yr(a._0._0,A.RunArray[p].ParagraphSheet);
a._1="i"+A.RunLengthArray[p]}var f=m._0._6={_0:[]};A=_.EngineDict.StyleRun;for(var p=0;p<A.RunArray.length;
p++){var s={_0:{}};f._0.push(s);s._0._0={_0:"s",_5:"i1",_6:{}};he.a1P(s._0._0,A.RunArray[p].StyleSheet,T,_.ResourceDict.FontSet);
s._1="i"+A.RunLengthArray[p]}A=_.EngineDict.AlternateGlyphRun;if(A){var j=m._0._9={_0:[]};for(var p=0;
p<A.RunArray.length;p++){var Y={_0:{}};j._0.push(Y);var G=A.RunArray[p];if(G.Glyph!=null){Y._0._0={_0:"i"+G.Glyph,_1:"e"}}Y._1="i"+A.RunLengthArray[p]}}m._0._10={_0:"i4",_2:!0};
m._1=he.view.aoe(_,null,$,null)}return W};he.aF6=function(M,X){var J=[],q=M._1._0;if(X)for(var $=0;$<X.length;
$++){var W=f5.ah6();J.push(W);var T=X[$];W.EngineDict.Editor.Text=T._0._0.slice(1);var _=W.EngineDict.ParagraphRun.RunArray[0],m=W.EngineDict.ParagraphRun,d=T._0._5;
if(d)for(var A=0;A<d._0.length;A++){var p=d._0[A];m.RunLengthArray[A]=parseInt(p._1.slice(1));m.RunArray[A]=t.b(_);
he.amm(p._0._0,m.RunArray[A].ParagraphSheet)}else{m.RunLengthArray[0]=f5.UP(W).length}var a=T._0._6;
m=W.EngineDict.StyleRun;if(a)for(var A=0;A<a._0.length;A++){var f=a._0[A];m.RunLengthArray[A]=parseInt(f._1.slice(1));
m.RunArray[A]={StyleSheet:{StyleSheetData:{}}};he.agr(f._0._0,m.RunArray[A].StyleSheet,q,W.ResourceDict.FontSet)}else{m.RunLengthArray[0]=f5.UP(W).length;
m.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return J};he.a1P=function(M,X,J,q,W){M._0="s"+(X.Name?X.Name:"");
var T=M._6,_=W?W._6:null,m=X.StyleSheetData;if(m.Font!=null){var d=q[m.Font].Name,A=-1;for(var $=0;$<J.length;
$++)if("s"+d==J[$]._0._0._0){A=$;break}T._0="i"+A}if(m.FontSize!=null)T._1="f"+m.FontSize;if(m.FauxBold!=null)T._2=m.FauxBold;
if(m.FauxItalic!=null)T._3=m.FauxItalic;if(m.AutoLeading!=null)T._4=m.AutoLeading;if(m.Leading!=null)T._5="f"+m.Leading;
if(m.HorizontalScale!=null)T._6="f"+m.HorizontalScale;if(m.VerticalScale!=null)T._7="f"+m.VerticalScale;
if(m.Tracking!=null)T._8="i"+m.Tracking;if(m.BaselineShift!=null)T._9="f"+m.BaselineShift;if(m.AutoKerning!=null)T._11="i"+(m.AutoKerning?1:0);
if(m.FontCaps!=null)T._12="i"+m.FontCaps;if(m.FontBaseline!=null)T._13="i"+m.FontBaseline;if(m.Strikethrough!=null)T._15="i"+(m.Strikethrough?1:0);
if(m.Underline!=null)T._16="i"+(m.Underline?2:0);if(m.Ligatures!=null)T._18=m.Ligatures;if(m.DLigatures!=null)T._19=m.DLigatures;
if(m.BaselineDirection!=null)T._35="i"+m.BaselineDirection;if(m.Language!=null)T._38="i"+m.Language;
if(m.FillColor!=null)T._53=he.Jd(m.FillColor);if(m.StrokeColor!=null)T._54=he.Jd(m.StrokeColor);if(m.FillFlag!=null)T._56=m.FillFlag;
if(m.StrokeFlag!=null)T._57=m.StrokeFlag;if(m.FillFirst!=null)T._58=m.FillFirst;if(m.OutlineWidth!=null)T._63="f"+m.OutlineWidth;
if(m._FillBackgroundColor!=null)T._79=he.Jd(m._FillBackgroundColor);if(m._FillBackgroundFlag!=null)T._80=m._FillBackgroundFlag;
if(m._LineCap!=null)T._61="i"+m._LineCap;if(m._LineJoin!=null)T._62="i"+m._LineJoin;if(m._MiterLimit!=null)T._64="f"+m._MiterLimit;
if(m._LineDashOffset!=null)T._65="f"+m._LineDashOffset;if(m._LineDashArray!=null)T._66=he.BV("f",m._LineDashArray);
for(var $=0;$<8;$++)if(m[f5.QI[$]]!=null)T["_"+f5.Qz[$]]=m[f5.QI[$]]};he.Jd=function(M){return{_99:"/SimplePaint",_0:{_0:"i1",_1:he.BV("f",M.Values)}}};
he.agr=function(M,X,J,q){var W=M._6;if(W==null)return;var T=X.StyleSheetData;if(W._0){var _=parseInt(W._0.slice(1)),m=J[_]._0._0._0.slice(1);
f5.fa({cN:T,Hd:q},m)}if(W._1!=null)T.FontSize=parseFloat(W._1.slice(1));if(W._2!=null)T.FauxBold=W._2;
if(W._3!=null)T.FauxItalic=W._3;if(W._4!=null)T.AutoLeading=W._4;if(W._5!=null)T.Leading=parseFloat(W._5.slice(1));
if(W._6!=null)T.HorizontalScale=parseFloat(W._6.slice(1));if(W._7!=null)T.VerticalScale=parseFloat(W._7.slice(1));
if(W._8!=null)T.Tracking=parseFloat(W._8.slice(1));if(W._9!=null)T.BaselineShift=parseFloat(W._9.slice(1));
if(W._11!=null)T.AutoKerning=parseFloat(W._11.slice(1))==1;if(W._12!=null)T.FontCaps=parseFloat(W._12.slice(1));
if(W._13!=null)T.FontBaseline=parseFloat(W._13.slice(1));if(W._15!=null)T.Strikethrough=parseFloat(W._15.slice(1))==1;
if(W._16!=null)T.Underline=parseFloat(W._16.slice(1))==1;if(W._18!=null)T.Ligatures=W._18;if(W._19!=null)T.DLigatures=W._19;
if(W._35!=null)T.BaselineDirection=parseFloat(W._35.slice(1));if(W._38!=null)T.Language=parseFloat(W._38.slice(1));
if(W._53!=null)T.FillColor=he.Zm(W._53);if(W._54!=null)T.StrokeColor=he.Zm(W._54);if(W._56!=null)T.FillFlag=W._56;
if(W._57!=null)T.StrokeFlag=W._57;if(W._63!=null)T.OutlineWidth=parseFloat(W._63.slice(1));if(W._79!=null)T._FillBackgroundColor=he.Zm(W._79);
if(W._80!=null)T._FillBackgroundFlag=W._80;if(W._61!=null)T._LineCap=parseFloat(W._61.slice(1));if(W._62!=null)T._LineJoin=parseFloat(W._62.slice(1));
if(W._64!=null)T._MiterLimit=parseFloat(W._64.slice(1));if(W._65!=null)T._LineDashOffset=parseFloat(W._65.slice(1));
if(W._66!=null)T._LineDashArray=he.DN(W._66);for(var $=0;$<8;$++)if(W["_"+f5.Qz[$]]!=null)T[f5.QI[$]]=W["_"+f5.Qz[$]]};
he.Zm=function(M){var X=M._0._0,J=[1,0,0,0],q=he.DN(M._0._1);if(X=="i0")J[1]=J[2]=J[3]=q[1];else if(X=="i1")J=q;
else if(X=="i2")J=[1].concat(UDOC.C.cmykToRgb(q.slice(1)));else console.log("unknown color type",X,q);
return{Type:1,Values:J}};he.Yr=function(M,X){M._0="s"+(X.Name?X.Name:"");var J=M._5,q=X.Properties;if(q.Justification!=null)J._0="i"+q.Justification;
if(q.FirstLineIndent!=null)J._1="f"+q.FirstLineIndent;if(q.StartIndent!=null)J._2="f"+q.StartIndent;
if(q.EndIndent!=null)J._3="f"+q.EndIndent;if(q.SpaceBefore!=null)J._4="f"+q.SpaceBefore;if(q.SpaceAfter!=null)J._5="f"+q.SpaceAfter;
if(q.AutoLeading!=null)J._7="f"+q.AutoLeading;if(q.AutoHyphenate!=null)J._9=q.AutoHyphenate;if(q._Direction!=null)J._33="i"+q._Direction;
if(q._ComposerEngine!=null)J._35="i"+q._ComposerEngine};he.amm=function(M,X){var J=M._5;if(J==null)return;
var q=X.Properties;if(J._0)q.Justification=parseInt(J._0.slice(1))};he.BV=function(M,X){var J=[];for(var $=0;
$<X.length;$++)J.push(M+X[$]);return J};he.DN=function(M){var X=[];for(var $=0;$<M.length;$++)X.push(parseFloat(M[$].slice(1)));
return X};he.aJk={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
he.aIi={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
he.ayi={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
he.f0={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
he.a2T={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
he.axv={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var aK={};aK.auA=function(M){return aK.e5(M,aK.Gl,0)};aK.a7I=function(M){return aK.MK(M,aK.Gl)};aK.e5=function(M,X,J){var q;
if(typeof M=="string")return M;if(M instanceof Array){q=[];for(var $=0;$<M.length;$++)q[$]=aK.e5(M[$],X,J+1)}else{q={};
var W={};for(var T in X){var _=X[T],m="_"+_[0];if(M[m]!=null){q[T]=_[1]?aK.e5(M[m],_[1],J+1):M[m];W[m]=!0}}for(var T in M){if(W[T]==null){if(T.length>3)continue;
console.log(X,W);console.log(T,M);throw"e"}}}return q};aK.MK=function(M,X){var J;if(typeof M=="string")return M;
else if(M instanceof Array){J=[];for(var $=0;$<M.length;$++)J[$]=aK.MK(M[$],X)}else{J={};var q={};for(var W in X){var T=X[W],_="_"+T[0];
if(M[W]!=null){J[_]=T[1]?aK.MK(M[W],T[1]):M[W];q[W]=!0}}for(var W in M){if(q[W]==null){console.log(X,q);
console.log(W,M);throw"e"}}}return J};aK.Xo={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
aK.TW={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,aK.Xo],_StrokeColor:[54,aK.Xo],_Blend:[55,{_0:[0],_1:[1],_2:[2],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,aK.Xo],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90],_92:[92],_93:[93]};
aK.aGc={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,aK.TW],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40],_41:[41]};
aK.amr={_Name:[0],_Features:[5,aK.aGc],_Parent:[6],_UUID:[97]};aK.aka={_Name:[0],_Parent:[5],_Features:[6,aK.TW],_UUID:[97]};
aK.Gl={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,aK.aka]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,aK.amr]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_3:[3],_4:[4],_5:[5],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18],_22:[22]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_MinDigits:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_UseOriginalFont:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_12:[12],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,aK.amr]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,aK.aka]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}],_AlternateGlyph:[1]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2],_4:[4],_5:[5]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,aK.TW],_OriginalNormalParagraphFeatures:[3,aK.aGc],_4:[4],_5:[5]}]};
he.view={};he.view.aoe=function(M,X,J,q){var W={},T=f5.mj(M);W._0=[{_0:"i"+J}];return W};function CSS(){}CSS.aA1=function(M,X){var J=M.add,q=J.vmsk,W=J.vstk,T=J.lmfx,_=J.TySh,m=[],d=CSS.M2(T,J),A=M.G8/255*(M.add.iOpa!=null?M.add.iOpa/255:1);
if(A!=1)m.push("opacity: "+A.toFixed(3));if(M.eQ()&&q){var p=t.I.NP(q.X);if(!p.M5()){m.push("width: "+Math.round(p.r)+"px");
m.push("height: "+Math.round(p.$)+"px")}var a=t.I.aCs(q.X);if(a>0)m.push("border-radius: "+Math.round(a)+"px")}else if(_){var f=_.Zj;
if(f5.mj(f)==1){var p=f5.jA(f);m.push("width: "+Math.round(p[2])+"px");m.push("height: "+Math.round(p[3])+"px")}CSS.aD0(m,f5.TC(f,0,0),_.u,!1,!1,d[0])}CSS.acf(X,T,m);
if(_==null)CSS.aoV(d,m);if(W==null||!W.strokeEnabled.v)W=hA.a7P(T);if(W&&W.strokeEnabled.v){var s=W.strokeStyleContent.v,j=s.classID,Y=W.strokeStyleOpacity.v.val/100,G=W.strokeStyleLineWidth.v.val,Q="";
if(j=="solidColorLayer")Q=CSS.bx(s.Clr.v,Y);m.push("border: "+G+"px solid "+Q)}return m};CSS.acf=function(M,X,J){if(X==null||!X.masterFXSwitch.v)return;
var q=X.dropShadowMulti.v.concat(X.innerShadowMulti.v);for(var $=0;$<q.length;$++){var W=q[$].v;if(W.enab.v){var T=W.classID=="IrSh",_=W.Dstn.v.val,m=W.lagl.v.val*Math.PI/180;
if(W.uglg&&W.uglg.v)m=M.Z$()*Math.PI/180;var d=_*Math.cos(m),A=_*Math.sin(m),p=(d==0?"0 ":CSS.agh(-d)+"px ")+(A==0?"0 ":CSS.agh(A)+"px ")+W.blur.v.val/2+"px "+CSS.bx(W.Clr.v,W.Opct.v.val/100);
if(T)J.push("box-shadow: inset "+p);else J.push("filter: drop-shadow("+p+")")}}};CSS.M2=function(M,X){var J=hA.abo(M,X),q=J[0],W=J[1],T,_;
if(q){T=CSS.bx(q.Clr.v,X.iOpa!=null?X.iOpa/255:1)}else if(W){_=CSS.d0(W)}return[T,_]};CSS.aoV=function(M,X){if(M[0])X.push("background-color: "+M[0]);
if(M[1])X.push("background-image: "+M[1])};CSS.vf={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.agh=function(jX){return""+parseFloat(jX.toFixed(3))};CSS.WC=function(M){if(M==null)return{z:0,L:0,g:0};
var X=M.indexOf("(");if(X!=-1){var J=M.slice(X+1,M.length-1).split(",");for(var $=0;$<J.length;$++){var q=J[$].trim();
J[$]=parseFloat(q)*(q.endsWith("%")?255/100:1)}if(M.startsWith("hsl")){var W=t.Io(J[0]/360,J[1]/255,J[2]/255);
W.z*=255;W.L*=255;W.g*=255;return W}return{z:J[0],L:J[1],g:J[2]}}if(M.charAt(0)!="#"){var T=CSS.vf;if(T[M])M=T[M];
else console.log("unknown color "+M)}M=M.slice(1);if(M.length==4)M=M[0]+M[0]+M[1]+M[1]+M[2]+M[2]+M[3]+M[3];
if(M.length==3)M=M[0]+M[0]+M[1]+M[1]+M[2]+M[2];var _=-1;if(M.length==8){_=parseInt(M.slice(6),16);M=M.slice(0,6)}M=parseInt(M,16);
var m={z:M>>16&255,L:M>>8&255,g:M&255};if(_!=-1)m.Jm=_;return m};CSS.bx=function(M,X){return CSS.Yk(t.NX.NH(M),X)};
CSS.Yk=function(M,X){if(X==null)X=1;var J=Math.round(M.z),q=Math.round(M.L),W=Math.round(M.g),T=J<<16|q<<8|W;
return X==1?"#"+t.NZ(T):"rgba("+J+","+q+","+W+","+X+")"};CSS.afp=function(M,X){return CSS.Yk({z:M[0]*255,L:M[1]*255,g:M[2]*255},X)};
CSS.d0=function(M){var X=M.Grad.v;if(X.Clrs==null)return"";var J=X.Clrs.v.slice(0),q=X.Trns.v.slice(0),W=M.Ofst.v,T=M.Type.v.GrdT=="Rdl"?1:0,_=(T==1?"radial":"linear")+"-gradient",m=T==0?Math.round(-M.Angl.v.val+90)+"deg":"circle at center",d=M.Rvrs.v,A=t.NX.aHt(X,d);
for(var $=0;$<A.length;$++){var p=A[$],a=p[1];m+=", "+CSS.Yk({z:a[0]*255,L:a[1]*255,g:a[2]*255},p[2])+" "+Math.round(p[0]*100)+"%"}return _+"("+m+")"};
CSS.aD0=function(M,X,J,q,W,T){var _=X.cN,m=q?1:J.zQ(),d=Math.round(_.FontSize*m);M.push("font-size: "+d+"px");
var A=_.Tracking;if(!q&&A!=null&&A!=0)M.push("letter-spacing: "+Math.round(A*d/1e3)+"px");if(!_.AutoLeading)M.push("line-height: "+Math.round(_.Leading*m)+"px");
if(_.Strikethrough)M.push("text-decoration: line-through");if(_.Underline)M.push("text-decoration: underline");
if(_.FontCaps==2)M.push("text-transform: uppercase");var p=f5.NH(_.FillColor);p=[p.z,p.L,p.g].map(Math.round);
M.push((q?"fill: ":"color: ")+(T?T:"#"+t.NZ(p[0]<<16|p[1]<<8|p[2])));var a=X.Hd[_.Font].Name;if(a){var f=aM.I0.z0(a),s="",j=null,Y=null;
if(f!=null&&a!=aM.wn(f))f=null;if(W&&f)s+="\""+a+"\", ";var G=a.toLowerCase();if(f){j=aM.akP(f)[0];if(f["OS/2"])Y=f["OS/2"].usWeightClass}else{j=CSS.aCc(a);
if(G.indexOf("light")!=-1)Y=300;else if(G.indexOf("medium")!=-1)Y=500;else if(G.indexOf("black")!=-1||G.indexOf("extrabold")!=-1)Y=800;
else if(G.indexOf("bold")!=-1)Y="bold"}if(j!=null)s+="\""+j+"\"";if(Y!=null)M.push("font-weight: "+Y);
if(G.indexOf("italic")!=-1||G.indexOf("oblique")!=-1)M.push("font-style: italic");if(s)M.push("font-family: "+s)}var Q=X.Js.Justification;
if(Q!=null&&Q!=0)if(q){}else M.push("text-align: "+["left","right","center"][Q%3])};CSS.aCc=function(M){M=M.split("-")[0];
while(M.endsWith("MT")||M.endsWith("PS"))M=M.slice(0,M.length-2);var X=!0;for(var $=0;$<M.length;$++){var J=M.charAt($);
if(!X&&J.toLowerCase()!=J){M=M.slice(0,$)+" "+M.slice($);$++;X=!0}else X=!1}return M};function ji(){}ji.RU={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
ji.IU=function(M,X){var J=Date.now(),q=M.split("\n"),W;if(q.length==1)q=M.split("\r");for(var $=0;$<q.length;
$++)if(q[$].trim()[0]=="#"){q[$]=""}M=q.join("\n");try{W=acorn.parse(M)}catch(hP){console.log(hP);return}var T=t.b(ji.NI.Y5);
T.__return=!1;T.__continue=!1;T.__break=!1;T.__throw=!1;T.__fs={};T.__window={};ji.eval(W,X,T);var _=T.__fs;
if(Object.keys(_).length!=0){var m=UZIP.encode(_);gb.save(m,"output.zip")}};ji.eval=function(M,X,J){var q=M.type;
if(!1){}else if(q=="Program"||q=="BlockStatement"){var W=M.body;for(var $=0;$<W.length;$++){var T=W[$].type;
if(T=="FunctionDeclaration")J[W[$].id.name]=W[$]}for(var $=0;$<W.length;$++){var T=W[$].type,_=ji.eval(W[$],X,J);
if(J.__continue&&J.__pif==null){J.__continue=!1;return _}if(J.__return||J.__break||J.__throw)return _}}else if(q=="ReturnStatement"){J.__return=!0;
return M.argument?ji.KC(M.argument,X,J):null}else if(q=="BreakStatement"){J.__break=!0}else if(q=="ContinueStatement"){J.__continue=!0}else if(q=="VariableDeclaration"){var m=M.declarations;
for(var $=0;$<m.length;$++)ji.eval(m[$],X,J)}else if(q=="VariableDeclarator"){J[M.id.name]=M.init?ji.KC(M.init,X,J):null}else if(q=="FunctionDeclaration"){J[M.id.name]=M}else if(q=="MemberExpression"){var d=ji.KC(M.object,X,J),_;
if(J.__throw)return;var A=M.computed?ji.KC(M.property,X,J):ji.eval(M.property,X,J);if(d.KV!=null)_=ji.NI.ko(d,A,X,J);
else if(d==window&&ji.RU[A]){}else _=d[A];return _}else if(q=="ArrayExpression"){var p=[],a=M.elements;
for(var $=0;$<a.length;$++)p.push(ji.KC(a[$],X,J));return p}else if(q=="ObjectExpression"){var p={},a=M.properties;
for(var $=0;$<a.length;$++){var f=a[$],s=a[$].key.name?a[$].key.name:a[$].key.value;p[s]=ji.KC(a[$].value,X,J)}return p}else if(q=="ExpressionStatement"){return ji.eval(M.expression,X,J)}else if(q=="NewExpression"){var j=M.arguments,Y=M.callee,G=Y.type,Q=Y.name,Z=[],p=null;
for(var $=0;$<j.length;$++)Z.push(ji.KC(j[$],X,J));if(Q=="Array")p=new window[Q];else if(G=="Identifier")p=ji.NI.ar4(Q,Z,X,J);
else throw"e";if(p==null)throw"new "+Q;return p}else if(q=="CallExpression"){var j=M.arguments,Y=M.callee,G=Y.type,g={};
for(var S in J)g[S]=J[S];var Z=[];for(var $=0;$<j.length;$++)Z.push(ji.KC(j[$],X,J));if(G=="Identifier"){var U=Y.name,B=J[U];
if(B&&B.KV=="AppFunc"){U=B.HH;B=null}if(B){if(B.params){var e=B.params;for(var $=0;$<e.length;$++)g[e[$].name]=Z[$];
return ji.eval(B.body,X,g)}else{return B.apply(null,Z)}}else if(ji.NI.a07.indexOf(U)!=-1)return ji.NI.Cy({KV:"Application"},U,Z,X,J);
else if(window[U]==null)console.log("Unknown function "+U);else if(ji.RU[U])alert(U+"() not available");
else{var P=window[U].apply(window,Z);return P}}else if(G=="MemberExpression"){var d=ji.KC(Y.object,X,J),A=Y.computed?ji.KC(Y.property,X,J):ji.eval(Y.property,X,J);
if(d==window&&ji.RU[A])return;if(d.KV!=null)return ji.NI.Cy(d,A,Z,X,J);else if(A=="sort"&&d[0]&&d[0].KV=="Layer"){return d.sort(function(x,y){return x.K.getName()>y.K.getName()?1:-1})}else if(A=="toSource")return JSON.stringify(d);
else return d[A].apply(d,Z)}else if(G=="FunctionExpression"){var h=ji.eval(Y.body,X,J);J.__return=!1;
return h}else console.log(M)}else if(q=="AssignmentExpression"){var V=M.operator,I=M.left,F=I.type,c=ji.KC(I,X,J),D=ji.KC(M.right,X,J),_=null;
if(!1){}else if(V=="=")_=D;else if(V=="+=")_=c+D;else if(V=="-=")_=c-D;else if(V=="*=")_=c*D;else if(V=="/=")_=c/D;
else if(V=="%=")_=c%D;else if(V=="&=")_=c&D;else if(V=="|=")_=c|D;else if(V=="&&=")_=c&&D;else if(V=="||=")_=c||D;
else console.log(M);if(F=="Identifier"){var n=I.name;if(J.hasOwnProperty(n))J[n]=_;else J.__window[n]=_}else if(F=="MemberExpression"){var k=ji.eval(I.property,X,J),b=ji.KC(I.object,X,J);
if(b.KV!=null)ji.NI.a26(b,k,_,X,J);else b[k]=_}else console.log(M);return _}else if(q=="Identifier")return M.name;
else if(q=="Literal")return M.value;else if(q=="UpdateExpression"){var V=M.operator,N=M.argument.name,p=ji.KC(M.argument,X,J),L=J;
if(L[N]==null)L=J.__window;if(!1){}else if(V=="++"){L[N]++;return M.prefix?L[N]:L[N]-1}else if(V=="--"){L[N]--;
return M.prefix?L[N]:L[N]+1}else console.log(M)}else if(q=="UnaryExpression"){var V=M.operator,R=ji.KC(M.argument,X,J);
if(R&&R.KV=="UnitValue"){if(V=="-")return-R.K;else return ji.aiM(R.K,V)}else return ji.aiM(R,V)}else if(q=="BinaryExpression"||q=="LogicalExpression"){var V=M.operator,I=ji.KC(M.left,X,J);
if(q=="LogicalExpression"&&V=="&&"&&!I)return I;var R=ji.KC(M.right,X,J);if(I==null||R==null)return ji.Dq(I,R,V);
else if(I.KV=="UnitValue"&&R.KV=="UnitValue")return ji.Dq(I.K,R.K,V);else if(I.KV=="UnitValue")return ji.Dq(I.K,R,V);
else if(R.KV=="UnitValue"){if(V=="-")return-(I-R.K);else return ji.Dq(I,R.K,V)}else return ji.Dq(I,R,V)}else if(q=="IfStatement"){var i=ji.KC(M.test,X,J),v=J.__pif,_=null;
J.__pif=!0;if(i)_=ji.eval(M.consequent,X,J);else if(M.alternate)_=ji.eval(M.alternate,X,J);J.__pif=v;
return _}else if(q=="ConditionalExpression"){var i=ji.KC(M.test,X,J);if(i)return ji.KC(M.consequent,X,J);
else if(M.alternate)return ji.KC(M.alternate,X,J)}else if(q=="ForInStatement"){ji.eval(M.left,X,J);var E=M.left.declarations[0].id.name,u=ji.KC(M.right,X,J);
for(var S in u){J[E]=S;var C=ji.eval(M.body,X,J);if(J.__break)break;if(J.__return)return C}J.__break=!1}else if(q=="ForStatement"){ji.eval(M.init,X,J);
while(ji.eval(M.test,X,J)){var C=ji.eval(M.body,X,J);if(J.__break)break;if(J.__return)return C;ji.eval(M.update,X,J)}J.__break=!1}else if(q=="WhileStatement"){while(ji.eval(M.test,X,J)){var C=ji.eval(M.body,X,J);
if(J.__break)break;if(J.__return)return C}J.__break=!1}else if(q=="DoWhileStatement"){do{var C=ji.eval(M.body,X,J);
if(J.__break)break;if(J.__return)return C}while(ji.eval(M.test,X,J));J.__break=!1}else if(q=="TryStatement"){ji.eval(M.block,X,J);
if(J.__throw){var l=M.handler;J[l.param.name]=J.__throw;J.__throw=!1;ji.eval(l.body,X,J);delete J[l.param.name]}}else if(q=="FunctionExpression"){return M}else if(q=="EmptyStatement"){}else console.log(M)};
ji.Dq=function(M,X,J){if(J=="+")return M+X;else if(J=="-")return M-X;else if(J=="*")return M*X;else if(J=="/")return M/X;
else if(J=="%")return M%X;else if(J=="^")return M^X;else if(J=="&")return M&X;else if(J=="&&")return M&&X;
else if(J=="|")return M|X;else if(J=="||")return M||X;else if(J=="<")return M<X;else if(J==">")return M>X;
else if(J=="=="){if(M!=null&&X!=null&&M.KV&&X.KV)return M.K==X.K;return M==X}else if(J=="===")return M===X;
else if(J=="<=")return M<=X;else if(J==">=")return M>=X;else if(J=="!=")return M!=X;else if(J=="!==")return M!==X;
else if(J=="<<")return M<<X;else if(J==">>")return M>>X;else console.log(J)};ji.aiM=function(M,X){if(X=="-")return-M;
else if(X=="!")return!M;else if(X=="~")return~M;else if(X=="+")return M;else if(X=="typeof")return typeof M;
else console.log(X,M)};ji.KC=function(M,X,J){var q=M.type;if(q=="Identifier")return ji.arA(M.name,X,J);
else return ji.eval(M,X,J)};ji.arA=function(M,X,J){if(M=="undefined")return undefined;else if(J.hasOwnProperty(M))return J[M];
else if(M=="app")return{KV:"Application"};else if(M=="Folder")return{KV:"Folder"};else if(M=="File")return{KV:"File"};
else if(M=="$")return{KV:"$"};else if(ji.NI.aqj.indexOf(M)!=-1)return ji.NI.ko({KV:"Application"},M,X,J);
else if(ji.NI.a07.indexOf(M)!=-1)return{KV:"AppFunc",HH:M};else if(J.__window.hasOwnProperty(M))return J.__window[M];
else if(window[M]&&!ji.RU[M])return window[M];else{J[M]=null;return null}};ji.NI={};ji.NI.ar4=function(M,X,J,q){var W;
if(M=="PathPointInfo")W={KV:M,kind:0,Z:[],vX:[],vJ:[]};if(M=="SubPathInfo")W={KV:M,uA:0,I7:!1,K:[]};
if(M=="SolidColor")W={KV:M,K:[1,0,0,0]};if(M=="RGBColor")W={KV:M,K:[1,0,0,0]};if(M=="Window")W={KV:M,K:new jw(X[0],X[1],X[2])};
if(M=="ExportOptionsSaveForWeb")W={KV:M,K:{sz:"png",KW:100}};if(M=="PhotoshopSaveOptions")W={KV:M,K:{sz:"psd"}};
if(M=="PNGSaveOptions")W={KV:M,K:{sz:"png",KW:100}};if(M=="JPEGSaveOptions")W={KV:M,K:{sz:"jpg",KW:100}};
if(M=="PDFSaveOptions")W={KV:M,K:{sz:"pdf",avh:""}};if(M=="File")W={KV:M,K:X[0]};if(M=="ActionReference")W={KV:M,K:{t:"obj ",v:[]}};
if(M=="ActionDescriptor")W={KV:M,K:{t:"Objc",v:{classID:"null"}}};if(M=="ActionList")W={KV:M,K:{t:"VlLs",v:[]}};
if(M=="UnitValue")W={KV:M,K:X.length==0?0:parseFloat(X[0])};return W};ji.NI.aqj="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
ji.NI.a07="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction showWindow UnitValue".split(" ");
ji.NI.ko=function(M,X,J,q){var W=J.f,T=J.Rt();if(!1){}else if(X=="typename"){if(M.KV=="Layer")return M.K.nA()?"LayerSet":"ArtLayer";
else return M.KV}else if(["Document","Layer"].indexOf(M.KV)!=-1&&["layers","artLayers","layerSets"].indexOf(X)!=-1){var _=T;
if(M.KV=="Document")_=M.K;else _=M.n3;var m=_.root,d={KV:"Layers",a9e:X,K:[],n3:_};if(M.KV=="Layer")m=_.root.Hc(_.U.indexOf(M.K));
if(m.children==null)return null;for(var $=0;$<m.children.length;$++){var A=m.children[$].w,p=A.nA();
if(p&&X=="artLayers"||!p&&X=="layerSets")continue;d.K.push({KV:"Layer",K:A,n3:_})}d.K.reverse();return d}else if(M.KV=="Documents"||M.KV=="Layers"||M.KV=="HistoryStates"||M.KV=="LayerComps"||M.KV=="PathItems"||M.KV=="SubPathItems"||M.KV=="PathPoints"){if(!1){}else if(X=="length")return M.K.length;
else if(Number.isInteger(X))return M.K[X];else console.log(M.KV+": unknown property ",X)}else if(M.KV=="Application"){if(!1){}else if(X=="activeDocument")return{KV:"Document",K:J.Rt()};
else if(X=="documents"){var d={KV:"Documents",K:[]};for(var $=0;$<J.td.length;$++)d.K.push({KV:"Document",K:J.td[$]});
return d}else if(X=="fonts")return{KV:"TextFonts"};else if(X=="preferences")return{KV:"Preferences"};
else if(X=="displayDialogs")return{KV:"DialogModes"};else if(X=="foregroundColor"||X=="backgroundColor"){var a=X[0]=="f"?W.pU:W.Yt;
return{KV:"SolidColor",K:[1,(a>>>16&255)/255,(a>>>8&255)/255,(a>>>0&255)/255]}}else if(X=="UI")return{KV:"UI"};
else if(X=="version")return 30;else console.log(M,X)}else if(M.KV=="Document"){var T=M.K;if(!1){}else if(X=="activeLayer"){var A=T.U[T.O[0]];
return{KV:"Layer",K:A,n3:T}}else if(X=="pixelAspectRatio")return 1;else if(X=="resolution")return T.Qv;
else if(X=="width")return T.r;else if(X=="height")return T.$;else if(X=="name")return T.name;else if(X=="saved")return!T.LZ();
else if(X=="selection")return{KV:"Selection"};else if(X=="activeHistoryState")return{KV:"HistoryState",gO:T.sv};
else if(X=="source")return T.u_;else if(X=="layerComps"){var f=T.ZU.list.v,s=[];for(var $=0;$<f.length;
$++)s.push({KV:"LayerComp",K:$});return{KV:"LayerComps",K:s}}else if(X=="historyStates"){var j=[];for(var $=0;
$<T.history.length;$++)j.push({KV:"HistoryState",gO:$});return{KV:"HistoryStates",K:j}}else if(X=="mode")return T.add.fcmy?1:7;
else if(X=="colorSamplers"){var d={KV:"ColorSamplers",a9e:X,K:T.O2.slice(0),n3:T};return d}else if(X=="pathItems"){var Y=[],T=M.K,G=T.ZX(),Q=G[0],Z=G[1];
for(var $=0;$<Q.length;$++)Y.push({KV:"PathItem",K:Q[$]});return{KV:"PathItems",K:Y}}else console.log(M,X)}else if(M.KV=="PathItem"){if(X=="subPathItems"){var g=M.K,S=g.add.vmsk.X,Y=[];
for(var $=0;$<t.I.Qa(S);$++){var U=t.I.kj(S,$),B=S[U],e=S.slice(U+1,U+1+B.length);Y.push({KV:"SubPathItem",uA:B.li,I7:B.e==0,K:K.JL.Oz(e)})}return{KV:"SubPathItems",K:Y}}else alert(X)}else if(M.KV=="SubPathItem"||M.KV=="SubPathInfo"){if(X=="pathPoints"||X=="entireSubPath"){var Y=[];
for(var $=0;$<M.K.length;$++){var P=M.K[$];Y.push({KV:"PathPointInfo",kind:P.e==1||P.e==4?1:0,Z:[P.Z.x,P.Z.y],vX:[P.vX.x,P.vX.y],vJ:[P.vJ.x,P.vJ.y]})}return{KV:"PathPoints",K:Y}}else if(X=="operation")return M.uA;
else if(X=="closed")return M.I7;else throw X}else if(M.KV=="PathPointInfo"){if(X=="kind")return M.kind;
else if(X=="anchor")return M.Z;else if(X=="leftDirection")return M.vX;else if(X=="rightDirection")return M.vJ;
else throw X}else if(M.KV=="LayerComp"){if(X=="name")return T.ZU.list.v[M.K].v.Nm.v;else throw X}else if(M.KV=="ColorSamplers"){if(Number.isInteger(X))return{KV:"ColorSampler",K:M.K[X]};
else if(X=="length")return T.O2.length}else if(M.KV=="ColorSampler"){if(X=="color"){var a=o.SK.eH(T,T.k.fT(M.K.x,M.K.y),1,2);
return{KV:"SolidColor",K:[1,(a>>>16&255)/255,(a>>>8&255)/255,(a>>>0&255)/255]}}else if(X=="position")return[M.K.x,M.K.y]}else if(M.KV=="Layer"){var h={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},A=M.K;
if(!1){}else if(X=="visible")return A.cV();else if(X=="selected")return T.O.indexOf(T.U.indexOf(A))!=-1;
else if(X=="grouped")return A.H2;else if(h[X]!=null)return A.Uc(h[X]);else if(X=="opacity")return A.G8*100/255;
else if(X=="fillOpacity")return(A.add.iOpa==null?255:A.add.iOpa)*100/255;else if(X=="blendMode")return A.Sw;
else if(X=="name")return A.getName();else if(X=="id")return A.add.lyid;else if(X=="textItem")return{KV:"TextItem",K:A};
else if(X=="bounds"){var V=o.fx.Hg(T,[T.U.indexOf(A)]);return ji.NI.a7B(V,T)}else if(X=="parent"){var I=J.td,_;
for(var $=0;$<I.length;$++)if(I[$].U.indexOf(A)!=-1)_=I[$];var F=_.root.Hc(_.U.indexOf(A)).parent;return F.depth==0?{KV:"Document",K:_}:{KV:"Layer",K:F.w,n3:_}}else if(X=="kind"){var c=ji.NI.Ae;
for(var $=0;$<c.length;$++)if(A.add[c[$]]!=null)return $;return 0}else if(X=="isBackgroundLayer")return A.add.lnsr="bgnd";
else if(X=="itemIndex")return T.U.indexOf(A)+1;else console.log(M,X)}else if(M.KV=="Selection"){if(!1){}else if(X=="bounds"){if(T.c==null)q.__throw={message:"no selection"};
else return ji.NI.a7B(T.c.S,T)}else console.log(M,X)}else if(M.KV=="TextItem"){var D=M.K.add.TySh,n=D.Zj,k=f5.UP(n),b=D.u.zQ(),N=f5.TC(n,0,0);
if(X=="contents")return k.slice(0,k.length-1).replace(/\n/g,"\r");else if(X=="font")return N.cN.Font!=null?N.Hd[N.cN.Font].Name:null;
else if(X=="size")return ji.NI.dk(N.cN.FontSize*b,T);else if(X=="leading")return ji.NI.dk(N.cN.Leading*b,T);
else if(X=="tracking")return ji.NI.dk(N.cN.Tracking);else if(X=="baselineShift")return ji.NI.dk(N.cN.BaselineShift);
else if(X=="fauxBold")return N.cN.FauxBold;else if(X=="fauxItalic")return N.cN.FauxItalic;else if(X=="kind")return 1-f5.mj(n);
else if(X=="useAutoLeading")return N.Js.AutoLeading;else if(X=="hyphenation")return N.Js.AutoHyphenate;
else if(X=="justification")return ji.NI.dk(N.Js.Justification);else if(X=="color")return{KV:"SolidColor",K:N.cN.FillColor.Values.slice(0)};
else if(X=="width"||X=="height"){var L=f5.jA(n),R=(L[2]-L[0])*b,i=(L[3]-L[1])*b;return ji.NI.dk(X=="width"?R:i,T)}else if(X=="position"){var v=D.u;
return ji.NI.azr([v._f,v.Ey],T)}else if(X=="horizontalScale"||X=="verticalScale"){var E=X[0].toUpperCase()+X.slice(1);
return Math.round(N.cN[E]*100)}else if(X=="antiAliasMethod")f5.Nu(D);else if(X=="totalTextStyle"){var d={};
for(var u=0;u<2;u++){var C=["Style","Paragraph"][u],l=n.EngineDict[C+"Run"].RunLengthArray,x=[],y=0;
for(var $=0;$<l.length;$++){var ge=f5.TC(n,y,Math.min(y+l[$],k.length-2));y+=l[$];x.push(u==0?ge.cN:ge.Js);
d.fontSet=ge.Hd}d[C]={runs:l,styles:x}}return JSON.stringify(d)}else if(X=="transform"){var v=D.u;return JSON.stringify([v.Jm,v.g,v.br,v.Bi,v._f,v.Ey])}else console.log(M,X)}else if(M.KV=="Preferences"){if(X=="rulerUnits")return W.QQ.EI;
else console.log(M,X)}else if(M.KV=="SolidColor"){if(X=="rgb")return{KV:"RGBColor",K:M.K};if(X=="cmyk")return{KV:"CMYKColor",K:t.jW(M.K.slice(1))};
else console.log(M,X)}else if(M.KV=="RGBColor"){var V=Math.round(255*M.K[1]),O=Math.round(255*M.K[2]),kz=Math.round(255*M.K[3]);
if(!1){}else if(X=="red")return V;else if(X=="green")return O;else if(X=="blue")return kz;else if(X=="hexValue")return t.NZ(V<<16|O<<8|kz).toUpperCase();
else console.log(M,X)}else if(M.KV=="CMYKColor"){var z=[];for(var $=0;$<4;$++)z.push(Math.round(M.K[$]*100));
var eZ=["cyan","magenta","yellow","black"].indexOf(X);if(eZ!=-1)return z[eZ];else console.log(M,X)}else if(M.KV=="UnitValue"){if(X=="value")return M.K;
else throw"e"}else if(M.KV=="ExportOptionsSaveForWeb"){if(X=="format")return M.K.sz;else if(X=="PNG8"||X=="interlaced")return!1;
else if(X=="quality")return M.K.KW;else if(X=="transparency")return!0;else throw X}else if(M.KV=="PNGSaveOptions"||M.KV=="JPEGSaveOptions"||M.KV=="PDFSaveOptions"){return 0}else if(M.KV=="$"){if(X=="localize")return!1;
else if(X=="os")return"Windows";else throw X}else if(M.KV=="ActionList"){if(X=="count")return M.K.v.length;
else throw X}else console.log(M,X)};ji.NI.a7B=function(M,X){return ji.NI.azr([M.x,M.y,M.x+M.r,M.y+M.$],X)};
ji.NI.azr=function(M,X){var J=[];for(var $=0;$<M.length;$++)J.push(ji.NI.dk(M[$],X));return J};ji.NI.QJ=function(M){var X=[];
for(var $=0;$<M.length;$++)X.push(M[$].KV?M[$].K:M[$]);return X};ji.NI.dk=function(M,X){return{KV:"UnitValue",K:M}};
ji.NI.aBb=function(M,X){if(M.KV=="UnitValue")return M.K;return M};ji.NI.a26=function(M,X,J,q,W){var T=new jb(r.E.H,!0),_=new jb(r.E.C,!0),m=q.Rt(),d=q.f;
if(!1){}else if(M.KV=="Application"){if(!1){}else if(X=="activeDocument"){_.data={h:r.m.f5,AR:J.K};q.a(_)}else if(X=="displayDialogs"){}else if(X=="foregroundColor"||X=="backgroundColor"){var A=J.K,p=A[1]*255<<16|A[2]*255<<8|A[3]*255<<0;
_.data={h:r.m.OA,iw:bN.M3,NL:X=="foregroundColor"?0:1,K:p};q.a(_)}else console.log(M,X,J)}else if(M.KV=="Document"){var a=M.K;
if(!1){}else if(X=="name"){T.J=o.HX;T.data={h:K.Jz,K:J,aH9:!0,nl:a};m.K8=!0}else if(X=="source")a.u_=J;
else if(X=="activeLayer"){a.O=[a.U.indexOf(J.K)]}else if(X=="activeHistoryState"){T.J=o.xH;T.data={h:"h_itemchange",index:J.gO}}else console.log(M,X)}else if(M.KV=="Layer"){T.J=o.HX;
var f={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},s=M.K,j=m.U.indexOf(s);
if(!1){}else if(X=="visible"){if(s.cV()!=J)T.data={h:K.FF,w:j}}else if(X=="opacity"){T.data={h:K.HB,w:j,Nz:Math.round(255*J/100)}}else if(X=="fillOpacity"){T.data={h:K.C3,w:j,Nz:Math.round(255*J/100)}}else if(X=="blendMode"){T.data={h:K.ni,w:j,Nz:ae.pi.indexOf(J)}}else if(X=="name"){T.data={h:K.KK,w:j,name:J}}else if(f[X]!=null){T.data={h:K.bC,w:j,Nz:[[J],[f[X]]]}}else if(X=="kind"){T.data={h:K.qh,w:j,dD:ji.NI.Ae[J]}}else if(X=="grouped"){T.data={h:K.uk,w:j,Nz:J}}else console.log(M,X,J)}else if(M.KV=="TextItem"){T.J=o.JT;
var s=M.K,Y=s.add.TySh,G=t.b(Y.Zj),Q=Y.u.Q(),Z=Y.u.zQ(),g=f5.UP(G),S=f5.TC(G,0,g.length-2),U=!1;if(!1){}else if(X=="contents"){f5.FZ(G,0,g.length-1);
f5.p7(G,0,(J+"").replace(/\r/g,"\n"))}else if(X=="size"){S.cN.FontSize=(J.K!=null?J.K:J)/Z;U=!0}else if(X=="leading"){S.cN.Leading=(J.K!=null?J.K:J)/Z;
U=!0}else if(X=="tracking"){S.cN.Tracking=J.K!=null?J.K:J;U=!0}else if(X=="baselineShift"){S.cN.BaselineShift=J.K!=null?J.K:J;
U=!0}else if(X=="fauxBold"){S.cN.FauxBold=J;U=!0}else if(X=="fauxItalic"){S.cN.FauxItalic=J;U=!0}else if(X=="kind"){var B=f5.mj(G);
if(B==1&&J==1){var e=new dV(G,q.f.Rb,Y.PX).Js[0],P=e.hR[0].end,h=e.OF[P-1].end;f5.FZ(G,0,g.length-1);
f5.p7(G,0,g.slice(0,h-1))}if(B==J)f5.Wu(G,1-J)}else if(X=="useAutoLeading"){S.Js.AutoLeading=J;U=!0}else if(X=="hyphenation"){S.Js.AutoHyphenate=J;
U=!0}else if(X=="justification"){S.Js.Justification=J;U=!0}else if(X=="font"){f5.fa(S,J);U=!0}else if(X=="color"){S.cN.FillColor.Values=J.K.slice(0);
U=!0}else if(X=="width"||X=="height"){var V=f5.jA(G).slice(0),I=ji.NI.aBb(J);if(X=="width")V[2]=Math.round(V[0]+I/Z);
else V[3]=Math.round(V[1]+I/Z);f5.Tf(G,V)}else if(X=="position"){Q._f=J[0];Q.Ey=J[1]}else if(X=="horizontalScale"||X=="verticalScale"){var F=X[0].toUpperCase()+X.slice(1);
S.cN[F]=J/100;U=!0}else if(X=="antiAliasMethod")f5.ka(Y,J);else console.log(M,X,J);if(U)f5.oW(G,0,g.length-1,S);
T.data={h:"newED",aP:m.U.indexOf(s),ta:G,u:Q}}else if(M.KV=="Preferences"){if(!1){}else if(X=="rulerUnits"){var c=t.b(d.QQ);
c.EI=J;_.data={h:r.m.OA,iw:bN.VB,Nz:c};q.a(_)}else console.log(M,X,J)}else if(M.KV=="SolidColor"){if(X=="rgb")M.K=J.K;
else throw X}else if(M.KV=="RGBColor"){if(!1){}else if(X=="red")M.K[1]=J/255;else if(X=="green")M.K[2]=J/255;
else if(X=="blue")M.K[3]=J/255;else if(X=="hexValue"){var D=t.ac0(J.slice(J.charAt(0)=="#"?1:0));M.K[1]=(D>>>16&255)/255;
M.K[2]=(D>>>8&255)/255;M.K[3]=(D>>>0&255)/255}else console.log(M,X)}else if(M.KV=="ExportOptionsSaveForWeb"){if(X=="format")M.K.sz=J;
else if(X=="PNG8"||X=="transparency"||X=="interlaced"){}else if(X=="quality")M.K.KW=J;else throw X}else if(M.KV=="PNGSaveOptions"||M.KV=="JPEGSaveOptions"){if(X=="quality")M.K.KW=Math.round(100*J/12)}else if(M.KV=="PDFSaveOptions"){if(X=="preset")M.K.avh=J}else if(M.KV=="PathPointInfo"){if(X=="kind")M.kind=J;
else if(X=="anchor")M.Z=J;else if(X=="leftDirection")M.vX=J;else if(X=="rightDirection")M.vJ=J;else throw X}else if(M.KV=="SubPathInfo"){if(X=="operation")M.uA=J;
else if(X=="closed")M.I7=J;else if(X=="entireSubPath"){M.K=[];for(var $=0;$<J.length;$++){var n=J[$];
M.K.push({e:n.kind==1?1:2,vX:new es(n.vX[0],n.vX[1]),Z:new es(n.Z[0],n.Z[1]),vJ:new es(n.vJ[0],n.vJ[1])})}}else throw X}else if(M.KV=="$"){if(X=="localize"){}}else console.log(M,X,J);
if(T.data!=null)q.a(T)};ji.NI.aIj=function(M,X,J){if(X==null)return;var q=X.Zj.EngineDict.StyleRun.RunArray,W=X.Zj.ResourceDict.FontSet,T=[];
for(var $=0;$<q.length;$++){var _=q[$].StyleSheet.StyleSheetData,m=W[_.Font].Name,d=J.f.Rb.z0(m);if(d&&d.name.postScriptName!=m)d=null;
T.push({t:"null",v:{TxtS:{t:"null",v:{fontAvailable:{t:"bool",v:d!=null},fontPostScriptName:{t:"TEXT",v:m}}}}})}M.textKey={t:"textKey",v:{textStyleRange:{t:"obj ",v:T},textKey:{t:"TEXT",v:f5.UP(X.Zj)}}}};
ji.NI.Cy=function(M,X,J,q,W){var T=M.KV,_=null,m=new jb(r.E.H,!0),d=new jb(r.E.pL,!0),A=new jb(r.E.C,!0),p=q.Rt(),a=q.td;
if(!1){}else if(T=="Application"){if(!1){}else if(X=="charIDToTypeID"){var f=J[0].trim(),s={slct:"select",Dlt:"delete",Mk:"make",Hd:"hide",Shw:"show",Dplc:"duplicate"};
return s[f]?s[f]:f}else if(X=="stringIDToTypeID"){var j=J[0].trim(),s={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",document:"Dcmn",layer:"Lyr",type:"Type",using:"Usng",targetEnum:"Trgt",ordinal:"Ordn",property:"Prpr",textStyle:"TxtS"},Y=s[j];
return Y==null?j:Y}else if(X=="typeIDToStringID"){return J[0].trim()}else if(X=="executeAction"){var G;
if(J[1]){G=J[1].K.v;G.classID=J[0]}var Q={setd:"set"},Z=Q[J[0]];if(Z==null)Z=J[0];var g=ia.QV[J[0]];
if(g&&ia.Cr[g])Z=ia.Cr[g];d.data={hC:Z,Qd:G}}else if(X=="executeActionGet"){var S=J[0].K.v,_={};if(S.length==1){var U=_.classID=S[0].v.classID;
if(U=="Lyr"){var B=k$.vp(p,S[0]),e=p.U[B],P=e.add.SoLd,h=e.add.SoCo,V=e.add.TySh;if(P)_.smartObjectMore={t:"Objc",v:{transform:P.nonAffineTransform}};
if(h)_.adjustment={t:"VlLs",v:[{t:"Objc",v:t.b(h)}]};if(V)ji.NI.aIj(_,V,q)}return{KV:"ActionDescriptor",K:{t:"null",v:_}}}if(S.length==2){var U=_.classID=S[1].v.classID,j=S[0].v.keyID;
if(U=="Dcmn"){var I=p;if(j=="numberOfLayers")_[j]={t:"long",v:I.U.length};else throw j}else if(U=="Lyr"){var B=k$.vp(p,S[1]),e=p.U[B],V=e.add.TySh;
if(j=="textKey")ji.NI.aIj(_,V,q);else throw j}else if(U=="ASet"){var F=q.f.cm,c=_.classID=S[0].v.classID;
if(c=="Actn"){_.NmbC={t:"long",v:k$.tG(F,S[0].v.val,S[1].v.val).dy.length}}else throw c}else throw U;
return{KV:"ActionDescriptor",K:{t:"null",v:_}}}}else if(X=="doAction"){A.data={h:r.m.im,FK:[J[0],J[1]]}}else if(X=="bringToFront"){}else if(X=="open"){A.data={h:r.m.y_,iw:{url:J[0]}};
if(J[2]&&a.length!=0)A.data.iw.oB=a.indexOf(p)}else if(X=="echoToOE"){A.data={h:r.m.El,iw:J[0]}}else if(X=="showWindow"){A.data={h:r.m.SQ,bf:J[0]}}else if(X=="UnitValue"){return J[0]+" "+J[1]}else console.log(X)}else if(T=="LayerComp"){if(X=="apply"){m.J=o.sc;
m.data={h:"setLC",gO:p.ZU.list.v[M.K].v.compID.v}}else throw X}else if(T=="Document"){var p=M.K;if(!1){}else if(X=="changeMode"){m.J=o.oa;
m.data={h:"fcmy",K:J[0]==1?1:0}}else if(X=="crop"){var D=J[0];d.data=o.VN.anH([D[0],D[1],D[2]-D[0],D[3]-D[1]])}else if(X=="trim"){var n=[];
for(var $=0;$<4;$++)n.push(J[$+1]!=null?J[$+1]:!0);d.data=o.VN.i1(J[0]!=null?J[0]:0,n)}else if(X=="suspendHistory"){var k=acorn.parse(J[1]);
ji.eval(k,q,W)}else if(X=="save"){A.data={h:r.m.$A}}else if(X=="saveToOE"){A.data={h:r.m.$A,yy:J}}else if(X=="rotateCanvas"){d.data=o.fx.sy(!0,J[0])}else if(X=="resizeImage"||X=="resizeCanvas"){var b=J[0],N=J[1];
if(b!=null){if(typeof b!="number"){b=p.r*parseFloat(b.slice(0,b.length-1))/100;N=p.$*parseFloat(N.slice(0,N.length-1))/100}b=Math.round(b);
N=Math.round(N)}if(X=="resizeCanvas")d.data=o.VN.aD9(b,N,J[2]);else d.data=o.VN.ky(b,N,J[2],b!=null?1:null)}else if(X=="paste"){A.data={h:r.m.Rw,a8h:J.length!=0&&J[0],oq:!0};
q.a(A);A.data=null;return{KV:"Layer",K:p.U[p.O[0]],n3:p}}else if(X=="close"){A.data={h:r.m.pN,k7:p}}else if(X=="exportDocument"||X=="saveAs"){var L=W.__fs,R=X=="exportDocument"?J[2].K:J[1].K,i=J[0].K.replace(":","").replace("~/","");
if(!i.toLowerCase().endsWith("."+R.sz))i+="."+R.sz;var v=h1.PZ(p,R.sz,null,null,R.sz=="pdf"?null:[R.KW],q.f);
L[i]=new Uint8Array(v)}else if(X=="flatten"){d.data={hC:"flattenImage"}}else if(X=="clearHistory"){m.J=o.xH;
m.data={h:"h_clear",force:!0}}else console.log(M,X,J)}else if(T=="Layer"){var E=M.K,B=p.U.indexOf(E);
if(!1){}else if(X=="copy"){ji.NI.pB(p,q,0);A.data={h:r.m.LG,IM:J[0],HF:B,oq:!0};q.a(A);delete A.data;
ji.NI.pB(p,q,1)}else if(X=="clear"){ji.NI.pB(p,q,0);d.data={hC:"delete"};q.a(d);delete d.data;ji.NI.pB(p,q,1)}else if(X=="autoLevels"||X=="autoContrast"){if(X=="autoContrast")d.data={hC:"levels",Qd:{classID:"Lvls",Auto:{t:"bool",v:!0}}};
else d.data={hC:"levels",Qd:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}}else if(X=="duplicate"){if(J.length==0){var u=p.O.slice(0);
m.data={h:K.T0,w:B};m.J=o.HX;q.a(m);m.data=null;_={KV:"Layer",K:p.U[p.O[0]],n3:M.n3};p.O=u}else if(J[0].KV=="Document"){m.data={h:K.H4,U:p.c1(B),xN:p,Dn:J[0].K};
m.J=o.HX}if(m.data){q.a(m);m.data=null;return{KV:"Layer",K:p.U[p.O[0]],n3:p}}}else if(X=="merge"||X=="remove"){m.data={h:X=="merge"?K.J3:K.es,w:B};
m.J=o.HX;var C=p.U.length-B;q.a(m);m.data=null;if(X!="remove")_={KV:"Layer",K:p.U[p.U.length-C],n3:M.n3}}else if(X=="move"){var l=p.U.indexOf(J[0].K);
if(l==B+1&&J[1]==4)return;if(l==B-1&&J[1]==3)return;m.data={h:K.Qc,source:B,target:l,Tx:J[1]!=3?.6:.3};
m.J=o.HX}else if(X=="rasterize"){m.J=o.HX;m.data={h:K.t$,w:B};q.a(m);m.data=null;M.K=p.U[B]}else if(X=="rotate"){m.data={h:"rot",AC:[2,5],K:-J[0]*Math.PI/180,yu:J[1],w:B};
m.J=o.zS}else if(X=="resize"){m.data={h:"scl",AC:[2,4],K:new es(J[0]/100,J[1]/100),yu:J[2],w:B};m.J=o.zS}else if(X=="translate"){var y=ji.NI.QJ(J);
m.data={h:"trsl",w:B,wH:y[0],RI:y[1]};m.J=o.oa}else if(X=="link"){m.data={h:K.v0,ax1:[B,p.U.indexOf(J[0].K)]};
m.J=o.HX}else if(X=="invert"){m.J=o.GR;m.data={h:"start",T$:"nvrt"}}else if(X=="desaturate"){d.data={hC:"desaturate"}}else if(X.startsWith("apply")&&fV.vh[X.slice(5)]||X.startsWith("adjust")&&fV.vh[X.slice(6)]||X=="mixChannels"){var ge=X.startsWith("apply"),y=ji.NI.QJ(J),O=X=="mixChannels"?"mixr":fV.vh[X.slice(ge?5:6)];
if(O=="Dspl"){for(var $=0;$<p.U.length;$++)if(p.U[$].getName()==y[4]){y[4]=p.U[$].add.SoLd.Idnt.v;break}}d.data={hC:ge?fV.Cr[O]:ia.Cr[O]};
var G=fV.IH(O),u=p.O;p.O=[B];if(G){if(O=="mixr"){var kz=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(var $=0;
$<3;$++){var eZ=y[0][$],kM=$*5;kz[kM+0]=eZ[0];kz[kM+1]=eZ[1];kz[kM+2]=eZ[2];kz[kM+4]=eZ[3]}G=ia.YU({K:kz,TG:y[1]})}else fV.kV["g"+O](G,y);
d.data.Qd=G}q.a(d);d.data=null;p.O=u}else if(X=="applyStyle"){var jV=q.f.bV,cL=null;for(var $=0;$<jV.length;
$++)if(jV[$].W7.Nm.v.split("/").pop()==J[0])cL=jV[$];if(cL==null){alert("Style not found!");return}m.J=o.vt;
m.data={h:"setstl",K:cL.$m,w:B};q.a(m);m.data={h:"confirm",w:B}}else console.log(M,X,J)}else if(T=="Documents"){if(X=="getByName"){for(var $=0;
$<a.length;$++)if(a[$].name==J[0])return{KV:"Document",K:a[$]};return null}else if(X=="add"){if(J.length==0)J=[100,100,72,"New Project"];
var aw=J[5];if(aw==null)aw=1;d.data=dD.D3(J[0],J[1],J[2],J[3],["Wht","Trns","BckC"][aw],!1);q.a(d);d.data=null;
return{KV:"Document",K:q.Rt()}}else throw"e"}else if(T=="Layers"){if(X=="getByName"){for(var $=0;$<M.K.length;
$++)if(M.K[$].K.getName()==J[0]){_=M.K[$];break}if(_==null)W.__throw={message:"No layer with a name "+J[0]}}else if(X=="add"){m.data={h:M.a9e=="layerSets"?K.Q2:K.YO};
m.J=o.HX;q.a(m);m.data=null;_={KV:"Layer",K:p.U[p.O[0]],n3:M.n3}}else console.log(M,X,J)}else if(M.KV=="Selection"){if(X=="select"){var h2=J[0],ea=[];
for(var $=0;$<h2.length;$++)ea.push(h2[$][0],h2[$][1]);d.data=o.Gp.kt(ji.NI.QJ(ea),J[1])}else if(X=="clear"){d.data={hC:"delete"}}else if(X=="selectAll"){d.data=o.Gp.VT(!0)}else if(X=="invert"){d.data={hC:"inverse"}}else if(X=="copy"){A.data={h:r.m.LG,IM:J[0],oq:!0}}else if(X=="deselect"){d.data=o.Gp.VT()}else if(X=="fill"){var ht=J[0].K;
ht=t.NX.$J({z:ht[1]*255,L:ht[2]*255,g:ht[3]*255});d.data=o.X_.Zc("Clr",J[1],J[2]==null?1:J[2]/100,ht)}else if(X=="grow"||X=="similar"){var G={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(J[0]!=null)G.Tlrn={t:"long",v:J[0]};d.data={hC:X,Qd:G}}else if(X=="expand"||X=="contract"||X=="feather"){d.data=o.Gp.Ic(X,J[0],!0)}else if(X=="translate"){var G={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:J[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:J[1]}}}}};
d.data={hC:"move",Qd:G}}else if(X=="smooth"){d.data=o.Gp.Ic("smoothness",J[0],!1)}else if(X=="stroke"){var cL=JSON.parse(kf.px[1]),jn=cL.Clr.v,ht=J[0].K;
jn.Rd.v=ht[1]*255;jn.Grn.v=ht[2]*255;jn.Bl.v=ht[3]*255;cL.Sz.v.val=J[1];cL.Styl.v.FStl=kf.stroke.types[J[2]];
console.log(cL,J);m.J=o.g$;m.data={h:"stroke",a9s:cL}}else console.log(M,X,J)}else if(M.KV=="Window"){if(X=="show"){A.data={h:r.m.SQ,bf:M.K}}else throw"e"}else if(M.KV=="ActionReference"){if(X=="putProperty"){M.K.v.push({t:"prop",v:{classID:J[0],keyID:J[1]}})}else if(X=="putClass"){M.K.v.push({t:"Clss",v:{classID:J[0]}})}else if(X=="putEnumerated"){M.K.v.push({t:"Enmr",v:{classID:J[0],typeID:J[1],enum:J[2]}})}else if(X=="putName"){M.K.v.push({t:"name",v:{classID:J[0],val:J[1]}})}else if(X=="putIndex"){M.K.v.push({t:"indx",v:{classID:J[0],val:J[1]}})}else console.log(X,J)}else if(M.KV=="ActionDescriptor"||M.KV=="ActionList"){var gE=M.KV=="ActionList";
if(X.startsWith("put")){var bS=gE?J:J.slice(1),Y=null;if(X=="putReference"){Y=bS[0].K}else if(X=="putObject"){Y=bS[1].K;
Y.v.classID=bS[0]}else if(X=="putList"){Y=bS[0].K}else if(X=="putDouble"){Y={t:"doub",v:bS[0]}}else if(X=="putUnitDouble"){Y={t:"UntF",v:{type:bS[0],val:bS[1]}}}else if(X=="putBoolean"){Y={t:"bool",v:bS[0]}}else if(X=="putInteger"){Y={t:"long",v:bS[0]}}else if(X=="putString"){Y={t:"TEXT",v:bS[0]}}else if(X=="putClass"){Y={t:"type",v:{classID:bS[0]}}}else if(X=="putEnumerated"){var bi=J[0].split("+");
if(bi.length==2&&J[1]==null){J[0]=bi[0];J[1]=bS[0]=bi[1]}var kM={};kM[bS[0]]=bS[1];Y={t:"enum",v:kM}}else throw X;
if(gE)M.K.v.push(Y);else M.K.v[J[0]]=Y}else if(X=="hasKey"){return M.K.v[J[0]]!=null}else if(X=="getEnumerationValue"){if(J[0]=="layerSection")_="layerSectionContent";
else console.log(J)}else if(X=="getBoolean"){_=M.K.v[J[0]].v}else if(X=="getString"){_=M.K.v[J[0]].v}else if(X=="getObjectValue"){var _=M.K.v[J[0]];
return{KV:"ActionDescriptor",K:t.b(_)}}else if(X=="getList"){var _=M.K.v[J[0]];return{KV:"ActionList",K:_}}else if(X=="getInteger"||X=="getDouble"){return M.K.v[J[0]].v}else console.log(X,J)}else if(M.KV=="$"){if(X=="writeln"){console.log(J[0])}else throw X}else if(M.KV=="UI"){if(X=="scroll"||X=="scrollTo"){var cj=J[0],bb=J[1],c0=p.k.r7;
if(X=="scrollTo"){cj=(-p.r/2+cj)*c0+p.k.s.x;bb=(-p.$/2+bb)*c0+p.k.s.y}m.J=o.Cm;m.data={h:"scroll",Kb:new es(Math.round(cj),Math.round(bb))}}else{var cV;
if(X=="zoomIn"||X=="zoomOut"){cV={h:"zoom",j_:X=="zoomIn"}}else if(X=="fitTheArea"){cV={h:"adapt",K:"fitscr"}}else if(X=="pixelToPixel"){cV={h:"adapt",K:"pixel"}}m.J=o.QC;
m.data=cV;if(X=="switchFullscreen"){var g_=q.f.LA,hx=document.fullscreenElement!=null==(g_==2);A.data={h:r.m.bb,K:g_==0?2:0,St:hx}}}}else if(M.KV=="ColorSamplers"){if(X=="removeAll")p.O2=[];
else if(X=="add"){var au={x:J[0][0],y:J[0][1]};p.O2.push(au);var _={KV:"ColorSampler",K:au}}}else if(M.KV=="ColorSampler"){if(X=="move"){var kP=p.O2.indexOf(M.K);
au=p.O2[kP];au.x=J[0][0];au.y=J[0][1]}else if(X=="remove"){var kP=p.O2.indexOf(M.K);p.O2.splice(kP,1)}}else if(M.KV=="PathItem"){if(X=="select"){p.Fg=[p.Qt.indexOf(M.K)];
p.K8=!0}else if(X=="remove"){m.J=o.gf;m.data={h:"pathedit",NL:"del"}}else console.log(X)}else if(M.KV=="PathItems"){if(X=="add"){var iK=J[1],b3=dD.Sp(J[0]),D=b3.add.vmsk.X;
for(var $=0;$<iK.length;$++){var fs=iK[$],ch=fs.K.length;D.push({e:fs.I7?0:3,length:ch,li:fs.uA});for(var hv=0;
hv<ch;hv++){if(!fs.I7)fs.K[hv].e+=3;D.push(fs.K[hv])}}m.J=o.gf;m.data={h:"pathedit",NL:"new",zm:b3};
q.a(m);return{KV:"PathItem",K:b3}}else throw X}else if(M.KV=="Folder"){if(X=="selectDialog")_="img";
else throw X}else if(M.KV=="File"){if(X=="openDialog")alert("A website can not show the Open dialog from a script");
else throw X}else console.log(M,X,J);if(m.data)q.a(m);if(d.data)q.a(d);if(A.data)q.a(A);return _};ji.NI.pB=function(M,X,J){var q=new jb(r.E.H,!0);
q.J=o.FN;var W=new jb(r.E.pL,!0);if(J==0){ji.NI.ayh=M.c;W.data=o.Gp.VT(!0)}else{var T=ji.NI.ayh;if(T)q.data={h:"setsel",AC:"Restore Selection",c:{S:T.S.Q(),N:T.N.slice(0)}};
else W.data=o.Gp.VT()}X.a(q.data?q:W)};ji.NI.ayh=null;ji.NI.Y5={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5,BRIGHTNESSCONTRAST:6,LEVELS:7,CURVES:8,EXPOSURE:9,VIBRANCE:10,HUESATURATION:11,COLORBALANCE:12,BLACKANDWHITE:13,PHOTOFILTER:14,CHANNELMIXER:15,LAYER3D:16,INVERSION:17,POSTERIZE:18,THRESHOLD:19,GRADIENTMAP:20,SELECTIVECOLOR:21},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},ChangeMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},BitsPerChannelType:{ONE:0,EIGHT:1,SIXTEEN:2,THIRTYTWO:3},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5},DisplacementMapType:{STRETCHTOFIT:0,TILE:1},StrokeLocation:{INSIDE:0,CENTER:1,OUTSIDE:2},SelectionType:{REPLACE:0,EXTEND:1,DIMINISH:2,INTERSECT:3},ResampleMethod:{AUTOMATIC:0,BICUBIC:1,BICUBICAUTOMATIC:2,BICUBICSHARPER:3,BICUBICSMOOTHER:4,BILINEAR:5,NEARESTNEIGHBOR:6,NONE:7,PRESERVEDETAILS:8},PointKind:{CORNERPOINT:0,SMOOTHPOINT:1},ShapeOperation:{SHAPEXOR:0,SHAPEADD:1,SHAPESUBTRACT:2,SHAPEINTERSECT:3}};
ji.NI.Y5.ColorBlendMode=ji.NI.Y5.BlendMode;ji.NI.Ae="---- SoLd TySh SoCo GdFl PtFl brit levl curv expA vibA hue2 blnc blwh phfl mixr clrL nvrt post thrs grdm selc".split(" ");
function kY(){}kY.fn={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"xmp:Rating":[0,null,"xmp:Rating"],"xmp:Label":["",null,"xmp:Label"],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
kY.cK={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
kY.a7z=function(M,X){if(X==null)X={};var J=kY.cK,q=[],W=[],T="";for(var $=0;$<M.length;$++){var _=M[$],m=J[_[0]+""];
if(m&&X[m]==null)X[m]=_[1];else if(_[0]==12)W.push(_[1]);else if(_[0]==25)q.push(_[1]);else if(_[0]==55)T=_[1];
else if(_[0]==60)T+=";"+_[1]}if(T!=""&&X["exif:DateTimeOriginal"]==null)X["exif:DateTimeOriginal"]=T;
if(W.length!=0&&X["Iptc4xmpCore:SubjectCode"]==null)X["Iptc4xmpCore:SubjectCode"]=W.join(";");if(q.length!=0&&X["dc:Keywords"]==null)X["dc:Keywords"]=q.join(";");
return X};kY.aG3=function(M){var X=kY.cK,J=[];for(var q in X)if(M[X[q]])J.push([parseInt(q),M[X[q]]]);
if(M["Iptc4xmpCore:SubjectCode"]){var W=M["Iptc4xmpCore:SubjectCode"].split(";");for(var $=0;$<W.length;
$++)J.push([12,W[$].trim()])}if(M["dc:Keywords"]){var W=M["dc:Keywords"].split(";");for(var $=0;$<W.length;
$++)J.push([25,W[$].trim()])}J.sort(function(T,_){return T[0]-_[0]});return J};kY.M$=function(M,X){if(X==null)X={};
var J=new DOMParser,q=J.parseFromString(M,"image/svg+xml"),W=q.getElementsByTagName("rdf:Description")[0];
if(W==null)return X;var T=kY.fn;for(var _ in T){var m=T[_][2];if(m==null)continue;var d=[];if(m.startsWith("xmp:")){var A=W.getAttribute(m);
if(A==null)continue;d.push(A)}else{var p=W.getElementsByTagName(m)[0];if(p==null)continue;var a=p.getElementsByTagName("rdf:li");
for(var $=0;$<a.length;$++)d.push(a[$].textContent)}X[_]=d.join("; ")}return X};kY.mS=function(M){var X=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\""],J=kY.fn,q="";
for(var W in J){var T=M[W],_=J[W][2];if(T==null||_==null)continue;if(_.startsWith("xmp:")){q+=" "+_+"=\""+T+"\""}else{var m="Seq",d="";
if(_=="dc:title"||_=="dc:description"){m="Alt";d=" xml:lang=\"x-default\""}if(_=="dc:subject")m="Bag";
X.push("\t<"+_+"><rdf:"+m+">");var A=_=="dc:subject"?T.split(";").join(",").split(","):[T];for(var $=0;
$<A.length;$++)X.push("\t\t<rdf:li"+d+">"+A[$].trim()+"</rdf:li>");X.push("\t</rdf:"+m+"></"+_+">")}}X[3]+=q+">";
X.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");return X.join("\n")};
kY.apa=function(M){var X=[];for(var $=0;$<M.length;$++)X[$]=M[$][1]==0?0:M[$][0]/M[$][1];return X};kY.aeo=function(M){var X=[];
for(var $=0;$<M.length;$++){var J=M[$],q=1;if(J!=Math.round(J)){q=1e3;J=Math.round(J*q)}X[$]=[J,q]}return X};
kY.WZ=function(M,X){var J=kY.fn;if(X==null)X={};for(var q in J){var W=J[q][1],T="t"+W;if(W!=null&&M[T]!=null){var _=M[T];
if(W==0)_=_.join(".");else if(W==2||W==4){var m=M["t"+(W-1)];if(m==null)m=[W==2?"N":"E"];_=kY.apa(_).join(",")+m[0]}else if(W==42034)_=kY.apa(_).join(" ");
else if(W==270||W==315){if(_ instanceof Uint8Array)_=H.Og(_);else{var d=_[0],A=new Uint8Array(d.length);
H.WB(A,0,d);_=H.Og(A)}}else _=_[0];X[q]=_}}if(M.exifIFD)kY.WZ(M.exifIFD,X);if(M.gpsiIFD)kY.WZ(M.gpsiIFD,X);
return X};kY.t8=function(M,X,J){var q=kY.fn,T=0,m=0;if(X==null)X={};var W={},_={};for(var d in q){if(M[d]==null||q[d][1]==null)continue;
var A=q[d][1],p="t"+A,a=X;if(d.startsWith("exif:")){a=W;T++;if(d.startsWith("exif:GPS")){a=_;m++}}var f=M[d];
if(A==0)f=new Uint8Array(f.split(".").map(parseFloat));else if(A==2||A==4){var s=f.length;a["t"+(A-1)]=[f.slice(f.length-1)];
f=kY.aeo(f.split(",").map(parseFloat))}else if(A==42034)f=kY.aeo(f.split(" ").map(parseFloat));else if(A==270||A==315){var j=H.y4(f);
f=[H.zb(j,0,j.length)]}else f=[f];a[p]=f}if(T!=0){X.exifIFD=W;X.t34665=[0]}if(m!=0){X.gpsiIFD=_;X.t34853=[0]}var Y=new Date,G=[Y.getFullYear(),Y.getMonth()+1,Y.getDate(),Y.getHours(),Y.getMinutes(),Y.getSeconds()];
for(var $=0;$<6;$++)G[$]=(G[$]+"").padStart(2,"0");X.t305=["Photopea Editor (www.photopea.com)"];if(J!=!0)X.t306=[G[0]+":"+G[1]+":"+G[2]+" "+G[3]+":"+G[4]+":"+G[5]];
return X};function cN(){}cN.Ah=function(M){var X={aAZ:",",M_:"\r\n",eu:"\""},J=[[""]],q,W,T,_,m;for(q=W=T=_=0;
T<M.length;T++){switch(m=M.charAt(T)){case X.eu:if(_&&M.charAt(T+1)==X.eu){J[q][W]+=X.eu;++T}else{_^=1}break;
case X.aAZ:if(!_){J[q][++W]=""}else{J[q][W]+=m}break;case X.M_.charAt(0):if(!_&&(!X.M_.charAt(1)||X.M_.charAt(1)&&X.M_.charAt(1)==M.charAt(T+1))){J[++q]=[""];
J[q][W=0]="";if(X.M_.charAt(1)){++T}}else{J[q][W]+=m}break;default:J[q][W]+=m}}if(J[J.length-1].length<J[0].length)J.pop();
return J};var w={};w.asE=0;w._v=function(){w.asE++;return w.asE};w.a8y="uint8";w.Oo=function(M){M._.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
M._.style.opacity="1";M._.style.transform="scale(1)"};w.F0=function(M,X){M._.style.opacity="0";M._.style.transform="scale(0.95)";
if(X)setTimeout(function(){X.removeChild(M._)},100)};w.a1e=function(){var M=w.OH();if(M=="")return 0;
if(M!=w._Y("_TXZRPB;d7@;")&&M!=kl._Y("eQLZRRM?8a4=8")){var X=w.Nv[kl.eM][kl.t1],J=X.indexOf(String.fromCharCode(35)),q;
if(J==-1)return 0;try{q=JSON.parse(w.Nv[kl.aAw](X.slice(J+1)))}catch(hP){return 0}var W=q[w._Y("bQ[ODL<E<M")];
if(W==null||W.length<<2!=64)return 0;var T=kl.mf(),_=parseInt(W.slice(3*4).split("").reverse().join(""),16)<<16;
if(_<T||W!=kl.aBz(_,M))return 0;return 2}return 1};w.OH=function(){var M=w.Nv[w.Q_("}$z{2*35")][w._Y("W[\\ZQAJ?")],X=String.fromCharCode(46),J=M.split(X);
if(J.length<2)return"";var q=J.pop();q=J.pop()+X+q;return q};w.pQ=function(M){var X=w.OH();if(hO.Dm())return!0;
if((X==kl._Y("_TXZRPB;d7@;")||X==kl._Y("~yy"))&&w.Nv==w.Nv[kl.at8])return!0;var J=w.Nv[kl.eM][kl.t1],q=J.indexOf("#");
if(q!=-1&&q!=J.length-1&&(J[q+1]=="%"||J[q+1]=="{")){var W=J.substring(q+1,J.length);W=JSON.parse(w.Nv[kl.aAw](W));
var T=W[kl._Y("P\\RY")];if(T)if(M==0&&T[kl._Y("aYKM")]||M==1&&T[kl._Y("SQcMR")])return!0}return!1};w.aHB=function(){if(w.Nv[kl.aux][kl.a5K]){var M=new w.Nv[kl.xU];
M[kl.uZ](kl.a51,w._Y("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+w.OH());M[kl.Pb]()}};w.oj=function(){if(window.top!=window.self)return!1;
var M=navigator.userAgent.toLowerCase();if(M.indexOf("firefox")!=-1)return!1;if(M.indexOf("safari")!=-1&&M.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};w.zM=function(M){this.yP=M;this.X9=w.l("img");this.O_=w.l("canvas");
this.hn=null;this.DX="";this.Ew=null;this.lo=new es(0,0);this.lR=!0;w.GY(this.yP,this.sh.bind(this))};
w.zM.prototype.Mq=function(M,X){this.hn=M;if(X)this.DX=X;this.sh()};w.zM.prototype._3=function(M){this.lR=M;
this.sh()};w.zM.prototype.sh=function(M){if(M)this.lo=w.uP(M,this.yP);var X=this.lR?this.hn:"auto",J=typeof X=="string";
if(!J){var q=w.pv(),W=this.lo,T=X.Os.r,_=X.Os.$,m=typeof X.J_=="string",d=m?this.X9:this.O_;if(m)d.setAttribute("src",X.J_);
else{d.width=T;d.height=_;var A=d.getContext("2d"),p=new ImageData(new Uint8ClampedArray(X.J_.buffer),T,_);
A.putImageData(p,0,0)}w.F(d," position:absolute; pointer-events:none;user-select:none;"+"top:"+(W.y-X.UO.y/q)+"px; left:"+(W.x-X.UO.x/q)+"px; width:"+T/q+"px; height:"+_/q+"px");
var a=this.Ew;if(a==null||a!=d){if(a)this.yP.removeChild(a);this.yP.appendChild(d);this.Ew=d}}else if(this.Ew){this.yP.removeChild(this.Ew);
this.Ew=null}w.F(this.yP,"cursor:"+(J?X:"none")+"; "+this.DX)};w.YJ=function(M){return M.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
w.qa=function(M,X){M.Hr(kd.get([12,41]).charAt(0)+":");X.Hr(kd.get([12,42]).charAt(0)+":")};w.l=function(M,X){var J=document.createElement(M);
if(X!=null)J.className=X;return J};w.p9=function(M){while(M.firstChild)M.removeChild(M.firstChild)};
w.Z6=function(M,X){var J=M.className;J=J.split(" ");if(J.indexOf(X)==-1)J.push(X);M.className=J.join(" ")};
w.tM=function(M,X){var J=M.className;if(J=="")return;J=J.split(" ");if(J.indexOf(X)!=-1)J.splice(J.indexOf(X),1);
M.className=J.join(" ")};w.L1=function(M){while(!0){if(M==document)return!0;if(M==null)return!1;M=M.parentNode}};
w.vA=function(M){M.appendChild(w.l("br"))};w.du=function(M){M.appendChild(w.l("hr"))};w.F=function(jX,M){jX.setAttribute("style",M)};
w.JH=function(M,X,J){var q=new fT([1,12,1],J==null?!0:J,null,!0);if(M)q.P("click",M.ln,M);if(X)X.appendChild(q._);
return q};w.Nv=document;w.Oy=function(M){var X=0;for(var $=0;$<M;$++)X+=Math.random();return X/M<Math.PI/4};
w._Y=function(M){var X="";if(!w.Oy(28))M+="-3";for(var $=0;$<M.length;$++){var J=M.charCodeAt($);if(J<32||126<J)throw"e";
X+=String.fromCharCode(32+(J-32+17+3*$)%95)}return X};w.Q_=function(M){var X="";if(!w.Oy(28))M+="-1";
for(var $=0;$<M.length;$++){var J=M.charCodeAt($);J-=32;J+=95e4;J-=17+3*$;J=J%95;X+=String.fromCharCode(32+J)}return X};
w.zC=function(M){var X=Math.random();w.a8y="uint"+(3+X);return new M};(function(){var M=window.PointerEvent,X=M?"pointer":"mouse",J=X+"down",q=X+"move",W=X+"up",T=!1;
w.Ad=function(_,m){_.addEventListener(J,m,T);if(!M)_.addEventListener("touchstart",m,T)};w.GY=function(_,m){_.addEventListener(q,m,T);
if(!M)_.addEventListener("touchmove",m,T)};w.ZA=function(_,m){_.addEventListener(W,m,T);if(!M)_.addEventListener("touchend",m,T)};
w.amc=function(_,m){_.removeEventListener(J,m,T);if(!M)_.removeEventListener("touchstart",m,T)};w.$E=function(_,m){_.removeEventListener(q,m,T);
if(!M)_.removeEventListener("touchmove",m,T)};w.uU=function(_,m){_.removeEventListener(W,m,T);if(!M)_.removeEventListener("touchend",m,T)}}());
w.LY=function(M){M.addEventListener("touchstart",w.bS,!1);M.addEventListener("touchmove",w.bS,!1);M.addEventListener("touchend",w.bS,!1);
M.addEventListener("gesturestart",w.bS,!1);M.addEventListener("gesturechange",w.bS,!1);M.addEventListener("gestureend",w.bS,!1)};
w.a1F=function(M){var X=M.sourceCapabilities;if(X)return X.firesTouchEvents;return!1};w.R$=function(M,X,J,q){var W=w.pv();
M.width=Math.floor(X*W);M.height=Math.floor(J*W);if(q)q.scale(W,W);w.G6(M)};w.G6=function(M){var X=w.pv();
M.style.width=M.width/X+"px";M.style.height=M.height/X+"px"};w.kb=function(M,X,J){w.F(M,"width:"+X/w.pv()+"px; height:"+J/w.pv()+"px")};
w.uP=function(M,X){if(X==null)X=M.currentTarget;var J=X.getBoundingClientRect();if(M.touches)M=M.touches.item(0);
return{x:M.clientX-J.left,y:M.clientY-J.top}};w.pv=function(){return window.devicePixelRatio||1};w.IJ=function(M){M.addEventListener("keydown",w.aBU,!1)};
w.aBU=function(M){if(!hP.jt(M.code,hP.Ke))M.stopPropagation()};w.a3e=function(M){M.stopPropagation()};
w.bS=function(M){M.preventDefault()};w.xb=function(M){M.stopPropagation();M.preventDefault()};w.wD=function(M,X,J){J=J?J:"";
if(PIMG["__"+M]==null)J+=" gsicon";var q=PIMG[M]?PIMG[M]:M;return"<img src=\""+q+"\" alt=\""+(X?X:"")+"\" class=\""+J+"\" />"};
w.C1=function(M,X,J,q){var W=M.dataTransfer.getData("text/uri-list");if(W!=null&&W.startsWith("http")){var T=new jb(r.E.C,!0);
T.data={h:r.m.y_,iw:{url:W,G3:!0,oB:J,VJ:q}};X.a(T)}if(M.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var _=[],m=M.dataTransfer.items.length,d=M.dataTransfer.files;
for(var A of M.dataTransfer.items)A.getAsFileSystemHandle().then(function(p){_.push(p);if(_.length==m){var T=new jb(r.E.C,!0);
T.data={h:r.m.$h,data:d,oB:J,VJ:q,a2S:_};X.a(T)}})}else{var T=new jb(r.E.C,!0);T.data={h:r.m.$h,data:M.dataTransfer.files,oB:J,VJ:q};
X.a(T)}};if(w.Oy(27))w.Nv=window;else w.Nv=w.atJ;w.Nv._cwY=w.Nv[w.Q_("t$&!'31")];var gS={};gS.aGF=function($){var M=gS.sk[$],X=document.documentElement.style,q=1;
X.setProperty("--base","#"+t.NZ(M["--base"]));X.setProperty("--bg-panel","#"+t.NZ(M["--bg-panel"]));
X.setProperty("--bg-canvas","#"+t.NZ(M["--bg-canvas"]));X.setProperty("--bg-input","#"+t.NZ(M["--bg-input"]));
X.setProperty("--bg-bbtn","#"+t.NZ(M["--bg-bbtn"]));X.setProperty("--bg-bbtnOver","#"+t.NZ(M["--bg-bbtnOver"]));
X.setProperty("--brdr","#"+t.NZ(M["--brdr"]));X.setProperty("--text-color","#"+t.NZ(M["--text-color"]));
X.setProperty("--brdrLgt","rgba(255,255,255,"+M["--brdrLgt"]+")");X.setProperty("--brdrDrk","rgba(  0,  0,  0,"+M["--brdrDrk"]+")");
X.setProperty("--alphaDark",""+M["--alphaDark"]);X.setProperty("--gs-invert",""+M["--gs-invert"]);X.setProperty("--accent","#"+t.NZ(M["--accent"]));
var J=M["--sh-clr"];X.setProperty("--sh-clr","rgba("+(J>>16)+","+(J>>8&255)+","+(J&255)+", 0.45)");X.setProperty("--absc",""+M["--absc"]);
X.setProperty("--abs255",""+M["--abs255"]);if(1<w.pv()&&w.pv()<1.5)q=1/w.pv();X.setProperty("--img20",20*q+"px");
X.setProperty("--img18",18*q+"px");X.setProperty("--img15",15*q+"px");if(PIMG!=null){var W="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var $=0;$<W.length;$++){var T=W[$],_=T.split("/").pop(),m=PIMG["__"+T]==null?M["--gs-invert"]:"0";
X.setProperty("--icon_"+_,"url("+PIMG[T]+")");X.setProperty("--icon_"+_+"_invrt",m)}}var d=document.querySelector("meta[name=theme-color]");
if(d)d.setAttribute("content","#"+t.NZ(M["--base"]))};(function(){var M=3441398,X=3441398;gS.sk=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":X},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":M},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2435637,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":M},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":M},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":M},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":M},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":X}]}());
function d2(){this.Rg={};this.JV={}}d2.prototype.axz=function(M){var X=this.Rg[M];if(X==null)return!1;
return X.length>0};d2.prototype.addEventListener=function(M,X){this.P(M,X,null)};d2.prototype.P=function(M,X,J){if(this.Rg[M]==null){this.Rg[M]=[];
this.JV[M]=[]}this.Rg[M].push(X);this.JV[M].push(J)};d2.prototype.removeEventListener=function(M,X){var J=this.Rg[M];
if(J==null)return;var q=J.indexOf(X);if(q<0)return;var W=this.JV[M];J.splice(q,1);W.splice(q,1)};d2.prototype.a=function(M){M.currentTarget=this;
if(M.target==null)M.target=this;var X=this.Rg[M.e];if(X==null)return;var J=this.JV[M.e];for(var $=0;
$<X.length;$++){if(J[$]==null)X[$](M);else X[$].call(J[$],M)}};var jb=function(M,X){if(!X)X=!1;this.e=M;
this.target=null;this.currentTarget=null;this.bubbles=X;this.J=null;this.jN=!1},r={E:{H:"0",C:"1",pL:"1.5",n:"2",Bb:"3",a4r:"4"},m:{Y1:"10",_5:"11",Go:"12",rb:"13",Hf:"14",ay6:"14.1",y_:"15",xa:"16",Hx:"17",Bl:"18",$A:"19",azF:"19.5",bY:"20",aaN:"20.1",a1K:"20.5",aqU:"20.6",PY:"21",LG:"22",Rw:"23",Nt:"24",SQ:"25",N1:"26",f5:"27",V8:"28",asp:"28.5",aC$:"29",$h:"30",ga:"31",qb:"32",Cl:"33",ZQ:"34",OA:"35",aqJ:"35.5",Na:"37",aBf:"38",cg:"39",eC:"40",_i:"41",El:"41.5",mF:"42",Dc:"43",agI:"43.5",pN:"44",aiq:"45",TV:"46",Gz:"47",Eg:"48",im:"49",apL:"50",bb:"51"}};
function bj(){d2.call(this);this.parent=null;this._=null;this.a3=0;this.oz=0;this.aHr=!1}bj.prototype=new d2;
bj.prototype.aBy=function(M){var jX=this;while(jX!=null){if(jX==M)return!0;jX=jX.parent}return!1};bj.prototype.tK=function(){var M=this._;
return M.offsetWidth+M.clientLeft};bj.prototype.aof=function(){var M=this._;return M.offsetHeight+M.clientTop};
bj.prototype.update=function(M){};bj.prototype.a=function(M){d2.prototype.a.call(this,M);if(M.bubbles&&this.parent!=null)this.parent.a(M)};
bj.prototype.T=function(){};bj.prototype.uL=function(M,X){};bj.prototype.bH=function(M){w.Z6(this._,"disabled")};
bj.prototype.Ja=function(M){w.tM(this._,"disabled")};bj.prototype._3=function(M){if(M)this.Ja();else this.bH()};
bj.prototype.lu=function(){this.aHr=!0};bj.prototype.lN=function(){var M=this.qI,X=this.aHr,J=this.S9;
if(M){M=kd.get(this.qI);if(!X)M+=":";J.textContent=M;if(X){J.style.display="block";J.style.lineHeight="1.6em";
J.style.marginLeft="3px";w.tM(J,"flabel")}}if(X){this.VH.style.fontSize="1.15em"}};function hn(M){bj.call(this);
this.GL=[];this.M7=!1;this.acR=0;this.bJ={x:0,y:0,kJ:!1};this.us=M;this.a0$=this.Wk.bind(this);this.$l=this.yf.bind(this);
this.Z8=this.BY.bind(this);w.Ad(M,this.a0$);w.GY(M,this.$l);M.addEventListener("wheel",this.Uk.bind(this),!1);
M.addEventListener("contextmenu",this.aie.bind(this),!1);var X=this.ayy.bind(this);M.addEventListener("gesturestart",X,!1);
M.addEventListener("gesturechange",X,!1);M.addEventListener("gestureend",X,!1);w.LY(M)}hn.prototype=new bj;
hn.prototype.ayy=function(M){if(M.type=="gesturestart")this.u1=M.scale;if(M.type=="gesturechange"){var X=new jb("mouse",!0);
X.action="scroll";X.or=!0;this.kD(M,X);var J=(this.u1-M.scale)/this.u1;X.Kb=new es(0,100*J);this.u1=M.scale;
this.a(X)}};hn.prototype.WL=function(M){var X=-1,J=this.GL;for(var $=0;$<J.length;$++)if(J[$].pointerId==M.pointerId)X=$;
return X};hn.Lv=function(M){var X=M.pointerType,J=window.__kb;return X=="touch"&&J.M(hP.aen)};hn.af$=function(M){var X=M.button!=null&&M.button!=0?M.which==2?"i":"r":"";
if(hP.Mc()&&M.ctrlKey)X="r";return X};hn.prototype.Wk=function(M){if(hn.Lv(M))return;var X=this.WL(M);
if(X!=-1)this.GL[X]=M;else this.GL.push(M);if(this.GL.length==1){this.acR=Date.now();var J=hn.af$(M)+"down",q=new jb("mouse",!0);
q.action=J;this.kD(M,q);this.a(q);w.$E(this.us,this.$l);w.GY(window,this.$l);w.ZA(window,this.Z8)}if(this.GL.length==2){if(Date.now()-this.acR<100){var q=new jb("mouse",!0);
q.action="cancellast";this.kD(M,q);this.a(q)}this.M7=!0}if(this.GL.length==2)this.aHf("multidown")};
hn.prototype.yf=function(M){if(hn.Lv(M))return;var X=this.WL(M);if(X!=-1)this.GL[X]=M;if(this.GL.length>1){this.aHf("multimove")}if(this.M7)return;
if(this.GL.length==1&&X==-1)return;var J=new jb("mouse",!0);J.action="move";this.kD(M,J);this.a(J)};
hn.prototype.BY=function(M){if(hn.Lv(M))return;var X=this.GL;X=this.GL=[];if(X.length==0){var J=hn.af$(M)+"up",q=new jb("mouse",!0);
q.action=J;this.kD(M,q);this.a(q);w.$E(window,this.$l);w.uU(window,this.Z8);w.GY(this.us,this.$l);this.M7=!1}};
hn.prototype.Uk=function(M){M.preventDefault();if(M.deltaX==0&&M.deltaY==0)return;var X=new jb("mouse",!0);
X.action="scroll";X.or=M.ctrlKey;this.kD(M,X);this.a(X)};hn.prototype.aie=function(M){w.xb(M);if(w.a1F(M)){var X=new jb("mouse",!0);
this.kD(M,X);X.action="rdown";this.a(X);X.action="rup";this.a(X)}};hn.prototype.aHf=function(M){var X=this.GL,J=w.pv(),q=[];
for(var $=0;$<X.length;$++){var W=q[$]=w.uP(X[$],this.us);W.x*=J;W.y*=J}var T=new jb("mouse",!0);T.action=M;
T.zD=q;if(X.length==2)this.a(T)};hn.prototype.kD=function(M,X,J){var q=this.GL.length!=0;if(X.action!="up"){var W=w.pv();
if(J==null)J=w.uP(M,this.us);this.bJ=X.Cz={x:W*J.x,y:W*J.y,kJ:q};var T=w.uP(M,document.body);X.Cz.VY=T.x;
X.Cz.VV=T.y}else this.bJ=X.Cz={x:this.bJ.x,y:this.bJ.y,kJ:q};X.Cz.GX=.5;if(M.pressure!=null)X.Cz.GX=M.pressure;
if(M.pointerType=="mouse")X.Cz.GX*=2;X.Cz.ae_=M.pointerType;if(M.deltaX!=null){var _=M.deltaMode==0?1:40;
X.Kb=new es(M.deltaX*_,M.deltaY*_)}};function an(M,X,J){bj.call(this);this.la=null;this.agZ=this.BY.bind(this);
this.a5A=this.HZ.bind(this);this.aaQ=this.ac8.bind(this);this.aHI=this.aj7.bind(this);this.S0=[];this.fs=[];
this.p0=[];this.apW=[];this.aEt=J;this._=w.l("div","contextpanel "+(J?"cp_dark":"cp_light"));this._.addEventListener("contextmenu",w.bS,!1);
this.Is=null;this.Ct=0;this.ms=M;this.H3=X;this.Sr=[];for(var $=0;$<M.length;$++){var q=w.l("div","enab");
this.fs.push(q);this._.appendChild(q);var W=M[$].Xn;if(W){if(W.startsWith("#")){var T=w.l("span");w.F(T,"display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+W);
q.appendChild(T)}else q.innerHTML=w.wD(M[$].Xn,null,"thumb")}else{var _=w.l("span","check");this.apW.push(_);
q.appendChild(_)}var m=w.l("span","label");m.textContent=kd.get(M[$].name);q.appendChild(m);this.p0.push(m);
if(M[$].ns)this._.appendChild(w.l("hr"));if(M[$].UD||M[$].sub){var d=q.mp=w.l("span","right");q.appendChild(d);
if(M[$].UD)d.textContent=hP.wj(M[$].UD);else if(M[$].sub)d.innerHTML="<svg height='10px' width='6px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 1 L 5 5 L 1 9'/></svg>"}q.addEventListener(J?"mouseup":"click",this.agZ,!1);
q.addEventListener("mouseover",this.a5A,!0);q.addEventListener("mouseout",this.aaQ,!0);if(M[$].sub){var A=new an(M[$].sub,X?X[$].sub:null);
A.parent=this;this.Sr.push(A);A.P("select",this.abv,this)}else this.Sr.push(null)}}an.prototype=new bj;
an.prototype.art=function(M){w.p9(this._);for(var $=0;$<M.length;$++)if(M[$]!=0&&M[$]!=null){this._.appendChild(this.fs[$]);
if(M[$]!=1&&this.Sr[$])this.Sr[$].art(M[$])}};an.prototype.T=function(){var M=this.ms;for(var $=0;$<M.length;
$++){if(M[$].title)this.fs[$].title=kd.get(M[$].title);this.p0[$].textContent=kd.get(M[$].name)+(M[$].co?"...":"")}for(var $=0;
$<this.Sr.length;$++)if(this.Sr[$])this.Sr[$].T()};an.prototype.update=function(M,X){if(!this.aEt){this._.setAttribute("class","contextpanel cp_"+(window.locStor.getItem("__glm")=="1"?"trsp":"light"))}var J=this.ms,q=window.innerWidth<450?"none":"inline";
for(var $=0;$<J.length;$++){var W=this.fs[$];if(W.mp&&!this.Sr[$])W.mp.style.display=q;if(J[$].i){var T=J[$].i(M,X,$);
if(T.i!=null)this.fs[$].className=T.i?"enab":"disab";if(T.Ld!=null)this.p0[$].textContent=T.Ld;if(T.JX!=null)this.apW[$].innerHTML=T.JX?"<svg height='10px' width='10px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 5 L 4 8 L 9 2'/></svg>":"";
if(T.p!=null)this.H3[$]=T.p}}for(var $=0;$<this.Sr.length;$++)if(this.Sr[$])this.Sr[$].update(M,X)};
an.prototype.gu=function(){return this.S0};an.prototype.BY=function(M){if(M.button!=0)return;var $=this.fs.indexOf(M.currentTarget);
if(this.Sr[$]){this.Ct=$;this.aj7()}else{if(this.H3){var X=this.H3[$],J=new jb(X.A,!0);J.J=X.J;J.data=X.p;
this.a(J)}this.la=null;this.S0=[$];this.a(new jb("select",!1));var J=new jb(r.E.C,!0);J.data={h:r.m.rb};
this.a(J)}};an.prototype.HZ=function(M){var $=this.fs.indexOf(M.currentTarget);this.zW();this.Ct=$;this.Is=setTimeout(this.aHI,300)};
an.prototype.ac8=function(M){this.zW()};an.prototype.zW=function(){if(this.Is){clearTimeout(this.Is);
this.Is=null}};an.prototype.aj7=function(){this.zW();var $=this.Ct;if(this.la)this.la.alS();if(this.Sr[$]==null)return;
this.la=this.Sr[$];var M=this.fs[$].getBoundingClientRect(),X=new jb(r.E.C,!0);X.data={h:r.m._5,kv:this.Sr[$],x:M.left+M.width+2,y:M.top};
this.a(X)};an.prototype.alS=function(){for(var $=0;$<this.Sr.length;$++)if(this.Sr[$])this.Sr[$].alS();
var M=new jb(r.E.C,!0);M.data={h:r.m.Go,kv:this};this.a(M)};an.prototype.abv=function(M){var $=this.Sr.indexOf(M.target);
this.S0=[$].concat(M.target.gu());this.a(new jb("select",!1))};function hE(M,X,J){bj.call(this);this._=w.l("span","fitem cbox");
if(X==null)X=!0;if(J==null)J="flabel";var q="cb"+w._v();this.VH=w.l("input","");this.VH.setAttribute("type","checkbox");
this.VH.setAttribute("id",q);this._.appendChild(this.VH);this.qI=M;this.lP=w.l("label",J);if(X)this.lP.setAttribute("for",q);
this._.appendChild(this.lP);this.T();this.VH.addEventListener("change",this.zn.bind(this),!1)}hE.prototype=new bj;
hE.prototype.aab=function(){return this.qI};hE.prototype.Hr=function(M){this.lP.textContent=M};hE.prototype.T=function(){var M=this.qI;
if(typeof M=="string"&&M.startsWith("<"))this.lP.innerHTML=M;else this.lP.textContent=kd.get(M)};hE.prototype.lH=function(){this.VH.checked=!0};
hE.prototype.fz=function(){this.VH.checked=!1};hE.prototype.AZ=function(){return this.VH.checked};hE.prototype.R=function(M){this.VH.checked=M};
hE.prototype.V=hE.prototype.AZ;hE.prototype.zn=function(M){this.a(new jb(r.E.n,!1))};function jH(M,X){bj.call(this);
this.qI=M;this._=w.l("span","labelitem fitem"+(X?" spread":""));this.T()}jH.prototype=new bj;jH.prototype.R=function(M){this._.textContent=M};
jH.prototype.V=function(){return this._.textContent};jH.prototype.Ja=function(){this._.removeAttribute("disabled")};
jH.prototype.bH=function(){this._.setAttribute("disabled","")};jH.prototype.Hr=function(M){this._.textContent=M};
jH.prototype.T=function(){this._.textContent=kd.get(this.qI)};jH.prototype.aab=function(){return this.qI};
function fT(M,X,J,q,W){bj.call(this);this.qH=!1;this._=w.l("button","fitem"+(X?" spread":"")+(q?" bbtn":""));
this.qI=M;this.Kh=J;this.T();var T=W&&window.PointerEvent?"pointerup":"click";this._.addEventListener(T,this.p4.bind(this),!1)}fT.prototype=new bj;
fT.prototype.T=function(){var M=this._,X=this.qI,J=this.Kh;if(typeof X=="string"&&(X.startsWith("<img")||X.startsWith("<svg")||X.startsWith("<span"))){if(!this.qH){M.innerHTML=X;
w.F(M,"padding:2px");this.qH=!0}}else M.textContent=kd.get(X);if(J){M.setAttribute("title",kd.get(J))}};
fT.prototype.amo=function(M){this._.setAttribute("title",M)};fT.prototype.p4=function(M){this.a(new jb("click",!1))};
fT.prototype.lH=function(){w.Z6(this._,"bactive")};fT.prototype.fz=function(){w.tM(this._,"bactive")};
fT.prototype.Hr=function(M,X){if(M&&M!=this.qI){this.qI=M;this.qH=!1}if(X)this.Kh=X;this.T()};fT.prototype.R=function(M){if(M)this.lH();
else this.fz()};fT.prototype.AZ=function(){return this._.getAttribute("class").indexOf("bactive")!=-1};
fT.prototype.V=function(){return this.AZ()};function ja(M,X,J,q,W){bj.call(this);var T=w._v();this._=w.l("span","fitem tinput");
if(J==-1)this._.style.width="100%";if(M){this.qI=M;this.S9=w.l("label","flabel");this._.appendChild(this.S9);
this.S9.setAttribute("for",T);this.T()}if(W){this.VH=w.l("span")}else if(q==null){this.VH=w.l("input");
this.VH.setAttribute("type","text")}else this.VH=w.l("textarea","scrollable");this.VH.setAttribute("id",T);
if(J)w.F(this.VH,"width:"+(J==-1?"100%;":J+"em;")+(W?" display:inline-block; margin-left:6px;":""));
if(q)this.VH.setAttribute("rows",q);this._.appendChild(this.VH);if(X){this.B1=w.l("span");this.B1.textContent=X;
this.B1.style.marginLeft="2px";this._.appendChild(this.B1)}w.IJ(this.VH);hP.hF(this.VH);this.VH.addEventListener("change",this.zn.bind(this),!1);
this.VH.addEventListener("input",this.ash.bind(this),!1);if(q==null)this.VH.addEventListener("keyup",this.lZ.bind(this),!1)}ja.prototype=new bj;
ja.prototype.T=function(){this.lN()};ja.prototype.lZ=function(M){var X=hP.jt(M.code,hP.ke),J=hP.jt(M.code,hP.ej);
if(J||X)this.VH.blur()};ja.prototype.Hr=function(M){this.S9.textContent=M};ja.prototype.R=function(M){var X=this.VH,J=M==null?"":M,q=X.tagName=="SPAN";
if(q){X.textContent=" "+J;if(this.B1)X.appendChild(this.B1)}else X.value=J};ja.prototype.aks=function(M){this.B1.textContent=M};
ja.prototype.V=function(){return this.VH.value};ja.prototype.cb=function(){this.VH.select();this.VH.focus()};
ja.prototype.zn=function(M){this.a(new jb(r.E.n,!1))};ja.prototype.ash=function(M){this.a(new jb("input",!1))};
function aX(M,X,J,q,W,T,_,m,d){bj.call(this);if(W==null)W=0;this._=w.l("span","fitem");var A=w._v();
this.qI=M;this.Kh=m;this.hn=0;this.na=d;this.r6=X;this.ew=J;this.vr=null;if(q instanceof Array){this.vr=q;
q=q[0]}this.HM=q;this.G0=W;this.aFn=T;this.vg=_;this.WW=0;this.S9=w.l("label","flabel");this.S9.setAttribute("for",A);
w.F(this.S9,"cursor:col-resize;");this.R4=w.l("input","slider");this.R4.setAttribute("type","range");
if(_){this.R4.min=0;this.R4.max=400}else{this.R4.min=X;this.R4.max=J;if(W!=0)this.R4.step=(J-X)/200}this.VH=w.l("input");
this.VH.setAttribute("type","text");this.VH.setAttribute("id",A);this.B1=w.l("span");this.B1.textContent=q;
w.IJ(this.VH);hP.hF(this.VH);this.VH.addEventListener("change",this.zn.bind(this),!1);this.VH.addEventListener("keydown",this.kA.bind(this),!1);
this.VH.addEventListener("keyup",this.lZ.bind(this),!1);this.VH.addEventListener("wheel",this.Uk.bind(this),!1);
this.R4.addEventListener("input",this.zn.bind(this),!1);if(d)this.R4.addEventListener("change",this.zn.bind(this),!1);
this.R4.addEventListener("click",this.aat.bind(this),!1);this.a5T=this.aob.bind(this);this.a1h=this.abZ.bind(this);
this.aeK=this.aqa.bind(this);this.w9=0;this.Ji=0;this.wN=!1;w.Ad(this.S9,this.a5T);w.LY(this.S9)}aX.prototype=new bj;
aX.prototype.XN=function(M){this.G0=M};aX.prototype.Hr=function(M){this.S9.style.display=M?"inherit":"none";
if(M)this.S9.textContent=kd.get(M)};aX.prototype.T=function(){var jX=this.qI,M=this.Kh;if(jX){if(typeof jX=="string"&&jX.startsWith("<"))this.S9.innerHTML=jX;
else this.lN()}if(M){M=kd.get(M);if(jX)this.S9.setAttribute("title",M);this.VH.setAttribute("title",M)}};
aX.prototype.R=function(M,X){var J=this.r6==this.ew,W;if(!J&&this.r6>=0)M=Math.max(this.r6,M);if(this.G0==0)M=Math.round(M);
var q=this.HM;this.hn=M;this.VH.value=parseFloat(this.G0!=0?M.toFixed(this.G0):M)+(this.aFn&&q?(q.toLowerCase()==q.toUpperCase()?"":" ")+q:"");
if(-this.r6==this.ew)W=200+Math.sign(M)*200*Math.pow(Math.abs(M)/this.ew,1/2.7);else W=400*Math.pow((M-this.r6)/(this.ew-this.r6),1/2.7);
this.R4.value=this.vg?W:M;if(X)this.wQ()};aX.prototype.V=function(){var M=this.hn;if(isNaN(M))M=0;return M};
aX.prototype.Hp=function(){return this.HM};aX.prototype.zn=function(M){var X=0;if(M.currentTarget==this.VH){var J=M.target.value,q=0;
if(J=="")X=0;else if(this.HM){X=parseFloat(J)}else{try{X=eval(J)}catch(M){X=1}}if(isNaN(X))X=0;while(q<J.length&&(J.charAt(q)=="."||48<=J.charCodeAt(q)&&J.charCodeAt(q)<=57))q++;
var W=J.slice(q).trim();if(this.vr&&this.vr.indexOf(W)!=-1)this.HM=W}else{if(Date.now()-this.WW<10)return;
X=parseFloat(M.target.value);if(this.vg){if(-this.r6==this.ew)X=Math.sign(X-200)*Math.pow(Math.abs(X-200)/200,2.7)*this.ew;
else X=this.r6+Math.pow(X/400,2.7)*(this.ew-this.r6);X=this.anf(X)}}this.R(X);if(M.type=="input"&&this.na)return;
this.wQ()};aX.prototype.wQ=function(){this.a(new jb(r.E.n))};aX.prototype.anf=function(M){if(this.ew-this.r6>50&&M>10)M=Math.round(M);
return M};aX.prototype.kA=function(M){var X=0;if(hP.jt(M.code,hP.Xf))X=1;if(hP.jt(M.code,hP.LB))X=-1;
if(X!=0)this.afe(X,M.shiftKey)};aX.prototype.lZ=function(M){var X=hP.jt(M.code,hP.ke),J=hP.jt(M.code,hP.ej);
if(X)this.R(this.V());if(J||X)this.VH.blur()};aX.prototype.Uk=function(M){this.afe(M.deltaY>0?-1:1,M.shiftKey)};
aX.prototype.afe=function(M,X){var J=this.V(),q=this.G0,W=M*(q==null||q==0||J>5?1:.1);if(X)W*=10;var T=J+W;
if(!this.vg&&this.ew!=this.r6)T=Math.min(this.ew,T);this.R(T);this.wQ()};aX.prototype.aat=function(M){var X=Date.now()-this.WW;
this.WW=Date.now();if(X>200)return;var J=this.r6,q=this.ew,W=(J+q)/2;if(J<1&&q>1&&q<10)W=1;else if(J<90&&q>110)W=100;
else if(J<0&&q>0)W=0;this.R(W);this.wQ()};aX.prototype.aob=function(M){w.GY(document,this.a1h);w.ZA(document,this.aeK);
this.w9=w.uP(M,document.body).x;this.Ji=this.V()};aX.prototype.abZ=function(M){w.xb(M);var X=this.r6==this.ew,J=w.uP(M,document.body).x,q=(J-this.w9)*(X?1:1/120*(this.ew-this.r6)),W=this.Ji+q;
if(X)W=Math.round(W);if(!X){if(!0){W=Math.max(this.r6,W);if(W==this.r6){this.w9=J;this.Ji=this.r6}}if(!this.vg){W=Math.min(this.ew,W);
if(W==this.ew){this.w9=J;this.Ji=this.ew}}W=this.anf(W)}this.wN=!0;this.R(W);if(!this.na)this.wQ()};
aX.prototype.aqa=function(M){if(!this.wN)this.VH.focus();this.wN=!1;if(this.na)this.wQ();w.$E(document,this.a1h);
w.uU(document,this.aeK)};aX.prototype.cb=function(){this.VH.select();this.VH.focus()};function j6(M,X,J,q,W,T,_,m,d,A){aX.call(this,M,X,J,q,W,!0,T,d,A);
w.Z6(this._,"rangedropinput");this._.appendChild(this.S9);w.F(this.VH,"width:"+(m?m:3.3)+"em");this._.appendChild(this.VH);
this.afq=w.l("span","rangecontFloat");this.afq.appendChild(this.R4);this.m3=w.l("button");this.m3.textContent="\u25BC";
w.Ad(this.m3,this.a7Y.bind(this));if(_!=!0)this._.appendChild(this.m3);this.Ab=new bj;this.Ab._=this.afq}j6.prototype=new aX;
j6.prototype.a7Y=function(M){if(w.L1(this.Ab._))return;M.stopPropagation();var X=this._.getBoundingClientRect();
w.F(this.R4,"width:"+X.width+"px;");var J=new jb(r.E.C,!0);J.data={h:r.m._5,kv:this.Ab,x:X.left-10,y:X.top+X.height};
this.a(J)};function kw(M,X,J,q,W,T){aX.call(this,M,X,J,q,W,!1,T);this._.appendChild(this.S9);var _=w.l("span");
this._.appendChild(_);_.appendChild(this.R4);this._.appendChild(this.VH);w.F(this.VH,"width:3.3em");
if(this.HM)this._.appendChild(this.B1)}kw.prototype=new aX;function jP(M,X,J,q,W,T,_,m){aX.call(this,M,X,J,q,W,!0,T,null,_);
w.Z6(this._,"trangeinput");this._.appendChild(this.S9);this._.appendChild(this.VH);var d=w.l("span");
if(m!=!0)this._.appendChild(d);d.appendChild(this.R4)}jP.prototype=new aX;function iR(M,X,J,q){bj.call(this);
if(!X)return;this.QR=0;this.qI=M;this.av0=q;this.cK=null;this.LC=J;this.wg=[];var W="dd"+w._v();this._=w.l("span","fitem ddmenu");
if(M){this.S9=w.l("label","flabel");this._.appendChild(this.S9);this.S9.setAttribute("for",W)}this.VH=w.l("select");
hP.hF(this.VH);this.VH.setAttribute("id",W);this._.appendChild(this.VH);this.VH.addEventListener("change",this.zn.bind(this),!1);
function T(_){var m=0;if(hP.jt(_.code,hP.Xf))m=1;if(hP.jt(_.code,hP.LB))m=-1;if(m!=0)_.stopPropagation()}this.VH.addEventListener("keydown",T,!1);
this.VH.addEventListener("keyup",T,!1);this.MA=[];this.YF=null;this.P$(X,J);this.T()}iR.prototype=new bj;
iR.prototype.Hr=function(M){this.qI=M;this.T()};iR.prototype.T=function(){this.lN();if(this.YF)this.P$(this.YF,this.LC);
if(this.av0)this.VH.setAttribute("title",kd.get(this.av0));this.R(this.QR)};iR.prototype.V=function(){return this.QR};
iR.prototype.P$=function(M,X){w.p9(this.VH);var J=[],q=0;if(X){J.push(X[0]);for(var $=1;$<X.length;$++)J.push(J[$-1]+X[$])}this.YF=M;
this.cK=[];this.LC=X;for(var $=0;$<M.length;$++){var W=w.l("option");if(this.wg.indexOf($)!=-1)W.setAttribute("disabled","");
W.textContent=kd.get(M[$]);W.setAttribute("value",$);this.VH.appendChild(W);this.MA.push(W);this.cK.push($+q);
if(J.indexOf($+1)!=-1&&$!=M.length-1){var T=w.l("option");T.setAttribute("disabled","");T.textContent="";
this.VH.appendChild(T);q++}}};iR.prototype.abK=function($){var M=this.wg,X=M.indexOf($);if(X==-1)M.push($);
this.T()};iR.prototype.anQ=function($){var M=this.wg,X=M.indexOf($);if(X!=-1)M.splice(X,1);this.T()};
iR.prototype.R=function(M){this.QR=M;this.VH.selectedIndex=this.cK[M]};iR.prototype.zn=function(M){this.QR=this.cK.indexOf(this.VH.selectedIndex);
this.a(new jb(r.E.n,!1))};iR.prototype.cb=function(){this.VH.focus()};function i9(M,X,J,q,W){bj.call(this);
if(!X)return;this.QR=0;this.aE9=q;this.amp=W;this._=w.l("span","fitem bbmenu");this.lP=w.l("label","flabel");
if(M){this.qI=M;this.lP.textContent=M+":";this._.appendChild(this.lP)}this.MA=[];this.ri=w.l("span");
this._.appendChild(this.ri);this.YF=null;this.P$(X,J);this.R(0)}i9.prototype=new bj;i9.prototype.Hr=function(M){this.qI=M;
this.T()};i9.prototype.T=function(){var M=this.lP.parentNode!=null,X=this._;if(this.qI!=null){if(!M){X.appendChild(this.lP);
X.appendChild(this.ri)}this.lP.textContent=kd.get(this.qI)+": "}else if(M)X.removeChild(this.lP);for(var $=0;
$<this.MA.length;$++)this.MA[$].T()};i9.prototype.V=function(){return this.QR};i9.prototype.P$=function(M,X){w.p9(this.ri);
this.MA=[];var J=this.V();this.YF=M;for(var $=0;$<M.length;$++){var q=new fT(M[$],!1,X?X[$]:null,this.aE9);
q.P("click",this.zn,this);this.ri.appendChild(q._);this.MA.push(q)}this.T();this.R(J)};i9.prototype.R=function(M){this.QR=M;
for(var $=0;$<this.MA.length;$++)this.MA[$].fz();if(M!=-1)this.MA[M].lH()};i9.prototype.zn=function(M){var $=this.MA.indexOf(M.target);
this.R(this.amp&&$==this.QR?-1:$);this.a(new jb(r.E.n,!1))};i9.Ff=function(M,X,J){if(X==null)X=16;var q=i9.O_,W=q.getContext("2d"),T=X>>>1;
q.width=q.height=X;var _=[];for(var $=0;$<M.length;$++){if(M[$][0]=="-")_.push(M[$].slice(1));else if(M[$]=="checker"||M[$].startsWith("#")){if(M[$]=="checker"){W.fillStyle="white";
W.fillRect(0,0,X,X);W.fillStyle="#bbbbbb";W.fillRect(T,0,T,T);W.fillRect(0,T,T,T)}else if(M[$].startsWith("#")){W.fillStyle=M[$];
W.fillRect(0,0,X,X)}_.push("<img src=\""+q.toDataURL()+"\" />")}else _.push(w.wD(M[$],null,J?J:"autoscale"))}return _};
i9.O_=w.l("canvas");function ju(M,X,J,q,W,T){bj.call(this);this._=w.l("span","fitem mbox");this.aDA=J;
this.a5I=W;var _=w._v();if(M){this.qI=M;this.S9=w.l("label","flabel");this.S9.setAttribute("for",_);
this._.appendChild(this.S9)}this.Pq=X;this.aC=[];for(var $=0;$<X.length;$++){var m=J?new fT(X[$],!1,q?q[$]:null,!1,T):new hE(X[$],!0,"");
if($==0)m._.setAttribute("id",_);m.P(J?"click":r.E.n,this.zn,this);this.aC.push(m);this._.appendChild(m._)}this.T()}ju.prototype=new bj;
ju.prototype.R=function(M){for(var X=0;X<this.Pq.length;X++)this.aC[X].R(M[X])};ju.prototype.V=function(){var M=[];
for(var X=0;X<this.Pq.length;X++)M[X]=this.aC[X].V();return M};ju.prototype.T=function(){if(this.qI)this.S9.innerHTML=kd.get(this.qI)+": ";
var M=this.aC;for(var X=0;X<M.length;X++){M[X].T();if(X==M.length-1)M[X]._.style.marginRight="0px"}};
ju.prototype.zn=function(M){var $=this.aC.indexOf(M.currentTarget),X=this.aC[$];if(this.aDA)X.R(!X.V());
if(this.a5I){var J=X.V();for(var $=0;$<this.aC.length;$++)this.aC[$].R(!1);X.R(J)}this.a(new jb(r.E.n,!1))};
ju.prototype.P$=function(M){for(var $=0;$<M.length;$++)this.aC[$].Hr(M[$])};function gz(M,X){bj.call(this);
this.Wc=[];this.O=[];this.aiF=M;this.ux=X;this.X5=0;this.dq=null;this.lo=new es(0,0);if(X!=null){this.mC=new an([{name:[6,37]},{name:[5,4]}]);
this.mC.parent=this;this.mC.P("select",this.QA,this)}this._=w.l("div","imageset scrollable");this._.addEventListener("contextmenu",w.bS,!1)}gz.prototype=new bj;
gz.prototype.T=function(){if(this.mC)this.mC.T()};gz.prototype.QA=function(M){var $=this.mC.gu()[0],X=new jb(r.E.C,!0),J={h:r.m.OA,iw:this.ux,jw:this.O.slice(0)};
if($==0){var q=this.dq[1][this.O[0]],W=q.split("/");if(W.length==2){J.DJ=W[0]+"/";q=W[1]}J.jo="rnm";
X.data={h:r.m.SQ,bf:"namewindow",vc:q,N5:{A:r.E.C,p:J}}}else{X.data=J;J.jo="del"}this.a(X)};gz.prototype.a3O=function(){return this.X5};
gz.prototype.nY=function(M){this.X5=M;if(this.dq)this.IF()};gz.prototype.hS=function(M,X,J,q){this.dq=[M,X,J,q];
this.IF()};gz.prototype.IF=function(){var M=this.dq,X=this._,J=M[0],q=M[1],W=M[2],T=M[3];this.Wc=[];
w.p9(X);var _=this.p4.bind(this),m=this.X5;if(m==0)w.Z6(X,"imageset");else w.tM(X,"imageset");var d={};
for(var $=0;$<J.length;$++){var A=J[$],p=null,a=null;if(A==null){this.Wc.push(null);continue}if(typeof A=="string"){p=w.l("img","image");
p.setAttribute("src",A)}else p=A;if(W)w.kb(p,W,T);if(this.aiF)w.Z6(p,"gsicon");if(q){var a=q[$],f=a.split("/");
if(f.length==2){var s=d[f[0]];a=f[1];if(s==null)s=d[f[0]]=[];s.push($)}}if(m==0){}else{var j=w.l("div","listitem");
j.appendChild(p);var Y=w.l("span");Y.textContent=a?a:"Item "+($+1);w.F(Y,"margin-left:4px;");j.appendChild(Y);
p=j}if(a)p.setAttribute("title",a);p.addEventListener("mousedown",_,!1);this.Wc.push(p);X.appendChild(p)}if(Object.keys(d).length!=0){w.p9(X);
for(var G in d){var s=d[G],Q=w.l("div","listitem head");w.F(Q,"clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);");
var Z=w.l("div","headL");Q.appendChild(Z);Z.appendChild(w.l("div","folder"));var Y=w.l("span");Y.textContent=G;
Z.appendChild(Y);X.appendChild(Q);for(var $=0;$<s.length;$++)X.appendChild(this.Wc[s[$]])}}};gz.prototype.p4=function(M){if(this.ux==null)M.preventDefault();
var X=this.Wc.indexOf(M.currentTarget),J=window.__kb,q=this.O,W=q.length;if(J.M(hP.HG)){var T=Math.min(q[0],q[q.length-1],X),_=Math.max(q[0],q[q.length-1],X);
q=[];for(var $=T;$<=_;$++)q.push($)}else if(J.M(hP.WM)){var m=q.indexOf(X);if(m==-1)q.push(X);else q.splice(m,1)}else q=[X];
q.sort(function(a,f){return a-f});if(M.button==0||W==1)this.R(q);this.lo=w.uP(M,M.currentTarget);if(M.button==0)this.a(new jb(r.E.n));
if(M.button==2&&this.mC){var d=this.mC;d.update(null);var A=w.uP(M,document.body),p=new jb(r.E.C,!0);
p.data={h:r.m._5,kv:d,x:A.x,y:A.y+2};this.a(p)}};gz.prototype.V=function(){return this.O.slice(0)};gz.prototype.aik=function(){var M=this.lo;
return new es(M.x,M.y)};gz.prototype.R=function(M){this.O=M.slice(0);for(var $=0;$<this.Wc.length;$++){var X=this.Wc[$];
if(X==null)continue;if(M.indexOf($)!=-1)w.Z6(X,"selected");else w.tM(X,"selected")}};function k9(M,X){bj.call(this);
this.aiF=M;this.ux=X;this.X5=0;this.Wi=null;this.rT=[];this.LI=[];this.O=[];var J=bN.yr[X],q=J[0].toUpperCase();
this.mC=new an([{name:["VAR0 ."+q,[1,0]]},{name:["VAR0 ."+q,[1,8]]},{name:[6,37]},{name:[5,4],ns:!0},{name:"Tiles/List"},{name:[12,87]},{name:[6,20]}]);
this.mC.parent=this;this.mC.P("select",this.QA,this);this._=w.l("div","imageset scrollable");this._.addEventListener("contextmenu",w.bS,!1);
this.a9N=this.p4.bind(this);this.acW=function(W){W.dataTransfer.setData("text",this.rT.indexOf(W.currentTarget))}.bind(this);
this.af3=this.a3p.bind(this)}k9.prototype=new bj;k9.prototype.av$=function(){return this.mC};k9.prototype.T=function(){this.mC.T()};
k9.prototype.a3p=function(M){var X=parseInt(M.dataTransfer.getData("text")),J=this.rT.indexOf(M.currentTarget),q=this.O,A=!1;
if(q.indexOf(X)==-1)q=[X];var W=this.LI[J],T=W.join(",")+",",_=k9.x1(q,this.LI),m=_[1];for(var d in m)if(T.startsWith(d))return;
var p=k9.m5(this.Wi,W)[2],a=k9.getItem(this.Wi,W);if(a[1]==null){p=a[2];a=p[0];A=!0}var f=k9.VW(this.Wi,_[0]),s=p.indexOf(a);
for(var $=0;$<f.length;$++)p.splice(s+(A?0:1)+$,0,f[$]);this.O=[];var j=k9.ak3(this.Wi);for(var $=0;
$<f.length;$++)this.O.push(j.indexOf(f[$]));this.IF()};k9.prototype.QA=function(M,X){if(X==null)X=this.mC.gu()[0];
var J=this.O,q=new jb(r.E.C,!0);if(X==0){q.data={h:r.m.xa};this.a(q)}if(X==1){var W=k9.x1(J,this.LI)[0],T=k9.VW(this.Wi,W,!0),_=bN.yr[this.ux],m=hu.aFt(T,_[2]);
gb.save(m,_[1]+"."+_[0])}if(X==2){q.data={h:r.m.SQ,bf:"namewindow",vc:k9.getItem(this.Wi,this.LI[J[0]])[0],nT:this.a6e.bind(this)};
this.a(q)}if(X==3){var W=k9.x1(J,this.LI)[0],T=k9.VW(this.Wi,W);this.O=[];this.IF()}if(X==4){this.X5=1-this.X5;
this.IF()}if(X==5){this.a(new jb("define_new"))}if(X==6){this.a2y(["New folder",null,[],!0])}};k9.prototype.a2y=function(M){var X=this.Wi,J=this.O,q=X.length-1;
if(J.length!=0){var W=J[0],T=this.LI[W],X=k9.m5(this.Wi,T)[2],_=k9.getItem(this.Wi,T);q=X.indexOf(_);
if(_[1]==null){X=_[2];q=X.length-1}}X.splice(q+1,0,M);this.O=[k9.ak3(this.Wi).indexOf(M)];this.IF();
this.QA(null,2)};k9.prototype.a6e=function(M){var X=k9.getItem(this.Wi,this.LI[this.O[0]]);X[0]=M;this.IF()};
k9.prototype.P$=function(M){this.Wi=M;this.IF()};k9.prototype.ahj=function(M,X,J){for(var $=0;$<M.length;
$++){var q=M[$],W=q[0],T,_=q[1]==null;J.push($);if(_){T=w.l("div","listitem head");w.F(T,"clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);  margin:1.5px;");
var m=w.l("div","headL");T.appendChild(m);m.appendChild(w.l("div",q[3]?"open":"closed"));m.appendChild(w.l("div","folder"));
var d=w.l("span");d.textContent=W;m.appendChild(d)}else{var A=q[2],p=bN.yr[this.ux],a=Math.floor(p[5]*w.pv()),f=Math.floor(w.pv()*p[6]);
if(A==null)A=q[2]=p[2].aw(q,a,f);T=w.l("img","image");T.setAttribute("src",A);w.kb(T,a,f);if(this.X5==1){var s=w.l("div","listitem");
s.appendChild(T);s.style.height=p[6]+"px";var d=w.l("span");d.textContent=W;w.F(d,"margin-left:4px;");
s.appendChild(d);T=s}T.setAttribute("title",W)}X.appendChild(T);if(this.O.indexOf(this.rT.length)!=-1)w.Z6(T,"selected");
this.rT.push(T);this.LI.push(J.slice(0));T.addEventListener("mouseup",this.a9N,!1);T.setAttribute("draggable","true");
T.addEventListener("dragover",w.xb,!1);T.addEventListener("dragstart",this.acW,!1);T.addEventListener("drop",this.af3,!1);
if(_){var j=w.l("div");j.style.marginLeft="14px";if(q[3])X.appendChild(j);this.ahj(q[2],j,J)}J.pop()}};
k9.prototype.IF=function(){var M=this.Wi,X=this._;w.p9(X);this.rT=[];this.LI=[];this.ahj(M,X,[])};k9.prototype.p4=function(M){var X=this.rT.indexOf(M.currentTarget),J=k9.getItem(this.Wi,this.LI[X]),q=J[1]==null,W=M.target.getAttribute("class"),T=this.O,_=T.length,m=T.indexOf(X);
if(W=="open"||W=="closed")J[3]=!J[3];else if(M.button==0||m==-1){var d=window.__kb;if(d.M(hP.HG)){var A=Math.min(T[0],T[T.length-1],X),p=Math.max(T[0],T[T.length-1],X);
T=[];for(var $=A;$<=p;$++)T.push($)}else if(d.M(hP.WM)){if(m==-1)T.push(X);else T.splice(m,1)}else T=[X];
T.sort(function(j,Y){return j-Y});this.O=T}this.IF();if(M.button==0&&!q&&T.length==1)this.a(new jb(r.E.n));
if(M.button==2){var a=this.mC;a.update(null);var f=w.uP(M,document.body),s=new jb(r.E.C,!0);s.data={h:r.m._5,kv:a,x:f.x,y:f.y+2};
this.a(s)}};k9.prototype.V=function(){return k9.getItem(this.Wi,this.LI[this.O[0]])[1]};k9.prototype.R=function(M){this.a2y(["New item",M])};
k9.getItem=function(M,X){var J=["",null,M];for(var $=0;$<X.length;$++)J=J[2][X[$]];return J};k9.m5=function(M,X){var J=["",null,M];
for(var $=0;$<X.length-1;$++)J=J[2][X[$]];return J};k9.ak3=function(M){function X(q,W){for(var $=0;$<q.length;
$++){var T=q[$];W.push(T);if(T[1]==null)X(T[2],W)}}var J=[];X(M,J);return J};k9.VW=function(M,X,J){var q=[];
for(var W=X.length-1;W>=0;W--){var T=X[W],_=T[T.length-1],m=k9.m5(M,T);q.unshift(m[2][_]);if(!J)m[2].splice(_,1)}return q};
k9.x1=function(M,X){var J=[],q={};for(var $=0;$<M.length;$++){var W=X[M[$]],T=W.join(",")+",",_=!1;for(var m in q)if(T.startsWith(m))_=!0;
if(!_){q[T]=!0;J.push(W)}}return[J,q]};function bd(M,X,J,q,W,T,_){bj.call(this);this._=w.l("span","fitem "+J);
this.ux=T;this.l3=null;this.g3=!0;this.hE=null;this.D9=new bj;this.D9._=w.l("div","floatcont");this.Vq=q;
this.D9.parent=this;this.a7C=w.l("div");this.D9._.appendChild(this.a7C);this.fb=w.l("div");this.D9._.appendChild(this.fb);
if(M){this.qI=M;this.lP=w.l("label","flabel");this._.appendChild(this.lP)}this.h=w.l("button",_?"nopadding":"");
w.F(this.h,"position:relative;");var m=this.Hn.bind(this),d=this.Tn.bind(this);w.Ad(this.h,X?d:m);this._.appendChild(this.h);
this.EA=w.l("img",_?"gsicon":"");this.h.appendChild(this.EA);if(X){var A=w.l("button");A.textContent="\u25BC";
w.Ad(A,m);this._.appendChild(A)}else{var p=w.l("span");p.textContent="\u25BC";w.F(p,"position:absolute;  bottom:2px;  right:4px;");
this.h.appendChild(p)}var a=this.al8=w.l("span");this.fb.appendChild(a);w.F(a,"display:inline-block;  vertical-align:top;");
this.MU=this.aw9()?new k9(_,T):new gz(_,T);a.appendChild(this.MU._);this.MU.parent=this.D9;this.MU.P(r.E.n,this.oY,this);
this.MU.P("define_new",this.a7m,this);this.MU._.style.height=W+"px";this.n7=w.l("button");this.n7.textContent="\u25BC";
w.F(this.n7,"padding:3px");w.Ad(this.n7,this.tS.bind(this));this.fb.appendChild(this.n7);var f=this.bU(),s=this.a34=T!=bN.pA&&T!=bN.gx?T:null,j=this.aCJ=T==null?!1:bN.yr[T][4]!=0,Y=T==null?"":bN.yr[T][0].toUpperCase(),G=[];
if(s)G.push({name:[12,87]});G.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],ns:!0});G.push({name:[[23,6],"."+(Y=="ICC"?"icc .cube .look .3dl":Y)]},{name:["VAR0 ."+Y,[1,8]]},{name:[6,37]},{name:[5,4],ns:f.length!=0});
for(var $=0;$<f.length;$++)G.push({name:f[$].split("/").pop()});this.aBg=G}bd.prototype=new bj;bd.prototype.aw9=function(){var M=this.ux;
return M==bN.sn||M==bN.e2};bd.prototype.a7m=function(){this.MU.R(this.hE)};bd.prototype.oY=function(M){this.R(M.target.V());
this.a(new jb(r.E.n))};bd.prototype.g7=function(){if(!this.g3)return;this.MU.P$(this.l3,this);this.g3=!1};
bd.prototype.R=function(M){this.hE=t.b(M);this.O7()};bd.prototype.V=function(){return t.b(this.hE)};
bd.prototype.O7=function(){};bd.prototype.bU=function(){return[]};bd.prototype.Tn=function(){};bd.prototype.T=function(){this.MU.T();
var M=this.qI;if(M)this.lP.textContent=kd.get(M)+":"};bd.prototype.Hr=function(M){this.lP.textContent=M};
bd.prototype.b5=function(M){var X=this.ux,J=0;if(X==bN.EY){J=this.l3?this.l3.length:0;M=M.slice(0)}this.l3=M;
this.g3=!0;if(w.L1(this.MU._)||X==bN.sn)this.g7();if(X==bN.EY&&M.length-J==1&&w.L1(this._)){this.R(M[J]);
this.g3=!0;this.g7();this.MU.R([J]);this.a(new jb(r.E.n))}};bd.prototype.QA=function(M){var X=M.target.gu()[0];
if(this.a34==null)X++;var J=new jb(r.E.C,!0);if(X==0){var q=this.rQ();if(this.ux==bN.EY&&q[0].profile==null)return;
J.data={h:r.m.OA,jo:"add",iw:this.a34,jH:q}}else if(X==1)this.MU.nY(1-this.MU.a3O());else if(X<=5)this.dx(X-2);
else{var W=this.bU();J.data={h:r.m.y_,iw:{url:"rsrc/"+W[X-6]}}}if(J.data)this.a(J)};bd.prototype.dx=function(M){var X=new jb(r.E.C,!0),J=this.MU.V(),q={h:r.m.OA,iw:this.ux,jw:J};
if(M>1&&J.length==0){alert("No items selected");return}if(M==0)X.data={h:r.m.xa};else if(M==1)X.data={h:r.m.TV,aig:this.ux,jw:J.length==0?null:J};
else if(M==2){var W=this.MU.dq[1][J[0]],T=W.split("/");if(T.length==2){q.DJ=T[0]+"/";W=T[1]}q.jo="rnm";
X.data={h:r.m.SQ,bf:"namewindow",vc:W,N5:{A:r.E.C,p:q}}}else if(M==3){X.data=q;q.jo="del"}this.a(X)};
bd.prototype.rQ=function(){return[this.V()]};bd.prototype.tS=function(M){var X;M.stopPropagation();if(this.aw9())X=this.MU.av$();
else{if(this.mC==null){this.mC=new an(this.aBg);this.mC.parent=this.D9;this.mC.P("select",this.QA,this)}X=this.mC}if(w.L1(X._))return;
X.T();X.update(null);var J=M.currentTarget.getBoundingClientRect(),q=new jb(r.E.C,!0);q.data={h:r.m._5,kv:X,x:J.left,y:J.top+J.height};
this.a(q)};bd.prototype.Hn=function(M,X,J){if(w.L1(this.D9._))return;if(M)M.stopPropagation();this.g7();
if(X==null){var q=this.h.getBoundingClientRect(),X=q.left,J=q.top+q.height}this.uL();var W=new jb(r.E.C,!0);
W.data={h:r.m._5,kv:this.D9,x:X,y:J,db:!0};this.a(W)};bd.prototype.uL=function(M,X){var M=Math.min(this.Vq,window.innerWidth-40);
this.al8.style.width=M+"px";this.D9._.style.width=M+20+"px"};bd.prototype.abO=function(M,X){this.Hn(null,M,X)};
function cK(){bj.call(this);this._=w.l("div");this.hn=!1;this.rT=[new iR([12,19,1],[[13,1,7]].concat(ia.vF)),new jL([17,1]),new jL([12,46])];
for(var $=0;$<3;$++){var M=this.rT[$];this._.appendChild(M._);M.P(r.E.n,this.Bq,this)}this.T()}cK.prototype=new bj;
cK.prototype.T=function(){for(var $=0;$<3;$++)this.rT[$].T()};cK.prototype.V=function(){return this.hn.slice(0)};
cK.prototype.R=function(M){this.hn=M.slice(0);var X=this.rT,J=X[0].V();X[1].R(M.slice(J*8,J*8+4),J);
X[2].R(M.slice(J*8+4,J*8+8),J)};cK.prototype.Bq=function(M){var X=this.rT,J=X.indexOf(M.currentTarget);
if(J==0)this.R(this.hn);else{var q=X[0].V()*8+(J==1?0:4),W=X[J].V();for(var $=0;$<4;$++)this.hn[q+$]=W[$];
this.a(new jb(r.E.n,!1))}};function jL(M){bj.call(this);this._=w.l("div");this.kX=w.l("canvas");this.r9=M;
this.hn=[0,20,200,255];this.DR=0;this.aA=-1;this.apR=[];for(var $=0;$<5;$++){var X=w.l("span");w.F(X,"display:inline-block;width:"+($==0?8:$==2?7:2)+"em");
this.apR.push(X);this._.appendChild(X)}this.Gw=this.Wk.bind(this);this.NV=this.yf.bind(this);this.g_=this.BY.bind(this);
w.LY(this.kX);w.Ad(this.kX,this.Gw);this._.appendChild(this.kX);this.IF()}jL.prototype=new bj;jL.prototype.T=function(){this.IF()};
jL.prototype.R=function(M,X){this.hn=M;this.DR=X;this.IF()};jL.prototype.V=function(){return this.hn.slice(0)};
jL.prototype.Wk=function(M){var X=this.hn,J=w.uP(M,this.kX),q=J.x-8,W=-1,T=1e9;for(var $=0;$<4;$++){var _=q-X[$],m=Math.abs(_);
if(m<8&&m<T&&(($&1)==0&&_<0||($&1)==1&&_>0)){T=_;W=$}}if(W==-1)return;this.aA=W;this.WY=window.__kb.M(hP.Ke)||X[(W>>>1)*2]!=X[(W>>>1)*2+1];
w.GY(window,this.NV);w.ZA(window,this.g_)};jL.prototype.yf=function(M){var X=this.hn,J=this.aA,q=(J>>>1)*2,W=q+1,T=w.uP(M,this.kX),_=Math.round(Math.max(0,Math.min(255,T.x-8)));
X[J]=_;if(this.WY&&X[q]>=X[W])this.WY=!1;if(!this.WY)X[q]=X[W]=_;this.IF();this.a(new jb(r.E.n,!1))};
jL.prototype.BY=function(M){w.$E(window,this.NV);w.uU(window,this.g_)};jL.prototype.IF=function(){var M=this.kX;
w.R$(M,255+16,16);var X=M.getContext("2d"),J=M.width,q=M.height,W=Math.round(255*w.pv()),T=Math.round(8*w.pv());
X.translate(T,0);var _=X.createLinearGradient(0,0,W,0);_.addColorStop(0,"black");_.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.DR]);
X.fillStyle=_;X.fillRect(0,0,W,T);var m=this.apR,d=kd.get(this.r9)+":";m[0].textContent=d;for(var $=0;
$<4;$++){var A=this.hn[$];m[1+$].textContent=A;var p=Math.round(A*w.pv());X.beginPath();X.moveTo(p,T);
X.lineTo(p,T+T);X.lineTo(p+(($&1)==0?-1:1)*T,T+T);X.closePath();X.fillStyle=$<2?"#666666":"#cccccc";
X.fill();X.strokeStyle="black";X.stroke()}};function e8(M,X,J){bj.call(this);if(J==null)J=!1;this.K=[0,0,1];
this.a1D=X;this.avo=J;this.EF=0;var q="ai"+w._v();this._=w.l("span","fitem angleinput");if(M){this.lP=w.l("label","flabel");
this.qI=M;this._.appendChild(this.lP);this.lP.setAttribute("for",q)}this.a4=J?44:20;this.kX=w.l("canvas","gsicon");
this.qt=this.kX.getContext("2d");w.LY(this.kX);w.R$(this.kX,this.a4*2+1,this.a4*2+1);this.qt.scale(w.pv(),w.pv());
this._.appendChild(this.kX);w.Ad(this.kX,this.rO.bind(this));this.uv=this.Gd.bind(this);this.SR=this._y.bind(this);
var W=this.zn.bind(this),T=w.l("div");w.F(T,"display:inline-block;  vertical-align:middle;");if(!J)this._.appendChild(T);
this._Z=[];for(var $=0;$<2;$++){var _=w.l("input");this._Z.push(_);_.setAttribute("type","text");w.IJ(_);
if($==0)_.setAttribute("id",q);_.addEventListener("change",W,!1);var m=w.l("span");m.textContent="\xB0";
if($==0||X){T.appendChild(_);T.appendChild(m);w.vA(T)}}this.R(this.K)}e8.prototype=new bj;e8.prototype.T=function(){if(this.qI)this.lP.textContent=kd.get(this.qI)+":"};
e8.prototype.Hr=function(M){this.lP.textContent=M};e8.prototype.V=function(){return this.K.slice(0)};
e8.prototype.R=function(M,X){var J=this.K;M=M.slice(0);if(M[0]==null)M[0]=J[0];if(M[1]==null)M[1]=J[1];
if(M[2]==null)M[2]=J[2];this.K=M;var q=M[0],W=M[1],T=M[2],_=this.a1D,m=this.avo,d=this.a4*.85;if(!_)W=0;
this._Z[0].value=q;this._Z[1].value=W;var A=this.qt;A.clearRect(0,0,100,100);q=Math.PI*q/180;W=d*(90-W)/90;
var p=this.a4+.5;A.save();A.translate(p,p);A.rotate(-q);A.strokeStyle="rgba(0,0,0,0.5)";A.beginPath();
A.ellipse(0,0,d,d*T,0,0,2*Math.PI);if(m){A.moveTo(0,-d*T);A.lineTo(0,d*T);A.moveTo(-W,0)}else A.moveTo(0,0);
A.lineTo(W,0);A.stroke();var a=this.a4*.15;A.fillStyle="black";A.beginPath();if(m){A.arc(0,-d*T,a*.66,0,2*Math.PI);
A.arc(0,d*T,a*.66,0,2*Math.PI)}if(_){A.arc(W,0,a*.4,0,2*Math.PI)}else{A.moveTo(p-a,-a*.66);A.lineTo(p,0);
A.lineTo(p-a,a*.66)}A.fill();A.restore();if(X)this.zn()};e8.prototype.zn=function(M){var X=parseInt(this._Z[0].value);
if(isNaN(X))X=0;var J=parseInt(this._Z[1].value);if(isNaN(J))J=0;X=X%360;J=J%360;this.R([X,J]);this.a(new jb(r.E.n,!1))};
e8.prototype.rO=function(M){w.GY(window,this.uv);w.ZA(window,this.SR);var X=w.uP(M,this.kX),p=0,a=1e9;
X.x-=this.a4;X.y-=this.a4;var J=this.K,q=J[0]*Math.PI/180,W=(90-J[1])/90,T=J[2],_=this.a4*.85,m=Math.sin(-q),d=Math.cos(-q),A=[new es(d*_,m*_)];
if(this.avo)A.push(new es(-m*_*T,d*_*T),new es(m*_*T,-d*_*T));for(var $=0;$<A.length;$++){var f=es.Yq(X,A[$]);
if(f<a){a=f;p=$}}this.EF=p;if(p==0)this.Gd(M)};e8.prototype.Gd=function(M){var X=w.uP(M,this.kX),J=this.EF,q=[],W=X.x-this.a4,T=X.y-this.a4,_=this.a4*.85;
if(J==0){var m=180*Math.atan2(-T,W)/Math.PI,d=90-90*Math.min(1,Math.sqrt(W*W+T*T)/_);if(M.shiftKey)m=Math.round(m/15)*15;
q=[Math.round(m),Math.round(d)]}else q=[null,null,Math.max(.01,Math.min(1,Math.sqrt(W*W+T*T)/_))];this.R(q);
this.a(new jb(r.E.n,!1))};e8.prototype._y=function(M){this.a(new jb(r.E.n,!1));w.$E(window,this.uv);
w.uU(window,this.SR)};function ee(M,X){bj.call(this);this.hn=0;this.Ns=X;this._=w.l("span","fitem angleinput");
if(M){this.lP=w.l("label","flabel");this.qI=M;this._.appendChild(this.lP)}this.kX=w.l("canvas","gsicon");
this.qt=this.kX.getContext("2d");w.R$(this.kX,X,X);this._.appendChild(this.kX);w.LY(this.kX);w.Ad(this.kX,this.rO.bind(this));
this.uv=this.Gd.bind(this);this.SR=this._y.bind(this);this.R(0)}ee.prototype=new bj;ee.prototype.T=function(){if(this.qI)this.lP.textContent=kd.get(this.qI)+":"};
ee.prototype.Hr=function(M){this.lP.textContent=M};ee.prototype.V=function(){return this.hn};ee.prototype.aql=function(M){var X=this.hn,J=Math.floor(X/3),q=X-J*3;
q=Math.max(0,Math.min(2,q+M.x));J=Math.max(0,Math.min(2,J+M.y));this.R(J*3+q)};ee.prototype.R=function(M){this.hn=M;
var X=this.kX.width,J=Math.floor(M/3),q=M-3*J,W=(q+.5)*X/3,T=(J+.5)*X/3,_=this.qt,m=[.5,Math.round(X/3)+.5,Math.round(2*X/3)+.5,X-.5];
_.clearRect(0,0,X,X);var d=this.Ns<30;_.setLineDash([]);_.strokeStyle=d?"rgba(0,0,0,0.5)":"#000000";
_.beginPath();for(var $=0;$<4;$++){var A=m[$];_.moveTo(A,0);_.lineTo(A,X);_.moveTo(0,A);_.lineTo(X,A)}_.stroke();
if(M==9)return;if(!d){_.setLineDash([1,2]);var p=X*.53,a=Math.max(0,Math.min(X-p,W-p/2)),f=Math.max(0,Math.min(X-p,T-p/2));
_.strokeRect(Math.round(a)+.5,Math.round(f)+.5,Math.round(p),Math.round(p))}_.fillStyle="#000000";_.beginPath();
_.arc(W,T,X/8,0,Math.PI*2);_.fill()};ee.prototype.rO=function(M){w.GY(document.body,this.uv);w.ZA(document.body,this.SR);
this.Gd(M)};ee.prototype.Gd=function(M){var X=w.uP(M,this.kX),J=Math.max(0,Math.min(2,Math.floor(X.x/(this.Ns/3)))),q=Math.max(0,Math.min(2,Math.floor(X.y/(this.Ns/3))));
this.R(q*3+J)};ee.prototype._y=function(M){this.a(new jb(r.E.n,!1));w.$E(document.body,this.uv);w.uU(document.body,this.SR)};
function kG(jX){bj.call(this);this._=w.l("span","fitem cswatch");this.ahu=0;this.xS=[];this.sC=[];var M=this.aA6.bind(this);
for(var $=0;$<jX;$++){this.xS.push(0);var X=w.l("span","colorsample");X.addEventListener("click",M,!1);
this.sC.push(X);this._.appendChild(X)}var J=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],q=Math.min(jX,J.length);
for(var $=0;$<q;$++)this.xS[$]=J[$];this.Ik()}kG.prototype=new bj;kG.prototype.aA6=function(M){this.ahu=this.sC.indexOf(M.currentTarget);
this.a(new jb(r.E.n))};kG.prototype.V=function(){return this.xS[this.ahu]};kG.prototype.R=function(M){var X=this.xS,J=X.indexOf(M);
if(J!=-1)X.splice(J,1);else X.pop();X.unshift(M);this.Ik()};kG.prototype.Ik=function(){for(var $=0;$<this.xS.length;
$++){w.F(this.sC[$],"background-color:#"+t.NZ(this.xS[$]))}};function gv(M){bj.call(this);this.Xo={z:0,L:0,g:0};
this.I9=M;this._=w.l("span","fitem colorsample bbtn");this._.addEventListener("click",this.v3.bind(this),!1)}gv.prototype=new bj;
gv.prototype.T=function(){};gv.prototype.v3=function(M){var X=this.Xo;this.a(new jb("click"));var J=new jb(r.E.C,!0);
J.data={h:r.m.SQ,bf:"colorpicker",t9:t.hO(X),J4:this.BO.bind(this),Ej:this.I9};this.a(J)};gv.prototype.BO=function(M){this.rh(M);
this.a(new jb(r.E.n))};gv.prototype.xr=function(){this.v3(null)};gv.prototype.B_=function(){var M=this.Xo;
return M.z<<16|M.L<<8|M.g};gv.prototype.V=function(){return t.NX.$J(this.Xo)};gv.prototype.rh=function(M){this.Xo=t.vT(M);
this.a5s()};gv.prototype.R=function(M){this.Xo=t.NX.NH(M);this.a5s()};gv.prototype.a5s=function(){var M=this.Xo,X=M.z,J=M.L,q=M.g,W=X<<16|J<<8|q;
w.F(this._,"background-color:#"+t.NZ(W))};function fk(){bj.call(this);this.hq=!1;this.qj=20;this.atk=10;
this.mJ=0;this.hq=!1;this._U={z:255,L:0,g:0};this.yL={z:0,L:0,g:0};this.f=null;this.iH=null;this.Zt=[[0,0,0],[0,[[0,[1,1,1],1,.5],[1,[0,0,0],1,.5]],[0,0,0,1,1,0,0],[1,0,0,1,0,0]],[]];
this._=w.l("canvas");this.IF();w.LY(this._);w.Ad(this._,this.Gw.bind(this))}fk.prototype=new bj;fk.prototype.aed=function(M){if(this.hq==M)return;
this.hq=M;this.IF()};fk.prototype.T=function(){};fk.prototype.aIR=function(M,X){function J(q){return{z:q>>16&255,L:q>>8&255,g:q&255}}if(M!=null)this._U=J(M);
if(X!=null)this.yL=J(X);this.IF()};fk.prototype.at3=function(M,X){this.f=M;this.iH=X;this.IF()};fk.prototype.Gw=function(M){var X=w.uP(M,this._),J=X.x*w.pv(),q=X.y*w.pv(),W=this.qj,T=this.atk,_=0;
if(q>W){_=4+Math.floor(3*J/W)}else if(J<T&&q<T){_=0}else if(J>W-T&&q>W-T){_=1}else if(J<T){_=2}else{_=3}this.xr(_)};
fk.prototype.xr=function(M){var X=this.f,J=new jb(r.E.C,!0);if(M>1){if(gj==0)J.data={h:r.m.OA,iw:bN.M3,NL:M};
else{var q=t.b(X.so);if(M==2){var W=q.s0;q.s0=q.nz;q.nz=W}if(M==3){q.nz=[1,1,1];q.s0=[0,0,0]}if(M>=4){var T=this.Zt[M-4];
if(this.mJ==0)q.nz=T;else q.s0=T}J.data={h:r.m.OA,iw:bN.BC,K:q}}}else{var _=this.BO.bind(this),m=this.mJ;
this.mJ=M;if(gj==0){var d=M==0?this._U:this.yL;J.data={h:r.m.SQ,bf:"colorpicker",t9:t.hO(d),J4:_}}else{if(m!=M){this.IF();
return}var A=M==0?X.so.nz:X.so.s0;if(A.length==0)A=[0,0,0];fk.a4c(A,this,_);return}}this.a(J)};fk.prototype.BO=function(M){var X=new jb(r.E.C,!0),J=this.mJ,q=this.f;
if(gj==0)X.data={h:r.m.OA,iw:bN.M3,NL:J,K:M};else{var W=M;if(typeof M=="number"){W=t.vT(M,1);W=[W.z,W.L,W.g]}var T=t.b(q.so);
if(J==0)T.nz=W;else T.s0=W;X.data={h:r.m.OA,iw:bN.BC,K:T}}this.a(X)};fk.prototype.IF=function(){var M=this._,X=M.getContext("2d"),J=w.pv(),J=w.pv(),q=this.qj=Math.floor(34*J),W=Math.floor((q-2)/3),T="#aaaaaa",_=.62;
M.width=q;M.height=q+gj*(W+9);w.G6(M);M.style.cursor="pointer";var q=this.qj=M.width,m=this.atk=Math.round(q*_);
function d(g,S){var U=g.z,B=g.L,e=g.g;if(S)U=B=e=Math.round(t.ig(U,B,e));var P=U<<16|B<<8|e;return"#"+t.NZ(P)}function A(X,f,g,S,U,B){X.beginPath();
if(S>=B*2&&U>=B*2){X.moveTo(f+B,g);X.lineTo(f+S-B,g);X.quadraticCurveTo(f+S,g,f+S,g+B);X.lineTo(f+S,g+U-B);
X.quadraticCurveTo(f+S,g+U,f+S-B,g+U);X.lineTo(f+B,g+U);X.quadraticCurveTo(f,g+U,f,g+U-B);X.lineTo(f,g+B);
X.quadraticCurveTo(f,g,f+B,g)}X.closePath()}function p(f,g,m,S,U){X.strokeStyle=U?U:"black";X.fillStyle=S;
A(X,f+.5,g+.5,m-1,m-1,m*.2);X.fill();X.stroke()}var a=this.f;if(a){X.beginPath();var f=q-m,s=Math.floor(m*.28),j=m-2*s;
X.lineWidth=1;X.strokeStyle="white";if(this.mJ==0)fk.lr(X,a.so.s0,this.iH,m,m,f,f,!0);fk.lr(X,a.so.nz,this.iH,m,m,0,0);
if(this.mJ==1)fk.lr(X,a.so.s0,this.iH,m,m,f,f,!0);for(var $=0;$<3;$++){X.beginPath();fk.lr(X,this.Zt[$],this.iH,W,W,$*(W+1),q+9,!1)}}else{p(q-m,q-m,m,d(this.yL,this.hq));
p(0,0,m,d(this._U,this.hq))}var Y=q-m,G=Math.round(Y*_);p(q-G,Y-G,G,gj==0?"white":"black",T);p(q-Y,0,G,gj==0?"black":"white",T);
X.save();X.fillStyle=T;X.translate(0,q);X.rotate(-Math.PI/2);Y=q-m;var Q=Math.round(Y*.28),Z=Math.round(Y*.25);
for(var $=0;$<2;$++){X.fillRect(Q,Q,Y-Q,1);X.beginPath();X.moveTo(Y-Z,Q+.5-Z);X.lineTo(Y,Q+.5);X.lineTo(Y-Z,Q+.5+Z);
X.closePath();X.fill();X.transform(0,1,1,0,0,0)}X.restore()};fk.a4c=function(M,X,J){var q=new jb(r.E.C,!0);
if(M.length==3)q.data={h:r.m.SQ,bf:"colorpicker",t9:t.hO({z:M[0]*255,L:M[1]*255,g:M[2]*255}),J4:J};else q.data={h:r.m.SQ,bf:"vgradienteditor",K:M,J4:J};
X.a(q)};fk.lr=function(M,X,J,q,W,T,_,m){function d(Y,G){return CSS.Yk({z:Y[0]*255,L:Y[1]*255,g:Y[2]*255},G)}if(X==null){M.fillStyle="#888888";
M.clearRect(T,_,q,W);M.font=Math.round(W*.6*(m?.5:1))+"px sans-serif";M.fillStyle="white";if(m){M.fillText("?",T+q*.05,_+W*.3);
M.fillText("?",T+q*.8,_+W*.3);M.fillText("?",T+q*.05,_+W*.9);M.fillText("?",T+q*.8,_+W*.9)}else M.fillText("?",q*.36,W*.7)}else if(X.length==0){M.fillStyle="#ffffff";
M.fillRect(T,_,q,W);M.strokeStyle="#ff0000";M.lineWidth=2;M.moveTo(T,_);M.lineTo(T+q,_+W);M.moveTo(T,_+W);
M.lineTo(T+q,_);M.stroke()}else if(X.length==3){M.fillStyle=d(X);M.fillRect(T,_,q,W)}else if(X.length==4){var A=T+q/2,p=_+W/2,a=X[0]==0?M.createLinearGradient(T,_,T+q,_):M.createRadialGradient(A,p,0,A,p,q/2);
t.NX.SH(a,X[1]);M.fillStyle=a;M.fillRect(T,_,q,W)}else if(X.length==2){var f=J.nB[X[0]];M.save();M.fillStyle="white";
M.fillRect(T,_,q,W);M.rect(T,_,q,W);M.scale(q/f.r,W/f.$);M.fillStyle=f.$v;M.fill();M.restore()}M.lineWidth=1;
M.strokeStyle="white";M.strokeRect(T+.5,_+.5,q-1,W-1);if(m){var s=Math.floor(q*.28),j=q-2*s;M.clearRect(T+s,T+s,j,j);
M.strokeRect(T+s+.5,T+s+.5,j-1,j-1)}};function iL(M){bd.call(this,M,!1,"brushbutton nopadding",19*13,10*13,bN.Vk,!0);
var X=this.a7C;w.Z6(X,"flexrow");var J=w.l("div");X.appendChild(J);var q=w.l("div");X.appendChild(q);
w.F(q,"margin-left:8px");this.Gq=new e8(null,null,!0);this.Gq.P(r.E.n,this.ZI,this);J.appendChild(this.Gq._);
this.ey=new jP([12,14,0],1,1e3," px",0,!0);this.ey.P(r.E.n,this.ZI,this);q.appendChild(this.ey._);this.qk=new jP([12,17],0,100,"%");
this.qk.P(r.E.n,this.ZI,this);q.appendChild(this.qk._);this.Qy=new ju(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.Qy.P(r.E.n,this.ZI,this);q.appendChild(this.Qy._)}iL.prototype=new bd;iL.prototype.bU=function(){var M=["pencil","trees"];
for(var $=0;$<M.length;$++)M[$]="brushes/"+M[$]+".abr";return M};iL.prototype.R=function(M,X,J){this.hE=t.b(M);
var q=Math.floor(20*w.pv()),W=Math.floor(36*w.pv()),T=Math.floor(24*w.pv()),_=eY.aw(M,X,J,q,T,W);this.EA.setAttribute("src",_);
w.kb(this.EA,W,T);var m=M.Brsh.v;this.ey.R(m.Dmtr.v.val);if(m.Hrdn!=null){this.qk.Ja();this.qk.R(m.Hrdn.v.val)}else this.qk.bH();
if(m.Angl!=null)this.Gq.R([m.Angl.v.val]);if(m.Rndn!=null)this.Gq.R([null,null,m.Rndn.v.val/100]);var d=[!1,!1];
if(M.opVr)d[0]=M.opVr.v.bVTy.v==2;if(M.szVr)d[1]=M.szVr.v.bVTy.v==2;this.Qy.R(d)};iL.prototype.rQ=function(){return{list:[{t:"Objc",v:this.V()}],Kj:[],a5:[]}};
iL.prototype.V=function(){return this.hE};iL.prototype.g7=function(){if(!this.g3)return;var M=[],X=[],J=this.l3,q=Math.floor(33*w.pv()),W=Math.floor(40*w.pv());
for(var $=0;$<J.list.length;$++){var T=J.list[$].v,_=eY.aw(T,J.Kj,J.a5,q,W);M.push(_);X.push(T.Nm.v)}this.MU.hS(M,X,q,W);
this.g3=!1};iL.prototype.oY=function(M){var X=this.l3;this.R(X.list[this.MU.V()[0]].v,X.Kj,X.a5);this.a(new jb(r.E.n))};
iL.prototype.T=function(){bd.prototype.T.call(this);this.Gq.T();this.ey.T();this.qk.T()};iL.prototype.ZI=function(M){var X=this.l3,J=this.hE,q=J.Brsh.v;
q.Dmtr.v.val=this.ey.V();if(q.Hrdn!=null)q.Hrdn.v.val=this.qk.V();if(q.Angl!=null)q.Angl.v.val=this.Gq.V()[0];
if(q.Rndn!=null)q.Rndn.v.val=Math.round(this.Gq.V()[2]*100);if(M.target==this.Qy)kW.aeH(J,this.Qy.V());
this.R(J,X.Kj,X.a5);this.a(new jb(r.E.n))};function cv(M){bd.call(this,M,!0,"contourbutton",17*13,10.5*13,bN.xj)}cv.prototype=new bd;
cv.prototype.oY=function(M){this.R(this.l3[M.target.V()]);this.a(new jb(r.E.n))};cv.prototype.Tn=function(M){var X=new jb(r.E.C,!0);
X.data={h:r.m.SQ,bf:"contoureditor",dy:this.hE,response:this.aCP.bind(this)};this.a(X)};cv.prototype.aCP=function(M){this.R(M);
this.a(new jb(r.E.n))};cv.prototype.g7=function(){if(!this.g3)return;var M=Math.floor(38*w.pv()),X=Math.floor(38*w.pv()),J=[],q=[],W=this.l3;
for(var $=0;$<W.length;$++){q.push(W[$].Nm?W[$].Nm.v:"");J.push(t.pq.aw(W[$].Crv.v,M,X))}this.MU.hS(J,q,M,X);
this.g3=!1};cv.prototype.R=function(M){this.hE=t.b(M);var X=this.hE.Crv.v;for(var $=0;$<X.length;$++)if(X[$].v.Cnty==null)X[$].v.Cnty={t:"bool",v:!0};
this.O7()};cv.prototype.O7=function(){var M=Math.floor(30*w.pv()),X=Math.floor(30*w.pv()),J=t.pq.aw(this.hE.Crv.v,M,X);
this.EA.setAttribute("src",J);w.kb(this.EA,M,X)};function i$(M){bj.call(this);this.yp=null;this.f=null;
this.AR=null;this.YC=null;this.alg=[];this.aeR=[];this._=w.l("span","fitem fillbutton");this.D9=new bj;
this.D9._=w.l("div","floatcont form");w.F(this.D9._,"width: 21em;");this.D9.parent=this;this.Qs=M;this.lP=this.lP=w.l("label","flabel");
this._.appendChild(this.lP);this.kX=w.l("canvas");this.qt=this.kX.getContext("2d");this.a3M=null;this._.appendChild(this.kX);
w.Ad(this.kX,this.Hn.bind(this));this.ZK=new i9([12,66],["","Color","Grad","Patt"]);this.D9._.appendChild(this.ZK._);
this.ZK.P(r.E.n,this.Bq,this);this.D9._.appendChild(w.l("hr"));this.axa=w.l("span");this.VZ=new gv(!1);
this.VZ.parent=this.D9;this.VZ.P(r.E.n,this.Bq,this);this.NB=new kG(10);this.NB.P(r.E.n,this.Bq,this);
this.sR=w.l("div","marged hiline");this.sR.appendChild(this.VZ._);w.vA(this.sR);this.sR.appendChild(this.NB._);
this.AT=new b2("GrFl",!0);this.AT.parent=this.D9;this.AT.P(r.E.n,this.Bq,this);this.Ap=w.l("div","marged hiline");
var X="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var $=0;$<X.length;$++){var J=this.AT.GS[X[$]]._;
this.Ap.appendChild(J)}this.Sc=new b2("patternFill",!0);this.Sc.parent=this.D9;this.Sc.P(r.E.n,this.Bq,this);
this._e=w.l("div","marged hiline");var X=["Ptrn","Angl","Scl","Algn","phase"];for(var $=0;$<X.length;
$++){var J=this.Sc.GS[X[$]]._;this._e.appendChild(J)}}i$.prototype=new bj;i$.prototype.SY=function(M,X){var J=iN.mW(M,X);
if(J!=null)this.NB.R(J);if(X==bN.sw){this.alg=[];this.aeR=[];if(this.yp)this.R(this.AR,this.V(),this.yp)}this.f=M;
this.AT.SY(M,X);this.Sc.SY(M,X)};i$.prototype.T=function(){this.lP.textContent=kd.get(this.Qs)+": ";
this.ZK.T();this.VZ.T();this.AT.T();this.Sc.T()};i$.prototype.Bq=function(M){var X=M.currentTarget;if(X==this.ZK){var J=this.ZK.V(),q={fH:J,PD:this.yp[J]};
if(J>0&&q.PD==null)q.PD=t.b(kf.iI[J-1]);if(this.yp)this.R(this.AR,q,this.yp)}if(X==this.NB)this.VZ.rh(X.V());
this.a(new jb(r.E.n,!1))};i$.prototype.Hn=function(M){if(w.L1(this.D9._))return;M.stopPropagation();
var X=[[13,1,0],[13,0],[12,37],[12,62]],J=this.yp,q=this.alg,W=this.aeR,T=!1;for(var $=0;$<4;$++){var _={fH:$,PD:J[$]},m=i$.aeX(_);
if(W[$]==m)continue;T=!0;var d=i$.aCI(null,_,this.f,this.AR,22,22,!1);q[$]="<img width=\"22\" height=\"22\" src=\""+d+"\" />";
W[$]=m}if(T)this.ZK.P$(q,X);var A=this.kX.getBoundingClientRect(),p=new jb(r.E.C,!0);p.data={h:r.m._5,kv:this.D9,x:A.left,y:A.top+A.height+4};
this.a(p)};i$.prototype.R=function(M,X,J){this.yp=J;this.AR=M;this.ZK.R(X.fH);var q=i$.aeX(X),W;if(q!=this.a3M)i$.aCI(this.qt,X,this.f,this.AR,30,23,!0);
this.a3M=q;var T=X.fH;if(T==0){W=this.axa}if(T==1){this.VZ.R(X.PD.Clr.v);W=this.sR}if(T==2){this.AT.update(M,X.PD);
W=this.Ap}if(T==3){this.Sc.update(M,X.PD);W=this._e}if(W!=this.YC){if(this.YC!=null){this.D9._.removeChild(this.YC)}this.D9._.appendChild(W);
this.YC=W}};i$.prototype.V=function(){var M={fH:this.ZK.V()};if(M.fH==1){M.PD=t.b(kf.iI[0]);M.PD.Clr.v=this.VZ.V()}if(M.fH==2){M.PD=this.AT.V()}if(M.fH==3){M.PD=this.Sc.V()}return M};
i$.aeX=function(M){var X=M.fH,J=M.PD,q="empty";if(X==1){q=t.NX.NH(J.Clr.v);q=q.z+","+q.L+","+q.g}if(X==2)q=JSON.stringify(J.Grad.v);
if(X==3)q=J.Ptrn.v.Idnt.v;return q};i$.aCI=function(M,X,J,q,W,T,_){if(M==null)M=i$.qt;var m=Math.floor(W*w.pv()),d=Math.floor(T*w.pv()),A=M.canvas;
A.width=m;A.height=d;w.kb(A,m,d);i$.atf(M,X,J,q,m,d);if(_){M.beginPath();M.strokeStyle="#000000";M.fillStyle="#ffffff";
M.lineWidth=2;var p=m*.7,a=Math.floor(d*.7),f=7*w.pv();M.moveTo(p,a);M.lineTo(p+f,a);M.lineTo(p+f/2,a+f/2);
M.closePath();M.stroke();M.fill()}if(M==i$.qt)return A.toDataURL()};i$.qt=w.l("canvas").getContext("2d");
i$.atf=function(M,X,J,q,W,T,_,m){if(_==null)_=0;if(m==null)m=0;var d=X.fH;if(d==0){M.fillStyle="#ffffff";
M.fillRect(_,m,W,T);M.strokeStyle="#ff0000";M.lineWidth=2;M.moveTo(_,m);M.lineTo(_+W,m+T);M.moveTo(_,m+T);
M.lineTo(_+W,m);M.stroke()}if(d==1){var A=X.PD.Clr.v;A=t.NX.NH(A);M.fillStyle="#"+t.NZ(A.z<<16|A.L<<8|A.g);
M.fillRect(_,m,W,T)}if(d==2){var p=o.kO.aw(X.PD.Grad.v,W,T,0,J.pU,J.Yt,!0);M.putImageData(p,_,m)}if(d==3){var a=X.PD.Ptrn.v,f;
if(q!=null)f=hA.AK(a,q.add.Patt);if(f==null)f=hA.AK(a,J.i3);hj.aw(f,W,T,M.canvas)}};function hj(M){bd.call(this,M,!1,"patternbutton",18*13,10*13,bN.sw);
this.jn=null}hj.prototype=new bd;hj.prototype.oY=function(M){var X=this.l3[this.MU.V()];this.hE={classID:"Ptrn",Nm:{t:"TEXT",v:X.name},Idnt:{t:"TEXT",v:X.id}};
this.a(new jb(r.E.n));this.O7()};hj.prototype.g7=function(){if(!this.g3)return;var M=this.l3,X=Math.floor(34*w.pv()),J=Math.floor(34*w.pv()),q=[],W=[];
for(var $=0;$<M.length;$++){q.push(hj.aw(M[$],X,J));W.push(M[$].name)}this.MU.hS(q,W,X,J);this.g3=!1};
hj.prototype.R=function(M,X){if(this.hE&&M.Idnt.v==this.hE.Idnt.v)return;this.hE=t.b(M);this.O7(X)};
hj.prototype.V=function(){return t.b(this.hE)};hj.prototype.rQ=function(){return this.jn?[this.jn]:[]};
hj.prototype.O7=function(M){var X=Math.floor(50*w.pv()),J=Math.floor(50*w.pv()),q;if(M!=null)q=hA.AK(this.hE,M.add.Patt);
if(q==null)q=hA.AK(this.hE,this.l3);this.jn=q;var W=hj.aw(q,X,J);this.EA.setAttribute("src",W);w.kb(this.EA,X,J)};
hj.kX=w.l("canvas","");hj.aw=function(M,X,J,q){if(q==null)q=hj.kX;var W=q.getContext("2d");q.width=X;
q.height=J;if(M){var T=M.c5[1],_=T.r,m=T.$,d=M.c5[0],A=Math.min(X/_,J/m),p=A;if(p*_<2)p=2/_;var a=A;
if(a*m<2)a=2/m;var f=o.fx.gj([d,T],new kp(p,0,0,a,0,0),p>2),s=f.S.r,j=f.S.$,Y=new ImageData(s,j);t.fc(f.buffer,Y.data);
W.putImageData(Y,Math.floor((X-s)/2),Math.floor((J-j)/2))}return q.toDataURL()};function kh(M,X,J){if(X==null)X=24.2;
if(J==null)J=17;bd.call(this,M,!1,"patternbutton",X*13,J*13,bN.pA);this.aB=""}kh.prototype=new bd;kh.prototype.oY=function(M){this.hE=t.b(this.l3[0][this.MU.V()[0]]);
this.a(new jb(r.E.n))};kh.prototype.g7=function(){var M=this.l3;if(M==null||!this.g3)return;var X=Math.floor(50*w.pv()),J=Math.floor(50*w.pv()),q=[],W=[];
for(var $=0;$<M[0].length;$++){q.push(kh.aw(this.l3[0][$].$m,X,J,this.l3[1]));W.push(M[0][$].W7.Nm.v.split("=").pop())}this.MU.hS(q,W,X,J);
this.g3=!1};kh.prototype.R=function(M,X,J,q){var W=JSON.stringify(M.$m)+","+J+","+q;if(this.aB!=W){this.aB=W;
this.hE=t.b(M);this.O7(X,J,q)}};kh.prototype.O7=function(M,X,J){var q=Math.floor(68*w.pv()),W=Math.floor(68*w.pv()),T=kh.aw(this.hE.$m,q,W,M?M:this.l3[1],X,J);
this.EA.setAttribute("src",T);w.kb(this.EA,q,W)};kh.aw=function(M,X,J,q,W,T){var _=new dD;_.r=X;_.$=J;
_.buffer=t.j(X*J*4);_.add.Patt=q;_.Ci(W==null?90:W);_.xh(T==null?30:T);var m=new gc(0,0,Math.round(X*.5),Math.round(J*.5));
m.x=Math.round((X-m.r)/2);m.y=Math.round((J-m.$)/2);var d=_.C0();d.S=m;d.buffer=t.j(m.o()*4);t.Tb(d.buffer,4284045657);
hA.adL(M,d,.5*100);_.U.push(d);_.b8();_.vV();var A=aq.zw;aq.zw=!1;_.rD();var p=_.m7();aq.zw=A;var a=h1.pI(p.buffer,_.r,_.$);
return a};function fF(M){bd.call(this,null,!1,"tpresetbutton",18*13,24*13,bN.m$,!0);w.tM(this._,"fitem");
this.MU.nY(1);this.id=M;this.O7();this.h.style.overflow="hidden";this.wi=new hE([15,7,9]);this.wi.R(!0);
this.wi.P(r.E.n,this.a93,this);this.fb.appendChild(this.wi._)}fF.prototype=new bd;fF.prototype.anj=function(M){if(this.id==M)return;
this.id=M;this.b5(this.l3)};fF.prototype.oY=function(M){var X=this.l3[this.MU.V()],J=new jb(r.E.C,!0);
J.data={h:r.m.OA,jo:"set",iw:bN.m$,jH:X};this.a(J)};fF.prototype.T=function(){bd.prototype.T.call(this);
this.wi.T()};fF.prototype.a93=function(){this.g3=!0;this.g7()};fF.prototype.g7=function(){if(!this.g3)return;
var M=Math.floor(16*w.pv()),X=Math.floor(16*w.pv()),J=[],q=[],W=this.l3,T=this.wi.V();for(var $=0;$<W.length;
$++){var _=o.Cr[W[$][1].classID];if(!T||_==this.id){q.push(W[$][0]?W[$][0].split("=").pop():"");J.push(_==-1?"":PIMG[o.LJ[_]])}else{J.push(null);
q.push(null)}}this.MU.hS(J,q,M,X);this.g3=!1};fF.prototype.O7=function(){var M=this.EA;M.setAttribute("src",PIMG[o.LJ[this.id]]);
w.Z6(M,"toolicon")};fF.prototype.rQ=function(){return null};fF.Gl={};fF.aw=function(M,X,J){var q=fF.qt,W=fF.Gl,T=t.NZ(M.z<<16|M.L<<8|M.g);
if(W[T])return W[T];if(q==null){var _=w.l("canvas");q=fF.qt=_.getContext("2d")}var _=q.canvas;_.width=X;
_.height=J;q.fillStyle="#"+T;q.fillRect(0,0,X,J);var m=W[T]=_.toDataURL();return m};function fW(M,X,J){bj.call(this);
this._=w.l("span","fitem curveeditor");this.Sb=null;this.aoP=0;this.DR="";this.mode=0;this.afB=null;
this.aCK=null;this.zq=M;this.aiV=X;this.aEE=J;this.aI=null;this.ju=null;this.aEF=0;this.akm=0;this.WS=new es;
this.Mj=this.Gd.bind(this);this.TI=this._y.bind(this);this.Ns=256;this.kX=w.l("canvas");this.qt=this.kX.getContext("2d");
w.LY(this.kX);this._.appendChild(this.kX);this.uL(256,256);w.Ad(this.kX,this.rO.bind(this));this.coords=w.l("div");
w.F(this.coords,"width:250px");this._.appendChild(this.coords);var q=this.ew=J?100:255,W=null;this.pW=new j6("X (in)",0,q,W,0,!1,!0);
this.sT=new j6("Y (out)",0,q,W,0,!1,!0);this.$T=new hE([19,3,0]);this.pW.P(r.E.n,this.KJ,this);this.sT.P(r.E.n,this.KJ,this);
this.$T.P(r.E.n,this.KJ,this);this.coords.appendChild(this.pW._);if(J)this.coords.appendChild(this.$T._);
this.coords.appendChild(this.sT._)}fW.prototype=new bj;fW.prototype.T=function(){this.$T.T();this.pW.T();
this.sT.T()};fW.prototype.uL=function(M,X){this.Ns=Math.round(M);this.qt.resetTransform();w.R$(this.kX,this.Ns,this.Ns,this.qt);
this.qt.scale(this.Ns/256,this.Ns/256);if(this.aI)this.Q1()};fW.prototype.KJ=function(M){var $=this.aGP(),X=this.aI[$],J=255/this.ew;
X.v.Hrzn.v=this.pW.V()*J;X.v.Vrtc.v=this.sT.V()*J;if(this.aEE)X.v.Cnty.v=this.$T.V();this.aI.sort(function(q,W){return q.v.Hrzn.v-W.v.Hrzn.v});
this.Q1();this.a(new jb(r.E.n))};fW.prototype.R=function(M,$,X){var J=JSON.stringify(M),q=X?JSON.stringify(X):null;
if(J==JSON.stringify(this.aI)&&q==this.aCK)return;this.mode=M.length==256?1:0;this.aI=JSON.parse(J);
this.afB=X;this.aCK=q;if($!=null)this.ju=this.aI[$];this.Q1()};fW.prototype.V3=function(M,X,J){this.Sb=M;
this.aoP=X;this.DR=J;this.Q1()};fW.prototype.V=function(){return t.b(this.aI)};fW.prototype.aGP=function(){return this.aI.indexOf(this.ju)};
fW.prototype.rO=function(M){var X=256/this.Ns,J=w.uP(M,this.kX);J.x*=X;J.y*=X;var q=J.x,W=256-J.y;if(this.zq){var T=q;
q=256-W;W=T}this.WS.cn(q,W);if(this.mode==0){var _=0,m=1e9,f;for(var $=0;$<this.aI.length;$++){var d=this.aI[$].v,A=d.Hrzn.v-q,p=d.Vrtc.v-W,a=Math.sqrt(A*A+p*p);
if(a<m){m=a;_=$}}if(m<15)f=this.aI[_];else{f=t.pq.Z4(q,W,!0);this.aI.push(f);this.aI.sort(function(s,j){return s.v.Hrzn.v-j.v.Hrzn.v})}this.ju=f;
this.akm=this.aI.slice(0)}w.GY(document.body,this.Mj);w.ZA(document.body,this.TI);this.Gd(M)};fW.prototype.Gd=function(M){var X=256/this.Ns,J=w.uP(M,this.kX);
J.x*=X;J.y*=X;var q=J.x,W=256-J.y;if(this.zq){var T=q;q=256-W;W=T}if(this.mode==0){var _=this.aI,m=this.ju,d=this.akm,A=d.indexOf(m),p=_.indexOf(m)!=-1,a=d.length-1,f=q;
if(A==0){f=Math.max(0,Math.min(d[1].v.Hrzn.v-1,q))}else if(A==a){f=Math.min(255,Math.max(d[a-1].v.Hrzn.v+1,q))}else{var s=q<0||q>255||W<0||W>255;
if(q<=d[A-1].v.Hrzn.v||q>=d[A+1].v.Hrzn.v)s=!0;if(!s&&!p)_.splice(A,0,m);if(s&&p)_.splice(A,1)}if(this.aiV&&(A==0||A==d.length-1)){}else m.v.Hrzn.v=Math.round(f);
m.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(W)))}else{q=Math.round(q);W=Math.round(W);q=Math.max(0,Math.min(255,q));
W=Math.max(0,Math.min(255,W));var j=this.WS.x,Y=q,G=this.WS.y,Q=W;if(q<this.WS.x){Y=j;j=q;Q=G;G=W}this.aI[q]=W;
if(j!=Y)for(var Z=j;Z<=Y;Z++)this.aI[Z]=Math.round(G+(Z-j)*(Q-G)/(Y-j))}this.WS.cn(q,W);this.Q1();this.a(new jb(r.E.n))};
fW.prototype._y=function(M){w.$E(document.body,this.Mj);w.uU(document.body,this.TI);this.a(new jb(r.E.n))};
fW.prototype.Q1=function(){var M=this.qt,X=this.kX;M.fillStyle="#ffffff";M.fillRect(0,0,256,256);var J=256/X.width;
if(this.Sb){M.save();M.translate(0,256);M.scale(1,-1);g2.auv(M,this.Sb,5700/this.aoP,this.DR);M.restore()}M.strokeStyle="#aaaaaa";
M.lineWidth=1*J;M.beginPath();for(var $=1;$<4;$++){var q=(Math.floor(64*$/J)+.5)*J;M.moveTo(0,q);M.lineTo(255,q);
M.moveTo(q,0);M.lineTo(q,255)}M.stroke();if(this.zq){M.save();M.transform(0,1,-1,0,256,0)}var W=t.pq.s$,T=fW.arI,_=this.afB,m=["#ff0000","#00ff00","#0000ff"];
if(this.mode==0){var d=this.aI;if(_)for(var $=0;$<_.length;$++)T(M,W(_[$],256),m[$]);T(M,W(d,256),"#000000");
M.lineWidth=2*J;for(var $=0;$<d.length;$++){var A=d[$].v;M.fillStyle=this.ju==d[$]?"#333":"#fff";M.beginPath();
M.moveTo(A.Hrzn.v,255.5-A.Vrtc.v);M.arc(A.Hrzn.v,255.5-A.Vrtc.v,5*J,0,2*Math.PI);M.stroke();M.fill()}}else{if(_)for(var $=0;
$<_.length;$++)T(M,_[$],m[$]);T(M,this.aI,"#000000")}if(this.zq)M.restore();var $=this.aGP();this.coords.className=$==-1?"disabled":"";
if($==-1)return;var A=this.aI[$].v,p=255/this.ew;this.pW.R(Math.round(A.Hrzn.v/p));this.sT.R(Math.round(A.Vrtc.v/p));
if(A.Cnty)this.$T.R(A.Cnty.v)};fW.arI=function(M,X,J){M.strokeStyle=J;M.beginPath();M.moveTo(0,255.5-X[0]);
for(var $=0;$<256;$++)M.lineTo($,255.5-X[$]);M.stroke()};function g2(M,X,J){bj.call(this);this._=w.l("span");
this.GB=new iR([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);this.GB.P(r.E.n,this.IF,this);if(J==null){this._.appendChild(this.GB._);
w.vA(this._)}var q=w.l("div");this._.appendChild(q);w.F(q,"background-color: var(--bg-canvas);");this.kX=w.l("canvas");
var W=this.kX;q.appendChild(W);W.width=Math.round(M*w.pv());W.height=Math.round(100*w.pv());w.kb(W,W.width,W.height);
W.style.display="block";this.qt=W.getContext("2d");this.Sb=null;this.wd=0;this.akX=null;this.ahY=[];
this.Iu=[];var T=["Mean:","Pixels:"],_=this._;if(X)for(var $=0;$<T.length;$++){var m=new jH(T[$]);this.ahY.push(m);
_.appendChild(m._);var d=new jH("hi");this.Iu.push(d);_.appendChild(d._);w.vA(_)}if(J!=null)this.nY(J)}g2.prototype=new bj;
g2.prototype.T=function(){this.GB.T()};g2.prototype.nY=function(M){this.GB.R(M);this.IF()};g2.prototype.R=function(M,X){this.Sb=M;
this.akX=X;this.IF()};g2.prototype.rh=function(M){if(M==this.wd)return;this.wd=M;this.IF()};g2.prototype.IF=function(){if(this.Sb==null)return;
var M=this.kX,X=this.qt,J=this.Sb,q=this.akX,W=this.GB.V(),T=6e3/J[4],_="#"+t.NZ(this.wd),m=g2.auv;M.width=M.width;
X.setTransform(M.width/256,0,0,-M.height/100,0,M.height);X.globalCompositeOperation="lighter";if(W==0)m(X,J[0],T/3,_);
else if(W<4)m(X,J[W],T,_);else{m(X,J[1],T,"#ff4545",!0);m(X,J[2],T,"#40bb60",!0);m(X,J[3],T,"#2266bb",!0)}X.setTransform(1,0,0,1,0,0);
if(q!=null){if(W==4)W=0;var d=0;for(var $=0;$<256;$++)d+=$*J[W][$];if(W==0)d/=3;this.Iu[0].R((d/q).toFixed(1)+"");
this.Iu[1].R(q+"")}};g2.auv=function(M,X,J,q,W){M.beginPath();M.moveTo(0,0);for(var T=0;T<256;T++)M.lineTo(T,X[T]*J);
M.lineTo(256,0);M.fillStyle=q;M.strokeStyle=q;if(W){M.globalAlpha=.2;M.fill();M.globalAlpha=1;M.stroke()}else M.fill()};
function gf(M,X){bj.call(this);this.pR={z:0,L:0,g:0};if(Math.abs(M-256/w.pv())<10)M=256/w.pv();var J=this._=w.l("div","flexrow");
J.style.position="relative";var q=this.aoZ=w.l("div");J.appendChild(q);this.Nj=new es;this.Lb=new es;
this.uv=this.Vv.bind(this);this.SR=this.aHP.bind(this);this.kX=w.l("canvas","");this.qt=this.kX.getContext("2d");
this.kX.width=this.kX.height=256;this.aEv=this.qt.getImageData(0,0,256,256);this.a3W=-1;this.a28="";
this.sl=null;w.LY(this.kX);w.Ad(this.kX,this.aEI.bind(this));q.appendChild(this.kX);this.a57=this.awn.bind(this);
this.aao=this.a0M.bind(this);this.IK=w.l("canvas","");this.RJ=this.IK.getContext("2d");this.IK.width=20;
this.IK.height=256;this.awQ=this.RJ.getImageData(0,0,20,256);gf.ayQ(this.awQ.data,20,256);w.LY(this.IK);
w.Ad(this.IK,this.aCl.bind(this));J.appendChild(this.IK);w.F(this.kX,"width:"+M+"px; height:"+M+"px");
w.F(this.IK,"width:16px; height:"+M+"px");this.SI=new hE("Web Colors\u2001");this.SI.P(r.E.n,this.update,this);
this.xc=new hE("CMYK gamut");this.xc.P(r.E.n,this.update,this);if(X){w.vA(q);q.appendChild(this.SI._);
q.appendChild(this.xc._)}var W=this.YW=document.createElementNS("http://www.w3.org/2000/svg","svg");
J.appendChild(W)}gf.prototype=new bj;gf.prototype.uL=function(M,X){this.kX.style.width=this.aoZ.style.width=M-16+"px"};
gf.prototype.R=function(M){if(this.SI.V()){var X=t.b(M);gf.UI(X);var J=this.V();if(X.z==J.z&&X.L==J.L&&X.g==J.g)M=this.pR}this.pR=M;
this.update()};gf.prototype.V=function(){var M=t.b(this.pR);if(this.SI.V())gf.UI(M);return M};gf.prototype.update=function(){var M=this.pR,X=t.G7(M.z,M.L,M.g),m=18;
if(X.tz==0)X.i$=this.Nj.x/255;if(X.i$==0||X.tz==0)X.oz=(255-this.FH(this.Lb.y))/255;if(X.tz!=0)this.Nj.x=X.i$*255;
this.Nj.y=(1-X.tz)*255;this.Lb.y=(1-X.oz)*255;var J=this.aEv,q=this.SI.V(),W=this.xc.V(),T=q+","+W;if(Math.abs(X.oz-this.a3W)>.002||this.a28!=T){this.aew(new Uint8Array(J.data.buffer),256,256,X.oz,q,W);
this.avj();this.a3W=X.oz;this.a28=T}var _=this.qt;_.putImageData(J,0,0);J=this.awQ;_=this.RJ;_.putImageData(J,0,0);
_.strokeStyle="#ffffff";_.beginPath();_.moveTo(0,this.Lb.y);_.lineTo(20,this.Lb.y);_.lineWidth=2;_.stroke();
var d=this.Nj.y/255,A=parseFloat(this.kX.style.width),p=parseFloat(this.kX.style.height),a=this.YW;a.setAttribute("width",m);
a.setAttribute("height",m);var f=Math.round(M.z*255)<<16|Math.round(M.L*255)<<8|Math.round(M.g*255),s="<circle cx=\""+m/2+"\" cy=\""+m/2+"\" r=\""+m/2+"\" fill=\"#"+t.NZ(f)+"\"></circle>";
s+="<circle cx=\""+m/2+"\" cy=\""+m/2+"\" r=\""+(-.5+m/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*d)+")\" stroke-width=\"1\"></circle>";
s+="<circle cx=\""+m/2+"\" cy=\""+m/2+"\" r=\""+(-1.2+m/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
a.innerHTML=s;a.style.pointerEvents="none";a.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
a.style.position="absolute";a.style.left=A*(this.Nj.x/255)-m/2+"px";a.style.top=p*(this.Nj.y/255)-m/2+"px"};
gf.UI=function(M){M.z=~~(.5+M.z*5)*.2;M.L=~~(.5+M.L*5)*.2;M.g=~~(.5+M.g*5)*.2};gf.prototype.aew=function(M,X,J,q,W,T){var _=1/X,m=1/J;
for(var d=0;d<J;d++)for(var A=0;A<X;A++){var p=t.HQ(q,A*_,(J-d-1)*m);if(W)gf.UI(p);var $=d*X+A<<2;M[$+0]=~~(p.z*255);
M[$+1]=~~(p.L*255);M[$+2]=~~(p.g*255);M[$+3]=255}if(T){var a=M.slice(0),f=t.kC("rgbToRgbC"),s=f[2],j=f[3];
ICC.U.applyLUT(j,s,a,a);this.sl=t.j(X*J);for(var $=0;$<M.length;$+=4){var Y=M[$]-a[$],G=M[$+1]-a[$+1],Q=M[$+2]-a[$+2],Z=Y*Y+G*G+Q*Q;
if(Z>300){M[$]=M[$+1]=M[$+2]=200;this.sl[$>>>2]=255}}}};gf.ayQ=function(M,X,J,q,W){if(q==null)q=1;if(W==null)W=0;
var T=new Uint32Array(M.buffer);for(var _=0;_<J;_++){var m=t.HQ((1+q*(1-_/J)+W)%1,1,1),d=255<<24|m.g*255<<16|m.L*255<<8|m.z*255;
for(var A=0;A<X;A++)T[_*X+A]=d}};gf.prototype.aEI=function(M){w.GY(window,this.uv);w.ZA(window,this.SR);
this.Vv(M);this.YW.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.YW.style.transform="scale(2.4)"};
gf.prototype.aHP=function(M){w.$E(window,this.uv);w.uU(window,this.SR);this.YW.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.YW.style.transform="scale(1)"};gf.prototype.Vv=function(M){var X=w.uP(M,this.kX);X.x=X.x*(256/parseFloat(this.kX.style.width));
X.y=X.y*(256/parseFloat(this.kX.style.height));this.Nj.cn(this.FH(X.x),this.FH(X.y));this.avj();this.wQ()};
gf.prototype.avj=function(){if(!this.xc.V())return;var M=this.Nj,X=0,J=0,q=1e9;for(var W=0;W<256;W++){for(var T=0;
T<256;T++){if(this.sl[W*256+T]==255)continue;var _=T-M.x,m=W-M.y,d=_*_+m*m;if(d<q){X=T;J=W;q=d}}}M.x=X;
M.y=J};gf.prototype.wQ=function(){this.pR=this.a7Z();this.a(new jb(r.E.n))};gf.prototype.a7Z=function(){var M=t.HQ((255-this.FH(this.Lb.y))/255,this.Xj(this.Nj.x/255),this.Xj(1-this.Nj.y/255));
return{z:M.z,L:M.L,g:M.g}};gf.prototype.aCl=function(M){w.GY(window,this.a57);w.ZA(window,this.aao);
this.awn(M)};gf.prototype.a0M=function(M){w.$E(window,this.a57);w.uU(window,this.aao)};gf.prototype.awn=function(M){var X=w.uP(M,this.IK);
X.y=X.y*(256/parseFloat(this.IK.style.height));this.Lb.cn(this.FH(X.x),this.FH(X.y));this.wQ()};gf.prototype.FH=function(M){return Math.max(0,Math.min(255,M))};
gf.prototype.Xj=function(M){return Math.max(0,Math.min(1,M))};function dK(M,X,J,q){var W=i9.Ff(X,q);
i9.call(this,M,W,J)}dK.prototype=new i9;function gA(){bj.call(this);this.Da=new eg;this.Da.P(r.E.n,this.a9M,this);
this.Da.parent=this;this.c2=new j6([12,14,0],1,150,"px",2,!0);this.c2.P(r.E.n,this.dO,this);this.c2.parent=this;
this.bp=new j6([16,0],.01,100,"px",2,!0,null,5);this.bp.P(r.E.n,this.dO,this);this.bp.parent=this;this.nb=new hE("Auto");
this.nb.P(r.E.n,this.dO,this);this.Sa=new j6([16,1],-500,5e3,"%",0,!0);this.Sa.P(r.E.n,this.dO,this);
this.Sa.parent=this;this.tb=new j6("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.tb.P(r.E.n,this.dO,this);
this.tb.parent=this;this.RE=new j6("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.RE.P(r.E.n,this.dO,this);
this.RE.parent=this;this.bK=new j6([16,2],-10,10,"px");this.bK.P(r.E.n,this.dO,this);this.bK.parent=this;
this.LR=new gv(!0);this.LR.P(r.E.n,this.cv,this);this.LR.parent=this;this.GM=new gv(!0);this.GM.P(r.E.n,this.cv,this);
this.GM.parent=this;this.w5=new gv(!0);this.w5.P(r.E.n,this.cv,this);this.w5.parent=this;this.Za=new gv(!0);
this.Za.P(r.E.n,this.cv,this);this.Za.parent=this;this.rg=new hE([2,3]);this.rg.P(r.E.n,this.dO,this);
this.e4=new hE([14,9]);this.e4.P(r.E.n,this.dO,this);this.PU=new hE([12,46]);this.PU.P(r.E.n,this.dO,this);
this.tn=new k5(!0,!0);this.tn.P(r.E.n,this.dO,this);this.eX=new fT("...",null,null,!0);this.eX._.style.marginLeft="-8px";
w.Ad(this.eX._,this.ahe.bind(this));this.D9=new bj;var M=this.D9._=w.l("div","floatcont form"),_=100;
this.D9.parent=this;this.tn.parent=this.D9;this.C$=new j6([12,41],1,20,"px",0,!0,!0);this.C$._.style.marginLeft="16px";
this.C$.P(r.E.n,this.dO,this);this.C$.parent=this.D9;M.appendChild(this.GM._);M.appendChild(this.rg._);
w.vA(M);M.appendChild(this.w5._);M.appendChild(this.e4._);w.vA(M);M.appendChild(this.C$._);M.appendChild(this.tn._);
w.vA(M);M.appendChild(this.Za._);M.appendChild(this.PU._);this.XJ=new fT("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />",!1,"Faux bold");
this.pg=new fT("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />",!1,"Faux italic");
this.Kt=new fT("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />",!1,"All caps");this.fP=new fT("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />",!1,"Small caps");
this.zE=new fT("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />",!1,"Superscript");this.GJ=new fT("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />",!1,"Subscript");
this.vb=new fT("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />",!1,"Underline");this.eO=new fT("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />",!1,"Strikethrough");
var X=[this.XJ,this.pg,this.Kt,this.fP,this.zE,this.GJ,this.vb,this.eO];for(var $=0;$<X.length;$++)X[$].P("click",this.amK,this);
var J="standard context discr swash styl_alt titling ordinals fractions".split(" ");this.QI=[];for(var $=0;
$<8;$++){var q=new fT("<img src=\""+PIMG["lig/"+J[$]]+"\" class=\"autoscale gsicon\" />",!1,f5.aCL[$]);
q.P("click",this.amK,this);this.QI.push(q)}this.LQ=new fT("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.Jo=new fT("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.aCm=new fT("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.asL=new fT("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.aok=new fT("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.as1=new fT("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.axs=new fT("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.P1=[this.LQ,this.Jo,this.aCm,this.asL,this.aok,this.as1,this.axs];for(var $=0;$<this.P1.length;
$++)this.P1[$].P("click",this.dO,this);var W=["lind","rind","flind","bind","aind"],T=[];for(var $=0;
$<5;$++)T.push("<img src=\""+PIMG["par/"+W[$]]+"\" class=\"autoscale gsicon\" /> ");this.u3=new j6(T[0],-_,_,"px");
this.mN=new j6(T[1],-_,_,"px");this.o8=new j6(T[2],-_,_,"px");this.o6=new j6(T[3],-_,_,"px");this.pE=new j6(T[4],-_,_,"px");
this.Ox=new i9([12,33],["Abc ...","... أي بي"]);this.J2=new j6(["Auto VAR0",[16,0]],0,500,"%");this.eZ=[this.u3,this.mN,this.o8,this.o6,this.pE,this.Ox,this.J2];
for(var $=0;$<this.eZ.length;$++){var m=this.eZ[$];m.P(r.E.n,this.dO,this);m.parent=this}}gA.prototype=new bj;
gA.prototype.ahe=function(M){if(w.L1(this.D9._))return;M.stopPropagation();var X=this.eX._.getBoundingClientRect(),J=new jb(r.E.C,!0);
J.data={h:r.m._5,kv:this.D9,x:X.left,y:X.top+X.height+4};this.a(J)};gA.prototype.T=function(){this.Da.T();
this.c2.T();this.bp.T();this.Sa.T();this.bK.T();this.tb.T();this.RE.T();this.rg.T();this.e4.T();this.PU.T();
this.C$.T();this.tn.T();for(var $=0;$<this.eZ.length;$++)this.eZ[$].T()};gA.prototype.R=function(M,X,J){this.mo=t.b(M);
var q=this.mo,W=q.cN,T=q.Js;this.XJ.R(W.FauxBold!=null?W.FauxBold:!1);this.pg.R(W.FauxItalic!=null?W.FauxItalic:!1);
this.Kt.R(W.FontCaps==2);this.fP.R(W.FontCaps==1);this.zE.R(W.FontBaseline==1);this.GJ.R(W.FontBaseline==2);
this.vb.R(W.Underline);this.eO.R(W.Strikethrough);var _={};if(W.Font!=null){var m=X.z0(q.Hd[W.Font].Name);
if(m)_=m.GSUB;if(_==null)_={}}for(var $=0;$<8;$++){this.QI[$]._3(_[f5.ap7[$]]);this.QI[$].R(W[f5.QI[$]])}this.Da.R(W.Font==null?null:q.Hd[W.Font].Name,X,J);
var d=W.FontSize==null?20:W.FontSize;this.c2.R(d);var A=W.Tracking;this.Sa.R(A==null?0:A);this.C$.R(W.OutlineWidth!=null?W.OutlineWidth:1);
this.tn.R(kf.so.a1k(W));this.bp.R(W.Leading!=null&&W.Leading!=0?W.Leading:d);this.nb.R(W.AutoLeading);
this.tb.R((W.VerticalScale!=null?W.VerticalScale:0)*100);this.RE.R((W.HorizontalScale!=null?W.HorizontalScale:0)*100);
this.bK.R(W.BaselineShift!=null?W.BaselineShift:0);this.rg.R(W.FillFlag!=null?W.FillFlag:!1);this.e4.R(W.StrokeFlag!=null?W.StrokeFlag:!1);
this.PU.R(W._FillBackgroundFlag!=null?W._FillBackgroundFlag:!1);this.V6(W.FillColor,this.LR);this.V6(W.FillColor,this.GM);
this.V6(W.StrokeColor,this.w5);this.V6(W._FillBackgroundColor,this.Za);var p=T._Direction!=null?T._Direction:0,a=f5.DO(T);
for(var $=0;$<this.P1.length;$++)this.P1[$].R(a==$);this.Ox.R(p);this.J2.R((T.AutoLeading!=null?T.AutoLeading:1.2)*100);
this.u3.R(T.StartIndent!=null?T.StartIndent:0);this.mN.R(T.EndIndent!=null?T.EndIndent:0);this.o8.R(T.FirstLineIndent!=null?T.FirstLineIndent:0);
this.o6.R(T.SpaceBefore!=null?T.SpaceBefore:0);this.pE.R(T.SpaceAfter!=null?T.SpaceAfter:0)};gA.prototype.V6=function(M,X){if(M){var J=f5.NH(M);
X.rh(Math.round(J.z)<<16|Math.round(J.L)<<8|Math.round(J.g))}else X.rh(0)};gA.prototype.EP=function(){var M=new jb(r.E.C,!0);
M.data={h:r.m.OA,iw:bN.Iz,mo:this.mo};this.a(M);var M=new jb(r.E.H,!0);M.J=o.JT;M.data={h:"updateStyles"};
this.a(M)};gA.prototype.amK=function(M){var X=this.mo.cN,J=M.target,q=!J.AZ(),W=this.QI.indexOf(J);if(W!=-1){X[f5.QI[W]]=q}else{if(J==this.XJ)X.FauxBold=q;
if(J==this.pg)X.FauxItalic=q;if(J==this.Kt)X.FontCaps=q?2:0;if(J==this.fP)X.FontCaps=q?1:0;if(J==this.zE)X.FontBaseline=q?1:0;
if(J==this.GJ)X.FontBaseline=q?2:0;if(J==this.vb)X.Underline=q;if(J==this.eO)X.Strikethrough=q}this.EP()};
gA.prototype.dO=function(M){var X=this.mo.cN,J=this.mo.Js,q=M.target;if(q==this.tn){kf.so.a5G(q.V(),X)}if(q==this.Sa){var W=this.Sa.V();
X.Tracking=W}if(q==this.bp){X.AutoLeading=!1;X.Leading=this.bp.V()}if(q==this.nb){X.AutoLeading=this.nb.V()}if(q==this.C$)X.OutlineWidth=q.V();
if(q==this.c2)X.FontSize=q.V();if(q==this.tb)X.VerticalScale=q.V()/100;if(q==this.RE)X.HorizontalScale=q.V()/100;
if(q==this.bK)X.BaselineShift=q.V();if(q==this.rg)X.FillFlag=q.V();if(q==this.e4)X.StrokeFlag=q.V();
if(q==this.PU)X._FillBackgroundFlag=q.V();if(this.P1.indexOf(q)!=-1){J.Justification=f5.DO(J,this.P1.indexOf(q))}if(q==this.u3)J.StartIndent=q.V();
if(q==this.mN)J.EndIndent=q.V();if(q==this.o8)J.FirstLineIndent=q.V();if(q==this.o6)J.SpaceBefore=q.V();
if(q==this.pE)J.SpaceAfter=q.V();if(q==this.Ox)J._Direction=q.V();if(q==this.J2)J.AutoLeading=q.V()/100;
this.EP()};gA.prototype.a9M=function(M){var X=this.mo,J=this.Da.V(),q=-1;for(var $=0;$<X.Hd.length;$++)if(X.Hd[$].Name==J)q=$;
if(q==-1){q=X.Hd.length;var W=t.b(X.Hd[0]);W.Name=J;X.Hd.splice(q,0,W)}X.cN.Font=q;this.EP()};gA.prototype.cv=function(M){var X=M.target,J=X.B_(),q={Type:1,Values:[1,(J>>16&255)/255,(J>>8&255)/255,(J>>0&255)/255]};
for(var $=0;$<4;$++)q.Values[$]=Math.round(q.Values[$]*1e3)/1e3;var W=X==this.LR||X==this.GM?0:X==this.w5?1:2;
this.mo.cN[["FillColor","StrokeColor","_FillBackgroundColor"][W]]=q;this.EP()};function eg(){bj.call(this);
this._=w.l("span","fontinput");this.G_=null;this.Op=null;this.wM=null;this.Ze="";this.Wc={};this.aAf=[];
this.aog={};this.aEo={};this.QG=[];this.aCY=!1;this.ha=w.l("button","fitem");w.F(this.ha,"width:9em;");
this.ha.textContent="Family Name \u25BC";this._.appendChild(this.ha);w.Ad(this.ha,this.aoB.bind(this));
this.kG=new bj;this.kG.parent=this;var M=this.kG._=w.l("div","floatcont");M.style.padding="7px 7px 3px 7px";
var X=new jH("Recent");M.appendChild(X._);var J=this.auq=new fT([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
J.P("click",this.a9C,this);J._.style.float="right";M.appendChild(J._);var q=this.a12=new hE("Local Fonts");
q.P(r.E.n,this.au1,this);q._.style.float="right";q._.style.marginRight="10px";q._.style.marginTop="3px";
M.appendChild(q._);w.vA(M);this.MI=w.l("span","fitem imageset scrollable");this.MI.style.maxHeight="8em";
M.appendChild(this.MI);var W=w.l("div","form");this.kG._.appendChild(W);this.oK=new fT(w.wD("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.oK.P("click",this.akx,this);W.appendChild(this.oK._);this.U0=new ja([12,86],null,7.5);this.U0.P("input",this.qB,this);
W.appendChild(this.U0._);this.up=new f2(10,"\u2630");W.appendChild(this.up._);this.up.parent=this.kG;
this.up.P(r.E.n,this.$p,this);this.up._.style.float="right";this.up._.style.marginRight="0";this.Eu=w.l("span","fitem imageset scrollable");
this.Eu.style.height="30em";this.kG._.appendChild(this.Eu);this.Eu.addEventListener("scroll",this.aEe.bind(this),!1);
this.H$=w.l("button","fitem");w.F(this.H$,"width:7em;");this.H$.textContent="SubFamily Name \u25BC";
this._.appendChild(this.H$);w.Ad(this.H$,this.aoB.bind(this));this.aE=new bj;this.aE.parent=this;this.aE._=w.l("div","floatcont");
this.ah2=w.l("span","fitem imageset scrollable");this.aE._.appendChild(this.ah2);this.aFx=this.aIw.bind(this);
this.acD=this.a3f.bind(this)}eg.prototype=new bj;eg.prototype.au1=function(M){aM.sQ._3(M.target.V(),function(){this.R();
this.$p()}.bind(this),function(){this.a12.R(!1)}.bind(this));this.$p()};eg.prototype.aEe=function(M){var X=this.Eu.scrollTop,J=this.aAf,q=Math.floor(X/27),W=Math.min(q+20,J.length);
for(var $=q;$<W;$++)this.a4W(J[$])};eg.prototype.a9C=function(){var M=new jb(r.E.C,!0);M.data={h:r.m.xa};
this.a(M)};eg.prototype.T=function(){this.up.T();this.auq.T();this.a12.R(aM.sQ.AZ());this.oK.Hr(w.wD("tools/cshape",null,"autoscale"))};
eg.prototype.akx=function(M){this.oK.R(!this.oK.AZ());this.$p()};eg.prototype.qB=function(M){this.Ze=this.U0.V().toLowerCase();
this.$p()};eg.prototype.aoB=function(M){w.xb(M);var X=M.currentTarget,J=X.getBoundingClientRect(),q=X==this.ha,W=q?this.kG:this.aE;
if(w.L1(W._)){this.azS(W);return}if(!q&&this.G_.sJ()[this.wM]==null)return;var T=new jb(r.E.C,!0);T.data={h:r.m._5,kv:W,x:J.left,y:J.top+J.height};
this.a(T);if(q){this.$p(null,!0)}};eg.prototype.aIw=function(M){var X=M.currentTarget.firstChild.nextSibling.textContent;
if(M.target.tagName.toLowerCase()=="button"){var J=this.Op.slice(0),q=J.indexOf(X);if(q==-1){J=J.slice(Math.max(0,J.length-99));
J.push(X)}else J.splice(q,1);var W=new jb(r.E.C,!0);W.data={h:r.m.OA,iw:bN.Yp,Nz:J};this.a(W);this.aCY=!0;
this.$p()}else{this.aGd(X,null)}};eg.prototype.a3f=function(M){this.aGd(null,M.currentTarget.firstChild.textContent)};
eg.prototype.aGd=function(M,X){var J=M==null?this.aE:this.kG,q=this.G_;if(M==null)M=q.sJ()[this.wM][0];
else{var W=q.zO(M),T=q.sJ()[this.wM];X=aM.ht(W,T?T[1]:"regular")}var _=q.Ip(M,X)[2];this.R(_,q);this.a(new jb(r.E.n,!1));
this.azS(J);this.$p()};eg.prototype.azS=function(M){var X=new jb(r.E.C,!0);X.data={h:r.m.Go,kv:M};this.a(X)};
eg.prototype.V=function(){return this.wM};eg.prototype.R=function(M,X,J){var q=this.G_;if(M!=null)this.wM=M;
else M=this.wM;if(X)this.G_=X;else X=this.G_;if(J)this.Op=J;else J=this.Op;if(M!=null){var W=X.sJ()[M],T,_;
if(W==null){T="- "+M;_="-------"}else{T=W[0];_=W[1];var m=this.QG;for(var $=0;$<m.length;$++)if(m[$][0][0]==T)m.splice($,1);
m.push([W,Date.now()]);m.sort(function(a,f){return f[1]-a[1]});m=m.slice(0,10);w.p9(this.MI);for(var $=1;
$<m.length;$++){var d=m[$][0],A=this.RD(d,!0);this.pb(A,d,!0);this.MI.appendChild(A)}var p=X.zO(T);p.sort(aM.ad8);
this.ah2.textContent="";for(var $=0;$<p.length;$++){var W=X.Ip(T,p[$]);if(!this.up.Jf(W))continue;var A=this.RD(W,!1);
this.ah2.appendChild(A)}}this.ha.textContent=T.substring(0,15)+" \u25BC";this.ha.setAttribute("title",T+", \""+M+"\"");
this.H$.textContent=_.substring(0,10)+" \u25BC";this.H$.setAttribute("title",_)}};eg.prototype.$p=function(M,X){var J=this.G_.sJ()[this.wM],q=this.Op,W=this.G_.awe();
this.aAf=[];var T=this.a12.V();for(var _ in W){var m=q.indexOf(_)!=-1,d=this.G_.zO(_),A=!1;for(var $=0;
$<d.length;$++){var p=this.G_.Ip(_,d[$]),a=!0;if(this.Ze.length>0&&p[0].toLowerCase().indexOf(this.Ze)==-1)a=!1;
else if(!this.up.Jf(p))a=!1;else if(this.oK.AZ()&&!m)a=!1;else if(p[5]=="--loc"&&!T)a=!1;if(a)A=!0}var f=this.Wc[_];
if(f==null){var s=aM.ht(W[_],"regular"),j=this.G_.Ip(_,s),f=this.RD(j,!0);this.Wc[_]=f;this.Eu.appendChild(f);
this.aog[_]="[true,false,false]"}if(A)this.aAf.push(_);var Y=J!=null&&J[0]==_;this.aEo[_]="["+A+","+Y+","+m+"]";
if(!X)this.a4W(_)}if(J&&!this.aCY){var G=this.Wc[J[0]];this.Eu.scrollTop=G.offsetTop-210}this.aEe();
this.aCY=!1};eg.prototype.a4W=function(M){var X=this.Wc[M];if(X.firstChild==null){var J=this.G_.awe(),q=aM.ht(J[M],"regular"),W=this.G_.Ip(M,q);
this.pb(X,W,!0)}var T=this.aog[M],_=this.aEo[M];if(T==_)return;var m=JSON.parse(T),d=JSON.parse(_);if(m[0]!=d[0]||m[1]!=d[1]){var A=d[0]?"":"display:none; ";
if(d[1])A+="background-color:rgba(0,0,0,0.13);";w.F(X,A)}if(m[2]!=d[2])w.F(X.firstChild,"opacity: "+(d[2]?"1":"0.2"));
this.aog[M]=_};eg.prototype.RD=function(M,X){var J=w.l("div","fontitem");if(!X)this.pb(J,M,X);return J};
eg.prototype.pb=function(M,X,J){var q=X[J?0:1],W=J?this.aFx:this.acD,d="";M.addEventListener("click",W,!1);
if(J)M.appendChild(w.l("button","star"));var T=w.l("span","label");T.setAttribute("title",q);T.textContent=q;
M.appendChild(T);var _=w.pv(),m=1/_,A=aM.gw*m,p=aM.ZB*m;if(1<_&&_<1.5)d="width:"+A+"px; height:"+p+"px;";
var a=w.l("span","thumb gsicon");if(X.Tm){d+="background: url("+X.Tm+");";if(1<_&&_<1.5)d+="background-size: "+A+"px "+p+"px;"}else{var f=Math.ceil(FNTS.list.length/aM.cols),s=Math.floor(X.gO/aM.cols),j=X.gO-s*aM.cols,Y=j*aM.gw,G=s*aM.ZB;
if(1<_&&_<1.5){d+="background-size: "+aM.cols*A+"px "+f*p+"px;";Y*=m;G*=m}d+="background-position:-"+Y+"px -"+G+"px;"}w.F(a,d);
M.appendChild(a)};function f2(M,X){bj.call(this);this._=w.l("button","fitem bbtn");this._.addEventListener("click",this.tl.bind(this),!1);
this.D9=new bj;this.D9._=w.l("div","floatcont");this.D9.parent=this;this.aml=w.l("div","flexrow");this.D9._.appendChild(this.aml);
this.r9=X;this._B=[];this.V1=[];var J=this.aml,q=w.l("div",""),W=w.l("div","");J.appendChild(q);J.appendChild(W);
this.fj=[];for(var $=0;$<FNTS.cats.length;$++)this.fj.push({name:FNTS.cats[$],index:$,nn:0});this.IT=new hE([7,0]);
this.IT.R(!0);this.IT.P(r.E.n,this.aIf,this);q.appendChild(this.IT._);this.awl=w.l("div","vlist marged scrollable");
w.F(this.awl,"width:10.3em; height:"+M+"em; ");q.appendChild(this.awl);this.pm=[];for(var $=0;$<this.fj.length;
$++){var T=this.fj[$],_=new hE(T.name);this.pm.push(_);_.P(r.E.n,this.a3Q,this);_.R(!0);this.awl.appendChild(_._);
this._B.push(1)}this.aID=new hE([7,0]);this.aID.P(r.E.n,this.a1y,this);this.a2g=w.l("div","vlist marged scrollable");
w.F(this.a2g,"width:8.6em; height:"+(M+1.5)+"em; ");W.appendChild(this.a2g);this.DD=[];for(var $=0;$<FNTS.subsetNames.length;
$++){var _=new hE(FNTS.subsetNames[$]);this.DD.push(_);_.P(r.E.n,this.a2Q,this);_.R(!1);this.a2g.appendChild(_._);
this.V1.push(_.V()?1:0)}}f2.prototype=new bj;f2.prototype.a9G=function(M){var X=this.DD;for(var $=0;
$<X.length;$++){var J=(M>>>$&1)==1;this.V1[$]=J;X[$].R(J)}};f2.prototype.av$=function(){return this.aml};
f2.prototype.T=function(){this._.textContent=this.r9?this.r9:kd.get([25,1,0])+" \u25BC";this.IT.T();
this.aID.T()};f2.prototype.tl=function(M){var X=this._.getBoundingClientRect(),J=new jb(r.E.C,!0);J.data={h:r.m._5,kv:this.D9,x:X.left,y:X.top+X.height,db:!0};
this.a(J)};f2.prototype.Jf=function(M){if(this._B[M[4]]==0)return!1;else for(var X=0;X<this.V1.length;
X++)if(this.V1[X]==1&&(M[3]>>>X&1)==0)return!1;return!0};f2.prototype.aIf=function(M){var X=M.target.V(),J=this.pm,q=this._B;
for(var $=0;$<J.length;$++){J[$].R(X);q[$]=X?1:0}this.a(new jb(r.E.n,!1))};f2.prototype.a1y=function(M){var X=M.target.V(),J=this.DD,q=this.V1;
for(var $=0;$<J.length;$++){J[$].R(X);q[$]=X?1:0}this.a(new jb(r.E.n,!1))};f2.prototype.a3Q=function(M){var $=this.pm.indexOf(M.target),X=this.fj[$].index;
this._B[X]=1-this._B[X];this.a(new jb(r.E.n,!1));this.aBw(this.pm,this.IT)};f2.prototype.a2Q=function(M){var $=this.DD.indexOf(M.target);
this.V1[$]=1-this.V1[$];this.a(new jb(r.E.n,!1))};f2.prototype.aBw=function(M,X){var J=!0;for(var $=0;
$<M.length;$++)J=J&&M[$].V();X.R(J)};function a0(M,X,J){bd.call(this,X,!0,"gradientbutton",18*13,10*13,bN.e2);
this.pU=-1;this.Yt=-1;this.aFR=null;this.aAA=M;this.I9=J}a0.prototype=new bd;a0.prototype.Tn=function(M){var X=new jb(r.E.C,!0);
X.data={h:r.m.SQ,bf:"gradienteditor",NX:this.hE,J4:this.aee.bind(this),Ej:this.I9};this.a(X)};a0.prototype.aee=function(M){this.R(M);
this.a(new jb(r.E.n))};a0.prototype.eI=function(M,X){this.pU=M;this.Yt=X;this.O7()};a0.prototype.O7=function(){if(this.hE==null)return;
var M=JSON.stringify(this.hE)+","+this.pU+","+this.Yt;if(M==this.aFR)return;this.aFR=M;var X=Math.floor(80*w.pv()),J=Math.floor(16*w.pv()),q=o.kO.aw(this.hE,X,J,0,this.pU,this.Yt);
this.EA.setAttribute("src",q);w.kb(this.EA,X,J)};a0.prototype.V=function(){var M;if(this.aAA)M=o.kO.alY(this.hE,this.pU,this.Yt);
else M=t.b(this.hE);return M};function fh(M){bd.call(this,M,!1,"swatchbutton",16*13,9.75*13,bN.sn)}fh.prototype=new bd;
function ci(M){bd.call(this,null,!0,"swatchbutton",16*13,8.75*13,bN.Vk);this.Xm=M}ci.prototype=new bd;
ci.prototype.oY=function(M){var X=this.l3,J=M.target.V();this.R(J==0?[]:X.MM[J-1][1],X);this.a(new jb(r.E.n))};
ci.prototype.Tn=function(M){if(this.hE.length!=0)fk.a4c(this.hE,this,this.wQ.bind(this))};ci.prototype.wQ=function(M){var X=M;
if(typeof M=="number"){X=t.vT(M,1);X=[X.z,X.L,X.g]}this.R(X);this.a(new jb(r.E.n))};ci.prototype.R=function(M,X){this.hE=M;
this.O7(X)};ci.prototype.O7=function(M){var X=Math.floor(20*w.pv()),J=Math.floor(20*w.pv()),q=w.l("canvas"),W=q.getContext("2d");
q.width=X;q.height=J;fk.lr(W,this.hE,M,X,J,0,0,this.Xm==1);var T=W.canvas.toDataURL("png");this.EA.setAttribute("src",T);
w.kb(this.EA,X,J)};ci.prototype.g7=function(){if(!this.g3)return;var M=Math.floor(20*w.pv()),X=Math.floor(20*w.pv()),J=[],q=[],W=this.l3,T=W.MM,_=w.l("canvas"),m=_.getContext("2d");
_.width=M;_.height=X;T=[["None",[]]].concat(T);for(var $=0;$<T.length;$++){q.push(T[$][0]);fk.lr(m,T[$][1],W,M,X,0,0);
var d=m.canvas.toDataURL("png");J.push(d)}this.MU.hS(J,q,M,X);this.g3=!1};ci.prototype.V=function(){return t.b(this.hE)};
function eD(M,X,J){bj.call(this);this._=w.l(J?"div":"span");var q=this.KY=w.l("input");this.KY.setAttribute("type","file");
if(X)q.setAttribute("multiple","");this.KY.addEventListener("change",this.a9q.bind(this),!1);this.a7R=this.o0.bind(this);
this.Dx={};this.lU=0;this.S9=M;var W=this.HK=new fT(kd.get(M)+" (0)",null,null,!0);this._.appendChild(W._);
W.addEventListener("click",function(T){q.click()});if(J){this.oG=w.l("div","scrollable");w.F(this.oG,"height:120px; width:100%; line-height:1.5em;");
this._.appendChild(this.oG);this.IF()}}eD.prototype=new bj;eD.prototype.R=function(M){this.Dx=M;this.IF()};
eD.prototype.V=function(M){return this.Dx};eD.prototype.a9q=function(M){var X=M.target.files;this.lU=X.length;
this.Dx={};for(var $=0;$<X.length;$++){var J=X[$],q=new FileReader;q.onload=this.a7R;q.qI=J.name;q.readAsArrayBuffer(J)}};
eD.prototype.o0=function(M){var X=this.Dx[M.target.qI]=new Uint8Array(M.target.result);this.lU--;if(this.lU==0){this.IF();
this.a(new jb(r.E.n));this.KY.value=null}};eD.prototype.IF=function(){var M=this.Dx;this.HK.Hr(kd.get(this.S9)+" ("+Object.keys(M).length+")");
var X=this.oG;if(X==null)return;w.p9(X);var J=[];for(var q in M)J.push(q);J.sort();for(var $=0;$<J.length;
$++){var W=w.l("div");W.textContent=J[$];X.appendChild(W)}};function b6(M,X,J,q,W){if(M==null)M=!1;if(X==null)X=!1;
if(J==null)J=!1;bj.call(this);this.SV=new es;this.ue=new es;this.azu=72;this.jD=72;this.er=!0;this.PK=!1;
this._=w.l("span");this.l_=new j6([12,41],0,0,null,0,!1,!0,4);this._.appendChild(this.l_._);this.l_.P(r.E.n,this.Bq,this);
var T=["px","%"];if(M)T=T.concat(["cm","mm","in"]);if(W){T=[[12,76,2],[12,76,6]];if(M)T=T.concat([[12,76,4],[12,76,5],[12,76,3]])}this.V5=new iR(null,T);
this._.appendChild(this.V5._);w.vA(this._);this.V5.P(r.E.n,this.Bq,this);this.lg=new j6([12,42],0,0,null,0,!1,!0,4);
this._.appendChild(this.lg._);this.lg.P(r.E.n,this.Bq,this);var _=new fT("\u21F5",!1,null,!0);_.P("click",this.rc,this);
this.dN=new fT("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.dN.P("click",this.Bq,this);
this.K3=new jH("");this.K3._.style.margin="0";this.K3._.style.padding="0";if(X){this._.appendChild(this.dN._);
this._.appendChild(this.K3._);this.dN.lH()}else this._.appendChild(_._);this.XF=new j6("DPI",0,0,null,3,!1,!0,4);
this.kg=new iR(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);if(M&&!q){w.vA(this._);this._.appendChild(this.XF._);
this._.appendChild(this.kg._)}this.kg.P(r.E.n,this.Bq,this);this.XF.P(r.E.n,this.Bq,this);this.Ek=new hE([12,23,1]);
this.Ek.P(r.E.n,this.Bq,this);if(J){w.vA(this._);this._.appendChild(this.Ek._)}w.vA(this._)}b6.prototype=new bj;
b6.prototype.uL=function(M,X){this.l_.VH.style.width=this.lg.VH.style.width=(M-78-this.dN.tK())/2+"px"};
b6.prototype.lu=function(){this.l_.lu();this.lg.lu();this.V5.lu();var M=this._;w.p9(M);this.V5._.style.marginRight="0";
M.appendChild(this.l_._);M.appendChild(this.dN._);M.appendChild(this.lg._);M.appendChild(this.V5._)};
b6.prototype.cb=function(){this.l_.cb()};b6.prototype.avt=function(M,X){this.er=M;if(X!=null)this.PK=X;
if(!this.er&&!this.PK&&this.V5.V()==0){this.V5.R(4);this.n_()}};b6.prototype.a8D=function(M){this.dN.R(M)};
b6.prototype.T=function(){this.l_.T();this.lg.T();this.XF.T();this.kg.T();this.dN.T();this.Ek.T();this.V5.T()};
b6.prototype.rc=function(M){var X=this.ue.x;this.ue.x=this.ue.y;this.ue.y=X;this.n_();this.a(new jb(r.E.n,!1))};
b6.prototype.Bq=function(M){if(M.target==this.V5&&!this.er&&!this.PK&&this.V5.V()==0)this.V5.R(4);if(M.target==this.V5||M.target==this.Ek){this.n_();
return}if(M.target==this.dN)M.target.R(!M.target.V());if(M.target==this.kg)window.locStor.setItem("dpiUnit",this.kg.V());
var X=this.SV,J=parseFloat(this.l_.V());if(isNaN(J))J=1;var q=parseFloat(this.lg.V());if(isNaN(q))q=1;
var W=this.XF.V()*[1,2.54][this.kg.V()],T=this.V5.V();if(this.er){var _=this.jD;if(T==1){J=this.SV.x*(J/100);
q=this.SV.y*(q/100)}var m=[1,1,2.54/_,25.4/_,1/_][T];J/=m;q/=m;if(this.Ek.V()){J+=this.SV.x;q+=this.SV.y}if(M.target==this.XF){var d=W;
if(!this.PK){var A=d/_;J*=A;q*=A}_=d}if(this.dN.V()){if(M.target==this.l_)q=J*(X.y/X.x);else J=q*(X.x/X.y)}J=Math.max(Math.abs(J),1);
q=Math.max(Math.abs(q),1)}else{var _=this.azu;if(M.target==this.XF)_=W;else{if(this.dN.V()){if(M.target==this.l_)q=J*(X.y/X.x);
else J=q*(X.x/X.y)}var m=[1,1,2.54/_,25.4/_,1/_][T],p=J/(T==1?100:X.x*m);_=_/p}J=X.x;q=X.y}this.ue=new es(Math.round(J),Math.round(q));
this.jD=_;this.n_();this.a(new jb(r.E.n,!1))};b6.prototype.vW=function($){this.V5.R($);this.n_()};b6.prototype.acq=function(){return this.V5.V()};
b6.prototype.R=function(M,X,J){var q=window.locStor.getItem("dpiUnit");if(q!=null)this.kg.R(q);if(J!=!0)this.SV=M.Q();
this.ue=M.Q();if(X!=null){this.azu=X;this.jD=X}this.n_()};b6.prototype.n_=function(){var M=this.ue.x,X=this.ue.y,J=this.jD,q=(M/X).toFixed(3);
while(q.charAt(q.length-1)=="0")q=q.substring(0,q.length-1);if(q.charAt(q.length-1)==".")q=q.substring(0,q.length-1);
var W="  "+q+" : 1",T=function(p,a){while(a!=0){var f=a;a=p%a;p=f}return p},_=T(M,X);if(Math.min(M,X)/_<10)W="  "+Math.round(M/_)+" : "+Math.round(X/_);
this.K3.R(W);if(this.Ek.V()){M-=this.SV.x;X-=this.SV.y}var m=this.V5.V();if(m==1){if(this.er){M=100*M/this.SV.x;
X=100*X/this.SV.y}else{M=X=100*this.azu/this.jD}}else{M=Math.round(M);X=Math.round(X)}var d=[1,1,2.54/J,25.4/J,1/J][m];
M*=d;X*=d;var A=m==1||m==2||m==4?2:0;this.l_.XN(A);this.lg.XN(A);this.l_.R(M);this.lg.R(X);this.XF.R(J*[1,1/2.54][this.kg.V()])};
b6.prototype.V=function(){return this.ue.Q()};b6.prototype.mv=function(){return this.jD};function cg(M,X,J){bj.call(this);
var q=M==0?["W","H","X","Y"]:["\u250F","\u2517","\u2513","\u251B"];this.zX=M;this.atM=X;this.a0x=1;this.ahO=[1,1,0];
var W=this._=w.l("div","numlist"),T=w.l("div","flexrow");W.appendChild(T);var _=w.l("div"),m=w.l("div");
T.appendChild(_);T.appendChild(m);w.F(_,"width:100px");w.F(m,"width:100px");var d=this.T1=[];for(var $=0;
$<4;$++){var A=new j6(q[$],0,0,null,2,!1,!0,4,null,J&&$<2);A.P(r.E.n,this.Bq,this);($<2?_:m).appendChild(A._);
d[$]=A}d[4]=new hE(M==0?[12,51]:[12,91,2]);d[4].R(!0);W.appendChild(d[4]._)}cg.prototype=new bj;cg.prototype.T=function(){var M=this.T1;
for(var $=0;$<5;$++)M[$].T();if(this.zX==0)w.qa(M[0],M[1])};cg.prototype.R=function(M,X){if(X)this.ahO=X;
X=this.ahO;var J=this.zX==0?[M[2],M[3],M[0],M[1]]:[M[0],M[3],M[1],M[2]];this.a0x=M[2]/M[3];for(var $=0;
$<4;$++){var q=this.T1[$];q.XN(X[2]==0&&this.atM?0:2);q.R(t.gk.jC(J[$],X[0],X[1],X[2]))}};cg.prototype.V=function(){var M=[],X=this.ahO;
for(var $=0;$<4;$++){var J=t.gk.Bw(this.T1[$].V(),X[0],X[1],X[2]);M[$]=this.atM?Math.round(J):J}var q=this.zX==0?[M[2],M[3],M[0],M[1]]:[M[0],M[2],M[3],M[1]];
return q};cg.prototype.Bq=function(M){var X=this.zX,J=this.T1.indexOf(M.currentTarget),q=this.V(),W=this.T1[4].V();
if(X==0){q[2]=Math.max(1,q[2]);q[3]=Math.max(1,q[3]);if(W&&J==0)q[3]=q[2]/this.a0x;if(W&&J==1)q[2]=q[3]*this.a0x}if(X==1){q[J]=Math.max(0,q[J]);
if(W)for(var $=0;$<4;$++)q[$]=q[J]}this.R(q,null);this.a(new jb(r.E.n,!1))};function hk(M){bj.call(this);
this.a7D=0;this.Iu=[0,0,1,1,100,100];this.ar=[10,5,1,1,4,3,3,2,16,9];this.azI=0;this.asF=72;this.a2h=M;
this._=w.l("span","fitem");this.a6=new iR(null,[[12,89,0],[12,89,1],[12,89,2],"Original Ratio","1 : 1","4 : 3","3 : 2","16 : 9"],[3,5]);
this._.appendChild(this.a6._);this.a6.P(r.E.n,this.Bq,this);this.l_=new j6("W",0,0,null,2,!1,!0);this._.appendChild(this.l_._);
this.l_.P(r.E.n,this.Bq,this);var X=this.tn=new fT("\u21C4",!1,null,!0);X.P("click",this.rc,this);this._.appendChild(X._);
this.lg=new j6("H",0,0,null,2,!1,!0);this._.appendChild(this.lg._);this.lg.P(r.E.n,this.Bq,this);this.XF=new j6("New DPI",0,0,null,3,!1,!0,4);
this.XF.P(r.E.n,this.Bq,this);this.R({Y:0,x:0,y:0})}hk.prototype=new bj;hk.prototype.rr=function(M){this.ar[0]=M[0];
this.ar[1]=M[1];var X=this.V();this.asF=M[2];this.azI=M[3];this.R(X)};hk.prototype.T=function(){w.qa(this.l_,this.lg);
this.XF.T();this.a6.T()};hk.prototype.rc=function(M){var X=this.lg.V();this.lg.R(this.l_.V());this.l_.R(X);
this.Bq(M)};hk.prototype.Bq=function(M){if(M.target==this.a6){var $=this.a6.V(),X=this.Iu,J=this.XF._;
if($==2&&J.parentNode==null&&this.a2h)this._.appendChild(J);if($!=2&&J.parentNode!=null)this._.removeChild(J);
if($>2){$-=3;var q=this.ar[2*$],W=this.ar[2*$+1];X[2]=q;X[3]=W;this.l_.R(q);this.lg.R(W);this.a6.R(1)}var T=this.V();
X[this.a7D*2]=T.x;X[this.a7D*2+1]=T.y;this.a7D=T.Y;this.R({Y:T.Y,x:X[T.Y*2],y:X[T.Y*2+1]})}if(this.l_.V()<1)this.l_.R(1);
if(this.lg.V()<1)this.lg.R(1);this.a(new jb(r.E.n,!1))};hk.prototype.R=function(M){this.a6.R(M.Y);var X=M.x,J=M.y;
if(M.Y==2){var q=this.azI,W=this.asF,T=this.ar;X=t.gk.jC(M.x,W,T[0],q);J=t.gk.jC(M.y,W,T[1],q)}this.l_.R(X);
this.lg.R(J);if(M.Y==0){this.l_.bH();this.lg.bH();this.tn.bH()}else{this.l_.Ja();this.lg.Ja();this.tn.Ja()}};
hk.prototype.V=function(){var M=this.l_.V(),X=this.lg.V(),J=this.a6.V();if(J==2){var q=this.azI,W=this.asF,T=this.ar;
M=t.gk.Bw(M,W,T[0],q);X=t.gk.Bw(X,W,T[1],q);M=Math.round(M);X=Math.round(X)}var _={Y:J,x:M,y:X},m=this.XF.V();
if(this.a2h&&m!=0)_.Qv=m;return _};function g0(M){bj.call(this);this._=w.l("span","");this.ak5=M;var X=M?100:300;
this.Ne=new kw("Off X",-X,X,M?"%":"px",0,!M);this.nF=new kw("Off Y",-X,X,M?"%":"px",0,!M);this.Ne.P(r.E.n,this.Bq,this);
this.nF.P(r.E.n,this.Bq,this);this._.appendChild(this.Ne._);this._.appendChild(this.nF._)}g0.prototype=new bj;
g0.prototype.T=function(){this.Ne.T();this.nF.T()};g0.prototype.Bq=function(M){this.a(new jb(r.E.n,!1))};
g0.prototype.alM=function(M){this.Ne.R(M.x);this.nF.R(M.y)};g0.prototype.arq=function(){return new es(this.Ne.V(),this.nF.V())};
g0.prototype.R=function(M,X){var J=M.Hrzn.v,q=M.Vrtc.v;if(this.ak5){J=J.val;q=q.val}this.Ne.R(J);this.nF.R(q);
if(X==!0)this.Bq()};g0.prototype.V=function(){var M=this.Ne.V(),X=this.nF.V();if(this.ak5)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:M}},Vrtc:{t:"UntF",v:{type:"#Prc",val:X}}};
else return{classID:"Pnt",Hrzn:{v:M,t:"doub"},Vrtc:{v:X,t:"doub"}}};function k5(M,X){bj.call(this);this._=w.l("button");
this.xy=[{G2:3,hc:[]},{G2:3,hc:[12,6],o5:0},{G2:3,hc:[0,6],o5:1,NT:1}];this.sA=kf.so.IH();this.aam=M;
this.up=X;this._.addEventListener("click",this.tl.bind(this),!1);var J=w.l("canvas","gsicon");this.qt=J.getContext("2d");
this._.appendChild(J);var q=w.l("span");q.textContent=" \u25BC";this._.appendChild(q);this.D9=new bj;
this.D9.parent=this;this.D9._=w.l("div","floatcont form label6");var W=this.D9._;w.F(W,"width: 15em;");
this.Wc=[X?new hE("Fill First"):new iR([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new i9([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new i9([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new j6("Limit",1,50,null,null,null,!0,2.5),new ja([19,9,2])];
for(var $=0;$<this.Wc.length;$++){var T=this.Wc[$];if(gj==0||$!=0||!X)W.appendChild(T._);T.P(r.E.n,this.Bq,this)}w.vA(W);
this.sC=[];var _=this.$P.bind(this);for(var $=0;$<this.xy.length;$++){var m=w.l("button","fitem");this.sC.push(m);
W.appendChild(m);m.addEventListener("click",_,!1);var J=w.l("canvas","gsicon"),d=J.getContext("2d");
m.appendChild(J);this.ani(d,40,20,this.xy[$])}}k5.prototype=new bj;k5.prototype.tl=function(M){var X=this._.getBoundingClientRect(),J=new jb(r.E.C,!0);
J.data={h:r.m._5,kv:this.D9,x:X.left,y:X.top+X.height+4,db:!0};this.a(J)};k5.prototype.Bq=function(M){var X=this.Wc,J=X.indexOf(M.target),q=X[J].V(),W=this.sA;
if(J==0)W.JJ=this.up?q?1:0:q;if(J==1)W.o5=q;if(J==2)W.NT=q;if(J==3)W.tu=q;if(J==4){var T=W.hc=q==""?[]:q.split(" ").map(parseFloat);
if(!this.aam)for(var $=0;$<T.length;$++)T[$]*=W.G2}this.a(new jb(r.E.n,!1))};k5.prototype.$P=function(M){var X=this.sC.indexOf(M.currentTarget),J=this.xy[X],q=this.sA;
if(J.o5!=null)q.o5=J.o5;if(J.NT!=null)q.NT=J.NT;q.hc=J.hc.slice(0);if(q.G2==null)q.G2=3;for(var $=0;
$<q.hc.length;$++)q.hc[$]*=q.G2/J.G2;this.a(new jb(r.E.n,!1))};k5.prototype.T=function(){for(var $=0;
$<this.Wc.length;$++)this.Wc[$].T()};k5.prototype.R=function(M){this.sA=t.b(M);var X=this.Wc;if(M.JJ!=null)X[0].R(this.up?M.JJ==1:M.JJ);
if(M.o5!=null)X[1].R(M.o5);if(M.NT!=null)X[2].R(M.NT);if(M.tu!=null)X[3].R(M.tu);X[3]._3(M.NT==0);if(M.hc!=null){var J=M.hc.slice(0);
if(!this.aam)for(var $=0;$<J.length;$++)J[$]/=M.G2;X[4].R(J.join(" "))}this.ani(this.qt,40,16,M)};k5.prototype.V=function(){return t.b(this.sA)};
k5.prototype.ani=function(M,X,J,q){w.R$(M.canvas,X,J);var W=q.hc?q.hc:[],T=q.G2;if(T==null)T=3;else{T=Math.min(5,T);
W=W.slice(0);for(var $=0;$<W.length;$++)W[$]*=T/q.G2}M.clearRect(0,0,X,J);M.setLineDash(W);M.lineCap=["butt","round","square"][q.o5];
M.lineJoin=["miter","round","bevel"][q.NT];M.lineWidth=T;M.beginPath();M.moveTo(0,J/2);M.lineTo(X*2,J/2);
M.stroke()};function j0(M){bd.call(this,M,!1,"contourbutton",34*13,16*13,bN.gx,!0);this.U0=new ja([12,86],null,16);
this.U0.P("input",this.qB,this);this.D9._.appendChild(this.U0._);this.aDm=null;this.Ze="";this._q=null;
this.R(iv.IH())}j0.prototype=new bd;j0.prototype.T=function(){bd.prototype.T.call(this);this.U0.T()};
j0.prototype.oY=function(M){this.R(this.aDm[M.target.V()[0]]);this.a(new jb(r.E.n))};j0.prototype.qB=function(M){this.Ze=this.U0.V().toLowerCase();
this.azz()};j0.abX=!1;j0.prototype.g7=function(){if(!this.g3)return;var M=this.l3;if(M==null||!j0.abX){var X=new jb(r.E.C,!0);
X.data={h:r.m.y_,iw:{url:"rsrc/basic/fa.zip"}};this.a(X);j0.abX=!0}else{var J=Date.now(),q=Math.floor(38*w.pv()),W=Math.floor(38*w.pv());
this._q=[];for(var $=0;$<M.length;$++){if(M[$].a4S==null)M[$].a4S=j0.a05(M[$],q,W);this._q.push(M[$].a4S)}this.azz();
this.g3=!1}};j0.prototype.azz=function(){var M=Math.floor(38*w.pv()),X=Math.floor(38*w.pv());this.aDm=[];
var J=[],q=[],W=this.l3;for(var $=0;$<W.length;$++){if(W[$].EX.toLowerCase().indexOf(this.Ze)==-1)continue;
this.aDm.push(W[$]);J.push(this._q[$]);q.push(W[$].EX)}this.MU.hS(J,q,M,X)};j0.prototype.R=function(M){this.hE=j0.Q(M);
this.O7()};j0.prototype.O7=function(){var M=Math.floor(23*w.pv()),X=Math.floor(23*w.pv()),J=j0.a05(this.hE,M,X);
this.EA.setAttribute("src",J);w.kb(this.EA,M,X)};j0.prototype.V=function(){return j0.Q(this.hE)};j0.Q=function(M){return{EX:M.EX,W7:M.W7,X:K.JL.Oz(M.X),ny:M.ny.Q()}};
j0.kX=null;j0.qt=null;j0.a05=function(M,X,J){var q=M.ny,W=Math.min(X/q.r,J/q.$)*.9,T=new kp;T.translate(-.5,-.5);
T.scale(.95,.95);T.translate(.5,.5);T.scale(W*q.r,W*q.$);T.translate((X-W*q.r)/2,(J-W*q.$)/2);var _=t.mt(X,J);
_.save();_.fillStyle="black";_.clearRect(0,0,X,J);_.setTransform(T.Jm,T.g,T.br,T.Bi,T._f,T.Ey);t.I.ai(M.X,_,0,0);
_.restore();var m=UPNG.encode([_.getImageData(0,0,X,J).data.buffer],X,J,0);return"data:image/png;base64,"+h1.qf(m)};
function gG(M){bd.call(this,M,!1,"ICCButton",16*13,12*13,bN.EY,!0);this.MU.nY(1)}gG.prototype=new bd;
gG.prototype.bU=function(){var M="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var $=0;$<M.length;$++)M[$]="luts/"+M[$]+".CUBE";return M};gG.prototype.oY=function(M){this.R(this.l3[M.target.V()]);
this.a(new jb(r.E.n))};gG.prototype.g7=function(){if(!this.g3)return;var M=Math.floor(1*w.pv()),X=Math.floor(1*w.pv()),J=[],q=[],W=this.l3;
for(var $=0;$<W.length;$++){var T=W[$].Nm.v.split("\\").pop().split("/").pop();q.push(T);J.push(gG.aw(W[$],M,X))}this.MU.hS(J,q,M,X);
this.g3=!1};gG.aw=function(M,X,J){var q=w.l("canvas"),_="ICC / 3DL / look / cube";q.width=X;q.height=J;
var W=q.getContext("2d"),T=Math.floor(14*w.pv());W.font=T+"px sans-serif";if(M.Nm)_=M.Nm.v.split("\\").pop().split("/").pop();
W.fillText(_,10,T);return q.toDataURL()};gG.prototype.O7=function(){var M=Math.floor(120*w.pv()),X=Math.floor(20*w.pv());
this.EA.setAttribute("src",gG.aw(this.hE,M,X));w.kb(this.EA,M,X)};function km(){bj.call(this);this.pR=null;
this._=w.l("span","fitem");this.NF=new i$([14,9]);this.a8e=new j6(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.k8=new k5;this.H7=[this.NF,this.a8e,this.k8];for(var $=0;$<this.H7.length;$++){var M=this.H7[$];
this._.appendChild(M._);M.parent=this;M.P(r.E.n,this.Bq,this)}}km.prototype=new bj;km.prototype.T=function(){for(var $=0;
$<this.H7.length;$++)this.H7[$].T()};km.prototype.SY=function(M,X){this.NF.SY(M,X)};km.prototype.Bq=function(M){var X=this.pR,J=this.NF.V();
kf.rP(X,J);X.strokeStyleLineWidth.v.val=this.a8e.V();if(M.target==this.k8)kf.XZ.write(X,this.k8.V());
this.pR=X;this.a(new jb(r.E.n,!1))};km.prototype.R=function(M,X,J){this.pR=t.b(X);var q=kf.UH(X);this.NF.R(M,q,J);
this.a8e.R(X.strokeStyleLineWidth.v.val);this.k8.R(kf.XZ.tx(X))};km.prototype.V=function(){return t.b(this.pR)};
function iD(M){var X=[[18,0],[18,1],[18,2],[18,3]],J=i9.Ff(["set/front","set/union","set/difference","set/intersection"]);
i9.call(this,M?[12,36]:null,J,X)}iD.prototype=new i9;function bM(){bj.call(this);this._=w.l("button","fitem bbtn");
w.Ad(this._,this.Hn.bind(this));this.D9=new bj;this.D9._=w.l("div","floatcont form");w.F(this.D9._,"max-width: 200px;");
this.D9.parent=this;var M=jP;this.TT=[new hE("Start"),new hE("End"),new M([12,41],0,100,"px",null,!0,null,!0),new M([12,80,0],0,100,"px",null,!0,null,!0),new M("Concavity",-50,50,"%",null,null,null,!0)];
for(var $=0;$<this.TT.length;$++){var X=this.TT[$];X.parent=this;X.P(r.E.n,this.wQ,this);this.D9._.appendChild(X._)}this.afz=w.l("div");
this.D9._.appendChild(this.afz)}bM.prototype=new bj;bM.prototype.R=function(M){for(var $=0;$<5;$++)this.TT[$].R(M[$]);
this.IF()};bM.prototype.V=function(M){var X=[];for(var $=0;$<5;$++)X[$]=this.TT[$].V();return X};bM.prototype.T=function(){this._.textContent=kd.get([12,93,4]);
for(var $=0;$<this.TT.length;$++)this.TT[$].T()};bM.prototype.wQ=function(M){this.a(new jb(r.E.n,!1));
this.IF()};bM.prototype.IF=function(M){var X=this.V(),J=200,q=60;X[2]/=w.pv();X[3]/=w.pv();var W=t.I.bg.xp(0,q/2,J,q/2,5,X),T=t.I.MH(W);
this.afz.innerHTML="<svg width=\""+J+"\" height=\""+q+"\" class=\"gsicon\">\t\t\t<path d=\""+T.zm+"\" />\t\t\t</svg>"};
bM.prototype.Hn=function(M){if(w.L1(this.D9._))return;M.stopPropagation();var X=this._.getBoundingClientRect(),J=new jb(r.E.C,!0);
J.data={h:r.m._5,kv:this.D9,x:X.left,y:X.top+X.height,db:!0};this.a(J)};function cw(){bj.call(this);
this._=w.l("div");this.T1=[];this.aox=[];var M=this.I0=w.l("div"),X=w.l("h2");X.textContent="Create Teams";
M.appendChild(X);X.style.margin="26px 0 16px 0";var J=new fT("More about Teams",!1,null,!0);X.appendChild(J._);
J._.style.float="right";J.P("click",this.a0a,this);this.ZL=w.l("div");M.appendChild(this.ZL);this.aCb=new ja("Team Name",null,10);
M.appendChild(this.aCb._);var q=this.a3i=new fT("Create Team",null,null,!0);M.appendChild(q._);q.P("click",this.a4U,this);
var X=w.l("h2");X.textContent="Join Teams";M.appendChild(X);X.style.margin="26px 0 16px 0";this.qz=w.l("div");
M.appendChild(this.qz);this.ajI=new ja("Team ID",null,10);M.appendChild(this.ajI._);var q=new fT("Join Team",null,null,!0);
M.appendChild(q._);q.P("click",this.a4U,this);this.auz;this.a4z=this.Mq.bind(this);this.a4y=this.aG1.bind(this);
this.a9K=!1;this.Lr();this.CK=null;this.akW=""}cw.prototype=new bj;cw.prototype.a0a=function(M){var X=new jb(r.E.C,!0);
X.data={h:r.m.Na,link:"https://www.photopea.com/api/accounts#teams"};this.a(X)};cw.prototype.Lr=function(){clearTimeout(this.aBO);
this.aBO=setTimeout(this.a4y,this.CK?10:3e3)};cw.prototype.aG1=function(){var M=hO.wu();if(document.hidden||!w.L1(this._)||M==null){this.Lr();
return}var X=hO.QF();if(this.CK==null&&X==null)return;hO.bh(this.CK?this.CK:X,this.a4z);this.a9K=!0;
this.CK=null};cw.prototype.axu=function(M){M.acc.update=!0;this._.style.pointerEvents="none";this._.style.opacity="0.5";
if(this.a9K)this.CK=M;else{clearTimeout(this.aBO);hO.bh(M,this.a4z)}};cw.prototype.VS=function(M){var X=typeof M=="string"?this.auz:this.T1.indexOf(M.target),J=this.aox[X],q=J[0],W=hO.QF();
if(W==null)W={};var T=W.acc,_=T.tjoin,m=T.tstart;if(q=="leave"){_.splice(_.indexOf(J[1]),1)}if(q=="add"||q=="remove"||q=="delTeam"||q=="showRename"||q=="rename"){var d=-1,A=0;
for(var $=0;$<m.length;$++){A+=m[$][1].length;if(m[$][2]==J[1])d=$}var p=m[d];if(q=="add"){var a=hO.Dm();
if(a&&a[0]==0&&a[1][2]<=A){alert("You can have at most "+a[1][2]+" members in your Premium.");return}p[1].push(J[2])}if(q=="remove")p[1].splice(p[1].indexOf(J[2]),1);
if(q=="delTeam"){if(p[1].length!=0){alert("Remove members first.");return}m.splice(d,1)}if(q=="showRename"){var f=new jb(r.E.C,!0);
f.data={h:r.m.SQ,bf:"namewindow",vc:p[0],nT:this.VS.bind(this)};this.a(f);this.auz=X;J[0]="rename";return}if(q=="rename")p[0]=M}this.axu(W)};
cw.prototype.a4U=function(M){var X=this.a3i==M.target,J=(X?this.aCb:this.ajI).V().trim();if(J==""){alert("The Team "+(X?"Name":"ID")+" is empty.");
return}if(!X){J=parseInt(J);if(isNaN(J)){alert("The ID must be a number");return}}var q=hO.QF();if(q==null)q={};
var W=q.acc;if(W==null)W=q.acc={};var T=W.tstart,_=W.tjoin;if(X){if(T==null)T=W.tstart=[];if(T.length>5){alert("You can have at most 5 teams");
return}T.push([J,[]])}else{if(T)for(var $=0;$<T.length;$++)if(T[$][2]==J){alert("You are the owner of this team");
return}if(_==null)_=W.tjoin=[];if(_.indexOf(J)!=-1){alert("You already asked to join this team.");return}W.tjoin.push(J)}W.update=!0;
this.axu(q)};cw.prototype.Mq=function(){this.a9K=!1;var M=hO.wu(),X=M!=null,J=this.I0.parentNode!=null;
if(X!=J){w.p9(this._);if(X)this._.appendChild(this.I0);else this._.textContent="Log In to access Team Settings."}if(!X)return;
var q=hO.QF();if(q==null)q={};var W=q.acc;if(W==null)W={};var T=JSON.stringify(W)+"===="+JSON.stringify(M);
if(T!=this.akW){this.akW=T;var _=this.ZL,m=this.qz;w.p9(_);w.p9(m);var d=this.T1=[],A=this.aox=[],p=this.VS.bind(this);
function a(D,n){D.addEventListener("click",p);d.push(D);A.push(n)}function f(S,D){var e=w.l("div"),n="rgba(255,255,255,0.15)";
e.appendChild(j("ID: "+S[2],54,n));e.appendChild(j(S[0],160,null,!0));if(D){e.appendChild(j(S[1].length+" members",80,null,!0))}else{e.appendChild(j(S[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<S[1]*1e3)e.appendChild(j("Premium",80,"rgba(0,140,0,1)"))}var k=j("",120);e.appendChild(k);
w.F(k,"float:right;text-align:right");if(D){var b=new fT("Rename",null,null,!0);a(b,["showRename",S[2]]);
k.appendChild(b._)}var b=new fT(D?"Delete":"Leave",null,null,!0);a(b,[D?"delTeam":"leave",S[2]]);k.appendChild(b._);
return e}function s(D,n,c){var e=w.l("div");e.style.paddingLeft="46px";e.appendChild(j(n?"\u2713":"...",8,n?"#229922":"#aa7700"));
e.appendChild(j(D[1],200));e.appendChild(j(D[2],240));var k=j("",120);e.appendChild(k);w.F(k,"float:right;text-align:right");
var b=new fT(n?"Remove":"Add",null,null,!0);a(b,[n?"remove":"add",c,D[0]]);k.appendChild(b._);return e}function j(D,n,k,b){var N=w.l("span");
N.textContent=D;w.F(N,"display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+n+"px;  "+(k!=null?"background-color:"+k+";":"")+(b?"font-weight:bold;":""));
return N}var Y=W.tstart,G=W.tjoin,Q=M.wantToJoin,Z=M.inTeams;if(Y)for(var g=0;g<Y.length;g++){var S=Y[g],U=Q["t"+S[2]];
if(U==null)U=[];var B={};for(var $=0;$<U.length;$++)B["u"+U[$][0]]=U[$];var e=f(S,!0);_.appendChild(e);
e.style.marginTop="10px";for(var $=0;$<S[1].length;$++){var P=S[1][$],h=B["u"+P];if(h==null)h=[P,"========","... user has left your team"];
delete B["u"+P];var V=s(h,!0,S[2]);_.appendChild(V)}for(var I in B){var h=B[I],V=s(h,!1,S[2]);_.appendChild(V)}}if(G){var F={};
for(var $=0;$<Z.length;$++)F["t"+Z[$][2]]=Z[$];for(var g=0;g<G.length;g++){var c=G[g],S=F["t"+c],e=f(S?S:["==========",-1,c],!1);
m.appendChild(e)}}this.a(new jb(r.E.n))}if(this.CK==null){this._.style.pointerEvents="auto";this._.style.opacity="1"}this.Lr()};
function iH(){bj.call(this);this._=w.l("span","fitem SymButton");var M=this.HK=new fT("<img src=\""+PIMG.sym+"\" class=\"autoscale gsicon\" />");
this._.appendChild(M._);w.ZA(M._,this.U4.bind(this));this.zv=null;this.T()}iH.prototype=new bj;iH.prototype.T=function(){if(this.zv)this.zv.T()};
iH.prototype.U4=function(M){var X=this.zv;if(X==null){var J=40,q=40,W=w.l("canvas"),T=W.getContext("2d");
W.width=J;W.height=q;var _=new kp(J,0,0,q,0,0);T.lineWidth=2;var m=[{name:"No Symmetry",ns:!0}],d=t.iJ.list,A=[{A:r.E.H,J:o.gf,p:{h:"pathedit",NL:"sspath",K:-1}}];
for(var $=0;$<d.length;$++){T.clearRect(0,0,J,q);var p=t.iJ.nO($,5);t.G.u(p.d,_,p.d);for(var a=0;a<p.d.length;
a++)p.d[a]=Math.round(p.d[a]);T.beginPath();Typr.U.pathToContext({cmds:p.C6,crds:p.d},T);T.rect(0,0,J,q);
T.stroke();var f={name:d[$][0],Xn:T.canvas.toDataURL()};m.push(f);if($<8)A.push({A:r.E.H,J:o.gf,p:{h:"pathedit",NL:"new",D_:[$,0]}});
else{f.sub=[];var s={sub:[]};A.push(s);for(var a=0;a<12;a++){f.sub.push({name:"Rays: "+(2+a)});s.sub.push({A:r.E.H,J:o.gf,p:{h:"pathedit",NL:"new",D_:[$,2+a]}})}}}m[m.length-1].ns=!0;
m.push({name:"Selected Path"},{name:"Transform Symmetry"});A.push({A:r.E.H,J:o.gf,p:{h:"pathedit",NL:"sspath",K:0}},{A:r.E.H,J:o.gf,p:{h:"pathedit",NL:"sspath",K:1}});
X=this.zv=new an(m,A)}var j=this.HK._.getBoundingClientRect();X.T();X.parent=this;var s=new jb(r.E.C,!0);
s.data={h:r.m._5,kv:X,x:j.x,y:j.y+j.height};this.a(s)};function e7(){bj.call(this);this.dq=[16,!0,!0];
this._=w.l("span","");this.rT=[new j6([12,24],0,255),new hE([12,25,1]),new hE([12,25,0])];for(var $=0;
$<3;$++){var M=this.rT[$];M.parent=this;M.R(this.dq[$]);this._.appendChild(M._);M.P(r.E.n,this.Bq,this)}}e7.prototype=new bj;
e7.prototype.Bq=function(){for(var $=0;$<3;$++)this.dq[$]=this.rT[$].V();this.a(new jb(r.E.n,!1))};e7.prototype.R=function(M){this.dq=M.slice(0);
for(var $=0;$<3;$++)this.rT[$].R(M[$])};e7.prototype.V=function(){return this.dq.slice(0)};e7.prototype.T=function(){for(var $=0;
$<3;$++)this.rT[$].T()};function hN(M,X){bj.call(this);if(X==null)X=!1;this._q=[];this.am3=Math.floor(120*w.pv());
this.aso=Math.floor(23*w.pv());this.D2=0;this.Ra=[];this.Ql=[];for(var J in t.Rl.e){if((J=="warpCustom"||J=="warpCylinder")&&!X)continue;
this.Ra.push(J);this.Ql.push(t.Rl.e[J])}this._=w.l("span","fitem warpbutton");this.D9=new bj;this.D9._=w.l("div","floatcont");
if(M){this.S9=M;this.lP=w.l("label","flabel");this._.appendChild(this.lP)}this.h=w.l("button");this._.appendChild(this.h);
w.Ad(this.h,this.Hn.bind(this));this.fX=new gz(!0);this.D9._.appendChild(this.fX._);this.fX.P(r.E.n,this.aCd,this);
w.F(this.D9._,"width:"+Math.floor(8+this.am3/w.pv())+"px;");this.T()}hN.prototype=new bj;hN.prototype.Hr=function(M){this.lP.textContent=M};
hN.prototype.T=function(){if(this.S9)this.lP.innerHTML=kd.get(this.S9)+":";this.O7()};hN.aDV={};hN.akq=function(M,X,J){var q=kd.get(t.Rl.e[M]),W=q+"-"+M+"-"+X+"-"+J,T=hN.aDV[W];
if(T)return T;var _=hN.qt;if(m==null){var m=w.l("canvas");_=hN.qt=m.getContext("2d")}var m=_.canvas;
if(m.width!=X||m.height!=J){m.width=X;m.height=J}_.font=Math.floor(13*w.pv())+"px sans-serif";_.lineWidth=1;
_.strokeStyle="#000000";var d=Math.floor(16*w.pv()),A=new gc(0,0,d,d);_.clearRect(0,0,m.width,m.height);
var p=t.Rl.Rl(M,M=="warpCylinder"?[0,0,1,1,-.2,-.3,1]:.3,!0,0,0,1);t.Rl.aB2(p[3],A);var a=t.G.mP(A);
a.C6.push("M","L","M","L");a.d.push(0,d/2,d,d/2);a.d.push(d/2,0,d/2,d);a=t.G.qG(a);a=t.G.yI(a,d/5);t.BF.u(p,a.d,A);
t.G.u(a.d,new kp(1,0,0,1,Math.floor(8*w.pv())+.5,Math.floor(3*w.pv())+.5),a.d);_.beginPath();Typr.U.pathToContext({cmds:a.C6,crds:a.d},_);
_.stroke();_.fillText(q,Math.floor(40*w.pv()),Math.floor(16*w.pv()));T=hN.aDV[W]=m.toDataURL();return T};
hN.prototype.Hn=function(M){if(w.L1(this.D9._))return;M.stopPropagation();var X=this.am3,J=this.aso;
for(var $=0;$<this.Ra.length;$++)this._q[$]=hN.akq(this.Ra[$],X,J);this.fX.hS(this._q,null,X,J);var q=this.h.getBoundingClientRect(),W=new jb(r.E.C,!0);
W.data={h:r.m._5,kv:this.D9,x:q.left,y:q.top+q.height+4};this.a(W)};hN.prototype.aCd=function(M){var X=new jb(r.E.C,!0);
X.data={h:r.m.Go,kv:this.D9};this.a(X);this.D2=M.target.V()[0];this.O7();this.a(new jb(r.E.n))};hN.prototype.O7=function(){var M=this.am3,X=this.aso;
this.fX.R([this.D2]);this.h.innerHTML="<img src=\""+hN.akq(this.Ra[this.D2],M,X)+"\" class=\"gsicon\" />";
w.kb(this.h.firstChild,M,X)};hN.prototype.V=function(){return this.Ra[this.D2]};hN.prototype.R=function(M){this.D2=this.Ra.indexOf(M);
this.O7()};function hd(M,X,J){bj.call(this);if(M==null)M=!1;if(X==null)X=!1;if(J==null)J=!1;this.aGb=X;
this.Rl=null;this.og=new hN([12,22],J);this.og.parent=this;this.og.P(r.E.n,this.EP,this);this._L=new iR([22,0],[[22,4,0],[22,4,1]]);
this._L.P(r.E.n,this.EP,this);var q=M?j6:jP;this.Jl=new q([22,1],-100,100,"%");this.pn=new q("Horizontal Distortion:",-100,100,"%");
this.p_=new q("Vertical Distortion:",-100,100,"%");this.Jl.parent=this.pn.parent=this.p_.parent=this;
this.Jl.P(r.E.n,this.EP,this);this.pn.P(r.E.n,this.EP,this);this.p_.P(r.E.n,this.EP,this)}hd.prototype=new bj;
hd.prototype.T=function(){this.og.T();this._L.T();this.Jl.T();var M=this.aGb?1:100;this.pn.Hr(kd.get([22,2]).substring(0,M)+":");
this.p_.Hr(kd.get([22,3]).substring(0,M)+":")};hd.prototype.EP=function(){var M=this.Rl,X=this.og.V(),J=M.warpStyle.v.warpStyle;
if(X=="warpCustom")t.Rl.hI(M,t.Rl.LK(M));else delete M.customEnvelopeWarp;M.warpStyle.v.warpStyle=this.og.V();
M.warpRotate.v.Ornt=["Hrzn","Vrtc"][this._L.V()];var q=this.Jl.V();M.warpPerspective.v=this.pn.V();M.warpPerspectiveOther.v=this.p_.V();
if(X=="warpNone"||X=="warpCustom"){q=0;M.warpPerspective.v=0;M.warpPerspectiveOther.v=0}else if(J=="warpNone"||J=="warpCustom"||J=="warpCylinder")q=50;
if(X!="warpCylinder"){M.warpValue={t:"doub",v:q};delete M.warpValues}else{M.warpValues=o.fx.qT([0,100,100,0,.15,.2,1]);
delete M.warpValue}this.a(new jb(r.E.n,!1));this.R(M)};hd.prototype.V=function(M){return t.b(this.Rl)};
hd.prototype.R=function(M){this.Rl=t.b(M);var X=M.warpStyle.v.warpStyle,J=X=="warpNone"||X=="warpCustom"||X=="warpCylinder";
this.og.R(X);if(!J){this._L.R(M.warpRotate.v.Ornt=="Hrzn"?0:1);this.Jl.R(M.warpValue.v);this.pn.R(M.warpPerspective.v);
this.p_.R(M.warpPerspectiveOther.v)}var q=[this._L,this.Jl,this.pn,this.p_];for(var $=0;$<q.length;$++)if(J)q[$].bH();
else q[$].Ja()};function ac(M,X,J){bj.call(this);this.acH={};this._=w.l("div");this.a2J=M;this.xR=null;
this.lo=new es(0,0);this.DX="position:relative;overflow:hidden;background-color:var(--bg-canvas);";this.age=X;
this.apH=J;this.EN=null;this.Mw=new w.zM(this._);this.q2("grab");this.kX=w.l("canvas","canv");this._.appendChild(this.kX);
this.qt=this.kX.getContext("2d",{willReadFrequently:!0});this.amx=null;this.mZ=null;this.EJ=0;this.a3j=0;
this.a37=0;this.ai6=0;this.atT=this.aBA.bind(this);this.alT=null;this.k=new jC({r:1,$:1});this.kd=null;
this.gD=null;this.GL=[];this.aHQ=0;this.N7=0;this.aF5=this.Wk.bind(this);this.a7o=this.yf.bind(this);
this.aBd=this.BY.bind(this);this.af6=this.Uk.bind(this);this.aJf=0;this.lA=null;this.abH(this.kX);this.OT(this)}ac.prototype=new bj;
ac.prototype.ax0=function(M){this.acH=M;this.Q1()};ac.PW=function(M){var X=new hP(!0);if(M>=0)X.OR("Space");
if(M>=1){X.OR("ControlLeft");if(M==2)X.OR("AltLeft")}return X};ac.prototype.KH=function(M){var X=this.EN,J=null;
if(M.M(hP.TZ)){J="grab";if(M.M(hP.WM)){J="zoom-in";if(M.M(hP.Ke))J="zoom-out"}}this.xR=J;if(J)X=J;this.Mw.Mq(X,this.DX);
if(M.M(hP.WM)){var q=0;if(M.M(hP._T))q=1;if(M.M(hP.ce))q=-1;if(q!=0){this.cG(new es(this.kX.width/2,this.kX.height/2),q==1)}}};
ac.prototype.q2=function(M){this.EN=M;if(this.xR)return;this.Mw.Mq(M,this.DX)};ac.prototype.abH=function(M){w.Ad(M,this.aF5);
w.LY(M);M.addEventListener("wheel",this.af6,!1)};ac.prototype.OT=function(M){M.P("viewchange",this.abV,this)};
ac.prototype.abV=function(M){var X=this.k.r7,J=M.currentTarget.ox();this.k.r7=J.r7;this.k.s=J.s.Q();
if(X!=J.r7)this.Eq();this.Q1()};ac.prototype.ox=function(){return{r7:this.k.r7,s:this.k.s}};ac.prototype.R=function(M,X,J,q){var W=M[0].kq;
if(this.mZ!=null&&this.mZ[0].kq.w6(W)){}else{this.k.AR={r:W.r,$:W.$};this.k.r7=1;this.k.s=new es(0,0)}this.mZ=M;
this.Eq(q);this.d8();this.EJ=0;this.a3j=Date.now();this.a37=0;this.ai6=X==null?0:X;if(J)this.acH=J;this.aBA(q)};
ac.prototype.Uk=function(M){M.preventDefault();if(M.deltaY==0||Date.now()-this.aJf<100)return;var X=w.uP(M);
X.x=w.pv()*X.x;X.y=w.pv()*X.y;this.aJf=Date.now();this.cG(X,M.deltaY<0)};ac.prototype.cG=function(M,X){o.XP._J(this.k,M,X);
this.abU()};ac.prototype.eT=function(M){var X=this.k,J=this.mZ[0].kq;this.k.r7=o.XP.XB(J.r,J.$,X.dy.r,X.dy.$);
if(M)this.k.s=new es(0,0);this.abU()};ac.prototype.abU=function(){this.Eq();this.a(new jb("viewchange"));
this.a(new jb("zoom"))};ac.prototype.Eq=function(M){};ac.prototype.d8=function(){clearTimeout(this.alT)};
ac.prototype.Q1=function(M){if(this.mZ==null||!w.L1(this.kX)||M&&M.M5())return;var X=this.k,J=this.mZ[0].kq,q=X.dy,W=q.r,T=q.$,_=this.amx,S,U=null;
if(_==null||_.length!=q.o()*4){_=this.amx=t.j(q.o()*4);console.log("creating image data")}else _.fill(0);
var m=this.mZ[this.EJ],d=this.qt,A=X.Zg(!1),p=A.Q();p.vN();var a=Date.now(),f=M?M:J,s=t.G.mP(f).d;t.G.u(s,p,s);
var j=t.G.Oi(s),Y=q.Lg(j),G=new Uint8Array(_.buffer,0,Y.o()*4);X.VR();var Q=new Uint8Array(X.Dg.buffer,0,Y.o()*4),Z=new Uint8Array(m.data);
if(X.r7==1){var g=J.Q();g.offset(j.x-f.x,j.y-f.y);t.fA(Z,g,Q,Y)}else t.scale.B4(Z,J,A,Q,Y,!1);if(this.age)S=Q;
else{S=G;t.qR(G,Y.r,Y.$,8,f.x,f.y);t.v.r$("norm",Q,Y,G,Y,Y,1)}if(M==null)d.clearRect(0,0,W,T);d.putImageData(new ImageData(new Uint8ClampedArray(S.buffer,0,Y.o()*4),Y.r,Y.$),Y.x,Y.y);
if(this.apH){W=J.r,T=J.$;U=W+" \xD7 "+T+" ("+(W*T/1e6).toFixed(1)+"MP)"}var B=ac.am4(X.r7,"#ffffff",U);
d.putImageData(B,0,X.dy.$-B.height);var e=this.acH;if(e){var P=iO.QL([.1,.5,1,1]),h=iO.QL([1,0,0,1]),V=iO.QL([1,1,1,1]),I=iO.QL([0,0,0,1]),p=X.Zg(!1);
p.vN();d.save();d.setTransform(p.Jm,p.g,p.br,p.Bi,p._f,p.Ey);d.strokeStyle=h;if(e.aga){iO.ZG(e.aga,null,d);
d.lineWidth=1/X.r7;d.stroke()}d.strokeStyle=V;if(e.afh){iO.ZG(e.afh,null,d);d.lineWidth=1/X.r7;d.stroke();
d.strokeStyle=I;d.setLineDash([4/X.r7,4/X.r7]);d.stroke();d.setLineDash([])}d.strokeStyle=P;d.fillStyle=iO.QL([1,1,1,1]);
if(e.Gn){iO.ZG(e.Gn,null,d);d.lineWidth=1/X.r7;d.stroke()}if(e.PJ){iO.Ts(e.PJ,d,X,.5);d.lineWidth=2/X.r7;
d.stroke();d.fill()}if(e.p0){d.font=16/X.r7+"px sans-serif";var F=1/X.r7;for(var $=0;$<e.p0.length;$++){var c=e.p0[$],D=c[0],n=c[1]+6/X.r7,k=c[2];
d.fillStyle="black";d.fillText(k,D-F,n);d.fillText(k,D+F,n);d.fillStyle="white";d.fillText(k,D,n)}}d.restore()}d.getImageData(0,0,1,1)};
ac.anr="";ac.adl=null;ac.am4=function(M,X,J){if(J==null)J="";var q="z"+M+","+X+","+J;if(q==ac.anr)return ac.adl;
var W=Math.round(50*w.pv()),T=Math.round(18*w.pv()),_=J==""?0:Math.round((J.length+2)*T*.35),m=w.l("canvas"),d=m.getContext("2d");
m.width=W+_;m.height=T;d.fillStyle="rgba(1,1,1,1)";d.fillRect(0,0,W,T);if(J!="")d.fillRect(W+2,0,_,T);
d.font=Math.round(11*w.pv())+"px monospace";d.fillStyle=X;var A=M*100;if(A<100)A=A.toFixed(2);else A=Math.round(A);
A=A+"%";var p=d.measureText(A).width;d.fillText(A,(W-p)/2,Math.round(T*.7));if(J!=""){var a=d.measureText(J).width;
d.fillText(J,W+(_-a)/2+1,Math.round(T*.7))}var f=d.getImageData(0,0,W+_,T);ac.anr=q;ac.adl=f;return f};
ac.prototype.aBA=function(M){var X=this.mZ,J=X.length,q=this.EJ,W=this.mZ[q],T=(q+1)%J;this.Q1(M);var _=Date.now();
if(J!=1&&X[T].kq.w6(W.kq)){var m=W.yS?parseInt(W.yS.split(",").pop()):30;if(m==0)m=16;if(T==0)this.a37++;
if(this.ai6==0||this.a37<this.ai6)this.alT=setTimeout(this.atT,m)}this.EJ=T;this.a3j=_};ac.prototype.uL=function(M,X){if(M<=0||X<=0)return;
var J=Math.floor(M*w.pv()),q=Math.floor(X*w.pv());this.k.dy=new gc(0,0,J,q);this.kX.width=J;this.kX.height=q;
w.F(this.kX,"width:"+J/w.pv()+"px; height:"+q/w.pv()+"px; display:block;");this.Q1()};ac.prototype.WL=function(M){var X=-1,J=this.GL;
for(var $=0;$<J.length;$++)if(J[$].pointerId==M.pointerId)X=$;return X};ac.prototype.Wk=function(M){var X=this.WL(M),J=this.GL;
if(X!=-1)J[X]=M;else J.push(M);if(J.length==1){this.lA=M.target;w.GY(window,this.a7o);w.ZA(window,this.aBd);
this.kd=w.uP(M,this.kX);this.kd.x*=w.pv();this.kd.y*=w.pv();this.lo=this.kd;this.gD=this.k.s.Q();if(this.a2J&&this.lA==this.kX&&!this.xR)this.a(new jb("mousedown"))}else this.aHQ=this.N7=es.Yq(w.uP(J[0],this.kX),w.uP(J[1],this.kX))};
ac.prototype.yf=function(M){var X=this.WL(M),J=this.GL;if(X!=-1)J[X]=M;var q=this.k,W=this.xR,T=this.mZ[this.EJ].kq.Q();
T.r*=q.r7;T.$*=q.r7;var _=w.uP(M,this.kX);_.x*=w.pv();_.y*=w.pv();this.lo=_;if(this.a2J&&this.lA==this.kX&&!W)this.a(new jb("mousemove"));
else if(W=="grab"||W==null){if(J.length>1){var m=w.uP(J[0],this.kX),d=w.uP(J[1],this.kX),A=new es(w.pv()*(m.x+d.x)/2,w.pv()*(m.y+d.y)/2),p=es.Yq(m,d),a=null;
if(p>this.N7+50){this.N7+=50;a=!0}if(p<this.N7-50){this.N7-=50;a=!1}if(a!=null)this.cG(A,a);return}else{var f=_.x-this.kd.x,s=_.y-this.kd.y;
q.s.x=this.gD.x+Math.round(f);q.s.y=this.gD.y+Math.round(s)}this.a(new jb("viewchange"))}};ac.prototype.BY=function(M){var X=this.WL(M),J=this.GL;
J.splice(X,1);if(J.length==0){w.$E(window,this.a7o);w.uU(window,this.aBd);var q=this.xR;if(M.detail>1){this.k.r7=1;
this.k.s.cn(0,0);this.Q1()}if(this.a2J&&this.lA==this.kX&&!this.xR)this.a(new jb("mouseup"));else{if(q=="zoom-in"||q=="zoom-out")this.cG(this.lo,q=="zoom-in")}}else{var W=this.kd=w.uP(J[0],this.kX);
W.x*=w.pv();W.y*=w.pv()}};ac.prototype.jX=function(M){var X=this.lo;if(M){X=w.uP(M,this.kX);X.x*=w.pv();
X.y*=w.pv()}return this.k.Ob(X.x,X.y)};function k7(){bj.call(this);this.E4=null;this.qj=null;this.aQ=null;
this.u9=null;this.afF="";this.rV=[];this.ek=0;this.Gt=[];this.f=null;this.g1=0;var M=this._=w.l("div",""),X=this.a4Z=w.l("div","form");
w.F(X,"line-height:0; margin-bottom:0.5em;");M.appendChild(X);var J=this.S9=w.l("span");X.appendChild(J);
w.F(J,"font-size:1.2em; font-weight:bold; margin-right:3em;");var q=this.a6_=new hE([25,2,0]);q.R(!0);
X.appendChild(q._);q.P(r.E.n,this.Ik,this);var W=this.aea=new hE([25,2,1]);W.R(!0);X.appendChild(W._);
W.P(r.E.n,this.Ik,this);var T=new jH(" ");X.appendChild(T._);var _=this.aEJ=new ja([25,1,1]);X.appendChild(_._);
_.P(r.E.n,this.Ik,this);this.up=new f2(14);this.up.a9G(3);X.appendChild(this.up._);this.up.parent=this;
this.up.P(r.E.n,this.a1_,this);var m=this.a8R=new fT([25,1,2],null,null,!0);X.appendChild(m._);m.P("click",this.wO,this);
var d=new fT("?",null,null,!0);X.appendChild(d._);d.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.a52=this.a61.bind(this);this.fG=w.l("div","svggallery scrollable");M.appendChild(this.fG);this.fG.addEventListener("scroll",this.ak1.bind(this))}k7.prototype=new bj;
k7.prototype.SY=function(M){this.f=M};k7.prototype.T=function(){this.S9.textContent=kd.get([25,0]);this.up.T();
this.a6_.T();this.aea.T();this.aEJ.T();this.a8R.T()};k7.prototype.uL=function(M,X){if(this.E4&&this.E4.x==M&&this.E4.y==X)return;
this.E4=new es(M,X);w.F(this.a4Z,"width:"+M+"px");var J=this.a4Z.getBoundingClientRect();X-=710<M?30:60;
w.F(this.fG,"width:"+M+"px; height:"+X+"px");if(w.L1(this._))this.Ik()};k7.prototype.R=function(M){this.qj=M;
this.Ik()};k7.prototype.ak1=function(M){var X=this.fG;if(X.scrollTop+X.clientHeight+10>=X.scrollHeight){this.Ik(!0)}};
k7.prototype.a1_=function(M){this.aQ=null;this.Ik()};k7.prototype.a61=function(M){if(Date.now()-this.g1<2e3)return;
this.g1=Date.now();this.ek=this.Gt.indexOf(M.currentTarget);var X=this.cQ(this.qj.x,this.qj.y);if(X[1]){var J=X[1].largeImageURL,q=new XMLHttpRequest;
q.responseType="arraybuffer";q.open("GET",J,!0);q.onload=this.arl.bind(this);q.send();return}this.aeU(X)};
k7.prototype.arl=function(M){var X=M.target.response,J=h1.$Y(X),q=h1.mr(J),W=q.ss(X),T=this.cQ(this.qj.x,this.qj.y,[X,W[0].kq.r,W[0].kq.$]);
this.aeU(T)};k7.prototype.aeU=function(M){var X=M[0],J=h1.$Y(X),q=h1.mr(J),W=new dD("template.psd");
q.ss(X,W);var T=new jb("tempready",!0);T.data={AR:W};this.a(T)};k7.prototype.wO=function(M){var X=M.target;
this.rV=[];this.aQ=null;this.Ik()};k7.prototype.a9Z=function(M){var X=JSON.parse(M.target.response),J=this.u9=X.hits;
for(var $=0;$<J.length;$++)if(J[$].user_id==6314823)J.splice($,1);this.Ik()};k7.prototype.Ik=function(M){if(this.qj==null||this.E4==null||this.f==null)return;
if(this.E4.x<=0)return;var X=this.qj.x,J=this.qj.y;if(Math.min(X,J)<50)return;if(M!=!0){this.Gt=[];w.p9(this.fG);
this.fG.scrollTop=0}if(this.Gt.length>300)return;var q=Math.min(1,300/Math.max(X,J)),W=this.E4.Q();W.x-=20;
var T=Math.max(1,Math.floor(W.x/(X*q))),_=Math.max(1,Math.ceil(W.y/(J*q)));q=W.x/T/X;var m=T*_;if(this.aQ==null){var d=this.f.Rb.sJ(),A=[];
for(var p in d){var a=d[p],f=a[3];if(!this.up.Jf(a))continue;if(a[5]==null||a[5].slice(0,2)=="gf")continue;
A.push(a)}if(A.length==0)A.push(d.DejaVuSans);var s=A.length;for(var $=0;$<s*10;$++){var j=Math.floor(Math.random()*s),Y=Math.floor(Math.random()*s),G=A[j];
A[j]=A[Y];A[Y]=G}A=A.slice(0,10);this.aQ=A}var Q=this.aea.V(),Z=this.aEJ.V().trim();this.aEJ._3(Q);if(Q&&(this.u9==null||Z!=this.afF)){var g=new XMLHttpRequest,S="https://pixabay.com/api/?image_type=photo"+(Z==""?"":"&q="+encodeURIComponent(Z))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(Z=="")S="//www.photopea.com/plugins/gallery.json";g.open("GET",S,!0);g.onload=this.a9Z.bind(this);
g.onerror=function(V){console.log(V.target.response)};g.send();this.afF=Z;return}q*=(X*q-5)/(X*q);var U=this.Gt.length;
for(var $=0;$<m;$++){var B=this.ek=U+$;if(this.rV[B]==null)this.rV[B]=Math.floor(Math.random()*4294967295);
var e=this.cQ(Math.round(X*q),Math.round(J*q)),P=e[0];P=H.Og(new Uint8Array(P));var h=w.l("span");h.innerHTML=P;
this.Gt.push(h);this.fG.appendChild(h);h.addEventListener("click",this.a52,!1)}};k7.prototype.cQ=function(M,X,J){var q=this.aea.V(),W=this.a6_.V(),T=q&&this.u9.length!=0?this.u9:null;
if(W&&!q)T=null;if(W&&q&&(this.ek&1)==0)T=null;return ka.bg(M,X,this.rV[this.ek],this.aQ,J?J:T)};function as(){bj.call(this);
this._=w.l("div");this.I0=null;this.anB=null;this.ag$=-1;this.W5={JPG:[{s2:new jP([12,52,0],0,100,"%",null,null,!0),wa:70},{s2:new hE("attach metadata"),wa:!1}],TIFF:[{s2:new hE("attach metadata"),wa:!1}],WEBP:[{s2:new jP([12,52,0],0,100,"%",null,null,!0),wa:70},{s2:new hE("attach metadata"),wa:!1}],GIF:[{s2:new jP([12,52,0],0,100,"%",null,null,!0),wa:100},{s2:new hE([12,23,3]),wa:!1}],PNG:[{s2:new jP([12,52,0],0,100,"%",null,null,!0),wa:100},{s2:new hE("don't use palettes"),wa:!1},{s2:new hE("attach metadata"),wa:!1}],BMP:[{s2:new hE("don't use palettes"),wa:!1}],PDF:[{s2:new ja([12,52,1]),wa:""},{s2:new jP([12,52,0],0,100,"%",null,null,!0),wa:100},{s2:new hE("reverse pages"),wa:!1},{s2:new hE("rasterize all"),wa:!1},{s2:new hE("vectorize text"),wa:!1},{s2:new jP("Add Margin",0,5,"in",2),wa:0},{s2:new hE("add crop marks"),wa:!1}],EMF:[{s2:new ja([12,52,1]),wa:""},{s2:new jP([12,52,0],0,100,"%",null,null,!0),wa:100},{s2:new hE("reverse pages"),wa:!1},{s2:new hE("rasterize all"),wa:!1},{s2:new hE("vectorize text"),wa:!1},{s2:new jP("Add Margin",0,5,"in",2),wa:0}],SVG:[{s2:new hE("add raster graphics"),wa:!0},{s2:new hE("add hidden layers"),wa:!1},{s2:new hE("vectorize text"),wa:!1},{s2:new hE("rasterize text"),wa:!1},{s2:new hE("minify"),wa:!1}],RAW:[{s2:new i9([12,72],["1","3","4"]),wa:2},{s2:new i9([12,34],["8 Bits","16 Bits"]),wa:0},{s2:new i9("Byte Order",["12-34","34-12"]),wa:0}],DDS:[{s2:new iR("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),wa:0},{s2:new hE("Add Mipmaps"),wa:!0}],MP4:[{s2:new jP([12,52,0],0,100,"%",null,null,!0),wa:50}],anim:[{s2:new jP("Speed",10,1e3,"%",null,!0,!0),wa:100},{s2:new j6("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),wa:0},{s2:new hE("reverse frames"),wa:!1},{s2:new hE("boomerang"),wa:!1}],slcs:[{s2:new iR([8,11,0],["No Slices","All Slices","User Slices"]),wa:1}],artb:[{s2:new hE([1,16,1]),wa:!0}],hicc:[{s2:new hE("convert to sRGB"),wa:!0}]};
for(var M in this.W5){var X=this.W5[M];for(var $=0;$<X.length;$++){X[$].s2.R(X[$].wa);X[$].s2.P(r.E.n,this.EQ,this)}}}as.prototype=new bj;
as.prototype.aCW=function(){this.ag$=-1};as.prototype.T=function(){for(var M in this.W5)for(var $=0;
$<this.W5[M].length;$++)this.W5[M][$].s2.T()};as.prototype.EQ=function(){this.Ik();this.a(new jb(r.E.n,!1))};
as.prototype.Ik=function(){var M=this.I0,X=M[0],J=M[1],q=M[2],W=M[3],T=M[4],_=this.W5[X];if(_==null)_=[];
else _=_.slice(0);if(J)_=_.concat(this.W5.anim);if(["GIF","PNG","JPG","WEBP"].indexOf(X)!=-1&&q)_=_.concat(this.W5.slcs);
else if(["GIF","PNG","JPG","WEBP","SVG"].indexOf(X)!=-1&&W)_=_.concat(this.W5.artb);if(T)_=_.concat(this.W5.hicc);
var m=M.join(",");if(m!=this.ag$){this.ag$=m;w.p9(this._);for(var $=0;$<_.length;$++){if(X=="PDF"&&!W&&($==0||$==2))continue;
this._.appendChild(_[$].s2._);w.vA(this._)}}var d=this.anB=[];for(var $=0;$<_.length;$++)d.push(_[$].s2.V())};
as.prototype.j6=function(M,X,J,q,W){this.I0=[M,X,J,q,W];this.Ik()};as.prototype.V=function(){return this.anB.slice(0)};
as.prototype.R=function(M,X){var J=this.I0,q=J[0],W=this.W5[q],T=Math.min(W.length,M.length);for(var $=0;
$<T;$++)W[$].s2.R(M[$]);this.Ik();if(X!=!0)this.EQ()};function dx(){bj.call(this);this._=w.l("span","fitem");
this.hn=!1;this.alX=new fT("No",!1,"Cancel");this.Ay=new fT("Yes",!1,"Confirm");this._.appendChild(this.alX._);
this._.appendChild(this.Ay._);this.alX.P("click",this.HV,this);this.Ay.P("click",this.HV,this);this.T()}dx.prototype=new bj;
dx.prototype.T=function(){this.alX.Hr(w.wD("cross",null,"autoscale"));this.Ay.Hr(w.wD("checkmark",null,"autoscale"))};
dx.prototype.HV=function(M){this.hn=M.target==this.Ay;this.a(new jb("click",!1))};dx.prototype.V=function(){return this.hn};
function jr(M){bj.call(this);this._=w.l("span","fitem");this.aii=new fT("\u25BC",null,"Auto Options",!0);
w.Ad(this.aii._,this.agU.bind(this));this._.appendChild(this.aii._);this.hY=new fT("Auto",null,null,!0);
this.hY.P("click",this.wQ,this);this._.appendChild(this.hY._);this.mU=new ju("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.mU.P(r.E.n,this.wQ,this);this.mU.R([!1,!1,!1,!0]);this.D9=new bj;var X=this.D9._=w.l("div","floatcont form");
w.F(X,"width: 250px;");this.D9.parent=this;X.appendChild(this.mU._);this.aqs=[];for(var $=0;$<2;$++){var J=new j6(($==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);
J.R(.1);J.P(r.E.n,this.wQ,this);this.aqs.push(J);X.appendChild(J._)}}jr.prototype=new bj;jr.prototype.wQ=function(M){this.a(new jb(r.E.n,!1))};
jr.prototype.T=function(){};jr.prototype.V=function(){return[this.mU.V().indexOf(!0),this.aqs[0].V(),this.aqs[1].V()]};
jr.prototype.agU=function(M){if(w.L1(this.D9._))return;M.stopPropagation();var X=this.aii._.getBoundingClientRect(),J=new jb(r.E.C,!0);
J.data={h:r.m._5,kv:this.D9,x:X.left,y:X.top+X.height+4};this.a(J)};function bK(){bj.call(this);var M=this._=w.l("div","fitem");
this.Vx=new iR([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.Vx.P(r.E.n,this.Bq,this);M.appendChild(this.Vx._);
this.GG=new gv(!1);this.GG.parent=this;this.GG.rh(16777215);this.GG.P(r.E.n,this.Bq,this);M.appendChild(this.GG._)}bK.prototype=new bj;
bK.prototype.T=function(){this.Vx.T();this.GG.T()};bK.prototype.ats=function(M){var X=[M.artboardBackgroundType.v-1];
if(M.Clr)X.push(M.Clr.v);this.R(X)};bK.prototype.agR=function(){var M=this.V();return{classID:"artboard",Clr:{t:"Objc",v:M[1]},artboardBackgroundType:{t:"long",v:M[0]+1}}};
bK.prototype.R=function(M){this.Vx.R(M[0]);if(M[1])this.GG.R(M[1])};bK.prototype.V=function(){return[this.Vx.V(),this.GG.V()]};
bK.prototype.Bq=function(M){if(M.target==this.GG)this.Vx.R(3);this.a(new jb(r.E.n,!1))};function gi(){bj.call(this);
var M=this._=w.l("div");w.du(M);var X=w.l("span");X.textContent="Prompt";M.appendChild(X);w.vA(M);this.SN=new ja(null,null,-1,4);
this.q7=new ez;this.q7.parent=this;this.oH=new fT("Generate",!1,null,!0);this.oH.P("click",this.JD,this);
this.P8=null;this.aFi=0;M.appendChild(this.SN._);w.vA(M);M.appendChild(this.q7._);M.appendChild(this.oH._);
this.acF=this.axd.bind(this);this.aaH=this.aw5.bind(this);this.Sb=w.l("div","scrollable");M.appendChild(this.Sb)}gi.prototype=new bj;
gi.prototype.R=function(M){var X=new Uint8Array(M),J=Date.now(),q=UZIP.adler(X,0,X.length);if(q==this.a8X)return;
this.a8X=q;var W=new dD;bB.Ah(M,W);w.p9(this.Sb);this.aFi=W.U.length-2;if(this.P8==this.aFi)this.P8=null;
var J=Date.now();for(var $=W.U.length-2;$>0;$--){var T=W.U[$],X=T.buffer,_=T.S;while(_.o()>500*500){var m=t.Es(X,_);
X=m.hT;_=m.S}var d=h1.pI(X.buffer,_.r,_.$,"png"),A=w.l("div");w.F(A,"width:75px; margin:4px; cursor:pointer; display:inline-block; text-align:center;"+(T.cV()?" box-shadow:0 0 0px 3px #00aaff;":""));
var p=w.l("img");w.F(p,"width:100%; margin-bottom:-18px;");if(T.cV()&&this.P8==null)this.SN.R(T.getName());
p.aqu=$;p.setAttribute("src",d);var a=new fT("x",!1,"Delete",!0);w.F(a._,"height:15px; line-height:1em; padding: 0px 4px;");
a._.aqu=$;A.appendChild(p);A.appendChild(a._);w.ZA(p,this.acF);w.ZA(a._,this.aaH);this.Sb.appendChild(A)}console.log(Date.now()-J)};
gi.prototype.T=function(){this.q7.T()};gi.prototype.axd=function(M){var X=new jb(r.E.H,!0);X.J=o.HX;
X.data={h:K.tk,K:M.currentTarget.aqu,NL:"switch"};this.a(X)};gi.prototype.aw5=function(M){var X=new jb(r.E.H,!0);
X.J=o.HX;X.data={h:K.tk,K:M.currentTarget.aqu,NL:"del"};this.a(X)};gi.prototype.JD=function(M){var X=this.q7.a5V(this.SN.V());
if(X)this.P8=this.aFi+1};function ez(){this.Cw=new fT("\u2026",!1,null,!0);this.Cw.P("click",this.Hn,this);
this._=this.Cw._;this.D9=new bj;this.D9.parent=this;var M=this.D9._=w.l("div","floatcont form label6");
M.style.width="270px";var X=this.c_="dpmpp_2m_karras euler euler_a ddim dpm k_lms pndm".split(" ");this.aq8=["stablediffusion_inpaint_2","realistic_vision_5_1_inpaint","absolute_reality_1_8_1_inpaint","dreamshaper_8_inpaint"];
var J=this.T1=[new hE("Use default settings"),new iR("Model",["Stable Diffusion 2.0","Realistic Vision 5.1","Absolute Reality 1.8.1","Dreamshaper 8"]),new ja("Neg. prompt",null,13.25),new kw("Guidance",-20,20),new kw("Steps",10,50),new iR("Sampler",X)];
J[0].P(r.E.n,this.T,this);J[0].R(!0);J[1].R(1);J[3].R(6);J[4].R(20);for(var $=0;$<J.length;$++){M.appendChild(J[$]._);
w.vA(M)}}ez.prototype=new bj;ez.prototype.V=function(){var M=this.T1,X={},J=["model","negative_prompt","guidance","steps","sampler"],q=!M[0].V();
if(q){for(var $=1;$<M.length;$++)X[J[$-1]]=M[$].V();X.model=this.aq8[X.model];X.sampler=this.c_[X.sampler];
X.steps=Math.min(X.steps,50)}return q?null:X};ez.prototype.T=function(){var M=this.T1;for(var $=0;$<M.length;
$++){M[$].T();if($>0)M[$]._3(!M[0].V())}};ez.prototype.Hn=function(M){if(w.L1(this.D9._))return;var X=this.Cw._.getBoundingClientRect(),J=new jb(r.E.C,!0);
J.data={h:r.m._5,kv:this.D9,x:X.left,y:X.top+X.height+4,db:!0};this.a(J)};ez.prototype.a5V=function(M){if(M.length>1e3){alert("Your prompt is too long");
return!1}var X=new jb(r.E.pL,!0);X.data=o.X_.Zc("aiHeal");X.data.Qd.prmt={t:"TEXT",v:M};X.data.Qd.iw=this.V();
this.a(X);return!0};function js(M){bj.call(this);this.rL=M;this.a9c=0;this.asU=!1;this.azH=M?new js.ib:null;
this._=w.l("div","flexrow storageset");this._.style.background="var(--bg-panel)";this.fU=w.l("div");
this._.appendChild(this.fU);this.mp=w.l("div");this._.appendChild(this.mp);this.sC=[];var X=Storage.list.length;
if(M)X=X+1+js.fE.length;var J=this.R5.bind(this);for(var $=0;$<X;$++){var q=w.l("div");this.sC.push(q);
this.fU.appendChild(q);q.addEventListener("click",J,!1)}this.R5(null,0)}js.prototype=new bj;js.oG=[];
js.rG=function(M){js.oG.push(M);M.IF()};js.qK=function(){var M=js.oG;M.pop();M[M.length-1].IF()};js.prototype.IF=function(){this.R5(null,this.a9c)};
js.prototype.SY=function(M,X){if(!M.rN&&!this.asU){var J=this.rL?2:1;for(var $=J;$<this.sC.length;$++)this.fU.removeChild(this.sC[$]);
this.asU=!0;if(this.rL)this.azH.SY(M,X)}if(this.nc)this.nc.SY(M,X)};js.prototype.T=function(){if(this.rL)this.azH.T();
if(this.nc)this.nc.T()};js.prototype.R5=function(M,X){var J=this.sC,q;if(X==null)X=J.indexOf(M.currentTarget);
this.a9c=X;for(var $=0;$<J.length;$++)w.tM(J[$],"active");w.Z6(J[X],"active");if(this.rL)X--;w.p9(this.mp);
var W=Storage.list.length;if(X==-1)q=this.azH;else if(X<W)q=Storage.lm(X);else{var T=js.fE[X-W];q=new js.Db(T[1]);
hO.event("strg_"+T[0])}this.nc=q;q.parent=this;this.mp.appendChild(q._);this.uL(this.a3,this.oz);this.T()};
js.prototype.uL=function(M,X){this.a3=M;this.oz=X;var J=M<850,q=J?50:210,W=Storage.list;if(this.rL)W=[["Home",null,"strg/home"]].concat(W.concat(js.fE));
for(var $=0;$<W.length;$++){var T=this.sC[$],_="padding: 8px "+(J?13:36)+"px; cursor:pointer;";w.F(T,_);
var m=W[$][2],d=W[$].length==6;m=d?m:PIMG[m];T.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+m+"\" /> "+(J?"":W[$][0])}this._.style.width=M+"px";
this._.style.height=X+"px";this.fU.style.width=q+"px";this.fU.style.paddingTop="32px";if(this.nc)this.nc.uL(M-q,X)};
js.fE=[["PeaGames","plugins/games.html","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAgMAAAAhHED1AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAxQTFRFAAAAAAAAAAAAAAAANek3lgAAAAR0Uk5TAP+TQ7iym4QAAAQ/SURBVHic7Vo7khMxEDVsERCwG+0ROIIDsjmCA2s8tTtVTA7BHEGXmCNQRZmAPQBVzCV8BAIyYorCWLblkfojd2syVi/a1aifpe7XrU9psSgoKCgoKCgoKCgoKHg+uNsOhkW9/XXN/idvfcKXmfbGfEjZv7tub8xH3v5WYm/ME2d/M8gI6pEhWMrs2UncSO2NoYcgHoAx7cwB0EMQhdCD8sKgIaix/RuNvTE9InirI2hmudABuvG1lgDOQTkDNAf1DIyZFQOHeA5LPUEs552eYBPav9Tbx4FUB9EhdII6iA6hE3Y5BIETMlTgMDkhQwUO1RwVOKwuBPd5BFM6DHkEl7KUJSMH78VMH05efJVL4L2YpUMH78VdLoHXYq69r0rZQTDGzguCD0N2EIzp5mSCQzsnExyajEyot5+mfzYZUXwK92K1vhw9xk5z6fQCdRpQy4Q+/klLyaBP7RfHWPs9IYM6tUw0IPAdIYM2Je4WaHdFJHOfimwPsqchdGRT2rIgf9dENUiWmBFUkA0ebp3KL1+H78MG0GeTIvAlaBoh9vixDxfH9ZlgeWkZkRCTBL6KTiO0cwkqpGQRwfS9Qn2TBC0i6JHDlSPo5hKsUC4pndgi1Sp1oCTASmxQ4iUJUC5oCVA2Hia1A13SBLAeqAmqo/1N2H0IPtff9/s/rsfdfr//QRGcNjWB/GOCbhGAXHAaIIODW0OCMSQg61oNgnBoCL5GZxDGERUYW0QADvV4zTvPIWSOCFYxAb3q2vimJCKAh1GS4CHcHxwQ9qoAwWAESBHsniEBjMKgJejSYfx298lghD8DhARWTXrnEiUTuJQAa5ZdUPkVEYDLoWXUc0NwQgJfsMggHB2E0yMmiOYAfq2iI1vHTdvt9rPrd3v4Y4h7jkcC5ISNtKieiw36sJGuC2tyXq5dSNCS2nAEwrXxLDIUhkZK4GWOCZYyAp9oA2hvpTuUiiFYaQl2iEC4S+MIOuk+kSPopTtVjqDSEgyg3Up361wYLdKWUkgjamJOLJyU8aCOBEtEwCRTTfh1pOqGL1Yw6Guic0WQsgWlIQg6wlXGX9gsQWtLOKyhr2Uskwp4VPVI7s86MgiuFe2l3v8l7Bl9VERkOFgqOpYSFwNycSXlzYFY3tHGVYvTapF9nUjsvbVAu38tTlWC3FTLYOkcl2Oky5QY+BSoBD7IKoFvA5TwlTY7DHbB1GopvH3u1fZ0ysvMhumUl+nF7kKQeTl+8WGmFsO9+X0OQbizzioJ4fkkS0pVQJAjpfh4kqGE+ICUoYQuIshQgo0I9EoA1x36ogIOmfo5gBmo5wBnoJ4DfoWhnMOICHRaQu8XFsolknxNM8jtsQuVQ2Ce8+yk9o+0vfQ1UeI9kTAQ/Ism2YOkB9b+MAkBA/ucSeiGmnXACeRdUTj+qw/TFvvfWxZf91fNCwoKCgoKCgoKCgoK/iP8A4Y8W8cr97IuAAAAAElFTkSuQmCC",!0,"Join the contenst!",9986144664]];
for(var $=0;$<js.fE.length;$++)if(js.fE[$][5]*1e3<Date.now()){js.fE.splice($,1);$--}js.ib=function(){this.nj=null;
var M=this._=w.l("div");M.style.background="var(--bg-canvas)";var X=this.x0=w.l("div");M.appendChild(X);
var J=w.l("style");M.appendChild(J);J.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var $=0;$<2;$++){var q=w.l("div"),J="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";X.appendChild(q);
if($==0)J+="padding: 12px 0px";if($==1)J+="position:absolute;  bottom:0;";w.F(q,J);var W=w.l("img");
q.appendChild(W);W.setAttribute("src",PIMG[$==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);if($==0)this.aAO=W;
else this.amV=W;if($==0)this.ak4=q;else this.alE=q}this.sC=[];J="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var T=this.U4.bind(this),_=w.l("div");X.appendChild(_);w.F(_,"width:min(80%,556px);  margin:0px 0 0 10px;  text-align:center");
for(var $=0;$<4;$++){var m=w.l("span","bhover");this.sC.push(m);w.F(m,J+"cursor:pointer; padding:12px;");
m.addEventListener("click",T,!1);_.appendChild(m)}w.vA(X);var q=w.l("div");w.F(q,J+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
q.textContent="Drop any files here";X.appendChild(q);var d=new Date().getDate(),A=new Date().getMonth();
if(A==11&&d>20||A==0&&d<10){this.kX=w.l("canvas");w.F(this.kX,"position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.qt=this.kX.getContext("2d");this.amE=t.j(4);M.appendChild(this.kX);var p=Math.random()<.5,a={z:255,L:255,g:255};
if(!p){a=t.HQ(Math.random(),Math.random()*.7,1);a.z*=255;a.L*=255;a.g*=255}this.DL=[Math.round(1048575*Math.random()),p?.05:.02,Math.round(4+Math.random()*8),1,p?3:15,a,0,!0,p,p?1:.2,3];
this.aop=p?.1:.2;this.Qk=this.iT.bind(this);window.requestAnimationFrame(this.Qk)}};js.ib.prototype=new bj;
js.ib.prototype.iT=function(){window.requestAnimationFrame(this.Qk);if(!w.L1(this._))return;var M=this.amE,X=this.kX,J=this.qt,q=X.width,W=X.height;
this.DL[6]=Date.now()*.001*this.aop;t.wc.ZY(M,q,W,this.DL,!0);J.putImageData(new ImageData(new Uint8ClampedArray(M.buffer),q,W),0,0)};
js.ib.prototype.U4=function(M){var $=this.sC.indexOf(M.currentTarget),X=new jb(r.E.C,!0);if($==0)X.data={h:r.m.SQ,bf:"newproject"};
if($==1)X.data={h:r.m.xa};if($==2)X.data={h:r.m.SQ,bf:"res0"};if($==3)X.data={h:r.m.mF};this.a(X)};js.ib.prototype.T=function(){var M=this.sC,X=[[11,7],[1,6],[25,0],[0,17,6]],J=["\u2605","\uD83E\uDC7F","\u25A3"],J=["lrs/newlayer","strg/tdevice","pix_layer","lrs/clipping"];
for(var $=0;$<M.length;$++)M[$].innerHTML="<span style=\"vertical-align:middle\">"+w.wD(J[$],null,"autoscale")+"</span>\u2000"+kd.get(X[$]);
var q="l"+"o"+"g"+"o",W=q+"_"+["pp","vp"][gj],T=new Date;if(T.getMonth()==3&&T.getDate()==1)W="lo"+"go_cuc"+"umber";
if(PIMG[q])W=q;this.aAO.setAttribute("src",PIMG[W]);this.amV.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
js.ib.prototype.uL=function(M,X){var J=Math.min(X*1.5,Math.min(M,600)),q=this.kX;if(q){w.R$(q,M,J*.26);
this.amE=t.j(q.width*q.height*4)}this._.style.width=M+"px";this._.style.height=X+"px";this.alE.style.width=M+"px";
this.x0.style.marginLeft=Math.max(0,Math.round((M+200-600)/2)-200)+"px";this.aAO.style.width=J+"px";
this.amV.style.width=J+"px"};js.ib.prototype.SY=function(M,X){var J=M;if(M==null)M=this.f;this.f=M;if(!M.rN&&this.sC[2].parent){this.x0.removeChild(this.sC[2]);
this.x0.removeChild(this.sC[3])}this.sC[3].style.display=M.Kx?"inline-block":"none";if(J)this.nj=setTimeout(this.SY.bind(this),100)};
js.Db=function(M){var X=this._=w.l("iframe");X.style.background="var(--bg-canvas)";X.setAttribute("src",M)};
js.Db.prototype=new bj;js.Db.prototype.uL=function(M,X){var J=this._;J.style.width=M+"px";J.style.height=X+"px"};
js.Db.prototype.SY=function(){};function Storage(M){bj.call(this);var X=this._=w.l("div","storage");
w.IJ(X);X.addEventListener("drop",this.agt.bind(this),!1);var J=this.a5o=w.l("style");X.appendChild(J);
X.setAttribute("tabindex","0");X.style.outline="none";X.addEventListener("keydown",this.agc.bind(this),!1);
this.Wo=this.a0m.bind(this);this.Kn=0;this.P8=0;var q=w.l("div");X.appendChild(q);var W=this.aDM.bind(this);
this.vk=w.l("div","bar");q.appendChild(this.vk);this.Zt=w.l("div","fls scrollable");q.appendChild(this.Zt);
this.cE=w.l("div");q.appendChild(this.cE);w.F(this.cE,"position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.Zz=w.l("div","bar");this.Zz.textContent="Name: ";var T=this.uD=w.l("input");T.setAttribute("type","text");
this.Zz.appendChild(T);var _=this.lG=w.l("div","btn");_.textContent="Save";this.Zz.appendChild(_);w.ZA(_,W);
w.Ad(this.Zt,this.Wo);this.adA=0;this.tT=M;var m=this.avx.bind(this),d=this.a2L=w.l("div");w.F(d,"text-align:center; font-size:1.6em");
var A=w.l("img");d.appendChild(A);w.vA(d);A.setAttribute("src",PIMG[Storage.list[this.tT][2]]);w.F(A,"opacity:0.5;  width:25%; cursor:pointer;");
w.ZA(A,m);this.a23=w.l("div","btn");d.appendChild(this.a23);w.ZA(this.a23,m);this.Y8=new an([{name:[6,20]},{name:[5,2],UD:[hP.WM,hP.MP],i:function(){return{i:Storage.qi!=null}}}]);
this.Y8.parent=this;this.Y8.P("select",this.bA,this);this.Zt.addEventListener("contextmenu",this.Wo);
this.ake=w.l("span");this.Uf=w.l("span");w.F(this.Uf,"position:absolute; right:0; top:5px;");this.Hw=[];
this.G1=[];for(var $=0;$<3;$++){var p=w.l("div","btn");this.Hw.push(p);this.ake.appendChild(p);w.ZA(p,W);
p.innerHTML=Storage.aqv[[3,1,0][$]]}for(var $=0;$<5;$++){if($==0){var a=w.l("span");a.textContent="Sort by:";
this.Uf.appendChild(a)}var p=w.l("div","btn");this.G1.push(p);this.Uf.appendChild(p);w.ZA(p,W)}window.addEventListener("message",this.a8w.bind(this),!1);
this.abr=!1;this.K0=0;setInterval(this.a85.bind(this),300);this.qH();var f=this.a9F=document.createElement("input");
f.setAttribute("type","file");f.addEventListener("change",this.agt.bind(this),!1);document.body.appendChild(f);
w.F(f,"display:none");f.setAttribute("multiple","")}Storage.prototype=new bj;Storage.rU=!1;(function(){Storage.aqv=[];
var M="<svg viewBox=\"0 0 14 14\" width=\"10\" height=\"10\" fill=\"black\"><path transform=\"translate(7 7) rotate(",X=") translate(-7 -7)\" d=\"m4 4m-4 2h11l-5-5 2-1 7 7-7 7-2-1 5-5h-11\" /></svg>";
for(var $=0;$<4;$++)Storage.aqv.push(M+[-90,0,90,180][$]+X)}());Storage.prototype.agt=function(M){M.stopPropagation();
M.preventDefault();var X=M.dataTransfer?M.dataTransfer.files:M.target.files;this.aBe=X.length;Storage.qi={};
for(var $=0;$<X.length;$++){var J=X[$],q=new FileReader;q.gB=J;q.onload=this.ar2.bind(this);q.readAsArrayBuffer(J)}};
Storage.prototype.ar2=function(M){var X=Storage.qi;X[M.target.gB.name]=M.target.result;this.aBe--;if(this.aBe==0)this.qX()};
Storage.prototype.SY=function(M,X){var J=Storage.list[this.tT][3],q=hO.wu();if(J){if(this.K0==1&&w.L1(this._)&&q!=null){this.qH()}if(this.K0==2&&q==null){this.Pb("forget","")}}};
Storage.prototype.a85=function(){var M=w.L1(this._),X=this.abr;if(M&&!X){history.pushState(null,null,location.href);
window.onpopstate=function(){history.go(1)}}if(!M&&X){window.onpopstate=function(){};history.go(-1)}this.abr=M};
Storage.prototype.qH=function(){if(this.Zn)document.body.removeChild(this.Zn);this._2=[[]];this.mu=0;
this.aAI={"/":[]};this.aaS="";this._x=null;this.rT=[];this.ait=[];this.afb=[];this.ajN=null;var M=Storage.list[this.tT][1],X=hO.$u("code/storages/"+Storage.list[this.tT][1]);
if(gj==1&&this.tT==0)X=M;var J=this.Zn=w.l("iframe");J.setAttribute("src",X);w.F(J,"display:none");document.body.appendChild(J)};
Storage.prototype.Nd=function(){return this.aAI[this.No()]};Storage.prototype.L5=function(M){this.aAI[this.No()]=M};
Storage.lm=function($){var M=Storage.RR[$];if(M==null)M=Storage.RR[$]=new Storage($);return M};Storage.RR=[];
Storage.zX=0;Storage.a9A="";Storage.nY=function(M,X){Storage.zX=M;Storage.a9A=X;var J=Storage.RR;for(var $=0;
$<J.length;$++)if(J[$])J[$].IF()};Storage.av7=[500*(1<<20),5e3*(1<<20)];Storage.e3=0;Storage.UK=2;Storage.ck=0;
Storage.list=[["This Device","deviceStorage.html","strg/tdevice",!1,"Give Photopea a direct access to a specific folder in your device."],["PeaDrive","peadriveStorage.html","strg/peadrive",!0,"A cloud storage system from Photopea."],["Dropbox","dropboxStorage.html","strg/dropbox",!1,"Give Photopea a direct access to your DropBox."],["OneDrive","onedriveStorage.html","strg/onedrive",!1,"Give Photopea a direct access to your OneDrive."],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive",!1,"Give Photopea a direct access to your Google Drive."],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive",!1,"Give Photopea a direct access to Shared Drives in your Google Drive."],["Shared with me","googledriveStorage.html?mode=4","strg/gdrive",!1,"Give Photopea a direct access to \"Shared with me\" in your Google Drive."],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive",!1,"Let's make a folder \"Photopea\" in your Google Drive (we will have access only to that folder)."]];
Storage.av_=function(M){for(var $=0;$<Storage.RR.length;$++){if(Storage.RR[$]&&Storage.RR[$].Zn.contentWindow==M)return!0}return!1};
Storage.prototype.agc=function(M){if(M.target.tagName=="INPUT")return;var X=hP;if(X.jt(M.code,X.t3)&&this.No().length!=0)this.aFK();
else if(M.ctrlKey){if(X.jt(M.code,X.m)){var J=[];this.L5(J);for(var $=0;$<this._x.length;$++)J.push($);
this.uJ()}if(X.jt(M.code,X.eU))this.xB(2);if(X.jt(M.code,X.MP))this.qX()}else if(X.jt(M.code,X.ej)){var q=this.Nd();
if(q.length!=0)this.ajH(q)}else if(X.jt(M.code,X.az)){this.mu=Math.max(this.mu-1,0);this.wL()}else{var W=0;
for(var $=65;$<=90;$++)if(M.code=="Key"+String.fromCharCode($))W=$;if(W!=0){var T=String.fromCharCode(W).toLowerCase(),_=[],m=this._x,d;
for(var $=0;$<m.length;$++)if(m[$][0][0].toLowerCase()==T)_.push($);if(_.length==0)return;var q=this.Nd();
if(q.length==0)d=_[0];else{var A=_.indexOf(q[0]);if(A==-1){d=_[0];for(var $=0;$<_.length;$++)if(_[$]>q[0]){d=_[$];
break}}else d=_[(A+1)%_.length]}this.L5([d]);this.uJ(!0)}}};Storage.prototype.uL=function(M,X){this.a3=M;
this.oz=X;this._.style.width=M+"px";this._.style.height=X+"px";var J=M-30,q=Math.floor(J/230),J=Math.floor(J/q)-70;
this.a5o.textContent=".storage .tile .name {  width:"+J+"px;  }";this.uD.style.width=M-140+"px";this.Zt.style.width=this.vk.style.width=M-20+"px";
this.Zt.style.height=X-70-(Storage.zX==0?0:45)+"px"};Storage.prototype.avx=function(){this.wL()};Storage.prototype.wL=function(){var M=this.tT,X="____strg"+M;
if(window[X]==null){hO.event("strg_"+Storage.list[M][0]);window[X]=!0}this.P8=1;this.Pb("show",this.No())};
Storage.prototype.No=function(M){var X=this._2[this.mu],J="/"+X.join("/");if(M&&X.length!=0)J+="/";return J};
Storage.prototype.aDM=function(M){var X=M.currentTarget,J=this.mu,q=this.Hw.indexOf(X),W=this.G1.indexOf(X);
if(q>=0&&!this.auT(q))return;if(q==0){this.mu=Math.max(J-1,0);this.wL()}if(q==1){this.mu=Math.min(J+1,this._2.length-1);
this.wL()}if(q==2){var T=this._2[J+1]=this._2[J].slice(0);T.pop();this.mu++;this._2=this._2.slice(0,this.mu+1);
this.wL()}if(W==0){Storage.UK=(Storage.UK+1)%3;this.IF()}if(W==1){Storage.ck=(Storage.ck+1)%2;this.IF()}if(W==2){Storage.e3=(Storage.e3+1)%3;
this.IF()}if(W==3){var _=document.createEvent("MouseEvents");_.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.a9F.dispatchEvent(_)}if(W==4){this.Pb("forget","")}if(X==this.lG){var m=this.uD.value.trim(),d=this._x,A=-1,p=["psd","ai"][gj];
if(!m.toLowerCase().endsWith(p)){alert("File Name has to end with \"."+p+"\".");return}for(var $=0;$<d.length;
$++)if(d[$][0]==m)A=$;if(A!=-1){this.Rm("Do you really want to replace \""+m+"\"?",this.ah1.bind(this))}else this.ah1()}};
Storage.prototype.ah1=function(){var M=this.uD.value.trim(),X=[this.tT,this.No(!0)+M];this.qp({h:r.m.aqU,uO:X});
this.a(new jb("canclose",!0))};Storage.prototype.qX=function(){if(Storage.qi==null)return;this.qp({h:r.m.cg,Ca:kd.get("Uploading ...")});
this.Kn=4;fX.lm(2,this.Zn,[this.No(),Storage.qi,this._x],null,this.asQ.bind(this))};Storage.prototype.asQ=function(M){this.Kn=0;
this.qp({h:r.m.eC,Ca:kd.get("Uploading ...")});this.wL()};Storage.prototype.bA=function(M){var X=M.target.gu();
if(M.target==this.Y8){if(X[0]==0){var J=[kd.get([6,20]),-1,0];this._x.push(J);this.IF();var $=this._x.indexOf(J),q=this.rT[$].querySelector(".name");
console.log(q);var W=new gF.U8(q,function(a){this.qp({h:r.m.cg,Ca:kd.get([1,2])+" ..."});var f=this.No(!0)+a+"/";
console.log(f);this.Pb("save",f)}.bind(this),!0)}else this.qX()}else{if(X[0]==0){this.xB(2)}else if(X[0]==1){var $=this.Nd()[0],T=this._x[$],q=this.rT[$].querySelector(".name");
console.log(q);q.innerHTML=T[0];var W=new gF.U8(q,function(a){a=a.trim();if(a.indexOf("/")!=-1){alert("You can not use slashes in a file name.");
this.IF();return}var f=this._x;for(var $=0;$<f.length;$++)if(f[$][0]==a){alert("Item with such name already exists.");
this.IF();return}var s=this.No(!0)+T[0]+":"+a;console.log(s);this.Pb("rename",s)}.bind(this))}else if(X[0]==2){this.xB(3)}else if(X[0]==3)this.aFK();
else if(X[0]==4){this.xB(1)}else{var _=this._x[this.Nd()[0]],m=Storage.QO(_),d=m[X[1]],A=d[0],p=this.Fx().pop()[1];
if(Storage.arR(_,A)!=-1){this.Pb("share",p+":"+A+":-1");alert("Unshared.")}else{this.Pb("share",p+":"+A+":"+X[2]);
alert("Shared.")}}}};Storage.arR=function(M,X){var J=M[4];if(J==null)return-1;if(J.indexOf(X+":0")!=-1)return 0;
if(J.indexOf(X+":1")!=-1)return 1;return-1};Storage.prototype.aFK=function(){var M=this.Nd();this.Rm("Do you really want to delete "+(M.length==1?"\""+this._x[M[0]][0]+"\"":"these files")+"?",this.DT.bind(this))};
Storage.prototype.Rm=function(M,X){var J={h:r.m.SQ,bf:"confirm",K:M,nT:X};this.qp(J)};Storage.prototype.xB=function(M){this.Kn=M;
if(1<M)this.qp({h:r.m.cg,Ca:kd.get("Downloading ...")});else this.qp({h:r.m.cg,Ca:kd.get("Getting info ...")});
fX.lm(0,this.Zn,this.No(),this.Fx(!0),this.a4C.bind(this))};Storage.prototype.a4C=function(M){if(this.Kn==1){var X=0,J=0;
for(var q in M){var W=M[q];X+=W[1];J++}this.Rm(J+" files, "+cO.Pn(X)+" in total.",function(){});this.qp({h:r.m.eC,Ca:kd.get("Getting info ...")});
this.Kn=0}if(1<this.Kn)fX.lm(1,this.Zn,M,null,this.a8T.bind(this))};Storage.prototype.a8T=function(M){if(1<this.Kn){if(1<this.Kn)this.qp({h:r.m.eC,Ca:kd.get("Downloading ...")});
var X={},J=this.No(!0);for(var q in M)X[q.slice(J.length)]=M[q];if(this.Kn==2){Storage.qi=X;alert("Copied to a clipboard")}if(this.Kn==3){var W=Object.keys(M);
if(W.length==1)gb.save(M[W[0]].buffer,W[0].split("/").pop());else gb.save(UZIP.encode(X),J=="/"?"files.zip":this.No().split("/").pop()+".zip")}}this.Kn=0};
Storage.qi=null;Storage.prototype.DT=function(){this.qp({h:r.m.cg,Ca:kd.get([5,4])+" ..."});this.ait=this.Fx();
this.qV()};Storage.prototype.qV=function(){if(this.ait.length==0){this.qp({h:r.m.eC,Ca:kd.get([5,4])+" ..."});
this.L5([]);this.wL()}else this.Pb("delete",this.ait.pop()[1])};Storage.prototype.Fx=function(M){var X=[],J=this.No(!0),q=this.Nd();
for(var $=0;$<q.length;$++){var W=this._x[q[$]];if(M)X.push(W[0]);else X.push([this.tT,J+W[0]])}return X};
Storage.prototype.Pb=function(M,X){w.Z6(this._,"disabled");this.aaS=M;if(Storage.rU)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+M+"\", \"prm\": "+JSON.stringify(X)+"  }");
this.Zn.contentWindow.postMessage("{\"code\": \""+M+"\", \"prm\": "+JSON.stringify(X)+"  }","*")};Storage.prototype.a8w=function(M){if(M.source!=this.Zn.contentWindow||this.Kn!=0)return;
w.tM(this._,"disabled");if(typeof M.data=="string"){if(Storage.rU)console.log("==",Math.floor(Date.now()/1e3),M.data);
var X=JSON.parse(M.data),J=X.code,q=X.prm,W=this.aaS,T=Storage.list[this.tT][3];if(J=="ready"){if(T&&!q){var _=hO.wu();
console.log(_);var m=hO.QF(),d=m.acc;if(_==null){this.K0=1;alert("Log in to use this storage (press Account at the top).");
this.vC();return}var A=[],p=_.wantToJoin;for(var a in p)A.push(parseInt(a.slice(1)));var f=[],s=_.inTeams;
for(var $=0;$<s.length;$++)f.push(s[$][2]);var j={uid:_.id,limit:Storage.av7[hO.Dm()?1:0],inTeams:f,myTeams:A};
j.secret=d&&d.pds?d.pds:"";this.Pb("login",j);return}if(T)this.K0=2;if(T&&X.secret){var m=hO.QF(),d=m.acc;
if(d==null)d=m.acc={};d.pds=X.secret;hO.bh(m)}if(q)this.wL();else this.vC()}else if(J!="0"){if(W=="save")this.qp({h:r.m.eC,Ca:kd.get([1,2])+" ..."});
if(W=="delete")this.qV();alert(q);this.IF()}else if(W=="show"){this.P8=0;this._x=q;this.IF()}else if(W=="save"){this.P8=0;
this.qp({h:r.m.eC,Ca:kd.get([1,2])+" ..."});this.wL()}else if(W=="delete"){this.qV()}else if(W=="forget"){if(T)this.vC();
else this.qH()}else if(W=="rename"||W=="share"){this.wL()}else throw J}else{if(Storage.rU)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.qp({h:r.m.a1K,uO:this.Fx()[this.J9],b3:M.data});this.aEm()}};Storage.prototype.vC=function(){w.p9(this.vk);
w.p9(this.Zt);w.p9(this.cE);this.Zt.appendChild(this.a2L)};Storage.prototype.auT=function($){if($==0)return this.mu>0;
if($==1)return this.mu<this._2.length-1;if($==2)return this.No()!="/"};Storage.ajJ=function(M){M=M+"";
return M.length==1?"0"+M:M};Storage.alG=function(M){var X=new Date(M),J=Storage.ajJ,q=J(X.getDate())+"."+J(X.getMonth()+1)+"."+X.getFullYear();
if(X.toLocaleDateString().indexOf("/")!=-1)q=J(X.getMonth()+1)+"/"+J(X.getDate())+"/"+X.getFullYear();
var W=J(X.getHours())+":"+J(X.getMinutes());return q+" "+W};Storage.colSpan=function(M){var X=w.l("span");
X.style.opacity="0.8";X.style.display="inline-block";X.style.width="120px";X.textContent=M;return X};
Storage.prototype.IF=function(){var M=Storage.list[this.tT][3],X=this._x,J=Storage.UK,q=Storage.ck,W=Storage.e3;
if(X==null)return;X.sort(function(D,n){var k=D[1]==-1?1:5,b=n[1]==-1?1:5,N=0;if(Math.min(k,b)==1&&k!=b)return k-b;
else if(k==1||J==0)N=D[0].toLowerCase()<n[0].toLowerCase()?-1:1;else if(J==1)N=D[1]-n[1];else if(J==2)N=D[2]-n[2];
if(q==1)N=-N;if(D[0]=="Shared")N=-1;if(n[0]=="Shared")N=1;return N});var T=this.Zt,_=this.vk,m=this._2[this.mu];
w.p9(T);w.p9(_);this.rT=[];for(var $=0;$<3;$++)if(this.auT($))w.tM(this.Hw[$],"disabled");else w.Z6(this.Hw[$],"disabled");
_.appendChild(this.ake);_.appendChild(this.Uf);var d=w.l("span");d.textContent="/";_.appendChild(d);
for(var $=0;$<m.length;$++){var d=w.l("span");d.textContent=m[$];_.appendChild(d);var d=w.l("span");
d.textContent="/";_.appendChild(d)}var A=["tile","icon","litm"][W];for(var $=0;$<X.length;$++){var p=X[$],a=p[1]==-1,f=a?"":cO.Pn(p[1]),s=w.l("div","cont "+A),P=!1;
T.appendChild(s);this.rT.push(s);var j=a?"":Storage.alG(p[2]*1e3);s.setAttribute("title",p[0]+(a?"":"\nSize: "+f+"\nDate Modified: "+j));
var Y=w.l("img");Y.setAttribute("src",a?Storage.azg:p[3]?p[3]:Storage.gB);if(!a&&p[3])w.F(Y,"box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var G=w.l("span","name"),Q=p[0];if(A=="icon"&&Q.length>30)Q=Q.slice(0,24)+".."+Q.slice(Q.length-5);if(M&&m.length==1&&m[0]=="Shared"){var Z=Storage.QO(),g=parseInt(Q.slice(5));
for(var S=0;S<Z.length;S++)if(Z[S][0]==g)Q=Z[S][1]}G.textContent=Q;s.appendChild(Y);s.appendChild(G);
if(A!="icon"&&!a){if(A=="litm")s.appendChild(Storage.colSpan(j));if(A=="tile")w.vA(G);var U=Storage.colSpan(f);
if(A=="litm")U.style["text-align"]="right";(A=="tile"?G:s).appendChild(U)}var B=p[0].split("."),e=(B.length==1?"":B.pop()).toUpperCase();
if(M&&p[0]=="Shared"&&m.length==0){P=!0;e="\u21E7"}if(A!="litm"&&(!a&&p[3]==null||P)){var h=w.l("span","ext");
h.textContent=e;var V=Storage.vf[e];h.style.backgroundColor=V?V:Storage.ap$(e);s.appendChild(h)}w.Ad(s,this.Wo);
s.addEventListener("contextmenu",this.Wo)}this.uJ();var I=this.Zz.parentNode!=null,F=Storage.zX,c=this._;
if(I&&F==0)c.removeChild(this.Zz);if(!I&&F==1)c.appendChild(this.Zz);this.uL(this.a3,this.oz);this.T()};
Storage.prototype.uJ=function(M){var X=this.rT,J=this._x,q=this.Nd(),W=!1,T=0;for(var $=0;$<X.length;
$++){var _=J[$],m=_[1]==-1,d=X[$];if(Storage.zX==1&&!m&&!_[0].toLowerCase().endsWith(".psd"))d.style.display="none";
else d.style.display="auto";if(q.indexOf($)==-1)w.tM(d,"active");else{if(m)W=!0;else T+=_[1];w.Z6(d,"active");
if(M)d.scrollIntoView({block:"center",behavior:"smooth"})}}var A=W?"":cO.Pn(T);this.cE.textContent=q.length==0?"":q.length+" item"+(q.length==1?"":"s")+" selected\u2001"+A;
this.uD.value=q.length==1&&!W?J[q[0]][0]:Storage.a9A};Storage.prototype.ajH=function(M){var X=M[0],J=this._x[X];
if(J[1]==-1){var q=this._2[this.mu].slice(0);q.push(J[0]);this.mu++;this._2[this.mu]=q;this._2=this._2.slice(0,this.mu+1);
this.L5([]);this.wL()}else if(Storage.zX==0){this.aEm(M)}};Storage.prototype.aEm=function(M){if(M){this.qp({h:r.m.cg,Ca:"Opening ..."});
this.a(new jb("canclose",!0));this.aiY=M.slice(0);this.J9=0}else this.J9++;if(this.aiY.length==this.J9){this.qp({h:r.m.eC,Ca:"Opening ..."})}else{var X=this.aiY[this.J9],J=this._x[X],q=this.No(!0)+J[0];
this.Pb("load",q)}};Storage.prototype.T=function(){var M=Storage.UK,X=Storage.ck,J=Storage.e3;this.G1[0].textContent=kd.get([[12,48],[12,14,0],"Date"][M]);
this.G1[1].innerHTML=Storage.aqv[[2,0][X]];this.G1[2].textContent=kd.get(["Tiles","Icons",[25,3,1]][J]);
this.G1[3].textContent="Upload";this.G1[4].textContent="\u2716";this.a23.innerHTML=kd.get([[23,6],Storage.list[this.tT][0]])+"<br/><small><small>"+Storage.list[this.tT][4]+"</small></small>";
this.SY()};Storage.prototype.a0m=function(M){this.qp({h:r.m.rb});if(w.L1(this.a2L))return;if(M.button==3||M.button==4){if(Date.now()-this.are>50){var X=this.mu;
if(M.button==3)this.mu=Math.max(X-1,0);else this.mu=Math.min(X+1,this._2.length-1);this.wL()}this.are=Date.now();
return}M.stopPropagation();var $=this.rT.indexOf(M.currentTarget);if(M.type=="contextmenu"){if(this._x==null)return;
M.preventDefault();var J=this.Y8;if($!=-1){var q=[{name:[5,1],UD:[hP.WM,hP.eU]},{name:[6,37]},{name:"Download",ns:!0},{name:[5,4],UD:[hP.t3]},{name:[9,2]}];
if(Storage.list[this.tT][3]){var W=this._x[$],T=Storage.QO(W);if(T.length!=0){var _=[];for(var m=0;m<T.length;
m++){var d=[],A=T[m],p=Storage.arR(W,A[0]);if(p!=-1)d.push({name:"Unshare"});else d.push({name:"Allow Read"},{name:"Allow Read & Write"});
_.push({name:A[1]+[""," (R)"," (R,W)"][p+1],sub:d})}q.push({name:"Share With",sub:_})}}J=new an(q);J.parent=this;
J.P("select",this.bA,this)}J.parent=this;J.T();J.update();this.qp({h:r.m._5,kv:J,x:M.clientX+4,y:M.clientY});
return}var a=this.Nd(),f=a.indexOf($);if(M.button!=0&&f!=-1)return;if(M.target==this.Zt)this.L5([]);
else{if(M.ctrlKey){if(f==-1)a.push($);else a.splice(f,1)}else if(M.shiftKey&&a.length!=0){var m=a[0];
if(m<$){var s=$;$=m;m=s}a=[];this.L5(a);for(var j=$;j<=m;j++)a.push(j)}else{this.L5([$]);if(Date.now()-this.adA<300&&a.length!=0&&a[0]==$){this.ajH([$]);
this.adA=0}}}this.adA=Date.now();this.uJ()};Storage.prototype.qp=function(M){var X=new jb(r.E.C,!0);
X.data=M;this.a(X)};Storage.QO=function(M){var X=[],J=[],q=hO.QF(),W=q.acc.tstart;if(W)for(var $=0;$<W.length;
$++){X.push([W[$][2],W[$][0]]);J.push(W[$][2])}var T=hO.wu();W=T.inTeams;if(W)for(var $=0;$<W.length;
$++){X.push([W[$][2],W[$][0]]);J.push(W[$][2])}if(M&&M[4]){for(var $=0;$<M[4].length;$++){var _=parseInt(M[4][$].split(":")[0]);
if(J.indexOf(_)==-1)X.push([_,"Team "+_])}}return X};Storage.prototype.ajF=function(M,X){if(this.P8!=0)return 1;
this.P8=2;this.qp({h:r.m.cg,Ca:kd.get([1,2])+" ..."});this.Pb("save",M);if(Storage.rU)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");
this.Zn.contentWindow.postMessage(X,"*")};Storage.vf={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.ap$=function(M){M=M.toLowerCase();
var X=0;for(var $=0;$<M.length;$++)X+=M.charCodeAt($)*613<<8*$;return"#"+t.NZ(X&16777215)};Storage.azg="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.gB="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
var fX=function(){var M,X,J,q,W,T,_,m;function d(s,j,Y,G,Q){X=j;q=G;_=Q;M=s;T={};if(M==0){J=[Y]}if(M==1){J=[];
for(var Z in Y)J.push(Z)}if(M==2){var g=Y[0],S=Y[1],U=Y[2],B={};for(var $=0;$<U.length;$++)B[U[$][0]]=!0;
var e={};for(var Z in S){var P=Z.split("/"),h=P[0],V=h.split("."),I="";if(V.length!=1){I="."+V.pop();
h=V.join(".")}while(B[h+I])h+=" - Copy";P[0]=h+I;e[P.join("/")]=S[Z]}var F={};J=[];for(var Z in e){var P=Z.split("/");
for(var $=0;$<P.length-1;$++){var c=g+P.slice(0,$+1).join("/")+"/";if(F[c]==null){F[c]=!0;J.push([c])}}var D=g.endsWith("/")||Z.startsWith("/")?"":"/";
J.push([g+D+Z,e[Z]])}}window.addEventListener("message",p,!1);m=Date.now();A()}function A(){if(J.length==0){f();
return}W=J.shift();if(M==0)a("show",W);if(M==1)a("load",W);if(M==2){a("save",W[0]);if(W.length==2)X.contentWindow.postMessage(W[1],"*")}}function p(s){if(s.source!=X.contentWindow)return;
if(M==0){var j=JSON.parse(s.data),Y=j.code,G=j.prm;for(var $=0;$<G.length;$++){var Q=G[$];if(q&&q.indexOf(Q[0])==-1)continue;
var Z=W+(W=="/"?"":"/"),g=Z+Q[0];if(Q[1]==-1)J.push(g);else T[g]=Q}q=null}else if(M==1){T[W]=new Uint8Array(s.data)}A()}function a(s,j){var Y=s=="show"?", \"nothumbs\": true":"",G="{\"code\": \""+s+"\", \"prm\": "+JSON.stringify(j)+Y+"  }";
X.contentWindow.postMessage(G,"*")}function f(){console.log(Date.now()-m);window.removeEventListener("message",p,!1);
_(T)}return{lm:d}}();function kr(M){bj.call(this);var X=this._=w.l("div","form scrollable padded label12");
this.Xm=M;this.ue=null;var J=[],q=kr.fj[M];this.aoH=[];for(var W in q){var T=parseInt(W.slice(1)),_=T%10==0?"":"\u2800\u2800- ";
J.push(_+q[W]);this.aoH.push(T)}this.n1=[new ja("Name",null,30),new ja("Description",null,30,4),M==0?new ja("File"," www.Photopea.com#i...",17):new eD("File",!1,!1),new ja("Thumbnail URL","* Use Imgur.com etc.",17),new iR("Category",J),new hE("Make Public"),new fT("<< Back",null,null,!0),new fT("Save",null,null,!0)];
if(M==0)this.n1.push(new jH("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new jH("Get a Thumbnail URL: File - Publish Online - JPG."),new jH("Write a proper description, so that your work can be found using text search."));
if(M==1)this.n1.push(new jH("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(M!=0)this.n1.push(new jH("Do not load any file to preserve the old version."));for(var $=0;$<this.n1.length;
$++){var m=this.n1[$];X.appendChild(m._);m.parent=this;if($!=4&&$!=6)w.vA(X);if(m instanceof fT)m.P("click",this.a1u,this);
if(M!=0&&$==2)m.P(r.E.n,this.a98,this)}}kr.prototype=new bj;kr.prototype.a98=function(M){var X=this.n1[2],J=X.V(),q=Object.keys(J),W=J[q[0]].buffer,T=h1.$Y(W),_=" json atn abr grd asl pat csh icc".split(" ")[this.Xm];
if(T!=_){alert("This is a wrong file"+(T?" ("+T.toUpperCase()+")":"")+". You need to upload the "+_.toUpperCase()+" file.");
X.R({})}};kr.prototype.a1u=function(M){if(M.target==this.n1[6]){this.a(new jb("back"));return}function X(_,m){return _.indexOf(m)!=-1}var J=this.n1[3].V().trim(),q=J.startsWith("http")&&(X(J,".jpeg")||X(J,".jpg")||X(J,".png")||X(J,".gif"));
if(!q){alert("Thumbnail URL is incorrect.");return}var W=new XMLHttpRequest,T="mirror.php?url="+encodeURIComponent(J);
W.open("GET",T);W.responseType="arraybuffer";W.onload=this.aeS.bind(this);W.send()};kr.prototype.aeS=function(M){var X=M.target.response,J=X.byteLength;
if(J>2e5&&h1.$Y(X)!="gif"){alert("Thumbnail is too large ("+cO.Pn(J)+"). Make it under 200 kB.");return}var q=this.n1[2].V(),W=Object.keys(q);
if(this.Xm!=0&&W.length==0&&(this.ue==null||this.ue.file==null||this.ue.file=="")){alert("You need to select a file.");
return}if(this.Xm!=0&&W.length!=0){console.log(q);gb.I0.a4s(q[W[0]].buffer,W[0],this.ai9.bind(this),"pp-resources");
return}this.ai9()};kr.prototype.ai9=function(M){var X=this.Xm,J="name desc file thmb catg publ".split(" "),q=this.ue;
for(var $=0;$<6;$++){if(X!=0&&$==2)continue;var W=this.n1[$].V();if($<=3){W=W.trim();if(W.length==0){alert("One of values is empty.");
return}}if($==2){if(W.endsWith(".psd"))W=W.slice(0,W.length-4);var T=W.split("#i");if(T.length!=2||T[1].length!=8){alert("File ID is incorrect.");
return}W=T.pop()}if($==4)W=this.aoH[W];q[J[$]]=W}if(X!=0){if(M)q.file=M;else if(q.file==null){alert("Select a file from your computer.");
return}}if(q.utme.length==0)q.utme=""+Math.round(Date.now()/1e3);q.type=X;this.a(new jb("save"))};kr.prototype.T=function(){};
kr.prototype.R=function(M){var X=this.ue=t.b(M),J=this.Xm,q="name desc file thmb catg publ".split(" ");
for(var $=0;$<6;$++){if(J!=0&&$==2)continue;var W=X[q[$]];if(W!=""&&$==2)W="https://photopea.com#i"+W;
if($==4)W=this.aoH.indexOf(W);if($==5&&W==null)W=!0;this.n1[$].R(W)}};kr.prototype.V=function(){return t.b(this.ue)};
kr.fj=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function dz(){bj.call(this);var M=this._=w.l("div","form");this.ue=null;this.xY=null;this._P=null;this.Q8=null;
var X=w.l("canvas");this.qt=X.getContext("2d");w.LY(X);w.Ad(X,this.Gw.bind(this));this.T1=[new i9([12,44],[[19,0,0],[19,0,1]]),{_:X},new j6([12,0],0,100,"%",null,null,null,4),new gv,new j6([12,40],0,100,"%",2,null,null,4),new fT([5,4],null,null,!0)];
for(var $=0;$<this.T1.length;$++){var J=this.T1[$];J.parent=this;M.appendChild(J._);if($!=2&&$!=4)w.vA(M);
if($!=1)J.P($==5?"click":r.E.n,this.wQ,this)}this.$l=this.NV.bind(this);this.Z8=this.g_.bind(this)}dz.prototype=new bj;
dz.prototype.V=function(){return t.b(this.ue)};dz.prototype.R=function(M){this.ue=t.b(M);this.Ik()};
dz.prototype.T=function(){var M=this.T1;for(var $=0;$<M.length;$++)if(M[$].T)M[$].T()};dz.prototype.Gw=function(M){var X=w.pv(),J=w.uP(M,this.qt.canvas);
J.x*=X;J.y*=X;var q=this._P,W=this.Q8,T=this.ue,_=T[1],m=7*w.pv(),d=-1;for(var $=0;$<q.length;$++){if(es.Yq(J,q[$][0])<m)d=$}if(d==-1){if(Math.abs(J.y-(W.y+W.$))>10*X)return;
var A=[.5,[0,0,0],1,.5];_.push(A);_.sort(function(p,a){return p[0]-a[0]});this.EF=[new es,_.indexOf(A),0]}else this.EF=q[d];
this.xY=JSON.stringify(this.ue);w.GY(window,this.$l);w.ZA(window,this.Z8);if(d==-1)this.NV(M);this.Ik()};
dz.prototype.NV=function(M){this.ue=JSON.parse(this.xY);var X=w.pv(),J=w.uP(M,this.qt.canvas);J.x*=X;
J.y*=X;var q=this.EF,W=q[1],T=this.Q8,_=this.ue[1],m=_[W],d=(J.x-T.x)/T.r;if(q[2]==0){m[0]=Math.max(0,Math.min(1,d));
if(Math.abs(J.y-(T.y+T.$))>30*X)_.splice(W,1)}else{var A=m[0],p=_[W+1][0],a=m[3];m[3]=Math.max(.13,Math.min(.87,(d-A)/(p-A)))}_.sort(function(f,s){return f[0]-s[0]});
this.Ik()};dz.prototype.g_=function(M){w.$E(window,this.$l);w.uU(window,this.Z8)};dz.prototype.wQ=function(M){var X=this.T1,$=X.indexOf(M.target),J=this.ue,q=M.target.V(),W=this.EF;
if($==0)J[0]=q;if(W){var T=J[1][W[1]];if($==2)T[2]=q/100;if($==3){q=t.vT(M.target.B_());T[1]=[q.z/255,q.L/255,q.g/255]}if($==4)if(W[2]==0)T[0]=q/100;
else T[3]=Math.max(.13,Math.min(.87,q/100));if($==5){J[1].splice(W[1],1);this.EF=null}}this.Ik()};dz.prototype.Ik=function(){var M=this.T1,X=this.ue,J=X[1],q=this.qt,W=q.canvas;
M[0].R(X[0]);var T=W.width=Math.floor(300*w.pv()),_=W.height=Math.floor(60*w.pv()),m=Math.floor(20*w.pv()),d=T-m-m;
this.Q8=new gc(m,m,d,_-m-m);w.G6(W);var A=q.fillStyle=q.createLinearGradient(m,m,T-m,m);t.NX.SH(A,J);
q.fillRect(m,m,d,_-m-m);q.lineWidth=1;q.strokeRect(m-.5,m-.5,d+1,_-m-m+1);var p=this._P=[],a=this.EF;
q.fillStyle="white";for(var $=0;$<J.length;$++){var f=J[$],s=f[0],j=_-m*.6;if(a&&a[1]==$&&a[2]==0){q.fillStyle="#00aaff";
q.beginPath();q.arc(m+s*d,j,_*.125,0,2*Math.PI);q.fill()}q.fillStyle="white";q.beginPath();q.arc(m+s*d,j,_*.1,0,2*Math.PI);
q.fill();q.beginPath();q.arc(m+s*d,j,_*.07,0,2*Math.PI);q.stroke();p.push([new es(m+s*d,j),$,0]);if($!=J.length-1){var Y=f[3],G=J[$+1][0];
s=s+Y*(G-s);j=m*.7;if(a&&a[1]==$&&a[2]==1){q.fillStyle="#00aaff";q.beginPath();q.arc(m+s*d,j,_*.075,0,2*Math.PI);
q.fill()}q.fillStyle="white";q.beginPath();q.arc(m+s*d,j,_*.05,0,2*Math.PI);q.fill();p.push([new es(m+s*d,j),$,1])}}M[2]._3(a&&a[2]==0);
M[3]._3(a&&a[2]==0);M[4]._3(a!=null);M[5]._3(a&&a[2]==0&&J.length>2);if(a){var f=J[a[1]],Q=f[1];if(a[2]==0)M[2].R(f[2]*100);
M[3].rh(t.hO({z:Q[0]*255,L:Q[1]*255,g:Q[2]*255}));M[4].R(f[a[2]==0?0:3]*100)}};function dw(M){bj.call(this);
this.iX=M;this._=w.l("div","");this.sa=[];this.agY=null;this.axY=[]}dw.prototype=new bj;dw.prototype.QM=function(M){};
dw.prototype.YX=function(){return!1};dw.prototype.uL=function(M,X){};dw.prototype.SY=function(M,X){};
dw.prototype.V3=function(M){};dw.prototype.R=function(M,X,J,q,W,T){var _=[],m=this.sa,d=0,A=fV.kV["s"+this.iX];
if(this.iX=="Dspl")this.ui(M,_,T);else A?A(M,_,T):this.ui(M,_,T);for(var $=0;$<m.length;$++)if(!(m[$]instanceof jH))m[$].R(_[d++]);
if(M.RndS)this.agY=M.RndS.v};dw.prototype.V=function(){var M=fV.IH(this.iX),X=[],J=this.sa,q=0;for(var $=0;
$<J.length;$++)if(!(J[$]instanceof jH))X[q++]=J[$].V();var W=fV.kV["g"+this.iX];if(this.iX=="Dspl")this.x7(M,X);
else W?W(M,X):this.x7(M,X);if(M.RndS)M.RndS.v=this.agY;return M};dw.prototype.KH=function(M){};dw.prototype.EP=function(M){if(M&&M.target instanceof fT){this.agY=Math.floor(Math.random()*4294967295)}var X=this.axY;
for(var $=0;$<X.length;$+=2){var J=this.sa[X[$]],q=this.sa[X[$+1]],W=J.V(),T=q.V();if(M.target==J)q.R(Math.max(W,T));
else J.R(Math.min(W,T))}this.a(new jb(r.E.n))};dw.prototype.T=function(){for(var $=0;$<this.sa.length;
$++)this.sa[$].T();var M=this.as_;if(M)M.T()};dw.prototype.RH=function(M){w.Z6(this._,"form");var X=this.sa;
for(var $=0;$<X.length;$++){var J=X[$];J.parent=this;J.P(r.E.n,this.EP,this);this._.appendChild(J._);
if(J instanceof hE&&X[$+1]instanceof gv)continue;if(M&&M.indexOf($)!=-1)w.du(this._);else w.vA(this._)}var q=fV.IH(this.iX);
if(q.RndS){var W=this.as_=new fT([25,1,2],null,null,!0);this._.appendChild(W._);W.P("click",this.EP,this)}};
dw.prototype.Ei=function(M){return!1};dw.prototype.Qn=function(){return!1};dw.prototype.H_=function(M,X,J,q,W){};
dw.prototype.T_=function(M,X,J,q,W){};dw.prototype.fw=function(M,X,J,q,W){};dw.prototype.x7=function(M,X){};
dw.prototype.ui=function(M,X){};dw.prototype.nv=function(M){var X=M.target.V().indexOf(!0),J=X!=-1;if(X!=-1){this.kE=X}if(this.Jy==null)this.Jy=0;
var q=Date.now(),W=new jb(r.E.C,!0);W.jN=!0;if(q-this.Jy<300&&this.kE<3&&this.AG){if(this.Zi==null)this.Zi=[0,8421504,16777215];
W.data={h:r.m.SQ,bf:"colorpicker",t9:this.Zi[this.kE],J4:this.atI.bind(this)};this.a(W)}else{this.aD7(X!=-1)}this.Jy=q};
dw.prototype.aD7=function(M){var X=new jb(r.E.C,!0);X.jN=!0;X.data={h:M?r.m.ga:r.m.qb,J:o.yM};this.a(X);
X=new jb(r.E.H,!0);X.J=o.yM;X.jN=!0;X.data={h:"supertool",J:M?this:null};this.a(X)};dw.prototype.atI=function(M){this.Zi[this.kE]=M;
var X=[];for(var $=0;$<3;$++)X[$]="#"+t.NZ(this.Zi[$]);this.AG.P$(i9.Ff(X));var J=[!1,!1,!1];J[this.kE]=!0;
this.AG.R(J);this.aD7(!0)};dw.aua=function(M){M.Qn=function(){return!0};M.H_=function(X,J,q,W,T){this.l5=!0;
this.a8W(X,T)};M.T_=function(X,J,q,W,T){if(!this.l5)return;this.a8W(X,T)};M.fw=function(X,J,q,W,T){this.l5=!1};
M.a8W=function(X,J){var q=new gc(0,0,X.r,X.$);if(X.c)q=X.c.S;var W=X.k.Ob(J.x,J.y);W.x-=q.x;W.y-=q.y;
function T(_,m){return Math.round(Math.max(0,Math.min(100,100*_/m)))}this.sa[2].R(T(W.x,q.r));this.sa[3].R(T(W.y,q.$));
this.EP()}};dw.abt=function(M,X,J,q){var W=M.AG.V().indexOf(!0);if(W==-1||W>2)return;var T=q=="levl"?el:hg,_=M.value;
M.value=fV.IH(q);M.EP();var m=o.SK.eH(X,J,1,null,!0),d=[m>>>16&255,m>>>8&255,m&255],A=M.Zi;if(A==null)A=[0,8421504,16777215];
m=A[W];var p=[m>>>16&255,m>>>8&255,m&255];for(var $=0;$<3;$++){var a=T.ev(_,1+$);if(W==0){var f=d[$]-p[$];
if(q=="levl")a[0]=f;else a[0].v.Hrzn.v=f}if(W==1){var s=Math.log(d[$]/255)/Math.log((d[0]+d[1]+d[2])*.333/255),j=Math.log(p[$]/255)/Math.log((p[0]+p[1]+p[2])*.333/255),Y=s/j;
if(q=="levl")a[4]=Math.min(999,Math.max(10,Math.round(100*Y)));else{if(a.length==2)a.splice(1,0,t.b(a[0]));
a[1].v.Hrzn.v=127-Math.log(Y)*80;a[1].v.Vrtc.v=127}}if(W==2){var f=255*d[$]/p[$];if(q=="levl")a[1]=f;
else a[a.length-1].v.Hrzn.v=f}T.eA(_,1+$,a)}M.R(_);M.EP()};dw.Bokh=function(){dw.call(this,"Bokh");this.sa=[new iR("Depth Map",["A","b"]),new jP("Focal Distance",0,255),new hE([4,11]),new iR([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new jP([12,56],0,100),new jP([12,15],0,360),new jP([12,2],0,100),new jP([4,13],0,255),new jP([24,6],0,100),new i9([12,58],[[12,59,0],[12,59,1]]),new hE([12,60])];
this.RH([5,7])};dw.Bokh.prototype=new dw;dw.Bokh.prototype.ui=function(M,X,J){var q=[[22,5,0],[6,5,3],[6,2]],W=M.BkDi.v.BtDi,T=M.BkDc,_=0;
if(W=="BeIn")_=0;else if(W=="BeIt"&&T.v.BtDc=="BeCt")_=1;else if(W=="BeIt"&&T.v.BtDc=="BeCm")_=2;else _=3+T.v;
for(var $=0;$<J[1].length;$++)q.push(J[1][$].name);this.sa[0].P$(q,[3]);X[0]=_;X[1]=M.BkDp.v;X[2]=M.BkDs.v;
X[3]=parseInt(M.BkIs.v.BtIs.slice(3))-3;X[4]=M.BkIb.v;X[5]=M.BkIr.v;X[6]=M.BkSb.v;X[7]=M.BkSt.v;X[8]=M.BkNa.v;
X[9]=M.BkNt.v.BtNt=="BeNu"?0:1;X[10]=M.BkNm.v};dw.Bokh.prototype.x7=function(M,X){var J;if(X[0]==0){J="BeIn";
delete M.BkDc}else if(X[0]<3){J="BeIt";M.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][X[0]-1]}}}else{J="BeIa";
M.BkDc={t:"long",v:X[0]-3}}M.BkDi.v.BtDi=J;M.BkDp.v=X[1];M.BkDs.v=X[2];M.BkIs.v.BtIs="BeS"+(3+X[3]);
M.BkIb.v=X[4];M.BkIr.v=X[5];M.BkSb.v=X[6];M.BkSt.v=X[7];M.BkNa.v=X[8];M.BkNt.v.BtNt=["BeNu","BeNg"][X[9]];
M.BkNm.v=X[10]};dw.oilPaint=function(){dw.call(this,"oilPaint");this.sa=[new jP([12,56],.1,10,"px",!0),new jP("Cleanliness",0,10,"px",!0),new jP([12,38],.1,10,null,!0),new jP("Bristle Detail",0,10,null,!0),new hE("Lighting"),new jP("Shine",0,10,null,!0),new e8([12,15])];
this.RH()};dw.oilPaint.prototype=new dw;dw.oilPaint.prototype.ui=function(M,X){var J="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var $=0;$<J.length;$++)X[$]=M[J[$]].v;X[6]=[M.LghD.v]};dw.oilPaint.prototype.x7=function(M,X){var J="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var $=0;$<J.length;$++)M[J[$]].v=X[$];M.LghD.v=X[6][0]};dw.TrcC=function(){dw.call(this,"TrcC");
this.sa=[new jP("Level",0,255),new i9([12,69],[[19,4,1],[19,4,0]])];this.RH()};dw.TrcC.prototype=new dw;
dw.TrcC.prototype.ui=function(M,X){X[0]=M.Lvl.v;X[1]=["Lwr","Upr"].indexOf(M.Edg.v.CntE)};dw.TrcC.prototype.x7=function(M,X){M.Lvl.v=X[0];
M.Edg.v.CntE=["Lwr","Upr"][X[1]]};dw["Dfs "]=function(){dw.call(this,"Dfs ");this.sa=[new i9([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.RH()};dw["Dfs "].prototype=new dw;dw["Dfs "].prototype.ui=function(M,X){X[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(M.Md.v.DfsM)};
dw["Dfs "].prototype.x7=function(M,X){M.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][X[0]]};dw.Embs=function(){dw.call(this,"Embs");
this.sa=[new e8([12,15]),new jP([12,42],1,100,"px"),new jP([12,57],1,500,"%")];this.RH()};dw.Embs.prototype=new dw;
dw.Embs.prototype.ui=function(M,X){X[0]=[M.Angl.v];X[1]=M.Hght.v;X[2]=M.Amnt.v};dw.Embs.prototype.x7=function(M,X){M.Angl.v=X[0][0];
M.Hght.v=X[1];M.Amnt.v=X[2]};dw["Wnd "]=function(){dw.call(this,"Wnd ");this.sa=[new i9([12,32],["Wind","Blast","Stagger"]),new i9([12,33],["From the Right","From the Left"])];
this.RH()};dw["Wnd "].prototype=new dw;dw["Wnd "].prototype.ui=function(M,X){X[0]=["Wnd","Blst","Stgr"].indexOf(M.WndM.v.WndM);
X[1]=["Left","Rght"].indexOf(M.Drct.v.Drct)};dw["Wnd "].prototype.x7=function(M,X){M.WndM.v.WndM=["Wnd","Blst","Stgr"][X[0]];
M.Drct.v.Drct=["Left","Rght"][X[1]]};dw.denoise=function(){dw.call(this,"denoise");this.sa=[new jP([12,64],0,10),new jP([12,65],0,100,"%")];
this.RH()};dw.denoise.prototype=new dw;dw.denoise.prototype.ui=function(M,X){var J=M.channelDenoise.v[0].v;
X[0]=J.Amnt.v;X[1]=J.EdgF.v};dw.denoise.prototype.x7=function(M,X){var J=M.channelDenoise.v[0].v;J.Amnt.v=X[0];
J.EdgF.v=X[1]};dw.lightFilterGradient=function(){dw.call(this,"lightFilterGradient");this.sa=[new jP([24,3,1],0,100,"px",1,!0),new jP([12,38],0,200,"%"),new hE([4,11]),new jP("High",0,100,"%"),new jP("Medium",0,100,"%"),new jP("Low",0,100,"%")];
this.RH()};dw.lightFilterGradient.prototype=new dw;dw.lightFilterGradient.prototype.ui=function(M,X){X[0]=M.blur.v;
X[1]=M.textureScale.v*100;X[2]=M.Scl.v==-1;var J=M.Dtl.v;X[3]=J[0].v*100;X[4]=J[1].v*100;X[5]=J[2].v*100};
dw.lightFilterGradient.prototype.x7=function(M,X){M.blur.v=X[0];M.textureScale.v=X[1]/100;M.Scl.v=X[2]?-1:1;
var J=M.Dtl.v;J[0].v=X[3]/100;J[1].v=X[4]/100;J[2].v=X[5]/100};dw.Fbrs=function(){dw.call(this,"Fbrs");
this.sa=[new jP("Variance",1,64),new jP([12,64],1,64)];this.RH()};dw.Fbrs.prototype=new dw;dw.Fbrs.prototype.ui=function(M,X){X[0]=M.Vrnc.v;
X[1]=M.Strg.v};dw.Fbrs.prototype.x7=function(M,X){M.Vrnc.v=X[0];M.Strg.v=X[1]};dw.LnsF=function(){dw.call(this,"LnsF");
this.sa=[new jP([12,2],10,300,"%"),new i9([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new jP("Position X",0,100,"%"),new jP("Position Y",0,100,"%")];
this.RH()};dw.LnsF.prototype=new dw;dw.LnsF.prototype.ui=function(M,X){X[0]=M.Brgh.v;X[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(M.Lns.v.Lns);
var J=M.FlrC.v;X[2]=Math.round(J.Hrzn.v*100);X[3]=Math.round(J.Vrtc.v*100)};dw.LnsF.prototype.x7=function(M,X){M.Brgh.v=X[0];
M.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][X[1]];var J=M.FlrC.v;J.Hrzn.v=X[2]/100;J.Vrtc.v=X[3]/100};dw.aua(dw.LnsF.prototype);
dw.blendOptions=function(){dw.call(this,"blendOptions");this.sa.push(new iR([12,19,0],ae.Ql,ae.T3));
this.sa.push(new jP([12,0],0,100,"%"));this.RH()};dw.blendOptions.prototype=new dw;dw.blendOptions.prototype.ui=function(M,X){X[0]=ae.TW.indexOf(M.Md.v.BlnM);
X[1]=M.Opct.v.val};dw.blendOptions.prototype.x7=function(M,X){M.Md.v.BlnM=ae.TW[X[0]];M.Opct.v.val=X[1]};
dw.LnCr=function(){dw.call(this,"LnCr");this.sa=[new jP([12,57],-100,100),new jP([12,38],10,150,"%")];
this.RH()};dw.LnCr.prototype=new dw;dw.LnCr.prototype.ui=function(M,X){X[0]=M.LnIa.v;X[1]=M.LnSi.v};
dw.LnCr.prototype.x7=function(M,X){M.LnIa.v=X[0];M.LnSi.v=X[1]};dw.adaptCorrect=function(){dw.call(this,"adaptCorrect");
var M=kw;this.sa=[new jH([19,6,0]),new M([12,57],0,100,"%"),new M("Tone",0,100,"%"),new M([12,56],0,200,"px"),new jH([19,6,2]),new M([12,57],0,100,"%"),new M("Tone",0,100,"%"),new M([12,56],0,200,"px"),new jH([3]),new M([13,0],-100,100)];
this.RH([3,7])};dw.adaptCorrect.prototype=new dw;dw.adaptCorrect.prototype.ui=function(M,X){var J=M.sdwM.v;
X[0]=J.Amnt.v.val;X[1]=J.Wdth.v.val;X[2]=J.Rds.v;var J=M.hglM.v;X[3]=J.Amnt.v.val;X[4]=J.Wdth.v.val;
X[5]=J.Rds.v;X[6]=M.ClrC.v};dw.adaptCorrect.prototype.x7=function(M,X){var J=M.sdwM.v;J.Amnt.v.val=X[0];
J.Wdth.v.val=X[1];J.Rds.v=X[2];var J=M.hglM.v;J.Amnt.v.val=X[3];J.Wdth.v.val=X[4];J.Rds.v=X[5];M.ClrC.v=X[6]};
dw.Flam=function(){dw.call(this,"Flam");var M=this.sa=[new iR([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new jP([12,80,0],20,1e3,"px"),new hE("Randomize Length"),new jP([12,41],5,600,"px"),new jP([12,15],0,360,"\xB0"),new jP("Interval",10,200,"px"),new hE("Adapt Interval for Loops"),new gv(!1),new iR([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new jP("Turbulent",0,100),new jP("Jag",0,100),new jP([12,0],0,100),new jP("Lines",2,30),new jP("Bottom",0,100),new iR([12,22],["Normal","Violent","Flat"]),new iR([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new hE("Randomize Shape"),new jP("Random Seed",0,100)];
this.RH();var X=this._;w.p9(X);var J=new i9(null,["Basic","Advanced"]);J.P(r.E.n,this.a2e,this);X.appendChild(J._);
w.du(X);var q=w.l("div"),W=w.l("div");this.aFJ=[q,W];X.appendChild(q);for(var $=0;$<M.length;$++){($<9?q:W).appendChild(M[$]._);
if($==6)w.vA(q)}M[0].P(r.E.n,this.a5v,this);this.a5v()};dw.Flam.prototype=new dw;dw.Flam.prototype.a5v=function(M){var X=this.sa,$=X[0].V();
X[1]._3($!=0&&$!=5);X[2]._3($!=0&&$!=5);X[4]._3($!=0&&$!=5&&$!=1);X[5]._3($!=0&&$!=5);X[6]._3($!=0&&$!=5)};
dw.Flam.prototype.a2e=function(M){var $=M.target.V(),X=this.aFJ,J=this._;J.removeChild(X[1-$]);J.appendChild(X[$])};
dw.boxblur=function(){dw.call(this,"boxblur");this.sa=[new jP([12,56],1,200," px")];this.RH()};dw.boxblur.prototype=new dw;
dw.boxblur.prototype.ui=function(M,X){X[0]=M.Rds.v.val};dw.boxblur.prototype.x7=function(M,X){M.Rds.v.val=X[0]};
dw.GsnB=function(){dw.call(this,"GsnB");this.sa=[new jP([12,56],.1,400,"px",1,!0)];this.RH()};dw.GsnB.prototype=new dw;
dw.Dila=function(){dw.call(this,"Dila");this.sa=[new jP([11,12,1],0,20,"px",0),new jP([12,56],0,400,"px",0,!0)];
this.RH()};dw.Dila.prototype=new dw;dw.MtnB=function(){dw.call(this,"MtnB");this.sa=[new e8([12,15]),new jP([12,28],1,100," px")];
this.RH()};dw.MtnB.prototype=new dw;dw.RdlB=function(){dw.call(this,"RdlB");this.sa=[new jP([12,57],1,100),new i9([12,36],["Spin","Zoom"]),new jP("Position X",0,100,"%"),new jP("Position Y",0,100,"%")];
this.RH()};dw.RdlB.prototype=new dw;dw.RdlB.prototype.ui=function(M,X){X[0]=M.Amnt.v;X[1]=["Spn","Zm"].indexOf(M.BlrM.v.BlrM);
X[2]=M.Cntr.v.Hrzn.v*100;X[3]=M.Cntr.v.Vrtc.v*100};dw.RdlB.prototype.x7=function(M,X){M.Amnt.v=X[0];
M.BlrM.v.BlrM=["Spn","Zm"][X[1]];M.Cntr.v.Hrzn.v=X[2]/100;M.Cntr.v.Vrtc.v=X[3]/100};dw.aua(dw.RdlB.prototype);
dw.Dspl=function(){dw.call(this,"Dspl");this.sa=[new iR([6,36,3],["a","b"]),new jP([22,4,0],-100,100,"px"),new jP([22,4,1],-100,100,"px"),new iR([24,18,0],[[24,18,3],[24,18,2]])];
this.RH()};dw.Dspl.prototype=new dw;dw.Dspl.prototype.ui=function(M,X,J){this.ad$=[];this.gI=[];var q=-1,W=J?J[0]:null;
if(W==null)W=this.a9P;else this.a9P=W;if(W)for(var $=0;$<W.length;$++){var T=W[$];this.ad$.push(T.iW.trim());
this.gI.push(T.qM);if(T.qM==M.DspF.v.pth)q=$}this.sa[0].P$(this.ad$);X[0]=q==-1?0:q;X[1]=M.HrzS.v;X[2]=M.VrtS.v;
X[3]=["WrpA","RptE"].indexOf(M.UndA.v.UndA)};dw.Dspl.prototype.x7=function(M,X){var J=this.a9P;if(this.gI.length==0)return;
M.DspF.v.pth=this.gI[X[0]];M.HrzS.v=X[1];M.VrtS.v=X[2];M.UndA.v.UndA=["WrpA","RptE"][X[3]];var q=J[X[0]];
q.m7();var W=q.SA[1],T=W.r,_=W.$,m=t.j(W.o());t.i5(q.SA[0],m);var d=[_&255,_>>>8,0,0,T&255,T>>>8,0,0,3,0];
for(var A=0;A<2;A++)for(var $=0;$<m.length;$++)d.push(m[$]);for(var $=0;$<1e3;$++)d.push(0);M.DspD={t:"tdta",v:d};
M.EmbF={t:"bool",v:!0}};dw.Pnch=function(){dw.call(this,"Pnch");this.sa=[new jP([12,57],-100,100,"%")];
this.RH()};dw.Pnch.prototype=new dw;dw["Plr "]=function(){dw.call(this,"Plr ");this.sa=[new i9(null,["Rect to Polar","Polar to Rect"])];
this.RH()};dw["Plr "].prototype=new dw;dw.Rple=function(){dw.call(this,"Rple");this.sa=[new jP([12,57],-999,999),new iR([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];
this.RH()};dw.Rple.prototype=new dw;dw["Shr "]=function(){dw.call(this,"Shr ");this.sa=[new fW(!0,!0),new iR([24,18,0],[[24,18,3],[24,18,2]])];
this.RH()};dw["Shr "].prototype=new dw;dw["Shr "].prototype.ui=function(M,X){var J=new kp(0,255/127,255/127,0,-2,128),q=t.b(M.ShrP.v);
t.pq.u(q,J);X[0]=q;X[1]=["WrpA","RptE"].indexOf(M.UndA.v.UndA)};dw["Shr "].prototype.x7=function(M,X){var J=new kp(0,255/127,255/127,0,-2,128);
J.vN();t.pq.u(X[0],J);M.ShrP.v=X[0];M.ShrE.v=X[0].length-1;M.UndA.v.UndA=["WrpA","RptE"][X[1]]};dw.Sphr=function(){dw.call(this,"Sphr");
this.sa=[new jP([12,57],-100,100),new iR([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.RH()};dw.Sphr.prototype=new dw;
dw.Sphr.prototype.ui=function(M,X){X[0]=M.Amnt.v;X[1]=["Nrml","HrzO","VrtO"].indexOf(M.SphM.v.SphM)};
dw.Sphr.prototype.x7=function(M,X){M.Amnt.v=X[0];M.SphM.v.SphM=["Nrml","HrzO","VrtO"][X[1]]};dw.Dthr=function(){dw.call(this,"Dthr");
this.sa=[new iR("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"]),new i9("Method",["None","Floyd-Steinberg","Bayer 4x4"])];
this.RH()};dw.Dthr.prototype=new dw;dw.Dthr.prototype.ui=function(M,X){X[0]=M.Plte.v;X[1]=M.Mthd?M.Mthd.v:1};
dw.Dthr.prototype.x7=function(M,X){M.Plte.v=X[0];M.Mthd.v=X[1]};dw.Part=function(){dw.call(this,"Part");
this.sa=[new jP([15,5,1],0,100,"%"),new jP([12,14,0],1,50,"px"),new jP([12,34],0,100,"%"),new jP([12,2],10,1e3,"%"),new gv(!0),new jP("Time",0,1,null,3),new jP("Turbulence",0,100,"%"),new hE("Blink"),new hE("Fall")];
this.RH([4])};dw.Part.prototype=new dw;dw.Part.prototype.ui=function(M,X){X[0]=M.Cont.v;X[1]=M.Size.v;
X[2]=M.Dpth.v;X[3]=M.Brgh.v;X[4]=M.Clr.v;X[5]=M.Time.v;X[6]=M.Turb.v;X[7]=M.Blnk.v;X[8]=M.Fall.v};dw.Part.prototype.x7=function(M,X){M.Cont.v=X[0];
M.Size.v=X[1];M.Dpth.v=X[2];M.Brgh.v=X[3];M.Clr.v=X[4];M.Time.v=X[5];M.Turb.v=X[6];M.Blnk.v=X[7];M.Fall.v=X[8]};
dw.Twrl=function(){dw.call(this,"Twrl");this.sa=[new jP([12,15],-999,999)];this.RH()};dw.Twrl.prototype=new dw;
dw.Wave=function(){dw.call(this,"Wave");this.axY=[1,2,3,4];this.sa=[new jP("Number of Generators",1,100),new kw("Min Length",1,999),new kw("Max Length",1,999),new kw("Min Ampl.",1,999),new kw("Max Ampl.",1,999),new kw("Scale X",1,100,"%"),new kw("Scale Y",1,100,"%"),new i9([12,44],["Sine","Triangle",[12,93,3]]),new iR([24,18,0],[[24,18,3],[24,18,2]])];
this.RH()};dw.Wave.prototype=new dw;dw.ZgZg=function(){dw.call(this,"ZgZg");this.sa=[new jP([12,57],-100,100),new jP("Ridges",0,20),new iR([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.RH()};dw.ZgZg.prototype=new dw;dw.surfaceBlur=function(){dw.call(this,"surfaceBlur");this.sa=[new jP([12,56],1,200," px"),new jP([4,13],1,255," px")];
this.RH()};dw.surfaceBlur.prototype=new dw;dw.surfaceBlur.prototype.ui=function(M,X){X[0]=M.Rds.v.val;
X[1]=M.Thsh.v};dw.surfaceBlur.prototype.x7=function(M,X){M.Rds.v.val=X[0];M.Thsh.v=X[1]};dw.AdNs=function(){dw.call(this,"AdNs");
this.sa=[new jP([12,57],0,200," %"),new iR([12,58],[[12,59,1],[12,59,0]]),new hE([12,60])];this.RH()};
dw.AdNs.prototype=new dw;dw.DstS=function(){dw.call(this,"DstS");this.sa=[new jP([12,56],1,200," px"),new jP([4,13],1,255," px")];
this.RH()};dw.DstS.prototype=new dw;dw["Mdn "]=function(){dw.call(this,"Mdn ");this.sa=[new jP([12,56],1,200," px")];
this.RH()};dw["Mdn "].prototype=new dw;dw["Mdn "].prototype.ui=function(M,X){X[0]=M.Rds.v.val};dw["Mdn "].prototype.x7=function(M,X){M.Rds.v.val=X[0]};
dw.ClrH=function(){dw.call(this,"ClrH");this.sa=[new jP([12,56],4,100," px")];for(var $=1;$<4;$++)this.sa.push(new jP("Angle "+$,0,90," \xB0"));
this.RH()};dw.ClrH.prototype=new dw;dw.ClrH.prototype.ui=function(M,X){X[0]=M.Rds.v;for(var $=1;$<4;
$++)X[$]=M["Ang"+$].v};dw.ClrH.prototype.x7=function(M,X){M.Rds.v=X[0];for(var $=1;$<4;$++)M["Ang"+$].v=X[$]};
dw.ClrH.prototype.T=function(){var M=this.sa;M[0].T();for(var $=1;$<4;$++)M[$].Hr(kd.get([12,15])+" "+$)};
dw.Crst=function(){dw.call(this,"Crst");this.sa=[new jP([12,61],3,100," px")];this.RH()};dw.Crst.prototype=new dw;
dw.Crst.prototype.ui=function(M,X){X[0]=M.ClSz.v};dw.Crst.prototype.x7=function(M,X){M.ClSz.v=X[0]};
dw.Mztn=function(){dw.call(this,"Mztn");this.sa.push(new iR([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.gI="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.RH()};dw.Mztn.prototype=new dw;
dw.Mztn.prototype.ui=function(M,X){X[0]=this.gI.indexOf(M.MztT.v.MztT)};dw.Mztn.prototype.x7=function(M,X){M.MztT.v.MztT=this.gI[X[0]]};
dw["Msc "]=function(){dw.call(this,"Msc ");this.sa=[new jP([12,61],2,200," px")];this.RH()};dw["Msc "].prototype=new dw;
dw["Msc "].prototype.ui=function(M,X){X[0]=M.ClSz.v.val};dw["Msc "].prototype.x7=function(M,X){M.ClSz.v.val=X[0]};
dw.Pntl=function(){dw.call(this,"Pntl");this.sa=[new jP([12,61],3,100," px")];this.RH()};dw.Pntl.prototype=new dw;
dw.Pntl.prototype.ui=function(M,X){X[0]=M.ClSz.v};dw.Pntl.prototype.x7=function(M,X){M.ClSz.v=X[0]};
dw.smartSharpen=function(){dw.call(this,"smartSharpen");this.sa=[new jP([12,57],1,200,"%"),new jP([12,56],0,200,"px",1,!0)];
this.RH()};dw.smartSharpen.prototype=new dw;dw.smartSharpen.prototype.ui=function(M,X){X[0]=M.Amnt?M.Amnt.v.val:200;
X[1]=M.Rds?M.Rds.v.val:1};dw.smartSharpen.prototype.x7=function(M,X){M.Amnt.v.val=X[0];M.Rds.v.val=X[1]};
dw.UnsM=function(){dw.call(this,"UnsM");this.sa=[new jP([12,57],1,200," %"),new jP([12,56],.1,400,"px",1,!0),new jP([4,13],0,255," ")];
this.RH()};dw.UnsM.prototype=new dw;dw.HghP=function(){dw.call(this,"HghP");this.sa=[new jP([12,56],.1,400,"px",1,!0)];
this.RH()};dw.HghP.prototype=new dw;dw.HsbP=function(){dw.call(this,"HsbP");this.sa=[new i9("Input",["RGB","HSB","HSL"]),new i9("Output",["RGB","HSB","HSL"])];
this.RH()};dw.HsbP.prototype=new dw;dw["Mxm "]=function(){dw.call(this,"Mxm ");this.sa=[new jP([12,56],.1,200," px",1,!0),new iR([12,76,1],[[12,93,3],"Circle"])];
this.RH()};dw["Mxm "].prototype=new dw;dw["Mnm "]=function(){dw.call(this,"Mnm ");this.sa=[new jP([12,56],.1,200," px",1,!0),new iR([12,76,1],[[12,93,3],"Circle"])];
this.RH()};dw["Mnm "].prototype=new dw;dw.Ofst=function(){dw.call(this,"Ofst");this.sa=[new jP([22,4,0],-1024,1024," px"),new jP([22,4,1],-1024,1024," px"),new iR([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.RH()};dw.Ofst.prototype=new dw;dw.Kale=function(){dw.call(this,"Kale");this.sa=[new kw("Mirrors",2,20),new kw([12,15],0,360,"\xB0")];
this.RH()};dw.Kale.prototype=new dw;dw.Kale.prototype.ui=function(M,X){X[0]=M.Mirr.v;X[1]=M.MRot.v};
dw.Kale.prototype.x7=function(M,X){M.Mirr.v=X[0];M.MRot.v=X[1]};dw.Rept=function(){dw.call(this,"Rept");
this.sa=[new kw([12,38],1,300," %"),new kw("Row Shift",-50,50," %"),new kw("Space X",-99,200," %"),new kw("Space Y",-99,200," %"),new hE([4,16,2]),new e8([12,15])];
this.RH()};dw.Rept.prototype=new dw;dw.Rept.prototype.ui=function(M,X){X[0]=M.Scl.v.val;X[1]=M.Rsft.v.val;
X[2]=M.SpcX.v.val;X[3]=M.SpcY.v.val;X[4]=M.SpcC.v;X[5]=[M.Angl.v]};dw.Rept.prototype.x7=function(M,X){M.Scl.v.val=X[0];
M.Rsft.v.val=X[1];M.SpcX.v.val=X[2];M.SpcY.v.val=X[3];M.SpcC.v=X[4];M.Angl.v=X[5][0];return M};dw.Ctoa=function(){dw.call(this,"Ctoa");
this.sa=[new jH([13,0]),new gv(!0),new jP(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new jP(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.RH()};dw.Ctoa.prototype=new dw;dw.Ctoa.prototype.ui=function(M,X){X[0]=M.Clr.v;X[1]=M.Trsp.v.val;
X[2]=M.Opct.v.val};dw.Ctoa.prototype.x7=function(M,X){M.Clr.v=X[0];M.Trsp.v.val=X[1];M.Opct.v.val=X[2]};
dw.LqFy=function(){dw.call(this,"LqFy");this.lq=!1;this.Wj=!1;this.bJ=null;this.abp=null;this.J=0;this.Bh=-1;
this.W={hJ:[[{J:{id:0,name:[24,1,0,1,0],sZ:"liq/smudge"}}],[{J:{id:1,name:[24,1,0,1,1],sZ:"liq/reconstruct"}}],[{J:{id:2,name:[24,1,0,1,2],sZ:"liq/smooth"}}],[{J:{id:3,name:[24,1,0,1,3],sZ:"liq/twirl"}}],[{J:{id:4,name:[24,1,0,1,4],sZ:"liq/shrink"}}],[{J:{id:5,name:[24,1,0,1,5],sZ:"liq/blow"}}],[{J:{id:6,name:[24,1,0,1,6],sZ:"liq/pleft"}}],[{J:{id:7,name:"Hand",sZ:"tools/hand"}}],[{J:{id:8,name:"Zoom In",sZ:"zoomIn"}}],[{J:{id:9,name:"Zoom Out",sZ:"zoomOut"}}]],keys:[]};
this.Ms=new hZ(this.W,!1);this.Ms.C_(0);this.Ms.P(r.E.C,this.PO,this);this.sj=kW.e$();this.Gl=null;this.Vt=[];
this.GD=-1;this.Q8=null;this.aAe=null;this.su=null;this.sK=null;this.T9=null;var M=w.l("div","flexrow");
this.yP=M;this._.appendChild(M);M.appendChild(this.Ms._);this.view=new ac(!0);this.view.uL(100,100);
this.view.P("mousedown",this.Wk,this);this.view.P("mousemove",this.yf,this);this.view.P("mouseup",this.BY,this);
this.view.P("zoom",this.WQ,this);M.appendChild(this.view._);var X=w.l("div","form");M.appendChild(X);
this.a7h=X;X.style.width="230px";this.aC=[new jP([12,14,0],0,1e3,null,!1,!0),new jP([12,74],0,100,null,!1,!1),new jP([12,84],0,100,null,!1,!1),new hE([12,46]),new jP([12,0],0,100,null,!1,!1),new hE([24,18,5])];
var J=this.sj.Brsh.v;J.Dmtr.v.val=100;var q=[100,50,100,!1,100,!0];for(var $=0;$<this.aC.length;$++){var W=this.aC[$];
W.R(q[$]);if($==4)W.bH();W.P(r.E.n,this.a7v,this);X.appendChild(W._)}var T=this.acb=new fT([1,12,2],!0,null,!0);
T.P("click",this.wO,this);X.appendChild(T._);this.a68=this.Jn.bind(this);this.kM=new bj;this.kM._=w.l("div","floatcont");
this.sO=new fT("Menu",!1,null,!0);var _=this.sO._;w.F(_,"position:absolute; right:13px; top:47px");w.Ad(_,this.abP.bind(this))};
dw.LqFy.prototype=new dw;dw.LqFy.prototype.YX=function(){return!0};dw.LqFy.prototype.QM=function(M){this.a7h.appendChild(M)};
dw.LqFy.prototype.abP=function(M){if(w.L1(this.kM._))return;M.stopPropagation();var X=this.sO._.getBoundingClientRect();
this.kM._.appendChild(this.a7h);var J=new jb(r.E.C,!0);J.data={h:r.m._5,kv:this.kM,x:X.right+X.width-290,y:X.top+X.height};
this.a(J)};dw.LqFy.prototype.KH=function(M){this.lq=M.M(hP.Ke);var X=o.X_.B2(this.sj,M);if(X!=null){this.sj=X;
this.WQ();this.aC[0].R(X.Brsh.v.Dmtr.v.val)}else if(M.M(hP.WM)&&M.M(hP.q8)){var J=this.Vt;if(M.M(hP.HG)){if(this.GD+1<J.length)this.GD++}else if(this.GD>0)this.GD--;
this.Gl.map=J[this.GD].slice(0);this.IF(null)}else if(this.J<=6)this.view.KH(M);var q=this.J,W=-1,T=M.M(hP.Ke);
if(T&&this.Bh==-1){if(q==0)W=1;if(q==4)W=5;if(q==5)W=4;if(W!=-1)this.Bh=q}if(!T&&this.Bh!=-1){W=this.Bh;
this.Bh=-1}if(W!=-1){this.J=W;this.Ms.C_(this.J)}};dw.LqFy.prototype.PO=function(M){if(M.data.h==r.m.ga){var X=this.J=M.data.J;
this.Ms.C_(this.J);this.view.KH(X>6?ac.PW(X-7):new hP)}};dw.LqFy.prototype.a7v=function(M){var X=M.currentTarget,$=this.aC.indexOf(X),J=this.sj.Brsh.v;
if($==0){J.Dmtr.v.val=X.V();this.WQ()}this.aC[4]._3(this.aC[3].V());if($>2)this.IF(null)};dw.LqFy.prototype.Ub=function(){var M=this.Vt;
this.GD++;M[this.GD]=this.Gl.map.slice(0);while(M.length>this.GD+1)M.pop();while(M.length>50){M=M.slice(1);
this.GD--}};dw.LqFy.prototype.Wk=function(M){this.bJ=this.view.jX();this.abp=new es(0,0);this.Wj=!0;
window.requestAnimationFrame(this.a68)};dw.LqFy.prototype.yf=function(M){var X=this.view.jX(),J=new es(X.x-this.bJ.x,X.y-this.bJ.y);
if(this.J==0||this.J==6)this.aiZ(J);this.bJ=X};dw.LqFy.prototype.BY=function(M){this.Ub();this.Wj=!1};
dw.LqFy.prototype.Jn=function(M){if(this.J!=0&&this.J!=6)this.aiZ(new es(0,0));if(this.Wj)window.requestAnimationFrame(this.a68)};
dw.LqFy.prototype.aiZ=function(M){var X=this.Gl,J=X.a3/this.Q8.r,q=this.bJ,W=this.sj.Brsh.v,T=W.Dmtr.v.val,_=Date.now(),m=X.a3,d=X.oz,A=Math.sqrt(M.x*M.x+M.y*M.y),p=Math.max(1,Math.ceil(A/2)),a=M.x/p,f=M.y/p,s=q.Q(),j=this.J,Y=this.aC[1].V()/100,G=this.aC[2].V()/100,Q=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],Z=Q[j*2],g=Q[j*2+1],S=(1-Y)*Z+Y*g,U=T*J/2;
for(var $=0;$<p;$++){var B=[];s.x+=a;s.y+=f;t.aT.ac_(X.map,m,d,j,s.x*J,s.y*J,U,Y,G,a*J,f*J,B,this.lq);
t.aT.a8M(m,d,X.map,B,2*S*G)}var e=new gc(0,0,m,d),P=new gc(q.x*J,q.y*J,0,0);P.$K(T*J*.5,T*J*.5);var h=P.Q();
h.offset(M.x*J,M.y*J);P=P.m0(h);var V=new gc(P.x/J,P.y/J,P.r/J,P.$/J);V=t.G.JE(V).Lg(this.Q8);this.aC[5].R(!0);
this.IF(V)};dw.LqFy.prototype.WQ=function(){var M=eY.ll(this.sj,null,this.view.ox().r7);this.view.q2(M)};
dw.LqFy.prototype.R=function(M,X,J,q,W){J=J.Q();if(X==null)return;if(!q.w6(J)){var T=J.m0(q),_=t.j(T.o()*4);
t.fA(X,J,_,T);X=_;J=T;var m=t.j(T.o()*4);t.fA(W,q,m,T);W=m}J.x=J.y=0;this.su=X;this.aAe=W;this.T9=X.slice(0);
this.sK=X.slice(0);this.Q8=J;this.Gl=cb.Ah(new Uint8Array(M.LqMe.v).buffer);var d=J.r,A=J.$;if(this.Gl.a3/d<.22){this.Gl={a3:Math.floor(d/4),oz:Math.floor(A/4)};
this.Gl.map=new Float32Array(this.Gl.a3*this.Gl.oz*2)}this.Vt=[];this.GD=-1;this.Ub();this.IF(null);
this.view.eT(!0);this.WQ()};dw.LqFy.prototype.V=function(){var M=fV.IH("LqFy"),X=new Uint8Array(cb.yo(this.Gl)),J=[];
for(var $=0;$<X.length;$++)J.push(X[$]);M.LqMe.v=J;return M};dw.LqFy.prototype.uL=function(M,X){this.Ms.uL(M,X);
var J=this.sO._,q=this.a7h;this.yP.appendChild(q);this.yP.appendChild(J);if(M>450&&M-X>200){q.style.marginLeft="1em";
this.yP.removeChild(J);this.view.uL(M-238-45,X)}else{q.style.marginLeft="";this.yP.removeChild(q);this.view.uL(M-40,X)}};
dw.LqFy.prototype.T=function(){this.Ms.T();this.acb.T();for(var $=0;$<this.aC.length;$++)this.aC[$].T()};
dw.LqFy.prototype.wO=function(){this.Gl.map.fill(0);this.Ub();this.IF(null)};dw.LqFy.prototype.IF=function(M){var X=this.Q8,J=this.su,q=this.T9,W=this.Gl;
if(this.aC[5].V())t.aT.hl(J,this.sK,X.r,X.$,M,W.map,W.a3,W.oz,0);else this.sK.set(J);if(this.aC[3].AZ()){t.fA(this.aAe,X,q,X,M?M:X);
t.v.r$("norm",this.sK,X,q,X,M?M:X,this.aC[4].V()/100)}else t.fc(this.sK,q);this.view.R([{kq:X,data:q.buffer}],null,null,M)};
dw.GEfc=function(){dw.call(this,"GEfc");this.Vq=0;this.YQ=0;this.su=null;this.T9=null;this.Q8=null;this.f=null;
this.ue=null;this.KA=0;this.kp=null;this.oR=null;var M=w.l("div","flexrow");this.yP=M;this._.appendChild(M);
this.view=new ac(null);this.view.uL(100,100);M.appendChild(this.view._);this.RN="";this.acg=270;var X=this.ku=w.l("div","form scrollable");
M.appendChild(X);w.F(X,"width:"+this.acg+"px;");var J=this.Uf=w.l("div","form");M.appendChild(J);w.F(J,"width:230px;  margin:0 10px");
this.CL={};for(var q in iC.names){var W=new dw.GEfc.rI(q);W.parent=this;this.CL[q]=W;W.P(r.E.n,this.a84,this)}this.fv=!0;
this.sO=new fT("Menu",null,null,!0);this.sO.P("click",this.a3q,this);M.appendChild(this.sO._);this.alN=new fT(">>",null,null,!0);
this.alN.P("click",this.aqm,this);J.appendChild(this.alN._);this.a2b=w.l("div");w.F(this.a2b,"margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
J.appendChild(this.a2b);this.gM=w.l("div");this.gM.style.minHeight="14em";this.gM.style.marginBottom="1em";
J.appendChild(this.gM);this.P7=w.l("div","lpbody scrollable");this.iB=w.l("div","lpfoot");J.appendChild(this.P7);
J.appendChild(this.iB);this.P("click",this.axc,this);this.vd=[];da.x4([[5,3],[5,4]],this.vd,this.iB,this.vx.bind(this))};
dw.GEfc.prototype=new dw;dw.GEfc.prototype.YX=function(){return!0};dw.GEfc.prototype.QM=function(M){this.a2b.appendChild(M)};
dw.GEfc.prototype.KH=function(M){this.view.KH(M)};dw.GEfc.prototype.SY=function(M,X){this.f=M;if(M.pU==M.Yt)alert("Your foreground and a background color are identical.",4e3)};
dw.GEfc.prototype.aqm=function(M){var X=this.ku.style.display!="none";this.ku.style.display=X?"none":"";
this.alN.Hr(X?"<<":">>");this.uL()};dw.GEfc.prototype.a3q=function(M){this.fv=!this.fv;this.uL()};dw.GEfc.prototype.uL=function(M,X){var J=this.ku.style.display!="none";
if(M!=null){this.Vq=M;this.YQ=X;if(M<1e3&&J||M>=1e3&&!J){this.aqm();J=!J}this.fv=M>600}else{M=this.Vq;
X=this.YQ}var q=this.fv?250+(J?this.acg:0):0;if(w.L1(this.Uf)&&!this.fv){this.yP.removeChild(this.ku);
this.yP.removeChild(this.Uf)}if(!w.L1(this.Uf)&&this.fv){this.yP.appendChild(this.ku);this.yP.appendChild(this.Uf)}this.ku.style.height=X+"px";
this.view.uL(M-q,X);this.P7.style.height=X-Math.max(this.gM.getBoundingClientRect().height,186)-96+"px";
w.F(this.sO._,"position:absolute; top:46px;  right:"+(q+16)+"px")};dw.GEfc.prototype.awX=function(){var M=h1.Rv.get("img/beach",!0)[0],X=M.kq,J=this.ku,q=Math.floor(w.pv()*(this.acg-44)/3),W=~~(q*.7),T=new gc(0,0,q,W),_=t.j(q*W*4),m=_.slice(0),d=Math.round(10*w.pv()),A=new ImageData(new Uint8ClampedArray(m.buffer),q,W);
t.fA(new Uint8Array(M.data),X,_,new gc(Math.round((X.r-q)/2),Math.round((X.$-W)/2),q,W));var p=w.l("canvas"),a=p.getContext("2d");
p.width=q;p.height=W+Math.round(d*1.5);a.font=d+"px sans-serif";this.kp={};w.p9(J);var f=this.aI6.bind(this);
for(var $=0;$<iC.fj.length;$++){var s=iC.fj[$],j=w.l("div");J.appendChild(j);w.F(j,"background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
j.textContent=kd.get(s);for(var Y in iC.names){var G=iC.names[Y];if(G[0]!=$)continue;iC.U3(Y,{S:T,buffer:_},iC.IH(Y),{z:0,L:0,g:0},{z:255,L:255,g:255},{S:T,buffer:m},{});
a.fillStyle="black";a.fillRect(0,0,500,500);a.putImageData(A,0,0);var Q=kd.get(G[1]);a.fillStyle="white";
a.fillText(Q,(q-a.measureText(Q).width)/2,W+Math.round(d*1.1));var Z=w.l("div");J.appendChild(Z);w.F(Z,"display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
Z.addEventListener("click",f,!1);var j=w.l("img");Z.appendChild(j);j.setAttribute("src",p.toDataURL());
w.F(j,"width:"+q/w.pv()+"px; margin-bottom:0px;");this.kp[Y]=Z}}};dw.GEfc.prototype.aI6=function(M){var X;
for(var J in this.kp)if(this.kp[J]==M.currentTarget)this.RN=J;this.a84()};dw.GEfc.prototype.vx=function(M){var X=da.Lp(this.vd,M),J=this.ue.GEfs.v,q=J[this.KA].v;
if(X==0){J.push(t.b(J[this.KA]));this.KA=J.length-1}else if(J.length>1){J.splice(this.KA,1);if(this.KA==J.length)this.KA--}this.V2();
this.IF()};dw.GEfc.prototype.a84=function(M){var X=this.RN,J;if(M==null)J=iC.IH(X);else J=this.CL[X].V();
this.ue.GEfs.v[this.KA].v=J;this.V2();this.IF()};dw.GEfc.prototype.R=function(M,X,J,q,W){var T=kd.get([24,0]);
if(this.kp==null||T!=this.oR)this.awX();this.oR=T;M=this.ue=t.b(M);if(M.GEfs==null)M=this.ue={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:M}]}};
var _=M.GEfs.v;for(var $=0;$<_.length;$++)if(_[$].v.GELv==null)_[$].v.GELv={t:"bool",v:!0};this.KA=_.length-1;
this.V2();J=J.Q();if(X==null)return;if(!q.w6(J)&&iC.$S(M).x!=0){var m=J.m0(q),d=t.j(m.o()*4);t.fA(X,J,d,m);
X=d;J=m}J.x=J.y=0;this.su=X;this.T9=X.slice(0);this.Q8=J;this.IF();this.view.eT()};dw.GEfc.prototype.axc=function(M){var X=M.data,$=X.gO,J=this.ue.GEfs.v;
if(X.WE){J[$].v.GELv.v=!J[$].v.GELv.v;this.IF()}else this.KA=$;this.V2()};dw.GEfc.prototype.V2=function(){var M=this.ue.GEfs.v,X=M[this.KA].v,J=X.GEfk.v.GEft,q=this.gM;
if(iC.names[J]==null){alert("Unsupported gallery filter");w.p9(q)}else{this.RN=J;for(var W in this.kp)w.tM(this.kp[W],"selected");
w.Z6(this.kp[J],"selected");var T=this.CL[J];T.R(X);if(q.firstChild!=T._){w.p9(q);q.appendChild(T._)}}var _=[];
for(var $=0;$<M.length;$++){var m=M[$].v,d=iC.names[m.GEfk.v.GEft],A=new dE($,!0,!0,null,d?d[1]:"Filter",$==this.KA,m.GELv.v);
A.parent=this;_.push(A._)}w.p9(this.P7);_.reverse();for(var $=0;$<_.length;$++)this.P7.appendChild(_[$]);
this.uL()};dw.GEfc.prototype.V=function(){return t.b(this.ue)};dw.GEfc.prototype.IF=function(M){var X=this.Q8,J=this.su,q=this.T9,W=this.RN,T=this.ue,_=this.f;
fV.U3("GEfc",{S:this.Q8,buffer:this.su},T,t.vT(_.pU),t.vT(_.Yt),{S:this.Q8,buffer:this.T9},null);this.view.R([{kq:X,data:q.buffer}])};
dw.GEfc.prototype.T=function(){for(var M in this.CL)this.CL[M].T();da.H6(this.vd,["lrs/newlayer","lrs/bin"])};
dw.GEfc.rI=function(M){bj.call(this);this.PP=M;this._=w.l("div");this.CY={};var X=iC.IH(M);for(var J in X){var q=null;
if(J=="__name"||J=="classID"||J=="GEfk"||J=="GELv"||["FlRs"].indexOf(J)!=-1)continue;else if(J=="EdgW")q=new jP([24,21,0],1,14);
else if(J=="EdgB")q=new jP([24,21,1],0,M=="AccE"?50:20);else if(J=="Smth")q=new jP([19,3,3],1,M=="Stmp"?50:15);
else if(J=="ClSz")q=new jP([12,61],3,100);else if(J=="BrdT")q=new jP([7,9],1,20);else if(J=="HghS")q=new jP([12,64],0,20);
else if(J=="HlSz")q=new jP([12,14,0],1,15);else if(J=="Cntr")q=new jP([12,3,0],0,M=="WtrP"?100:50);else if(J=="Shrp")q=new jP([24,21,2],0,40);
else if(J=="SprR")q=new jP([24,21,3],0,25);else if(J=="LgDr")q=new jP([24,21,4],0,M=="Stmp"?50:100);
else if(J=="Drkn")q=new jP([24,21,5],1,50);else if(J=="Dstr")q=new jP([24,21,6],0,20);else if(J=="Scln")q=new jP([12,38],50,200);
else if(J=="Rlf")q=new jP([24,21,7],0,M=="Ptch"||M=="NtPr"?25:50);else if(J=="ChAm")q=new jP([24,21,8],1,7);
else if(J=="Pncl")q=new jP([19,2,5],1,30);else if(J=="StrP")q=new jP([24,21,9],0,15);else if(J=="PprB")q=new jP([24,21,10],0,50);
else if(J=="BrsS")q=new jP([24,21,11],0,10);else if(J=="BrsD")q=new jP([24,21,12],0,10);else if(J=="Txtr")q=new jP([12,67],1,3);
else if(J=="Grn")q=new jP([24,20,42],0,20);else if(J=="HghA")q=new jP([24,21,13],0,20);else if(J=="Intn")q=new jP([24,21,14],0,10);
else if(J=="Brgh")q=new jP([24,21,15],0,M=="WtrP"?100:50);else if(J=="StrS")q=new jP([24,21,16],1,50);
else if(J=="StDt")q=new jP([24,21,17],1,3);else if(J=="Sftn")q=new jP([24,21,18],0,10);else if(J=="EdgT")q=new jP([24,21,19],0,10);
else if(J=="EdgI")q=new jP([24,21,20],0,10);else if(J=="Pstr")q=new jP([24,21,23],0,6);else if(J=="Dfnt")q=new jP([24,21,24],0,25);
else if(J=="TxtC")q=new jP([24,21,25],0,50);else if(J=="ShdI")q=new jP([24,21,26],0,10);else if(J=="DrcB")q=new jP([24,21,28],0,100);
else if(J=="Strg")q=new jP([12,64],1,3);else if(J=="Blnc")q=new jP([24,21,27],0,10);else if(J=="BlcI")q=new jP([24,21,30],0,10);
else if(J=="WhtI")q=new jP([24,21,31],0,10);else if(J=="DrkI")q=new jP([24,21,32],0,50);else if(J=="LghI")q=new jP([24,21,33],0,50);
else if(J=="StrW")q=new jP([24,21,34],3,15);else if(J=="Grns")q=new jP([24,21,36],0,M=="NtPr"?20:10);
else if(J=="GlwA")q=new jP([24,21,37],0,20);else if(J=="ClrA")q=new jP([24,21,38],0,20);else if(J=="ChrA")q=new jP([24,21,39],0,20);
else if(J=="ChlA")q=new jP([24,21,40],0,20);else if(J=="FrgL")q=new jP([24,21,41],1,15);else if(J=="BckL")q=new jP([24,21,42],1,15);
else if(J=="WhtL")q=new jP([24,21,42],0,50);else if(J=="BlcL")q=new jP([24,21,41],0,50);else if(J=="ImgB")q=new jP([24,21,29],0,50);
else if(J=="Dnst")q=new jP([12,74],0,50);else if(J=="FbrL")q=new jP([24,21,43],3,50);else if(J=="CrcS")q=new jP([24,21,44],2,100);
else if(J=="CrcD")q=new jP([24,21,45],0,10);else if(J=="CrcB")q=new jP([24,21,46],0,10);else if(J=="TlSz")q=new jP([24,21,47],2,100);
else if(J=="GrtW")q=new jP([24,21,48],1,15);else if(J=="LghG")q=new jP([24,21,49],0,10);else if(J=="SqrS")q=new jP([24,21,50],0,10);
else if(J=="RplS")q=new jP([24,21,51],1,15);else if(J=="RplM")q=new jP([24,21,52],0,20);else if(J=="NmbL")q=new jP([24,21,53],2,8);
else if(J=="EdgS")q=new jP([24,21,21],0,10);else if(J=="EdgF")q=new jP([24,21,22],1,3);else if(J=="Sz")q=M=="NGlw"?new jP([24,21,54],-24,24):new jP([24,21,11],1,50);
else if(J=="Dtl")q=M=="Chrc"?new jP([24,21,56],0,5):new jP([24,21,56],1,15);else if(J=="StrL")q=M=="InkO"?new jP([24,21,35],1,50):new jP([24,21,35],0,20);
else if(J=="TxtT")q=new iR([12,67],[[24,22,0],[24,22,1],[24,22,2],[24,22,3],[24,22,4],[24,22,5],[24,22,6]]);
else if(J=="BrsT")q=new iR([24,21,57],[[24,23,0],[24,23,1],[24,23,2],[24,23,3],[24,23,4],[24,23,5]]);
else if(J=="Grnt")q=new iR([24,21,58],[[24,24,0],[24,24,1],[24,24,2],[24,24,3],[24,24,4],[24,24,5],[24,24,6],[22,4,0],[22,4,1],[24,24,7]]);
else if(J=="SDir")q=new iR([12,33],[[24,25,0],[22,4,0],[24,25,1],[22,4,1]]);else if(J=="ScrT")q=new iR([12,62],[[12,93,5],[12,93,6],[10,35]]);
else if(J=="LghD"||J=="LghP")q=new iR([24,21,59],[[24,26,0],[24,26,1],[24,26,2],[24,26,3],[24,26,4],[24,26,5],[24,26,6],[24,26,7]]);
else if(J=="Clr")q=new gv([24,21,55]);else if(J=="InvT")q=new hE([4,11]);else console.log(J);q.P(r.E.n,this.wQ,this);
q.parent=this;this.CY[J]=q;this._.appendChild(q._)}};dw.GEfc.rI.prototype=new bj;dw.GEfc.rI.prototype.wQ=function(M){this.a(new jb(r.E.n,!1))};
dw.GEfc.aai="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
dw.GEfc.rI.prototype.R=function(M){for(var X in this.CY){var J;if(dw.GEfc.aai.indexOf(X)!=-1)J=M[X].v;
else if(X=="TxtT")J=iC.lz.indexOf(M[X].v[X]);else if(X=="BrsT")J=iC.aAn.indexOf(M[X].v[X]);else if(X=="LghD")J=iC.An.indexOf(M[X].v[X]);
else if(X=="LghP")J=iC.d$.indexOf(M[X].v[X]);else if(X=="Grnt")J=iC.A9.indexOf(M[X].v[X]);else if(X=="ScrT")J=iC.I6.indexOf(M[X].v[X]);
else if(X=="SDir")J=iC.nC.indexOf(M[X].v.StrD);this.CY[X].R(J)}};dw.GEfc.rI.prototype.V=function(){var M=iC.IH(this.PP);
for(var X in this.CY){var J=this.CY[X].V();if(dw.GEfc.aai.indexOf(X)!=-1)M[X].v=J;else if(X=="TxtT")M[X].v[X]=iC.lz[J];
else if(X=="BrsT")M[X].v[X]=iC.aAn[J];else if(X=="LghD")M[X].v[X]=iC.An[J];else if(X=="LghP")M[X].v[X]=iC.d$[J];
else if(X=="Grnt")M[X].v[X]=iC.A9[J];else if(X=="ScrT")M[X].v[X]=iC.I6[J];else if(X=="SDir")M[X].v.StrD=iC.nC[J]}return M};
dw.GEfc.rI.prototype.T=function(){for(var M in this.CY)this.CY[M].T()};dw["Adobe Camera Raw Filter"]=function(){var M=function(X){dw.call(this,"Adobe Camera Raw Filter");
var J=this._;this.aHd=X;this.Xz=null;this.EA=null;this.a8f="";this.wW=null;this.c_=1e3;this.Fs=null;
this.YV=null;w.Z6(J,"flexrow");this.view=new ac(!1,X,!0);this.view.P("zoom",this.IF,this);J.appendChild(this.view._);
var q=w.l("div");w.F(q,"width:18.8em; border-left:2px solid var(--brdr);");J.appendChild(q);this.Sb=new g2(245,null,4);
q.appendChild(this.Sb._);this.Sb._.style.opacity=.8;this.agg=w.l("div","scrollable");q.appendChild(this.agg);
this.aDi=w.l("div","padded");q.appendChild(this.aDi);this.CY={Ex12:new jP([4,3],-4,4,null,!0),Cr12:new jP([12,3,0],-100,100),Hi12:new jP("Highlights",-100,100),Sh12:new jP("Shadows",-100,100),Wh12:new jP("Whites",-100,100),Bk12:new jP("Blacks",-100,100),Temp:new jP("Temperature",-100,100),Tint:new jP("Tint",-100,100),Vibr:new jP([4,4],-100,100),Strt:new jP([12,9],-100,100)};
this.TF={Temp:new jP("Temperature",2e3,3e4),Tint:new jP("Tint",-100,100),Ex12:new jP([4,3],-4,4,null,!0)};
var W=[["Light","Ex12 Cr12 Hi12 Sh12 Wh12 Bk12".split(" ")],["Color",["Temp","Tint","Vibr","Strt"]]];
for(var $=0;$<W.length;$++){var T=W[$][1],_=w.l("div","padded");this.agg.appendChild(_);w.F(_,"border-top:2px solid var(--brdr);");
var m=w.l("div");m.innerHTML="\u2B9F <span style=\"font-size:1.1em; margin-left:6px;\">"+kd.get(W[$][0])+"</span>";
w.F(m,"font-weight:bold; margin:2px 0 4px 0;");_.appendChild(m);for(var d=0;d<T.length;d++){var A=T[d],p=X&&this.TF[A]?this.TF[A]:this.CY[A];
p.R(0);p.P(r.E.n,this.IF,this);_.appendChild(p._)}}};M.prototype=new dw;M.prototype.YX=function(){return!0};
M.prototype.QM=function(X){X.style.marginTop="4px";this.aDi.appendChild(X)};M.prototype.KH=function(X){this.view.KH(X)};
M.prototype.SY=function(X,J){this.Sb.rh(gS.sk[X.lb]["--text-color"])};M.prototype.aIF=function(X){var J=t.raw.aaq(X),q=J.at2,W=J.adR,T=q*W,_=new gc(0,0,q,W),m=J.hT,d=new Float32Array(q*W*4);
for(var $=0;$<T;$++){var A=$*4,p=$*3;d[A]=m[p];d[A+1]=m[p+1];d[A+2]=m[p+2];d[A+3]=1}this.Xz=[d,_];t.uW(this.Xz);
this.EA=X;var a=t.raw.a2D(X),f=jO.aqK(a);this.TF.Temp.R(f.SZ);this.TF.Tint.R(f.kF);this.TF.Ex12.R(0);
var s=new Float32Array(T*4);s.fill(1);var j=fV.IH("Adobe Camera Raw Filter");this.aJa(j,s,_)};M.prototype.akL=function(X,J){var q=this.TF,W=q.Temp.V(),T=q.Tint.V(),_=q.Ex12.V(),m=[W,T,_,J,X].join(":");
if(this.a8f==m)return;this.a8f=m;var d=Date.now();t.raw.zJ(this.Xz[J*2],this.wW[J*2],this.EA,[W,T,_],X);
console.log(Date.now()-d,"remapping XYZ")};M.prototype.R=function(X,J,q,W,T){var _=new Float32Array(q.o()*4);
t.cY(J,32,_);this.aJa(X,_,q)};M.prototype.aJa=function(X,J,q){this.ue=X;this.Q8=q;var W=q.r,T=q.$,_=W*T;
this.c_=1e3;this.a8f="";this.wW=[J,q];this.Fs=[new Float32Array(W*T*4),q];this.Fs[0].fill(1);this.YV=[new Uint8Array(W*T*4),q];
this.YV[0].fill(255);t.uW(this.wW);t.uW(this.Fs);t.uW(this.YV);for(var m in this.CY){this.CY[m].R(X[m]?X[m].v:0)}this.view.R([{kq:q,data:this.YV[0].buffer}]);
this.view.eT();this.IF(null)};M.prototype.awa=function(X,J){var q=this.Q8,W=this.Fs[0];if(this.aHd)this.akL(X,0);
e4(this.wW[0],q.r,q.$,W,this.ue);return[t.cY(W,J),q]};M.prototype.V=function(){return t.b(this.ue)};
M.prototype.avB=function(){this.Xz=null;this.Fs=null;this.wW=null;this.YV=null};M.prototype.IF=function(X){if(X&&X.target!=this.view){this.c_=1e3;
for(var J in this.CY){this.ue[J]={t:J=="Ex12"?"doub":"long",v:this.CY[J].V()}}}var q=this.view.ox().r7,W=0;
while(q*2<=1){q*=2;W++}if(this.c_<=W)return;this.c_=W;var T=this.akK(W);this.Sb.R(T);this.view.R([{kq:this.Q8,data:this.YV[0].buffer}])};
M.prototype.akK=function(X){console.log("---");var J=this.wW[X*2],q=this.Fs[X*2],W=this.YV[X*2],T=this.wW[X*2+1],_=T.r,m=T.$;
if(this.aHd)this.akL(0,X);e4(J,_,m,q,this.ue);var d=Date.now();t.cY(q,8,W);console.log(Date.now()-d,"integer conversion");
d=Date.now();var A=t.xW(W,Math.max(1,Math.floor(_*m/2e5)));console.log(Date.now()-d,"histogram done");
d=Date.now();if(X!=0){var p=new Uint32Array(W.buffer),a=new Uint32Array(this.YV[0].buffer),f=this.Q8.r,s=this.Q8.$;
for(var j=0;j<s;j+=2)for(var Y=0;Y<f;Y+=2){var G=j*f+Y,Q=p[(j>>>X)*_+(Y>>>X)];a[G]=Q;a[G+1]=Q;a[G+f]=Q;
a[G+f+1]=Q}console.log(Date.now()-d,"upscale");d=Date.now()}for(var T=0;T<2;T++)for(var Q=0;Q<4;Q++){var m=A[Q],s=m.slice(0);
for(var $=1;$<m.length-1;$++)m[$]=(s[$-1]+s[$]+s[$+1])*.33333}return A};M.prototype.uL=function(X,J){this.aoX=X-248;
this.ak7=J;this.view.uL(this.aoX,this.ak7);this.agg.style.height=J-200+"px"};M.prototype.T=function(){for(var X in this.CY)this.CY[X].T();
for(var X in this.TF)this.TF[X].T()};return M}();dw.VaPo=function(){dw.call(this,"VaPo");this.J=-1;this.EF=null;
this.l5=!1;this.g0=null;this.NC=null;this.uS=null;this.Sv=null;this._0=null;this.aky=null;this.A4=null;
this.alI=null;this.NW=null;this.dm=null;this.pK=null;this.Vt=[];this.GD=-1;this.O=null;this.W={hJ:[[{J:{id:0,name:"Move",sZ:"tools/move"}}],[{J:{id:1,name:"Create Plane",sZ:"tools/pcrop"}}],[{J:{id:2,name:"Marquee",sZ:"tools/rselect"}}],[{J:{id:3,name:"Stamp",sZ:"tools/clone"}}],[{J:{id:4,name:"Brush",sZ:"tools/brush"}}],[{J:{id:5,name:"Transform",sZ:"tools/transform"}}],[{J:{id:6,name:"Hand",sZ:"tools/hand"}}],[{J:{id:7,name:"Zoom In",sZ:"zoomIn"}}],[{J:{id:8,name:"Zoom Out",sZ:"zoomOut"}}]],keys:[hP.MP,hP.eU,hP.Hj,hP.ub,hP.IB,hP.ws,hP.af,hP.q8]};
this.Ms=new hZ(this.W,!1);this.Ms.P(r.E.C,this.PO,this);this.kK=null;this.Q8=null;this.su=null;this.axA=null;
this.T9=null;this.fJ=null;var M=w.l("div","flexrow"),q=0;this.yP=M;this._.appendChild(M);M.appendChild(this.Ms._);
var X=w.l("div");M.appendChild(X);var top=w.l("div","form");X.appendChild(top);w.F(top,"padding-left:8px; height:30px;");
this.tr=w.l("span");top.appendChild(this.tr);this.aq=[[new j6([12,80,5],1,1e3)],[new j6([7,6],0,30)],[new j6([12,14],1,200),new j6([12,17],0,100),new j6([12,0],0,100),new hE([12,75])],[new j6([12,14],1,200),new j6([12,17],0,100),new j6([12,0],0,100),new gv],[new hE("Flip"),new hE("Flop")],[]];
var J=[100,0,100,100,100,!1,100,100,100,JSON.parse(kf.rs.Hu.slice(6)).v];this.e0=[];for(var $=0;$<6;
$++){var W=w.l("span"),T=this.aq[$];this.e0.push(W);for(var _=0;_<T.length;_++){var m=T[_];m.parent=this;
m.R(J[q++]);m.P(r.E.n,this.aEK,this);W.appendChild(m._)}}this.ahD=w.l("div");w.F(this.ahD,"display:inline-block;float:right; width:100px;");
top.appendChild(this.ahD);this.view=new ac(!0);this.view.uL(100,100);this.view.q2("auto");this.view.P("mousedown",this.Wk,this);
this.view.P("mousemove",this.yf,this);this.view.P("mouseup",this.BY,this);w.GY(this.view.kX,this.Vv.bind(this));
X.appendChild(this.view._)};dw.VaPo.prototype=new dw;dw.VaPo.prototype.YX=function(){return!0};dw.VaPo.prototype.QM=function(M){this.ahD.appendChild(M)};
dw.VaPo.prototype.aEK=function(M){if(M.target==this.aq[0][0]){var X=this.Vw(),J=M.target.V();for(var $=0;
$<this.O.length;$++)if(this.O[$].length!=0&&X[$])X[$][0]=J;this.PV(X)}if(this.J==5){this.kK=this.p$();
this.IF(!0)}this.IF()};dw.VaPo.prototype.KH=function(M){var X=this.J,J=this.NC;if(X==3||X==4){var q=this.aq[X-1],W=kW.e$(),T=W.Brsh.v;
T.Dmtr.v.val=q[0].V();T.Hrdn.v.val=q[1].V();W=o.X_.B2(W,M);if(W){T=W.Brsh.v;q[0].R(T.Dmtr.v.val);q[1].R(T.Hrdn.v.val)}this.WQ()}if(X==1&&J&&(M.M(hP.t3)||M.M(hP.az))){J.pop();
J.pop();if(J.length==0)J=this.NC=null;this.IF()}function _(p,$,j){t.fA(p[$],p[0],j.su,j.Q8);j.Lk(p[0])}this.g0=M;
if(X<6)this.view.KH(M);var m=M.M(hP.WM);if(m){var d=this.GD,A=0;if(M.M(hP.q8)){if(M.M(hP.HG))A=1;else A=-1}else if(M.M(hP.mn))A=1;
if(A!=0&&X!=5){console.log(this.GD,A,this.Vt);var p=this.Vt[this.GD],a=!1;if(p.length==3&&A==-1){_(p,1,this);
a=!0}d+=A;this.GD=Math.max(0,Math.min(this.Vt.length-1,d));p=this.Vt[this.GD];if(p.length==3&&A==1){_(p,2,this);
a=!0}this.IF(a)}if(M.M(hP.MP)){if(w.oj())gb.adJ(this.r5.bind(this))}if(M.M(hP.IW)){this._0=null;this.IF()}}else{var f=this.W.keys;
for(var $=0;$<f.length;$++)if(M.M(f[$]))this.C_($)}if(M.M(hP.az)||M.M(hP.t3)){var s=this.Vw();s=t.Xk.aH0(s,this.O);
this.O=[];for(var $=0;$<s.length;$++)this.O[$]=[];this.PV(s);this.IF()}};dw.VaPo.prototype.r5=function(M){if(M=="granted")gb.wm(this,this.gR.bind(this))};
dw.VaPo.prototype.gR=function(M,X){var J=this.Vw();if(J.length==0){alert("Make a plane before pasting an image");
return}if(this.Sv==null)this.Sv=[0,0];if(this.J==5)this.C_(0);this.C_(5,{b3:M,Os:X})};dw.VaPo.prototype.PO=function(M){if(M.data.h==r.m.ga){this.C_(M.data.J)}};
dw.VaPo.prototype.adT=function(M){var X=this.view.jX(M),J=t.Xk.PL(this.Vw(),this.O),q=1e9,W=0;for(var $=0;
$<J.length;$++){var T=J[$][0],_=X.x-T[0],m=X.y-T[1],d=Math.sqrt(_*_+m*m);if(d<q){q=d;W=$}}if(q>4*w.pv()/this.view.ox().r7)return null;
return J[W]};dw.VaPo.prototype.Vv=function(M){var X=this.J,J=this.NC;if(X<2&&!this.l5){var q=this.EF=this.adT(M),W=this.Vw(),T="auto";
if(X==0&&t.Xk.TY(W,q)){var _=W[q[1]][1][q[2]],m=_[5+{1:0,5:1,7:2,3:3}[q[3]]],d=m[0],A=m[1];T=gY.aem(d[1]-A[1],-d[0]+A[0])}if(t.Xk.aAa(W,q))T="crosshair";
this.view.q2(T)}if(J){var p=this.view.jX(M),a=J.slice(0);J[J.length-2]=p.x;J[J.length-1]=p.y;this.IF()}this.WQ(M);
if(X==5&&!this.l5&&this.Di){var p=this.view.jX(M),W=this.Vw(),f=t.Xk.wS(W,p.x,p.y,this.qm());if(f){var s=new es(f[2][0],f[2][1]),j=t.Xk.j3(W,W[f[0]][1][f[1]],this.qm()),Y=j[1],G=t.t.bw(j[0],Y),Q=[Y.x+Y.r/2,Y.y+Y.$/2];
t.t.u(G,Q);var Z=p.x-Q[0],g=p.y-Q[1],S=this.Di.WV(s,this.view.ox().r7,null,null,Math.atan2(-g,-Z));this.view.q2(S?S:"default")}}};
dw.VaPo.prototype.WQ=function(M){var X=this.J,J=this.g0;if((X==3||X==4)&&!this.l5){var q=M?this.view.jX(M):this.j5,W=this.Vw();
this.j5=q;if(q==null)return;var T=t.Xk.wS(W,q.x,q.y,this.qm());if(T){if(X==3&&this.pK&&this.aq[2][3].V()){var _=new es(T[2][0],T[2][1]);
this.dm=_.d7(this.pK);this.IF()}if(X==3&&(this.dm==null||J&&(J.M(hP.Ke)||J.M(hP.q9)))){if(this.kK){this.fJ=null;
this.Lk(this.kK);this.IF(!0,this.kK)}return}this.a4P(T,this.kK)}}};dw.VaPo.prototype.qm=function(){return[this.Q8.r/2,this.Q8.$/2]};
dw.VaPo.prototype.Wk=function(M){this.l5=!0;var X=this.J,J=this.NC,q=this.Vw(),W=this.g0,T=this.EF=this.adT(null),_=this.view.jX(),m=t.Xk.wS(q,_.x,_.y,this.qm()),d=m?new es(m[2][0],m[2][1]):null;
if(t.Xk.aAa(q,T)){var A=q[T[1]][1][T[2]];q.splice(T[1],1);this.O.splice(T[1],1);J=t.Xk.ayn(A);var p=-1,_=T[0];
for(var $=0;$<8;$+=2){var a=J[$]-_[0],f=J[$+1]-_[1];if(a*a+f*f<1e-5)p=$}p=p+2&7;J=this.NC=J.slice(p).concat(J.slice(0,p));
this.PV(q)}else if(t.Xk.TY(q,T)){if(X==1||W&&W.M(hP.WM)){q=t.Xk.aCy(q,T,this.qm());this.PV(q);T[2]=q[T[1]][1].length-1;
T[3]=8+(T[3]+4&7);this.O[T[1]].push(T[2]);this.PV(q,!0);this.C_(0)}else this.PV(this.Vw(q))}else if(X==0){var s=[];
for(var $=0;$<q.length;$++)s.push([]);if(m){if(W&&W.M(hP.HG))s=this.O;var j=s[m[0]].indexOf(m[1]);if(j==-1)s[m[0]].push(m[1]);
else s[m[0]].splice(j,1)}this.O=s;this.PV(q,!0);this.IF()}else if(X==2){if(m){var Y=this._0;if(Y&&Y.ZO(d)){if(W)if(W.M(hP.Ke)||W.M(hP.WM)){this.C_(5);
this.Wk(M);return}this.aky=new es(d.x-Y.x,d.y-Y.y)}else{this.uS=m[2].concat(m[2]);this.Sv=m}}}else if(X==3||X==4){if(X==3){if(W&&(W.M(hP.Ke)||W.M(hP.q9))){if(m){this.dm=d;
this.alI=d.Q();this.pK=null;this.NW=m;this.IF()}else alert("You must click into a plane");this.l5=!1;
return}else if(this.dm==null){alert(kd.get([15,7,0]));this.l5=!1;return}else if(m){var G=this.pK=d.d7(this.dm)}}if(m){this.a4P(m)}}else if(X==5){if(m){var Q=new es(m[2][0],m[2][1]),Z=this.Di.H_({k:this.view.ox()},{},W,Q)}}};
dw.VaPo.prototype.a4P=function(M,X){var J=this.fJ;if(J==null)this.fJ=J=t.j(this.Q8.o()*4);else J.fill(0);
var q=this.J;this.Sv=M;var W=this.aq[q-1],T=t.aDt.ais(W[0].V(),W[1].V()/100,1),_=t.j(T[1].o()*4);t.ix(T[0],_,3);
if(q==4){var m=t.NX.NH(W[3].V());t.MY(_,m.z/255,m.L/255,m.g/255)}this.A4={as9:T[0],b3:_,Os:T[1]};var d=this.kK=this.Ar(M[2],M[2]),A=X?X.m0(d):d;
this.Lk(A);this.IF(!0,A)};dw.VaPo.prototype.yf=function(M){var X=this.EF,J=this.J,q=this.Vw();if(J==0&&t.Xk.TY(q,X)){q=t.Xk.agb(q,X,this.view.jX());
this.PV(q,!0);this.IF()}var W=this.aky;if(J==2&&this.l5&&(this.uS||W)){var T=this.view.jX(),_=t.Xk.wS(q,T.x,T.y,this.qm());
if(_){this.Sv=_;if(W){this._0.x=_[2][0]-W.x;this._0.y=_[2][1]-W.y}else{this.uS=this.uS.slice(0,2).concat(_[2]);
this._0=t.G.Oi(this.uS)}this.IF()}}if((J==3||J==4)&&this.l5){var T=this.view.jX(),_=t.Xk.wS(q,T.x,T.y,this.qm());
if(_){if(J==3){var m=this.pK;this.dm=new es(_[2][0]-m.x,_[2][1]-m.y)}var d=this.Ar(this.Sv[2],_[2]);
this.kK=this.kK.m0(d);this.Sv=_;this.Lk(d);this.IF(!0,d)}}if(J==5&&this.l5){var T=this.view.jX(),_=t.Xk.wS(q,T.x,T.y,this.qm(),this.Sv);
if(_){var A=new es(_[2][0],_[2][1]);this.Di.T_({k:this.view.ox()},{},this.g0,A);this.Sv=_;var d=this.kK;
if(d)this.Lk(d);else d=new gc;this.kK=this.p$(null,null,!0);this.IF(!0,d.m0(this.kK))}}};dw.VaPo.prototype.Ar=function(M,X){M=new es(M[0],M[1]);
X=new es(X[0],X[1]);var J=Math.max(1e-5,es.Yq(M,X)),q=this.A4.Os.r*.2,W=new gc;for(var T=0;T<J;T+=q){var _=1-T/J,m=_*M.x+(1-_)*X.x,d=_*M.y+(1-_)*X.y,A=this.A4.Os.Q();
A.x=Math.round(m-A.r/2);A.y=Math.round(d-A.$/2);if(this.J==3){var p=this.pK;if(p==null)p=new es(m,d).d7(this.dm);
var a=this._0=A.Q();a.x=Math.round(a.x-p.x);a.y=Math.round(a.y-p.y);var f=this.A4.as9;this.A4=this.ahc(this.NW);
this._0=null;t.S6(f,this.A4.b3);this.A4.as9=f}var s=this.p$(this.fJ,A);W=W.m0(s)}return W};dw.VaPo.prototype.BY=function(M){var X=this.EF;
if(X&&X[3]>=8){var J=t.Xk.asD(this.Vw(),X,this.qm());this.PV(J,!0);this.IF();alert("new plane added")}var q=this.J,W=this.NC;
if(W||q==1){var T=this.view.jX();if(W==null)W=this.NC=[T.x,T.y];if(W.length==8&&gY.jg(W)){var J=this.Vw();
J.push([100,[t.Xk.aa2(W,this.qm())]]);this.O.push([0]);this.PV(J,!0);W=this.NC=null;this.C_(0);this.IF()}else if(W.length<8){W.push(T.x,T.y);
if(W.length==8&&!gY.jg(W)){var _=W[0],m=W[1];W[0]=W[4];W[1]=W[5];W[4]=_;W[5]=m}}}var d=this.uS;if(q==2&&d&&d[0]==d[2]&&d[1]==d[3]){this._0=null;
this.IF()}if((q==3||q==4)&&this.l5){if(q==3&&!this.aq[2][3].V()&&this.alI){this.dm=this.alI.Q();this.IF()}this.PV();
this.fJ=null}if(!this.aq[2][3].V())this.pK=null;this.l5=!1;this.aky=null;this.uS=null};dw.VaPo.prototype.C_=function(M,X){if(M==this.J)return;
var J=this.kK,W=6;if(this.J==5){this.PV();this.Lk(J);this.Di=null;this.IF()}if(this.J==3||this.J==4){this.fJ=null;
if(J)this.Lk(J);this.IF(!0,J)}if(M==5){if(X==null&&this._0==null){alert("Select the area to be transformed");
return}this.aoy(X)}if(M>1){var q=this.Vw();this.bA();this.PV(q,!0);this.IF()}this.view.KH(M>=W?ac.PW(M-W):new hP(!0));
if(M<W)this.view.q2("auto");this.J=M;this.Ms.C_(M);w.p9(this.tr);var T={0:0,1:0,2:1,3:2,4:3,5:4,6:5,7:5,8:5}[M];
this.tr.appendChild(this.e0[T])};dw.VaPo.prototype.Vw=function(){var $=this.GD,M=this.Vt;while(M[$].length==3)$--;
var X=M[$];this.O=JSON.parse(X[1]);return JSON.parse(X[0])};dw.VaPo.prototype.PV=function(M,X){if(M==null&&this.kK==null)return;
var J=this.Vt,q=this.GD,$=q;while($>=0&&J[$].length==3)$--;if(X==null)this.GD=q=q+1;if(M!=null)J[X?$:q]=[JSON.stringify(M),JSON.stringify(this.O)];
else{var W=this.Q8,T=this.kK,_=t.j(T.o()*4),m=t.j(T.o()*4);J[q]=[T,_,m];t.fA(this.su,W,_,T);if(this.fJ)t.v.r$("norm",this.fJ,W,this.su,W,W,this.aI8());
else this.p$(this.su);t.fA(this.su,W,m,T);this.kK=null}while(J.length!=q+1)J.pop()};dw.VaPo.prototype.aI8=function(){return this.aq[this.J-1][2].V()/100};
dw.VaPo.prototype.bA=function(M,X){if(M==null)M=this.Vw();this.O=[];for(var $=0;$<M.length;$++){var J=[];
this.O.push(J);if(X)for(var q=0;q<M[$][1].length;q++)J.push(q)}};dw.VaPo.prototype.R=function(M,X,J,q,W,T){var _=t.b(T[2].Xk);
this.GD=-1;this.bA(_);this.PV(_);var m=t.j(q.o()*4);t.fA(X,J,m,q);this.aaD=new gc;this.Q8=q;this.axA=W;
this.su=m;this.T9=W.slice(0);this.Lk(q);this.IF(!0);this.view.eT();this.C_(0)};dw.VaPo.prototype.aoy=function(M){this.A4=M?M:this.ahc();
var X=t.G.mP(this.A4.Os).d;if(M){var J=this.Vw(),q=t.Xk.j3(J,J[0][1][0],this.qm()),W=q[1],T=Math.min(W.r/M.Os.r,W.$/M.Os.$)*.9;
if(T<1)t.G.u(X,new kp(T,0,0,T,0,0),X)}this.Di=new gY(X,!0,!0);this._0=null;this.kK=this.p$();this.IF(!0)};
dw.VaPo.prototype.ahc=function(M){var X=this.Q8,J=t.G.JE(this._0),q=this.Vw(),W=t.j(J.o()*4);if(M==null)M=this.Sv;
var T=q[M[0]][1],_=t.Xk.bc(q[M[0]][1],M[1],J,this.qm());for(var m=0;m<_.length;m++){var d=T[_[m]],A=t.Xk.j3(q,d,this.qm()),p=A[0],a=A[1],f=a.Lg(J);
if(f.M5())continue;f=t.G.JE(f);var s=t.j(f.o()*4),j=t.t.bw(p,a);j=t.t.uM([1/X.r,0,0,0,1/X.$,0,0,0],j);
j=t.t.vN(j);t.t.drawImage(j,this.T9,X.r,X.$,s,f);t.fA(s,f,W,J)}var Y=this.aq[1][0].V(),G=Math.round(Y*1.4),Q=J.Q();
Q.$K(-G,-G);var Z=t.j(Q.o());Z.fill(255);var g=t.j(J.o());t.Rc(Z,Q,g,J);var S=g.slice(0);t.zp.zk(S,J,Y);
t.SF(W,g,3);t.w3.Lg(g,S,S);t.ix(S,W,3);return{b3:W,Os:J}};dw.VaPo.prototype.Lk=function(M,X){var J=this.Q8;
t.fA(this.axA,J,this.T9,J,M);t.v.r$("norm",this.su,J,this.T9,J,M,1);if(this.fJ)t.v.r$("norm",this.fJ,J,this.T9,J,M,this.aI8())};
dw.VaPo.prototype.p$=function(M,X,J){var q=this.A4,W=q.Os,T=this.Q8,_,m=X?t.G.mP(X).d:this.Di.PL(),d=t.G.Cs(m),_=t.t.bw(m,W),A=this.aq[4],p=new kp;
if(A[0].V()){p.Jm=-1;p._f=2*W.x+W.r}if(A[1].V()){p.Bi=-1;p.Ey=2*W.y+W.$}_=t.t.uM(_,t.t.WP(p));function a(n,k){n.beginPath();
n.moveTo(k[0],k[1]);for(var $=1;$<4;$++)n.lineTo(k[$*2],k[$*2+1]);n.closePath()}var f=this.Vw(),s=t.Xk.bc(f[this.Sv[0]][1],this.Sv[1],d,this.qm()),j=f[this.Sv[0]][1],Y=new gc;
for(var G=0;G<s.length;G++){var Q=j[s[G]],Z=t.Xk.j3(f,Q,this.qm()),g=Z[0],S=Z[1],U=S.Lg(d);if(this._0)U=U.Lg(this._0);
if(U.M5())continue;var B=t.t.bw(g,S),e=t.G.mP(U).d;t.t.u(B,e);var P=m.slice(0);t.t.u(B,P);var h=t.G.Oi(P).Lg(t.G.Oi(e)),V=h.r,I=h.$;
if(h.M5())continue;B=t.t.uM(t.t.uM(B,_),[W.r,0,W.x,0,W.$,W.y,0,0]);var F=t.j(h.o()*4);t.t.drawImage(B,q.b3,W.r,W.$,F,h,J);
if(U.o()!=d.o()){var c=t.mt(V,I);c.save();c.clearRect(0,0,V,I);c.translate(-h.x,-h.y);a(c,e);c.clip();
a(c,P);c.fill();c.restore();var D=new Uint8Array(c.getImageData(0,0,V,I).data.buffer);for(var $=3;$<F.length;
$+=4)if(D[$]<F[$])F[$]=D[$]}t.v.r$("norm",F,h,M?M:this.T9,T,h,1);Y=Y.m0(h)}return Y};dw.VaPo.prototype.V=function(){return t.b(this.Vw())};
dw.VaPo.prototype.aHl=function(){if(this.J==5)this.C_(0);var M=new gc,X=this.Vt;for(var $=0;$<=this.GD;
$++)if(X[$].length==3)M=M.m0(X[$][0]);var J=t.j(M.o()*4);t.fA(this.su,this.Q8,J,M);return[J,M]};dw.VaPo.prototype.uL=function(M,X){this.Ms.uL(M,X);
this.view.uL(M-40,X-30)};dw.VaPo.prototype.T=function(){this.Ms.T();for(var $=0;$<this.aq.length;$++)for(var M=0;
M<this.aq[$].length;M++)this.aq[$][M].T()};dw.VaPo.prototype.IF=function(M,X){var J=this.Q8,q=[],W=[],T=[],_=this.Vw(),m=t.Xk.PL(_,this.O),d=0,A=null,G=null,Q=null,Z=null;
for(var $=0;$<m.length;$++)T.push(m[$][0][0],m[$][0][1]);for(var $=0;$<_.length;$++){var p=this.O[$].length;
d+=p;if(p!=0)A=[$,this.O[$][0]]}var a=this.aq[0][0];a._3(d!=0);if(d!=0)a.R(Math.round(_[A[0]][0]));if(d==1){var f=_[A[0]][1]}var s=[];
if(this._0&&_[this.Sv[0]])s=t.Xk.bc(_[this.Sv[0]][1],this.Sv[1],this._0,this.qm());var j=[];if(this.Di){j=this.Di.a0g();
j[4]=this.Di.Sx()}var Y=[];if(this.Di&&_[this.Sv[0]])Y=t.Xk.bc(_[this.Sv[0]][1],this.Sv[1],t.G.Oi(this.Di.PL()),this.qm());
for(var g=0;g<_.length;g++){var S=_[g][0],f=_[g][1],U=this.O[g];for(var B=0;B<f.length;B++){var A=f[B],e=t.Xk.j3(_,A,this.qm()),P=e[0],J=e[1],h=t.t.bw(P,J);
if(J.M5()){if(Q==null)Q={C6:[],d:[]};t.G.concat(Q,{C6:["M","L","L","L","Z"],d:P});continue}var V=t.G.mP(J),I=V.d,F=V.C6,c=this.dm;
if(c&&J.ZO(c)&&this.NW&&this.NW[0]==g){G=[c.x,c.y];t.t.u(h,G)}if(s.indexOf(B)!=-1){var D=this._0.Lg(J);
if(g==this.Sv[0]&&!D.M5()){if(Z==null)Z={d:[],C6:[]};var n=t.G.mP(D);t.t.u(h,n.d);t.G.concat(Z,n)}}if(Y.indexOf(B)!=-1&&g==this.Sv[0]){var k=[];
for(var $=0;$<j.length;$++)if(J.ZO(j[$]))k.push(j[$].x,j[$].y);if(k.length!=0){t.t.u(h,k);T=T.concat(k)}}if(U&&U.indexOf(B)!=-1){var b=Math.ceil(J.x/S)*S,N=J.x+J.r,L=Math.ceil(J.y/S)*S,R=J.y+J.$;
for(var i=b;i<N;i+=S){I.push(i,J.y,i,R);F.push("M","L")}for(var v=L;v<R;v+=S){I.push(J.x,v,N,v);F.push("M","L")}}t.t.u(h,I);
q=q.concat(F);W=W.concat(I)}if(G&&this.J==3){var i=G[0],v=G[1],E=10/this.view.ox().r7;W.push(i-E,v,i+E,v);
W.push(i,v-E,i,v+E);q.push("M","L","M","L")}}var P=this.NC,J=this.Q8;if(P){var u=["M"];for(var $=0;$<P.length-2;
$+=2)u.push("L");u.push("Z");var C=o.VN.cr(P,J.r/2,J.$/2);if(isNaN(C)||C==Infinity||C==-Infinity||!gY.jg(P)){if(Q==null)Q={C6:[],d:[]};
t.G.concat(Q,{C6:u,d:P})}else{W=W.concat(P);q=q.concat(u)}}var l={Gn:{C6:q,d:W},aga:Q,afh:Z,PJ:T,p0:null};
if(M){this.view.R([{kq:J,data:this.T9.buffer}],null,l,X)}else this.view.ax0(l)};dw.blnc=function(){dw.call(this);
var M=this._;this.hn=null;this.yh=new iR([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.yh.P(r.E.n,this.IF,this);
M.appendChild(this.yh._);this.en=[];for(var $=0;$<3;$++){var X=new jP(["VAR0 - VAR1",ia.a0o[$],ia.vF[$]],-100,100);
X.P(r.E.n,this.EP,this);this.en.push(X);M.appendChild(X._)}this.sL=new hE([13,4]);this.sL.P(r.E.n,this.EP,this);
M.appendChild(this.sL._)};dw.blnc.prototype=new dw;dw.blnc.prototype.T=function(){this.yh.T();for(var $=0;
$<3;$++)this.en[$].T();this.sL.T()};dw.blnc.prototype.R=function(M){this.hn=t.b(M);this.IF()};dw.blnc.prototype.V=function(M){var X=["ShdL","MdtL","HghL"],J=this.hn[X[this.yh.V()]].v;
for(var $=0;$<3;$++)J[$].v=this.en[$].V();this.hn.PrsL.v=this.sL.V();return t.b(this.hn)};dw.blnc.prototype.IF=function(M){var X=["ShdL","MdtL","HghL"],J=this.hn[X[this.yh.V()]].v;
for(var $=0;$<3;$++)this.en[$].R(J[$].v);this.sL.R(this.hn.PrsL.v)};dw.brit=function(){dw.call(this,"brit");
this.sa.push(new jP([12,2],-150,150,""));this.sa.push(new jP([12,3,0],-100,100,""));this.sa.push(new hE([12,3,1]));
this.RH()};dw.brit.prototype=new dw;dw.curv=function(){dw.call(this);this.value=null;this.om=null;this.f=null;
var M=this._;this.Fh=new iR("Preset",["basic","advanced"]);this.Fh.P(r.E.n,this.a9J,this);M.appendChild(this.Fh._);
w.vA(M);this.h0=new iR([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);this.h0.P(r.E.n,this.Q1,this);M.appendChild(this.h0._);
this.a6=new iR(null,["Spline","Sketch"]);this.a6.P(r.E.n,this.a9J,this);M.appendChild(this.a6._);this.hY=new jr;
this.hY.parent=this;this.hY.P(r.E.n,this.Ok,this);M.appendChild(this.hY._);w.vA(M);this.sq=new fW;this.sq.P(r.E.n,this.hN,this);
M.appendChild(this.sq._);this.K5=null;this.auN=0;this.awY=0;w.vA(M);this.AG=new ju("Sample from image",i9.Ff(["#000000","#888888","#ffffff","-\u2195"]),!0,null,!0);
this.AG.P(r.E.n,this.nv,this);this.AG._.style.marginRight="0";M.appendChild(this.AG._)};dw.curv.prototype=new dw;
dw.curv.prototype.SY=function(M,X){if(X==bN.Ru||X==bN.JN){var J=M.Ee,q=["Default"];for(var $=0;$<J.length;
$++)q.push(J[$].presetFileName.v);q.push("Custom");this.Fh.P$(q,[1,J.length,1]);this.f=M}};dw.curv.prototype.uL=function(M,X){this.sq.uL(M,X)};
dw.curv.prototype.T=function(){this.h0.T();this.sq.T()};dw.curv.prototype.pF=function(){this.Fh.R(this.f.Ee.length+1)};
dw.curv.prototype.a9J=function(M){if(M.target==this.Fh){var X=this.Fh.V(),J=this.f.Ee,q;if(X==0)q=fV.IH("curv");
else if(X-1<J.length)q=t.b(J[X-1]);else return;this.R(q);this.EP();return}this.pF();var W=hg.ev(this.value,0),T=W.length==256?1:0,_=this.a6.V();
if(T==_)return;var q=fV.IH("curv");if(_==1){var m=[];for(var $=0;$<256;$++)m.push($);hg.eA(q,0,m)}this.R(q);
this.EP()};dw.curv.prototype.hN=function(){this.pF();hg.eA(this.value,this.h0.V(),this.sq.V());this.EP()};
dw.curv.prototype.Q1=function(){var M=this.h0.V(),X=hg.ev,J=X(this.value,M),q;if(M==0)q=[X(this.value,1),X(this.value,2),X(this.value,3)];
var W=J.length==256?1:0;this.a6.R(W);if(this.om)this.sq.V3(this.om[M],this.om[4]*[1,.33,.33,.33][M],["#ccc","#fcc","#cfc","#ccf"][M]);
this.sq.R(J,null,q)};dw.curv.prototype.Qn=function(){return!0};dw.curv.prototype.H_=function(M,X,J,q,W){var T=this.value;
this.value=fV.IH("curv");this.EP();var _=o.SK.eH(M,W,1,null,!0),m=this.K5=[_>>>16&255,_>>>8&255,_&255];
this.auN=W.y;this.R(T);this.EP()};dw.curv.prototype.T_=function(M,X,J,q,W){if(this.K5==null)return;if(this.AG.V().indexOf(!0)==3){var T=this.K5,_=this.value,m=this.h0.V(),d=hg.ev(_,m),A,p=m==0?Math.round((T[0]+T[1]+T[2])/3):T[m-1],a=-1;
for(var $=0;$<d.length;$++)if(d[$].v.Hrzn.v==p)a=$;if(a==-1){A=t.b(d[0]);A.v.Hrzn.v=p;A.v.Vrtc.v=p;d.push(A);
d.sort(function(f,s){return f.v.Hrzn.v-s.v.Hrzn.v});hg.eA(_,m,d);a=d.indexOf(A)}A=d[a];A.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(A.v.Hrzn.v+(this.auN-W.y))));
hg.eA(_,m,d);this.R(_);this.EP()}};dw.curv.prototype.fw=function(M,X,J,q,W){dw.abt(this,M,W,"curv");
this.pF();this.K5=null};dw.curv.prototype.R=function(M){this.value=M;this.Q1()};dw.curv.prototype.V3=function(M){this.om=M;
this.Q1()};dw.curv.prototype.V=function(M){return t.b(this.value)};dw.curv.prototype.Ok=function(){var M=this.hY.V(),X=this.om,J=this.value,q=t.aH7(M,X);
for(var $=0;$<4;$++){var W=q[$][0],T=q[$][1],_=q[$][2],m=[t.pq.Z4(W,0,!0),t.pq.Z4(T,255,!0)];if(_!=null)m.splice(1,0,t.pq.Z4(128,_,!0));
hg.eA(J,$,m)}this.Q1();this.EP()};dw.expA=function(){dw.call(this,"expA");this.sa.push(new jP([12,5],-20,20,null,2,!0));
this.sa.push(new jP([12,6],-.5,.5,null,2));this.sa.push(new jP([12,7],.01,9.99,null,2,!0));this.RH()};
dw.expA.prototype=new dw;dw.expA.prototype.ui=function(M,X){X[0]=M.Exps.v;X[1]=M.Ofst?M.Ofst.v:0;X[2]=M.gammaCorrection?M.gammaCorrection.v:1};
dw.expA.prototype.x7=function(M,X){M.Exps={t:"doub",v:X[0]};M.Ofst={t:"doub",v:X[1]};M.gammaCorrection={t:"doub",v:X[2]}};
dw.grdm=function(){dw.call(this,"grdm");this.sa.push(new a0(!0,null,!0));this.sa.push(new hE([12,23,0]));
this.RH()};dw.grdm.prototype=new dw;dw.grdm.prototype.ui=function(M,X){X[0]=M.Grad.v;X[1]=M.Rvrs?M.Rvrs.v:!1};
dw.grdm.prototype.x7=function(M,X){M.Grad.v=X[0];M.Rvrs={t:"bool",v:X[1]}};dw.grdm.prototype.SY=function(M,X){this.sa[0].eI(M.pU,M.Yt);
if(X==bN.Ru||X==bN.M3||X==bN.e2)this.sa[0].b5(M.km)};dw.selc=function(){dw.call(this);var M=this._;this.AA=[];
this.kc=null;this.yh=new iR([12,82],ia.B5.concat([[13,1,8],[13,1,13],[13,1,10]]));this.yh.P(r.E.n,this.wQ,this);
M.appendChild(this.yh._);w.vA(M);for(var $=0;$<4;$++){var X=new jP(ia.a0o[$],-100,100,"%");X.P(r.E.n,this.wQ,this);
this.AA.push(X);M.appendChild(X._)}this.YA=new hE([13,3]);M.appendChild(this.YA._);this.YA.P(r.E.n,this.wQ,this)};
dw.selc.prototype=new dw;dw.selc.prototype.T=function(){this.yh.T();this.YA.T();for(var $=0;$<4;$++)this.AA[$].T()};
dw.selc.prototype.R=function(M){this.kc=t.b(M);this.IF()};dw.selc.prototype.V=function(M){return t.b(this.kc)};
dw.selc.prototype.wQ=function(M){if(M.target!=this.yh){var X=this.kc,J=[];for(var $=0;$<4;$++)J[$]=this.AA[$].V();
by.eA(X,this.yh.V(),J);X.Mthd={t:"enum",v:{CrcM:this.YA.V()?"Absl":"Rltv"}}}this.IF();this.EP()};dw.selc.prototype.IF=function(){var M=this.kc,X=by.ev(M,this.yh.V());
for(var $=0;$<4;$++)this.AA[$].R(X[$]);this.YA.R(M.Mthd?M.Mthd.v.CrcM=="Absl":!1)};dw.blwh=function(){dw.call(this,"blwh");
this.sa.push(new hE([12,11]));this.sa.push(new gv(!0));for(var $=0;$<6;$++)this.sa.push(new jP(ia.B5[$],-200,300));
this.RH()};dw.blwh.prototype=new dw;dw.blwh.prototype.ui=function(M,X){X[0]=M.useTint.v;X[1]=M.tintColor.v;
var J="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var $=0;$<6;$++)X[2+$]=M[J[$]].v};dw.blwh.prototype.x7=function(M,X){M.useTint.v=X[0];
M.tintColor.v=X[1];var J="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var $=0;$<6;$++)M[J[$]].v=X[2+$]};
dw.hue2=function(){dw.call(this);this.value=null;this.Ne=null;this.jM=null;this.aAo=[[0,0,0],[0,50,0]];
var M=this._;this.AG=new ju(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.AG.P(r.E.n,this.a35,this);this.AG.P(r.E.n,this.nv,this);M.appendChild(this.AG._);var X=this.sa=[new iR([12,12],["Master"].concat(ia.B5)),new jP([12,8],-180,180),new jP([12,9],-100,100),new jP([12,10],-100,100),new hE([12,11])];
for(var $=0;$<X.length;$++){var J=X[$];J.P(r.E.n,$==0?this.Q1:this.amR,this);M.appendChild(J._)}this.yh=X[0];
this.ae5=X[1];this.tN=X[2];this.a8K=X[3];this.Mx=X[4];this.Wt=new ju("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.Wt.P(r.E.n,this.a35,this);this.Wt.P(r.E.n,this.nv,this);this.Wt._.style.marginLeft="20px";M.appendChild(this.Wt._);
this.ar6=w.l("div");M.appendChild(this.ar6);this.Mj=this.Gd.bind(this);this.TI=this._y.bind(this);this.kX=w.l("canvas");
this.qt=this.kX.getContext("2d");this.aA=null;w.LY(this.kX);w.R$(this.kX,282,18);M.appendChild(this.kX);
w.Ad(this.kX,this.rO.bind(this))};dw.hue2.prototype=new dw;dw.hue2.prototype.uL=function(M,X){w.R$(this.kX,Math.round(M),18);
if(this.value)this.Q1()};dw.hue2.prototype.a35=function(M){var X=M.target.V().indexOf(!0);if(X==-1)return;
if(M.target==this.AG)this.Wt.R([!1,!1,!1]);else this.AG.R([!1,!1,!1])};dw.hue2.prototype.rO=function(M){if(this.yh.V()==0||this.Mx.V())return;
var X=w.uP(M,this.kX).x/(this.kX.width/w.pv()),T=1e6;function J(a,f,s){return a<f&&f<s||s<a&&(a<f||f<s)}var q=this.pP(),W=-1;
for(var $=0;$<4;$++){var _=Math.abs(X-(q[$]+$*1e-5));if(_<T){T=_;W=$}}if(T>.025){W=-1;var m=q[0],d=q[1],A=q[2],p=q[3];
if(J(m,X,d))W=4;if(J(d,X,A))W=5;if(J(A,X,p))W=6}if(W==-1)return;this.aA=W;w.GY(document.body,this.Mj);
w.ZA(document.body,this.TI)};dw.hue2.prototype.Gd=function(M){var X=w.uP(M,this.kX).x/(this.kX.width/w.pv()),J=this.pP(),q=this.aA;
for(var $=1;$<4;$++)if(J[$]<J[$-1]){J[$]+=1}if(q<4){var W=1e6,T=0;for(var $=-20;$<20;$++){var _=Math.abs(J[q]-(X+$));
if(_<W){W=_;T=$}}X+=T;J[q]=X;for(var $=q+1;$<4;$++)if(J[$]<J[$-1]){J[$]=J[$-1]}for(var $=q-1;$>=0;$--)if(J[$]>J[$+1]){J[$]=J[$+1]}}else{var m=X-(J[q-4]+J[q-3])/2;
if(m<-.5)m+=1;if(q==4){J[0]+=m;J[1]+=m;J[2]=Math.max(J[1],J[2]);J[3]=Math.max(J[1],J[3])}if(q==5)for(var $=0;
$<4;$++)J[$]+=m;if(q==6){J[2]+=m;J[3]+=m;J[0]=Math.min(J[0],J[2]);J[1]=Math.min(J[1],J[2])}}for(var $=1;
$<4;$++)if(J[$]<J[$-1])throw"e";this.aDR(J);this.Q1();this.EP()};dw.hue2.prototype._y=function(M){w.$E(document.body,this.Mj);
w.uU(document.body,this.TI)};dw.hue2.prototype.T=function(){for(var $=0;$<this.sa.length;$++)this.sa[$].T()};
dw.hue2.prototype.amR=function(M){var X=this.value.Clrz.v=this.Mx.V();if(X)this.yh.R(0);if(M&&M.target==this.Mx){var J=X?1:0;
this.aAo[1-J]=gg.ev(this.value,0);var q=this.aAo[J];gg.eA(this.value,0,q);if(this.yh.V()==0){this.ae5.R(q[0]);
this.tN.R(q[1]);this.a8K.R(q[2])}}var W=this.yh.V(),T=gg.ev(this.value,W),q=W==0?T:T.en;q[0]=this.ae5.V();
var _=this.tN.V();q[1]=X?Math.max(0,_):_;q[2]=this.a8K.V();gg.eA(this.value,W,T);this.Q1();this.EP()};
dw.hue2.prototype.Q1=function(){var M=this.yh.V(),X=this.value.Clrz?this.value.Clrz.v:!1;this.Mx.R(X);
this.yh._3(!X);this.Wt._3(!X&&M!=0);var J=gg.ev(this.value,M),q=M==0?J:J.en;this.ae5.R(q[0]);this.tN.R(q[1]);
this.a8K.R(q[2]);var W=this.kX.width,T=this.kX.height,_=this.qt;_.clearRect(0,0,W,T);if(X||M==0){this.ar6.innerHTML="";
return}var m=J.OL;this.ar6.innerHTML=m[0]+"\xB0 / "+m[1]+"\xB0<span style=\"float:right\">"+m[2]+"\xB0 \\ "+m[3]+"\xB0</span>";
var d=t.j(W*4);gf.ayQ(d,1,W,-1,.5);var A=new ImageData(new Uint8ClampedArray(d.buffer),W,1),p=Math.round(T/4);
for(var $=0;$<p;$++)_.putImageData(A,0,$);function a(Q,Z,g){_.fillStyle=g;var S=p*2;if(Q<=Z)_.fillRect(Q*W,S,(Z-Q)*W,p);
else{_.fillRect(0,S,Z*W,p);_.fillRect(Q*W,S,(1-Q)*W,p)}}var f=this.pP();a(f[0],f[1],"#888888");a(f[1],f[2],"#cccccc");
a(f[2],f[3],"#888888");_.fillStyle="#ffffff";_.lineWidth=1;_.beginPath();var s=p+.5,j=4*p+.5;for(var $=0;
$<4;$++){var Y=Math.floor(W*f[$])+.5,G=($<2?-1:1)*p*($==1||$==2?1:2);_.moveTo(Y,s);_.lineTo(Y,j);_.lineTo(Y+G,j);
_.lineTo(Y+G,p+p+.5);_.closePath()}_.fill();_.stroke()};dw.hue2.prototype.pP=function(){var M=this.yh.V(),X=gg.ev(this.value,M).OL;
for(var $=0;$<4;$++)X[$]=(1000.5+X[$]/360)%1;return X};dw.hue2.prototype.aDR=function(M){var X=this.yh.V(),J=gg.ev(this.value,X);
for(var $=0;$<4;$++)J.OL[$]=Math.round(36e3+(M[$]-.5)*360)%360;gg.eA(this.value,X,J)};dw.hue2.prototype.Qn=function(){return!0};
dw.hue2.prototype.a6c=function(){var M=this.AG.V().indexOf(!0),X=this.Wt.V().indexOf(!0);return M!=-1?M:X!=-1?X+1:-1};
dw.hue2.prototype.H_=function(M,X,J,q,W){var T=this.a6c();if(T==-1)return;var _=this.value;this.value=fV.IH("hue2");
this.EP();var m=o.SK.eH(M,W,1,null,!0);this.R(_);var d=[m>>>16&255,m>>>8&255,m&255],A=t.G7(d[0]/255,d[1]/255,d[2]/255);
if(T==0){this.yh.R(1+Math.round(A.oz*6)%6)}else{var p=this.pP(),a=.5+A.oz,f=1/12,s=p[1],j=p[2];if(j<s){j++;
if(a<s&&a+1-j<s-a)a++}var Y=s<=a&&a<=j;if(T==1){s=a-f/2;j=a+f/2}else if(T==2&&!Y){s=Math.min(a,s);j=Math.max(a,j)}else if(T==3&&Y){if(a-s<j-a)s=a;
else j=a}p=[s-f,s,j,j+f];this.aDR(p)}this.EP();this.Ne=W.x;this.jM=this.tN.V()};dw.hue2.prototype.T_=function(M,X,J,q,W){var T=this.a6c();
if(T==-1)return;if(T==0){if(this.Ne!=null){var _=W.x-this.Ne;_=Math.max(-100,Math.min(100,this.jM+.5*_));
this.tN.R(_);this.amR()}}};dw.hue2.prototype.fw=function(M,X,J,q,W){this.Ne=null};dw.hue2.prototype.R=function(M){this.value=t.b(M);
var X=this.value.Clrz?this.value.Clrz.v:!1;this.aAo[X?1:0]=gg.ev(this.value,0);this.Q1()};dw.hue2.prototype.V=function(M){return t.b(this.value)};
dw.levl=function(){function M(){dw.call(this);this.value=null;this.om=null;this.h6=[new es(0,0),new es(0,0),new es(0,0),new es(0,0),new es(0,0)];
this.AO=-1;this.Mj=this.Gd.bind(this);this.TI=this._y.bind(this);var X=this._;this.h0=new iR([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.h0.P(r.E.n,this.Q1,this);X.appendChild(this.h0._);this.hY=new jr;this.hY.parent=this;this.hY.P(r.E.n,this.Ok,this);
X.appendChild(this.hY._);var J=w.l("div","");X.appendChild(J);var q=w.l("div","");X.appendChild(q);this.kX=w.l("canvas");
J.appendChild(this.kX);this.qt=this.kX.getContext("2d");this.AE=new es(256,120);w.F(this.kX,"display:block");
w.LY(this.kX);w.Ad(this.kX,this.rO.bind(this));this.IK=w.l("canvas","");q.appendChild(this.IK);this.RJ=this.IK.getContext("2d");
this.Tt=new es(this.AE.x,40);w.F(this.IK,"display:block");w.LY(this.IK);w.Ad(this.IK,this.aje.bind(this));
var W=this.aqq=[];for(var $=0;$<5;$++){var T=new ja(null,null,3);W.push(T);T.P(r.E.n,this.abD,this);
($<2||$==4?J:q).appendChild(T._)}J.appendChild(W[1]._);this.AG=new ju("Sample from image",i9.Ff(["#000000","#888888","#ffffff"]),!0,null,!0);
this.AG.P(r.E.n,this.nv,this);X.appendChild(this.AG._);this.uL(250,100)}M.prototype=new dw;M.prototype.Ok=function(){var X=this.hY.V(),J=this.om,q=this.value,W=t.aH7(X,J);
for(var $=0;$<4;$++){var T=W[$][0],_=W[$][1],m=W[$][2],d=[t.pq.Z4(T,0,!0),t.pq.Z4(_,255,!0)];if(m!=null)d.splice(1,0,t.pq.Z4(128,m,!0));
var A=[~~T,~~_,0,255,m==null?100:~~(100+.75*100*(m-128)/128)];el.eA(q,$,A)}this.Q1();this.EP()};M.prototype.uL=function(X,J){X+=6;
this.AE.x=this.Tt.x=X;w.R$(this.kX,X,this.AE.y,this.qt);w.R$(this.IK,X,this.Tt.y,this.RJ);var q=this.aqq;
w.F(q[3]._,"margin-left: "+(X-104)+"px");w.F(q[4]._,"margin: 0 "+(X/2-74)+"px");if(this.value)this.Q1()};
M.prototype.T=function(){this.h0.T()};M.prototype.abD=function(X){var J=[];for(var $=0;$<5;$++){var q=255,W=1;
if($==4){q=999;W=100}var T=parseFloat(this.aqq[$].V());J[$]=Math.max(0,Math.min(q,T*W))}el.eA(this.value,this.h0.V(),J);
this.Q1();this.EP()};M.prototype.Q1=function(X){var J=this.AE.x,q=this.AE.y,W=this.h0.V(),T=this.qt;
T.clearRect(0,0,J,q);T.fillStyle="#cccccc";T.fillRect(8,8,J-16,q-16-8);if(this.om){var _=this.om[0].slice(0),j=0;
if(W==0){_.fill(0);var m=t.b(this.value);el.eA(m,0,[0,255,0,255,100]);var d=ia.BZ("levl",m),A=[d.n8,d.OO,d.VC];
for(var p=0;p<3;p++){var a=this.om[1+p],f=A[p];for(var $=0;$<256;$++)_[~~(f[$]*255)]+=a[$]}}var s=W==0?_:this.om[W];
for(var $=0;$<s.length;$++)j+=s[$];T.fillStyle="#333333";T.beginPath();T.moveTo(8,q-16);for(var $=0;
$<256;$++){var Y=55*s[$]/j;T.lineTo(8+$/256*(J-16),Math.max(8,q-16-q*Y))}T.lineTo(J-8,q-16);T.closePath();
T.fill()}var G=el.ev(this.value,W);for(var $=0;$<5;$++)this.aqq[$].R(G[$]/($==4?100:1));this.h6[0].cn(8+G[0]/255*(J-16),q-14);
this.h6[1].cn(8+G[1]/255*(J-16),q-14);var Q=Math.log(G[4]/100)/Math.log(9.99);Q=.5-Q/2;this.h6[4].cn(this.h6[0].x+Q*(this.h6[1].x-this.h6[0].x),q-14);
this.GZ(T,this.h6[0],"#000000");this.GZ(T,this.h6[1],"#ffffff");this.GZ(T,this.h6[4],"#777777");var J=this.Tt.x,q=this.Tt.y;
T=this.RJ;T.clearRect(0,0,J,q);var Z=T.createLinearGradient(0,0,J-16,0);Z.addColorStop(0,"black");Z.addColorStop(1,"white");
T.fillStyle=Z;T.fillRect(8,8,J-16,16);this.h6[2].cn(8+G[2]/255*(J-16),q-14);this.h6[3].cn(8+G[3]/255*(J-16),q-14);
this.GZ(T,this.h6[2],"#000000");this.GZ(T,this.h6[3],"#ffffff")};M.prototype.GZ=function(X,J,q){X.fillStyle=q;
X.fillRect(J.x-5,J.y,10,10)};M.prototype.rO=function(X){var J=w.uP(X,this.kX),q=this.aH_([0,1,4],J);
if(q!=-1)this.AO=q;this.aA9()};M.prototype.aje=function(X){var J=w.uP(X,this.IK),q=this.aH_([2,3],J);
if(q!=-1)this.AO=q;this.aA9()};M.prototype.aH_=function(X,J){var q=-1,W=1e9;for(var $=0;$<X.length;$++){var T=Math.abs(this.h6[X[$]].x-J.x);
if(T<W){W=T;q=X[$]}}return W<16?q:-1};M.prototype.aA9=function(X){if(this.AO==-1)return;w.GY(document.body,this.Mj);
w.ZA(document.body,this.TI)};M.prototype.Gd=function(X){var J=el.ev(this.value,this.h0.V()),q=w.uP(X,this.AO==2&&this.AO==3?this.IK:this.kX),W=255*(q.x-8)/(this.AE.x-16);
W=Math.max(0,Math.min(255,W));if(this.AO==0)W=Math.min(W,J[1]-2);if(this.AO==1)W=Math.max(W,J[0]+2);
if(this.AO!=4)J[this.AO]=Math.round(W);else{var T=(W-J[0])/(J[1]-J[0]);T=1-2*T;T=Math.pow(9.99,T);J[4]=Math.min(999,Math.max(10,Math.round(T*100)))}el.eA(this.value,this.h0.V(),J);
this.Q1();this.EP()};M.prototype._y=function(X){w.$E(document.body,this.Mj);w.uU(document.body,this.TI);
this.AO=-1};M.prototype.Qn=function(){return!0};M.prototype.fw=function(X,J,q,W,T){dw.abt(this,X,T,"levl")};
M.prototype.R=function(X){this.value=X;this.Q1()};M.prototype.V3=function(X){this.om=X;this.Q1()};M.prototype.V=function(X){return t.b(this.value)};
return M}();dw.phfl=function(){dw.call(this,"phfl");this.sa.push(new gv);this.sa.push(new jP([12,74],0,100,"%"));
this.sa.push(new hE([13,4]));this.RH()};dw.phfl.prototype=new dw;dw.phfl.prototype.ui=function(M,X){X[0]=M.Clr.v;
X[1]=M.Dnst.v;X[2]=M.PrsL.v};dw.phfl.prototype.x7=function(M,X){var J=t.NX.NH(X[0]),q=M.Clr.v,W=t.KX(J.z,J.L,J.g);
q.Lmnc.v=W.q6;q.A.v=W.Jm;q.B.v=W.g;M.Dnst.v=X[1];M.PrsL.v=X[2]};dw.vibA=function(){dw.call(this,"vibA");
this.sa.push(new jP([12,13],-100,100,null));this.sa.push(new jP([12,9],-100,100,null));this.RH()};dw.vibA.prototype=new dw;
dw.vibA.prototype.ui=function(M,X){X[0]=M.vibrance?M.vibrance.v:0;X[1]=M.Strt?M.Strt.v:0};dw.vibA.prototype.x7=function(M,X){M.vibrance.v=X[0];
M.Strt.v=X[1]};dw.thrs=function(){dw.call(this,"thrs");this.sa.push(new jP([4,13],1,255,null));this.RH()};
dw.thrs.prototype=new dw;dw.thrs.prototype.ui=function(M,X){X[0]=M.Lvl.v};dw.thrs.prototype.x7=function(M,X){M.Lvl.v=X[0]};
dw.mixr=function(){dw.call(this);var M=this._;this.AA=[];this.kc=null;this.yh=new iR([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.a1z=!1;this.yh.P(r.E.n,this.wQ,this);M.appendChild(this.yh._);w.vA(M);this.TG=new hE([12,60]);M.appendChild(this.TG._);
this.TG.P(r.E.n,this.wQ,this);for(var $=0;$<4;$++){var X=new jP([[13,1,1],[13,1,4],[13,1,5],[13,2]][$],-200,200,"%");
X.P(r.E.n,this.wQ,this);this.AA.push(X);M.appendChild(X._)}};dw.mixr.prototype=new dw;dw.mixr.prototype.T=function(){this.yh.T();
this.TG.T();for(var $=0;$<4;$++)this.AA[$].T()};dw.mixr.prototype.R=function(M){this.kc=t.b(M);this.IF()};
dw.mixr.prototype.V=function(M){return t.b(this.kc)};dw.mixr.prototype.wQ=function(M){if(M.target!=this.yh){var X=ia.kw(this.kc);
if(M.target==this.TG){X.TG=this.TG.V();if(X.TG)X.K=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else X.K=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var J=(X.TG?0:this.yh.V())*5,$=this.AA.indexOf(M.target);
X.K[J+($<3?$:4)]=M.target.V()}this.kc=ia.YU(X)}this.IF();this.EP()};dw.mixr.prototype.IF=function(){var M=ia.kw(this.kc);
if(M.TG!=this.a1z)this.yh.P$(M.TG?[[13,1,7]]:ia.vF);this.a1z=M.TG;this.TG.R(M.TG);var X=(M.TG?0:this.yh.V())*5;
for(var $=0;$<4;$++)this.AA[$].R(M.K[X+($<3?$:4)])};dw.post=function(){dw.call(this,"post");this.sa.push(new jP([4,1],2,255,null));
this.RH()};dw.post.prototype=new dw;dw.post.prototype.ui=function(M,X){X[0]=M.Lvls.v};dw.post.prototype.x7=function(M,X){M.Lvls.v=X[0]};
dw.clrL=function(){dw.call(this,"clrL");this.sa.push(new gG("LUTs"));this.RH()};dw.clrL.prototype=new dw;
dw.clrL.prototype.ui=function(M,X){X[0]=M};dw.clrL.prototype.x7=function(M,X){var J=X[0];for(var q in J)M[q]=J[q]};
dw.clrL.prototype.SY=function(M,X){if(X==bN.Ru||X==bN.EY)this.sa[0].b5(M.aGm)};dw.rplc=function(){dw.call(this,"rplc");
this.sa.push(new jP([12,92],0,200));this.sa.push(new gv);this.sa.push(new jP([12,8],-180,180));this.sa.push(new jP([12,9],-100,100));
this.sa.push(new jP([12,10],-100,100));this.RH()};dw.rplc.prototype=new dw;dw.rplc.prototype.ui=function(M,X){X[0]=M.Fzns.v;
X[1]=M.Mxm.v;X[2]=M.H.v;X[3]=M.Strt.v;X[4]=M.Lght.v};dw.rplc.prototype.x7=function(M,X){function J(W,T){T.Lmnc.v=W.q6;
T.A.v=W.Jm;T.B.v=W.g}M.Fzns.v=X[0];M.H.v=X[2];M.Strt.v=X[3];M.Lght.v=X[4];var q=t.NX.NH(X[1]),W=t.KX(q.z,q.L,q.g);
J(W,M.Mnm.v);J(W,M.Mxm.v)};dw.fade=function(){dw.call(this,"fade");this.sa.push(new jP([12,0],0,100,"%"));
this.sa.push(new iR([12,19,0],ae.Ql,ae.T3));this.RH()};dw.fade.prototype=new dw;dw.fade.prototype.ui=function(M,X){X[0]=M.Opct.v.val;
X[1]=ae.TW.indexOf(M.Md.v.BlnM)};dw.fade.prototype.x7=function(M,X){M.Opct.v.val=X[0];M.Md.v.BlnM=ae.TW[X[1]]};
dw.aply=function(){var M=ae.TW.concat(["Add","Sbtr"]);M.splice(21,1);var X=ae.Ql.concat([[15,10,28],[15,10,21]]);
X.splice(21,1);var J=ae.T3.slice(0);J[4]--;function q(){dw.call(this,"aply");this.sa.push(new iR([0,3],[]));
this.sa.push(new iR([12,4],["RGB"].concat(ia.vF).concat(["Transparency"])));this.sa.push(new hE([4,11]));
this.sa.push(new iR([12,19,0],X,J));this.sa.push(new jP([12,0],0,100,"%"));this.sa.push(new j6([12,38],1,2,null,2));
this.sa.push(new j6([12,6],-255,255));this.sa.push(new hE([13,5]));this.RH([2]);this.alZ=null}q.prototype=new dw;
q.prototype.ui=function(W,T,_){if(_){var m=_[2].U,d=this.alZ=[];for(var $=0;$<m.length;$++){var A=m[$].getName();
d.push(A.length<30?A:A.slice(0,27)+"...")}d.reverse();this.sa[0].P$([[5,7]].concat(d),[1,d.length])}else var d=this.alZ;
W=W.With.v;var p=W.T.v;T[0]=p[1].t=="name"?1+d.indexOf(p[1].v.val):0;T[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(p[0].v.enum);
T[2]=W.Invr.v;var a=W.Clcl.v.Clcn;T[3]=M.indexOf(a);T[4]=W.Opct.v.val;T[5]=W.Scl.v;T[6]=W.Ofst.v;T[7]=W.PrsT.v};
q.prototype.x7=function(W,T){W=W.With.v;var _=W.T.v;if(T[0]==0)_[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else _[1]={t:"name",v:{classID:"Lyr",val:this.alZ[T[0]-1]}};_[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][T[1]];
W.Invr.v=T[2];var m=W.Clcl.v.Clcn=M[T[3]];W.Opct.v.val=T[4];W.Scl.v=T[5];W.Ofst.v=T[6];W.PrsT.v=T[7];
var d=m=="Add"||m=="Sbtr";this.sa[5]._3(d);this.sa[6]._3(d)};return q}();dw.matc=function(){var M,X,J=0;
function q(){dw.call(this,"matc");this.sa.push(new jP("Luminance",1,200));this.sa.push(new jP("Color Intensity",1,200));
this.sa.push(new jP([2,11],0,100,"%"));this.sa.push(new hE("Neutralize"));this.sa.push(new iR([12,70],[]));
this.sa.push(new iR([0,3],[]));this.RH([2])}function W(T,_){T.sa[5].P$([[5,7]].concat(_),[1,_.length])}q.prototype=new dw;
q.prototype.ui=function(T,_,m){J=0;_[0]=T.Lght.v;_[1]=T.ClrR.v;_[2]=T.Fade.v;_[3]=T.neutralizeColor?T.neutralizeColor.v:!1;
_[4]=_[5]=0;var d=T.Srce;if(d)d=d.v;if(m){M=[];X=[];var A=m[2],p=m[3];for(var $=0;$<p.length;$++){var a=p[$];
M.push(a.name);var f=a.U,s=[];X.push(s);for(var j=0;j<f.length;j++)s.push(f[j].getName());s.reverse()}this.sa[4].P$([[13,1,0]].concat(M),[1,M.length]);
var Y=p.indexOf(A);if(d)Y=M.indexOf(d[1].v.val);W(this,X[Y])}if(d){var G=M.indexOf(d[1].v.val);_[3]=J=1+G;
if(d[0].t=="name")_[4]=1+X[G].indexOf(d[0].v.val)}};q.prototype.x7=function(T,_){T.Lght.v=_[0];T.ClrR.v=_[1];
T.Fade.v=_[2];T.neutralizeColor.v=_[3];if(_[4]==0){T.noReference={t:"bool",v:!0};delete T.Srce}else{if(_[4]!=J){J=_[4];
W(this,X[_[4]-1])}delete T.noReference;var m={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},d=X[_[4]-1];
if(_[5]!=0)m={t:"name",v:{classID:"Lyr",val:d[_[5]-1]}};T.Srce={t:"obj ",v:[m,{t:"name",v:{classID:"Dcmn",val:M[_[4]-1]}}]}}};
return q}();function fa(M,X){bj.call(this);if(M==null)return;this.id=X;this.Ut=M;this.a1d=null;this._=w.l("div","window "+X);
this.arQ=null;this.Mi=w.l("div","whead");this.aji=w.l("span","wname");this.Mi.appendChild(this.aji);
this.a3o=!1;this._.appendChild(this.Mi);this.Gw=this.ar5.bind(this);this.NV=this.aIU.bind(this);this.g_=this.ast.bind(this);
w.LY(this.Mi);w.Ad(this.Mi,this.Gw);this.ace=w.l("span","cross gsicon");this.Mi.appendChild(this.ace);
fa.prototype.T.call(this);w.ZA(this.ace,this.acE.bind(this));this.body=w.l("div","body");this._.appendChild(this.body)}fa.prototype=new bj;
fa.prototype.mG=function(){return!1};fa.prototype.Qn=function(){return!1};fa.prototype.T=function(){if(this.Ut==null)return;
this.aji.textContent=kd.get(this.Ut)};fa.prototype.H_=function(M,X,J,q,W){};fa.prototype.ST=function(M,X,J,q,W){};
fa.prototype.T_=function(M,X,J,q,W){};fa.prototype.fw=function(M,X,J,q,W){};fa.prototype.aa=function(M,X,J,q,W){};
fa.prototype.KH=function(M,X,J,q){if(q.M(hP.ej)&&this.ln)this.ln();if(q.M(hP.WM)){var W=new jb(r.E.H);
W.jN=!0;o.XP.a0j(q,W);if(W.data)X.a(W)}};fa.prototype.Ei=function(M){return!1};fa.prototype.$f=function(M,X){return!0};
fa.prototype.Mq=function(M,X,J,q){};fa.prototype.SY=function(M,X){};fa.prototype.mb=function(M,X){return null};
fa.prototype.a1B=function(M){return this.arQ};fa.prototype.uL=function(){};fa.prototype.close=function(){this.a(new jb(r.E.Bb))};
fa.prototype.ar5=function(M){this.a1d=w.uP(M,this._);w.GY(window,this.NV);w.ZA(window,this.g_)};fa.prototype.aIU=function(M){var X=this._.parentNode,J=w.uP(M,X),q=Math.round(J.x-this.a1d.x),W=X.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(J.y-this.a1d.y)));
this.arQ=new es(q,W);this._.style.left=q+"px";this._.style.top=W+"px"};fa.prototype.ast=function(M){w.$E(window,this.NV);
w.uU(window,this.g_)};fa.prototype.acE=function(M){if(this.a3o){this.ln();return}this.a(new jb("closebtn"));
this.close()};function kX(){fa.call(this,"About Photopea","aboutpp");var M=this.body,X=this.an3=w.l("img");
M.appendChild(X);w.F(this.body,"margin:0; padding:0");var J=this.e0=w.l("div");J.innerHTML=kX.x0;M.appendChild(J);
var q=this.r9=w.l("span");q.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(q)}kX.prototype=new fa;kX.prototype.mb=function(M,X){return new es(0,0)};kX.prototype.uL=function(M,X){var J=(M+X-42-42)/110,q,W,T;
J=Math.sqrt((M-42)*(X-42))/50;if(M>X){w.Z6(this.body,"flexrow");q="width:"+M/2+"px; height:"+X+"px; display:block; object-fit:cover;";
W="width:"+(M/2-42)+"px; height:"+(X-42)+"px; padding:20px; font-size:"+J+"px;";T="position:absolute;  bottom:10px; right:"+(M/2+10)+"px"}else{if(M*1.5>X)J*=.9;
w.tM(this.body,"flexrow");q="width:"+M+"px; height:"+X/2+"px; display:block; object-fit:cover;";W="width:"+(M-42)+"px; height:"+(X/2-42)+"px; padding:20px; font-size:"+J+"px;";
T="position:absolute;  bottom:"+(X/2+10)+"px; right:10px"}w.F(this.an3,q);w.F(this.e0,W);w.F(this.r9,T)};
kX.prototype.T=function(){};kX.prototype.Mq=function(M,X,J,q){this.an3.setAttribute("src","promo/ivan_pp.webp")};
kX.x0="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 33-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i><br/>\t<a style=\"color:inherit;\" target=\"_blank\" href=\"https://twitter.com/ivankutskir\">Twitter</a> | \t<a style=\"color:inherit;\" target=\"_blank\" href=\"https://instagram.com/ivankutskir\">Instagram</a></p>\t";
function k3(){fa.call(this,"Are you blocking ads?","bnotify");var M=this.body,X="style=\"color:inherit\" target=\"_blank\"",J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA6CAMAAAA9UgEZAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAI1QTFRF4eHhR0dHk5OTUlJSoqKio6OjpKSkqqqq2dnZVFRUVlZWdHR029vbxcXFWFhYYmJizs7OaGhogoKCsbGxTExMpaWlXl5ecXFxSUlJfn5+uLi4iYmJmJiYd3d3v7+/Tk5OjY2N0tLSZWVleXl5oaGhaWlpWlpaT09Pf39/nZ2dra2tXFxcnJycYGBga2trbtjItQAAAQtJREFUeJzt1scWgkAMBVAj0pEm2HvF+v+fJwF0lUyElZzD2z7vGRjCYK/XpUV5+ADOsgGcQZFVbWhClX5dqX3kxqoH1/DN6IefW5kDivixx0AvUDlMwNCtBAG2tNzLMqIlbqfbZ+Pmtc1Lnd+/QV5rnTwPm0rFmOqSvISMNLDckZV5KOiJkWnRjlOyHI6xXPNrYiZkGyZ5FaslHMl6kTdPQdK3g8dPQsvBR9I9yqkg6R6v9i5cLfmShti4tNRVO1Q+FWaKFE+lmgSHhtUkwIw4xarDec5IXDO5keNXSvZrYKgn3udW/MszoT3Sbvx1iEDMi5ZLWV6ZOxG/vHtuD6zYVzknq/lno0sXIW9imwujYrBo1QAAAABJRU5ErkJggg==";
M.style.width="540px";var q="<h2>It seems like you are blocking our ads</h2>"+"<p>Please, let us show you ads. Photopea would not exist if everyone blocked ads :(</p>"+"<p>Or get <a "+X+" href=\"//www.photopea.com/promo/no_ads.png\">90 days ad-free</a> for <b>$15</b> (one-time payment) - press <b>Account</b> at the top!</p>"+"<p>Are you not aware of blocking ads? Read <a "+X+" href=\"//www.photopea.com/tuts/photopea-says-i-am-blocking-ads-but-i-am-not/\">this article</a>! :)"+" This button: <img style=\"width:20px; vertical-align:middle;\" src=\""+J+"\" /> will show you your extensions, which can modify Photopea (potential ad-blockers).</p>"+"<a "+X+" href=\"img/exts.png\"><img style=\"width:100%\" src=\"img/exts.png\" /></a>";
M.innerHTML=q}k3.prototype=new fa;function c6(){fa.call(this,[0,13,0],"account");this.Vn=w.l("div","form scrollable");
this.body.appendChild(this.Vn);this.body.style.padding="0";this.XR=[new c6.jK,new c6.Gv("::"+hO.$u("privacy.html")),new c6.Gv(c6.aqe)];
for(var $=0;$<this.XR.length;$++)this.XR[$].parent=this;this.P("showpage",this.a6f,this)}c6.prototype=new fa;
c6.prototype.$f=function(M,X){var J=navigator.onLine;if(!J)alert("Go online first");return J};c6.prototype.uL=function(M,X){w.F(this.Vn,"width:"+Math.min(M-40,740)+"px;  height:"+(X-38)+"px;  padding:1.5em;");
this.XR[0].uL(M,X)};c6.prototype.mb=function(M,X){return new es(Math.max(0,Math.min(150,(M-740)/2)),Math.max(0,Math.min(100,(X-500)/2)))};
c6.prototype.a6f=function(M){w.p9(this.Vn);this.Vn.scrollTop=0;this.Vn.appendChild(this.XR[M.data.gO]._)};
c6.prototype.T=function(){fa.prototype.T.call(this);for(var $=0;$<this.XR.length;$++)this.XR[$].T()};
c6.prototype.Mq=function(M,X,J){if(!navigator.onLine)return;w.p9(this.Vn);var q=this.XR[0];this.Vn.appendChild(q._);
q.Mq();this.T()};c6.prototype.SY=function(M,X){this.Mq(null,null,null)};c6.jK=function(){bj.call(this);
this._=w.l("div");var M=this._,m,d,p="font-size:1.25em;",a="text-align:center;",s="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",j="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",Y="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",Z=12;
this.d3=w.l("div");M.appendChild(this.d3);this.fL=new fT([0,11],!1,null,!0);w.F(this.fL._,"background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.fL.P("click",this.xx,this);M.appendChild(this.fL._);this.aIz=new fT([0,13,1],!1,null,!0);this.aIz.P("click",this.an1,this);
M.appendChild(this.aIz._);this.a3m=new fT("Business Terms",!1,null,!0);this.a3m.P("click",this.aaK,this);
M.appendChild(this.a3m._);var X=w.l("div");X.style.margin="20px 0";M.appendChild(X);var J=["Account Types","Go Premium","Team Settings","Distributors","AI credits"],q=this.fs=[],W=this.aHF=[],T=this.dy=w.l("div");
M.appendChild(T);for(var $=0;$<J.length;$++){var _=w.l("span");_.textContent=J[$];X.appendChild(_);q.push(_);
w.F(_,"font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
_.addEventListener("click",this.KN.bind(this));W.push(w.l("div"))}this.KN(0);var A=this.aEY="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
M=W[0];var d=w.l("table"),f="style=\" "+a+p+" padding-bottom:20px;\"";d.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+Y+">\t\t\t\t\t<div "+f+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+j+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+j+">\u2713</span> PeaDrive 0.5 GB</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+Y+">\t\t\t\t\t<div "+f+" title=\"Order 90 days for $15, to get a cost of $5 per month.\">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>5</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+j+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+j+">\u2713</span> PeaDrive 5 GB</li>\t\t\t\t\t\t\t<li><span "+j+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li title=\"Remove BG costs 1 credit. Magic Replace costs 3 credits.\"><span "+j+">\u2713</span> 3000 AI credits per month</li> \t\t\t\t\t\t\t<li><span "+j+">\u2713</span> 2\xD7 more steps in history</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
M.appendChild(d);var _=new fT("Go Premium");w.F(_._,A+"padding:10px 0;");_.P("click",function(U){this.KN(1)},this);
d.children[0].children[1].children[1].appendChild(_._);this.NU=w.l("div");M.appendChild(this.NU);M=W[1];
var G=this.ai$=[[8,30,1],[15,90,1],[50,365,1],[20,30,5],[45,90,5],[150,365,5],[70,30,20],[150,90,20],[500,365,20],[150,30,50],[300,90,50],[999,365,50],[60,30,1e3],[120,90,1e3],[450,365,1e3],[150,30,5e3],[300,90,5e3],[1e3,365,5e3],[300,30,2e4],[600,90,2e4],[2e3,365,2e4]];
this.Rs=[];for(var $=0;$<G.length;$++)this.Rs.push(new fT("Buy: $"+G[$][0],!1,null,!0));for(var $=0;
$<this.Rs.length;$++){this.Rs[$].P("click",this.a97,this)}this.cF=new fT("...",!0);w.F(this.cF._,A);
M.appendChild(this.cF._);d=this.aBj(4,["Single user",this.Rs[0],this.Rs[1],this.Rs[2],"Team of 5",this.Rs[3],this.Rs[4],this.Rs[5],"Team of 20",this.Rs[6],this.Rs[7],this.Rs[8],"Team of 50",this.Rs[9],this.Rs[10],this.Rs[11]]);
M.appendChild(d);var Q=w.l("div");M.appendChild(Q);Q.textContent="Premium lasts for X days: after X days, you are switched back to a free version (with ads).";
this.ajo=new hE("I accept",!0,"");M.appendChild(this.ajo._);this.aDK=new fT([0,13,1],!1,null,!0);this.aDK.P("click",this.an1,this);
M.appendChild(this.aDK._);this.arx=new fT("I have a key",!1,null,!0);w.F(this.arx._,A+" float:right; width:inherit;");
this.arx.P("click",this.a97,this);M.appendChild(this.arx._);M=W[2];this.nj=new cw;this.nj.parent=this;
this.nj.P(r.E.n,this.V7,this);M.appendChild(this.nj._);M=W[3];this.o7=new fT("...",!0);w.F(this.o7._,A);
M.appendChild(this.o7._);d=this.aBj(3,["1000 views/mo",this.Rs[Z++],this.Rs[Z++],this.Rs[Z++],"5000 views/mo",this.Rs[Z++],this.Rs[Z++],this.Rs[Z++],"20000 views/mo",this.Rs[Z++],this.Rs[Z++],this.Rs[Z++]]);
M.appendChild(d);var g=w.l("p");g.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
M.appendChild(g);this.nu=new ja("Domain name (e.g. domain.com)",null,14);M.appendChild(this.nu._);var S=new fT("Save Domain Settings",!1,null,!0);
S.lH();M.appendChild(S._);S.P("click",this.a8Q,this)};c6.jK.prototype=new bj;c6.jK.prototype.KN=function(M){var X=typeof M=="number"?M:this.fs.indexOf(M.target);
for(var $=0;$<this.fs.length;$++)this.fs[$].style.opacity=.6;this.fs[X].style.opacity=1;w.p9(this.dy);
this.dy.appendChild(this.aHF[X])};c6.jK.prototype.uL=function(M,X){var J=M<600?"d":" days",q=["30 days","90 days","365 days"];
if(M<600)q=["30d","90d","365d"];var W=this.ai$;for(var $=0;$<W.length;$++){this.Rs[$].Hr("<span>"+q[$%3]+": <sup>$</sup><big><b>"+W[$][0]+"</b></big>"+"</span>");
w.F(this.Rs[$]._,this.aEY)}};c6.jK.prototype.an1=function(M){var X=new jb("showpage",!0);X.data={gO:1};
this.a(X)};c6.jK.prototype.aaK=function(M){var X=new jb("showpage",!0);X.data={gO:2};this.a(X)};c6.jK.prototype.T=function(){this.fL.Hr(hO.tJ()?kd.get([0,11]):kd.get([0,10]));
this.aDK.T();this.aIz.T();this.a3m.T()};c6.jK.prototype.a0a=function(M){var X=new jb(r.E.C,!0);X.data={h:r.m.Na,link:"https://www.photopea.com/api/accounts#"+(M.target==this.az6?"teams":"distributors")};
this.a(X)};c6.jK.prototype.a94=function(M){var X=M.currentTarget==this.acK;this.acK.R(X);this.a45.R(!X)};
c6.jK.prototype.a9p=function(M){var X=this.acK.V(),J=this.afk.V().trim().toLowerCase(),q=this.aDP.value.trim().toLowerCase();
if(J.length>60){alert("Too long email address");return}if(q.length>600){alert("Too many team members");
return}q=q.split(",").join(" ").trim();q=q.replace(/\s+/g," ");if(q=="")q=[];else q=q.split(" ");var W=hO.QF();
if(W==null)W={};if(W.acc==null)W.acc={};W.acc.team={jin:X,ldr:J,mmb:q};hO.bh(W,this.V7.bind(this));alert("Saved!");
this.Mq()};c6.jK.prototype.a8Q=function(M){var X=this.nu.V().trim();if(!hO.tJ()){alert("You have to log in first.");
return}if(hO.gQ()==0){alert("Order a distributor account first.");return}var J=hO.QF();if(J==null)J={};
if(J.acc==null)J.acc={};if(X=="")delete J.acc.dname;else J.acc.dname=X;hO.bh(J,this.V7.bind(this));alert("Saved!");
this.Mq()};c6.jK.prototype.aDc=function(M){var X=hO.wu(),$=this.oB,J=hO.QF();if(J==null)J={};if(J.acc==null)J.acc={};
J.acc.bto=M;hO.bh(J,function(){});var q=c6.anx(M.split("\n"),X.pmnts[$]);gb.save(q,"photopea_invoice.pdf")};
c6.jK.prototype.apt=function(M){var X=hO.wu(),J=hO.QF(),q=J&&J.acc?J.acc.bto:null;if(q==null)q=X.name+"\n"+X.email;
var $=-1,W=M.target._.parentNode;while((W=W.previousSibling)!=null)$++;this.oB=$;var T=new jb(r.E.C,!0);
T.data={h:r.m.SQ,bf:"billto",vc:q,nT:this.aDc.bind(this)};this.a(T)};c6.jK.prototype.Mq=function(){this.d3.innerHTML="";
w.p9(this.NU);if(hO.tJ()){var M=hO.wu(),X=M.pmnts;if(M==null)return;this.d3.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+M.name+"</span> "+M.email+" <br/>";
if(X){var J="<h2>Payments</h2>";for(var $=0;$<X.length;$++){var q=X[$],W=new Date(q[0]*1e3);J+="<div style=\"font-size:1.2em\">"+W.getDate()+". "+(W.getMonth()+1)+". "+W.getFullYear()+" - "+c6.ayE(q)+"</div>"}this.NU.innerHTML=J;
for(var $=0;$<X.length;$++){var T=new fT("Get Invoice",!1,null,!0);w.F(T._,"float:right");T.P("click",this.apt,this);
this.NU.children[$+1].appendChild(T._)}}}else{}var _=hO.tJ()&&hO.Dm();this.cF._.style.display=_?"block":"none";
if(_){var m,d,A=_,J="<table><tr><th>Month</th><th>AI credits spent</th></tr>";if(A[0]==0){m=hO.uQ(A[1])-Date.now()*(1/1e3);
d=A[1][2]==1?"Single User":"Team Of "+A[1][2]}else{m=A[1][1]-Date.now()*(1/1e3);d="Member of \""+A[1][0]+"\""}this.cF.Hr("Premium active for "+Math.round(m/(60*60*24))+" more days! ("+d+")");
var p=this.aHF[4];w.p9(p);for(var a=bc.x$();a>=648;a--){var f=1970+Math.floor(a/12),s=a%12,W=new Date(f,s,2);
J+="<tr><td>"+f+" "+W.toDateString().split(" ")[1]+"</td><td>"+bc.aj9(a)+"</td></tr>"}var j=bc.aey(bc.x$()+1)-Date.now(),Y=Math.floor(j/(24*60*6e4));
j-=Y*24*60*6e4;var G=Math.floor(j/(60*6e4));j-=G*60*6e4;var s=Math.floor(j/6e4);j-=s*6e4;J="New period starts in "+Y+" days, "+G+" hours, "+s+" mins"+J;
p.innerHTML=J+"</table>"}var Q=hO.tJ()&&hO.gQ()*1e3>Date.now();this.o7._.style.display=Q?"block":"none";
if(Q){var m=hO.gQ()-Date.now()/1e3;this.o7.Hr("Distributor active for "+Math.round(m/(60*60*24))+" more days!")}var Z=hO.QF();
this.nj.Mq();if(Z&&Z.acc&&Z.acc.dname)this.nu.R(Z.acc.dname);else this.nu.R("")};c6.jK.prototype.aBj=function(M,X){var J=w.l("table");
if(!0){var q="<table><tr>";for(var $=0;$<M;$++)q+="<th>"+X[$*4]+"</th>";q+="</tr></table>";J.innerHTML=q;
for(var $=0;$<3;$++){var W=w.l("tr"),T;J.appendChild(W);for(var _=0;_<M;_++){T=w.l("td");T.style.width=Math.round(100/M)+"%";
W.appendChild(T);T.appendChild(X[_*4+1+$]._)}}}return J};c6.jK.prototype.a97=function(M){var X=this.Rs.indexOf(M.currentTarget),q=30,W=1;
if(!hO.tJ()){this.xx();return}if(this.ajo.V()==!1&&X<12){alert("You must accept Terms of Service");return}var J=hO.tJ()&&hO.Dm();
if(X!=-1){var T=this.ai$[X];q=T[1];W=T[2]}if(J&&W<1e3){alert("You already have premium.");return}console.log(T,q,W);
if(X==-1){var _=prompt("Please enter your key");if(_!=null){hO.a25(_,this.V7.bind(this));this.Rh()}return}if(q==30&&W==1){var m=confirm("You can have 90 days for $15. Do you still want a 30 days version for $8?");
if(!m)return}hO.order(q,W,this.V7.bind(this));this.Rh()};c6.jK.prototype.V7=function(M){this.Mq();this.Rh()};
c6.jK.prototype.xx=function(M){if(hO.tJ()){hO.a4t();this.Rh();this.Mq(null,null,null)}else hO.xx(this.afP.bind(this))};
c6.jK.prototype.afP=function(){var M=new jb(r.E.C,!0);M.data={h:r.m.aqA};this.a(M)};c6.jK.prototype.Rh=function(){var M=new jb(r.E.C,!0);
M.data={h:r.m.aBf};this.a(M)};c6.Gv=function(M){bj.call(this);this._=w.l("div");var X=this._,J=this.a8P=new fT([0,13,2],!1,null,!0),q;
J.P("click",this.ajv,this);X.appendChild(J._);if(M.startsWith("::")){q=w.l("iframe");w.F(q,"width:100%;height:1700px; background-color:white;");
q.setAttribute("src",M.slice(2))}else{q=w.l("div");q.innerHTML=M}X.appendChild(q)};c6.Gv.prototype=new bj;
c6.Gv.prototype.ajv=function(M){var X=new jb("showpage",!0);X.data={gO:0};this.a(X)};c6.Gv.prototype.T=function(){this.a8P.T()};
c6.aqe="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (IČ 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: Hálkova 483, 517 41 Kostelec nad Orlicí, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Gočárova třída 1754 / 48b, Hradec Králové</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" loading=\"lazy\" />\t";
c6.ayE=function(M){var X=M[1]+" days, ";if(M[2]<1e3)return"Photopea Premium ("+X+M[2]+" user"+(M[2]==1?"":"s")+")";
else return"Photopea Distributor ("+X+M[2]+" views/month)"};c6.anx=function(M,X){M=["Bill To:"].concat(M);
var J=new ToPDF,q=595,W=842,T=40,_=18,m=12,d=500,A=100,p=400,Y=0;function a(V,I,F,c,D){s.font.Tf=D?"Helvetica-Bold":"Helvetica";
s.ctm=[1,0,0,1,I,F];s.font.Tfs=c?c:m;J.PutText(s,V,0)}function f(V,I,F,c){for(var $=0;$<V.length;$++){a(V[$],I,F-$*c,null,$==0)}}var s=UDOC.getState();
J.StartPage(0,0,q,W);a("INVOICE",q-T-140,W-T-30,30,!0);f(["Bill From:","Ivan Kuckir","Hálkova 483, 517 41 Kostelec nad Orlicí","Tax ID: CZ9011014309"],T,W-T-40,_);
var j=new Date(X[0]*1e3);f(["Date: "+j.getDate()+". "+(j.getMonth()+1)+". "+j.getFullYear(),"Transaction ID: "+X[4]],q-T-140,W-T-40-_*2,_);
var G=M.join("");for(var $=0;$<G.length;$++)Y=Math.max(Y,G.charCodeAt($));if(Y>256){var Q=4,Z=w.l("canvas"),g=Z.getContext("2d"),S=0;
g.font=m*Q+"px sans-serif";for(var $=0;$<M.length;$++)S=Math.max(S,g.measureText(M[$]).width);var U=Math.round(S)+20,B=M.length*Q*_+20;
Z.width=U;Z.height=B;g.font=m*Q+"px sans-serif";for(var $=0;$<M.length;$++){g.font=($==0?"bold ":"")+m*Q+"px sans-serif";
g.fillText(M[$],10,($+1)*Q*_)}document.body.appendChild(Z);var e=new Uint8Array(g.getImageData(0,0,U,B).data.buffer);
s.ctm=[U/Q,0,0,B/Q,T-10/Q,W-T-40-100-B/Q];J.PutImage(s,e,U,B);s.ctm=[1,0,0,1,0,0]}else f(M,T,W-T-40-100,_);
s.colr=[.8,.8,.8];s.pth={cmds:["M","L","L","L","Z"],crds:[T,d,q-T,d,q-T,d-_,T,d-_]};J.Fill(s);s.colr=[0,0,0];
var P=[T,d,q-T,d,T,d-_,q-T,d-_,T,d-A,q-T,d-A,T,d,T,d-A,q-T,d,q-T,d-A,p,d,p,d-A],h=[];for(var $=0;$<P.length;
$+=4)h.push("M","L");s.pth={cmds:h,crds:P};J.Stroke(s);a("Order details",T+4,d-14);a(c6.ayE(X),T+4,d-_-14);
a("TOTAL:",T+4,d-A-14,null,!0);a("Price",q-T-50,d-14);a(X[3]+" USD",q-T-60,d-_-14);a(X[3]+" USD",q-T-60,d-A-14,null,!0);
a("www.Photopea.com",T,T);a("support@photopea.com",q-T-130,T);J.ShowPage();J.Done();return J.buffer};
function i0(){fa.call(this,[11,14],"addguides");this.iH;this.f={QQ:{EI:0}};this.aqD=null;var M=w.l("div","form");
this.body.appendChild(M);this.rt=[];this.Ak=new i9(null,["Hi"]);M.appendChild(this.Ak._);w.vA(M);this.Ak.P(r.E.n,this.Ik,this);
this.lg=new ja([22,4,0],null,16);this.lg.P(r.E.n,this.K_,this);this.il=new ja([22,4,1],null,16);this.il.P(r.E.n,this.K_,this);
this.wl=new iR(null,t.gk.vZ);this.wl.P(r.E.n,this.K_,this);M.appendChild(this.lg._);M.appendChild(this.wl._);
w.vA(M);M.appendChild(this.il._);this.Ay=w.JH(this,M);this.P("closebtn",this.Mr,this)}i0.prototype=new fa;
i0.prototype.$f=function(M,X){return M!=null};i0.prototype.mG=function(){return!0};i0.prototype.T=function(){fa.prototype.T.call(this);
this.lg.T();this.il.T();this.wl.T();this.Ay.T()};i0.prototype.SY=function(M,X){var J=M.QQ.EI;this.f.QQ.EI=J;
this.wl.R(J)};i0.prototype.Mq=function(M,X){this.iH=M;this.aqD=JSON.stringify(M.ob());this.rt=[-1];var J=["Global"],q=M.root.children,W=M.WT();
for(var $=0;$<q.length;$++){var T=q[$].w;if(T.add.artb){J.push(T.getName());this.rt.push(q[$].index)}}this.Ak.P$(J);
this.Ak.R(this.rt.indexOf(W));this.Ik()};i0.prototype.Ik=function(){var M=this.iH,X=M.ob(),J=this.rt[this.Ak.V()],q=[0,0];
if(J!=-1){var W=M.U[J].PH();q=[W.x,W.y]}var T=function(_,m,M,d,A){var p=_[0],a=[];for(var $=0;$<p.length;
$++)if(_[1][$]==J&&p[$][0]==m)a.push(t.gk.KG(p[$][1]-q[m],M.Qv,d,A));a.sort(function(f,s){return f-s});
return a.join(", ")};this.lg.R(T(X,1,M,this.f,M.$));this.il.R(T(X,0,M,this.f,M.r))};i0.prototype.K_=function(M){if(M&&M.currentTarget==this.wl)this.f.QQ.EI=this.wl.V();
else{var X=this.awh(),J=this.iH;J.tO(X);J.fy=!0}this.Ik()};i0.prototype.awh=function(){var M=this.iH,X=M.ob(),J=this.rt[this.Ak.V()],q=[0,0];
if(J!=-1){var W=M.U[J].PH();q=[W.x,W.y]}var T=[];for(var _=0;_<2;_++){var m=_==0?this.il:this.lg,d=_==0?M.r:M.$,A=m.V().replace(/,/g," ").replace(/  +/g," ").trim(),p=A==""?[]:A.split(" ");
for(var $=0;$<p.length;$++)T.push([_,t.gk.aos(p[$],M.Qv,this.f,d)+q[_]])}for(var $=0;$<X[0].length;$++)if(X[1][$]==J){X[0].splice($,1);
X[1].splice($,1);$--}for(var $=0;$<T.length;$++){X[0].push(T[$]);X[1].push(J)}return X};i0.prototype.Mr=function(M){var X=this.iH;
X.tO(JSON.parse(this.aqD));X.fy=!0;this.iH=null};i0.prototype.ln=function(M){this.K_(M);var X=new jb(r.E.H,!0);
X.J=o.oa;X.data={h:"gids",Zl:JSON.parse(this.aqD),l$:this.iH.ob()};this.iH=null;this.close();this.a(X)};
function cQ(M){fa.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats",batch:"Batch",mockups:"Generate Mockups",resize:"Resize"}[M],M);
this.f=null;this.iH=null;this.td=null;var X=w.l("div","form");this.body.appendChild(X);w.F(X,"width:300px");
this.KY=new eD("Source Images",!0,!0);X.appendChild(this.KY._);this.a4$=new iR([12,14,0],["A4 Portrait","A4 Landscape",[12,93,3],"Adapt to images"]);
this.EZ=new hE("Order images by name");this.EZ.R(!0);var J=this.aaI=h1.f2();for(var $=0;$<J.length;$++)if(h1.mr(J[$]).R8){J.splice($,1);
$--}J.push("SVG","PDF");this.go=new iR([12,50],J);this.go.R(1);this.k5=new as;this.go.P(r.E.n,this.ET,this);
this._K=new iR("Action Set",[]);this._K.P(r.E.n,this.SY,this);this.aDz=new iR("Action",[]);this.aBH=new hE("Apply to all opened documents");
this.aHx=new hE("Stretch inserted images");this.aHx.R(!0);this.Gg=new hE("Resize");this.Gg.P(r.E.n,this.aaT,this);
var q=this.a4u=w.l("div","label6");this.st=new j6([12,41],1,5e3,"px",0,null,null,5);this.st.parent=this;
this.st.R(1e3);this.CA=new j6([12,42],1,5e3,"px",0,null,null,5);this.CA.parent=this;this.CA.R(1e3);q.appendChild(this.st._);
w.vA(q);q.appendChild(this.CA._);if(M=="pdfpres"){X.appendChild(this.a4$._);X.appendChild(this.EZ._)}else{if(M=="batch"){X.appendChild(this._K._);
w.vA(X);X.appendChild(this.aDz._);w.du(X)}if(M=="mockups"){X.appendChild(this.aBH._);X.appendChild(this.aHx._);
w.vA(X)}if(M=="resize"){this.Gg.R(!0)}else{X.appendChild(this.Gg._);w.vA(X)}X.appendChild(q);this.aaT();
w.du(X);X.appendChild(this.go._);X.appendChild(this.k5._)}var W=["VAR0 PDF",[1,8]];if(M=="cformat")W="Convert Images";
if(M=="batch")W="Process Images";if(M=="mockups")W="Generate";if(M=="resize")W="Resize Images";var T=this.HK=new fT(W,!0,null,!0);
T.P("click",this.Aa,this);X.appendChild(T._);this.ET();this.yq=-1;this.Lz=null}cQ.prototype=new fa;cQ.prototype.aaT=function(M){this.a4u.style.display=this.Gg.V()?"":"none"};
cQ.prototype.ET=function(M){var X=this.aaI[this.go.V()];this.k5.j6(X)};cQ.prototype.Aa=function(M){this.Lz=null;
if(this.id=="mockups"&&this.td.length>1&&this.aBH.V()){this.Lz={};this.yq=0}this.EO()};cQ.prototype.EO=async function(){this.HK.bH();
var M=Date.now(),X=this.KY.V(),J=[],T=595,_=842,j,Y,G,Q;for(var q in X)J.push(q);if(J.length==0){alert("No images selected");
return}if(this.EZ.V())J.sort();var W=this.a4$.V(),m=new ToPDF,d=UDOC.getState(),A=this.aaI[this.go.V()],p=h1.mr(A),a=this.k5.V(),f={},s=this.iH;
if(this.Lz)s=this.td[this.yq];if(this.id=="mockups"){if(s==null){alert("Open a document with smart objects");
return}var Z=s.U[s.O[0]];if(Z.add.SoLd==null){Z=null;for(var $=0;$<s.U.length;$++)if(s.U[$].add.SoLd)Z=s.U[$];
if(Z==null){alert("There are no smart objects in a current document.");return}}s.O=[s.U.indexOf(Z)];
var g=Z.add.SoLd;Y=s.sF(g.Idnt.v);G=Y.SA;Q=Y.DA;j=g.Sz.v}for(var S=0;S<J.length;S++){var q=J[S],U=X[q],B=U[0]==255,e=h1.$Y(U.buffer),P=h1.mr(e),h=[{kq:new gc,data:new ArrayBuffer(0)}],V=null;
if(e=="psd"&&!p.R8)h=bB.a7K(U.buffer);else if(P.R8){V=new dD("file.psd");P.ss(U.buffer,V);V.b8();if(!p.R8){if(V.hj)i5.cW(V,this.f.Rb,this);
V.vV();V.rD();h=[{kq:new gc(0,0,V.r,V.$),data:V.m7().buffer}]}}else if(P.Yf){h=await h1.aiI(P,U.buffer);
console.log(h)}else h=P.ss(U.buffer);if(this.id=="batch"){var I=new jb(r.E.C,!0),F=this.f,c=F.cm,D=c[this._K.V()];
for(var $=0;$<h.length;$++){V=h1.DG(q,[h[$]]);I.data={h:r.m.f5,AR:V};this.a(I);if(V.U.length==3)V.O=[1];
k$.aC3(V,c,D.dy[this.aDz.V()].AC,D.AC,this);V.vV();V.rD();h[$].kq=new gc(0,0,V.r,V.$);h[$].data=V.m7().buffer;
h[$].Qv=V.Qv;h[$].gX=V.gX;I.data={h:r.m.pN,k7:V};this.a(I)}}if(this.id=="mockups"){var n=new Uint8Array(h[0].data),k=h[0].kq,b=j.Wdth.v,N=j.Hght.v;
if(!this.aHx.V()){var L=k.r,R=k.$,i=L/R,v=b/N;if(v>i)L=Math.ceil(R*v);else R=Math.ceil(L/v);k.x=L-k.r>>>1;
k.y=R-k.$>>>1;var E=new gc(0,0,L,R),u=t.j(L*R*4);t.fA(n,k,u,E);n=u;k=E}var C=o.fx.gj([n,k],new kp(b/k.r,0,0,N/k.$,0,0));
Y.SA=[C.buffer,C.S];t.uW(Y.SA);Y.DA=C.S;s.arG(Y.qM);h=[{data:t.cY(s.m7(),8).buffer,kq:new gc(0,0,s.r,s.$),Qv:s.Qv,gX:s.gX,eJ:s.eJ}]}if(this.Gg.V()){var l=h[0].kq,y=Math.min(this.st.V()/l.r,this.CA.V()/l.$);
if(y<1)for(var $=0;$<h.length;$++){var n=new Uint8Array(h[$].data),k=h[$].kq,C=o.fx.gj([n,k],new kp(y*.999999,0,0,y*.999999,0,0));
h[$].data=C.buffer.buffer;h[$].kq=C.S}}var l=h[0].kq,ge=new Uint8Array(h[0].data),O=l.r,kz=l.$;if(this.id=="pdfpres"){var z=[[595,842],[842,595],[595,595],[595,0]][W];
if(W==3)z[1]=Math.round(z[0]*kz/O);var T=z[0],_=z[1],eZ=Math.min(T/O,_/kz);m.StartPage(0,0,T,_);d.ctm=[O*eZ,0,0,kz*eZ,(T-O*eZ)/2,(_-kz*eZ)/2];
m.PutImage(d,B?U:ge,O,kz);m.ShowPage()}else{var kM=q.split("."),jV;kM.pop();kM.push(A.toLowerCase());
if(p.R8){if(V==null){V=h1.DG(q,h);V.b8()}jV=p.iL(V,V.r,V.$,a,this.f)}else{var cL=[];for(var $=0;$<h.length;
$++){var aw=h[$],h2=aw.yS,ea=0;if(h2){h2=h2.split(",");if(h2[1])ea=parseInt(h2[1])}cL.push([aw.data,ea,aw.Qv,aw.eJ,null,aw.gX])}jV=p.iL(cL,O,kz,a)}f[kM.join(".")]=new Uint8Array(jV)}}if(this.id=="mockups"){Y.SA=G;
Y.DA=Q;s.arG(Y.qM)}console.log(Date.now()-M);if(this.id=="pdfpres"){m.Done();this.v9(m.buffer,"file.pdf")}else{var ht="images";
if(this.id=="mockups")ht=s.name.slice(0,s.name.length-4);if(this.Lz){for(var q in f)this.Lz[ht+"/"+q]=f[q];
this.yq++;if(this.yq==this.td.length){this.v9(UZIP.encode(this.Lz),"images.zip");this.Lz=null}else this.EO()}else this.v9(UZIP.encode(f),ht+".zip")}};
cQ.prototype.v9=function(M,X){this.HK.Ja();hO.event("auto_"+this.id);gb.save(M,X)};cQ.prototype.Mq=function(M,X,J,q){this.iH=M;
this.td=J};cQ.prototype.SY=function(M,X){if(X!=null){this.f=M;var J=M.cm,q=[];for(var $=0;$<J.length;
$++)q.push(J[$].AC);this._K.P$(q)}else M=this.f;var J=M.cm.length==0?[]:M.cm[this._K.V()].dy,q=[];for(var $=0;
$<J.length;$++)q.push(J[$].AC);this.aDz.P$(q)};cQ.prototype.T=function(){fa.prototype.T.call(this);this.k5.T();
this.st.Hr("Max. "+kd.get([12,41])+":");this.CA.Hr("Max. "+kd.get([12,42])+":");this.KY.T();this.a4$.T();
this.EZ.T()};function fJ(M){var X=fV.names[M];if(X==null)X=ia.names[M];if(M=="aply")X=[2,12];if(M=="fade")X=[2,11];
if(M=="matc")X=[4,18];if(M=="blendOptions")X=[14,10];fa.call(this,X,"afw_"+M);this.AW=M;this.iO=null;
this.akU=null;this.sq=new dw[M];this.sq.P(r.E.n,this.EP,this);this.sq.parent=this;this.body.appendChild(this.sq._);
this.yw=new hE([24,18,5]);this.yw.R(!0);this.yw.P(r.E.n,this.EP,this);this.atO=new fT([1,12,2],!0,null,!0);
this.atO.P("click",this.wO,this);this.Ay=w.JH(this);if(this.Nh())this.sq.QM(this.Ay._);else{w.Z6(this.sq._,"form");
w.Z6(this.body,"flexrow");w.F(this.sq._,"width:312px");var J=w.l("div");this.body.appendChild(J);w.F(J,"width:8em; margin-left:1em; line-height:2.3em");
J.appendChild(this.Ay._);J.appendChild(this.atO._);J.appendChild(this.yw._)}this.P("closebtn",this.zW,this)}fJ.prototype=new fa;
fJ.prototype.mG=function(){return!0};fJ.prototype.Nh=function(){return this.sq!=null&&this.sq.YX()};
fJ.prototype.mb=function(){return this.Nh()?new es(0,0):fa.prototype.mb()};fJ.prototype.Ei=function(M){return this.sq.Ei(M)};
fJ.prototype.Qn=function(){return this.sq.Qn()};fJ.prototype.H_=function(M,X,J,q,W){this.sq.H_(M,X,J,q,W)};
fJ.prototype.T_=function(M,X,J,q,W){this.sq.T_(M,X,J,q,W)};fJ.prototype.fw=function(M,X,J,q,W){this.sq.fw(M,X,J,q,W)};
fJ.prototype.$f=function(M,X){if(this.AW=="fade")return fJ.aze(M);return!0};fJ.prototype.wO=function(M){this.sq.R(fV.IH(this.AW));
this.EP()};fJ.prototype.EP=function(M){this.V0({h:"edit",tz:this.sq.V(),aX:!this.yw.V()})};fJ.prototype.zW=function(M){this.V0({h:"cancel"})};
fJ.prototype.ln=function(M){if(!this.yw.V()){this.yw.R(!0);this.EP()}this.akU=this.sq.V();if(this.Nh())this.EP();
this.V0({h:"confirm"});this.close()};fJ.prototype.T=function(){fa.prototype.T.call(this);this.yw.T();
if(this.sq)this.sq.T();this.Ay.T()};fJ.prototype.SY=function(M,X){if(this.sq)this.sq.SY(M,X)};fJ.prototype.KH=function(M,X,J,q){if(this.Nh())this.sq.KH(q);
else fa.prototype.KH.call(this,M,X,J,q)};fJ.prototype.Mq=function(M,X,J,q){this.iO=X.iO;var W=M.add.lnk2?M.add.lnk2:[],T,_,m=new gc(0,0,M.r,M.$),d=M.U[M.O[0]],p=null;
T=d.buffer;_=d.S;var A=M.c&&this.AW=="LqFy"&&X.iO==null;if(A){_=M.c.S.Q();T=t.j(_.o()*4);t.fA(d.buffer,d.S,T,_)}if(this.Nh()){p=M.m7(M.O[0]-1);
if(A){var a=t.j(_.o()*4);t.fA(p,m,a,_);m=_.Q();p=a}}var f=fV.IH(this.AW),s=[W,M.OD,M,J];if(X.iO==null){this.sq.R(f,T,_,m,p,s);
if(ia.names[this.AW]){if(q.M(hP.Ke)&&this.akU)this.sq.R(this.akU);var j=o.QP.getData(M),Y=t.xW(j[0].b3);
this.sq.V3(Y)}}else{var G=!1,d=M.U[this.iO.w];if(d.mT()){var Q=d.uV(M);T=Q.buffer;_=Q.S;var Z=d.add.SoLd.filterFX.v.filterFXList.v;
if(Z[this.iO.index]){var g=Z[this.iO.index].v;this.sq.R(this.AW=="blendOptions"?g.blendOptions.v:g.Fltr.v,T,_,m,p,s);
this.sq.V3(t.xW(T));G=!0}}if(!G){this.sq.R(f,T,_,m,p,s);this.sq.V3(t.xW(T))}}if(!this.Nh()){this.EP();
var S=this.sq;if(S&&S.sa&&S.sa[0]&&S.sa[0].cb&&Math.min(window.innerWidth,window.innerHeight)>500)S.sa[0].cb()}};
fJ.prototype.V0=function(M){var X=new jb(r.E.H,!0);M.AW=this.AW;M.iO=this.iO;if(this.AW=="VaPo"){M.K=this.sq.V();
M.J_=this.sq.aHl()}X.data=M;X.J=fV.names[this.AW]||this.iO?o.ij:o.GR;X.jN=!0;this.a(X)};fJ.prototype.uL=function(M,X){if(!this.sq.YX()){}else{this.body.style.padding="0";
this.sq.uL(M,X)}};fJ.aze=function(M){if(M==null)return!1;var X=M.pC();if(X==null||!(X.data instanceof Array)||X.data.length!=M.O.length)return!1;
for(var $=0;$<X.data.length;$++){var J=X.data[$];if(J.w<0&&M.OD[-1-J.w])return!0;if(J.w==null||M.U[J.w]==null||M.U[J.w].tD!=J.eR)return!1;
if(M.O.indexOf(J.w)==-1)return!1}return!0};function iS(){fa.call(this,[11,0],"camera");this.data=null;
this.ab5=new es(1,1);this.a5a=[];var M=w.l("div","form hbar");this.body.appendChild(M);this.afl=new iR(null,[]);
this.aad=new iR([21,0],[[21,2],[21,1]]);M.appendChild(this.aad._);this.KM=new iR(null,[]);this.KM.P(r.E.n,this.avU,this);
M.appendChild(this.KM._);this.a6G=new fT([11,0],!1,null,!0);this.a6G.P("click",this.abi,this);M.appendChild(this.a6G._);
this.aeJ=new jH("");M.appendChild(this.aeJ._);this.stream=null;this.Qu=w.l("video");this.Qu.setAttribute("autoplay","true");
this.body.appendChild(this.Qu);this.aqE=this.a5X.bind(this);this.aEV=this.akE.bind(this);this.ay8=this.a8c.bind(this);
this.P("closebtn",this.alC,this)}iS.prototype=new fa;iS.prototype.T=function(){fa.prototype.T.call(this);
this.aad.T();this.a6G.T();this.uL(this.a3,this.oz)};iS.prototype.m7=function(){var M=this.Qu.videoWidth,X=this.Qu.videoHeight,J=w.l("canvas","");
J.width=M;J.height=X;var q=J.getContext("2d");q.drawImage(this.Qu,0,0,M,X);var W=q.getImageData(0,0,M,X);
return{kq:new gc(0,0,M,X),data:W.data.buffer}};iS.prototype.abi=function(M){if(this.aad.V()==0)this.a1Q();
else this.afH()};iS.prototype.afH=function(){var M=this.m7(),X={buffer:new Uint8Array(M.data),S:M.kq},J=new jb(r.E.H,!0);
J.jN=!0;J.J=o.HX;J.data={h:K.Ge,$D:X};this.a(J);alert(kd.get([21,4]))};iS.prototype.a1Q=function(){var M=this.m7(),X=h1.DG("camera",[M]),J=new jb(r.E.C,!0);
J.data={h:r.m.f5,AR:X};this.a(J);alert(kd.get([21,5]))};iS.prototype.Mq=function(M,X,J){navigator.mediaDevices.enumerateDevices().then(this.aFZ.bind(this))};
iS.prototype.aFZ=function(M){var X=this.a5a=[],J=[];for(var $=0;$<M.length;$++)if(M[$].kind=="videoinput"){X.push(M[$]);
J.push("Camera "+X.length)}this.KM.P$(J);this.KM.R(0);this.avU()};iS.prototype.avU=function(M){this.alC();
var X={video:{deviceId:this.a5a[this.KM.V()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(X).then(this.aqE).catch(this.aEV);
else navigator.webkitGetUserMedia(X,this.aqE,this.aEV)};iS.prototype.a5X=function(M){this.stream=M;this.Qu.srcObject=M;
this.Qu.addEventListener("loadedmetadata",this.ay8,!1)};iS.prototype.a8c=function(M){this.Qu.play();
this.uL(this.a3,this.oz)};iS.prototype.mb=function(M,X){return new es(0,0)};iS.prototype.uL=function(M,X){var J=this.Qu.videoWidth,q=this.Qu.videoHeight;
this.aeJ.R(J+" x "+q+" px");w.F(this.aeJ._,"position:absolute;  left:14px; bottom:10px; z-index:1;");
this.ab5.cn(J,q);this.a3=M;this.oz=X;var W=M-28,T=X-28-30,_=this.ab5.x/this.ab5.y;if(W/T>_)W=T*_;else T=W/_;
w.F(this.Qu,"display: block; width: "+Math.round(W)+"px; height:"+Math.round(T)+"px;")};iS.prototype.akE=function(M){console.log("error",M);
alert(kd.get([21,6]));this.close()};iS.prototype.alC=function(M){if(this.stream!=null){var X=this.stream.getTracks();
for(var $=0;$<X.length;$++)X[$].stop();this.stream=null}};function am(){fa.call(this,[7,8],"crange");
this.iH=null;this.dZ={q6:73,Jm:4.45,g:4};this.oJ={q6:73,Jm:4.45,g:4};this.body.style.width="20em";this.zX=new iR([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.zX.P(r.E.n,this.a6$,this);this.body.appendChild(this.zX._);this.x0=w.l("div","form");this.body.appendChild(this.x0);
var M=this.afW=2,X=this.rT=[new jP([12,92],0,200),new i9([12,36],[[18,0],"\uFF0B","-"]),new jP([12,92],0,100,"%"),new j6("Min",0,255),new j6("Max",0,255)];
X[0].R(40);X[M].R(40);for(var $=0;$<X.length;$++){X[$].P(r.E.n,this.IF,this);X[$].parent=this}this.kX=w.l("canvas");
this.body.appendChild(this.kX);this.Ay=w.JH(this,this.body)}am.prototype=new fa;am.prototype.$f=function(M,X){return M!=null};
am.prototype.Qn=function(){return!0};am.prototype.mG=function(){return!0};am.prototype.a6$=function(M){var X=this.zX.V(),J=this.rT,q=this.x0,W=0,T=J.length,_=this.afW;
if(X==0)T=_;else{W=_;J[W+1].R([0,100,190][X-1]);J[W+1]._3(X!=1);J[W+2].R([60,150,255][X-1]);J[W+2]._3(X!=3)}w.p9(q);
for(var $=W;$<T;$++){q.appendChild(J[$]._)}this.IF()};am.prototype.T=function(){fa.prototype.T.call(this);
this.Ay.T();this.zX.T();for(var $=0;$<this.rT.length;$++)this.rT[$].T()};am.prototype.H_=function(M,X,J,q,W){var T=M.k.Ob(W.x,W.y);
this.alb(T.x,T.y)};am.prototype.alb=function(M,X){var J=Math.min,q=Math.max,W=this.iH,T=q(0,J(W.r-1,Math.floor(M))),_=q(0,J(W.$-1,Math.floor(X))),m=W.m7(),d=(_*W.r+T)*4,A=m[d],p=m[d+1],a=m[d+2],f=t.KX(A,p,a),s=this.rT[1].V(),j=this.dZ,Y=this.oJ;
if(s==0){this.dZ=t.b(f);this.oJ=f}else if(s==1){j.q6=J(j.q6,f.q6);j.Jm=J(j.Jm,f.Jm);j.g=J(j.g,f.g);Y.q6=q(Y.q6,f.q6);
Y.Jm=q(Y.Jm,f.Jm);Y.g=q(Y.g,f.g)}else if(s==2){var G=(j.q6+Y.q6)/2,Q=(j.Jm+Y.Jm)/2,Z=(j.g+Y.g)/2;if(f.q6<G)j.q6=q(j.q6,f.q6+10);
else Y.q6=J(Y.q6,f.q6-10);if(f.Jm<Q)j.Jm=q(j.Jm,f.Jm+1);else Y.Jm=J(Y.Jm,f.Jm-1);if(f.g<Z)j.g=q(j.g,f.g+1);
else Y.g=J(Y.g,f.g-1)}this.IF()};am.prototype.ln=function(M){var X=this.zX.V(),J=this.rT,q={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(X==0){var W=this.dZ,T=this.oJ;q.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:W.q6},A:{t:"doub",v:W.Jm},B:{t:"doub",v:W.g}}};
q.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:T.q6},A:{t:"doub",v:T.Jm},B:{t:"doub",v:T.g}}};q.Fzns={t:"long",v:J[0].V()}}else{X--;
var _=["shadows","midtones","highlights"][X];q.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][X]}};if(0<X)q[_+"LowerLimit"]={t:"long",v:J[3].V()};
if(X<2)q[_+"UpperLimit"]={t:"long",v:J[4].V()};q[_+"Fuzziness"]={t:"long",v:J[2].V()}}this.close();var m=new jb(r.E.pL,!0);
m.data={hC:"colorRange",Qd:q};this.a(m)};am.prototype.Mq=function(M,X){this.iH=M;this.alb(0,0);this.a6$()};
am.prototype.IF=function(){var M=this.iH,X=this.zX.V(),J=this.dZ,q=this.oJ,W=this.rT,T=W[0].V()/200,_=!1;
if(X>0){J=W[3].V();q=W[4].V();if(J>=q)J=q-1;_=!0;T=W[2].V()/100}var m=o.Gp.Eo(M,J,q,T,_),d=m.S,A=m.N,p=this.kX,a=p.getContext("2d"),f=Math.floor(230*w.pv()),s=Math.floor(f*(d.$/d.r));
p.width=f;p.height=s;w.kb(p,f,s);var j=t.j(A.length*4);j.fill(255);for(var $=0;$<3;$++)t.ix(A,j,$);var Y=o.fx.gj([j,d],new kp(f/d.r,0,0,s/d.$,0,0)),G=Y.S,Q=new ImageData(new Uint8ClampedArray(Y.buffer.buffer),G.r,G.$);
a.putImageData(Q,0,0)};function eH(){fa.call(this,[12,76,1],"createshape");this.dq=null;var M=w.l("div","form");
w.F(M,"width:20em");this.body.appendChild(M);this.Rr=new b6(!0,!0,null,!0,!0);this.Rr.R(new es(100,100));
M.appendChild(this.Rr._);this.ark=new hE([19,5,3]);M.appendChild(this.ark._);this.Ay=w.JH(this,M)}eH.prototype=new fa;
eH.prototype.ln=function(M){var X=this.Rr.V();this.dq.ab_(this.dq.aCG,X.x,X.y,this.ark.V());this.close()};
eH.prototype.T=function(){if(this.dq)this.Ut=kd.get([5,3])+": "+kd.get(this.dq.a58);fa.prototype.T.call(this);
this.Ay.T();this.Rr.T();this.ark.T()};eH.prototype.Mq=function(M,X){this.dq=X;this.T();this.Rr.R(this.Rr.V(),M.Qv)};
function a8(){fa.call(this,[11,1],"colorpicker");this.o3=null;this.pR=null;this.In=null;this.vu=!1;this.I9=!1;
this.ah7=[.9642,1,.8249];var M=w.l("div","flexrow"),_,m;this.body.appendChild(M);this.Ch=new gf(256,!0);
this.Ch.P(r.E.n,this.bm,this);M.appendChild(this.Ch._);var X=w.l("div","form");w.F(X,"width:14.5em; margin-left:1em;");
M.appendChild(X);var J=w.l("div","flexrow");X.appendChild(J);var q=w.l("div");J.appendChild(q);q.style="width:95px; margin-right:14px";
this.a3r=w.l("div","full");q.appendChild(this.a3r);this.ap2=w.l("div","full");q.appendChild(this.ap2);
var q=w.l("col");J.appendChild(q);q.style.width="80px";this.Ay=w.JH(this,q);var J=w.l("div","flexrow");
X.appendChild(J);var W=w.l("div"),T=w.l("div");J.appendChild(W);J.appendChild(T);W.style=T.style="margin-left:14px; max-width:80px;";
_=["H","S","B"];m=W;this.BH=[];for(var $=0;$<3;$++){var d=0,A=360,p="\xB0";if($!=0){A=100;p="%"}var a=new j6(_[$],d,A,p,0,!1,!0);
this.BH.push(a);a.P(r.E.n,this.aqF,this);m.appendChild(a._);if($==2)a._.style.marginBottom="8px"}_=["R","G","B"];
m=W;this.qN=[];for(var $=0;$<3;$++){var a=new j6(_[$],0,255,null,0,!1,!0);this.qN.push(a);a.P(r.E.n,this.aFq,this);
m.appendChild(a._)}_=["L","a","b"];m=T;this.z$=[];for(var $=0;$<3;$++){var d=[0,-128,-128][$],A=[100,127,127][$],a=new j6(_[$],d,A,null,0,!1,!0);
a.R(0);this.z$.push(a);a.P(r.E.n,this.ayk,this);m.appendChild(a._);if($==2)a._.style.marginBottom="8px"}_=["C","M","Y","K"];
m=T;this.s4=[];for(var $=0;$<4;$++){var a=new j6(_[$],0,100,"%",0,!1,!0);a.R(0);this.s4.push(a);a.P(r.E.n,this.a1S,this);
m.appendChild(a._);if($==3)a._.style.marginBottom="8px"}this.lg=new ja("#",null,4.5);this.lg.P(r.E.n,this.CC,this);
W.appendChild(this.lg._);this.lg._.style.marginRight="0";this.UN=w.l("input","fitem");this.UN.setAttribute("type","color");
w.F(this.UN,"width:59px;  margin-left:19px;");this.UN.addEventListener("change",this.CC.bind(this),!1);
this.y3=new kG(9);this.y3.P(r.E.n,this.CC,this);X.appendChild(this.y3._);this.P("closebtn",this.zW,this);
this.he=!1}a8.prototype=new fa;a8.prototype.Qn=function(){return!0};a8.prototype.mb=function(M,X){if(Math.min(M,X)>500)return null;
return new es(Math.max(0,Math.min(150,(M-484)/2)),Math.max(0,Math.min(150,(X-316)/2)))};a8.prototype.uL=function(M,X){this.Ch.uL(Math.min(256,M-226),X)};
a8.prototype.T=function(M,X){fa.prototype.T.call(this);for(var $=0;$<3;$++){this.qN[$].T();this.BH[$].T();
this.z$[$].T()}for(var $=0;$<4;$++)this.s4[$].T();this.Ay.T()};a8.prototype.bm=function(M){this.pR=this.Ch.V();
this.update()};a8.prototype.H_=function(M,X,J,q,W){this.he=!0;this.afM(M,W)};a8.prototype.T_=function(M,X,J,q,W){if(!this.he)return;
this.afM(M,W)};a8.prototype.fw=function(M,X,J,q,W){this.he=!1};a8.prototype.afM=function(M,X){this.pR=t.vT(o.SK.eH(M,X,1),1);
this.update()};a8.prototype.aFq=function(M){var X=this.qN,J=this.FH(parseInt(X[0].V())),q=this.FH(parseInt(X[1].V())),W=this.FH(parseInt(X[2].V()));
this.pR={z:J/255,L:q/255,g:W/255};this.update()};a8.prototype.aqF=function(M){var X=this.BH,J=this.Xj(parseInt(X[0].V())/360),q=this.Xj(parseInt(X[1].V())/100),W=this.Xj(parseInt(X[2].V())/100);
this.pR=t.HQ(J,q,W);this.update()};a8.prototype.a1S=function(M){var X=this.s4,J=[];for(var $=0;$<4;$++){var q=this.ah4(parseInt(X[$].V()));
X[$].R(q);J.push(q/100)}var W=t.RP(J);this.pR={z:W[0],L:W[1],g:W[2]};this.update(!0)};a8.prototype.ayk=function(M){var X=this.z$,J=parseInt(X[0].V()),q=parseInt(X[1].V()),W=parseInt(X[2].V()),T=t._l(J,q,W);
this.pR={z:T.z/255,L:T.L/255,g:T.g/255};this.update()};a8.prototype.CC=function(M){var X;if(M.currentTarget==this.y3)X=this.y3.V();
else{X=M.currentTarget==this.lg?this.lg.V():this.UN.value;if(X.charAt(0)=="#")X=X.slice(1);if(X.length==3)X=X[0]+X[0]+X[1]+X[1]+X[2]+X[2];
X=t.ac0(X)}this.pR=t.vT(X,1);this.update()};a8.prototype.ln=function(M){this.azK();var X=t.hO(this.pR,1);
this.In(X);this.close();this.I9=!1;this.pR=null};a8.prototype.zW=function(M){this.azK();if(this.vu)this.In(t.hO(this.o3,1));
this.I9=!1;this.pR=null};a8.prototype.azK=function(M){var X=new jb(r.E.C,!0);X.data={h:r.m.ay6};this.a(X)};
a8.prototype.SY=function(M,X){var J=iN.mW(M,X);if(J!=null)this.y3.R(J);if(X!=bN.M3)return;if(this.pR!=null){this.pR=t.vT(J,1);
this.update()}};a8.prototype.Mq=function(M,X){var J=t.vT(X.t9,1);if(this.pR==null){var q=new jb(r.E.C,!0);
q.data={h:r.m.Hf,Ny:"crosshair",push:!0};this.a(q);this.he=!1;this.In=X.J4;this.vu=!1;this.I9=X.Ej;this.o3=t.b(J);
w.F(this.ap2,"height:2.3em;background-color:#"+t.NZ(X.t9)+";")}this.pR=J;this.update()};a8.prototype.update=function(M){var X=this.pR,J=t.hO(X,1);
this.lg.R(t.NZ(J));this.UN.value="#"+t.NZ(J);w.F(this.a3r,"height:2.3em;background-color:#"+t.NZ(J)+";");
var q=this.qN;q[0].R(Math.round(X.z*255));q[1].R(Math.round(X.L*255));q[2].R(Math.round(X.g*255));var W=t.G7(X.z,X.L,X.g);
q=this.BH;q[0].R(Math.round(W.oz*360));q[1].R(Math.round(W.i$*100));q[2].R(Math.round(W.tz*100));var T=t.KX(X.z*255,X.L*255,X.g*255,this.ah7);
q=this.z$;q[0].R(Math.round(T.q6));q[1].R(Math.round(T.Jm));q[2].R(Math.round(T.g));if(M==null){var _=t.jW([X.z,X.L,X.g]);
q=this.s4;q[0].R(Math.round(_[0]*100));q[1].R(Math.round(_[1]*100));q[2].R(Math.round(_[2]*100));q[3].R(Math.round(_[3]*100))}this.Ch.R(X);
if(this.I9){this.In(t.hO(this.pR,1));this.vu=!0}};a8.prototype.ah4=function(M){return Math.max(0,Math.min(100,M))};
a8.prototype.FH=function(M){return Math.max(0,Math.min(255,M))};a8.prototype.Xj=function(M){return Math.max(0,Math.min(1,M))};
function jW(){fa.call(this,[11,2],"contoureditor");this.a9k=null;this.Zx=null;this.response=null;this.fl=w.l("div","cell");
this.body.appendChild(this.fl);this.rZ=w.l("div","cell padded");this.body.appendChild(this.rZ);var M=w.l("div","bordered padded vmargin");
this.fl.appendChild(M);this.sq=new fW(null,null,!0);this.sq.P(r.E.n,this.hN,this);M.appendChild(this.sq._);
this.Ay=w.JH(this,this.rZ);this.P("closebtn",this.xb,this)}jW.prototype=new fa;jW.prototype.ln=function(){this.close()};
jW.prototype.T=function(){fa.prototype.T.call(this);this.Ay.T();this.sq.T()};jW.prototype.hN=function(M){this.Zx.Crv.v=this.sq.V();
this.response(this.Zx)};jW.prototype.xb=function(M){this.response(this.a9k)};jW.prototype.Mq=function(M,X){this.a9k=t.b(X.dy);
this.Zx=X.dy;this.response=X.response;this.sq.R(this.Zx.Crv.v)};function kT(){fa.call(this,[11,4],"duplinto");
this.AR=null;this.td=null;this.yT=null;var M=w.l("div","form");w.F(M,"max-width:26em");this.body.appendChild(M);
this.cH=new iR([12,43],["abc","def"]);this.cH.P(r.E.n,this.wQ,this);M.appendChild(this.cH._);w.vA(M);
this.mg=new iR([1,16,0],["abc","def"]);this.mg.P(r.E.n,this.wQ,this);M.appendChild(this.mg._);w.vA(M);
this.UJ=new ja([12,48],null,14);M.appendChild(this.UJ._);this.Ay=w.JH(this,M)}kT.prototype=new fa;kT.prototype.mG=function(){return!0};
kT.prototype.T=function(){fa.prototype.T.call(this);this.Ay.T();this.cH.T();this.UJ.T()};kT.prototype.wQ=function(M){if(M&&M.target==this.mg)return;
var X=this.cH.V(),J=this.td[X],q=this.AR,W=J!=null&&J.add.artd!=null;for(var $=0;$<q.O.length;$++)if(q.U[q.O[$]].add.artb)W=!1;
this.UJ._3(X==this.td.length);this.mg._3(W);if(W){var T=J.root.children,_=[],m=this.yT=[];for(var $=0;
$<T.length;$++){var d=T[$].w;if(d.add.artb)_.push(d.getName());m.push(T[$].index)}this.mg.P$(_);this.mg.R(0)}else this.yT=null};
kT.prototype.Mq=function(M,X,J){this.AR=M;this.td=J;this.UJ.R(M.O.length==0?"Layer":M.U[M.O[0]].getName());
var q=[];for(var $=0;$<J.length;$++){var W=J[$].name;q.push(W.length<30?W:W.slice(0,27)+"...")}q.push([11,7]);
this.cH.P$(q);this.cH.R(J.indexOf(M));this.wQ(null)};kT.prototype.ln=function(M){var X=this.cH.V();if(X==this.td.length){var J=new dD(this.UJ.V()+".psd"),q=this.AR.r,W=this.AR.$,T=this.AR.WT();
if(T!=-1){var _=this.AR.U[T].PH();q=_.r;W=_.$}J.r=q;J.$=W;J.buffer=t.j(J.r*J.$*4);var m=J.C0();m.EC("Background");
J.Ig([m]);var d=new jb(r.E.C,!0);d.jN=!0;d.data={h:r.m.f5,AR:J};this.a(d)}var A=this.AR.c1(null,this.AR!=this.td[X]),d=new jb(r.E.H,!0);
d.data={h:K.H4,U:A,xN:this.AR,Dn:this.td[X]};if(this.yT)d.data.$n=this.yT[this.mg.V()];d.J=o.HX;d.jN=!0;
this.a(d);this.close()};function hQ(){fa.call(this,[1,9],"eassets");this.f=null;this.AR=null;var M=this.body;
w.Z6(M,"form");M.style.width="32em";this.zX=new i9(null,["Layers","Combinations"]);this.zX.P(r.E.n,this.Ik,this);
M.appendChild(this.zX._);w.du(M);this.Ca=w.l("span");M.appendChild(this.Ca);this.Xl=w.l("div");M.appendChild(this.Xl);
var X=w.l("div"),J=w.l("div","flexrow");this.a99=[X,J];this.Sj=[new hE("Only layers / folders, whose name starts with \"-e-\""),new hE("Remove parts outside the canvas"),new hE("Trim transparent parts")];
for(var $=0;$<3;$++){var q=this.Sj[$];q.R(!0);q.P(r.E.n,this.Ik,this);X.appendChild(q._);w.vA(X)}this.bl=new ju([12,14,0],["1x","2x","3x","4x"]);
this.bl.R([!0,!1,!1,!1]);X.appendChild(this.bl._);var W=w.l("div");J.appendChild(W);var T=w.l("img");
T.setAttribute("src",hO.$u("img/nft.png"));T.style.width="150px";J.appendChild(T);var _=w.l("span");
_.textContent="File Names:";W.appendChild(_);this.qI=new ju(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
W.appendChild(this.qI._);this.qI.R([!0,!1,!1]);w.du(M);this.aH1=["PNG","JPG","SVG","TIFF","TGA"];this.jS=new iR([12,50],this.aH1);
this.jS.P(r.E.n,this.ET,this);M.appendChild(this.jS._);this.k5=new as;M.appendChild(this.k5._);this.Ay=new fT([1,9],!0,null,!0);
this.Ay.P("click",this.ln,this);M.appendChild(this.Ay._);this.P("closebtn",this.f6,this)}hQ.prototype=new fa;
hQ.prototype.ET=function(M){this.k5.j6(this.aH1[this.jS.V()],!1,!1,!1,this.AR.UT()!=null)};hQ.prototype.f6=function(M){this.AR=null};
hQ.prototype.T=function(){fa.prototype.T.call(this);this.jS.T();this.bl.T();this.Ay.T();this.k5.T()};
hQ.prototype.Mq=function(M,X,J){this.AR=M;this.Ik()};hQ.prototype.Ik=function(M){var X=this.zX.V(),J;
w.p9(this.Xl);this.Xl.appendChild(this.a99[X]);if(X==0){var q=this.aHD();J=q.length+" exportable layers"}else{var q=this.aGS();
J=q[1]+" combinations ("+q[0].join(" \xD7 ")+")"}this.Ca.textContent="- - - "+J;this.ET(null)};hQ.prototype.aHD=function(){var M=this.Sj[0].V(),X=[],J=this.AR;
for(var $=0;$<J.U.length;$++){var q=J.U[$],W=q.getName();if(!M&&!q.nA()&&!q.S.M5()||W.startsWith("-e"))X.push($)}return X};
hQ.prototype.aGS=function(){var M=this.AR,X=M.root.children,J=[],q=1,W=[];for(var $=0;$<X.length;$++){var T=X[$],_=T.w;
if(_.nA()){var m=T.children.length;J.push(m);q*=m;W.push(T.index)}_}return[J,q,W]};hQ.prototype.SY=function(M,X){this.f=M};
hQ.prototype.ln=function(M){var X=this.AR,J=this.zX.V(),q=[this.aH1[this.jS.V()]],W=[this.k5.V()],T={};
if(J==0){var _=this.bl.V(),m={},d=this.aHD();if(d.length==0){alert("No layers to export.");return}var A=[this.Sj[1].V(),this.Sj[2].V()];
for(var $=0;$<d.length;$++){var p=d[$],a=X.U[p],f=a.getName();if(m[f]!=null){m[f]++;f+=" "+m[f]}else m[f]=1;
var s=a.cV();a.EG(!0);for(var j=0;j<_.length;j++){if(!_[j])continue;var Y=j+1,G=o.UA.aFf(X,q,Y,this.f,p,W,A);
for(var Q=0;Q<q.length;Q++){var Z=q[Q],g=f.slice(f.startsWith("-e-")?3:0)+(Y==1?"":"@"+Y+"x")+"."+Z.toLowerCase();
if(G[Q])T[g]=new Uint8Array(G[Q])}}a.EG(s)}}else{var s=[];for(var $=0;$<X.U.length;$++)s.push(X.U[$].cV());
var S=this.aGS(),U=S[0],d=S[2],B=[];function e(I,p,F,c){if(p==I.length){c.push(F.slice(0));return}var D=I[p];
for(var $=0;$<D;$++){F.push($);e(I,p+1,F,c);F.pop($)}}e(U,0,[],B);var P=this.qI.V().indexOf(!0);this.TT=[B,T,d,q,W,s,P,this.aB3.bind(this),0,0];
this.aB3();return}var h=UZIP.encode(T),V=new jb(r.E.C,!0);V.data={h:r.m.N1,data:h,name:"assets.zip"};
this.a(V)};hQ.prototype.aB3=function(){var M=this.TT,X=M[0],J=M[1],q=this.AR,W=M[2],T=M[3],_=M[4],m=M[5],d=M[6],A=M[7],p=0;
while(X.length!=0&&p<1e3){var a=Date.now(),f=X.shift(),s=[];for(var $=0;$<f.length;$++){var j=q.root.Hc(W[$]);
for(var Y=0;Y<j.children.length;Y++)j.children[Y].w.EG(!1);var G=j.children[f[$]].w;s.push(d==2?G.getName():j.w.getName()+f[$]);
G.EG(!0)}q.vV();q.rD();var Q=(d==0?f:s).join("-")+"."+T[0].toLowerCase();J[Q]=new Uint8Array(h1.PZ(q,T[0],q.r,q.$,_[0],this.f));
M[8]++;M[9]+=J[Q].length;p+=Date.now()-a}if(X.length!=0){alert(M[8]+" done, "+cO.Pn(M[9])+".",800);setTimeout(A,35);
return}for(var $=0;$<q.U.length;$++)q.U[$].EG(m[$]);q.vV();var Z=UZIP.encode(J),g=new jb(r.E.C,!0);g.data={h:r.m.N1,data:Z,name:"assets.zip"};
this.a(g)};function fg(){fa.call(this,"Export Color Lookup Tables","exlut");this.f=null;this.AR=null;
var M=w.l("div","form");w.F(M,"width:20em");this.body.appendChild(M);this.Sj=[new j6("Grid Points",1,256),new i9([12,50],[".CUBE"])];
var X=[16,0];for(var $=0;$<this.Sj.length;$++){var J=this.Sj[$];J.R(X[$]);J.parent=this;J.P(r.E.n,this.Ik,this);
M.appendChild(J._);w.vA(M)}this.Ay=w.JH(this,M);this.P("closebtn",this.f6,this)}fg.prototype=new fa;
fg.prototype.$f=function(M,X){if(Math.min(M.r,M.$)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(M.U.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};fg.prototype.f6=function(M){this.AR=null};fg.prototype.SY=function(M,X){this.f=M};
fg.prototype.Mq=function(M,X,J){this.AR=M};fg.prototype.ln=function(){var M=this.AR,X=this.Sj[0].V(),J=[],q=new gc(0,0,M.r,M.$),W=t.j(X*X*4),T=W.slice(0),_=new gc(M.r-X>>>1,M.$-X>>>1,X,X),m=M.U[0],d=m.buffer,A=m.S;
m.S=_;m.buffer=W;for(var p=0;p<X;p++){this.aBC(X,p,W);m.vV(_);M.vV(_);var a=M.m7();t.fA(a,q,T,_);for(var f=0;
f<X;f++)for(var s=0;s<X;s++){var j=f*X+s<<2;J.push(T[j]/255,T[j+1]/255,T[j+2]/255)}}var Y=j$.alQ(J,X,M.name);
gb.save(Y,M.name.split(".")[0]+".CUBE");m.buffer=d;m.S=A;m.vV();M.vV()};fg.prototype.aBC=function(M,X,J){var q=255/(M-1),W=Math.round(X*q);
for(var T=0;T<M;T++)for(var _=0;_<M;_++){var m=T*M+_<<2;J[m]=Math.round(_*q);J[m+1]=Math.round(T*q);
J[m+2]=W;J[m+3]=255}};fg.prototype.T=function(){fa.prototype.T.call(this);for(var $=0;$<this.Sj.length;
$++)this.Sj[$].T();this.Ay.T()};function kg(){fa.call(this,[1,14],"finfo");this.aGN=null;this.Gl=null;
this.avr=null;this.Vn=w.l("div","form scrollable label12");w.F(this.Vn,"width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.Vn);var M=w.l("div","form");this.body.appendChild(M);this.lX=new iR(null,["Hello"]);
M.appendChild(this.lX._);this.abz=new fT("Add Parameter",!1,null,!0);M.appendChild(this.abz._);this.abz.P("click",this.Vx,this);
this.lG=new fT("=== S A V E ===",!1,null,!0);M.appendChild(this.lG._);this.lG.P("click",this.v9,this);
this.asi=""}kg.prototype=new fa;kg.prototype.mb=function(M,X){return M<450||X<450?new es(0,0):new es(150,100)};
kg.prototype.Vx=function(M){if(this.avr.length==0)return;var X=this.avr[this.lX.V()],J=this.aJ();J[X]=kY.fn[X][0];
this.HU(J);this.Gl[X]._.scrollIntoView();this.Gl[X].cb()};kg.prototype.Hm=function(M){var X=this.aJ();
delete X[M.currentTarget.ao6];this.HU(X)};kg.prototype.v9=function(M){var X=this.aJ(),J=this.aGN,q=!0;
for(var W in J)if(JSON.stringify(J[W])!=JSON.stringify(X[W]))q=!1;for(var W in X)if(JSON.stringify(J[W])!=JSON.stringify(X[W]))q=!1;
if(q)return;var T=new jb(r.E.H,!0);T.J=o.HX;T.data={h:K.NE,NS:X};this.a(T);this.aGN=X;this.HU(X)};kg.a9W=function(M){function X(W){var T=W.toLowerCase();
return W==T}var J=M.split(":").pop();for(var q=1;q<J.length-1;q++){if(J[q]==J[q].toUpperCase()&&(X(J[q+1])||X(J[q-1]))){J=J.slice(0,q)+" "+J.slice(q);
q++}}return J};kg.prototype.Mq=function(M,X){this.aGN=M.eJ;this.HU(M.eJ)};kg.prototype.HU=function(M){var X=this.Vn,W=0;
w.p9(X);var J=this.Gl={},q=["tiff","exif","exif:GPS"],T=this.avr=[],_=[];for(var m in kY.fn){var d=kg.a9W(m),A=0,p=15,a=null;
if(M[m]==null){if(kY.fn[m].length!=1||m=="photoshop:Credit"||m=="photoshop:Source"){T.push(m);_.push(d)}continue}for(var $=0;
$<q.length;$++)if(m.startsWith(q[$]))A=$;if(A!=W){w.du(X);W=A}if(m=="tiff:ImageDescription"||m=="dc:Keywords"){p=18.5;
a=3}var f=new ja(d,null,p,a);J[m]=f;var s=M[m];if(s instanceof Array)s=s[1]==0?"---":s[0]+"/"+s[1];var j=new fT("\u2716",null,kd.get([5,4]));
X.appendChild(j._);j.P("click",this.Hm,this);j.ao6=m;f.R(s);X.appendChild(f._);w.vA(X);if(m=="exif:GPSLongitude"&&M["exif:GPSLatitude"]){this.asi=kg.ao5(M["exif:GPSLatitude"])+","+kg.ao5(M["exif:GPSLongitude"]);
var Y=new fT("Show on map",!1,null,!0);X.appendChild(Y._);w.vA(X);Y.P("click",this.apZ,this)}}this.lX.P$(_);
this.lX.R(0)};kg.prototype.aJ=function(){var M=this.Gl,X=kY.fn,J={};for(var q in X){var W=X[q][0],T=typeof W;
if(W==null||M[q]==null)continue;var _=M[q].V(),m="The value of \""+kg.a9W(q)+"\" must ";if(T=="number"){_=parseFloat(_);
if(isNaN(_)){alert(m+"be a number.");_=W}}else if(W instanceof Array&&W.length==2){if(_.indexOf("/")==-1){alert(m+"be a fraction.");
_=W.slice(0)}else{_=_.split("/").map(parseFloat);if(isNaN(_[0])||isNaN(_[1])){_=W.slice(0)}}}J[q]=_}return J};
kg.ao5=function(M){var X=M.length,J=M.slice(0,X-1).split(",").map(parseFloat),q=M.slice(X-1),W=J[0]+J[1]/60+J[2]/3600;
if(q!="N"&&q!="E")W=-W;return W};kg.prototype.apZ=function(M){window.open("https://maps.google.com?q="+this.asi,"Map")};
function j1(){fa.call(this,[11,5],"gradienteditor");this.o3=null;this.pR=null;this.f=null;this.In=null;
this.vu=!1;this.I9=!1;this.A3=null;this.a2=null;this.Ao=-1;this.qd=-1;this.WW=0;this.Mj=this.Gd.bind(this);
this.TI=this._y.bind(this);this.kX=w.l("canvas");this.qt=this.kX.getContext("2d");w.F(this.kX,"display:block");
this.Re=null;w.LY(this.kX);w.Ad(this.kX,this.rO.bind(this));this.AU=w.l("div","form");this.ZL=w.l("div");
this.Qj=w.l("div","form");this.qz=w.l("div");this.Xm=new iR([12,44],[[15,10,0],[24,6]]);this.Xm.P(r.E.n,this.ff,this);
this.body.appendChild(this.Xm._);w.du(this.body);var M=this.AU;this.MG=new j6([19,3,3],0,100,"%");this.MG.P(r.E.n,this.ff,this);
this.MG.parent=this;M.appendChild(this.MG._);w.vA(M);this.ak2=new jH([12,0]);M.appendChild(this.ak2._);
this.gN=w.l("div","bordered padded noalign");M.appendChild(this.gN);this.hi=new j6([12,0],0,100,"%");
this.hi.parent=this;this.hi.P(r.E.n,this.ff,this);this.gN.appendChild(this.hi._);this.Zr=new j6([12,40],0,100,"%");
this.Zr.parent=this;this.Zr.P(r.E.n,this.ff,this);this.gN.appendChild(this.Zr._);this.FC=new fT([5,4],!1,null,!0);
this.FC.P("click",this.aa1,this);this.gN.appendChild(this.FC._);M.appendChild(this.ZL);this.apz=new jH([13,0]);
M.appendChild(this.apz._);this.le=w.l("div","bordered padded noalign");M.appendChild(this.le);this.X2=new iR([12,44],[[12,45],[12,46],[12,47]]);
this.X2.P(r.E.n,this.ff,this);this.le.appendChild(this.X2._);this.f8=new gv(!0);this.f8.parent=this;
this.f8.P(r.E.n,this.ff,this);this.le.appendChild(this.f8._);this.$X=new j6([12,40],0,100,"%");this.$X.parent=this;
this.$X.P(r.E.n,this.ff,this);this.le.appendChild(this.$X._);this.q3=new fT([5,4],!1,null,!0);this.q3.P("click",this.aEP,this);
this.le.appendChild(this.q3._);var M=this.Qj;this._b=new j6("Roughness",0,100,"%");this._b.P(r.E.n,this.ff,this);
this._b.parent=this;M.appendChild(this._b._);M.appendChild(this.qz);this.yU=new fT([25,1,2],!1,null,!0);
this.yU.P("click",this.ff,this);M.appendChild(this.yU._);this.Ay=w.JH(this);this.P("closebtn",this.zW,this)}j1.prototype=new fa;
j1.prototype.zW=function(M){if(this.vu)this.In(this.o3);this.In=null;this.I9=!1};j1.prototype.T=function(){fa.prototype.T.call(this);
this.Ay.T();this.MG.T();this.ak2.T();this.apz.T();this.FC.T();this.q3.T();this.hi.T();this.Zr.T();this.X2.T();
this.$X.T();this.yU.T()};j1.prototype.SY=function(M,X){this.f=M;if(X==bN.M3)this.Q1()};j1.prototype.Mq=function(M,X){this.pR=t.b(X.NX);
this.o3=t.b(X.NX);this.A3=this.a2=null;this.In=X.J4;this.vu=!1;this.I9=X.Ej;this.Q1();this.Qg()};j1.prototype.ln=function(M){var X=this.pR;
this.In(X);this.close();this.In=null;this.I9=!1};j1.prototype.Ei=function(M){return M==hP.t3||M==hP.az};
j1.prototype.KH=function(M,X,J,q){if(q.M(hP.t3)||q.M(hP.az)){if(this.a2)this.aa1();if(this.A3)this.aEP()}};
j1.prototype.aa1=function(M){var X=this.pR.Trns.v;if(this.a2==null||X.length==1)return;X.splice(X.indexOf(this.a2),1);
this.a2=null;this.Q1();this.Qg()};j1.prototype.aEP=function(M){var X=this.pR.Clrs.v;if(this.A3==null||X.length==1)return;
X.splice(X.indexOf(this.A3),1);this.A3=null;this.Q1();this.Qg()};j1.prototype.Q1=function(){var M=this.kX,X=this.qt;
if(this.pR==null)return;var J=w.pv();M.width=Math.floor(410*J);M.height=Math.floor(70*J);w.kb(M,M.width,M.height);
M.style.marginTop="8px";this.Re=new gc(0,0,Math.floor(380*J),Math.floor(32*J));this.Re.x=Math.floor((M.width-this.Re.r)/2);
this.Re.y=Math.floor((M.height-this.Re.$)/2);var q=this.Re,W=q.r,T=q.$,_=q.x,m=q.y,d=new gc(0,0,W,T),A=X.getImageData(0,0,W,T),p=new Uint8Array(A.data.buffer);
t.qR(p,W,T,8);var a=t.j(W*T*4);t.NX.Bt(this.pR,a,d,[1/W,0,0,1/T],W/2,T/2,!1,0,this.f.pU,this.f.Yt);t.v.r$("norm",a,q,p,q,q,1);
X.clearRect(0,0,M.width,M.height);X.putImageData(A,_,m);var f=this.pR;if(f.Clrs){var s=f.Trns.v,j=f.Clrs.v,Y=t.NX.o9(f,this.f.pU,this.f.Yt),G=Math.round(6*w.pv()),Q=Math.round(14*w.pv()),Z=this.a2?this.a2.v:null,g=this.A3?this.A3.v:null;
for(var $=0;$<s.length;$++){var S=s[$].v,U=Math.round(255-255*S.Opct.v.val/100);if((S==Z||s[$-1]&&s[$-1].v==Z||$==this.qd)&&$!=0){X.fillStyle="#000000";
X.fillRect(_-3+W*(s[$-1].v.Lctn.v+(S.Lctn.v-s[$-1].v.Lctn.v)*S.Mdpn.v/100)/4096,m-6-2,6,6)}if(S==Z){X.fillStyle="#ffffff";
X.fillRect(_-G+W*(S.Lctn.v/4096)-2,m-2-Q-2,2*G+4,Q+4)}X.fillStyle="rgb("+U+","+U+","+U+")";X.fillRect(_-G+W*(S.Lctn.v/4096),m-2-Q,2*G,Q)}for(var $=0;
$<j.length;$++){var B=j[$].v,e=Y[0][$][0];if((B==g||j[$-1]&&j[$-1].v==g||$==this.Ao)&&$!=0){X.fillStyle="#000000";
X.fillRect(_-3+W*(j[$-1].v.Lctn.v+(B.Lctn.v-j[$-1].v.Lctn.v)*B.Mdpn.v/100)/4096,m+T+2,6,6)}if(B==g){X.fillStyle="#ffffff";
X.fillRect(_-G+W*(B.Lctn.v/4096)-2,m+T+2-2,2*G+4,Q+4)}X.fillStyle="rgb("+Math.round(e.z)+", "+Math.round(e.L)+","+Math.round(e.g)+")";
X.fillRect(_-G+W*(B.Lctn.v/4096),m+T+2,2*G,Q)}}if(this.I9){this.In(this.pR);this.vu=!0}};j1.prototype.Qg=function(){var M=this.pR,X=M.Clrs?0:1;
this.Xm.R(X);if(w.L1(this.AU))this.body.removeChild(this.AU);if(w.L1(this.Qj))this.body.removeChild(this.Qj);
(X==0?this.ZL:this.qz).appendChild(this.kX);if(X==0){this.body.appendChild(this.AU);this.MG.R(Math.round(100*M.Intr.v/4096));
var J=M.Trns.v,q=M.Clrs.v,W=this.a2!=null,T=this.qd!=-1;this.hi._3(W);this.Zr._3(W||T);this.FC._3(W);
if(W){w.F(this.gN,"");var _=this.a2.v;this.Zr.R(Math.round(100*_.Lctn.v/4096));this.hi.R(_.Opct.v.val)}if(T)this.Zr.R(J[this.qd].v.Mdpn.v);
var W=this.A3!=null,T=this.Ao!=-1;this.X2._3(W);this.f8._3(W);this.$X._3(W||T);this.q3._3(W);if(W){w.F(this.le,"");
var m=this.A3.v;this.$X.R(Math.round(100*m.Lctn.v/4096));var d=m.Type.v.Clry;this.X2.R(["FrgC","BckC","UsrS"].indexOf(d));
if(d=="FrgC")this.f8.rh(this.f.pU);if(d=="BckC")this.f8.rh(this.f.Yt);if(d=="UsrS")this.f8.R(m.Clr.v)}if(T)this.$X.R(q[this.Ao].v.Mdpn.v)}else{this.body.appendChild(this.Qj);
this._b.R(Math.round(100*M.Smth.v/4096))}this.body.appendChild(this.Ay._)};j1.prototype.ff=function(M){var X=this.pR,J=X.Clrs?0:1;
if(M.target==this.Xm){var q=J==0?JSON.parse(kf.rs.acj).v:fV.IH("grdm").Grad.v;this.pR=q;this.Qg();this.Q1();
return}if(J==0){X.Intr.v=Math.round(4096*this.MG.V()/100);var W=X.Trns.v,T=X.Clrs.v;if(this.a2!=null){var _=this.a2.v;
_.Lctn.v=Math.round(4096*(this.Zr.V()/100));_.Opct.v.val=this.hi.V()}if(this.A3!=null){var m=this.A3.v;
m.Lctn.v=Math.round(4096*(this.$X.V()/100));if(M.target==this.f8)this.X2.R(2);var d=this.X2.V();m.Type.v.Clry=["FrgC","BckC","UsrS"][d];
if(d==2)m.Clr={t:"Objc",v:this.f8.V()};else if(m.Clr)delete m.Clr}if(this.qd!=-1)W[this.qd].v.Mdpn.v=this.Zr.V();
if(this.Ao!=-1)T[this.Ao].v.Mdpn.v=this.$X.V()}else{X.Smth.v=Math.round(4096*this._b.V()/100);if(M.target==this.yU)X.RndS.v=Math.floor(Math.random()*4294967295)}this.Q1()};
j1.prototype.rO=function(M){var X=w.uP(M,this.kX),J=this.Re,q=(X.x*w.pv()-J.x)/J.r,W=(X.y*w.pv()-J.y)/J.$,T=this.pR.Trns.v,_=this.pR.Clrs.v,m=null,d=null,A=-1,p=-1;
if(W<1)for(var $=0;$<T.length;$++){var a=T[$].v;if(Math.abs(a.Lctn.v/4096-q)<.02)m=T[$];if($>0)if(Math.abs((T[$-1].v.Lctn.v+(a.Lctn.v-T[$-1].v.Lctn.v)*a.Mdpn.v/100)/4096-q)<.01)A=$}if(W>0)for(var $=0;
$<_.length;$++){var f=_[$].v;if(Math.abs(f.Lctn.v/4096-q)<.02)d=_[$];if($>0)if(Math.abs((_[$-1].v.Lctn.v+(f.Lctn.v-_[$-1].v.Lctn.v)*f.Mdpn.v/100)/4096-q)<.01)p=$}if(d==null&&m==null&&A==-1&&p==-1){if(W<0){var a={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
a.v.Lctn.v=Math.round(q*4096);T.push(a);T.sort(this.lp);m=a}if(W>1){var _=this.pR.Clrs.v,s=t.NX.o9(this.pR,this.f.pU,this.f.Yt),j=t.NX.KC(this.pR,s,q),f={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:t.NX.$J({z:j&255,L:j>>8&255,g:j>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
f.v.Lctn.v=Math.round(q*4096);_.push(f);_.sort(this.lp);d=f}}if(d!=null)p=-1;if(m!=null)A=-1;if(d!=null||m!=null||A>-1||p>-1){this.a2=m;
this.A3=d;this.qd=A;this.Ao=p;this.Qg();this.Q1();w.GY(window,this.Mj);w.ZA(window,this.TI)}};j1.prototype.Gd=function(M){var X=w.uP(M,this.kX),J=this.Re,q=(X.x*w.pv()-J.x)/J.r,W=(X.y*w.pv()-J.y)/J.$;
q=Math.max(0,Math.min(1,q));var T=this.pR.Trns.v,_=this.pR.Clrs.v;if(this.a2!=null){var m=this.a2.v;
m.Lctn.v=Math.round(4096*q);var d=T.indexOf(this.a2);if(d!=-1&&W<-1&&T.length>1)T.splice(d,1);if(d==-1&&W>-1)T.push(this.a2);
T.sort(this.lp)}if(this.A3!=null){var A=this.A3.v;A.Lctn.v=Math.round(4096*q);var p=_.indexOf(this.A3);
if(p!=-1&&W>2&&_.length>1)_.splice(p,1);if(p==-1&&W<2)_.push(this.A3);_.sort(this.lp)}if(this.qd>-1){var m=T[this.qd].v;
m.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(q*4096-T[this.qd-1].v.Lctn.v)/(m.Lctn.v-T[this.qd-1].v.Lctn.v))))}if(this.Ao>-1){var A=_[this.Ao].v;
A.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(q*4096-_[this.Ao-1].v.Lctn.v)/(A.Lctn.v-_[this.Ao-1].v.Lctn.v))))}if(this.a2!=null||this.A3!=null||this.qd>-1||this.Ao>-1){this.Qg();
this.Q1()}};j1.prototype._y=function(M){w.$E(window,this.Mj);w.uU(window,this.TI);if(Date.now()-this.WW<300){if(this.Ao!=-1||this.qd!=-1){var X=(this.Ao!=-1?this.pR.Clrs.v[this.Ao]:this.pR.Trns.v[this.qd]).v;
X.Mdpn.v=50;this.Qg();this.Q1()}else if(this.A3!=null)this.f8.xr()}this.WW=Date.now()};j1.prototype.lp=function(M,X){return M.v.Lctn.v-X.v.Lctn.v};
function hm(){fa.call(this,[11,5],"vgradienteditor");this.In=null;this.sU=new dz;this.sU.parent=this;
this.body.appendChild(this.sU._);this.Ay=w.JH(this,this.body)}hm.prototype=new fa;hm.prototype.Mq=function(M,X){this.In=X.J4;
this.sU.R(X.K)};hm.prototype.T=function(){fa.prototype.T.call(this);this.sU.T()};hm.prototype.ln=function(M){this.In(this.sU.V());
this.close()};function gl(M){fa.call(this,M=="isize"?[11,10]:[11,3],M);this.axL=M;this.jM=null;var X=w.l("div","form");
w.F(X,"width:20em; margin-bottom:1em; margin-top:-1em;");this.body.appendChild(X);var J=M=="csize";this.arY=new jH("Hi");
X.appendChild(this.arY._);w.vA(X);this.Rr=new b6(!0,!0,J,J,!0);if(J)this.Rr.a8D(!1);X.appendChild(this.Rr._);
this.nf=new hE([12,25,3]);this.nf.R(!0);this.nf.P(r.E.n,this.a8U,this);this.a6=new iR(null,[[12,14,2],[12,14,3],[12,14,4]]);
this.a6.R(1);this.VP=new ee([12,23,2],41);this.VP.R(4);if(M=="isize"){X.appendChild(this.nf._);X.appendChild(this.a6._)}else X.appendChild(this.VP._);
this.Ay=w.JH(this,this.body)}gl.prototype=new fa;gl.prototype.$f=function(M,X){return M!=null};gl.prototype.mG=function(){return!0};
gl.prototype.Ei=function(M){return this.axL=="isize"?!1:[hP.Qo,hP.sg,hP.Xf,hP.LB].indexOf(M)!=-1};gl.prototype.KH=function(M,X,J,q){if(q.M(hP.ej))this.ln();
this.VP.aql(q.CG())};gl.prototype.T=function(){fa.prototype.T.call(this);this.Rr.T();this.nf.T();this.a6.T();
this.VP.T();this.Ay.T()};gl.prototype.ln=function(M){var X=this.Rr.V(),J=X.x,q=X.y,W=new jb(r.E.pL,!0),T=this.Rr.Ek.V();
if(this.axL=="csize"){if(T){var _=this.Rr.SV,m=this.Rr.ue;J=m.x-_.x;q=m.y-_.y}W.data=o.VN.aD9(J,q,this.VP.V(),T)}else{var d=this.a6.V();
if(!this.nf.V())d=null;var A=this.Rr.acq(),p=this.jM;console.log(A);if(A==1)W.data=o.VN.ky(J/p.x,q/p.y,this.Rr.mv(),d,!0);
else W.data=o.VN.ky(J,q,this.Rr.mv(),d)}this.close();this.a(W)};gl.prototype.Mq=function(M,X){this.jM=new es(M.r,M.$);
this.Rr.R(this.jM,M.Qv);this.Rr.cb();this.arY.R(kd.get(this.Ut)+": "+(M.r*M.$/1e6).toFixed(2)+" MPx")};
gl.prototype.a8U=function(M){var X=this.nf.V(),J=this.Rr,q=this.a6;if(X)q.Ja();else q.bH();J.avt(X)};
function ei(){fa.call(this,"Import RAW","importraw");var M=w.l("div","flexrow"),X=w.l("div");w.F(X,"margin-bottom: 1em");
this.body.appendChild(M);this.body.appendChild(X);var J=w.l("div","form");w.F(J,"width:18em");M.appendChild(J);
var q=w.l("div","form");w.F(q,"width:15em");M.appendChild(q);this.dq=null;this.uD=null;this.EA=null;
this.uE=null;this.aD5=[];var W=[];for(var $=0;$<ei.m2.length;$++)W.push(ei.m2[$]+" Bits");var T=this.TT=[new b6(!0,null,null,!0),new j6([12,72],1,8),new hE("Last one is Transparency"),new i9([12,34],W),new i9("Byte Order",["12-34","34-12"]),new iR("Guesses",[])];
for(var $=0;$<T.length;$++){var _=T[$];_.parent=this;_.P(r.E.n,$==5?this.a4J:this.wQ,this);var m=$==0?J:$==5?X:q;
m.appendChild(_._)}this.kX=w.l("canvas");this.qt=this.kX.getContext("2d");this.body.appendChild(this.kX);
this.Ay=w.JH(this,this.body)}ei.prototype=new fa;ei.prototype.T=function(){fa.prototype.T.call(this);
var M=this.TT;this.Ay.T();for(var $=0;$<M.length;$++)M[$].T()};ei.prototype.ln=function(M){this.close();
var X=this.TT[0].V(),J=h1.DG(this.uD,[{data:this.EA,kq:new gc(0,0,X.x,X.y)}]);if(this.uE)J.OD=this.uE;
var q=new jb(r.E.C,!0);q.data={h:!0?r.m.f5:r.m.V8,AR:J};this.a(q)};ei.m2=[8,16];ei.prototype.Mq=function(M,X){this.dq=new Uint8Array(X.eb);
this.uD=X.iW;var J=this.dq.length,q=[1,3,4],W=0,T=0,_=1,m=1,d=this.aD5=[],A=Math.round(Math.sqrt(J)*2);
A=Math.max(A,4e3);for(var p=0;p<3;p++){for(var a=0;a<2;a++){var f=ei.m2[a],s=q[p],j=s*f,Y=Math.round(J*8/j);
if(Y!=J*8/j)continue;for(var G=0;G<=A;G++)for(var Q=0;Q<=A;Q++)if(G*Q==Y){var Z=0;if(G==Q)Z+=64;if(Math.round(G/100)==G/100&&Math.round(Q/100)==Q/100)Z+=32;
if(Math.round(G/10)==G/10&&Math.round(Q/10)==Q/10)Z+=16;if(Math.round(G/2)==G/2&&Math.round(Q/2)==Q/2)Z+=8;
d.push([G,Q,s,f,Z])}}}var g=function(e,P){if(P[4]!=e[4])return P[4]-e[4];var h=Math.max(e[0],e[1])/Math.min(e[0],e[1]),V=Math.max(P[0],P[1])/Math.min(P[0],P[1]);
if(h!=V)return h-V;return P[0]-e[0]};d.sort(g);var S=this.TT,U=[];for(var $=0;$<d.length;$++){var B=d[$];
U.push(B[0]+" x "+B[1]+", "+B[2]+"ch, "+B[3]+"-bit")}S[5].P$(U);S[5].R(0);this.a4J(null)};ei.prototype.a4J=function(M){var X=this.TT,J=this.aD5[this.TT[5].V()];
X[0].R(new es(J[0],J[1]),72);X[1].R(J[2]);X[3].R(ei.m2.indexOf(J[3]));this.wQ()};ei.prototype.wQ=function(M){var X=this.TT,J=X[0].V(),q=J.x,W=J.y,T=ei.m2[X[3].V()],_=this.dq;
if(T==16&&X[4].V()==1){_=_.slice(0);for(var $=0;$<_.length;$+=2){var m=_[$];_[$]=_[$+1];_[$+1]=m}}var d=this.EA=this.ss(_,q,W,X[1].V(),T,X[2].V()),A=this.kX,p=this.qt,a=[d,new gc(0,0,q,W)];
t.uW(a);for(var $=0;$<a.length;$+=2)if(a[$+1].$<300){d=a[$];q=a[$+1].r;W=a[$+1].$;break}A.width=q;A.height=W;
w.kb(A,q,W);var f=new ImageData(new Uint8ClampedArray(d.buffer),q,W);p.putImageData(f,0,0)};ei.prototype.ss=function(M,X,J,q,W,T){this.uE=null;
var _=[],m=X*J;for(var d=0;d<q;d++){var A=t.j(m);_.push(A);if(W==8)for(var $=0;$<m;$++)A[$]=M[$*q+d];
else if(W==16)for(var $=0;$<m;$++)A[$]=Math.round((M[($*q+d)*2]<<8|M[($*q+d)*2+1])*(255/65535))}var p=t.j(m*4);
t.Tb(p,4278190080);if(T){t.ix(_.pop(),p,3);q--}if(q==0){}else if(q==1)t.Qh(_[0],p);else{t.ix(_[0],p,0);
t.ix(_[1],p,1);if(q>2){t.ix(_[2],p,2);if(q>3){this.uE=[];for(var $=3;$<q;$++){var a=new K.$O;a.name="Alpha "+($-2);
a.S=new gc(0,0,X,J);a.N=_[$];this.uE.push(a)}}}}return p};function b2(M,X,J){bj.call(this);this._=w.l("div","");
this.TW=M;this.GS=null;this.sU=X==null?!1:X;this.Ng=null;this.JI=J;this.ag4=[];this.Ma=[];this.zc=[];
this.Wc=[];this.O3=0;this.GS=this.a2x(b2.Wc[M]);this.RH();this.kd=null;this.aAg;this.aH4}b2.prototype=new bj;
b2.prototype.H_=function(M,X,J,q,W){this.kd=W;this.aAg=t.b(this.Ng);if(this.GS.lagl)this.aH4=this.GS.lagl.V()[0]};
b2.prototype.T_=function(M,X,J,q,W){var T=this.kd,_=this.TW,m=this.aAg;if(T==null)return;var d=(W.x-T.x)/M.k.r7,A=(W.y-T.y)/M.k.r7;
if(_=="GrFl"){var p=t.b(m.Ofst.v);p.Hrzn.v.val+=d*.5;p.Vrtc.v.val+=A*.5;this.GS.Ofst.R(p,!0)}if(_=="patternFill"){var p=t.b(m.phase.v);
p.Hrzn.v+=d;p.Vrtc.v+=A;this.GS.phase.R(p,!0)}if(_=="DrSh"||_=="IrSh"||_=="ChFX"){var a=m.Dstn.v.val,f=this.aH4*Math.PI/180,s=-Math.cos(f)*a+d,j=Math.sin(f)*a+A;
this.GS.Dstn.R(Math.sqrt(s*s+j*j),!0);this.GS.lagl.R([Math.atan2(j,-s)*180/Math.PI],!0)}};b2.prototype.fw=function(M,X,J,q,W){this.kd=null};
b2.prototype.a7b=function(){for(var $=0;$<this.Wc.length;$++){w.tM(this.Wc[$],"selected");if(this.zc[$]instanceof hE)this.zc[$].R(!1)}};
b2.prototype.aE4=function(M){var X=this.aFP.bind(this);for(var $=0;$<this.zc.length;$++){var J=w.l("div","listitem");
this.Wc.push(J);if($>0)J.textContent="\u2003";J.appendChild(this.zc[$]._);if(kf.agM.indexOf(this.TW)!=-1){var q=new fT("+");
q.lH();q._.style.float="right";J.appendChild(q._);var W=new fT("\u2B0D");W.lH();W._.style.float="right";
W._.style["margin-right"]="2px";J.appendChild(W._)}J.addEventListener("click",X,!1);M.appendChild(J)}};
b2.ph=function(M,X){var J=X.getBoundingClientRect();return(M.clientY-J.top)/J.height};b2.prototype.aFP=function(M){var X=M.target.tagName.toLowerCase();
if(X=="input"){return}if(X=="button"){var J=new jb(r.E.H,!0),q=M.target.textContent=="+",W=q?0:b2.ph(M,M.target)<.5?-1:1;
if(q)J.data={h:"st_dupsingle",w:this.parent.data.w,WK:this.JI};else J.data={h:"st_movsingle",w:this.parent.data.w,WK:this.JI,asN:W};
J.J=o.vt;J.jN=!0;this.a(J);J=new jb("redrawall",!0);J.data={asN:W};this.a(J);return}w.xb(M);this.Ec();
this.O3=this.Wc.indexOf(M.currentTarget);this.a(new jb("showme"))};b2.prototype.Ec=function(){if(this.GS.enab&&this.GS.enab.V()==!1)this.V0({ko:"enab",K:!0})};
b2.prototype.afJ=function(){var M=this.Wc[this.O3];if(M)w.Z6(M,"selected");return this.Ma[this.O3]};
b2.prototype.a2x=function(M){var X={};for(var $=0;$<M.length;$++){var J=M[$],q=null;if(J=="----")q={_:w.l("hr")};
if(J=="\n")q={_:w.l("br")};if(J=="blOptions")q=new jH([14,10]);if(J=="brst")q=new ju([12,72],["R","G","B"]);
if(J=="knko")q=new iR("Knockout",[[13,1,0],"Shallow","Deep"]);if(J=="enab")q=new hE(kf.names[kf.order.indexOf(this.TW)]);
if(J=="lrMd"||J=="Md")q=new iR([12,19,0],ae.Ql,ae.T3);if(J=="Opct")q=this.sU?new j6([12,0],0,100,"%"):new kw([12,0],0,100,"%");
if(J=="iOpa")q=new kw([12,26],0,100,"%");if(J=="blIf")q=new cK;if(J=="ShdN")q=new kw([12,68],0,100,"%");
var W=this.TW=="St3D"&&J=="lagl";if(J=="lagl"||J=="Angl")q=new e8(W?"Light":[12,15],this.TW=="ebbl"||W);
if(J=="uglg")q=new hE([12,27]);if(J=="Dstn")q=new kw([12,28],0,200,"px");if(J=="Ckmt")q=new kw([12,29],0,100,"%");
if(J=="Srnk")q=new kw("Shrink",0,100,"%");if(J=="Drkn")q=new kw("Darken",0,100,"%");if(J=="blur")q=new kw([12,14,0],0,200,"px");
if(J=="TrnS"||J=="MpgS")q=new cv([12,21]);if(J=="Nose")q=new kw([12,30],0,100,"%");if(J=="layerConceals")q=new hE([12,31]);
if(J=="Cntn")q=new hE([12,25,4]);if(J=="AntA"||J=="antialiasGloss")q=new hE([12,25,1]);if(J=="GlwT")q=new iR([12,32],kf.Wy.names);
if(J=="glwS")q=new iR([12,70],kf.Wy.aGi);if(J=="Inpr")q=new kw([12,12],1,100,"%");if(J=="bvlS")q=new iR([12,22],kf.ry.style);
if(J=="bvlT")q=new iR([12,32],kf.ry.a9j);if(J=="bvlD")q=new iR(null,kf.ry.dir);if(J=="srgR")q=new kw([12,34],0,1e3,"%");
if(J=="Sftn")q=new kw([12,35],0,20,"px");if(J=="Lald")q=X.lagl;if(J=="hglM"||J=="sdwM")q=new iR([12,36],ae.Ql,ae.T3);
if(J=="hglC"||J=="sdwC")q=new gv;if(J=="hglO"||J=="sdwO")q=new kw([12,0],0,100,"%");if(J=="Invr"||J=="InvT")q=new hE([4,11]);
if(J=="overprint")q=new hE("Overprint");if(J=="Sz")q=new kw([12,14,0],1,200,"px");if(J=="Styl")q=new iR([12,40],kf.stroke.names);
if(J=="PntT")q=new iR([12,66],kf.stroke.ahl);if(J=="Clr")q=new gv(!0);if(J=="Grad"){q=new a0(!0,this.sU?null:[12,37],!0);
q.R(JSON.parse(kf.rs.ahL).v)}if(J=="Rvrs")q=new hE([12,23,0]);if(J=="Dthr")q=new hE([12,23,3]);if(J=="Type")q=new iR(this.sU?null:[12,22],kf.NX.names.slice(0,this.TW=="FrFX"?6:5));
if(J=="Ptrn")q=new hj([12,62]);if(J=="Scl")q=new kw([12,38],5,500,"%",0,!0);if(J=="Algn")q=new hE([12,39]);
if(J=="Ofst")q=new g0(!0);if(J=="phase")q=new g0(!1);if(J=="useShape")q=new hE([12,21]);if(J=="useTexture")q=new hE([12,67]);
if(J=="textureDepth")q=new kw([12,34],-300,300,"%");var T=J=="----"||J=="\n"?J+$:J;if(q!=null)X[T]=q}return X};
b2.prototype.azk=function(M){var X=this.Ma[this.O3];for(var $=0;$<M.length;$++){var J=this.GS[M[$]];
if(J&&X.contains(J._))X.removeChild(J._)}};b2.prototype.ajm=function(M){var X=this.Ma[this.O3];for(var $=0;
$<M.length;$++){var J=this.GS[M[$]];if(J&&!X.contains(J._))X.appendChild(J._)}};b2.prototype.SY=function(M,X){if(this.GS==null)return;
var J=X==bN.Ru;if(this.GS.Grad){this.GS.Grad.eI(M.pU,M.Yt);if(J||X==bN.M3||X==bN.e2)this.GS.Grad.b5(M.km)}if(this.GS.Ptrn){if(J||X==bN.sw)this.GS.Ptrn.b5(M.i3)}if(this.GS.TrnS){if(J||X==bN.xj)this.GS.TrnS.b5(M.i9)}if(this.GS.MpgS){if(J||X==bN.xj)this.GS.MpgS.b5(M.i9)}};
b2.prototype.T=function(){for(var $=0;$<this.ag4.length;$++)this.ag4[$].T();for(var M in this.GS)if(this.GS[M]instanceof bj)this.GS[M].T()};
b2.prototype.RH=function(){for(var M in this.GS){var X=this.GS[M];X.parent=this;if(X instanceof bj)X.P(r.E.n,this.aoU,this);
if(this.Ma.length==0||M=="useShape"||M=="useTexture"){var J=new jH(X.aab()),q=w.l("div","bordered padded");
if(this.sU==!1){q.appendChild(J._);q.appendChild(w.l("hr",""))}this.ag4.push(J);this.Ma.push(q);this.zc.push(X)}else this.Ma[this.Ma.length-1].appendChild(X._)}};
b2.prototype.update=function(M,X){if(this.GS==null)return;this.Ng=t.b(X);for(var J in X){if("Opct iOpa hglO sdwO Dstn Ckmt Srnk Drkn blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(J)!=-1)this.GS[J].R(X[J].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn useShape useTexture Ofst phase blIf".split(" ").indexOf(J)!=-1){this.GS[J].R(X[J].v,M)}if(["Md","hglM","sdwM"].indexOf(J)!=-1)this.GS[J].R(ae.TW.indexOf(X[J].v.BlnM));
if(J=="lrMd"){var q=(X.isFolder?[[15,10,27]]:[]).concat(ae.Ql),W=(X.isFolder?[1]:[]).concat(ae.T3);this.GS[J].P$(q,W);
this.GS[J].R(X[J].v)}if(J=="Angl")this.GS[J].R([X[J].v.val]);if(J=="lagl"){var T=X.uglg&&X.uglg.v?M.Z$():X.lagl.v.val;
this.GS[J].R([T])}if(J=="Lald"){var T=X.uglg&&X.uglg.v?M.Xy():X.Lald.v.val;this.GS[J].R([null,T])}if(J=="Type")this.GS[J].R(kf.NX.types.indexOf(X.Type.v.GrdT));
if(J=="Styl")this.GS[J].R(kf.stroke.types.indexOf(X.Styl.v.FStl));if(J=="PntT"){var _=kf.stroke.Wg.indexOf(X.PntT.v.FrFl);
this.GS[J].R(_);if(!this.sU){this.azk(kf.dB.concat(kf.iz.concat(kf.T7)));this.ajm([kf.dB,kf.iz,kf.T7][_])}}if(J=="GlwT")this.GS[J].R(kf.Wy.types.indexOf(X.GlwT.v.BETE));
if(J=="glwS")this.GS[J].R(kf.Wy.ass.indexOf(X.glwS.v.IGSr));if(J=="bvlS")this.GS[J].R(kf.ry.types.indexOf(X.bvlS.v.BESl));
if(J=="bvlT")this.GS[J].R(kf.ry.a5H.indexOf(X.bvlT.v.bvlT));if(J=="bvlD")this.GS[J].R(["In","Out"].indexOf(X.bvlD.v.BESs))}};
b2.prototype.aoU=function(M){for(var X in this.GS){if(this.GS[X]!=M.target)continue;var J=null,q=!1;
if("Opct iOpa Srnk Drkn hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(X)!=-1)J={type:"#Prc",val:M.target.V()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(X)!=-1)J={type:"#Pxl",val:M.target.V()};if(["Angl","lagl"].indexOf(X)!=-1)J={type:"#Ang",val:M.target.V()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(X)!=-1)J=M.target.V();
if(["Md","hglM","sdwM"].indexOf(X)!=-1)J={BlnM:ae.TW[M.target.V()]};if(X=="uglg"){J=M.target.V();q=!0}if(X=="PntT"){J={FrFl:kf.stroke.Wg[M.target.V()]};
q=!0}if(X=="Lald")J={type:"#Ang",val:M.target.V()[1]};if(X=="Type")J={GrdT:kf.NX.types[M.target.V()]};
if(X=="Styl")J={FStl:kf.stroke.types[M.target.V()]};if(X=="GlwT")J={BETE:kf.Wy.types[M.target.V()]};
if(X=="glwS")J={IGSr:kf.Wy.ass[M.target.V()]};if(X=="bvlS")J={BESl:kf.ry.types[M.target.V()]};if(X=="bvlT")J={bvlT:kf.ry.a5H[M.target.V()]};
if(X=="bvlD")J={BESs:["In","Out"][M.target.V()]};this.V0({ko:X,K:J});if(q){if(this.sU)this.update(null,this.Ng);
else{var W=this.parent,T=W.AR,_=this.JI,m=T.U[W.data.w].add.lmfx[kf.an[_[0]]].v[_[1]].v;this.update(T,m)}}}};
b2.prototype.V0=function(M){if(this.Ng&&this.Ng[M.ko])this.Ng[M.ko].v=M.K;if(this.sU){this.a(new jb(r.E.n))}else{M.h="changeprop";
M.w=this.parent.data.w;M.gO=this.JI;var X=new jb(r.E.H,!0);X.data=M;X.J=o.vt;X.jN=!0;this.a(X);this.a(new jb("afterchange",!0))}};
b2.prototype.V=function(){return t.b(this.Ng)};b2.Wc={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals Cntn".split(" "),St3D:"enab Md Clr Opct Angl Dstn Srnk ---- lagl Lald uglg Drkn".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(kf.dB),GrFl:["enab","Md","Opct"].concat(kf.iz),patternFill:["enab","Md","Opct"].concat(kf.T7),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","overprint","\n","PntT","\n"].concat(kf.dB.concat(kf.iz.concat(kf.T7)))};
function hf(){fa.call(this,[11,6],"layerstyle");this.amt=-1;this.data={};this.AR=null;this.f=null;this.CM=[];
this.fR=[];w.Z6(this.body,"flexrow");this.fl=w.l("div","bordered");w.F(this.fl,"min-width:13em;");this.body.appendChild(this.fl);
this.zv=w.l("div","");w.F(this.zv,"width:25em; padding-left: 1em;");this.body.appendChild(this.zv);this.rZ=w.l("div","form");
w.F(this.rZ,"padding-left: 1em; width:7em;");this.body.appendChild(this.rZ);this.Ay=w.JH(this,this.rZ);
this.aic=new fT([12,87],!0,null,!0);this.aic.P("click",this.aqw,this);this.rZ.appendChild(this.aic._);
this.w_=new kh;this.w_.parent=this;this.w_.P(r.E.n,this.a4N,this);this.rZ.appendChild(this.w_._);this.P("closebtn",this.zW,this);
this.P("redrawall",this.aB6,this)}hf.prototype=new fa;hf.prototype.mG=function(){return!0};hf.prototype.Qn=function(){return!0};
hf.prototype.H_=function(M,X,J,q,W){var T=this.bT();if(T)T.H_(M,X,J,q,W)};hf.prototype.T_=function(M,X,J,q,W){var T=this.bT();
if(T)T.T_(M,X,J,q,W)};hf.prototype.fw=function(M,X,J,q,W){var T=this.bT();if(T)T.fw(M,X,J,q,W)};hf.prototype.bT=function(M){if(M==null)M=this.data.index;
return M==null?null:M==0?this.CM[0]:this.fR[M[0]][M[1]]};hf.prototype.a4N=function(M){var X=this.w_.V();
this.V0({h:"setstl",K:X.$m});this.aB6(null)};hf.prototype.aqw=function(M){var X=this.AR,J=this.data.w;
if(J==null)J=X.O[0];var q=this.AR.U[J],W=hA.ab4(q),T=new jb(r.E.C,!0);T.data={h:r.m.OA,jo:"add",iw:bN.pA,jH:[t.b(W)]};
this.a(T)};hf.prototype.aug=function(M){this.data.index=M.currentTarget.JI;this.AN(M.currentTarget.JI)};
hf.prototype.aB6=function(M){this.Mq(this.AR,this.data)};hf.prototype.AN=function(M,X){w.p9(this.zv);
for(var $=0;$<this.CM.length;$++)this.CM[$].a7b();var J=this.bT(M);this.zv.appendChild(J.afJ());if(X)J.Ec();
var q=this.AR;if(q){var W=q.U[this.data.w];this.CM[0].update(q,o.wq.EK(q,W));var T=W.add.lmfx;if(T==null)return;
for(var $=0;$<kf.order.length;$++){var _=T[kf.an[$]].v;for(var m=0;m<_.length;m++)this.fR[$][m].update(q,_[m].v)}}if(X)J.Ec()};
hf.prototype.T=function(){fa.prototype.T.call(this);this.aic.T();this.w_.T();this.Ay.T();for(var $=0;
$<this.CM.length;$++)this.CM[$].T()};hf.prototype.Mq=function(M,X){var J=X.w==null;this.data.w=X.w;this.data.index=X.index;
X=this.data;this.AR=M;if(J)X.w=M.O.length==0?M.U.length-1:M.O[0];w.p9(this.fl);var q=M.U[X.w].add.lmfx;
this.X8();this.CM=[new b2("bops",!1,0)];this.fR=[];for(var $=0;$<kf.order.length;$++){this.fR.push([]);
var W=q==null?[]:q[kf.an[$]].v;for(var T=0;T<W.length;T++){var _=new b2(kf.order[$],!1,[$,T]);this.CM.push(_);
this.fR[$].push(_)}if(W.length==0){var _=new b2(kf.order[$],!1,[$,0]);this.CM.push(_);this.fR[$].push(_)}}this.T();
this.aoF(this.f,bN.Ru);for(var $=0;$<this.CM.length;$++){this.CM[$].parent=this;this.CM[$].aE4(this.fl);
this.CM[$].P("showme",this.aug,this)}if(X.index==null||X.index==0||!J&&q[kf.an[X.index[0]]].v.length==0){this.AN(0)}else this.AN(X.index,J);
this.P("afterchange",this.X8,this)};hf.prototype.X8=function(M){var X=this.AR,J=this.data.w;if(J==null)J=X.O[0];
var q=this.AR.U[J],W=hA.ab4(q);this.w_.R(W,X.add.Patt?X.add.Patt:[],X.Z$(),X.Xy())};hf.prototype.SY=function(M,X){this.f=M;
this.aoF(M,X);if(X==bN.pA||X==bN.Ru){this.w_.b5([M.bV,M.i3])}if(X==bN.gx){}};hf.prototype.aoF=function(M,X){for(var $=0;
$<this.CM.length;$++)this.CM[$].SY(M,X)};hf.prototype.zW=function(M){this.V0({h:"cancel"})};hf.prototype.ln=function(M){this.V0({h:"confirm"});
this.close()};hf.prototype.V0=function(M){M.w=this.data.w;var X=new jb(r.E.H,!0);X.data=M;X.J=o.vt;X.jN=!0;
this.a(X);this.X8()};hf.at_=function(){var M=function(X){if(X==null||X.O.length==0)return{i:!1};var J=X.U[X.O[0]];
return{i:J.add.lmfx!=null}};return{name:[11,6],ns:!0,sub:[{name:[5,1],i:M},{name:[5,2]},{name:[2,2],i:M}]}};
hf.a92=function(){return{sub:[{A:r.E.H,J:o.vt,p:{h:"st_copy"}},{A:r.E.H,J:o.vt,p:{h:"st_paste"}},{A:r.E.H,J:o.vt,p:{h:"st_clear"}}]}};
hf.dY=function(M){var X=[{name:[14,10],ns:!0}];for(var $=0;$<kf.names.length;$++)X.push({name:kf.names[$]});
if(M){X[X.length-1].ns=!0;X.push(hf.at_());X.push({name:[6,30,1],i:function(J){return{i:J!=null&&J.O.length!=0&&J.U[J.O[0]].rm()}}});
X.push({name:["VAR0 VAR1",[12,49],[9,1]],i:function(J){return{i:J!=null&&J.O.length!=0&&J.U[J.O[0]].add.lmfx!=null}}})}return X};
hf.xe=function(M){var X=[{A:r.E.C,p:{h:r.m.SQ,bf:"layerstyle"}}];for(var $=0;$<kf.names.length;$++)X.push({A:r.E.C,p:{h:r.m.SQ,bf:"layerstyle",index:[$,0]}});
if(M){X.push(hf.a92());X.push({A:r.E.C,p:{h:r.m.SQ,bf:"scaleeffects",vc:100,N5:{A:r.E.H,J:o.vt,p:{h:"scaleeffects"}}}});
var J={classID:"Mk",null:k$.kh("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
X.push({A:r.E.pL,p:{hC:"make",Qd:J}})}return X};hf.aez=function(M){var X=[];if(M)X.push({name:[6,48,0,0],co:!0},{name:[6,48,0,1],co:!0},{name:[6,48,0,2],co:!0,ns:!0});
for(var J in ia.names)X.push({name:ia.names[J],ns:ia.ae3.indexOf(J)!=-1,co:dw[J]!=null});return X};hf._A=function(M){var X=[];
if(M){X.push({A:r.E.H,J:o.Av,p:{h:"newfill",Dv:0}});for(var $=1;$<3;$++)X.push({A:r.E.pL,p:o.QX.Zc($)})}for(var J in ia.names){var q=fV.IH(J);
if(q==null)q={};for(var W in ia.R6)if(ia.R6[W]==J)q.classID=W;var T={hC:"make",Qd:{classID:"Mk",null:k$.kh("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:q}}}}};
X.push({A:r.E.pL,p:T})}return X};function hw(){fa.call(this,"Merge Channels","mergechannels");this.td=null;
var M=w.l("div","form");this.body.appendChild(M);this.TT=[];for(var $=0;$<3;$++){var X=new iR(ia.vF[$],[]);
this.TT.push(X);M.appendChild(X._);w.vA(M)}this.Ay=w.JH(this,M)}hw.prototype=new fa;hw.prototype.T=function(){fa.prototype.T.call(this);
this.Ay.T();for(var $=0;$<3;$++)this.TT[$].T()};hw.prototype.Mq=function(M,X,J,q){this.td=J;var W=[];
for(var $=0;$<J.length;$++)W.push(J[$].name);for(var $=0;$<3;$++){var T=this.TT[$];T.P$(W);T.R(Math.min($,J.length-1))}};
hw.prototype.ln=function(M){var X=this.td,J=X[0],q=new jb(r.E.pL,!0);q.data=dD.D3(J.r,J.$,J.Qv,"Merged Document","Wht",!1);
this.a(q);var W=[];for(var $=0;$<3;$++)W.push(X[this.TT[$].V()].m7());var J=X[X.length-1],T=J.U[0],_=T.buffer;
for(var $=0;$<_.length;$+=4){_[$]=W[0][$];_[$+1]=W[1][$];_[$+2]=W[2][$]}T.vV();J.vV();this.close()};
function jI(){fa.call(this,[1,10],"script");var M=w.l("div","form");w.F(M,"width:44em");this.body.appendChild(M);
this.f=null;this.sC=[];this.pw=[];this.acc;var X=this.lG=new fT([1,2],!1,null,!0);X.P("click",this.v9,this);
M.appendChild(X._);var J=new fT("JS Reference",!1,null,!0);J.P("click",this.ag1,this);M.appendChild(J._);
M.appendChild(new jH("Demos:")._);this.au7=[];var q=jI.eD;for(var $=0;$<q.length;$++){var W=new fT(q[$].f7,!1,null,!0);
this.au7.push(W);M.appendChild(W._);W.P("click",this.ac6,this)}this.z9=w.l("textarea");w.IJ(this.z9);
this.z9.setAttribute("rows",16);w.F(this.z9,"display:block;tab-size:4; font-family:monospace;width:100%;");
M.appendChild(this.z9);var T=new fT("Run",!0,null,!0);T.P("click",this.ln,this);M.appendChild(T._);this.FL=w.l("div");
M.appendChild(this.FL)}jI.prototype=new fa;jI.prototype.T=function(){this.lG.T()};jI.prototype.v9=function(){var M=this.acc;
if(M==null)M="script.jsx";var X=new jb(r.E.C,!0);X.data={h:r.m.SQ,bf:"namewindow",vc:M.slice(0,M.length-4),nT:this.ax9.bind(this)};
this.a(X)};jI.prototype.ax9=function(M){var X=this.z9.value,J=H.y4(X),q=new jb(r.E.C,!0);q.data={h:r.m.Gz,eb:J.buffer,HH:M+".jsx",au6:!0};
this.a(q)};jI.prototype.a1o=function(M){var $=this.sC.indexOf(M.target),X=this.acc=this.pw[$],J=this.f.OB.If[X],q=new Uint8Array(J),W=H.Og(q,0,q.length);
this.z9.value=W};jI.prototype.Mq=function(M,X,J){this.z9.value=jI.eD[0].ud;this.azR()};jI.prototype.azR=function(){var M=this.f.OB,X=this.FL;
w.p9(X);this.sC=[];this.pw=[];X.textContent="Saved scripts: ";for(var J in M.If){if(J.endsWith(".jsx")){var q=new fT(J,!1,null,!0);
this.sC.push(q);this.pw.push(J);q.P("click",this.a1o,this);X.appendChild(q._)}}};jI.prototype.SY=function(M,X){this.f=M;
if(X==bN.zZ)this.azR()};jI.prototype.ag1=function(M){var X=new jb(r.E.C,!0);X.data={h:r.m.Na,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.a(X)};jI.prototype.ln=function(M){var X=this.z9.value,J=this.f.OB.If;X=jI.ah8(X,J);var q=new jb(r.E.C,!0);
q.data={h:r.m._i,lB:X};this.a(q)};jI.ah8=function(M,X){var J=M.split("\n");for(var $=0;$<J.length;$++){var q=J[$].trim();
if(q.startsWith("#include")){var W=q.slice(q.indexOf("\"")+1,q.lastIndexOf("\"")),T=X[W];if(T==null)alert("\""+W+"\" not found in the Local Storage");
J[$]=jI.ah8(H.Og(new Uint8Array(T)),X)}}return J.join("\n")};jI.prototype.ac6=function(M){var X=this.au7.indexOf(M.currentTarget);
this.z9.value=jI.eD[X].ud};jI.eD=[{f7:"Hello",ud:"\nalert(\"Hello Photopea!\");\n"},{f7:"Process Layers",ud:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{f7:"Clone Layers",ud:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function aA(){fa.call(this,[11,7],"newproject");this.data=null;this.td=null;this.T5=0;var M=w.l("div","flexrow");
this.x0=M;this.body.appendChild(M);var X=w.l("div","form");this.Vn=X;M.appendChild(X);this.UJ=new ja([12,48],null,10);
X.appendChild(this.UJ._);w.vA(X);this.Rr=new b6(!0,null,null,null,!0);this.Rr.R(new es(1280,720),72);
if(gj==1){this.Rr.R(new es(8.3*300,11.7*300),300);this.Rr.vW(4)}this.Rr.avt(!0,!0);this.Rr.P(r.E.n,this.CD,this);
X.appendChild(this.Rr._);this.X3=new bK;this.X3.parent=this;if(gj==0)X.appendChild(this.X3._);this.y1=new fT("\u02C5",null,[0,14],!0);
this.y1.P("click",this.tS,this);if(gj==0)X.appendChild(this.y1._);var J=this.Cw=w.l("span");X.appendChild(J);
J.style.display="none";this.Dz=new iR([13,6],dD.Uu);J.appendChild(this.Dz._);this.wE=new iR(null,["8 bit","16 bit","32 bit"]);
if(iW)J.appendChild(this.wE._);this.asR=new hE([1,16,1]);J.appendChild(this.asR._);this.Ay=new fT([12,49],!0,null,!0);
this.Ay.P("click",this.ln,this);X.appendChild(this.Ay._);var q=aA.dq,W=[];for(var $=0;$<q.length;$++)W.push(q[$].name);
this.LL=new i9(null,W);this.LL.P(r.E.n,this.aGx,this);X.appendChild(this.LL._);this.LL._.style["margin-top"]="1em";
this.hH=new gz(!0);this.hH.P(r.E.n,this.arE,this);X.appendChild(this.hH._);this.aGx();this.oU=new k7;
this.oU.parent=this;w.F(this.oU._,"margin-left:1em");this.oU.P("tempready",this.adb,this)}aA.prototype=new fa;
aA.prototype.tS=function(M){var X=this.Cw,J=X.style.display!="none";X.style.display=J?"none":"";this.y1.Hr(J?"\u02C5":"\u02C4");
this.uL(this.a3,this.oz)};aA.prototype.SY=function(M,X){this.oU.SY(M)};aA.prototype.mb=function(M,X){return new es(Math.max(0,Math.min(70,(M-690)/2)),M>X?Math.max(0,Math.min(50,(X-400)/2)):0)};
aA.prototype.uL=function(M,X){if(this.a3==M&&this.oz==X)return;this.a3=M;this.oz=X;w.F(this.Vn,"width:"+Math.min(M-24,338)+"px");
this.hH._.style.height=X-248-(this.Cw.style.display=="none"?0:28)+(gj==0?0:28)+"px";var J=this.oU._,q=J.parentNode;
if(M<500){if(q!=null)this.x0.removeChild(J)}else{if(q==null)this.x0.appendChild(J);this.oU.uL(M-378,X-28)}};
aA.prototype.CD=function(){this.oU.R(this.Rr.V())};aA.prototype.arE=function(M){var X=this.hH.V()[0],J=aA.dq[this.LL.V()].en[X],q=J[4];
if(q==0)q=72;var W=J[1],T=J[2],_=["px","%","mm","in"].indexOf(J[3]),m=[1,1,25.4/q,1/q][_];W/=m;T/=m;
this.Rr.R(new es(Math.round(W),Math.round(T)),q);this.Rr.vW(_);this.CD();if(Date.now()-this.T5<300)this.ln();
this.T5=Date.now()};aA.prototype.aGx=function(M){var X=aA.dq[this.LL.V()].en,J=[],q=[],W=Math.round(106*w.pv()),T=Math.round(106*w.pv()),_=0;
for(var $=0;$<X.length;$++)_=Math.max(_,X[$][1],X[$][2]);for(var $=0;$<X.length;$++){var m=X[$],d=m[1]+" x "+m[2]+" "+m[3];
if(m[3]=="in")d=(m[1]*25.4).toFixed(0)+" x "+(m[2]*25.4).toFixed(0)+" mm";if(m[3]=="mm")d=(m[1]/25.4).toFixed(1)+" x "+(m[2]/25.4).toFixed(1)+" in";
if(m[4])d=d+" @ "+m[4]+" ppi";q.push(d);J.push(aA.aw(m,W,T,_))}this.hH.hS(J,q,W,T)};aA.aw=function(M,X,J,q){var W=t.mt(X,J),T=Math.round(X/8),_=Math.floor(11*w.pv()),m=M[1],d=M[2];
W.fillStyle="#000000";W.font=Math.round(_*.9)+"px \"Open Sans\", Sans-Serif";var A=m+" x "+d+" "+M[3],p=W.measureText(A);
W.fillText(A,Math.round((X-p.width)/2),J-Math.round(T/2));if(M[0]!=null){W.font="bold "+_+"px \"Open Sans\", Sans-Serif";
var A=M[0],p=W.measureText(A);W.fillText(A,Math.round((X-p.width)/2),J-Math.round(T/2)-Math.round(_*1.3))}var a=J-Math.round(2.5*_),f=Math.min((X-T)/m,(a-T)/d);
f*=.5+.5*(Math.max(m,d)/q);var s=(X-m*f)/2,j=(a-d*f)/2;W.strokeRect(Math.round(s)+.5,Math.round(j)+.5,Math.round(m*f),Math.round(d*f));
var Y=W.getImageData(0,0,X,J).data;return h1.pI(Y.buffer,X,J,null,null,!0)};aA.prototype.T=function(){fa.prototype.T.call(this);
this.Rr.T();this.UJ.T();this.X3.T();this.Ay.T();this.UJ.R(kd.get([11,7]));this.LL.T();this.asR.T();this.y1.T();
this.oU.T()};aA.prototype.ln=function(M){var X=this.Rr.V(),J=X.x,q=X.y;this.close();var W=this.X3.V(),T=dD.uy[this.Dz.V()],_=new jb(r.E.pL,!0);
_.data=dD.D3(J,q,this.Rr.mv(),this.UJ.V(),["Wht","Blck","Trns","Clr"][W[0]],this.asR.V(),W[1],T,8<<this.wE.V());
this.a(_);this.amX()};aA.prototype.adb=function(M){var X=M.data.AR;X.Qv=this.Rr.mv();var J=new jb(r.E.C,!0);
J.data={h:r.m.f5,AR:X};this.a(J);this.close();this.amX()};aA.prototype.amX=function(){var M=this.td[this.td.length-1],X=this.data.aoE;
if(X)ir.Qi(function(){var J=new XMLHttpRequest,q="https://www.googleapis.com/drive/v3/files?"+ir.aJd();
J.open("POST",q,!0);J.setRequestHeader("Content-Type","application/json");J.addEventListener("load",function(W){var T=JSON.parse(W.target.response);
M.iE={file:T,yJ:"psd"};alert(M.name+" created in Google Drive")});J.send(JSON.stringify({name:M.name,aI0:[X]}))})};
aA.prototype.Mq=function(M,X,J,q){this.td=J;if(M!=null&&M.c!=null){var W=new gc(0,0,M.r,M.$).Lg(M.c.S);
this.Rr.R(new es(W.r,W.$))}this.data=X;this.CD();if(w.oj())gb.adJ(this.r5.bind(this))};aA.prototype.r5=function(M){if(M=="granted")gb.wm(this,this.gR.bind(this))};
aA.prototype.gR=function(M,X){this.Rr.R(new es(X.r,X.$))};aA.dq=[{name:"Social",en:[["FB Page Cover",1640,664,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Insta Portrait",1080,1350,"px",0],["Youtube Thumbnail",1280,720,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],en:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],en:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],en:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],en:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],en:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2ᴺ",en:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function kx(M,X,J){fa.call(this,X,"sel_"+M);this.h=M;var q=w.l("div","form");this.body.appendChild(q);
this.UJ=new j6(X,0,255,null,0,!1,!0);q.appendChild(this.UJ._);this.UJ.R(1);this.UJ.P(r.E.n,this.EQ,this);
var W=w.l("span");W.textContent=J;q.appendChild(W);w.vA(q);this.avu=new hE("Apply at canvas bounds");
if(M!="border")q.appendChild(this.avu._);this.Ay=w.JH(this,q);this.P("closebtn",this.Lj,this)}kx.prototype=new fa;
kx.prototype.$f=function(M,X){if(M==null)return;if(M.c==null)alert("No selection!");return M.c!=null};
kx.prototype.Lj=function(){var M=new jb(r.E.H,!0);M.J=o.xH;M.data={h:"h_undoredo"};this.a(M)};kx.prototype.EQ=function(M,X,J){if(X==null)this.Lj();
var q=new jb(r.E.pL,!0);q.data=o.Gp.Ic(this.h,this.UJ.V(),this.avu.V());q.jN=!0;if(J!=!0)q.data.aki=!0;
this.a(q)};kx.prototype.ln=function(M){this.EQ(null,null,!0);this.close()};kx.prototype.T=function(){fa.prototype.T.call(this);
this.Ay.T();if(this.UJ)this.UJ.T()};kx.prototype.Mq=function(M,X){this.UJ.cb();this.EQ(null,!0)};function cF(M,X,J,q,W,T){fa.call(this,J,X);
this.awF=T;this.I9=W;this.dq=null;this.Vn=w.l("div","form");this.body.appendChild(this.Vn);this.aA3=w.l("div");
this.Vn.appendChild(this.aA3);var _=500;if(q){var m=q.split(",");q=m[0];if(m[1])_=parseFloat(m[1])}this.UJ=M==0?new ja(J,null,10):M==1?new kw(J,0,_,q,1):new ja(J,null,24,5);
this.UJ.P(r.E.n,this.EQ,this);this.Vn.appendChild(this.UJ._);this.Ay=w.JH(this,this.Vn);this.P("closebtn",this.zW,this)}cF.prototype=new fa;
cF.prototype.mb=function(M,X){return new es(Math.max(0,Math.min(150,(M-250)/2)),Math.max(0,Math.min(150,(X-120)/2)))};
cF.prototype.mG=function(){return this.awF};cF.prototype.EQ=function(M){var X=this.UJ.V();if(this.I9)this.Fz(X)};
cF.prototype.zW=function(M){if(this.I9)this.Fz("cancel")};cF.prototype.ln=function(M){if(this.I9)this.Fz("confirm");
else this.Fz(this.UJ.V());this.close()};cF.prototype.Fz=function(M){if(this.dq.nT)this.dq.nT(M);else if(this.dq.N5){var X=this.dq.N5,J=new jb(X.A,!0);
J.J=X.J;J.data=X.p;J.data.K=M;J.jN=!0;this.a(J)}};cF.prototype.T=function(){fa.prototype.T.call(this);
this.Ay.T();if(this.UJ)this.UJ.T()};cF.prototype.Mq=function(M,X){this.dq=X;this.UJ.R(X.vc);this.UJ.cb();
this.aA3.innerHTML=X.aC5?X.aC5:"";this.EQ(null)};function iB(){fa.call(this,[1,5],"open_from_url");this.oB=null;
var M=w.l("div","form");this.body.appendChild(M);this.a8C=new ja("URL",null,22);M.appendChild(this.a8C._);
w.vA(M);this.aqM=new i9([21,0],[[21,2],[21,1]]);M.appendChild(this.aqM._);this.Ay=w.JH(this,M)}iB.prototype=new fa;
iB.prototype.T=function(){fa.prototype.T.call(this);this.Ay.T();this.aqM.T()};iB.prototype.Mq=function(M,X,J){this.a8C.cb();
this.oB=null;if(M&&J.indexOf(M)!=-1)this.oB=J.indexOf(M)};iB.prototype.ln=function(M){var X=new jb(r.E.C,!0),J=this.a8C.V();
X.data={h:r.m.y_,iw:{url:J,G3:!0,oB:this.aqM.V()==1?this.oB:null}};this.a(X);this.close()};function ev(){fa.call(this,[12,79],"preferences");
this.f=null;var M=w.l("div","form");this.body.appendChild(M);this.Wc=[new hE([8,2]),new gv,new gv,new hE([8,4]),new gv,new iR([12,80,3],[[12,93,3],[12,80,4]]),new kw([12,80,5],.02,100,null,2),new iR(null,t.gk.vZ),new iR([12,80,6],t.gk.vZ),new hE("Zoom with Scroll Wheel"),new hE("Glass Menus"),new kw("Cursor Offset",0,200),new ja("Dezgo API Key")];
for(var $=0;$<this.Wc.length;$++){var X=this.Wc[$];X.parent=this;X.P(r.E.n,this.K_,this);if($==2){var J=new jH("Local guides:");
M.appendChild(J._)}M.appendChild(X._);if($!=0&&$!=1&&$!=3&&$!=4&&$!=6)w.vA(M);if($==8)w.du(M)}}ev.prototype=new fa;
ev.prototype.T=function(){fa.prototype.T.call(this);for(var $=0;$<this.Wc.length;$++)this.Wc[$].T()};
ev.prototype.Mq=function(M,X,J){};ev.prototype.SY=function(M,X){this.f=M;var J=M.QQ;this.Wc[0].R(J.aZ);
this.Wc[1].rh(J.IY);this.Wc[2].rh(J.tg);this.Wc[3].R(J.C2);this.Wc[4].rh(J.cJ);this.Wc[5].R(J.QW);this.Wc[6].R(J.bd);
this.Wc[7].R(J.dE);this.Wc[8].R(J.EI);var q=window.locStor.getItem("__zwh");this.Wc[9].R(q==1);var W=window.locStor.getItem("__glm");
this.Wc[10].R(W=="1");this.Wc[11].R(M.as);var T=window.locStor.getItem("__dak");this.Wc[12].R(T?T:"")};
ev.prototype.K_=function(M){var X=this.Wc;if(M.target==X[9])this.f.n0=1-this.f.n0;var J=t.b(this.f.QQ);
J.aZ=X[0].V();J.IY=X[1].B_();J.tg=X[2].B_();J.C2=X[3].V();J.cJ=X[4].B_();J.QW=X[5].V();J.bd=X[6].V();
J.dE=X[7].V();J.EI=X[8].V();var q=window.locStor;q.setItem("__zwh",X[9].V()?"1":"0");q.setItem("__glm",X[10].V()?"1":"0");
this.f.as=X[11].V();var W=X[12].V();if(W=="")q.removeItem("__dak");else q.setItem("__dak",W);var T=new jb(r.E.C,!0);
T.data={h:r.m.OA,iw:bN.VB,Nz:J};this.a(T)};function cO(){fa.call(this,[11,8],"saveforweb");this.al0="";
this.P("closebtn",function(){this.b2.d8()},this);this.AR=null;this.Ko=null;this.a3X=null;this.f=null;
w.Z6(this.body,"flexrow");this.body.style.padding="0";var M=w.l("div");w.F(M,"position:relative;");var X=w.l("div");
this.body.appendChild(M);this.body.appendChild(X);this.le=w.l("div","imgcont");M.appendChild(this.le);
this.b2=new ac;this.b2.uL(512,512);var J=this.zx=w.l("video");J.setAttribute("controls","");J.setAttribute("preload","auto");
J.setAttribute("loop","");this._S=w.l("div");w.F(this._S,"position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
M.appendChild(this._S);var q=this.Vn=w.l("div","form cell");w.F(q,"width:195px; padding:9px 13px;");
X.appendChild(q);this.qI=new ja([12,48],null,7.6);this.qI.lu();q.appendChild(this.qI._);var W=h1.f2();
W[W.indexOf("WEBP")]="webP";this.J0=new iR([12,50],W);this.J0._.style.marginRight="0";this.J0.lu();q.appendChild(this.J0._);
this.J0.P(r.E.n,this.Ik,this);w.vA(q);this.Rr=new b6(!0,!0,!1,!0);this.Rr.lu();this.Rr.P(r.E.n,this.Ik,this);
this.Rr.l_._.style.paddingBottom="8px";q.appendChild(this.Rr._);this.k5=new as;this.k5.P(r.E.n,this.Ik,this);
q.appendChild(this.k5._);this.Pj=new fT([1,2],!0,null,!0);this.Pj.P("click",this.ln,this);q.appendChild(this.Pj._)}cO.prototype=new fa;
cO.prototype.$f=function(M,X){return M!=null};cO.prototype.T=function(){fa.prototype.T.call(this);this.Rr.T();
this.qI.T();this.J0.T();this.k5.T();this.Pj.T()};cO.prototype.ln=function(M){var X=this.qI.V().trim(),J=h1.f2()[this.J0.V()],q=J=="JPG"||J=="PNG"||J=="GIF"||J=="SVG"||J=="WEBP",W=h1.mr(J),T="."+J.toLowerCase(),_=this.Ko,m=X+T,d=this.AR,A=d.YY,p=this.k5.V();
if(d.UT())p.pop();var a=A.length!=0&&q?p.pop():0;if(a!=0){var f=[],s={},j=new gc(0,0,d.r,d.$),Y=t.cY(d.m7(),8);
for(var $=0;$<A.length;$++)f.push(o.OZ.f9(A,$));f.reverse();var G=t.S.ahM([0,0,d.r,d.$],f),Q=[];for(var $=0;
$<G.length;$++){var Z=G[$],g=new gc(Z[0],Z[1],Z[2]-Z[0],Z[3]-Z[1]),jX=""+($+1);if(jX.length<2)jX="0"+jX;
jX=X+"_"+jX;if(Z[4]!=null&&A[Z[4]].v.Nm)jX=A[Z[4]].v.Nm.v;var S="images/"+jX+T;Q.push(S);if(a==2&&Z[4]==null)continue;
var U=t.j(g.o()*4);t.fA(Y,j,U,g);s[S]=new Uint8Array(W.iL([[U.buffer,0,d.Qv,d.eJ]],g.r,g.$,p))}Q.push("images/spacer.gif");
var B="<html>\n<head>\n<title>"+X+"</title>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n</head>\n";
B+="<body bgcolor=\"#FFFFFF\" leftmargin=\"0\" topmargin=\"0\" marginwidth=\"0\" marginheight=\"0\">\n";
B+="<!-- Save for Web Slices ("+d.name+") -->\n";B+=t.S.anN(G,Q,A,a)+"\n";B+="<!-- End Save for Web Slices -->\n";
B+="</body>\n</html>\n";var e=t.j(Math.round(B.length*1.5)),P=H.un(B,e,0);s["index.html"]=e.slice(0,P);
_=UZIP.encode(s);m=X+".zip"}else if(d.akf()&&q&&p.pop()){var h=[],j,Y;if(gj==0){j=new gc(0,0,d.r,d.$);
Y=t.cY(d.m7(),8);var V=d.root.children;for(var $=0;$<V.length;$++){var I=V[$].w;if(I.add.artb==null||!I.cV())continue;
h.push([I.getName(),I.PH()])}}else{j=d.Vo();Y=new Uint8Array(d.aoq(this.f));var F=d.add.arts;for(var $=0;
$<F.length;$++){var c=F[$];h.push([c.HH,t.G.Oi(c.ny)])}}var s={};for(var $=0;$<h.length;$++){var D,c=h[$][1];
if(J=="SVG")D=new Uint8Array(W.iL(d,c.r,c.$,p,this.f,$));else{var n=t.j(c.o()*4);console.log(j,c);t.fA(Y,j,n,c);
D=new Uint8Array(W.iL([[n.buffer,0,d.Qv,d.eJ]],c.r,c.$,p))}s[h[$][0]+T]=D}_=UZIP.encode(s);m=X+".zip"}var k=function(){if(d.s7)gb.aN("act=1&id="+d.s7);
this.b2.d8();this.close();var T=h1.f2()[this.J0.V()];hO.event("efmt_"+T.toLowerCase(),.1);var N=new jb(r.E.C,!0);
N.data={h:r.m.N1,data:_,name:m};this.a(N)}.bind(this);d.od();if(!this.f.rN||hO.Dm()){k();return}var b=eu.IX()!=0;
k();var N=new jb(r.E.C,!0),L=kl._Y("3UMe\\ORYBB@EVG9* 08{\"\",-;#a|gfbeVvg^QT[<7AO?/437#:xx%.zv%vgaxh\\WU^fWJB@W6@3K<;30,,+3`uy{sqc\\7"),R=kl._Y(";QJXQ_*II9"),i=function(){N.data={h:r.m.SQ,bf:"account"};
this.a(N)}.bind(this);if(b){L=kl._Y("0^Ne\\ORYLG:<2G&0>||5t{{lqhr<yG\\`bZXJC^SHK?4L868@#3!(&.tn%guakob^RiKME]O@>ENePEr,\"z*x<-\"hxdfzgjdnMMYn_LLVGF>;776>1,5*x!q&d lh\\!eWXMdR@UF;ADL9-CDNOC4r|o(lgs{m^eURiTSORCKTA5K75B!!-738}|lwt}<[XadZ]eDT\\N?9PB:8MO");
i=function(){};R=null}N.data={h:r.m.SQ,bf:kl.Um,K:L,nT:i,aAU:R};if(Math.random()<.1||b)this.a(N)};cO.prototype.Mq=function(M,X){if(X.sz!=null)this.J0.R(X.sz);
this.AR=M;var J=this.AR.name,q=J.lastIndexOf("."),J=q==-1?J:J.slice(0,q);this.qI.R(J);var W=M.r,T=M.$;
if(gj==1){var _=M.Vo();W=_.r;T=_.$}var m=W+","+T;if(m!=this.al0){this.al0=m;this.Rr.R(new es(W,T),M.Qv)}this.k5.aCW();
if(X.a0P){this.Rr.vW(3);this.k5.W5.PDF[2].s2.R(!0)}this.Ik(null,!0)};cO.prototype.apC=function(M,X){return M<X&&M<660};
cO.prototype.mb=function(M,X){return this.apC(M,X)?new es(0,0):new es(Math.max(0,Math.min(150,(M-770)/2)),Math.max(0,Math.min(150,(X-590)/2)))};
cO.prototype.uL=function(M,X,J){this.a3=M;this.oz=X;if(this.AR==null)return;var q=this.Pj._,W=this.apC(M,X),T,_,f="<span style=\"width:",s="display:inline-block; text-align:right;\">";
if(W){var m=this.Vn.getBoundingClientRect().height;T=M;_=X-Math.max(m,252);w.tM(this.body,"flexrow")}else{T=Math.min(512,M-195-2*13);
_=Math.min(512,X-24);w.Z6(this.body,"flexrow")}var d=W?M-2*13:195;this.Vn.style.width=d+"px";this.qI.VH.style.width=d-77+"px";
this.Rr.uL(d);var A=h1.f2()[this.J0.V()],p=h1.mr(A);if(p.R8||p.aX)w.F(this.le.firstChild,"display:block; width:"+T+"px; height:"+_+"px;");
else{this.b2.uL(T,_);this.zx.width=T;this.zx.height=_}if(this.Ko==null)return;var a=this.Ko.byteLength,j=f+64+"px;"+s+cO.Pn(a)+"</span>";
if(T>400)j+=f+90+"px; opacity:"+.5+";"+s+a.toLocaleString()+" B</span>";this._S.innerHTML=j;if(J)setTimeout(function(){this.uL(this.a3,this.oz)}.bind(this),20)};
cO.Pn=function(M){var X=M.toString(2),J=0;while(J+10<X.length)J+=10;var q=(M/Math.pow(2,J)).toFixed(1);
if(q.endsWith(".0"))q=q.slice(0,-2);var W="B KB MB GB TB PB".split(" ")[Math.floor(J/10)];return q+" "+W};
cO.prototype.SY=function(M,X){this.f=M};cO.prototype.Ik=async function(M,X){var J=this.AR,q=this.Rr.V(),W=q.x,T=q.y,_=this.J0.V(),m=h1.f2()[_],d=h1.auf(J)[0].length,A=["GIF","PNG","WEBP","MP4"].indexOf(m)!=-1&&d>1,Y="";
if(A&&m!="MP4"&&X&&(d>4&&W*T>1024*1024||W*T*d>800*800*50)){var p=1;while(Math.max(W>>>p,T>>>p)>800)p++;
var a=window.confirm("Your animation is large ("+W+" x "+T+" px). Press \"OK\" to scale it to "+(100>>>p)+"%. Press \"Cancel\" to keep the size.");
if(a){this.Rr.R(new es(W>>>p,T>>>p),null,!0);W=W>>>p;T=T>>>p}}var f=J.UT();this.k5.j6(m,A,J.YY.length!=0,J.akf(),f!=null);
var s=window.locStor.getItem("sfwPrms");if(s==null)s={};else{s=JSON.parse(s);if(s.MP4&&s.MP4[0]==100)s.MP4[0]=50}var j=this.k5.V();
if(M&&M.target==this.k5){s[m]=j;window.locStor.setItem("sfwPrms",JSON.stringify(s))}else if(s[m]){this.k5.R(s[m],!0);
j=this.k5.V()}this.Ko=await h1.PZ(J,m,W,T,j,this.f);if(this.Ko==null){this.AR=null;return}w.p9(this.le);
this.b2.d8();var G=h1.mr(m);if(G.aX){this.le.innerHTML="<div></div>"}else if(G.R8){var Q=W,Z=T,g;if(m=="PDF"||m=="AI"){g=URL.createObjectURL(new Blob([this.Ko],{type:"application/pdf"}))}else{g=URL.createObjectURL(new Blob([this.Ko],{type:"image/svg+xml"}))}this.le.innerHTML="<iframe src=\""+g+"\"></iframe>"}else if(m=="MP4"){var g=URL.createObjectURL(new Blob([this.Ko]));
this.zx.setAttribute("src",g);this.le.appendChild(this.zx)}else{var S=this.a3X=G.ss(this.Ko),U=S[0],B=U.kq,Q=B.r,Z=B.$;
if(U.gX){var e=ICC.R(U.gX.buffer),P=17,h=ICC.U.sampleLUT(e,P);for(var $=0;$<S.length;$++){var V=new Uint8Array(S[$].data);
ICC.U.applyLUT(h,P,V,V)}}this.b2.R(S,S.length>1?j[j.length-3]:0);this.le.appendChild(this.b2._);Y="background: rgba(0,0,0,0);"}w.F(this.le,"display:block; "+(G.aX?"background:rgba(0,0,0,0);":"background-size:"+16/w.pv()+"px;")+Y);
this.uL(this.a3,this.oz,X)};function fc(){fa.call(this,[11,13],"shortcuts");this.f=null;var M=this.x0=w.l("div","scrollable");
w.F(M,"min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(M);this.qW()}fc.prototype=new fa;
fc.prototype.T=function(){fa.prototype.T.call(this);this.qW()};fc.prototype.SY=function(M,X){this.f=M};
fc.prototype.Mq=function(M,X,J,q){if(w.L1(this._))this.qW()};fc.prototype.qW=function(){var M="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",X="",J=hP,q=J.WM,W=J.HG,T=J.Ke;
X+="<h2 style=\"margin-top:0;\">Main Menu</h2>";X+=M;X+=this.s8([[0,0],"---",[1,0],[q,J.bR],[1,2],[q,J.ub],[1,3],[W,q,J.ub],[1,8],[T,W,q,J.ub],[0,1],"---",[2,0],[W,q,J.q8],[2,1],[q,J.q8],[5,0],[q,J.jj],[5,1],[q,J.eU],[5,2],[q,J.MP],[2,2],"Delete",[2,3],[T,J.az],[10,16],[T,q,J.ws],[12,79],[q,J.q9],[3],"---",[4,1],[q,J.q6],[4,2],[q,J.Hj],[4,5],[q,J.sB],[4,11],[q,J.CI],[0,3],"---",[6,13],[W,q,J.fu],[6,49,0],[q,J.sD],[6,6,0],[T,q,J.zj],[6,9],[q,J.zj],[6,10],[q,J.E],[0,5],"---",[7,0],[q,J.m],[7,1],[q,J.IW],[7,2],[W,q,J.CI],[0,7],"---",[8,0],[q,J._T],[8,1],[q,J.ce],[8,3],[q,J.UE],[8,2],[q,J.cS],[8,4],[q,J.v$],[11,13],"?"]);
X+="</div>";X+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";X+=M;X+=this.s8(["Vertical scroll","Wheel","Horizontal scroll",[q,"Wheel"],"Zooming",[T,"Wheel"]]);
X+="</div>";X+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
X+=M;X+=this.s8([[10,11],[q],[10,7],"Space",[10,17],[q,J.TZ]]);X+="</div>";X+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
X+=M;var _=[],m=this.f;if(m==null)return;var d=m.W;for(var $=0;$<d.hJ.length;$++){var A=d.hJ[$],p=d.keys[$];
for(var a=0;a<A.length;a++)_.push(A[a].J.name,p?p.f7:null)}_=_.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[q,J.uY]]);
X+=this.s8(_);X+="</div>";this.x0.innerHTML=X};fc.prototype.s8=function(M){var X="",J=!0;for(var $=0;
$<M.length;$+=2){var q=M[$],W=hP.wj(M[$+1]);if(W==null){J=!1;continue}var T=w.YJ(kd.get(q));if(W=="---"){if(!J)X+="<br/>";
X+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+T+"</div>"}else X+="<div>"+T+" <span style=\"float:right; font-weight:bold;\">"+W+"</span> </div>";
J=!1}return X};function hq(M){fa.call(this,M?"Artboard Options":[8,11,1],(M?"a":"s")+"options");this.ue=null;
this.aDe=M;var X=w.l("div","form");X.style.width="20em";this.body.appendChild(X);this.IE={Nm:[12,48],url:"URL",null:[12,71]};
this.Wc={};for(var J in this.IE){if(M&&J!="Nm")continue;var q=new ja(this.IE[J],null,15);this.Wc[J]=q;
X.appendChild(q._)}this.aj3=new jH([12,14,0]);X.appendChild(this.aj3._);this.Ai=new cg(0,!0);X.appendChild(this.Ai._);
this.Ay=w.JH(this,X)}hq.prototype=new fa;hq.prototype.Mq=function(M,X,J){var q=X.K;this.ue=JSON.stringify(q);
console.log(q);if(q.ny){this.Wc.Nm.R(q.HH);var W=q.ny,T=W[0],_=W[1];this.Ai.R([T,_,W[2]-T,W[3]-_])}else{for(var m in this.IE){this.Wc[m].R(q[m]?q[m].v:"")}var d=q.bounds.v,T=d.Left.v,_=d.Top.v;
this.Ai.R([T,_,d.Rght.v-T,d.Btom.v-_])}};hq.prototype.ln=function(M){var X=JSON.parse(this.ue),J=new jb(r.E.H,!0),q=this.Ai.V(),W=q[0],T=q[1];
console.log(q);if(this.aDe){X.HH=this.Wc.Nm.V();X.ny=[W,T,W+q[2],T+q[3]];J.J=o.Bu;J.data={h:"rpl",K:X}}else{for(var _ in this.IE){var m=this.Wc[_].V();
X[_]={t:"TEXT",v:m}}var d=X.bounds.v;d.Left.v=W;d.Top.v=T;d.Rght.v=W+q[2];d.Btom.v=T+q[3];J.J=o.ZT;J.data=X}J.jN=!0;
this.a(J);this.close()};hq.prototype.T=function(){fa.prototype.T.call(this);this.Ay.T();this.aj3.T();
this.Ai.T()};function k6(){fa.call(this,[2,3],"fill");this.iH=null;var M=w.l("div","form padded");M.style.width="22em";
this.body.appendChild(M);this.za="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.ZK=new iR([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.ZK.P(r.E.n,this.a3T,this);M.appendChild(this.ZK._);this.le=w.l("span");M.appendChild(this.le);this.Hu=new gv;
this.Hu.parent=this;this.Hu.rh(0);this.a5=new hj;this.a5.parent=this;this.aHy=new iR([12,19,0],ae.Ql,ae.T3);
M.appendChild(this.aHy._);this.Q3=new kw([12,0],0,100,"%",0,!1);this.Q3.R(100);M.appendChild(this.Q3._);
this.CP=new hE([13,5]);this.CP.R(!1);M.appendChild(this.CP._);this.Ay=w.JH(this,this.body)}k6.prototype=new fa;
k6.prototype.$f=function(M,X){return M!=null};k6.prototype.mG=function(){return!0};k6.prototype.a3T=function(){var M=this.ZK.V(),X=this.Hu._,J=this.a5._,q=this.le;
if(M==2)q.appendChild(X);else if(q.contains(X))q.removeChild(X);if(M==7)q.appendChild(J);else if(q.contains(J))q.removeChild(J)};
k6.prototype.T=function(){fa.prototype.T.call(this);this.ZK.T();this.aHy.T();this.Q3.T();this.CP.T();
this.Ay.T()};k6.prototype.ln=function(M){if(!this.iH.KE())return;var X=new jb(r.E.pL,!0),J=this.ZK.V();
X.data=o.X_.Zc(this.za[J],ae.pi[this.aHy.V()],this.Q3.V()/100,this.Hu.V(),this.CP.V(),this.a5.V());this.close();
this.a(X)};k6.prototype.Mq=function(M,X){this.iH=M};k6.prototype.SY=function(M,X){if(X==bN.Ru||X==bN.sw){this.a5.b5(M.i3);
this.a5.R({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"b4d43394-d71c-11e5-b1ae-a548a96e5f9f",t:"TEXT"}})}};
function bI(){fa.call(this,[14,9],"stroke");this.f=null;this.Vn=w.l("div","form");w.F(this.Vn,"width:24em");
this.body.appendChild(this.Vn);this.k8=new b2("FrFX",!0);this.k8.parent=this;var M=["Sz","Styl","Md","Opct"].concat(kf.dB);
for(var $=0;$<M.length;$++){var X=this.k8.GS[M[$]]._;this.Vn.appendChild(X)}this.O8=!1;this.Ay=w.JH(this,this.body)}bI.prototype=new fa;
bI.prototype.$f=function(M,X){return M!=null};bI.prototype.mG=function(){return!0};bI.prototype.T=function(){fa.prototype.T.call(this);
this.Ay.T();this.k8.T()};bI.prototype.ln=function(M){var X=this.k8.V(),J={classID:"Strk"};J.Md=X.Md;
J.Opct=X.Opct;J.Clr=X.Clr;J.Wdth={t:"long",v:X.Sz.v.val};var q=kf.stroke.types.indexOf(X.Styl.v.FStl);
J.Lctn={t:"enum",v:{StrL:["Insd","Cntr","Otsd"][q]}};var W=new jb(r.E.pL,!0);W.data={hC:"stroke",Qd:J};
this.close();this.a(W)};bI.prototype.Mq=function(M,X){if(!this.O8){var J=kf.px[kf.order.indexOf("FrFX")];
J=JSON.parse(J);this.k8.update(M,J);this.O8=!0}var J=this.k8.V(),q=this.f.pU;J.Clr.v=t.NX.$J({z:q>>16&255,L:q>>8&255,g:q&255});
this.k8.update(M,J)};bI.prototype.SY=function(M,X){this.f=M};function bg(){fa.call(this,[11,9],"textwarp");
this.Wc=new hd;this.Wc.P(r.E.n,this.EP,this);this.Wc.parent=this;this.Vn=w.l("div","form");w.F(this.Vn,"width:20em");
this.body.appendChild(this.Vn);this.Vn.appendChild(this.Wc.og._);this.Vn.appendChild(this.Wc._L._);this.Vn.appendChild(this.Wc.Jl._);
this.Vn.appendChild(this.Wc.pn._);this.Vn.appendChild(this.Wc.p_._);this.Ay=w.JH(this,this.Vn);this.P("closebtn",this.zW,this)}bg.prototype=new fa;
bg.prototype.mG=function(){return!0};bg.prototype.T=function(){fa.prototype.T.call(this);this.Ay.T();
this.Wc.T()};bg.prototype.EP=function(M){var X=this.Wc.V();this.Fz({h:"warp",Rl:X})};bg.prototype.Fz=function(M){var X=new jb(r.E.H,!0);
X.J=o.JT;X.data=M;X.jN=!0;this.a(X)};bg.prototype.zW=function(M){this.Fz({h:"warpCancel"})};bg.prototype.ln=function(M){this.Fz({h:"warpConfirm"});
this.close()};bg.prototype.Mq=function(M,X){var J=M.U[M.O[0]];this.Wc.R(J.add.TySh.OG)};function k8(){fa.call(this,[11,12,0],"trim");
var M=this.Vn=w.l("div","form");w.F(this.Vn,"width:22em");this.body.appendChild(this.Vn);var X=new jH("Color To Trim:");
M.appendChild(X._);this.zX=new ju(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.zX.R([!0]);this.Vn.appendChild(this.zX._);var X=new jH("Sides:");M.appendChild(X._);this.ZD=new ju(null,["Top","Left","Bottom","Right"]);
this.ZD.R([!0,!0,!0,!0]);this.Vn.appendChild(this.ZD._);this.Ay=w.JH(this,this.body)}k8.prototype=new fa;
k8.prototype.$f=function(M,X){return M!=null};k8.prototype.mG=function(){return!0};k8.prototype.T=function(){fa.prototype.T.call(this);
this.zX.T();this.ZD.T();this.Ay.T()};k8.prototype.ln=function(M){var X=this.zX.V().indexOf(!0),J=this.ZD.V(),q=new jb(r.E.pL,!0);
q.data=o.VN.i1(X,J);this.close();this.a(q)};function eG(){fa.call(this,"Raw Photopea","rawpea");this.EA=null;
this.body.style.padding="0";var M=this.wJ=new dw["Adobe Camera Raw Filter"](!0),X="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(M._);this.Dz=new iR("Space",dD.Uu);this.wE=new iR(null,["8 bit","16 bit","32 bit"]);
this.aHE=new fT([1,0],!0,null,!0);this.aHE.P("click",this.ln,this);this.tn=new fT(X+" JPG",!0,null,!0);
this.tn.P("click",this.apf,this);M.QM(this.Dz._);M.QM(this.wE._);M.QM(this.aHE._);M.QM(this.tn._)}eG.prototype=new fa;
eG.prototype.mb=function(){return new es(0,0)};eG.prototype.uL=function(M,X){this.wJ.uL(M,X)};eG.prototype.SY=function(M,X){this.wJ.SY(M,X)};
eG.prototype.T=function(){fa.prototype.T.call(this);this.wJ.T()};eG.prototype.apf=function(M){var X=this.wJ.awa(0,8),J=X[1],q=h1.mr("JPG").iL([[X[0].buffer]],J.r,J.$,[85]),W=new jb(r.E.C,!0);
W.data={h:r.m.N1,data:q,name:"photo.jpg"};this.a(W)};eG.prototype.ln=function(M){var X=this.EA,J=8<<this.wE.V(),q=this.Dz.V(),W=kY.WZ(X),T=this.wJ.awa(q,J),_=T[1],X={kq:_,data:T[0].buffer,eJ:W,depth:J},m=h1.DG("Raw Photo",[X]);
if(q!=0)m.vR(h1.Rv.get(dD.FJ[q]));var d=new jb(r.E.C,!0);d.data={h:r.m.f5,AR:m};this.a(d);this.ap();
this.close()};eG.prototype.ap=function(){this.EA=null;this.wJ.avB()};eG.prototype.Mq=function(M,X,J,q){this.EA=X.J_;
this.wJ.aIF(X.J_)};eG.prototype.Ei=function(M){return!0};eG.prototype.KH=function(M,X,J,q){fa.prototype.KH.call(this,M,X,J,q);
this.wJ.KH(q)};function fy(M){fa.call(this,M?[11,11,0]:[11,11,1],M?"vbitmap":"rcolors");this.dq=null;
this.z5=null;this.aHw=null;this.Yc=null;this.Pi=null;this.aI3=null;this.AR=null;this.f=null;this.TT="";
this.Ex=M;this.hy=this.Q1.bind(this);this.aba=!1;this.body.style.padding="0";this.Vn=w.l("div","form hbar padded");
this.body.appendChild(this.Vn);this.xt=new ju(null,["Fill","Stroke","Labels"]);this.xt.P(r.E.n,this.Q1,this);
var X=w.l("span","rangecontFloat form padded"),d=16;X.appendChild(this.xt._);w.F(X,"position:absolute; width:120px; z-index:2;  padding-right:0px; ");
var J=new bj;J._=X;var q=this._Z={cnum:new j6([12,82],2,50,null),nois:new hE([12,81]),mode:new iR(null,["Cartoon","Photo"]),segm:new hE("Segmentize"),cbok:new hE("Coloring book"),poly:new hE("Polygon"),merg:new hE("Merge colors"),polE:new j6("Roughness",2,30,null),dthr:new hE([12,23,3]),vprm:new fT("\u2026",!1,null,!0),ok:w.JH(this,null,!1)},W=this;
for(var T in q){var _=q[T];_.parent=this;if(T=="ok"){}else if(T=="vprm"){_.P("click",function(p){var a=q.vprm._.getBoundingClientRect(),f=new jb(r.E.C,!0);
f.data={h:r.m._5,kv:J,x:a.left,y:a.top+20};W.a(f)})}else _.P(r.E.n,this.Q1,this)}var m=this.L7=w.l("div","flexrow");
this.body.appendChild(m);w.F(m,"background-color:var(--bg-canvas)");this.dK=new ac;this.dK.P("viewchange",this.Qq,this);
this.qQ=new ac;this.kX=w.l("canvas");w.F(this.kX,"margin:0 0 0 1px; padding:0; cursor:grab;");this.qt=this.kX.getContext("2d");
var A=t.j(16*16*4);t.qR(A,d,d,8);this.K6=t.scale.l7(A,d,d);this.dK.abH(this.kX);this.dK.OT(this.qQ);
this.qQ.OT(this.dK);m.appendChild(this.dK._);if(M)m.appendChild(this.kX);else m.appendChild(this.qQ._)}fy.prototype=new fa;
fy.prototype.mb=function(){return new es(0,0)};fy.prototype.mG=function(){return!0};fy.prototype.uL=function(M,X){this.a3=M;
this.oz=X;X=X-44;if(M<600)X-=29;if(this.dq==null)return;var J=this.dq.kq,q=e0.ie(M,X,J.r,J.$);if(q==1)X-=3;
if(q==0){M=Math.floor(M/2);w.Z6(this.L7,"flexrow")}else{X=Math.floor(X/2);w.tM(this.L7,"flexrow")}w.R$(this.kX,M,X);
this.dK.uL(M,X);if(this.Ex)this.Qq();else this.qQ.uL(M,X)};fy.prototype.KH=function(M,X,J,q){this.dK.KH(q)};
fy.prototype.T=function(){fa.prototype.T.call(this);for(var M in this._Z)this._Z[M].T()};fy.prototype.Mq=function(M,X){this.AR=M;
this.Pi=null;var J=M.U[M.O[0]],q=t.GI.acL(J.buffer.buffer,J.S.r,J.S.$).ayq,W=q/((J.S.r-2)*(J.S.$-2)),T=this._Z;
T.cnum.R(20);T.nois.R(W<.75);T.mode.R(W<.75?1:0);T.segm.R(!1);T.cbok.R(!1);T.poly.R(!1);T.merg.R(!0);
T.polE.R(1);T.dthr.R(!1);var _=J.S.Q();_.x=_.y=0;this.dq={kq:_,data:J.buffer.buffer.slice(0)};this.z5=null;
this.uL(this.a3,this.oz);this.dK.R([this.dq]);this.dK.eT();this.aba=!0;this.xt.R([!0,!1,!1]);setTimeout(this.hy,20)};
fy.prototype.Q1=function(){var M=!0,X=Date.now(),J=this.dq,q=this._Z,W=q.cnum.V(),T=q.nois.V(),_=q.mode.V(),m=q.segm.V(),d=q.cbok.V(),A=q.poly.V(),p=q.merg.V(),a=q.polE.V(),V=null;
if(_==0)m=A=d=!1;var f=q.dthr.V(),s=["cnum","nois","mode"];if(_==1){s.push("cbok");if(this.Ex){s.push("poly");
if(A)s.push("polE");s.push("vprm")}}if(this.Ex)s.push("merg");else s.push("dthr");s.push("ok");w.p9(this.Vn);
for(var $=0;$<s.length;$++)this.Vn.appendChild(q[s[$]]._);if(M)console.log("---------------------------------------");
var j=T||m,Y=T+","+m;if(j&&(this.z5==null||this.TT!=Y)){this.TT=Y;var G=new Uint8Array(J.data),Q=J.kq.r,Z=J.kq.$;
if(T){if(this.Pi==null){this.Pi=G.slice(0);t.Tg.tX=35;t.Tg.GE(this.Pi,this.Pi,Q,Z,15,1);if(M){console.log("denoise",Date.now()-X);
X=Date.now()}}G=this.Pi.slice(0)}else G=G.slice(0);if(m){var g=t.GI.Cj(G,Q,Z,40,10),S=g.q9,U=new Uint8Array(S*4);
for(var $=0;$<S;$++){var B=$*4,e=$*6,P=1/g.tP[e+5];U[B]=g.tP[e]*P;U[B+1]=g.tP[e+1]*P;U[B+2]=g.tP[e+2]*P}for(var $=0;
$<G.length;$+=4){var h=g.jw[$>>>2]*4;G[$]=U[h];G[$+1]=U[h+1];G[$+2]=U[h+2]}if(M){console.log("segm",Date.now()-X);
X=Date.now()}}this.z5={kq:J.kq.Q(),data:G.buffer}}if(j)J=this.z5;var G=new Uint8Array(J.data),Q=J.kq.r,Z=J.kq.$;
for(var $=0;$<G.length;$+=4){if(G[$+3]<10)G[$]=G[$+1]=G[$+2]=G[$+3]=0}if(_==0){V=t.GI.ah3(G,Q,Z,W,j?.1:2e-4);
if(M){console.log("quantize",Date.now()-X);X=Date.now()}}if(_!=0||V&&V.MM.length<2){V=iC.a8J(G.buffer,W,Q,Z,null,d)}if(this.Ex){var I=V.jw.slice(0);
for(var $=0;$<I.length;$++)I[$]++;this.Pq=t.GI.aaa(V.jw,Q,Z);var F=new Uint8Array((Q+2)*(Z+2));t.Rc(I,new gc(1,1,Q,Z),F,new gc(0,0,Q+2,Z+2));
if(!A){var c=Math.round((Q+2)*(Z+2)/1e4),D=bX.Nb(F.slice(0),Q+2,Z+2,Math.min(12,c)),n=bX.ZX(D);if(M){console.log("trace smooth",Date.now()-X);
X=Date.now()}}else{var n=t.G.lO(F,Q+2,Z+2,a,M)}var k=n.length,b=new kp(1,0,0,1,-1,-1);for(var $=0;$<k;
$++)t.G.u(n[$].path.d,b,n[$].path.d);this.Yc=n;this.aHw=V;for(var $=0;$<k;$++){var N=n[$];if(V.MM[N.color-1].est.q[3]>.05)continue;
var L=N.parent;while(L!=-1){var R=n[L];L=R.parent;if(V.MM[R.color-1].est.q[3]<.05)break;t.G.concat(R.path,t.G.reverse(N.path))}}if(M){console.log("finding holes",Date.now()-X);
X=Date.now()}for(var $=0;$<n.length;$++){var i=n[$];if(i.parent!=-1){var v=n[i.parent];i.parent=v;if(v.Xi==null)v.Xi=[];
v.Xi.push(i)}i.depth=i.parent==-1?0:i.parent.depth+1}if(p){function E(gE,l){var bS={},bi=0,cj=0;for(var $=0;
$<gE.length;$++){var y=gE[$].color,bb="c"+y;if(y==l)throw y;if(bS[bb]==null)bS[bb]=0;bS[bb]++;if(bS[bb]>bi){bi=bS[bb];
cj=y}}return cj}var u=[],C=[],l=-1,x=!0;for(var $=0;$<n.length;$++)if(n[$].parent==-1)C.push(n[$]);while(C.length!=0){var y=E(C,l);
l=y;for(var $=0;$<C.length;$++)if(C[$].color==y){var ge=C[$];u.push(ge);C.splice($,1);$--;if(ge.Xi)for(var O=0;
O<ge.Xi.length;O++){C.push(ge.Xi[O]);if(ge.Xi[O].color!=y)x=!1}}}if(x)n=u;else{var kz=[];for(var z=0;
z<500;z++){var eZ=[],D=kz[z-1];kz.push(eZ);for(var $=0;$<n.length;$++){var i=n[$],v=i.parent;if(z==0&&v==-1||z!=0&&D.indexOf(v)!=-1){eZ.push(i);
n.splice($,1);$--}}eZ.sort(function(gE,bS){return gE.color-bS.color});if(n.length==0)break}for(var $=0;
$<kz.length;$++)n=n.concat(kz[$])}}else{var u=[],kM=[];while(n.length!=0){kM.push(n.shift());while(kM.length!=0){var jV=kM.pop();
u.push(jV);if(jV.Xi)for(var $=0;$<jV.Xi.length;$++){var i=jV.Xi[$];n.splice(n.indexOf(i),1);kM.push(i)}}}n=u}this.Yc=n;
for(var $=0;$<n.length;$++){var N=n[$],cL=V.MM[N.color-1].est.q;if(cL[3]<=.05){n.splice($,1);$--;continue}}for(var $=1;
$<n.length;$++){var aw=n[$-1],N=n[$];if(aw.color==N.color&&(p||aw.parent==N.parent&&aw.depth>=2)){t.G.concat(aw.path,N.path);
n.splice($,1);$--;continue}}if(M){console.log("reordering layers",Date.now()-X,k,n.length);X=Date.now()}this.Qq()}else{var h2=new Uint32Array(Q*Z),ea=Q*Z,ht=this.aI3=new Uint8Array(h2.buffer);
if(f){var jn=[];for(var $=0;$<V.MM.length;$++)jn.push(V.MM[$].est.rgba);var h=t.j(Q*Z);UPNG.encode.dither(new Uint8Array(J.data),Q,Z,jn,ht,h)}else{for(var $=0;
$<ea;$++){var y=V.MM[V.jw[$]];h2[$]=y.est.rgba}}this.qQ.R([{kq:J.kq,data:h2.buffer}]);if(this.aba){this.qQ.eT();
this.aba=!1}}};fy.prototype.Qq=function(M){if(this.Yc==null)return;var X=this.xt.V(),J=this.dq.kq.r,q=this.dq.kq.$,W=this.Yc,T=this.aHw.MM,_=this.kX,m=this.qt,d=this.dK.ox(),p="rgba(0,0,0,0.3)";
m.setTransform(1,0,0,1,0,0);m.clearRect(0,0,_.width,_.height);m.translate(_.width/2,_.height/2);m.scale(d.r7,d.r7);
m.translate(d.s.x/d.r7-J/2,d.s.y/d.r7-q/2);m.scale(1/d.r7,1/d.r7);m.fillStyle=this.K6;m.fillRect(0,0,J*d.r7,q*d.r7);
m.scale(d.r7,d.r7);m.lineWidth=(J+q)*5e-4;var A=this.W9();m.strokeStyle=p;for(var a=0;a<2;a++){if(!X[a])continue;
for(var $=0;$<W.length;$++){var f=W[$],s=A[f.color-1];if(s.Jm==0)continue;m.fillStyle=s.QL;m.beginPath();
Typr.U.pathToContext({crds:f.path.d,cmds:f.path.C6},m);if(a==0)m.fill();else m.stroke()}}if(X[2])this.aB5(m,J,q)};
fy.prototype.W9=function(){var M=this.aHw.MM,X=[];for(var $=0;$<M.length;$++){var J=M[$].est.q,q={z:Math.round(255*J[0]),L:Math.round(255*J[1]),g:Math.round(255*J[2]),Jm:Math.round(255*J[3])};
q.QL="rgba("+q.z+","+q.L+","+q.g+","+q.Jm/255+")";X.push(q)}return X};fy.prototype.aB5=function(M,X,J){var q=this.W9(),W=this.ahS(X,J,q);
function T(A,p,a,f){M.font=f+"px sans-serif";A++;var s=M.measureText(A);M.fillText(A,p-s.width/2,a+f*.25)}M.fillStyle="rgba(0,0,0,0.5)";
var _=this.Pq;for(var $=0;$<_.length;$++){var m=_[$];if(m[3]<X*J*5e-4)continue;T(m[2],m[0],m[1],(X+J)*.008)}M.fillStyle="rgba(255,255,255,1)";
M.fillRect(0,0,W,W*q.length);for(var $=0;$<q.length;$++){var d=q[$];M.fillStyle=d.QL;M.fillRect(W,W*$,W,W);
M.fillStyle="black";T($,W*.5,W*($+.5),W*.65)}};fy.prototype.ahS=function(M,X,J){var q=J.length*(M+X)/70;
return Math.min(X,q)/J.length};fy.prototype.ln=function(M){var X=this.AR,J=X.O[0],q=X.U[J],W=new jb(r.E.H,!0);
W.jN=!0;W.J=o.HX;var T=this.f.Rb,_=this;if(this.Ex){var m=this.W9(),p=0,f=!1;function d(Q,Y){var G=X.C0();
G.G8=Y.Jm;G.l4|=16;G.add.SoCo={classID:"null",Clr:{t:"Objc",v:t.NX.$J(Y)}};G.add.vmsk=new K.JL;G.add.vstk=kf.XZ.IH(!0);
G.add.vmsk.X=Q;G.hg();G.j$(X);return G}var A=this.xt.V();for(var $=0;$<3;$++)if(A[$])p++;if(p==0){alert("Enable Fill, Stroke or Labels");
return}var a=this.Yc;if(p==1&&A[0]&&a.length==1)f=!0;var s=X.U.slice(0,J);if(!f)s.push(X.mm());if(A[0])for(var $=0;
$<a.length;$++){var j=a[$],Y=m[j.color-1];t.G.u(j.path.d,new kp(1,0,0,1,q.S.x,q.S.y),j.path.d);var G=d(t.G.n$(j.path,!1),Y);
G.EC("Path "+$);s.push(G)}if(A[1]){var G=X.C0();G.EC("Stroke");s.push(G);G.G8=128;G.l4|=16;G.add.SoCo={classID:"null",Clr:{t:"Objc",v:t.NX.$J({z:0,L:0,g:0})}};
G.add.vmsk=new K.JL;G.add.vstk=kf.XZ.IH(!1,!0);var Q=[];for(var $=0;$<a.length;$++){var j=a[$],Z=t.G.n$(j.path,!1);
if($==0)Q=Z;else Q=Q.concat(Z.slice(2))}G.add.vmsk.X=Q;G.hg();G.j$(X)}if(A[2]){var g=this.dq.kq,S=g.r,U=g.$,B=this.ahS(S,U,m);
s.push(X.mm());function e(c,D,n,k){c=1+c+"";var G=X.C0();s.push(G);G.G8=k;G.add.lnsr="rend";var b=G.add.TySh=f5.c7(D-B*.2,n+B*.25),N=G.add.TySh.Zj,L=f5.TC(N,0,0);
L.cN.FontSize=Math.round(B*.6);f5.oW(N,0,0,L);f5.p7(N,0,c);G.yH();if(i5.kH(b,T,_)){i5.IS(G,T,X);X.vV()}}var P=this.Pq;
for(var $=0;$<P.length;$++){var h=P[$];if(h[3]<S*U*5e-4)continue;e(h[2],h[0],h[1],128)}var G=d(t.I.bg.Rect(0,0,B,B*m.length),{z:255,L:255,g:255,Jm:255});
G.EC("white");s.push(G);for(var $=0;$<m.length;$++){var Y=m[$],G=d(t.I.bg.Rect(B,B*$,B,B),Y);G.EC("color");
s.push(G);e($,B/2,B*($+.5),255)}var G=X.C0();G.EC("Labels");G.add.lsct=gO.dw;G.Sw="pass";G.l4=24;s.push(G)}var V=s[s.length-1];
if(!f){var G=X.C0();G.EC(q.getName());G.add.lsct=gO.A$;G.Sw="pass";G.l4=24;s.push(G);V=G}var I=q.add.lmfx;
if(I)V.add.lmfx=t.b(I);var F=s.length;for(var $=J+1;$<X.U.length;$++)s.push(X.U[$]);W.data={h:K.Su,f_:s,cD:[F-1],AC:[11,11,0]}}else{var s=X.U.slice(0),G=X.C0();
G.EC(q.getName());s.splice(X.O[0]+1,0,G);G.S=q.S.Q();G.buffer=this.aI3;G.vV();W.data={h:K.Su,f_:s,cD:[X.O[0]+1],AC:[11,11,1]}}this.a(W);
this.close();X.hj=!0};fy.prototype.SY=function(M,X){this.f=M};function e0(M){fa.call(this,[[7,11],[7,13]][M],["redge","magiccut"][M]);
this.zX=M;this.dq={};this.Pe=null;this.f=null;this.AR=null;this.g0=null;this.bJ=null;this.body.style.padding="0";
this.Vt=[];this.GD=-1;this.Vn=w.l("div","form hbar padded");this.body.appendChild(this.Vn);this.Ak=new iL;
this.Ak.parent=this;this.Ak.P(r.E.n,this.WQ,this);this.Vn.appendChild(this.Ak._);var X=M==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
X=X.concat("tools/hand","zoomIn","zoomOut");var J=M==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.Ve=new dK(null,X,J,28);this.Ve.P(r.E.n,this.KH,this);this.Vn.appendChild(this.Ve._);this.Cu=new j6([7,9],0,50,null);
this.Cu.parent=this;this.Cu.P(r.E.n,[this.aqY,this.Q1][M],this);this.Vn.appendChild(this.Cu._);var q=this.a4H=new fT([2,2],!1,null,!0);
q.P("click",this.ap,this);this.Vn.appendChild(q._);var W=this.mp=w.l("span","form");this.Vn.appendChild(W);
var T=this.a7L=new fT([12,90],!1,null,!0);T.P("click",function(d){alert(M==0?kd.get([15,7,1]):"Mark the object with Green, background with Red. The majority of the area should stay unpainted. Two colors should never touch.",5e3)},this);
W.appendChild(T._);var _=new fT("Tutorial",!1,null,!0);_.P("click",this.anu,this);W.appendChild(_._);
this.LO=new dK([12,46],["checker","#ffffff","#000000"]);this.LO.P(r.E.n,this.agN,this);W.appendChild(this.LO._);
this.aBG=new iR(null,[[6,13],[6,2],[17,2]]);W.appendChild(this.aBG._);this.Ay=w.JH(this,W,!1);var m=this.L7=w.l("div","flexrow");
this.body.appendChild(m);this.r_=new ac(!0);this.T4=new ac;this.r_.OT(this.T4);this.T4.OT(this.r_);this.r_.P("mousedown",this.Wk,this);
this.r_.P("mousemove",this.yf,this);this.r_.P("mouseup",this.BY,this);this.r_.P("zoom",this.WQ,this);
this.T4.P("zoom",this.WQ,this);m.appendChild(this.r_._);m.appendChild(this.T4._)}e0.prototype=new fa;
e0.prototype.$f=function(M,X){var J=M!=null&&!M.U[M.O[0]].S.M5();if(!J)alert("The layer is empty.");
return J};e0.prototype.mb=function(){return new es(0,0)};e0.prototype.mG=function(){return!0};e0.prototype.uL=function(M,X){this.a3=M;
this.oz=X;X=X-12-33;if(M<900){w.F(this.mp,"display:block;  text-align:right;");X-=29}else{w.F(this.mp,"position:absolute;  right:0px")}this.LO.Hr(M<440?null:[12,46]);
this.Cu.Hr(M<470?null:[7,9]);var J=this.dq.S;if(J){var q=e0.ie(M,X,J.r,J.$);if(q==0){M=Math.floor(M/2);
w.Z6(this.L7,"flexrow")}else{X=Math.floor(X/2);w.tM(this.L7,"flexrow")}this.r_.uL(M,X);this.T4.uL(M,X)}};
e0.ie=function(M,X,J,q){var W=M/2,T=X/2,_=Math.min(W/J,X/q),m=Math.min(M/J,T/q);return _>m?0:1};e0.prototype.T=function(){fa.prototype.T.call(this);
this.Ak.T();this.Cu.T();this.Ay.T();this.LO.T();this.aBG.T();this.a4H.T();this.a7L.T()};e0.prototype.anu=function(M){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.zX],"_blank")};
e0.prototype.SY=function(M,X){this.f=M;if(X==bN.Vk||X==bN.Ru){this.Ak.b5(M.uh);this.Ak.R(kW.e$(),M.uh.Kj,M.uh.a5)}};
e0.prototype.KH=function(M,X,J,q){var W=this.Ve.V();if(q==null){this.r_.KH(ac.PW(W-3));return}this.g0=q;
var T=o.X_.B2(this.Ak.V(),q);if(T!=null){this.Ak.R(T);this.WQ()}else if(q.M(hP.WM)&&q.M(hP.q8)){var _=this.Vt,m=0;
if(q.M(hP.HG)){if(this.GD+1<_.length)m=1}else if(this.GD>0)m=-1;if(m!=0){this.GD+=m;var d=this.GD,A=this.dq;
if(m==1)t.fA(_[d][2],_[d][0],A.pp,A.S);else t.fA(_[d+1][1],_[d+1][0],A.pp,A.S);A.Me=A.S;this.Q1()}}else if(W<3)this.r_.KH(q)};
e0.prototype.Ub=function(M){var X=this.dq,J=this.Vt,q=t.j(M.o()*4);t.fA(X.CE,X.S,q,M);X.CE=null;var W=t.j(M.o()*4);
t.fA(X.pp,X.S,W,M);this.GD++;J[this.GD]=[M.Q(),q,W];while(J.length>this.GD+1)J.pop();while(J.length>50){J=J.slice(1);
this.GD--}};e0.prototype.WQ=function(){var M=this.f,X=eY.ll(this.Ak.V(),M.uh.Kj,this.r_.ox().r7);this.r_.q2(X)};
e0.prototype.Wk=function(M){var X=this.f,J=this.dq,q=this.g0,W=this.Ak.V(),T=this.r_.jX(),_=[16777215,8421504,0][this.Ve.V()];
this.Pe=new eY(W,X.uh.Kj,X.uh.a5,{hi:1,XT:!0},_,X.Yt,J.S);J.CE=J.pp.slice(0);if(q!=null&&q.M(hP.HG)&&this.bJ){this.Pe.moveTo(this.bJ.x,this.bJ.y);
this.Pe.lineTo(T.x,T.y)}else this.Pe.moveTo(T.x,T.y);this.a91()};e0.prototype.yf=function(M){var X=this.dq,J=this.r_.jX();
this.Pe.lineTo(J.x,J.y);this.a91()};e0.prototype.BY=function(M){this.bJ=this.r_.jX();this.Ub(this.Pe.m1());
this.Q1()};e0.prototype.a91=function(){var M=this.dq,X=this.Pe,J=X.t5();if(J.M5())return;M.Me=J;t.v.r$("norm",X.io(),X.Hg(),M.pp,M.S,J,1);
this.ayP()};e0.prototype.ap=function(M){var X=this.dq;X.CE=X.pp.slice(0);X.Me=X.S;t.Tb(X.pp,[4278190080,4292730333][this.zX]);
this.Ub(X.S);this.Q1()};e0.prototype.Mq=function(M,X){this.AR=M;var J=M.U[M.O[0]],q=J.S.Q(),W=q.r,T=q.$,d;
this.Cu.R(this.zX==0?3:W*T<3e6?3:0);this.Ve.R(M.c==null?0:1);this.Cu.bH();if(this.zX==0&&M.c!=null||this.zX==1)this.Cu.Ja();
var _=this.zX,m=t.j(q.o());if(_==0&&M.c){t.Rc(M.c.N,M.c.S,m,q);var A=t.j(q.o());for(var p=0;p<T;p++)for(var a=0;
a<W;a++){var $=p*W+a,f=m[$];if(a>0&&m[$-1]!=f||a<W-1&&m[$+1]!=f||p>0&&m[$-W]!=f||p<T-1&&m[$+W]!=f)A[$]=255}d=t.style.Pl(A,W,T)}else{d=new Float32Array(q.o());
d.fill(1e9)}q.x=q.y=0;this.dq={S:q,hT:J.buffer,E_:m,TA:d,W2:t.j(q.o()*4),$V:t.j(q.o()*4),pp:t.j(q.o()*4),CE:null,Tc:null,Me:q,amZ:{}};
if(_==0)this.aqY();else{this.dq.amZ=o.D4.a7f(M);var s=this.dq.pp;t.Tb(s,4287137928);var j=t.u$.getSelection(J.buffer,W,T),Y=Math.round(W/60),G=Math.round(.7*T);
for(var p=0;p<T;p++)for(var a=0;a<W;a++){var Q=(p*W+a)*4,Z=j[Q>>>2];Z=Z>128?255:128;if(p<Y||p<G&&(a<Y||a>W-1-Y))Z=0;
s[Q]=s[Q+1]=s[Q+2]=Z}this.Q1()}this.Vt=[1];this.GD=0;var g=this.Ak.V();g.Brsh.v.Dmtr.v.val=Math.round(q.r/(_==0?10:20));
this.Ak.R(g);this.WQ();this.uL(this.a3,this.oz);this.r_.eT()};e0.prototype.aqY=function(){var M=this.dq,X=M.S.o(),J=this.Cu.V(),q=M.E_.slice(0);
for(var $=0;$<X;$++)if(M.TA[$]<J)q[$]=128;M.pp.fill(255);t.ix(q,M.pp,0);t.ix(q,M.pp,1);t.ix(q,M.pp,2);
M.Me=M.S;this.Q1()};e0.prototype.Q1=function(){var M=this.dq,W,m,d=0,A=0,p=0;this.ayP();var X=M.S,J=X.r,q=X.$,T=t.j(X.o()),_=M.hT;
t.SF(M.pp,T,0);for(var $=0;$<T.length;$++){if(_[($<<2)+3]!=255)continue;var a=T[$];if(a==0)d++;else if(a==255)A++;
else p++}if(d*A*p!=0){if(this.zX==0)m=t.iN.iN(X,_,T);else{var f=this.Ve.V();for(var s=1;s<q;s++)for(var j=1;
j<J;j++){var $=s*J+j,Y=T[$],G=T[$-1];if(Y==0&&G==255||Y==255&&G==0){W="The Red and Green should never touch! Erase it with Grey.";
break}}var Q=Date.now(),Z=this.dq.amZ;t.fc(T,Z.r1);o.D4.R_(Z,!0,this.AR);var g=Math.ceil(this.Cu.V()/2);
if(g==0){m=_.slice(0);t.ix(Z.c,m,3)}else{var S=Z.c.slice(0),U=Z.c.slice(0);for(var B=0;B<g;B++){for(var s=1;
s<q-1;s++)for(var j=1;j<J-1;j++){var $=s*X.r+j,e=S[$];if(S[$-J]!=e||S[$-1]!=e||S[$+1]!=e||S[$+J]!=e)U[$]=128;
else U[$]=e}var P=S;S=U;U=P}for(var s=0;s<q;s++)for(var j=0;j<J;j++){var $=s*J+j;if(T[$]==0||T[$]==255)S[$]=T[$]}m=t.iN.iN(X,_,S,20,!1)}}}else{m=_.slice(0);
t.ix(T,m,3)}for(var $=3;$<m.length;$+=4)if(m[$]>_[$])m[$]=_[$];if(X.w6(M.S))M.Tc=m;else t.fA(m,X,M.Tc,M.S);
this.agN();if(W)alert(W,4e3)};e0.prototype.ayP=function(M){var X=this.dq,J=X.Me;t.fA(X.hT,X.S,X.W2,X.S,J,!0);
var q=X.pp,W=X.S,T=Date.now();if(this.zX==1){var _=new Uint32Array(256);_[0]=4278190335;_[255]=4278255360;
var m=t.j(J.o()*4),d=J.o();t.fA(q,W,m,J);q=m;W=J;var A=new Uint32Array(q.buffer);for(var $=0;$<d;$++)A[$]=_[A[$]&255]}console.log(Date.now()-T);
t.v.r$("norm",q,W,X.W2,X.S,J,.3);this.r_.R([{kq:X.S,data:X.W2.buffer}],null,null,J)};e0.prototype.agN=function(M){var X=this.dq;
t.Tb(X.$V,[0,4294967295,4278190080][this.LO.V()]);t.v.r$("norm",X.Tc,X.S,X.$V,X.S,X.S,1);this.T4.R([{kq:X.S,data:X.$V.buffer}])};
e0.prototype.ln=function(M){var X=this.AR,J=this.dq,q=this.aBG.V(),W=X.U[X.O[0]],T=new jb(r.E.H,!0);
T.jN=!0;var _=W.S.Q();if(q==0&&W.cV()||q!=0&&!W.cV()){T.J=o.HX;T.data={h:K.FF,w:X.O[0]};this.a(T)}if(X.c!=null){T.J=o.FN;
T.data={h:"fromAction",xo:o.Gp.VT()};this.a(T)}if(q==0){var m=X.U.slice(0),d=X.C0();d.EC(W.getName());
m.splice(X.O[0]+1,0,d);d.S=_;d.buffer=J.Tc;d.vV();T.J=o.HX;T.data={h:K.Su,f_:m,cD:[X.O[0]+1],AC:[7,11]};
this.a(T)}if(q==1){var A=W.hM();T.J=o.HX;T.data={h:K.$0,aA$:!0};this.a(T);var p=W.hM();p.N=t.j(_.o());
p.S=_;p.color=0;p.A8=!0;t.SF(J.Tc,p.N,3);if(A){var a=p.uM(A);p.S=a.S;p.N=a.N;p.color=a.color}p.Wn();
W.j$(X)}if(q==2){var f={S:_,N:t.j(_.o())};t.SF(J.Tc,f.N,3);T.J=o.FN;T.data={h:"setsel",c:f,AC:this.Ut};
this.a(T)}this.close()};function kN(){fa.call(this,[1,13],"locstor");this.f=null;this.Ra=[];var M=this.body,X=w.l("p");
X.textContent="These files are loaded every time you start Photopea.";M.appendChild(X);this.ahF=0;this.atF=w.l("span");
M.appendChild(this.atF);w.F(this.atF,"display:inline-block;  width:12em;  font-weight:bold;");var J=w.l("span","form");
M.appendChild(J);this.Hm=new fT([5,4],!1,null,!0);this.Hm.P("click",this.DT,this);J.appendChild(this.Hm._);
this.Iv=new fT("Get all as ZIP",!1,null,!0);this.Iv.P("click",this.v9,this);J.appendChild(this.Iv._);
this.M1=new gz(!0);this.M1.parent=this;this.M1.nY(1);M.appendChild(this.M1._);w.F(this.M1._,"width: 40em; height: 25em")}kN.prototype=new fa;
kN.prototype.T=function(){fa.prototype.T.call(this);this.atF.textContent=kd.get([13,2])+": "+cO.Pn(this.ahF);
this.Hm.T()};kN.prototype.SY=function(M,X){this.f=M;if(X==bN.zZ)this.Mq()};kN.prototype.Mq=function(M,X){var J=this.f.OB.If,d=0;
this.Ra=[];for(var q in J)this.Ra.push(q);this.Ra.sort(function(p,a){p=p.split(".");a=a.split(".");return p[1]==a[1]?p[0]<a[0]?-1:1:p[1]<a[1]?-1:1});
var W=Math.floor(100*w.pv()),T=Math.floor(16*w.pv()),_=[],m=[];for(var $=0;$<this.Ra.length;$++){var q=this.Ra[$],A=kN.aw(q,J[q],W,T);
_.push(A);m.push(q);d+=J[q].byteLength}this.M1.hS(_,m,W,T);this.ahF=d;this.T()};kN.prototype.DT=function(M){var X=this.M1.V();
if(X.length==0){alert("Select a file first.");return}this.M1.R([]);var J=this.f.OB.If;for(var $=0;$<X.length;
$++)delete J[this.Ra[X[$]]];var q=new jb(r.E.C,!0);q.data={h:r.m.OA,iw:bN.zZ};this.a(q)};kN.prototype.v9=function(M){var X=this.f.OB.If,J={};
for(var q in X)J[q]=new Uint8Array(X[q]);var W=UZIP.encode(J);gb.save(W,"resources.zip")};kN.aw=function(M,X,J,q){var W=w.l("canvas"),m=0;
W.width=J;W.height=q;var T=W.getContext("2d"),_=M.split(".").pop().toLowerCase();for(var $=0;$<_.length;
$++)m+=_.charCodeAt($)*613<<8*$;T.fillStyle="#"+t.NZ(m&16777215);T.fillRect(0,0,20,q);var d=Math.floor(14*w.pv());
T.fillStyle="#000000";T.font="bold "+d+"px sans-serif";var A=(q-d)/2,p=cO.Pn(X.byteLength),a=T.measureText(p);
T.fillText(p,J-12-a.width,q-A);return W.toDataURL()};function gr(){fa.call(this,[1,15],"pmanager");this.f=null;
this.GB=new iR([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.GB.P(r.E.n,this.Mq,this);
this.body.appendChild(this.GB._);var M=w.l("div","flexrow");this.body.appendChild(M);var X=this.az5=w.l("div");
M.appendChild(X);var J=w.l("div","form");M.appendChild(J);w.F(J,"width:140px; margin-left:12px");this.aH2=[bN.Vk,bN.e2,bN.sw,bN.pA,bN.gx,bN.xj];
this.sC=[new iL,new a0,new hj,new kh,new j0,new cv];for(var $=0;$<this.sC.length;$++)this.sC[$].parent=this;
this.fU=[];for(var $=0;$<4;$++){var q=new fT("Hello",!0,null,!0);q.P("click",this.VS,this);this.fU.push(q);
J.appendChild(q._)}this.Mq()}gr.prototype=new fa;gr.prototype.Ei=function(M){return M==hP.t3||M==hP.az};
gr.prototype.VS=function(M){var $=this.fU.indexOf(M.target);this.sC[this.GB.V()].dx($)};gr.prototype.T=function(){fa.prototype.T.call(this);
this.GB.T();for(var $=0;$<this.sC.length;$++)this.sC[$].T();var M=this.fU,X=this.GB.V(),J=bN.yr[this.aH2[X]],q=J[0].toUpperCase();
M[0].Hr([[23,6],"."+q]);M[1].Hr(["VAR0 ."+q,[1,8]]);M[2].Hr([6,37]);M[3].Hr([5,4])};gr.prototype.SY=function(M,X){this.f=M;
this.Mq()};gr.prototype.Mq=function(M,X){if(!w.L1(this._))return;this.T();w.p9(this.az5);this.az5.appendChild(this.sC[this.GB.V()].fb);
var J=this.sC,q=this.f;if(q==null)return;J[0].b5(q.uh);J[1].eI(q.pU,q.Yt);J[1].b5(q.km);J[2].b5(q.i3);
J[3].b5([q.bV,q.i3]);J[4].b5(q.I3);J[5].b5(q.i9)};function jw(M,X,J){fa.call(this,X,"cwindow");this.akG=new es(J[0],J[1]-33);
this.Vn=w.l("div","form");w.F(this.Vn,"width:"+(J[2]-J[0])+"px; height:"+(J[3]-J[1])+"px");this.body.appendChild(this.Vn)}jw.prototype=new fa;
jw.prototype.mb=function(M,X){return this.akG.Q()};function iu(M){var X=iu.aHc(M);fa.call(this,X,"res"+M);
var J=this.aaZ.bind(this);window.addEventListener("message",function(W){if(typeof W.data=="string"&&W.data.startsWith("--et ")){console.log(W.data);
var T=this.asf=W.data.slice(5).split(",");T[0]=parseFloat(T[0]);hO.aIo(T[0],T[1],J)}}.bind(this));this.qI=X;
this.Xm=M;this.asX=null;this.fG=null;this.wr=0;this.E$=null;this.k$=null;this.asf=null;this.f=null;w.F(this.body,"padding:0");
this.Ol=new fT("",null,null,!0);this.body.appendChild(this.Ol._);this.Ol.P("click",this.y5,this);w.F(this.Ol._,"position:absolute; margin-top: -28px;  margin-left:150px");
this.l5=new fT("\u25BC",null,null,!0);w.F(this.l5._,"position:absolute; margin-top: -28px;  margin-left:270px");
this.l5.P("click",this.a1i,this);this.body.appendChild(this.l5._);this.$C=w.l("span","form");this.body.appendChild(this.$C);
this.fU=[];for(var $=0;$<9;$++){var q=new fT(iu.aHc($));this.fU.push(q);if($==M)q.R(!0);this.$C.appendChild(q._);
q.P("click",this.acV,this)}this.a8O=new fT([5,3],null,null,!0);this.a8O.P("click",this.amj,this);this.akY=new fT("Upload Current Document as a Template",null,null,!0);
this.akY.P("click",this.a6K,this);this.a1Y=new ja("Creator / Brand name");this.Pj=new fT([1,2],null,null,!0);
this.Pj.P("click",this.v9,this);this.Hy=w.l("iframe","scrollable");w.F(this.Hy,"border:none; margin:0; padding:0;");
this.Q4=w.l("div","form scrollable padded");this.sq=new kr(M);this.sq.P("back",this.ap,this);this.sq.P("save",this.abb,this);
this.body.appendChild(this.Hy)}iu.prototype=new fa;iu.aHc=function(M){var X;if(M==0)X=[25,0];else if(M==1)X="Plugins";
else for(var J in bN.yr)if(bN.yr[J][4]==M)X=bN.yr[J][3];return X};iu.prototype.a1i=function(M){this.$C.style.display=this.$C.style.display=="none"?"":"none"};
iu.prototype.acV=function(M){var $=this.fU.indexOf(M.target);if($==this.Xm)return;this.close();var X=new jb(r.E.C,!0);
X.data={h:r.m.SQ,bf:"res"+$};this.a(X)};iu.prototype.aaZ=function(M){this.y5();this.k$=JSON.parse(M.target.response);
this.UL()};iu.prototype.mb=function(M,X){return new es(0,0)};iu.prototype.uL=function(M,X){this.a3=M;
this.oz=X;this.iH=null;X=X-4;M=M;var J=M>820,q="position:absolute; margin-top: -30px;  margin-left:270px;  margin-right:20px;",W="position:absolute; margin-top:   0px;  padding:10px;  display:none;  background-color: var(--base);  width:100%;  text-align:center;";
w.F(this.$C,J?q:W);this.$C.style.marginTop=(J?-31:0)+"px";this.l5._.style.display=J?"none":"";var T=this.Q4;
T.style.width=M-12+"px";T.style.height=X-12+"px";var T=this.sq._;T.style.width=M-12+"px";T.style.height=X-12+"px";
var T=this.Hy;T.style.width=M+"px";T.style.height=X+"px";this.YH()};iu.prototype.SY=function(M,X){this.f=M};
iu.prototype.T=function(){fa.prototype.T.call(this);for(var $=0;$<this.fU.length;$++)this.fU[$].T();
this.a8O.T()};iu.prototype.Mq=function(M,X,J,q){this.iH=M;this.y5(null,!1)};iu.prototype.y5=function(M,X){var J=X!=null?X:w.L1(this.Hy);
if(J){if(!hO.tJ()){alert("You need to log in first!");return}var q=hO.QF();if(q==null)q={};this.fG=q.tpl?q.tpl.list:[];
this.a1Y.R(q.tpl&&q.tpl.brnd?q.tpl.brnd:"");this.YH()}else{this.Hy.setAttribute("src","");this.Hy.setAttribute("src",hO.$u("templates/?type="+this.Xm+"&rsrc="+this.f.jH.join(",")))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(J?this.Q4:this.Hy);var W=kd.get(this.qI);this.Ol.Hr(J?"All "+W:"Add "+W)};iu.prototype.YH=function(){var M=kd.get(this.qI),X=this.fG,J=this.Xm,m=450;
if(X==null)return;var q=this.Q4;w.p9(q);var W=w.l("h1");q.appendChild(W);W.textContent="Share your "+M+" with the world!";
var T=w.l("ul");q.appendChild(T);var _=w.l("li");T.appendChild(_);_.textContent="By publishing your "+M+", you agree to let others use them for all kinds of purposes, even commercially.";
q.appendChild(this.a8O._);if(J==0)q.appendChild(this.akY._);w.vA(q);q.appendChild(this.a1Y._);q.appendChild(this.Pj._);
w.vA(q);m=(this.a3-20)/Math.max(1,Math.floor(this.a3/m))-42;var d="display:inline-block; width:"+m+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var $=X.length-1;$>=0;$--){var A=X[$];if(A.type==null)A.type=0;if(A.type!=J)continue;var p=w.l("div");
q.appendChild(p);w.F(p,d);var a=w.l("img");p.appendChild(a);a.setAttribute("src",A.thmb);w.F(a,"float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var f=w.l("h3");p.appendChild(f);f.textContent=A.name;w.F(f,"margin:0 0 10px 0");var s=w.l("p");p.appendChild(s);
s.textContent=A.desc;w.F(s,"height:76px;  overflow:hidden; margin-bottom: 6px;");for(var j=0;j<2;j++){var Y=new fT(j==0?"Edit":"Delete",null,null,!0);
Y.arj=$;Y.UL=j==0;Y.P("click",this.aFo,this);p.appendChild(Y._)}}};iu.prototype.a6K=function(M){if(this.iH==null){alert("No document opened.");
return}var X=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!X)return;var J=new jb(r.E.C,!0);J.data={h:r.m.Bl,sz:"psd",cT:this.apq.bind(this)};this.a(J)};iu.prototype.apq=function(M){this.aBi=M;
var X=new jb(r.E.C,!0);X.data={h:r.m.Bl,sz:"jpg",cT:this.aur.bind(this),a8o:1400};this.a(X)};iu.prototype.aur=function(M){this.E$={type:0,catg:0,desc:"",file:this.aBi,name:this.iH.name.split(".")[0],thmb:M,publ:!0,utme:""};
this.UL()};iu.prototype.amj=function(M){this.E$={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.UL()};iu.prototype.aFo=function(M){this.wr=M.target.arj;if(!M.target.UL){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.fG.splice(this.wr,1);this.v9();this.YH();return}this.UL()};iu.prototype.UL=function(){if(w.L1(this.Q4))this.body.removeChild(this.Q4);
this.body.appendChild(this.sq._);var M=this.E$?this.E$:this.k$?this.k$:this.fG[this.wr];if(M.type==null)M.type=0;
this.sq.R(M)};iu.prototype.abb=function(M){var X=this.sq.V();if(this.E$)this.fG.push(X);else if(this.k$){var J=this.asf;
hO.aIo(J[0],J[1],this.ap.bind(this),JSON.stringify(X));return}else this.fG[this.wr]=X;this.v9();this.ap()};
iu.prototype.ap=function(){var M=this.k$;this.E$=null;this.k$=null;this.body.removeChild(this.sq._);
this.body.appendChild(this.Q4);this.YH();if(M)this.y5()};iu.prototype.v9=function(){var M=hO.QF();if(M==null)M={};
if(this.fG.length==0)delete M.tpl;else{M.tpl={list:t.b(this.fG)};var X=this.a1Y.V().trim();if(X!="")M.tpl.brnd=X}hO.bh(M,function(){alert("Saved.")})};
function il(){fa.call(this,"Make Selection","makesel");var M=w.l("div","form");this.body.appendChild(M);
this.S3=new hE([12,25,1]);this.S3.R(!0);M.appendChild(this.S3._);w.vA(M);this.a48=new iD(!0);M.appendChild(this.a48._);
this.Ay=w.JH(this,this.body)}il.prototype=new fa;il.prototype.T=function(){fa.prototype.T.call(this);
this.a48.T();this.S3.T();this.Ay.T()};il.prototype.ln=function(M){var X=new jb(r.E.H,!0);X.J=o.FN;X.data={h:"frompath",FK:[null,0,this.a48.V(),this.S3.V()]};
this.close();this.a(X)};function aP(){fa.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.iH=null;this.rs=null;
this.a1J=null;var M=this.afX=w.l("div","form");w.F(M,"width:20em");this.body.appendChild(M);this.go=new i9([12,50],["PSD","PSB"]);
this.go.P(r.E.n,this.Ik,this);M.appendChild(this.go._);w.du(M);var X=new jH("Minify the file");M.appendChild(X._);
w.vA(M);var J=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.oI=[];for(var $=0;$<J.length;$++){var q=new hE(J[$]);this.oI.push(q);M.appendChild(q._);q.P(r.E.n,this.Ik,this)}w.du(M);
this.KL=new jH("aa.psd");this.QZ=new jH("10 kB");M.appendChild(this.QZ._);this.aGg=new jH("1000 B");
M.appendChild(this.aGg._);this.Ay=new fT([1,2],!0,null,!0);this.Ay.P("click",this.ln,this);M.appendChild(this.Ay._);
this.be=new fT(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.be.P("click",this.ln,this);M.appendChild(this.be._);
this.P("closebtn",this.zW,this)}aP.prototype=new fa;aP.prototype.Mq=function(M,X,J,q){var W=w.L1(this.be._),T=M.iE!=null&&M.iE.yJ=="psd";
if(T&&!W)this.afX.appendChild(this.be._);if(!T&&W)this.afX.removeChild(this.be._);for(var $=0;$<this.oI.length;
$++)this.oI[$].R(!1);this.iH=M;this.Ik()};aP.prototype.ln=function(M){if(M.target==this.Ay)gb.save(this.rs,this.a1J);
else{if(this.oI[3].V()){alert("You should not save a ZIP as a PSD to Google Drive.");return}hL.aDn(this.iH,this.rs)}};
aP.prototype.zW=function(){this.iH=null;this.rs=null};aP.prototype.Ik=function(){var M=this.iH,X=[!1,!1,!1,!1];
for(var $=0;$<3;$++)X[$]=this.oI[$].V();var J=this.oI[3].V(),q=X[3]=this.go.V()==1,W=M.name.slice(0,M.name.length-3),T=this.rs=h1.mr("PSD").iL(M,0,0,X),jX=this.a1J=W+"ps"+(q?"b":"d");
if(J){var _={};_[jX]=new Uint8Array(T);T=this.rs=UZIP.encode(_);jX=this.a1J=W+"zip"}this.KL.R(jX);this.QZ.R(cO.Pn(T.byteLength));
this.QZ._.style["font-size"]="2em";this.aGg.R(" \u2001 "+T.byteLength+" B");this.Ay.Hr(kd.get([1,2])+" \""+jX+"\"")};
aP.prototype.T=function(){fa.prototype.T.call(this);this.go.T();this.Ay.T();this.be.T()};function jl(){fa.call(this,"Confirm","confirm");
this.nT=null;var M=w.l("div");w.F(M,"margin-bottom:1em");this.body.appendChild(M);this.UJ=w.l("div");
this.UJ.textContent="Hello";M.appendChild(this.UJ);this.Ay=w.JH(this,this.body)}jl.prototype=new fa;
jl.prototype.ln=function(M){if(this.nT==null)return;console.log("okconfirm");this.close();this.nT();
this.nT=null};jl.prototype.T=function(){fa.prototype.T.call(this);this.Ay.T()};jl.prototype.Mq=function(M,X){if(X.a2P||X.aBV)this.UJ.innerHTML=X.K;
else this.UJ.textContent=X.K;if(X.aAU)this.Ay.Hr(X.aAU);this.nT=X.nT;this.Ay._.focus();if(X.a2P!=null)this._.style.top=Math.random()*(window.innerHeight-150)+"px";
this.a3o=X.a2P!=null};jl.prototype.mb=function(M,X){return new es(Math.max(0,(M-500)/2),Math.max(0,Math.min(60,(X-100)/2)))};
jl.prototype.uL=function(M,X){this.UJ.style.width=M-30+"px"};function bW(){fa.call(this,[1,16,2],"newartb");
this.zX=0;this.R0=null;var M=w.l("div","form");M.style.width="260px";this.body.appendChild(M);this.M1=new b6;
M.appendChild(this.M1._);this.Ay=w.JH(this,M)}bW.prototype=new fa;bW.prototype.$f=function(M,X){return M!=null};
bW.prototype.ln=function(M){var X=this.M1.V();this.R0.r=X.x;this.R0.$=X.y;var J=new jb(r.E.H,!0);J.J=o.Kr;
J.data={ap0:this.R0,Em:this.zX};this.a(J);this.close()};bW.prototype.T=function(){fa.prototype.T.call(this);
this.M1.T();this.Ay.T()};bW.prototype.Mq=function(M,X){this.zX=X.Em;var J=new gc(0,0,M.r,M.$);if(M.O.length!=0){var q=M.U[M.O[0]];
if(q.add.artb){J=q.PH();J.x+=J.r+100}if(X.Em==1)J=o.fx.Hg(M)}this.R0=J;this.M1.R(new es(J.r,J.$))};function d0(){fa.call(this,"Storage","storwindow");
w.F(this.body,"padding:0");this.c_=null;this.P("closebtn",this.Mr,this);this.P("canclose",this.Mr,this)}d0.prototype=new fa;
d0.prototype.SY=function(M,X){if(this.c_)this.c_.SY(M,X)};d0.prototype.mb=function(M,X){return new es(Math.max(0,Math.min(150,(M-980)/2)),Math.max(0,Math.min(150,(X-590)/2)))};
d0.prototype.uL=function(M,X){this.a3=M;this.oz=X;M=Math.min(M,980);X=Math.min(X,590);if(this.c_)this.c_.uL(M,X)};
d0.prototype.T=function(){fa.prototype.T.call(this);if(this.c_)this.c_.T()};d0.prototype.Mq=function(M,X,J,q){this.Ut=X.Em==0?"Open from Storage":"Save to Storage";
this.T();if(this.c_==null){this.c_=new js;this.c_.parent=this;this.body.appendChild(this.c_._);this.T();
this.uL(this.a3,this.oz)}Storage.nY(X.Em,M?M.name:"");js.rG(this.c_)};d0.prototype.Mr=function(M){Storage.nY(0);
js.qK();if(M.e=="canclose")this.close()};function bn(){fa.call(this,[2,14],"varsdats");var M=this.Vn=w.l("div","form");
w.F(M,"width:300px");this.body.appendChild(M);this.iH=null;this.f$=0;this.f=null;this.ya=new i9(null,[[2,14],"Data Sets",[1,8]]);
this.ya.P(r.E.n,this.a3D,this);this.o1=new bn._u;this.Ls=new bn.sV;this.zg=new bn.Uo;this.Ls.P("activate",this.Tq,this);
this.zg.P("export",this.EO,this);this.Ay=w.JH(this)}bn.prototype=new fa;bn.prototype.a3D=function(M){var X=this.ya.V(),J=this.Vn;
w.p9(J);J.appendChild(this.ya._);w.du(J);J.appendChild([this.o1,this.Ls,this.zg][X]._);J.appendChild(this.Ay._)};
bn.prototype.ln=function(M){var X=new jb(r.E.H,!0);X.J=o.HX;X.data={h:K.hx,K:JSON.stringify([this.o1.V(),this.Ls.V()])};
this.a(X);this.close()};bn.prototype.T=function(){fa.prototype.T.call(this);this.Ay.T();this.zg.T()};
bn.prototype.Mq=function(M,X){this.iH=M;this.zg.iH=M;if(M==null)return;this.o1.Mq(M,X);this.Ls.Mq(M,X);
this.ya.R(0);this.a3D();this.f$=0;this.zg.aEH()};bn.prototype.SY=function(M,X){this.f=M};bn.prototype.EO=function(M){var X=this.o1.V(),J=this.Ls.V(),q=this.zg.V();
if(X.length==0){alert("There are no variables.");return}if(J.length==0){alert("There are no data sets.");
return}var W=h1.a5U(this.iH,X,J,this.Ls.av3(),q[0],q[1],q[2],this.f,this);if(W!=null)gb.save(W,"images.zip")};
bn.prototype.Tq=function(M){var X=this.Ls.O,J=this.o1.V(),q=this.Ls.V();if(J.length==0){alert("There are no variables.");
return}if(q.length==0){alert("There are no data sets.");return}this.Lj();this.f$+=h1.aDI(this.iH,this,J,q,this.Ls.av3(),X)};
bn.prototype.Lj=function(){var M=new jb(r.E.H,!0);M.J=o.xH;M.data={h:"h_stepbck"};while(this.f$>0){this.a(M);
this.f$--}};bn.Uo=function(){bj.call(this);var M=this._=w.l("div");this.afV=new ja("Variable for file names");
M.appendChild(this.afV._);w.du(M);this.iH=null;this.jS=["JPG","PNG","PDF"];this.go=new i9([12,50],this.jS);
this.go.P(r.E.n,this.aEH,this);M.appendChild(this.go._);this.k5=new as;M.appendChild(this.k5._);this.Iv=new fT("Export all items",!0,null,!0);
this.Iv.P("click",this.EO,this);M.appendChild(this.Iv._)};bn.Uo.prototype=new bj;bn.Uo.prototype.T=function(M){this.afV.T();
this.go.T();this.Iv.T();this.k5.T()};bn.Uo.prototype.aEH=function(M){if(this.iH==null)return;var X=this.jS[this.go.V()],J=this.iH,q=J.add.artd;
this.k5.j6(X,null,null,q!=null&&q.Cnt.v>1)};bn.Uo.prototype.EO=function(M){this.a(new jb("export"))};
bn.Uo.prototype.V=function(){var M=this.jS[this.go.V()];return[M,this.k5.V(),this.afV.V().trim()]};bn.sV=function(){bj.call(this);
this.Vp=null;this.ant=[];this.O=0;var M=this._=w.l("div","form");this.a7U=new eD("Import a CSV file");
M.appendChild(this.a7U._);this.a7U.P(r.E.n,this.axy,this);this.FL=w.l("div","scrollable");w.F(this.FL,"overflow:scroll;  height:234px;");
M.appendChild(this.FL);this.aAt=new eD("Source Images",!0);M.appendChild(this.aAt._)};bn.sV.prototype=new bj;
bn.sV.prototype.axy=function(M){var X=this.a7U.V();for(var J in X){X=X[J];break}this.Vp=cN.Ah(H.Og(X));
this.IF()};bn.sV.prototype.av3=function(){return this.aAt.V()};bn.sV.prototype.Mq=function(M,X){var J=this.Vp=t.b(M.a1);
this.IF()};bn.sV.prototype.V=function(){return this.Vp};bn.sV.prototype.IF=function(){var M=this.$P.bind(this),X=this.Vp,q="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.ant=[];var J=w.l("table");w.F(J,"border-collapse: collapse;");for(var $=0;$<X.length;$++){var W=w.l("tr"),T=X[$],_=$==0?"th":"td";
J.appendChild(W);var m=w.l(_);W.appendChild(m);w.F(m,q+"cursor:pointer;");if($!=0)m.textContent="\u2713";
this.ant.push(m);m.addEventListener("click",M,!1);for(var d=0;d<T.length;d++){var m=w.l(_);m.textContent=T[d];
W.appendChild(m);w.F(m,q);m.setAttribute("title",T[d])}}w.p9(this.FL);this.FL.appendChild(J)};bn.sV.prototype.$P=function(M){this.O=this.ant.indexOf(M.currentTarget);
this.a(new jb("activate"))};bn._u=function(){bj.call(this);var M=this._=w.l("div","form marged");this.np=null;
this.$B=[];this.pw=[];this.CZ=null;this.Je=new iR([0,3],[]);this.Je.P(r.E.n,this.aG8,this);M.appendChild(this.Je._);
this.a6J=[];var X=["Visibility","Text Content","Pixel Content"];for(var $=0;$<X.length;$++){w.du(M);
var J=new hE(X[$]);J.P(r.E.n,this.wQ,this);M.appendChild(J._);w.vA(M);var q=new ja("Variable Name");
q.P(r.E.n,this.wQ,this);M.appendChild(q._);this.a6J.push(J,q)}};bn._u.prototype=new bj;bn._u.prototype.wQ=function(M){var X=this.Je.V(),J=this.CZ[X],q=this.$B[X],W=this.np["l"+J],T=this.a6J;
if(W==null)this.np["l"+J]=W=[];while(W.length!=0)W.pop();for(var $=0;$<3;$++){var _=T[2*$+1].V().trim();
if(!T[2*$].V())continue;if(_.indexOf(" ")!=-1){alert("Variable names can not contain spaces. But you can use \".\", \":\", \"-\" or \"_\".",4e3)}_=_.replaceAll(" ","");
var m={varName:_,trait:["visibility","textcontent","fileref"][$]};W.push(m);if($==2){m.align="center";
m.clip="false";m.placementMethod="fit";m.valign="middle"}}if(W.length==0)delete this.np["l"+J];this.Mq()};
bn._u.prototype.aG8=function(M){var X=this.Je.V(),J=this.CZ[X],q=this.$B[X],W=this.np["l"+J],T=this.a6J;
if(W==null)W=[];for(var $=0;$<3;$++){var _=$==0||$==1&&q==0||$==2&&q==1;T[2*$]._3(_);T[2*$].R(!1);T[2*$+1]._3(_);
if(!_)T[2*$+1].R("")}for(var $=0;$<W.length;$++){var m=W[$],d=m.trait,A=["visibility","textcontent","fileref"].indexOf(d);
T[A*2].R(!0);T[A*2+1].R(m.varName)}};bn._u.prototype.Mq=function(M,X){if(M){var J=t.b(M.ty),q=this.np={};
for(var $=0;$<J.length;$++){var W=J[$],T=W.docRef;T="l"+T.slice(4,T.length-2);if(q[T]==null)q[T]=[];
q[T].push(W)}this.CZ=[];this.$B=[];this.pw=[];for(var $=M.U.length-1;$>=0;$--){var _=M.U[$],T=_.add.lyid;
if(_.add.lsct==gO.Vd)continue;this.CZ.push(T);this.$B.push(_.add.TySh?0:1);this.pw.push(_.getName())}}var m=[],d=this.pw;
for(var $=0;$<d.length;$++){m.push(d[$]+(this.np["l"+this.CZ[$]]?" *":""))}var A=this.Je.V();this.Je.P$(m);
this.Je.R(A);this.aG8()};bn._u.prototype.V=function(){var M=this.np,X=[];for(var J in M){var q=M[J];
for(var W=0;W<q.length;W++){q[W].docRef="id('"+J.slice(1)+"')";X.push(q[W])}}return X};function hX(){fa.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.ank=!1;var M=this.Ea=[],X=w.l("div","form");w.F(X,"width:20em");this.body.appendChild(X);for(var $=0;
$<2;$++){var J=new hE([22,4,2+$]);X.appendChild(J._);w.vA(X);var q=new i9(null,[["N equal parts"],["N pixels per part"]]);
X.appendChild(q._);w.vA(X);var W=new j6("N",0,1e3);W.R(4);W.parent=this;X.appendChild(W._);w.vA(X);if($==0)w.du(X);
M.push(J,q,W)}for(var $=0;$<M.length;$++)M[$].P(r.E.n,this.Bq,this);M.push(w.JH(this,X));this.P("closebtn",this.Lj,this)}hX.prototype=new fa;
hX.prototype.Lj=function(){if(this.ank){var M=new jb(r.E.H,!0);M.J=o.xH;M.data={h:"h_stepbck"};this.a(M)}};
hX.prototype.Bq=function(M){this.Lj();this.ank=!0;var X=[];for(var $=0;$<6;$++)X.push(this.Ea[$].V());
var J={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var q=0;q<2;q++){if(!X[q*3])continue;var W=X[q*3+1],T=X[q*3+2];J[["slices","pixels"][W]+["Across","Down"][q]]={t:"long",v:T}}var _=new jb(r.E.pL,!0);
_.data={hC:"divide",Qd:J};this.a(_)};hX.prototype.ln=function(M){this.close()};hX.prototype.T=function(){fa.prototype.T.call(this);
var M=this.Ea;for(var $=0;$<M.length;$++)M[$].T()};hX.prototype.Mq=function(M,X){this.ank=!1};function fI(){fa.call(this,"Stroke Path","strokepath");
this.f=null;this.Po=null;this.avW=null;this.Ay=null;this.aII=[o.yF,o.Vk,o.g$,o.nS,o.Gx,o.It,o.lW,o.g9,o.M0,o.jP,o.k0,o.y6,o.IP,o.z7,o.OE]}fI.prototype=new fa;
fI.prototype.T=function(){fa.prototype.T.call(this);if(this.Ay){this.Po.T();this.Ay.T()}};fI.prototype.ln=function(M){var X=this.aII[this.Po.V()],J=null;
for(var q in o.Cr)if(o.Cr[q]==X)J=q;var W=new jb(r.E.pL,!0);W.data=o.HI.Ki(J,this.avW.V());this.close();
this.a(W)};fI.prototype.SY=function(M,X){if(this.f==null){var J=[];for(var $=0;$<this.aII.length;++$){J.push(M.W.map[this.aII[$]].J.name)}var q=w.l("div","form");
this.body.appendChild(q);this.Po=new iR("Tool",J);this.Po.R(1);q.appendChild(this.Po._);this.avW=new hE("Simulate Pressure");
w.vA(q);q.appendChild(this.avW._);this.Ay=w.JH(this,this.body)}this.f=M};function ad(){fa.call(this,[1,18],"linkview");
w.Z6(this.body,"form");var M=this._Z=[new ja(null,null,17),new fT([5,1],!1,null,!0),new fT([1,0],!1,null,!0)];
for(var $=0;$<3;$++){var X=M[$];this.body.appendChild(X._);if($!=0)X.P("click",this.Zk,this);if($==0)w.vA(this.body)}}ad.prototype=new fa;
ad.prototype.Mq=function(M,X){var J=X.axj;if(J.startsWith("https://"))J=J.slice(8);this._Z[0].R(J)};
ad.prototype.Zk=function(M){var X=this._Z,J=X[0].V(),q=M.target==this._Z[1];if(q){navigator.clipboard.writeText(J);
alert("Copied to a clipboard!")}else window.open("https://"+J,"Shared")};function gq(M){fa.call(this,M==0?[[23,6],[17,2]]:["VAR0 VAR1",[1,2],[17,2]],["loadsel","savesel"][M]);
this.td=null;this.axH=M;var X=w.l("div","form label8");w.F(X,"max-width:26em");this.body.appendChild(X);
this.cH=new iR("Document",["abc","def"]);this.cH.P(r.E.n,this.wQ,this);X.appendChild(this.cH._);w.vA(X);
this.h0=new iR([12,4],["abc","def"]);this.h0.P(r.E.n,this.wQ,this);X.appendChild(this.h0._);this.avE=new hE([4,11]);
this.UJ=new ja([12,48]);this.UJ.R("Alpha");if(M==0){}else{X.appendChild(this.UJ._)}this.gC=new iD(!0);
X.appendChild(this.gC._);this.Ay=w.JH(this,X)}gq.prototype=new fa;gq.prototype.mG=function(){return!0};
gq.prototype.T=function(){fa.prototype.T.call(this);this.Ay.T();this.cH.T();this.h0.T();this.UJ.T();
this.avE.T();this.gC.T()};gq.prototype.wQ=function(M){var X=this.axH;if(M==null||M==this.cH){var J=this.cH.V(),q=this.td[J],W=[];
if(X==0)W.push(q.U[q.O[0]].getName()+" Transparency",q.U[q.O[0]].getName()+" Gray");else W.push([5,3]);
for(var $=0;$<q.OD.length;$++)W.push(q.OD[$].name);this.h0.P$(W)}if(X==0)return;var T=this.h0.V();this.UJ._3(T==0);
this.gC._3(T!=0)};gq.prototype.Mq=function(M,X,J){this.td=J;var q=[];for(var $=0;$<J.length;$++){var W=J[$].name;
q.push(W.length<30?W:W.slice(0,27)+"...")}this.cH.P$(q);this.cH.R(J.indexOf(M));this.wQ(null)};gq.prototype.ln=function(M){var X=this.axH,J=this.h0.V(),q=this.cH.V(),W=this.td[q],T=this.gC.V(),_,m=!1;
if(X==0){if(J==1)m=!0;J=Math.max(J-1,0)}if(J==0){_=new jb(r.E.pL,!0);if(X==0)_.data=o.Gp.Z2(T,m?"Gray":"Trsp",W.U[W.O[0]].getName());
else _.data={hC:"duplicate",Qd:{classID:"null",Nm:{t:"TEXT",v:this.UJ.V()},null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}else{_=new jb(r.E.H,!0);
if(X==0){_.J=o.FN;_.data={h:"fromchannel",FK:[-4-J,0,T]}}else{_.J=o.HX;_.data={h:K.CV,NL:"seltochannel",FK:[J-1,T]}}}this.close();
this.a(_)};function iJ(){fa.call(this,"PeaMark","peamark");var M=w.l("span");M.innerHTML="Test your desktop, laptop, phone, tablet, any device! Bigger score is better :)<br /><small>*** connect your laptop to a charger for better results</small><br/><br/>";
this.body.appendChild(M);var X=w.l("div","form");w.F(this.body,"width:300px;");this.body.appendChild(X);
this.aaL=!1;this.LC=[];this.Tk=[];this.a2V=[];for(var $=0;$<3;$++){var M=w.l("div");M.textContent="0";
X.appendChild(M);w.F(M,"text-align:center; font-size:2em");var J=w.l("hr");this.Tk.push(J);if($!=2)X.appendChild(J);
w.F(J,"height:2px; background-color:#00ff00");var q=new fT("Test "+["CPU","GPU","free RAM"][$],!0,null,!0);
X.appendChild(q._);q.P("click",this.adF,this);this.LC.push(M);this.a2V.push(q)}w.vA(this.body);this.acQ=new fT("Browse scores",!1,null,!0);
var W=this.acQ._;this.body.appendChild(W);this.acQ.P("click",this.at6,this);w.F(W,"position:absolute;top:100px;left:10px;");
this.aqp=new fT("Tweet your score!",!1,null,!0);var W=this.aqp._;this.body.appendChild(W);this.aqp.P("click",this.at6,this);
w.F(W,"position:absolute;top:100px;right:10px;");this.mI=w.l("div","scrollable");this.body.appendChild(this.mI);
this.mI.style.height="160px";this.TT=[];this.arK=0;this.aHe=this.aaE.bind(this);this.a1I()}iJ.prototype=new fa;
iJ.prototype.at6=function(M){var X=iJ.G5,J;if(M.target==this.acQ){J="https://twitter.com/hashtag/peamark?f=live"}else{var q=X[X.length-1];
if(Math.min(q[2],q[3])==0){alert("Run both tests first.");return}J="https://twitter.com/intent/tweet?text="+encodeURIComponent("My #peamark score is "+q[2]+"/"+q[3]+"! Test your device at Photopea.com (More - PeaMark)")}window.open(J,"_blank")};
iJ.prototype.adF=function(M){var X=this.a2V.indexOf(M.target),J=1024,q=1024,W=new gc(0,0,J,q),T=this.aHe;
if(X==0){var _=t.j(W.o());for(var m=0;m<q;m++)for(var d=0;d<J;d++)_[m*J+d]=((m>>>7)+(d>>>7)&1)*255;this.TT=[X,_,J,q];
for(var $=0;$<4;$++)T(!0)}else if(X==1){var A=t.j(W.o()*4),p=aq.hu(1,J,q);p.set(A);t.Tb(A,4278190335);
var a=aq.hu(0,J,q);a.set(A);var f=[1,1,-1,0,-1,1,-1,0,-.3333333432674408,-.3333333432674408,-.3333333432674408,0,1,-1,-1,0],s={e:aq.filter.ahp,LU:new Float32Array([1/J,1/q]),aay:0,K7:20,arL:new Float32Array([0,1]),aFX:new Float32Array([0,0,0]),ajY:new Float32Array(f),a7_:new Float32Array(f)};
this.TT=[X,s,A,a,p];T(!0)}else{if(this.aaL){alert("Close all documents before running this test.");return}this.TT=[X,[]];
T(!0)}this.am7=[[0,0],[0,0],[0,0]];this.arK=Date.now();setTimeout(this.aHe,20)};iJ.prototype.aaE=function(M){var X=this.TT,J=X[0],q=Date.now(),_=!1,m;
if(J==0){t.style.Pl(X[1],X[2],X[3])}else if(J==1){aq.O$(X[4]);aq.filter.te(X[1],X[3].SX);X[4].get(X[2])}if(M)return;
var W=Date.now()-q,T=this.am7[J];T[0]+=W;T[1]++;if(J<2){var d=[26,73];m=Math.round(1e3*d[J]/(T[0]/T[1]));
var A=(Date.now()-this.arK)/5e3,_=A>1;this.Tk[J].style.width=Math.min(100,A*100)+"%"}else{var p=128*(1<<20);
try{var a=new Uint8Array(p);a.fill(117);X[1].push(a)}catch(hP){_=!0;this.TT=null;alert("finished")}m=(X[1].length*p/(1<<30)).toFixed(2)+" GB"}this.LC[J].textContent=m;
if(!_)setTimeout(this.aHe,20);else{var f=iJ.G5;f[f.length-1][2+J]=m;this.a1I()}};iJ.prototype.a1I=function(){var M=this.mI,J="",q=" style=\"text-align:right; width:4em;\">";
w.p9(M);var X=iJ.G5.slice(0);X.sort(function(d,A){return 1e3*(A[2]-d[2])+(A[3]-d[3])});var W="<td"+q,T="<th"+q;
for(var $=0;$<X.length;$++){var _=X[$],m=null;if(($&1)==0)m="rgba(255,255,255,0.05)";if(_[1]=="Your Device")m="rgba(255,255,0,0.2)";
J+="<tr style=\""+(m?" background-color:"+m:"")+"\"><td>"+_[1]+"</td>"+W+_[2]+"</td>"+W+_[3]+"</td></tr>"}M.innerHTML="<table style=\"line-height:1.5em; border-collapse: collapse;\"><tr><th style=\"width:13.7em;\">Device</th>"+T+"CPU</th>"+T+"GPU</th></tr>"+J+"</table>"};
iJ.prototype.Mq=function(M,X,J,q){this.aaL=M!=null};iJ.G5=[[0,"Ryzen 9 7900X + RTX 3080 Ti",1411,13059],[0,"Raspberry Pi 5",370,17],[0,"Raspberry Pi 400",150,6],[1,"Ryzen 7 5700U",1e3,1e3],[1,"MacBook Air 2017",539,367],[1,"MacBook Pro M1",1394,1856],[1,"MacBook Air M1",1273,971],[2,"iPad Air 4th Gen",1386,386],[3,"iPhone 15 Pro",1700,934],[3,"iPhone 13 Pro Max",1476,556],[3,"iPhone SE 2020",1180,303],[3,"Google Pixel 6a",830,638],[3,"Sony Xperia 1 II",410,720],[3,"iPhone 11",827,207],[3,"LG G4 (2015)",111,87],[3,"Google Nexus 7 2013",48,36],[0,"Your Device",0,0]];
function fe(){fa.call(this,"Measurement Scale","measscale");var M=w.l("div","form label8");M.style.width="300px";
this.body.appendChild(M);var X=this.Pq=[new ja("Pixel Length"),new ja("Logical Length"),new ja("Unit Name"),new jH("Hi")];
for(var $=0;$<4;$++){var J=X[$];J.P(r.E.n,this.wQ,this);M.appendChild(J._)}this.Ay=w.JH(this,M)}fe.prototype=new fa;
fe.prototype.mb=function(M,X){return new es(Math.max(0,Math.min(150,(M-250)/2)),Math.max(0,Math.min(150,(X-120)/2)))};
fe.prototype.wQ=function(M){var X=this.Pq;X[3].R(X[0].V()+" pixels = "+X[1].V()+" "+X[2].V())};fe.prototype.ln=function(M){var X=this.Pq,J=[];
for(var $=0;$<3;$++)J.push(X[$].V());J[0]=parseFloat(J[0]);J[1]=parseFloat(J[1]);var q=new jb(r.E.H,!0);
q.J=o.hA;q.data={h:"unit",K:J};this.a(q);this.close()};fe.prototype.T=function(){fa.prototype.T.call(this);
var M=this.Pq;for(var $=0;$<M.length;$++)M[$].T()};fe.prototype.Mq=function(M,X){var J=this.Pq;J[0].R(Math.round(X.dR));
if(M.jk){var q=M.jk.T.v;console.log(q);J[1].R(q.logicalLength.v);J[2].R(q.logicalUnits.v)}else{J[1].R(1);
J[2].R("unitName")}this.wQ()};function gF(M,X,J,q){bj.call(this);this.name=M;this.azA=J;this.L4=q;this.Wq=w.l("div","");
this.Wq.setAttribute("draggable","true");this.ds=w.l("div","pbody");this.gJ=new fT("",!1,"");this.gJ.parent=this;
this.agH=w.l("span","cross gsicon");this.Qs=w.l("span","label");var W=this.a3t.bind(this);this.Wq.addEventListener("mousedown",this.v3.bind(this),!1);
this.Wq.addEventListener("contextmenu",W,!1);this.gJ._.addEventListener("contextmenu",W,!1);this.agH.addEventListener("mousedown",this.f6.bind(this),!1);
this.Wq.appendChild(this.Qs);if(X)this.Wq.appendChild(this.agH);this.QR=!1;this.Qs.textContent=M}gF.prototype=new bj;
gF.prototype.nr=function(){return null};gF.prototype.T=function(){var M=kd.get(this.name),X=!1,J=this.a3==0?22:Math.round(2+this.a3/50);
if(M.endsWith(" *")){X=!0;M=M.slice(0,M.length-2);J-=2}var q=M.length>J;this.Qs.textContent=q?M.slice(0,J-2):M;
this.Wq.setAttribute("title",M);if(q)for(var W=0;W<2;W++){var T=w.l("span");T.textContent=M.charAt(J-2+W);
w.F(T,"opacity:"+(.6-W*.4));this.Qs.appendChild(T)}if(X){var T=w.l("span");T.textContent=" *";this.Qs.appendChild(T)}var _=M.split(" "),m=_.length==2?_[0].substring(0,2)+_[1][0]:M.substring(0,3);
if(m.charCodeAt(0)>=11776)m=m.substring(0,1);var d=this.azA;if(d==null)this.gJ.Hr(m,M);else{var A;if(d.startsWith("---"))A="<img src=\""+PIMG[d.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(d.startsWith("==="))A="<img src=\""+d.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(d.indexOf("\"")==-1)A="<img src=\""+d+"\" alt=\""+w.YJ(M).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.gJ.Hr(A,M)}};gF.prototype.enable=function(){this.ds.className="pbody"};gF.prototype.disable=function(){this.ds.className="pbody disabled"};
gF.prototype.SY=function(M,X){};gF.prototype.Mq=function(M,X,J){};gF.prototype.uH=function(M){};gF.prototype.uL=function(M,X){};
gF.prototype.hK=function(M){this.name=M;this.T()};gF.prototype.IQ=function(){};gF.prototype.v3=function(M){if(M.button==0)this.a(new jb("select",!1));
if(M.button==1)this.Y0()};gF.prototype.a3t=function(M){w.xb(M);if(this.L4!=null&&isNaN(this.L4))return;
var X=w.uP(M,document.body),J=this.azb;if(J==null){J=this.azb=new an([{name:[1,12,0]},{name:"Close All"},{name:"Close Others"}]);
this.azb.P("select",this.a6y,this)}J.update(null);J.T();J.parent=this;var q=new jb(r.E.C,!0);q.data={h:r.m._5,kv:J,x:X.x+1,y:X.y+1};
this.a(q)};gF.prototype.Y0=function(){if(this.L4!=null&&!isNaN(this.L4)){var M=new jb(r.E.C,!0);M.data={h:r.m.Go,kv:this.azb};
this.a(M);M.data={h:r.m.OA,iw:bN.QH,K:parseFloat(this.L4),jo:"del"};this.a(M)}else if(this.aIX())this.a(new jb(r.E.Bb,!1))};
gF.prototype.aIX=function(M){return!0};gF.prototype.f6=function(M){if(M.stopPropagation)M.stopPropagation();
this.Y0()};gF.prototype.a6y=function(M){var $=M.target.gu()[0];if($==0)this.Y0();else{var X=new jb(r.E.Bb,!1);
X.data=$-1;this.a(X)}};gF.prototype.H_=function(M,X,J,q,W){};gF.prototype.T_=function(M,X,J,q,W){};gF.prototype.fw=function(M,X,J,q,W){};
gF.U8=function(M,X,J){if(M.childElementCount!=0)return;var q=M.textContent;this.lZ=this.aHj.bind(this);
this.amL=this.aw4.bind(this);this.u6=X;this.ay2=J;this.us=M;this.au2=q;var W=w.l("input","");W.setAttribute("type","text");
W.setAttribute("size","10");W.setAttribute("value",q);w.p9(M);M.appendChild(W);W.select();W.focus();
w.IJ(M);M.addEventListener("keyup",this.lZ,!1);document.body.addEventListener("mousedown",this.amL,!1)};
gF.U8.prototype.aHj=function(M){var X=hP.jt,J=X(M.code,hP.ej);if(X(M.code,hP.ke)||J)this.acY(J)};gF.U8.prototype.aw4=function(M){var X=M.target;
if(X.tagName&&X.tagName.toLowerCase()=="input")return;this.acY(!0)};gF.U8.prototype.acY=function(M){var X=this.us,J=X.firstChild.value;
X.removeEventListener("keyup",this.lZ);document.body.removeEventListener("mousedown",this.amL);if(this.ay2||M&&J!=""&&J!=this.au2){this.u6(J)}else{w.p9(X);
X.textContent=this.au2}};gF.hU=function(){return[0,1,2,3,5,6,7,9,10,16,17,100]};gF.a4q=function(M){var X=gF.hU(),J=[];
for(var $=0;$<M.length;$++)if(X.indexOf(M[$])==-1)J.push(M[$]);for(var $=0;$<X.length;$++)if(M.indexOf(X[$])==-1)J.push(-X[$]);
return J};gF.a0k=function(M){var X=gF.hU();for(var $=0;$<M.length;$++){var J=M[$],q=X.indexOf(J);if(q==-1)q=X.indexOf(-J);
if(0<=J&&q==-1)X.push(J);if(J<0&&q!=-1)X.splice(q,1)}return X};gF.UE={xH:"0",aGD:"1",HX:"2",aGw:"3",aIg:"4",BJ:"5",CSS:"6",Vk:"7",apU:"8",afK:"9",auk:"10",als:"11",axx:"12",M3:"13",m$:"14",aEW:"15",aGz:"16",$c:"17",ag_:"18",aqZ:"19",aIA:"20",pA:"21",a7c:"22",aBc:"23",aIv:"24",a6N:"25",ayj:"26"};
function eW(){gF.call(this,[9,9],!1,"---panels/actions",gF.UE.als);this.f=null;this.ER=[0,0]}eW.prototype=new gF("");
eW.prototype.qH=function(){if(!w.L1(this.ds))return;if(this.I0){this.IF();return}this.I0=w.l("div","padded scrollable");
w.F(this.I0,"width:260px;  height:260px");this.ds.appendChild(this.I0);this.P(r.E.n,this.EQ,this);this.iB=w.l("div","lpfoot");
this.ds.appendChild(this.iB);this.sC=[];var M="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",X="</svg>",J=M+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+X,q=M+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+X;
this.ajn=M+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+X;this.axh=M+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+X;
var W=[this.ajn,q,"lrs/folder","lrs/newlayer","lrs/bin",J],T=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var $=0;$<W.length;$++){var _=W[$];if(1<$&&$!=W.length-1)_="<img src=\""+PIMG[W[$]]+"\" class=\"miniscale gsicon\" />";
var m=new fT(_,!1,T[$]);m.P("click",this.ID,this);this.iB.appendChild(m._);this.sC.push(m)}this.IF()};
eW.prototype.T=function(){gF.prototype.T.call(this);if(this.I0==null)return;for(var $=0;$<this.sC.length;
$++)this.sC[$].T()};eW.prototype.ID=function(M){var $=this.sC.indexOf(M.currentTarget),X=this.ER,J=this.f,q=J.cm;
if($==0){var W,T=J.Ax;if(q.length==0){alert("Create an Action Set first.");return}if(X.length<2){alert("Select a target action first.");
return}if(T==null){W=this.axh;T=this.ER}else{W=this.ajn;T=null}this.sC[0].Hr(W);J.Ax=T}else if($==1)this.a3c();
else if($==2||$==3){var _={AC:"Action Set "+q.length,dy:[],exp:!0};if($==2||q.length==0){X=[q.length];
q.push(_)}if($==3){var m=q[X[0]].dy;X=[X[0],m.length];m.push({AC:"Action "+m.length,color:0,dy:[],a5b:!1,shift:!1,exp:!0,gO:m.length})}this.ER=X;
this.IF()}else if($==4){var d;if(X.length==1)d=q;else if(X.length==2)d=q[X[0]].dy;else d=q[X[0]].dy[X[1]].dy;
var A=X.length-1;d.splice(X[A],1);if(d.length==0)X.pop();else while(X[A]>=d.length)X[A]--;if(X.length==0)X.push(0);
this.IF()}else if($==5){if(q.length==0){alert("No Actions Present.");return}var p=new jb(r.E.C,!0);p.data={h:r.m.TV,aig:bN.H,WK:X[0]};
this.a(p)}};eW.prototype.EQ=function(M){var X=this.f.cm,J=M.data.h,q=M.data.YS;if(J=="sel")this.ER=q;
if(J=="fold"){if(q.length==1)X[q[0]].exp=!X[q[0]].exp;else X[q[0]].dy[q[1]].exp=!X[q[0]].dy[q[1]].exp}if(J=="enab"){var W=X[q[0]].dy[q[1]].dy[q[2]];
W.i=!W.i}if(J=="nchange"){if(q.length==1)X[q[0]].AC=M.data.iy;else X[q[0]].dy[q[1]].AC=M.data.iy}this.IF()};
eW.prototype.Mq=eW.prototype.IQ=function(){this.qH()};eW.prototype.SY=function(M,X){this.f=M;if(this.I0==null)return;
if(X==bN.H||X==bN.Ru)this.IF()};eW.prototype.IF=function(){if(this.f==null)return;w.p9(this.I0);var M=this.f.cm;
if(M.length==0)return;var X=JSON.stringify(this.ER);for(var $=0;$<M.length;$++){var J=M[$],q=new eW.Cf([$],X,J.exp,J.AC.split("=").pop());
q.parent=this;this.I0.appendChild(q._);if(!J.exp)continue;for(var W=0;W<J.dy.length;W++){var T=J.dy[W],q=new eW.Cf([$,W],X,T.exp,T.AC.split("=").pop());
q.parent=this;this.I0.appendChild(q._);if(!T.exp)continue;for(var _=0;_<T.dy.length;_++){var m=T.dy[_],q=new eW.Cf([$,W,_],X,null,kd.get(k$.a2M(m)),m.i);
q.parent=this;this.I0.appendChild(q._)}}}};eW.prototype.a3c=function(){var M=this.f.cm,X=this.ER;if(M.length==0){alert("No Actions Present");
return}if(X.length==1){alert("Select an Action first");return}if(this.f.Ax!=null){alert("You can not apply actions while recording actions");
return}if(X.length==1)X.push(0);var J=M[X[0]],q=J.dy[X[1]],W=new jb(r.E.C,!0);W.data={h:r.m.im,FK:[q.AC,J.AC]};
this.a(W)};eW.Cf=function(M,X,J,q,W){bj.call(this);this.YS=M;var T=this.YS.length-1;this._=w.l("div","layeritem"+(JSON.stringify(M)==X?" selected":""));
this.Mi=w.l("div","head");this._.appendChild(this.Mi);w.F(this.Mi,"height:24px");this.JU=w.l("div","headL");
this.Mi.appendChild(this.JU);if(T!=0){var _=w.l("div");_.style.width=T*20+"px";this.JU.appendChild(_)}if(J!=null){var m=this.asV=w.l("div",J?"open":"closed");
this.JU.appendChild(m)}else{var d=this.aIH=w.l("div","cmark");w.F(d,"background-size:12px 12px; opacity:"+(W?1:.3));
this.JU.appendChild(d)}if(T==0){var A=w.l("div","folder");this.JU.appendChild(A)}var p=this.Qs=w.l("div","label");
p.textContent=q;this.JU.appendChild(p);this._.addEventListener("mouseup",this.Tq.bind(this),!1)};eW.Cf.prototype=new bj;
eW.Cf.prototype.Tq=function(M){if(M.detail==1&&M.target.tagName.toLowerCase()!="input"){var X="sel";
if(M.target==this.asV)X="fold";if(M.target==this.aIH)X="enab";var J=new jb(r.E.n,!0);J.data={h:X,YS:this.YS};
this.a(J)}else if(this.YS.length<3)var q=new gF.U8(this.Qs,this.u6.bind(this))};eW.Cf.prototype.u6=function(M){var X=new jb(r.E.n,!0);
X.data={h:"nchange",iy:M,YS:this.YS};this.a(X)};function cB(){gF.call(this,[3],!1,"---lrs/adj",gF.UE.ag_)}cB.prototype=new gF("");
cB.prototype.qH=function(){if(!w.L1(this.ds)||this.sC)return;w.F(this.ds,"text-align:center;  padding:6px; min-width:220px");
this.sC=[];var $=0;for(var M in ia.names){var X=new fT("<img src=\""+PIMG["adj/"+M]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,ia.names[M]);
X.P("click",this.JD,this);this.sC.push(X);this.ds.appendChild(X._);if($==4||$==10)w.vA(this.ds);$++}this.T()};
cB.prototype.Mq=function(){this.qH()};cB.prototype.IQ=function(){this.qH()};cB.prototype.T=function(){gF.prototype.T.call(this);
if(this.sC==null)return;for(var $=0;$<this.sC.length;$++)this.sC[$].T()};cB.prototype.JD=function(M){var X=this.sC.indexOf(M.target),J=hf._A()[X],q=new jb(J.A,!0);
q.data=J.p;this.a(q)};function aR(){gF.call(this,[12,22],!1,null,gF.UE.pA);this.I0=w.l("div","padded");
this.f=null;this.ds.appendChild(this.I0);this.w_=new kh(null,17.7,10);this.w_.parent=this;this.w_.P(r.E.n,this.Bq,this);
this.I0.appendChild(this.w_.fb)}aR.prototype=new gF("");aR.prototype.Bq=function(M){var X=this.w_.V(),J=new jb(r.E.H,!0);
J.data={h:"setstl",K:X.$m};J.J=o.vt;this.a(J);J.data={h:"confirm"};this.a(J)};aR.prototype.SY=function(M,X){this.f=M;
this.IF()};aR.prototype.IF=function(){var M=this.f;if(M==null)return;this.w_.b5([M.bV,M.i3]);this.w_.uL()};
aR.prototype.Mq=function(){this.IF()};aR.prototype.IQ=function(){this.IF()};var hD=function(){function M(){gF.call(this,[9,3],!1,"---panels/brush",gF.UE.Vk);
this.Ro=null;this.f=null}M.prototype=new gF("");M.prototype.qH=function(){var W=w.l("div","");this.ds.appendChild(W);
this.fl=w.l("div","bordered cell");w.F(this.fl,"width:10em; height:28.5em;");W.appendChild(this.fl);
this.Wc=[];this.abB=null;this.JK=[];var T=this.azo.bind(this);this.CM=[new J("basic"),new J("useTipDynamics"),new J("useScatter"),new J("useColorDynamics"),new J("usePaintDynamics")];
for(var $=0;$<this.CM.length;$++){var _=w.l("div","listitem"),m=this.CM[$],A=null;m.parent=this;m.P("brushchange",this.aIZ,this);
var d=m.ZJ;if($==0){this.abB=new jH(d);_.appendChild(this.abB._)}else{A=new hE(d,!1);A.P(r.E.n,this.aup,this);
_.appendChild(A._)}this.JK.push(A);this.fl.appendChild(_);this.Wc.push(_);_.addEventListener("click",T,!1)}this.zv=w.l("div","cell padded");
W.appendChild(this.zv);this.setItem(0);this.kX=w.l("canvas");this.kX.height=10;W.appendChild(this.kX);
this.qt=this.kX.getContext("2d");this.Q1()};M.prototype.uL=function(W,T){if(this.a3==W)return;this.a3=W;
this.oz=T;this.Q1()};M.prototype.IQ=function(){if(!w.L1(this.ds))return;if(this.fl){this.Q1();return}this.qH();
this.T();this.SY(this.f,bN.Ru)};M.prototype.T=function(){gF.prototype.T.call(this);if(this.fl==null)return;
this.abB.T();for(var $=1;$<this.JK.length;$++)this.JK[$].T();for(var $=0;$<this.CM.length;$++)this.CM[$].T()};
M.prototype.aIZ=function(W){var T=this.CM.indexOf(W.currentTarget),_=t.b(this.CM[T].Ro),m=new jb(r.E.C,!0);
m.data={h:r.m.OA,iw:bN.s3,Ro:_};this.a(m)};M.prototype.aup=function(W){this.aIc(this.JK.indexOf(W.currentTarget),W.currentTarget.AZ())};
M.prototype.azo=function(W){var $=this.Wc.indexOf(W.currentTarget);if(W.target.tagName.toLowerCase()=="input")return;
if(this.JK[$]&&!this.JK[$].AZ()){this.JK[$].lH();this.aIc($,!0)}this.setItem($)};M.prototype.aIc=function(W,T){this.CM[W].axk(T)};
M.prototype.setItem=function(W){for(var $=0;$<this.CM.length;$++)this.Wc[$].className="listitem";if(this.zv.firstChild)this.zv.removeChild(this.zv.firstChild);
this.Wc[W].className="listitem selected";this.zv.appendChild(this.CM[W]._)};M.prototype.SY=function(W,T){this.f=W;
if(this.fl==null)return;for(var $=0;$<this.CM.length;$++)this.CM[$].SY(W,T);if(T==bN.s3||T==bN.Ru){this.Ro=W.uh.gl;
this.Q1()}if(T==bN.M3)this.Q1()};M.prototype.Q1=function(){if(this.Ro)this.enable();else{this.disable();
return}if(!w.L1(this.ds))return;var W=this.f;for(var $=0;$<this.CM.length;$++){this.CM[$].R(this.Ro);
if(this.JK[$])this.JK[$].R(this.CM[$].AZ())}var T=t.b(this.Ro);T.Brsh.v.Dmtr.v.val=Math.min(T.Brsh.v.Dmtr.v.val,50);
w.R$(this.kX,this.a3,80);var _=new gc(0,0,this.kX.width,this.kX.height),m=this.f.uh,d=new eY(T,m?m.Kj:null,m?m.a5:null,{hi:1},W.pU,W.Yt,_,null,0),A=_.$/2,p=_.r-A*2;
d.moveTo(A,A);for(var $=0;$<=p;$+=10)d.lineTo(A+$,A+20*Math.sin(2*Math.PI*$/p));d.finish();var a=new ImageData(_.r,_.$);
t.fA(d.io(),d.Hg(),a.data,_);this.qt.putImageData(a,0,0)};function X(W){bj.call(this);W=W.split(".")[0];
this.FG=W;var T=this._=w.l("span"),_=["Off","Fade"];_.push(W=="angleDynamics"?"Direction":"Pen Pressure");
var m=this.GB=new iR("Control",_);m.P(r.E.n,this.wQ,this);T.appendChild(m._);var d=this.atz=new j6(null,0,100,null,null,null,!0);
d.R(50);d.P(r.E.n,this.wQ,this)}X.prototype=new bj;X.prototype.R=function(W){W=W<2?W:2;this.GB.R(W);
this.IF()};X.prototype.V=function(){var W=this.GB.V(),T=this.FG;W=W<=1?W:T=="angleDynamics"?6:2;return W};
X.prototype.wQ=function(W){this.IF();W.target=W.currentTarget=this;this.a(W)};X.prototype.IF=function(W){this.atz._3(this.GB.V()==1)};
function J(W){bj.call(this);this._=w.l("div");this.Ro=null;var T=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(W);
this.ZJ=[[15,0],[15,1],[15,2],[15,3],"Transfer"][T];this.zX=W;this.GS={};this.a31=null;var _=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][T];
for(var $=0;$<_.length;$++){var m=_[$],d;if(m=="--br"){d=new iL;this._.appendChild(d.fb.firstChild)}else if(m=="Brsh.Dmtr")d=new jP([12,14,0],1,1e3," px",0,!0);
else if(m=="Brsh.Angl")d=new jP([12,15],0,359," \xB0");else if(m=="Brsh.Rndn")d=new jP([12,16],0,100," %");
else if(m=="Brsh.Hrdn")d=new jP([12,17],0,100," %");else if(m=="Brsh.Spcn")d=new jP([12,18],1,300," %");
else if(m=="szVr.jitter")d=new jP([15,4,0],0,100,"%");else if(m=="minimumDiameter")d=new jP([15,4,1],0,100,"%");
else if(m=="angleDynamics.jitter")d=new jP([15,4,2],0,100,"%");else if(m.endsWith("bVTy"))d=new X(m);
else if(m.endsWith("fStp"))d=new j6(null,0,100,null,null,null,!0);else if(m=="roundnessDynamics.jitter")d=new jP([15,4,3],0,100,"%");
else if(m=="minimumRoundness")d=new jP([15,4,4],1,100,"%");else if(m=="scatterDynamics.jitter")d=new jP([15,5,0],0,1e3," %");
else if(m=="Cnt")d=new jP([15,5,1],1,20);else if(m=="countDynamics.jitter")d=new jP([15,5,2],0,100," %");
else if(m=="clVr.jitter")d=new jP([15,6,0],0,100," %");else if(m=="H")d=new jP([15,6,1],0,100," %");
else if(m=="Strt")d=new jP([15,6,2],0,100," %");else if(m=="Brgh")d=new jP([15,6,3],0,100," %");else if(m=="opVr.jitter")d=new jP("Opacity Jitter",0,100," %");
else if(m=="prVr.jitter")d=new jP("Flow Jitter",0,100," %");else throw m;this.GS[m]=d;d.parent=this;
d.P(r.E.n,this.wQ,this)}}J.prototype=new bj;J.prototype.a4T=function(){this.a(new jb("brushchange"))};
J.prototype.R=function(W){this.Ro=t.b(W);this._.className=this.AZ()?"":"disabled";this.Q1()};J.prototype.T=function(){for(var W in this.GS)this.GS[W].T()};
J.prototype.AZ=function(){return!0};J.prototype.SY=function(W,T){if(T==bN.Vk||T==bN.Ru){var _=this.GS["--br"];
if(_)_.b5(W.uh)}};J.prototype.wQ=function(W){var T=W.target,_=this.GS,m;for(var d in _)if(_[d]==T)m=d;
if(m=="--br"){var A=new jb(r.E.C,!0);A.data={h:r.m.OA,iw:bN.s3,Ro:T.V()};this.a(A)}else{var p=q(this.Ro,m),a=T.V();
if(p){if(m.endsWith("bVTy")||m.endsWith("fStp")||m=="Cnt")p.v=a;else p.v.val=a;this.a4T()}}};J.prototype.Q1=function(){var W=this.Ro,T=W.Brsh.v.classID,_=this.GS,m=T!=this.a31;
this.a31=T;if(m){w.p9(this._);for(var d in _){if(T!="computedBrush"&&T!="sampledBrush"&&d=="Brsh.Rndn")continue;
if(T!="computedBrush"&&d=="Brsh.Hrdn")continue;var A=_[d],p=A._;if(d=="--br"){p=A.MU._;p.style.width="auto"}this._.appendChild(p)}}for(var d in _){if(d=="--br")continue;
var a=q(W,d),f;if(a){if(d.endsWith("bVTy")||d.endsWith("fStp")||d=="Cnt")f=a.v;else f=a.v.val;_[d].R(f);
if(d.endsWith("fStp"))_[d]._3(q(W,d.split(".")[0]+".bVTy").v==1)}}};J.prototype.AZ=function(){var W=this.zX;
return W=="basic"?!0:this.Ro[W].v};J.prototype.axk=function(W){var T=this.zX;if(T=="basic")return;this.Ro[T].v=W;
kW.FH.alB(this.Ro);this.a4T()};function q(W,T){var _=T.split(".");W=W[_[0]];for(var $=1;$<_.length;$++){if(W==null)return W;
W=W.v[_[$]]}return W}return M}();function kn(){gF.call(this,[9,0],!1,"---panels/history",gF.UE.xH);w.F(this.ds,"min-width:200px;");
this.yP=w.l("div","hpbody scrollable");this.yP.style.height="160px";this.ds.appendChild(this.yP);this.a5d=-1;
this.aIu=[];this.HO="";this.FA=new an([{name:"Clear History"}],[{A:r.E.H,J:o.xH,p:{h:"h_clear"}}])}kn.prototype=new gF("");
kn.prototype.nr=function(){return this.FA};kn.prototype.uL=function(M,X){this.IQ()};kn.prototype.Mq=function(M){if(M==null){w.p9(this.yP);
this.HO="";return}w.p9(this.yP);var X=0;for(var $=0;$<M.history.length;$++)if($<=M.sv&&!M.history[$].ZC)X=$;
for(var $=0;$<M.history.length;$++){var J=M.history[$];if(J.ZC)continue;var q=new cR(J,$,X);q.parent=this;
this.yP.appendChild(q._);this.aIu.push(q)}if(M.sv==M.history.length-1)this.IQ()};kn.prototype.IQ=function(){this.yP.scrollTop=this.yP.scrollHeight};
kn.prototype.T=function(){gF.prototype.T.call(this);for(var $=0;$<this.aIu.length;$++)this.aIu[$].T()};
function cR(M,$,X){bj.call(this);this.index=$;this._=w.l("div",$==X?"listitem selected":"listitem");
this.qI=M.name;this.T();if($>X)this._.style.opacity=.4;this._.addEventListener("click",this.H_.bind(this),!1)}cR.prototype=new bj;
cR.prototype.T=function(){this._.textContent=kd.get(this.qI)};cR.prototype.H_=function(M){if(this.index==this.parent.a5d)return;
this.V0({h:"h_itemchange",index:this.index})};cR.prototype.V0=function(M){var X=new jb(r.E.H,!0);X.data=M;
X.J=o.xH;this.a(X)};function kO(){gF.call(this,[9,10],!1,"---panels/histogram",gF.UE.aIg);var M=w.l("div","padded");
this.ds.appendChild(M);this.Sb=new g2(256,!0);M.appendChild(this.Sb._);this.iH=null}kO.prototype=new gF("");
kO.prototype.Mq=function(M){this.iH=M;this.IF()};kO.prototype.IF=function(){var M=this.iH;if(!w.L1(this.ds))return;
if(M==null||M.O.length==0){this.Sb.R(t.xW(t.j(4)));return}var X=M.m7(),J=new gc(0,0,M.r,M.$),q=J.o();
if(M.c){var W=M.c.S,T=t.j(W.o()*4);t.fA(X,J,T,W);t.S6(M.c.N,T);X=T;J=W;var _=M.c.N;q=0;for(var $=0;$<_.length;
$++)q+=_[$];q=Math.round(q/255)}var m=t.xW(X);m[0][255]+=3*(q-m[5]);for(var $=1;$<4;$++)m[$][255]+=q-m[5];
this.Sb.R(m,q)};kO.prototype.SY=function(M,X){this.Sb.rh(gS.sk[M.lb]["--text-color"])};kO.prototype.T=function(){gF.prototype.T.call(this);
this.Sb.T()};kO.prototype.IQ=function(){this.IF()};function iN(){gF.call(this,[9,8],!1,"---adj/clrL",gF.UE.aGD);
this.I0=w.l("div","padded");this.ds.appendChild(this.I0);this.QG=new kG(10);this.I0.appendChild(this.QG._);
this.Us=new fh;this.Us.parent=this;this.I0.appendChild(this.Us.fb);this.Us.fb.style.marginTop="6px";
this.QG.P(r.E.n,this.anV,this);this.Us.P(r.E.n,this.anV,this)}iN.prototype=new gF("");iN.prototype.anV=function(M){var X;
if(M.target==this.QG)X=this.QG.V();else{var J=this.Us.V();X=t.hO(J)}var q=new jb(r.E.C,!0);q.data={h:r.m.OA,iw:bN.M3,NL:0,K:X};
this.a(q)};iN.mW=function(M,X){var J=X==bN.Ru,q=M.AB,W=M.Jr,T=W.strokeStyleContent.v,_=null;if((X==bN.pX||J)&&q.fH==1){_=t.NX.NH(q.PD.Clr.v);
_=_.z<<16|_.L<<8|_.g}if((X==bN.Le||J)&&W.strokeEnabled.v&&T.classID=="solidColorLayer"){_=t.NX.NH(T.Clr.v);
_=_.z<<16|_.L<<8|_.g}if(X==bN.M3||J)_=M.pU;return _};iN.prototype.SY=function(M,X){var J=M.pU,q=X==bN.Ru,W=iN.mW(M,X);
if(W!=null){this.QG.R(W);this.Us.R({z:W>>>16&255,L:W>>>8&255,g:W>>>0&255,hp:"Default/Color #"+t.NZ(W)})}if(X==bN.sn||q){var T=M.atp;
this.Us.b5(T)}};iN.prototype.uL=function(M,X){this.Us.fb.children[0].style.width=M-32+"px"};function da(){gF.call(this,[12,72],!1,"---adj/mixr",gF.UE.aGz);
this.OS=null;this.AR=null;this.yP=w.l("div","lpbody scrollable");this.yP.style.marginTop="4px";this.iB=w.l("div","lpfoot");
this.ds.appendChild(this.yP);this.ds.appendChild(this.iB);this.a2f=[];this.P("click",this.qE,this);this.vd=[];
da.x4([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.vd,this.iB,this.vx.bind(this),this.p6.bind(this));
this.FA=new an([{name:"Merge Channels",co:!0}],[{A:r.E.C,p:{h:r.m.SQ,bf:"mergechannels"}}])}da.prototype=new gF("");
da.prototype.nr=function(){return this.FA};da.x4=function(M,X,J,q,W){for(var $=0;$<M.length;$++){var T=new fT("W",!1,M[$]);
X.push(T);w.Ad(T._,q);J.appendChild(T._);var _=T._;_.addEventListener("drop",W,!1);_.addEventListener("dragover",function(m){m.preventDefault()},!1);
_.addEventListener("dragenter",w.xb,!1)}};da.Lp=function(M,X){for(var $=0;$<M.length;$++)if(M[$]._==X.currentTarget)return $};
da.prototype.vx=function(M){var X=da.Lp(this.vd,M);if(X==0)this.a(dE.D$(!0,null,M));else{X--;var J=new jb(r.E.pL,!0),q={classID:"null"};
if(X==0)q.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(X==1)q.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else q.null=k$.kh("Chnl",!0);J.data={hC:["duplicate","make","delete"][X],Qd:q};this.a(J)}};da.prototype.p6=function(M){var X=da.Lp(this.vd,M);
if(X==2){var J=new jb(r.E.pL,!0),q={classID:"null"};q.null=k$.kh("Chnl",!0);J.data={hC:"duplicate",Qd:q};
this.a(J)}else this.vx(M)};da.prototype.Hh=function($){var M=this.a2f,X=M[$];if(X==null){var J=w.l("canvas");
X=J.getContext("2d");M.push(X)}return X};da.prototype.qE=function(M){var X=this.OS.slice(0),J=M.data.gO,q=X[0]+X[1]+X[2],W=this.AR;
if(-5<J&&J<0){var T=-J-1;if(M.data.WE){if(T==0)X=q==3?[0,0,0]:[1,1,1];else{if(X[T-1]==0)X[T-1]=1;else if(!0)X[T-1]=0}}else{if(T==0)X=[1,1,1];
else{X=[0,0,0];X[T-1]=1}for(var $=0;$<W.OD.length;$++)W.OD[$].OI=!1;W.LV=[]}var _=new jb(r.E.H,!0);_.J=o.Cm;
_.data={h:"setcls",KV:X};this.a(_);return}if(-1<J){var m=W.U[J],d=m.tD==1?m.hM():m.uV(W).JS;if(M.data.WE)d.OI=!d.OI;
else{for(var $=0;$<W.OD.length;$++)W.OD[$].OI=!1;W.LV=[]}}else{var A=-J-5,d=W.OD[A];if(M.data.WE)d.OI=!d.OI;
else{for(var $=0;$<W.OD.length;$++)W.OD[$].OI=!1;d.OI=!0;W.LV=[A];if(q!=0){var _=new jb(r.E.H,!0);_.J=o.Cm;
_.data={h:"setcls",KV:[0,0,0]};this.a(_)}}}W.fy=W.K8=!0};da.prototype.IQ=function(){this.Ik()};da.prototype.Mq=function(M){this.AR=M;
this.Ik()};da.prototype.Ik=function(){var M=this.AR,X=this.yP,s=4;w.p9(X);if(M==null||!w.L1(X))return;
var J=M.r,q=M.$,W=new gc(0,0,J,q),T=this.OS=M.k.KV.slice(0),_=T[0]+T[1]+T[2],m=Math.round(34*w.pv()),d=m;
if(J>q)d=Math.round(d*q/J);else m=Math.round(m*J/q);var A=["RGB"].concat(ia.vF);for(var $=0;$<4;$++){var p=this.Hh($);
t.Xn.L0(p,m,d,W,M.m7(),W,!1,$==0?null:$-1);var a=$==0?_==3:T[$-1]==1,f=new dE(-1-$,!0,!0,p,A[$],a,a);
f.parent=this;X.appendChild(f._);w.G6(p.canvas)}for(var $=0;$<M.O.length;$++){var j=M.U[M.O[$]],Y=j.tD;
if(Y!=1&&Y!=3)continue;var G=Y==1?j.hM():j.uV(M).JS,p=this.Hh(s+$);s++;t.Xn.Z0(p,m,d,W,G);var f=new dE(M.O[$],!0,!0,p,j.getName()+(Y==1?"":" Filter")+" Mask",!0,G.OI);
f.parent=this;X.appendChild(f._);w.G6(p.canvas)}for(var $=0;$<M.OD.length;$++){var G=M.OD[$],p=this.Hh(s+$);
t.Xn.Z0(p,m,d,W,G);var f=new dE(-5-$,!0,G.name=="Quick Mask",p,G.name,M.LV.indexOf($)!=-1,G.OI,o.HX,{h:K.CV,NL:"rnm",gO:$});
f.parent=this;X.appendChild(f._);w.G6(p.canvas)}};da.prototype.uL=function(M,X){this.yP.style.height=X-30-4+"px";
this.yP.style.width=M+"px"};da.prototype.T=function(){gF.prototype.T.call(this);this.Ik();da.H6(this.vd,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
da.H6=function(M,X,J){var X=i9.Ff(X,null,"miniscale");for(var $=0;$<M.length;$++)M[$].Hr(X[$],J?J[$]:null)};
function dE(M,X,J,q,W,T,_,m,d){bj.call(this);this._=w.l("div");this.aph=M;this.a0Y=X;this.qt=q;this.aDU=m;
this.apN=d;this.Mi=w.l("div",T?"head selected":"head");w.F(this.Mi,"height: "+40+"px");var A=w.l("div","headL"),p=w.l("div","headR"),a=15;
this._.appendChild(this.Mi);this.Mi.appendChild(A);this.Mi.appendChild(p);this.kk=w.l("div","eye");if(1<w.pv()&&w.pv()<1.5)a=a/w.pv();
w.F(this.kk,"background-size: "+a+"px "+a+"px;");this.kk.style.opacity=_?1:.2;if(X)A.appendChild(this.kk);
this.PE=w.l("div","thumb");if(q)this.PE.appendChild(q.canvas);A.appendChild(this.PE);this.Wv=w.l("div","label");
if(J)this.Wv.style.fontStyle="italic";this.Wv.textContent=kd.get(W);A.appendChild(this.Wv);var f=this.Mi;
f.setAttribute("draggable","true");f.addEventListener("dragstart",function(s){s.stopPropagation();s.dataTransfer.setData("Text","hello")},!1);
f.addEventListener("drop",w.xb,!1);w.Ad(this.Mi,this.aI1.bind(this));if(!J)this.Mi.addEventListener("mouseup",this.a0B.bind(this),!1)}dE.prototype=new bj;
dE.prototype.u6=function(M){var X=new jb(r.E.H,!0);X.J=this.aDU;X.data=this.apN;X.data.name=M;this.a(X)};
dE.prototype.aI1=function(M){var X=M.ctrlKey||M.metaKey,J=this.aph;if(X&&M.target==this.qt.canvas){this.a(dE.D$(this.a0Y,J,M))}else{var q=new jb("click",!0);
q.data={gO:J,WE:M.target==this.kk,or:X};this.a(q)}};dE.prototype.a0B=function(M){if(M.detail==2&&M.target==this.Wv){var X=new gF.U8(this.Wv,this.u6.bind(this))}};
dE.D$=function(M,X,J){var q=0;if(J.shiftKey)q++;if(J.altKey)q+=2;var W=new jb(r.E.H,!0);W.J=o.FN;if(M){if(-5<X&&X<0){W=new jb(r.E.pL,!0);
W.data=o.Gp.Z2(q,["RGB","Rd","Grn","Bl"][-1-X])}else W.data={h:"fromchannel",FK:[X,0,q]}}else W.data={h:"frompath",FK:[X,0,q]};
return W};function ao(){gF.call(this,[8,9],!1,"---panels/paths",gF.UE.$c);this.OS=null;this.AR=null;
this.yP=w.l("div","lpbody scrollable");this.yP.style.marginTop="4px";this.iB=w.l("div","lpfoot");this.ds.appendChild(this.yP);
this.ds.appendChild(this.iB);this.ds.addEventListener("click",this.al6.bind(this),!1);this.a2f=[];this.P("click",this.qE,this);
this.vd=[];da.x4(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.vd,this.iB,this.vx.bind(this),this.p6.bind(this))}ao.prototype=new gF("");
ao.prototype.vx=function(M,X){var J=da.Lp(this.vd,M),q;if(J<2){if(J==1&&M.altKey){q=new jb(r.E.C,!0);
q.data={h:r.m.SQ,bf:"strokepath"}}else{q=new jb(r.E.pL,!0);q.data=o.HI.Ki(J==0?null:"PbTl")}}else if(J==2)q=dE.D$(!1,null,M);
else if(J==3){q=new jb(r.E.pL,!0);q.data=o.Gp.a3d()}else if(J>3){var q=new jb(r.E.H,!0);q.J=o.gf;q.data={h:"pathedit",NL:["new","del"][J-4],axE:X}}this.a(q)};
ao.prototype.p6=function(M){this.vx(M,!0)};ao.prototype.Hh=function($){var M=this.a2f,X=M[$];if(X==null){var J=w.l("canvas");
X=J.getContext("2d");M.push(X)}return X};ao.prototype.al6=function(M){if(M.target==this.yP){var X=this.AR;
X.Fg=[];X.bQ=[];X.K8=!0;X.fy=!0}};ao.prototype.qE=function(M){var X=M.data.gO,J=this.AR,q=M.data.or,W=X,T=J.bQ,_=J.Fg;
if(X<0){W=-1-X;T=J.Fg;_=J.bQ}if(q){var m=T.indexOf(W);if(m==-1)T.push(W);else T.splice(m,1)}else{while(T.length!=0)T.pop();
while(_.length!=0)_.pop();T.push(W)}J.K8=!0;J.fy=!0};ao.prototype.IQ=function(){this.Ik()};ao.prototype.Mq=function(M){this.AR=M;
this.Ik()};ao.prototype.Ik=function(){var M=this.AR,X=this.yP;w.p9(X);if(M==null||!w.L1(X))return;var J=M.r,q=M.$,W=new gc(0,0,J,q),T=this.OS=M.k.KV.slice(0),_=T[0]+T[1]+T[2],m=Math.round(34*w.pv()),d=m;
if(J>q)d=Math.round(d*q/J);else m=Math.round(m*J/q);var A=M.ZX(),p=A[0];for(var $=0;$<p.length;$++){var a=p[$],f=M.n4!=-1&&M.n4==-1-a.gO,s=this.Hh($);
t.Xn.aIq(s,m,d,W,a.add.vmsk,f);var j=new dE(a.gO,!1,a.gO>=0||f,s,a.name,A[1].indexOf($)!=-1,!1,o.gf,{h:"pathedit",NL:"rnm",gO:a.gO});
j.parent=this;X.appendChild(j._);w.G6(s.canvas)}};ao.prototype.uL=function(M,X){this.yP.style.height=X-30-4+"px";
this.yP.style.width=M+"px"};ao.prototype.T=function(){gF.prototype.T.call(this);this.Ik();da.H6(this.vd,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function dW(M){gF.call(this,[9,M?4:5],!1,"---panels/"+(M?"character":"paragraph"),M?gF.UE.afK:gF.UE.auk);
w.F(this.ds,"min-width:255px;");this.ayH=M;this.Ix=null;this.f=null}dW.prototype=new gF("");dW.prototype.qH=function(){this.Ix=new gA;
var M=this.Ix,X=this.ds;M.parent=this;if(this.ayH){var J=w.l("div","marged");X.appendChild(J);J.appendChild(M.Da._);
X.appendChild(w.l("hr"));var q=w.l("div","marged");X.appendChild(q);q.appendChild(M.c2._);q.appendChild(M.Sa._);
var W=w.l("div","marged");X.appendChild(W);W.appendChild(M.bp._);W.appendChild(M.nb._);X.appendChild(w.l("hr"));
var T=w.l("div","marged");X.appendChild(T);T.appendChild(M.tb._);T.appendChild(M.RE._);var _=w.l("div","marged");
X.appendChild(_);_.appendChild(M.bK._);_.appendChild(M.LR._);_.appendChild(M.eX._);X.appendChild(w.l("hr"));
var m=w.l("div","marged");X.appendChild(m);m.appendChild(M.XJ._);m.appendChild(M.pg._);m.appendChild(M.Kt._);
m.appendChild(M.fP._);m.appendChild(M.zE._);m.appendChild(M.GJ._);m.appendChild(M.vb._);m.appendChild(M.eO._);
var d=w.l("div","marged");X.appendChild(d);for(var $=0;$<8;$++)d.appendChild(M.QI[$]._)}else{var J=w.l("div","marged");
X.appendChild(J);J.appendChild(M.LQ._);J.appendChild(M.aCm._);J.appendChild(M.Jo._);J.appendChild(M.asL._);
J.appendChild(M.as1._);J.appendChild(M.aok._);J.appendChild(M.axs._);X.appendChild(w.l("hr"));var q=w.l("div","marged");
X.appendChild(q);q.appendChild(M.u3._);q.appendChild(M.mN._);q.appendChild(M.o8._);X.appendChild(w.l("hr"));
var W=w.l("div","marged");X.appendChild(W);W.appendChild(M.o6._);W.appendChild(M.pE._);W.appendChild(M.J2._);
W.appendChild(M.Ox._)}};dW.prototype.IQ=function(){if(!w.L1(this.ds))return;if(this.Ix==null){this.qH();
var M=this.f;if(M)this.Ix.R(M.mo,M.Rb,M.Py);this.Ix.T()}};dW.prototype.T=function(){gF.prototype.T.call(this);
if(this.Ix)this.Ix.T()};dW.prototype.SY=function(M,X){this.f=M;if(X!=bN.Ru&&X!=bN.Iz&&X!=bN.Ua&&X!=bN.Yp)return;
if(this.Ix)this.Ix.R(M.mo,M.Rb,M.Py)};function gV(M){gF.call(this,M?"Character Styles":"Paragraph Styles",!1,null,M?gF.UE.aIv:gF.UE.a6N);
w.F(this.ds,"min-width:240px;");var X=this.oG=w.l("div","scrollable");this.ds.appendChild(X);w.F(X,"max-height:400px;");
this.xy=null;this.avq=null;this.Ea=null;this.ayH=M?0:1;this.iH=null;this.f=null;this.aF2=gV.prototype.U4.bind(this)}gV.prototype=new gF("");
gV.prototype.Mq=function(M,X,J){this.iH=M;this.f=J;this.Ik()};gV.prototype.Ik=function(){var M=this.oG;
w.p9(M);if(!w.L1(this.ds))return;var X=this.iH,J=this.f;if(X==null||J==null)return;var q=J.mo,W=this.xy=[],T={},_=this.avq=[],m=this.Ea=[],d={},A=this.ayH,p=A==0?"Style":"Paragraph";
for(var $=0;$<X.U.length;$++){var a=X.U[$].add.TySh;if(a==null)continue;var f=a.Zj,s=a.u.zQ(),j=f.ResourceDict.FontSet,Y=f.EngineDict[p+"Run"],G=Y.RunArray;
for(var Q=0;Q<G.length;Q++){var Z=gV.aaM(G[Q][p+"Sheet"][A==0?"StyleSheetData":"Properties"],A,j,_,d,s);
if(Z.FillColor==null)Z.FillColor={Type:1,Values:[1,0,0,0]};var g=JSON.stringify(Z);if(T[g]==null){T[g]=!0;
W.push(Z)}}}var S=A==0?function(y,ge){return ge.FontSize-y.FontSize}:function(y,ge){return y.Justify-ge.Justify};
W.sort(S);var U=[];if(A==0){var B=[[1,.28,.28,.28],[1,1,1,1],[1,.85,.95,1],[1,.95,.85],[1,0,0,.3],[1,.3,0,0]],e=B.length,P=new Array(e),h=1e9,V=0;
P.fill(1e9);for(var $=0;$<W.length;$++){var I=W[$],j=I.FontSize;h=Math.min(h,j);V=Math.max(V,j);var F=I.FillColor.Values,c=(F[1]+F[2]+F[3])/3;
U[$]=c>.5?[1,.15,.15,.15]:[1,.85,.85,.85]}}var D=gV.aaM(A==0?q.cN:q.Js,A,q.Hd,_,d,1),n=JSON.stringify(D);
for(var $=0;$<W.length;$++){var k=w.l("div");M.appendChild(k);m.push(k);k.addEventListener("click",this.aF2,!1);
var I=W[$],b=JSON.stringify(I)==n;if(A==0){var N=_[I.Font].Name,L=N.toLowerCase(),R=L.indexOf("bold")!=-1||L.indexOf("-black")!=-1,i=L.indexOf("italic")!=-1||L.indexOf("oblique")!=-1||L.endsWith("-it"),v=L.indexOf("light")!=-1,j=I.FontSize,F=I.FillColor.Values,E=U[$];
if(b){E=E.slice(0);E[1]=Math.min(1,E[1]+.2)}var u=V==h?.5:(j-h)/(V-h),q=10+16*u,C="overflow:hidden; white-space:nowrap; height:38px;  font-size:"+q+"px; color:"+CSS.Yk({z:F[1]*255,L:F[2]*255,g:F[3]*255})+"; line-height:"+38+"px; background-color:"+CSS.Yk({z:E[1]*255,L:E[2]*255,g:E[3]*255})+";";
if(R)C+=" font-weight:bold;";if(i)C+=" font-style:italic;";if(v)C+=" font-weight:lighter;";w.F(k,C);
var l=w.l("span");k.appendChild(l);w.F(l,"display:inline-block;  width:"+(V>99?50:40)+"px;  text-align:right;  margin-right:5px;");
l.textContent=Math.round(j);l=w.l("span");k.appendChild(l);w.F(l,"display:inline-block;  width:130px; ");
l.textContent=N}}};gV.prototype.U4=function(M){var X=t.b(this.f.mo),$=this.Ea.indexOf(M.currentTarget),J=this.xy[$];
for(var q in J)if(q!="Font")X.cN[q]=J[q];f5.fa(X,this.avq[J.Font].Name);console.log(X);var W=new jb(r.E.C,!0);
W.data={h:r.m.OA,iw:bN.Iz,mo:X};this.a(W);var W=new jb(r.E.H,!0);W.J=o.JT;W.data={h:"updateStyles"};
this.a(W)};gV.aaM=function(M,X,J,q,W,T){var _=X==0?["Font","FontSize","FillColor"]:[],m={};for(var d=0;
d<_.length;d++)m[_[d]]=M[_[d]];if(X==0){if(m.Font!=null){var A=J[m.Font].Name;if(W[A]==null){W[A]=q.length;
q.push(J[m.Font])}m.Font=W[A]}m.FontSize=m.FontSize*T}return m};gV.prototype.IQ=function(){if(!w.L1(this.ds))return};
gV.prototype.T=function(){gF.prototype.T.call(this)};gV.prototype.SY=function(M,X){this.f=M;this.Ik()};
function eJ(){gF.call(this,[9,13],!1,"---panels/glyphs",gF.UE.aqZ);this.f=null}eJ.prototype=new gF("");
eJ.prototype.qH=function(){this.Ix=new gA;this.Ix.parent=this;this.aCZ=null;this.ahH=null;this.fq=null;
this.aAr=null;this.e6=Math.round(290*w.pv());this.$$=45;this.Tk=4;this.aiR=this.IF.bind(this);this.aeu=0;
this.aY=new iR(null,["Hi","Hello"]);this.aY.P(r.E.n,this.IF,this);var M=this.r6=new fT("-",null,null,!0);
M.P("click",this.akz,this);var X=this.a4g=new fT("+",null,null,!0);X.P("click",this.akz,this);this.MU=new gz(!1);
this.MU.P(r.E.n,this.v3,this);this.MU._.style.height=250+"px";var J=this.YL=w.l("div","form padded");
this.ds.appendChild(J);J.appendChild(this.Ix.Da._);w.vA(J);J.appendChild(this.aY._);J.appendChild(M._);
J.appendChild(X._);this.ds.appendChild(this.MU._)};eJ.prototype.uL=function(M,X){if(this.a3==M||this.Ix==null)return;
this.a3=M;this.e6=Math.floor((M-13)*w.pv());w.F(this.YL,"width:"+this.e6/w.pv()+"px;");this.MU._.style.height=X-73+"px";
this.IF()};eJ.prototype.v3=function(M){var X=this.ay3(),J=Math.round(this.e6/X);X/=w.pv();var q=this.MU.V()[0]*J*this.Tk,W=this.MU.aik();
q+=Math.floor(W.y/X)*J;q+=Math.floor(W.x/X);var T=this.fq[this.aY.V()];if(q>=T.length)return;var _=T[q],m=this.aAr[_],d=new jb(r.E.H,!0);
d.J=o.JT;if(m.e7.length==0)d.data={h:"insertGlyph",K:q+1};else d.data={h:"insertText",K:String.fromCodePoint(m.e7[0])};
this.a(d)};eJ.prototype.akz=function(M){var X=1.2;if(M.target==this.r6){if(this.$$>20)this.$$/=X}else{if(this.$$<100)this.$$*=X}this.IF()};
eJ.prototype.IQ=function(){this.SY(this.f)};eJ.prototype.SY=function(M,X){this.f=M;if(!w.L1(this.ds))return;
if(this.Ix==null)this.qH();this.Ix.R(M.mo,M.Rb,M.Py);var J=M.mo,q=J.cN.Font,d=0;if(q==null)return;var W=J.Hd[q].Name;
if(this.aCZ==W)return;var q=M.Rb.z0(W);if(q==null)return;var T=q.maxp.numGlyphs,_=this.aAr=new Array(T);
for(var $=0;$<T;$++)_[$]={e7:[]};var m=Date.now(),A=new Uint8Array(1048575);for(var $=0;$<1048575;$++){var p=Typr.U.codeToGlyph(q,$);
if(p!=0&&p<T){A[$]=1;if(_[p].e7.length==0)d++;_[p].e7.push($)}}var a=eJ.fj,f=[];for(var $=0;$<a.length;
$++)f.push([]);for(var p=1;p<T;p++){f[0].push(p);var s=_[p].e7[0];if(s==null){continue}for(var j=1;j<a.length;
j++){var Y=a[j].$Z;for(var $=0;$<Y.length;$+=2)if(Y[$]<=s&&s<=Y[$+1]){f[j].push(p);break}}}this.fq=f;
var G=[];for(var $=0;$<a.length;$++)G.push(a[$].f7+" ("+f[$].length+")");var Q=this.aY.V();this.aY.P$(G);
this.aY.R(Q);this.aCZ=W;this.ahH=q;this.IF()};eJ.prototype.ay3=function(M){var X=Math.floor(this.e6/this.$$);
return Math.floor(this.e6/X)};eJ.prototype.IF=function(M){if(!w.L1(this.ds)||this.fq==null)return;var X=this.fq[this.aY.V()],J=X.length,q=this.ahH,W=Typr.U,T=this.ay3(),_=T,m=_*.8,d=_*.8/q.head.unitsPerEm,A=[],p=Math.floor(this.e6/T),a=Math.ceil(J/p),f=this.Tk,s=Date.now();
for(var j=0;j<a;j+=f){var Y=w.l("canvas"),G=Y.getContext("2d");Y.width=T*p;Y.height=_*f;G.fillStyle="white";
G.fillRect(0,0,p*T,_*f);for(var Q=0;Q<f;Q++){for(var Z=0;Z<p;Z++){var $=X[(j+Q)*p+Z];if($==null)break;
var g=W.glyphToPath(q,$),S=t.G.Cs(g.crds);G.fillStyle="#252525";if(S.M5()){var U=q.hmtx,B=[],I=170;for(var e in U)B.push(e);
var P=U[B[0]][$],h=U[B[1]][$],V=Math.max(P,h);g={cmds:"M L M L M L".split(" "),crds:[0,0,V,0,0,-I,0,I,V,-I,V,I]};
S.r=V;S.x=0;G.strokeStyle="rgba(0,255,0,1)"}G.beginPath();var F=Z*T+(T-S.r*d)*.5-S.x*d,c=Q*_+m;G.translate(F,c);
G.scale(d,-d);W.pathToContext(g,G);G.scale(1/d,-1/d);G.translate(-F,-c);S.M5()?G.stroke():G.fill()}}G.beginPath();
for(var Z=0;Z<p;Z++){var D=Z*T+T+.5;G.moveTo(D,0);G.lineTo(D,_*f)}for(var Q=0;Q<f;Q++){var n=Q*_+_+.5;
G.moveTo(0,n);G.lineTo(p*T,n)}G.strokeStyle="rgba(0,0,0,0.3)";G.stroke();A.push(Y)}this.MU.hS(A,null,T*p,_*f)};
eJ.fj=[{f7:"All Glyphs"},{f7:"Basic Latin, Latin 1",$Z:[0,127,128,143]},{f7:"Latin Extended-A",$Z:[256,383]},{f7:"Latin Extended-B",$Z:[384,591]},{f7:"Punctuations",$Z:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{f7:"Greek",$Z:[880,1023]},{f7:"Cyrillic",$Z:[1024,1279]},{f7:"Hebrew",$Z:[1424,1535]},{f7:"Arabic",$Z:[1536,1791]},{f7:"Emoji",$Z:[9728,10095,127744,129535]}];
function dU(){gF.call(this,[13,0],!1,null,gF.UE.M3);this.d_=0;this.a8F=0;this.f=null}dU.prototype=new gF("");
dU.prototype.qH=function(){if(!w.L1(this.ds)||this._t)return;var M=w.l("div","flexrow padded");this.ds.appendChild(M);
var X=w.l("div");M.appendChild(X);this._t=[];for(var $=0;$<2;$++){var J=new gv;this._t.push(J);J.P("click",this.aBt,this);
X.appendChild(J._)}this.Ch=new gf(192);console.log("hsb picker");this.Ch.P(r.E.n,this.bm,this);this.ee=new fk;
this.ee.parent=this;M.appendChild(this.Ch._);this.SY(this.f,bN.Ru)};dU.prototype.aBt=function(M){var X=M.currentTarget,J=this._t.indexOf(X);
if(J==this.d_){this.ee.xr(J)}else{this.d_=J;this.IF()}};dU.prototype.bm=function(M){var X=this.Ch.V();
this.Ch.R(X);var J=Math.round(X.z*255)<<16|Math.round(X.L*255)<<8|Math.round(X.g*255),q=new jb(r.E.C,!0);
q.data={h:r.m.OA,iw:bN.M3,NL:this.d_,K:J};this.a(q);this.a8F=Date.now()};dU.prototype.IF=function(){if(this.ee==null)return;
var M=this.f,X=this.d_,J=[M.pU,M.Yt];for(var $=0;$<2;$++){var q=this._t[$],W=q._.style;q.rh(J[$]);if($==X)W.filter="drop-shadow(0 0 1px #000000)"}var T=J[X];
if(Date.now()-this.a8F>100)this.Ch.R({z:(T>>>16)/255,L:(T>>>8&255)/255,g:(T&255)/255})};dU.prototype.SY=function(M,X){this.f=M;
if(this.ee==null)return;if(X==bN.Ru||X==bN.M3){this.ee.aIR(M.pU,M.Yt);this.IF()}};dU.prototype.Mq=function(){this.qH()};
dU.prototype.IQ=function(){this.qH();this.IF()};function fL(){gF.call(this,"CSS",!1,"---panels/css",gF.UE.CSS);
this.iH=null;var M=w.l("div","padded");this.ds.appendChild(M);this.z9=w.l("textarea");w.IJ(this.z9);
M.appendChild(this.z9)}fL.prototype=new gF("");fL.prototype.uL=function(M,X){if(this.a3==M)return;this.a3=M;
w.F(this.z9,"display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(M-10)+"px; height:"+(X-10)+"px")};
fL.prototype.Mq=function(M){this.iH=M;this.IF()};fL.prototype.SY=function(M,X){if(X==bN.Ua)this.IF()};
fL.prototype.IF=function(){var M=this.iH;if(M==null||M.O.length==0)return;if(!w.L1(this.ds))return;var X=M.U[M.O[0]],J=CSS.aA1(X,M);
if(J.length!=0)this.z9.value=J.join(";\n")+";";else this.z9.value=""};fL.prototype.IQ=function(){this.IF()};
function jd(){gF.call(this,"Text to Image",!1,null,gF.UE.aBc);this.iH=null;this.oB=0;this.ND={};this.X9=null;
var M=this.Ea=[new ja("Prompt",null,null,4),new fT([12,49],!0,null,!0)];M[0].R("goat riding a bike");
var X=w.l("div","form padded labfxd");this.ds.appendChild(X);for(var J=0;J<M.length;J++){M[J].parent=this;
X.appendChild(M[J]._);if(J==1)M[J].P("click",this.Aa,this)}this.Sb=w.l("div","scrollable");X.appendChild(this.Sb);
this.aJ0=jd.prototype.aij.bind(this)}jd.prototype=new gF("");jd.prototype.Aa=function(){var M=this.Ea,X=M[0].V().trim(),J=function(){var q=bc.aCp(X,null,null,this.aJ0);
if(q==1)w.Z6(this.ds,"disabled")}.bind(this);if(bc.Ka(3))J();else bc.mL(J)};jd.prototype.aij=function(M){var X=this.Ea;
w.tM(this.ds,"disabled");var J={created:Math.round(Date.now()/1e3),data:[{b64_json:h1.qf(M.target.response)}]},q=this.ND,W=X[0].V().trim();
if(q[W]==null)q[W]=[];q[W].push(J);bc.al("Generate",3);this.IF()};jd.prototype.uL=function(M,X){if(this.a3==M)return;
this.a3=M;this.ds.style.width=M-16+"px";this.Sb.style.height=X-190+"px"};jd.prototype.Mq=function(M,X){this.iH=M;
if(M)this.oB=X.indexOf(M);this.IF()};jd.prototype.T=function(M,X){gF.prototype.T.call(this);var J=this.Ea,W=" target=\"_blank\" style=\"color:inherit;\">";
for(var q=0;q<J.length;q++)this.Ea[q].T()};jd.prototype.IF=function(){var M=this.Sb,X=this.ND;w.p9(M);
var J=[];for(var q in X){X[q].sort(function(s,j){return j.created-s.created});J.push([q,X[q]])}J.sort(function(s,j){return j[1][0].created-s[1][0].created});
var W=this.a63.bind(this),T=this.X9=[[],[]];for(var $=0;$<J.length;$++){var q=J[$][0],_=J[$][1],m=w.l("div");
m.textContent=q;M.appendChild(m);for(var d=0;d<_.length;d++){var A=_[d].data;for(var p=0;p<A.length;
p++){var a=A[p].b64_json,f=w.l("img");f.setAttribute("src","data:image/png;base64,"+a);f.onclick=W;f.style.width=128/w.pv()+"px";
f.style.marginRight="4px";f.style.cursor="pointer";M.appendChild(f);T[0].push(f);T[1].push(A[p])}}}};
jd.prototype.a63=function(M){var $=this.X9[0].indexOf(M.target),X=this.X9[1][$].b64_json,J=h1._m(X);
gb.qs({url:"file",oB:this.oB},J,this)};jd.prototype.IQ=function(){this.IF()};function aJ(){gF.call(this,[9,6],!1,"---panels/info",gF.UE.aGw);
w.F(this.ds,"min-width:240px;");this.iH=null;this.f=null;this.Td=null;var M=this.aC=[];for(var X=0;X<3;
X++){var J=w.l("div","marged row");this.ds.appendChild(J);var q=w.l("div","cell");w.F(q,"width:10em");
J.appendChild(q);var W=w.l("div","cell");w.F(W,"width:10em");J.appendChild(W);var T=[8,4,3][X];for(var $=0;
$<T;$++){var _=new jH("");M.push(_);_.R(0);_._.style.padding="0";var m=$<(X==1?2:4)?q:W;m.appendChild(_._);
w.vA(m)}if(X<2)w.du(this.ds)}this.pW=M[8];this.sT=M[9];this.l_=M[10];this.lg=M[11];w.du(this.ds);this.Td=w.l("div");
w.F(this.Td,"min-width:240px;display:flex;flex-direction:row;flex-wrap:wrap;");this.ds.appendChild(this.Td)}aJ.prototype=new gF("");
aJ.prototype.T_=function(M,X,J,q,W){if(!w.L1(this.ds)||M==null)return;var T=M.k.Ob(W.x,W.y),_=new es(Math.floor(T.x),Math.floor(T.y));
if(!W.kJ){var m=0,d=0,A=0,p=0,a=this.aC;if(!W.kJ&&!M.asP()&&new gc(0,0,M.r-1,M.$-1).ZO(_)){var f=M.m7(),$=M.r*_.y+_.x<<2;
m=f[$+0];d=f[$+1];A=f[$+2];p=f[$+3]}var s=t.jW([m/255,d/255,A/255]);a[0].R("R: "+m);a[1].R("G: "+d);
a[2].R("B: "+A);a[3].R("A: "+p);a[4].R("C: "+Math.round(s[0]*100)+"%");a[5].R("M: "+Math.round(s[1]*100)+"%");
a[6].R("Y: "+Math.round(s[2]*100)+"%");a[7].R("K: "+Math.round(s[3]*100)+"%");var j=t.a9o(m,d,A);a[12].R("H: "+Math.round(j.oz*360)+"\xB0");
a[13].R("S: "+Math.round(j.i$*100)+"%");a[14].R("B: "+Math.round(j.g*100/255)+"%")}var Y=M.k.r7>1?new es(T.x,T.y):_;
this.pW.R("X: "+t.gk.KG(Y.x,M.Qv,J,M.r));this.sT.R("Y: "+t.gk.KG(Y.y,M.Qv,J,M.$));this.HE()};aJ.prototype.HE=function(){var M=this.iH,X=this.f,J=0,q=0;
if(M&&X){if(M.k.At){J=M.k.At.r;q=M.k.At.$}else if(M.c){J=M.c.S.r;q=M.c.S.$}J=t.gk.KG(Math.abs(J),M.Qv,X,M.r);
q=t.gk.KG(Math.abs(q),M.Qv,X,M.$)}this.l_.R(kd.get([12,41]).charAt(0)+": "+J);this.lg.R(kd.get([12,42]).charAt(0)+": "+q)};
aJ.prototype.T=function(){gF.prototype.T.call(this);this.HE()};aJ.prototype.IQ=function(){this.Mq(this.iH,null,this.f)};
aJ.prototype.Mq=function(M,X,J){this.iH=M;this.f=J;if(!w.L1(this.ds))return;console.log("update");this.HE();
if(M&&M.O.length!=0){var q=M.O[0],W=M.U[q],T=ia.get(W.add)!=null,_=T&&M.O[0]>0;this.Td.innerHTML="";
for(var $=0;$<M.O2.length;$++){var m=M.O2[$],W=M.k.fT(m.x,m.y),d=o.SK.eH(M,W,1,_?1:2),A={z:d>>>16&255,L:d>>>8&255,g:d&255},Y="<span style=\"display:inline-block; width:25px; text-align:right\">",G="</span>";
if(_){var p=M.O[0];M.O[0]=q-1;var a=o.SK.eH(M,W,1,1),f={z:a>>>16&255,L:a>>>8&255,g:a&255};M.O[0]=p}var s=w.l("div");
w.F(s,"padding: 0.5em 0.5em; width: 40%");var j="<b>#"+($+1)+"</b>",Q=[A.z,A.L,A.g],Z=_?[f.z,f.L,f.g]:null,g=["R","G","B"];
for(var S=0;S<3;S++)j+="<br/>"+Y+g[S]+G+": "+(_?Y+Z[S]+G+" /":"")+Y+Q[S]+G;s.innerHTML=j;this.Td.appendChild(s)}}};
function eP(){gF.call(this,[9,1],!1,"---panels/layers",gF.UE.HX);this.ama=null;this.Hi=[];this.AR=null;
this.td=null;this.Mi=w.l("div","lphead");this.yP=w.l("div","lpbody scrollable");this.yP.addEventListener("scroll",this.a6X.bind(this),!1);
this.iB=w.l("div","lpfoot");var M=this.aib=w.l("span");w.F(M,"display:inline-block; height:26px");this.Mi.appendChild(M);
this.uK=new iR(null,ae.Ql,ae.T3);this.uK.P(r.E.n,this.aJ4,this);this.Mi.appendChild(this.uK._);this.Ir=new j6([12,0],0,100,"%",0);
this.Ir.P(r.E.n,this.arb,this);this.Ir.parent=this;this.Mi.appendChild(this.Ir._);this.cO=new ju([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.cO.P(r.E.n,this.aCQ,this);this.Mi.appendChild(this.cO._);this.NG=new j6([12,26],0,100,"%",0);this.NG.P(r.E.n,this.a4L,this);
this.NG.parent=this;this.Mi.appendChild(this.NG._);this.vd=[];this.x4();if(gj==0)this.ds.appendChild(this.Mi);
this.ds.appendChild(this.yP);this.yP.addEventListener("dragover",function(W){W.preventDefault()},!1);
this.yP.addEventListener("dragenter",w.xb,!1);this.yP.addEventListener("drop",this.aJ3.bind(this),!1);
this.ds.appendChild(this.iB);this.ds.addEventListener("contextmenu",w.xb,!1);if(gj==0)this.P("rclick",this.a8s,this);
var X=function(W,T,$){return{JX:this.Wl[$]==1}}.bind(this);if(gj==0){this.aCO=new an([{name:[0,6],i:X},{name:[14,10],i:X},{name:[6,57,2],i:X,ns:!0},{name:"Long-tap as a right click",i:X,ns:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",i:function(){return{JX:d3.j7==0,i:!0}}},{name:"Thumbnails by Document",i:function(){return{JX:d3.j7==1,i:!0}}}]);
this.aCO.P("select",this.a7G,this)}this.Wl=[0,1,1,0];var J=window.locStor;if(J){var q=J.getItem("lpOpt");
if(q){q=JSON.parse(q);this.Wl=q[0];d3.R9=q[1];d3.j7=q[2]}}this.a7G()}eP.prototype=new gF("");eP.dp=function(M){var X=M==null?0:M.O.length;
return{i:X!=0&&(X!=1||M.O[0]!=0)&&(X!=1||!M.U[M.O[0]].nA()||M.U[M.O[0]].cV()),Ld:kd.get(X>1||X==1&&M.U[M.O[0]].nA()?[6,12,0]:[6,10])}};
eP.prototype.SB=function(){if(this.asb)return;var M=hf.dY(!0),X=hf.xe(!0);this.asb=new an(M,X);var M=[{name:[14,10]},{name:[14,11],ns:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],ns:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",i:function(q){return{i:q.U[q.O[0]].add.SoLd!=null}},ns:!0},{name:[6,8],i:eP.ajA},{name:[6,34],i:function(q){var W=q.U[q.O[0]];
return{i:W.add.lmfx!=null&&!W.nA()}}},{name:[6,40],ns:!0,i:function(q){var W=q.U[q.O[0]];return{i:W.add.TySh!=null}}},{name:"",ns:!0,i:function(q){var W=q.U[q.O[0]],T=W.add.TySh,_=T?T.Zj:null;
return{i:T!=null&&_.Curve==null,Ld:kd.get(T&&f5.mj(_)==0?[16,3,1]:[16,3,0])}}},eP.aor(!1),hf.at_(),{name:[6,12,0],i:eP.dp},{name:[6,12,1],ns:!0},{name:[13,0],sub:function(){var q=[];
for(var $=0;$<jj.Zi.length;$++)q.push({name:[13,1,$],Xn:"#"+t.NZ(jj.Zi[$])});return q}()}],X=[{A:r.E.C,p:{h:r.m.SQ,bf:"layerstyle"}},{A:r.E.H,J:o.FN,p:{h:"fromlayer",FK:[null,0,0]}},{A:r.E.H,J:o.HX,p:{h:K.T0}},{A:r.E.C,p:{h:r.m.SQ,bf:"duplinto"}},{A:r.E.H,J:o.HX,p:{h:K.es}},{A:r.E.pL,p:{hC:"newPlacedLayer"}},{A:r.E.H,J:o.HX,p:{h:K.Vu}},{A:r.E.pL,p:{hC:"rasterizeLayer",Qd:{classID:"rasterizeLayer",null:k$.kh("Lyr",!0)}}},{A:r.E.pL,p:{hC:"rasterizeLayer",Qd:{classID:"rasterizeLayer",null:k$.kh("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{A:r.E.H,J:o.HX,p:{h:K.v8}},{A:r.E.H,J:o.JT,p:{h:"switchPntPrgr"}},{A:r.E.H,J:o.HX,p:{h:K.uk}},hf.a92(),{A:r.E.pL,p:{hC:"mergeLayersNew",Qd:{__name:"Merge Layers",classID:"Mrg2"}}},{A:r.E.pL,p:{hC:"flattenImage"}},{sub:function(){var q=[];
for(var $=0;$<8;$++)q.push({A:r.E.H,J:o.HX,p:{h:K.gn,a6Z:$}});return q}()}];this.zv=new an(M,X);var M=[{name:[6,45],i:function(q){var W=q.U[q.O[0]];
return{i:W.uV(q).JS==null}}},{name:[6,47]}],X=[{A:r.E.H,J:o.HX,p:{h:K.bD}},{A:r.E.H,J:o.HX,p:{h:K.hf}}];
this.ajw=new an(M,X);var M=[{name:"enab/disab",i:function(q){return{Ld:kd.get(q.U[q.O[0]].hM().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],i:function(q){return{i:q.KE(!1,!0)}}}],X=[{A:r.E.H,J:o.HX,p:{h:K.jE}},{A:r.E.H,J:o.HX,p:{h:K.JC}},{A:r.E.H,J:o.HX,p:{h:K.U9}}];
this.ays=new an(M,X);var M=[{name:"enab/disab",i:function(q){return{Ld:kd.get(q.U[q.O[0]].uV(q).JS.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],X=[{A:r.E.H,J:o.HX,p:{h:K.zI}},{A:r.E.H,J:o.HX,p:{h:K.BI}}];
this.af_=new an(M,X);var M=[{name:"enab/disab",i:function(q){return{Ld:kd.get(q.U[q.O[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],J={classID:"rasterizeLayer",null:k$.kh("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"vectorMask"}}},X=[{A:r.E.H,J:o.HX,p:{h:K.zt}},{A:r.E.pL,p:o.HI.Xb(3)},{A:r.E.pL,p:{hC:"rasterizeLayer",Qd:J}}];
this.aty=new an(M,X);this.adS=new an(hf.aez(!0),hf._A(!0));this.aIG=new an(hf.dY(),hf.xe())};eP.prototype.a6X=function(M){var X=this.yP.scrollTop-600;
for(var $=0;$<this.Hi.length;$++){var J=this.Hi[$],q=J.nF;if(X<J.nF)J.aIM();if(J.nF>X+this.oz+600)break}};
eP.prototype.nr=function(){return this.aCO};eP.prototype.a7G=function(M){var X=this.Wl;if(M){var J=M.target.gu(),$=J[0];
if($<4)X[$]=1-X[$];else if($<6){if($==4&&d3.R9-10>=10)d3.R9-=10;if($==5&&d3.R9+10<=200)d3.R9+=10;if(this.AR)this.AR.bM=!0}else{if($==6)d3.j7=0;
if($==7)d3.j7=1;if(this.AR)this.AR.bM=!0}var q=window.locStor;if(q)q.setItem("lpOpt",JSON.stringify([X,d3.R9,d3.j7]))}if(X[0]==1)this.aF8();
var W=[[{_:this.aib}],[this.uK,this.Ir],[this.cO,this.NG]];for(var $=0;$<3;$++)for(var T=0;T<W[$].length;
T++)W[$][T]._.style.display=X[$]==1?"inline-block":"none";this.uL(this.a3,this.oz)};eP.prototype.aiN=function(){var M=this.Ps;
if(M==null)return!1;if(M.V()){var X=this.ca.V(),J=this.vS[X].V();if(X==0)return J.indexOf(!0)!=-1;if(X==1)return J!=""}return!1};
eP.aor=function(M){var X=function(q){var W=q!=null&&q.O.length!=0&&q.U[q.O[0]].H2;return{JX:W,i:q!=null&&q.BS(q.O[0]),p:{A:r.E.pL,p:{hC:W?"ungroup":"groupEvent",Qd:{classID:W?"Ungr":"GrpL",null:k$.kh("Lyr",!0)}}}}},J={name:[6,6,0],ns:!0,i:X};
if(M)J.UD=[hP.Ke,hP.WM,hP.zj];return J};eP.ajA=function(M,X){if(M)for(var $=0;$<M.O.length;$++){var J=M.U[M.O[$]];
if(J.add.TySh||J.add.SoLd||J.add.SoCo||J.add.GdFl||J.add.PtFl)return{i:!0}}return{i:!1}};eP.prototype.aJ3=function(M){w.xb(M);
var X=M.dataTransfer.getData("Text"),J=1,q=0;if(X==""){w.C1(M,this,this.td.indexOf(this.AR),q+(J>.5?0:1))}else if(X!="--panel"){var X=JSON.parse(X),W=X.Dv;
if(W=="l")this.V0({h:K.Qc,source:X.WK,target:q,Tx:J})}};eP.prototype.a8s=function(M){var X=this.AR,J=M.data,W;
if(X.O.indexOf(J.w)==-1){var q={h:K.a0,w:M.target.us.index,CJ:J.tD};this.V0(q)}if(X.O.indexOf(J.w)==-1)return;
this.SB();if(J.tD==1){W=this.ays}else if(J.tD==2){W=this.aty}else if(J.tD==3){W=this.af_}else if(J.tD==4){W=this.ajw}else if(J.tD==5){W=this.asb}else{W=this.zv}W.T();
W.update(X);W.parent=this;var T=new jb(r.E.C,!0);T.data={h:r.m._5,kv:W,x:J._H.x+1,y:J._H.y+1};this.a(T)};
eP.prototype.T=function(){gF.prototype.T.call(this);this.uK.T();this.Ir.T();this.cO.T();this.NG.T();
if(this.Ps){this.Ps.T();this.vS[0].T()}if(this.AR)this.Mq(this.AR);var M="lrs/link lrs/fx lrs/mask lrs/adj lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var $=0;$<this.vd.length;$++){var X=this.vd[$];X.Hr(w.wD(M[$],null,"miniscale"));if($==1||$==3){X._.style.position="relative";
var J=w.l("img","gsicon");J.setAttribute("src",PIMG["tools/corner"]);w.F(J,"position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
X._.appendChild(J)}}};eP.prototype.Mq=function(M,X){if(M&&!M.bM)return;if(M==null)w.Z6(this.ds,"disabled");
else w.tM(this.ds,"disabled");this.AR=M;this.td=X;if(this.ama!=null){w.p9(this.yP);this.ama=null;this.Hi=[]}if(M==null)return;
var J=!1;for(var $=0;$<M.OD.length;$++)if(M.OD[$].OI)J=!0;this.ama=new jj(M.root,this,M,{t9:0,a69:!1},{afL:J,a7N:this.aiN()},this.Hi,0,new gc(0,0,M.r,M.$));
if(M.O.length==0||M.U[M.O[0]]==null)w.Z6(this.Mi,"disabled");else{w.tM(this.Mi,"disabled");if(M.O.length==1&&M.we){var q=M.O[0];
for(var $=0;$<this.Hi.length;$++){var W=this.Hi[$];if(W.us.index==q&&W.Mi.scrollIntoView)W.Mi.scrollIntoView({block:"nearest"})}}var T=M.U[M.O[0]];
if(T.nA()){this.uK.P$([[15,10,27]].concat(ae.Ql),[1].concat(ae.T3));var _=ae.pi.indexOf(T.Sw);this.uK.R(_+1)}else{this.uK.P$(ae.Ql,ae.T3);
var _=ae.pi.indexOf(T.Sw);this.uK.R(_)}this.Ir.R(Math.round(100*T.G8/255));this.cO.R([T.Uc(0),T.Uc(1),T.Uc(2),T.Uc(31)]);
var m=M.fr();this.uK._3(!m);this.NG._3(!m);this.Ir._3(!m);this.cO._3(!(m&&!T.Uc(31)));this.NG.R(Math.round(100*(T.add.iOpa!=null?T.add.iOpa/255:1)));
this.vd[2].amo(kd.get(T.hM()?[6,23]:[6,21]))}this.a6X(null)};eP.prototype.uL=function(M,X){this.a3=M;
this.oz=X;var J=this.Mi.getBoundingClientRect().height;if(55<J&&J<56)J=60.2;var q=this.iB.getBoundingClientRect().height,W=X-(J+q+3);
this.yP.style.height=W+"px";this.yP.style.width=M+"px"};eP.prototype.aJ4=function(M){this.V0({h:K.ni,Nz:this.uK.V()})};
eP.prototype.arb=function(M){this.V0({h:K.HB,Nz:Math.round(255*this.Ir.V()/100)})};eP.prototype.aCQ=function(M){this.V0({h:K.bC,Nz:[this.cO.V(),[0,1,2,31]]})};
eP.prototype.a4L=function(M){this.V0({h:K.C3,Nz:Math.round(255*this.NG.V()/100)})};eP.prototype.oi=function(M){if(M.target==this.ca)this.aF8();
var X=this.Ps.V();if(X)w.tM(this.aD8,"disabled");else w.Z6(this.aD8,"disabled");this.T();this.AR.bM=!0;
this.Mq(this.AR);this.AR.bM=!1};eP.prototype.aF8=function(){var M=this.aD8;if(M==null){var X=this.aib,J=this.Ps=new hE([0,6]);
J.P(r.E.n,this.oi,this);X.appendChild(J._);M=this.aD8=w.l("span","disabled");X.appendChild(M);this.ca=new iR(null,["Kind",[12,48]],[]);
this.ca.P(r.E.n,this.oi,this);var q=this.vS=[new ju(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new ja(null,null,8)];
q[0].P(r.E.n,this.oi,this);q[1].P("input",this.oi,this)}w.p9(M);M.appendChild(this.ca._);M.appendChild(this.vS[this.ca.V()]._)};
eP.prototype.a8l=function(M){this.SB();this.azN(M,this.adS)};eP.prototype.ah_=function(M){this.SB();
this.azN(M,this.aIG)};eP.prototype.azN=function(M,X){var J=M.currentTarget;if(w.L1(X._))return;M.stopPropagation();
var q=J.getBoundingClientRect();X.T();X.update(this.AR);X.parent=this;var W=new jb(r.E.C,!0);W.data={h:r.m._5,kv:X,x:q.left,y:q.top,aA2:!0};
this.a(W)};eP.prototype.aoD=function(M){this.V0({h:K.aGp})};eP.prototype.a6Y=function(M){this.V0({h:this.AR.O.length>1?K.S8:K.Q2})};
eP.prototype.aCN=function(M){this.V0({h:K.YO})};eP.prototype.apE=function(M){var X=this.AR;if(X.O.length==0)return;
var J=X.U[X.O[0]],q=J.tD;this.V0({h:q<=0?J.Cq?K.h9:K.es:q==3?K.BI:K.JC})};eP.prototype.abw=function(M){this.V0({h:K.v0})};
eP.prototype.V0=function(M){var X=new jb(r.E.H,!0);X.data=M;X.J=o.HX;this.a(X)};eP.prototype.x4=function(){var M=[[6,54,0],[11,6],[6,21],[6,1],[6,20],[6,13],[5,4]],X=[this.abw,this.ah_,this.aoD,this.a8l,this.a6Y,this.aCN,this.apE],J=this.a9n.bind(this);
for(var $=0;$<M.length;$++){var q=new fT("W",!1,M[$]);this.vd.push(q);w.Ad(q._,X[$].bind(this));if(gj==0||$>3&&$!=5)this.iB.appendChild(q._);
if($>=M.length-3){var W=q._;W.addEventListener("drop",J,!1);W.addEventListener("dragover",function(T){T.preventDefault()},!1);
W.addEventListener("dragenter",w.xb,!1)}}};eP.prototype.a9n=function(M){w.xb(M);var X=0,J=this.vd;while(J[X]._!=M.currentTarget)X++;
J[X].fz();var q=M.dataTransfer.getData("Text");if(q=="")return;var q=JSON.parse(q);if(q.Dv=="l"){var W={h:[K.S8,K.T0,K.es][X-4]};
if(this.AR.O.indexOf(q.WK)==-1)W.w=q.WK;this.V0(W)}if(X!=6)return;if(q.Dv=="sm"||q.Dv=="s"){var T=new jb(r.E.H,!0);
T.J=o.vt;T.data={h:q.Dv=="sm"?"st_clear":"st_delsingle",w:q.WK,WK:q.Xw};this.a(T)}if(q.Dv=="fm"||q.Dv=="f"){this.V0({h:q.Dv=="fm"?K.hf:K.Cc,src:q.WK,Xw:q.Xw})}if(q.Dv=="m"||q.Dv=="vm"){this.V0({h:q.Dv=="m"?K.JC:K.h9,w:q.WK})}};
function jj(M,X,J,q,W,T,_,m){bj.call(this);this.parent=X;this.nF=_;this.us=M;T.push(this);this.AR=J;
this.$x=q;var d=X.yP,A=M.w,p=J.O.indexOf(M.index)!=-1,j=null;this.Mi=w.l("div",p?"head selected":"head");
if(A.add.artb!=null){w.Z6(this.Mi,"artb");m=A.PH()}var a=this.asr=Math.floor(10+A.a6x/w.pv()),f="height: "+a+"px;";
if(p&&W.afL)f+="background-color:rgba(255,50,50,0.4);";w.F(this.Mi,f);this.view=m;var s=this.aol=this.a8i.bind(this),Y=W.a7N&&!this.aGB();
if(!Y){if(M.depth!=0){d.appendChild(this.Mi);_+=a-.3}if(A.rm()||A.mT())if(A.Yh()){j=this.akB=w.l("div","lpineck");
d.appendChild(j);if(A.rm()){j.addEventListener("contextmenu",s,!1);var G=new eP.fN(kd.get([12,1]),"sm","layerstyle",M.depth,0,null);
_+=21;G.parent=this;j.appendChild(G._);var Q=A.add.lmfx,Z=Q.masterFXSwitch.v;G.EG(Z);for(var $=0;$<kf.order.length;
$++){var g=Q[kf.an[$]].v;if(g.length==0)continue;for(var S=0;S<g.length;S++){var G=new eP.fN(kd.get(kf.names[$]),"s","layerstyle",M.depth,1,[$,S]);
_+=21;G.EG(Z&&g[S].v.enab.v);G.parent=this;j.appendChild(G._)}}}if(A.mT()){var U=A.uV(J).JS;if(U)this.UF=w.l("div","thumb");
var G=new eP.fN(kd.get([12,55]),"fm",null,M.depth,0,-1,U?this.UF:null,a);_+=U?a:21;G.parent=this;j.appendChild(G._);
this.auL=G._;this.auL.addEventListener("contextmenu",s,!1);var Q=A.add.SoLd.filterFX.v,B=Q.filterFXList.v,Z=Q.enab.v;
G.EG(Z);for(var $=B.length-1;$>=0;$--){var e=B[$].v,P=fV._v(e);if(ia.QV[P])P=ia.QV[P];var h=e.Nm.v;if(fV.names[P])h=kd.get(fV.names[P]);
if(ia.names[P])h=kd.get(ia.names[P]);var V="afw_"+P,G=new eP.fN(h,"f",V,M.depth,1,$);_+=21;G.EG(Z&&e.enab.v);
G.parent=this;j.appendChild(G._)}}}}var I=A.add.lclr;if(I==null)I=0;I=I==0?q.t9:jj.Zi[I];this.aFe=I;
if(A.nA()&&(A.add.lsct==gO.A$||W.a7N)){var F={t9:I,a69:q.a69||A.Uc(31)};for(var $=M.children.length-1;
$>=0;$--){var c=new jj(M.children[$],X,J,F,W,T,_,m);_=c.acN}}this.acN=_}jj.prototype=new bj;jj.Zi=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
jj.prototype.aIM=function(){if(this.Vb)return;var M=this.us,X=M.w,J=this.AR,q=this.$x,a=!0,F=!1;M.aw(J,this.view,!0);
var W=w.l("div","headL"),T=w.l("div","headR");this.Mi.appendChild(W);this.Mi.appendChild(T);var _=this.Mi;
_.setAttribute("draggable","true");_.addEventListener("dragstart",this.Ri.bind(this),!1);_.addEventListener("drop",this.Ab.bind(this),!1);
_.addEventListener("dragover",this.ez.bind(this),!1);_.addEventListener("dragenter",w.xb,!1);_.addEventListener("dragleave",this.j9.bind(this),!1);
var m=[],d=[null,null,null,null],A=X.cV(),p=M;while(p.parent){p=p.parent;A=A&&p.w.cV()}if(X.H2){for(var $=M.index-1;
$>=0;$--){var f=J.U[$];if(!f.H2){a=f.cV();break}}}var s=X.cV()?A&&a?2:1:0;this.Vb=w.l("div");var j=w.l("div",s==0?"sqr":"eye");
this.Vb.appendChild(j);j.style.opacity=[.12,.33,1][s];var Y=w.l("div","space");this.Wv=w.l("div","label");
w.F(this.Wv,"max-width:calc(100% - "+(96+M.depth*20)+"px); margin-top:"+(this.asr-19)/2+"px;"+(X.Nx?"text-decoration:underline;":""));
this.Wv.textContent=X.getName();this.a0E=w.l("div","lock");this.apM=w.l("div","lrfx");this.n6=w.l("div","arfx");
var G=this.aol,Q=this.aED.bind(this);this.Mi.addEventListener("click",Q,!1);this.Mi.addEventListener("contextmenu",G,!1);
var Z=this.aFe;if(Z!=0){var g=[Z>>16,Z>>8&255,Z&255];for(var $=0;$<3;$++){g[$]="calc("+g[$]+"*0.7 + (var(--absc)) * 255 * 0.3)"}w.F(this.Vb,"background-color:rgba("+g.join(",")+",1);")}var S=this.agX.bind(this);
this.Vb.addEventListener("mousedown",S,!1);this.Vb.addEventListener("mouseover",S,!1);this.n6.addEventListener("click",this.axF.bind(this),!1);
m[0]=this.Vb;m[1]=Y;m[10]=this.Wv;if(X.nA()){var U=w.l("div","arrow"),B=w.l("div","folder");this.iS(B);
U.addEventListener("click",this.au8.bind(this),!1);m[2]=U;m[3]=B;U.className=X.add.lsct==gO.A$?"open":"closed"}else{this.PE=w.l("div","thumb");
m[5]=this.PE;jj.zL(this.PE,X.xk);this.iS(this.PE);if(ia.get(X.add))w.Z6(X.xk.canvas,"gsicon")}var e=X.hM();
if(e){this.Cg=w.l("div","chain");this.$g=w.l("div","thumb");jj.zL(this.$g,X.Lo,!0);this.Cg.style.opacity=e.kx?1:0;
this.Cg.addEventListener("click",this.ad9.bind(this),!1)}var P=X.eQ()&&X.add.vmsk;if(X.add.vmsk&&!P){this.My=w.l("div","chain");
this.gL=w.l("div","thumb");jj.zL(this.gL,X.Qm,!0);this.My.style.opacity=X.add.vmsk.kx?1:0;this.My.addEventListener("click",this.ayW.bind(this),!1)}if(X.mT()&&X.Yh()&&X.uV(J).JS){jj.zL(this.UF,X.eN,!1);
this.iS(this.UF);this.UF.addEventListener("click",Q,!1);this.UF.addEventListener("contextmenu",G,!1)}if(M.index==J.O[0]){var h=X.tD,V;
if(h<=0)V=this.PE;else if(h==1)V=this.$g;else if(h==3)V=this.UF;if(V)V.className="thumb active";if(X.Cq&&this.gL)this.gL.className="thumb active"}w.F(Y,"width:"+Math.max(0,M.depth-1)*18+"px");
var I=X.add.lspf!=null&&X.add.lspf!=0||q.a69;this.a0E.style.opacity=X.Uc(31)?1:.5;m[4]=X.H2?w.l("div","clipp"):null;
m[6]=e?this.Cg:null;m[7]=e?this.$g:null;m[8]=X.add.vmsk&&!P?this.My:null;m[9]=X.add.vmsk&&!P?this.gL:null;
var c=X.pZ,D=J.O;if(c!=0)for(var $=0;$<D.length;$++)if(J.U[D[$]].pZ==c){F=!0;break}if(F){d[0]=w.l("div",X.ed?"link":"linkX");
d[0].addEventListener("click",this.a4a.bind(this),!1)}d[1]=I?this.a0E:null;d[2]=X.rm()?this.apM:null;
d[3]=X.rm()||X.mT()?this.n6:null;this.n6.className=X.Yh()?"arfx open  gsicon":"arfx closed  gsicon";
var n=m;for(var $=0;$<n.length;$++)if(n[$])W.appendChild(n[$]);n=d;for(var $=0;$<n.length;$++)if(n[$])T.appendChild(n[$])};
jj.zL=function(M,X,J){var q=X.canvas;w.G6(q);if(J)M.setAttribute("draggable","true");M.appendChild(q);
w.F(q,q.getAttribute("style")+"; pointer-events:none")};jj.prototype.iS=function(M){w.Ad(M,function(X){if(this.parent.Wl[3]==0)return;
w.bS(X);w.ZA(document.body,function(){clearTimeout(this.af8)}.bind(this));this.af8=setTimeout(function(){var J=new jb("rclick",!0);
J.data={w:this.us.index,tD:this.tD(X),_H:w.uP(X,document.body)};this.a(J)}.bind(this),600)}.bind(this))};
jj.ph=function(M,X){var J=X.getBoundingClientRect();return(M.clientY-J.top)/J.height};jj.prototype.Ri=function(M){M.stopPropagation();
var X=M.target==this.$g?"m":M.target==this.gL?"vm":"l";M.dataTransfer.setData("Text",JSON.stringify({Dv:X,WK:this.us.index}))};
jj.prototype.j9=function(M){w.xb(M);this.Q$()};jj.prototype.Ab=function(M){w.xb(M);this.Q$();var X=M.dataTransfer.getData("Text"),J=this.parent.AR,q=jj.ph(M,this.Mi),W=this.us.index;
if(q>.8){var T=!0,_=J.root.Hc(W);while(_.parent!=null){var m=_.parent,d=m.children;if(d.indexOf(_)!=0)T=!1;
_=_.parent}if(T){W=0;q=1}}if(X==""){w.C1(M,this,this.parent.td.indexOf(J),W+(q>.5?0:1))}else if(X!="--panel"){var X=JSON.parse(X),A=X.Dv;
if(A=="l")this.V0({h:K.Qc,source:X.WK,target:W,Tx:q});else if(A=="m"||A=="vm")this.V0({h:A=="m"?K.a6k:K.dU,src:X.WK,nl:W});
else jj.aEZ(M,X,this)}};jj.aEZ=function(M,X,J,q){var W=X.Dv,T=J.us.index,_=X.WK;if(W=="s"||W=="sm")J.V0({h:K.X4,src:_,nl:T,Xw:X.Xw});
if(W=="f"||W=="fm")J.V0({h:K.ai3,src:_,nl:T,Xw:X.Xw,NJ:q==null?0:q})};jj.prototype.ez=function(M){w.xb(M);
var X=jj.ph(M,this.Mi),J=this.us.w.nA()&&.5<X&&X<.8;this.Q$();var q="inset 0 "+(J?0:X>.5?-3:3)+"px "+(J?"6px":0)+" var(--text-color)";
this.Mi.style.boxShadow=q};jj.prototype.Q$=function(M){this.Mi.style.boxShadow=""};jj.aG7=-1;jj.th=!1;
jj.afc=function(M){jj.th=!1;document.body.removeEventListener("mouseup",jj.afc)};jj.prototype.agX=function(M){if(M.button!=0)return;
if(M.type=="mousedown"){jj.th=!0;document.body.addEventListener("mouseup",jj.afc,!1)}if(M.type=="mouseover"&&(!jj.th||jj.aG7==this.us.index))return;
w.xb(M);this.V0({h:K.FF,w:this.us.index});jj.aG7=this.us.index};jj.prototype.au8=function(M){w.xb(M);
this.V0({h:K.a0R,w:this.us.index})};jj.prototype.ad9=function(M){this.V0({h:K.Vf,w:this.us.index})};
jj.prototype.ayW=function(M){this.V0({h:K.X7,w:this.us.index})};jj.g1=0;jj.SU=null;jj.prototype.u6=function(M){this.V0({h:K.KK,w:this.us.index,name:M})};
jj.prototype.axF=function(M){this.V0({h:K.aIy,w:this.us.index})};jj.prototype.a4a=function(M){this.V0({h:K.Kc,w:this.us.index})};
jj.prototype.a8i=function(M){if(M.button!=2&&!w.a1F(M)&&!(M.ctrlKey&&hP.Mc()))return;var X=this.tD(M);
if(X!=3&&M.currentTarget==this.auL)X=4;if(M.target==this.apM||M.currentTarget==this.akB)X=5;var J=new jb("rclick",!0);
J.data={w:this.us.index,tD:X,_H:w.uP(M,document.body)};this.a(J)};jj.prototype.tD=function(M){var X=M.target,J=X;
return J==this.gL?2:J==this.$g?1:J==this.PE?0:J==this.UF?3:-1};jj.prototype.aED=function(M){var X=M.target,Y;
if(X==this.Vb.firstChild||X==this.n6||X==this.Cg||X==this.My||X.tagName&&X.tagName.toLowerCase()=="input")return;
var J=this.tD(M),q=this.parent.AR,W=this.us.index,T=q.U[W];if(X==this.a0E){this.V0({h:K.bC,w:W,Nz:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var _=jj.g1,m=Date.now()-_<300&&W==jj.SU;jj.g1=Date.now();jj.SU=W;if(X==this.Wv){if(m){this.Mi.setAttribute("draggable","false");
var d=new gF.U8(this.Wv,this.u6.bind(this))}else this.V0({h:K.a0,w:W,CJ:J,cp:!0});return}if(gj==0&&M.button==0&&m){if(X==this.Wv)return;
var A=new jb(r.E.H,!0),p=new jb(r.E.C,!0),a=new jb(r.E.pL,!0);if(J==0&&T.add.SoCo){var f=t.NX.NH(T.add.SoCo.Clr.v);
p.data={h:r.m.SQ,bf:"colorpicker",t9:f.z<<16|f.L<<8|f.g,J4:function(Z){var g=t.NX.$J({g:Z&255,L:Z>>>8&255,z:Z>>16&255});
g={classID:"null",Clr:{t:"Objc",v:g}};var S=new jb(r.E.H,!0);S.J=o.HX;S.data={h:K.h3,CO:[W],$G:!0,K:{fH:1,PD:g}};
this.a(S)}.bind(this),Ej:!0}}else if(J==0&&(ia.get(T.add)||T.add.SoCo||T.add.GdFl||T.add.PtFl))p.data={h:r.m.Nt,bf:gF.UE.BJ};
else if(J!=0&&J!=-1)p.data={h:r.m.Nt,bf:gF.UE.BJ};else if(J==0&&T.add.SoLd){var s=T.add.SoLd,j=s.generativeDocInfo;
if(j)p.data={h:r.m.Nt,bf:gF.UE.BJ};else a.data={hC:"placedLayerEditContents",Qd:{classID:"placedLayerEditContents"}}}else if(J==0&&T.add.TySh){A.J=o.JT;
A.data={h:"editCurr",vE:W}}else p.data={h:r.m.SQ,bf:"layerstyle",w:W};this.a(a.data?a:p.data?p:A);return}if(M.button!=0)return;
if(J==1||J==3){var G=J==3?T.uV(q).JS:T.hM();Y=G.OI?q.k.KV.join("")=="111"?1:2:0}var Q={h:K.a0,w:W,CJ:J,at1:Y,cp:!0};
this.V0(Q)};jj.prototype.V0=function(M){var X=new jb(r.E.H,!0);X.data=M;X.J=o.HX;this.a(X)};jj.prototype.aGB=function(){var M=this.us.w,X=M.add,J=this.parent.ca.V(),q=this.parent.vS[J].V();
if(J==0){if(q[0]&&X.SoLd==null&&X.TySh==null&&M.nQ())return!0;if(q[1]&&ia.get(X)!=null)return!0;if(q[2]&&X.TySh!=null)return!0;
if(q[3]&&X.vstk!=null)return!0;if(q[4]&&X.SoLd!=null)return!0;return!1}if(J==1)return M.getName().toLowerCase().indexOf(q.toLowerCase())!=-1};
eP.fN=function(M,X,J,q,W,T,_,m){bj.call(this);this.awt=X;this.oR=J;this.index=T;this._=w.l("div","styleitem");
this.Mi=w.l("div","head");this.awy=null;if(X=="f"){var d=this.awy=w.l("div","headR");d.textContent="\u2699";
this.Mi.appendChild(d)}this.Vb=w.l("div","eye gsicon");this.Wv=w.l("div","label");this._.appendChild(this.Mi);
this.Mi.appendChild(this.Vb);if(_){this.$g=_;this.Mi.appendChild(_);w.F(this.Mi,"height: "+m+"px")}this.Wv.innerHTML=M;
w.F(this._,"margin-left: "+(24+q*16+W*22)+"px");this.Mi.appendChild(this.Wv);this.Vb.addEventListener("click",this.awL.bind(this),!1);
var A=this._;A.setAttribute("draggable","true");A.addEventListener("dragstart",this.Ri.bind(this),!1);
if(!0){A.addEventListener("drop",this.Ab.bind(this),!1);A.addEventListener("dragover",this.ez.bind(this),!1);
A.addEventListener("dragenter",w.xb,!1);A.addEventListener("dragleave",this.j9.bind(this),!1)}this._.addEventListener("click",this.fw.bind(this),!1)};
eP.fN.prototype=new bj;eP.fN.prototype.Ri=function(M){M.stopPropagation();M.dataTransfer.setData("Text",JSON.stringify({Dv:this.awt,WK:this.parent.us.index,Xw:this.index}))};
eP.fN.prototype.j9=function(M){w.xb(M);this.Q$()};eP.fN.prototype.Ab=function(M){w.xb(M);this.Q$();var X=M.dataTransfer.getData("Text");
if(X=="")return;var X=JSON.parse(X);jj.aEZ(M,X,this.parent,this.index+(jj.ph(M,this.Mi)>.5?0:1))};eP.fN.prototype.ez=function(M){w.xb(M);
var X=jj.ph(M,this.Mi)>.5;this.Q$();var J="border-"+(X?"bottom":"top");this.Mi.style[J]="0.2em solid rgba(0,0,0,0.5)"};
eP.fN.prototype.Q$=function(M){this.Mi.style.border="none"};eP.fN.prototype.EG=function(M){this.Vb.style.opacity=M?1:.2};
eP.fN.prototype.fw=function(M){var X=this.parent.us.index,J=jj.g1,q=Date.now()-J<300&&X==jj.SU;jj.g1=Date.now();
jj.SU=X;if(M.target==this.Vb)return;if(q&&this.oR!=null){var X=this.parent.us.index,W=new jb(r.E.C,!0);
if(this.oR.indexOf("afw_")==0){var T=this.oR.slice(4),_=dw[T]||fV.W[T],m=M.target==this.awy;if(!m&&!_)return;
W.data=o.hD.ap1(m?"blendOptions":T,{w:X,index:this.index})}else W.data={h:r.m.SQ,bf:this.oR,w:X,index:this.index};
this.a(W)}else{if(M.target.className!="thumb")this.parent.V0({h:K.a0,w:X,CJ:0})}};eP.fN.prototype.awL=function(M){var X={fm:K.Qx,f:K.Fr,sm:K.vP,s:K.BE}[this.awt];
this.parent.V0({h:X,w:this.parent.us.index,index:this.index})};function kI(){gF.call(this,"Guide Guy",!1,"---panels/guideguy",gF.UE.aEW);
this.iH=null;this.GB=new iR(null,t.gk.vZ)}kI.prototype=new gF("");kI.prototype.qH=function(){this.aC=[];
var M=w.l("div","form padded");this.ds.appendChild(M);w.F(M,"width:200px");this.ds.appendChild(M);var X=w.l("canvas"),J=X.getContext("2d");
X.width=X.height=160;var q=[32,0,16,160,0,32,160,16,0,112,160,16],W="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),T=[0,0,0,0,0,0,0,0,0,0];
M.appendChild(this.GB._);for(var $=0;$<10;$++){J.clearRect(0,0,160,160);J.setTransform(1,0,0,1,80,80);
J.rotate(($&3)*Math.PI/2);J.translate(-80,-80);J.fillStyle="rgba(0,0,0,0.3)";if($<4){for(var _=0;_<12;
_+=4){J.fillStyle=_==0?"#000000":"rgba(0,0,0,0.3)";J.fillRect(q[_],q[_+1],q[_+2],q[_+3])}}else if($<6){var m=8*6;
J.fillRect(0,0,m,160);J.fillRect(8*7,0,m,160);J.fillStyle="#000000";J.fillRect(8*14,0,m,160)}else if($<8){J.fillRect(0,0,16,160);
J.fillRect(160-16,0,16,160);J.fillRect(32,0,160-64,160);J.fillStyle="#000000";J.fillRect(32,80-8,160-64,8*1)}else{J.fillRect(0,0,8*7,160);
J.fillRect(8*13,0,160,160);J.fillStyle="#000000";J.fillRect(8*7,80-8,8*6,8*1)}var d="<img src=\""+X.toDataURL()+"\" class=\"autoscale gsicon\" /> ",A=new j6(d,0,200,null,$==4||$==5?0:2,null,null,4,W[$]);
A.parent=this;A.P(r.E.n,this.adz,this);A.R(T[$]);A.T();this.aC.push(A);M.appendChild(A._)}var p=[[11,14],[11,15,0]];
this.sC=[];for(var $=0;$<p.length;$++){var a=new fT(p[$],!0,null,!0);this.sC.push(a);a.P("click",this.VS,this);
M.appendChild(a._)}for(var $=0;$<6;$++){J.setTransform(1,0,0,1,80,80);J.rotate(Math.floor($/3)*Math.PI/2);
J.translate(-80,-80);J.clearRect(0,0,160,160);J.fillStyle="rgba(0,0,0,0.3)";J.fillRect(0,0,160,160);
J.clearRect(16,16,128,128);J.fillStyle="#000000";var f=$%3;J.fillRect([0,9,18][f]*8,0,16,160);var d="<img src=\""+X.toDataURL()+"\" class=\"autoscale gsicon\" /> ",a=new fT(d,!1,null,!1);
this.sC.push(a);a.P("click",this.VS,this);M.appendChild(a._)}};kI.prototype.T=function(){gF.prototype.T.call(this);
this.GB.T();if(this.aC==null)return;for(var $=0;$<this.sC.length;$++)this.sC[$].T()};kI.prototype.adz=function(M){var X=this.aC,J=X.indexOf(M.target),q=Math.floor(J/2),W=J&1,T=[];
for(var $=0;$<4;$++)T.push(X[2*$+W].V());var _=-1;if(q==2&&T[2]!=0&&T[3]!=0&&T[4]!=0)_=4;if(q==3&&T[3]!=0&&T[2]!=0&&T[4]!=0)_=4;
if(q==4&&T[4]!=0&&T[2]!=0&&T[3]!=0)_=3;if(_!=-1)X[2*_+W].R(0)};kI.prototype.VS=function(M){var X=this.iH,J=this.sC.indexOf(M.target),q=[[],[]];
if(X==null)return;var W=X.c?X.c.S:new gc(0,0,X.r,X.$),T=W.r,_=W.$;if(J==0){var m=[[],[]],d=this.GB.V();
for(var $=0;$<this.aC.length;$++){var A=this.aC[$].V();if($!=4&&$!=5)A=t.gk.Bw(A,X.Qv,($&1)==0?W.r:W.$,d);
m[$&1].push(A)}var p=[kI.a9f(m[0],W.x,W.x+T),kI.a9f(m[1],W.y,W.y+_)];q=kI.ge(p);o.UA.JB(q,X.ob())}else if(J==1){}else{J-=2;
var a=Math.floor(J/3),p=[[],[]];p[a].push([W.x,W.x+T/2,W.x+T,W.y,W.y+_/2,W.y+_][J]);q=kI.ge(p);o.UA.JB(q,X.ob())}this.aix(q)};
kI.ge=function(M){var X=[],J=[];for(var q=0;q<2;q++)for(var $=0;$<M[q].length;$++){X.push([q,M[q][$]]);
J.push(-1)}return[X,J]};kI.prototype.asT=function(M){var X=this.acX.indexOf(M.target)};kI.prototype.aix=function(M){var X=new jb(r.E.H,!0);
X.J=o.oa;X.data={h:"gids",l$:M};this.a(X)};kI.a9f=function(M,X,J){var q=[],W=M[2],T=M[3],_=M[4],m=0;
if(W==0)m++;if(T==0)m++;if(_==0)m++;if(m>1&&W==0&&T==0){if(M[0]!=0)q.push(X+M[0]);if(M[1]!=0)q.push(J-M[1]);
return q}var d=J-X-M[0]-M[1];if(W==0){if(_==0){W=Math.floor(d/T);_=(d-W*T)/(W-1)}else{W=1;while(T*W+_*(W-1)+T+_<=d)W++}}else if(W!=0&&T!=0){if(W*T>d)W=Math.floor(d/T);
_=(d-W*T)/(W-1)}q.push(X+M[0],J-M[1]);var T=(d-_*(W-1))/W;for(var $=1;$<W;$++){if(_==0)q.push(X+M[0]+$*T);
else q.push(X+M[0]+$*T+($-1)*_,X+M[0]+$*T+$*_)}return q};kI.prototype.Mq=function(M,X,J){this.iH=M};
kI.prototype.IQ=function(){if(w.L1(this.ds)&&this.aC==null)this.qH();this.T()};kI.prototype.SY=function(M){this.GB.R(M.QQ.EI)};
function c3(){gF.call(this,[9,2],!1,"---panels/properties",gF.UE.BJ);this.a27=null;this.AR=null;this.f=null;
this.awz=-1;this.I0=null}c3.prototype=new gF("");c3.prototype.uL=function(M,X){this.a3=M;this.oz=X;M=M-16;
X=X-30;var J=this.I0;if(J){J.style.width=M+"px";J.style.height=X+"px";for(var $=0;$<3;$++)this.aAS[$].uL(M-12,X)}};
c3.prototype.qH=function(){this.I0=w.l("div","padded scrollable");this.ds.appendChild(this.I0);var M=w.l("span");
this.I0.appendChild(M);this.yC=[new fT([0,3]),new fT([12,73]),new fT([12,91,0])];for(var $=0;$<this.yC.length;
$++){var X=this.yC[$];X.P("click",this.ahV,this);M.appendChild(X._);if($==2)X._.style.marginRight="0"}this.I0.appendChild(w.l("hr"));
this.Yw=new c3.PG;this.Yw.parent=this;this.dT=new c3.z8;this.dT.parent=this;this.gG=new c3.xu;this.gG.parent=this;
this.aAS=[this.Yw,this.dT,this.gG];this.I0.appendChild(this.Yw._);this.iB=w.l("div","lpfoot");this.ds.appendChild(this.iB);
this.vd=[];for(var $=0;$<4;$++){var X=new fT("W");X.P("click",this.vx,this);this.vd.push(X);this.iB.appendChild(X._)}this.uL(this.a3,this.oz)};
c3.prototype.vx=function(M){var $=this.vd.indexOf(M.target);if($==1){var X=this.AR,J=X.U[X.O[0]],q=ia.get(J.add);
this.Yw.azq.R(fV.IH(q));this.Yw.agp();return}var W=new jb(r.E.H,!0);W.J=o.HX;if($==0)W.data={h:K.uk};
if($==2)W.data={h:K.FF};if($==3)W.data={h:K.es};this.a(W)};c3.prototype.ahV=function(M){var $=this.yC.indexOf(M.currentTarget);
this.wU($);this.azW($==1?this.dT.uu:-1)};c3.prototype.wU=function(M){for(var $=0;$<3;$++){this.yC[$].fz();
var X=this.aAS[$]._;if(X.parentNode==this.I0&&$!=M)this.I0.removeChild(X);if(X.parentNode!=this.I0&&$==M)this.I0.appendChild(X)}this.yC[M].lH()};
c3.prototype.azW=function(M){var X=this.AR.O[0],J=this.AR.U[X],q=M+1;if(M==1&&J.Cq)return;var W=new jb(r.E.H,!0);
W.J=o.HX;if(M!=1&&J.Cq){W.data={h:K.a0,w:X,CJ:2};this.a(W)}W.data={h:K.a0,w:X,CJ:q};this.a(W)};c3.prototype.T=function(){gF.prototype.T.call(this);
if(this.I0==null)return;this.Mq(this.AR);for(var $=0;$<3;$++){this.yC[$].T();this.aAS[$].T()}da.H6(this.vd,["lrs/clipping","reload","lrs/eye","lrs/bin"],[[6,6,0],[1,12,2],[5,5],[6,31]])};
c3.prototype.IQ=function(){if(!w.L1(this.ds))return;if(this.I0==null){this.qH();this.SY(this.f,bN.Ru);
this.Mq(this.a27);this.T()}};c3.prototype.Mq=function(M){this.a27=M;if(this.I0==null)return;this.Yw.Mq(M);
this.dT.Mq(M);this.gG.Mq(M);if(M==null||M.O.length==0||M.U[M.O[0]]==null){w.Z6(this.ds,"disabled");this.AR=null;
return}else w.tM(this.ds,"disabled");var X=M.O[0],J=M.U[X];this.vd[0].R(J.H2);this.vd[1]._3(ia.get(J.add)!=null);
this.vd[2].R(J.cV());var q=M.ZX(),W=q[0],T=q[1];if(T.length!=0){var _=W[T[0]],m=_.add.vogk,d=!1;if(m)for(var $=0;
$<m.length;$++){var A=m[$].v;if(!t.fg.RS(A))continue;d=!0;X=_.gO}}X+=","+d;if(M!=this.AR||this.awz!=X){this.AR=M;
this.awz=X;if(d)this.wU(2);else if(J.tD<1&&!J.Cq||ia.get(J.add))this.wU(0);else this.wU(1)}this.yC[1]._3(this.dT.uu!=-1);
this.yC[2]._3(d)};c3.prototype.SY=function(M,X){this.f=M;if(this.Yw)this.Yw.SY(M,X);if(this.gG)this.gG.SY(M,X)};
c3.PG=function(){bj.call(this);this._=w.l("div","form");this.aC4=new jH("Hello");this._.appendChild(this.aC4._);
this.ow=null;this.azq=null;this.AR=null;this.f=null;this.ame=-1;this.azs=null;this.a6T=null;this.Ak=new cg(0,!0,!0);
this.Ak.parent=this;this.Ak.P(r.E.n,this.aoA,this);this._.appendChild(this.Ak._);this.VZ=new gv(!0);
this.VZ.parent=this;this.VZ.P(r.E.n,this.ams,this);this.sR=w.l("div","marged hiline");this.sR.appendChild(this.VZ._);
this.AT=new b2("GrFl",!0);this.AT.parent=this;this.AT.P(r.E.n,this.adn,this);this.Ap=w.l("div","marged hiline");
var M="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var $=0;$<M.length;$++){var X=this.AT.GS[M[$]]._;
this.Ap.appendChild(X)}this.Sc=new b2("patternFill",!0);this.Sc.parent=this;this.Sc.P(r.E.n,this.a3w,this);
this._e=w.l("div","marged hiline");var M=["Ptrn","Angl","Scl","Algn","phase"];for(var $=0;$<M.length;
$++){var X=this.Sc.GS[M[$]]._;this._e.appendChild(X)}this.yB={};for(var J in ia.names){if(dw[J]==null)continue;
this.yB[J]=new dw[J];this.yB[J].P(r.E.n,this.agp,this);this.yB[J].parent=this}var q=this.aHa=w.l("div","marged hiline");
this.rH=new cg(0,!0);q.appendChild(this.rH._);this.rH.P(r.E.n,this.P5,this);this.avk=null;this.GG=new bK;
this.GG.parent=this;this.GG.P(r.E.n,this.P5,this);q.appendChild(this.GG._);this.ot=new gi;this.ot.parent=this};
c3.PG.prototype=new bj;c3.PG.prototype.aoA=function(M){var X=this.Ak.V(),J=this.a6T,q=new gc(X[0],X[1],X[2],X[3]);
if(q.w6(J))return;this.a6T=q;var W=new jb(r.E.H,!0);if(J.r==q.r&&J.$==q.$){W.J=o.oa;W.data={h:"trsl",wH:q.x-J.x,RI:q.y-J.y}}else{W.J=o.zS;
W.data={h:"scl",AC:[2,4],K:new es(q.r/J.r,q.$/J.$),yu:0}}this.a(W)};c3.PG.prototype.uL=function(M,X){var J=this.yB;
for(var q in J)J[q].uL(M,X)};c3.PG.prototype.T=function(){for(var M in this.yB)this.yB[M].T();this.AT.T();
this.Sc.T();this.GG.T();this.rH.T();this.Ak.T();this.ot.T()};c3.PG.prototype.P5=function(M){var X=new jb(r.E.H,!0),J=this.rH.V(),q=this.avk;
if(M.target==this.rH&&J[2]==q[2]&&J[3]==q[3]){X.J=o.oa;X.data={h:"trsl",wH:J[0]-q[0],RI:J[1]-q[1]}}else{var W=K.JO(new gc(J[0],J[1],J[2],J[3])),T=this.GG.agR();
T.artboardRect={t:"Objc",v:W};var _=this.AR,m=_.U[_.O[0]],d=m.add.artb.guideIndeces;if(d)T.guideIndeces=t.b(d);
X.J=o.HX;X.data={h:K.Mp,On:T}}this.a(X)};c3.PG.prototype.ams=function(M){var X=this.AR,J=X.O[0];if(X.U[J].add.SoCo==null)return;
var q=t.b(X.U[J].add.SoCo);q.Clr.v=this.VZ.V();this.xi({fH:1,PD:q})};c3.PG.prototype.adn=function(M){var X=this.AR,J=X.O[0];
if(X.U[J].add.GdFl==null)return;this.xi({fH:2,PD:this.AT.V()})};c3.PG.prototype.a3w=function(M){this.xi({fH:3,PD:this.Sc.V()})};
c3.PG.prototype.xi=function(M){this.a3L(o.HX,{h:K.h3,CO:[this.AR.O[0]],$G:!0,K:M})};c3.PG.prototype.agp=function(M){this.a3L(o.GR,{h:"edit_layer",K:this.azq.V()})};
c3.PG.prototype.a3L=function(M,X){var J=new jb(r.E.H,!0);J.J=M;J.data=X;this.a(J)};c3.PG.prototype.Mq=function(M,X){var J=kd.get([0,3]),q=!1,W=null;
this.AR=M;if(M&&M.U.length>0&&M.O.length!=0&&M.U[M.O[0]]){var T=M.U[M.O[0]],_=ia.get(T.add);if(_!=null&&this.yB[_]!=null){W=this.yB[_]._;
this.azq=this.yB[_];this.yB[_].R(t.b(T.add[_]));if(M.O[0]!=this.ame){var m=M.m7(M.O[0]-1);this.azs=t.xW(m)}this.yB[_].V3(this.azs);
J=kd.get(ia.names[_])}if(_==null&&T.add.artb==null){var d=this.a6T=t.G.JE(o.fx.Hg(M));q=!d.M5();var A=M.Pd();
d.x-=A.x;d.y-=A.y;this.Ak.R([d.x,d.y,d.r,d.$],[M.Qv,M.r,this.f.QQ.EI])}if(T.add.SoCo){W=this.sR;this.VZ.R(T.add.SoCo.Clr.v);
J=kd.get([6,48,0,0])}if(T.add.GdFl){W=this.Ap;this.AT.update(M,T.add.GdFl);J=kd.get([6,48,0,1])}if(T.add.PtFl){W=this._e;
this.Sc.update(M,T.add.PtFl);J=kd.get([6,48,0,2])}if(T.add.artb){var p=T.add.artb,a=T.PH();W=this.aHa;
this.GG.ats(p);var f=this.avk=[a.x,a.y,a.r,a.$];this.rH.R(f,[M.Qv,M.r,this.f.QQ.EI]);J=kd.get([1,16,0])}var s=T.add.SoLd;
if(s&&s.generativeDocInfo){var j=s.Idnt.v,Y=M.sF(j);this.ot.R(Y.raw.buffer);W=this.ot._}this.ame=M.O[0]}if(W!=this.ow){if(this.ow)this._.removeChild(this.ow);
if(W!=null)this._.appendChild(W);this.ow=W}this.aC4.R(J);this.Ak._.style.display=q?"":"none"};c3.PG.prototype.SY=function(M,X){this.f=M;
this.AT.SY(M,X);this.Sc.SY(M,X);if(X==bN.VB)this.Mq(this.AR,M);for(var J in this.yB)this.yB[J].SY(M,X)};
c3.z8=function(){bj.call(this);this._=w.l("div","form");this.AR=null;this.uu=0;var M=w.l("span","fitem");
this._.appendChild(M);this.yC=[new fT([6,2]),new fT([6,3]),new fT([6,50])];for(var $=0;$<this.yC.length;
$++){var X=this.yC[$];X.P("click",this.aCt,this);M.appendChild(X._)}this.EU=new jP([12,74],0,255);this.EU.P(r.E.n,this.wQ,this);
this._.appendChild(this.EU._);this.nV=new jP([7,6],0,500,"px",2,!0);this.nV.P(r.E.n,this.wQ,this);this._.appendChild(this.nV._);
this.a5h=new fT([4,11],null,null,!0);this.a5h.P("click",this.anM,this)};c3.z8.prototype=new bj;c3.z8.prototype.anM=function(){var M=new jb(r.E.H,!0);
M.J=o.GR;M.data={h:"start",T$:"nvrt"};this.a(M)};c3.z8.prototype.wQ=function(M){var X=this.EU.V(),J=this.nV.V(),q=new jb(r.E.H,!0);
q.J=o.HX;q.data={h:K.KB,a_:this.AR.O[0],ue:{sl:this.uu,EU:X,nV:J}};this.a(q)};c3.z8.prototype.T=function(){for(var $=0;
$<this.yC.length;$++)this.yC[$].T();this.EU.T();this.nV.T();this.a5h.T()};c3.z8.prototype.Mq=function(M){this.AR=M;
this.Ik()};c3.z8.prototype.aCt=function(M){this.Ik(this.yC.indexOf(M.currentTarget));this.parent.azW(this.uu)};
c3.z8.prototype.Ik=function(M){var X=this.AR,J=this.yC;for(var $=0;$<3;$++){var q=J[$];q.fz();q.bH()}if(X==null||X.U.length==0||X.O.length==0||X.U[X.O[0]]==null)return;
var W=-1,T=X.U[X.O[0]];if(T.mT()&&T.uV(X).JS!=null){J[2].Ja();W=2}if(T.add.vmsk){J[1].Ja();W=1}if(T.hM()){J[0].Ja();
W=0}if(M!=null)W=M;else if(T.Cq)W=1;else if(T.tD==3)W=2;else if(T.tD==1)W=0;this.uu=W;if(W==-1){this.EU.bH();
this.nV.bH();return}var _=T.SS(W);this.EU.Ja();this.nV.Ja();this.EU.R(_.EU);this.nV.R(_.nV);J[W].lH();
var m=this.a5h._;if(W==0)this._.appendChild(m);else if(m.parentNode==this._)this._.removeChild(m)};c3.xu=function(){bj.call(this);
this._=w.l("div","form");this.iH=null;this.f=null;this.QG=-1;this.Ak=new cg(0,!1);this.UW=new jP([12,15],-180,180,"\xB0",2);
this.Rd=new cg(1,!0);this.vv=new jP([12,94,0],0,100,null,2);this.YR=new jP([12,78],3,30);this.bX=new fT(["\u279C  ",[12,76,0]],null,null,!0);
this.Ak.P(r.E.n,this.mh,this);this.UW.P(r.E.n,this.mh,this);this.Rd.P(r.E.n,this.mh,this);this.vv.P(r.E.n,this.mh,this);
this.YR.P(r.E.n,this.mh,this);this.bX.P("click",this.mh,this)};c3.xu.prototype=new bj;c3.xu.prototype.T=function(){this.Ak.T();
this.UW.T();this.Rd.T();this.vv.T();this.YR.T()};c3.xu.prototype.mh=function(M){var X=this.iH,J=t.fg.bw(X),q=M.target.V(),W=[this.Ak,this.UW,this.Rd,this.vv,this.YR,this.bX].indexOf(M.target);
if(W==0){var T=X.Pd(),_=[],m=_[0]=q[0]+T.x,d=_[1]=q[1]+T.y;_[2]=m+q[2];_[3]=d+q[3];q=_}if(W==1)q=q*Math.PI/180;
var A={0:1,1:2,2:3,3:3,4:4}[W];J[A]=q;var p=new jb(r.E.H,!0);p.J=o.HX;p.data={h:K.S$,K:J,ai5:W==5};this.a(p)};
c3.xu.prototype.Mq=function(M){var X=this._;this.iH=M;if(M==null)return;var J=this.f,q=[M.Qv,M.r,J.QQ.EI],W=t.fg.bw(M),T=W[0],_=W[1];
if(_==null)return;var m=T!=this.QG;this.QG=T;if(m)w.p9(X);if(m)X.appendChild(this.Ak._);if(m)X.appendChild(this.UW._);
var d=M.Pd();this.Ak.R([_[0]-d.x,_[1]-d.y,_[2]-_[0],_[3]-_[1]],q);this.UW.R(W[2]*180/Math.PI);if(T==2){if(m)X.appendChild(this.Rd._);
var A=W[3];this.Rd.R(A,q)}if(T==7||T==8){if(m)X.appendChild(this.vv._);this.vv.R(W[3])}if(T==8){if(m)X.appendChild(this.YR._);
this.YR.R(W[4])}X.appendChild(this.bX._)};c3.xu.prototype.SY=function(M,X){this.f=M;this.Mq(this.iH)};
function iO(M){gF.call(this,M.name,!0);this.AR=M;this.f=null;this.yV=new hn(this.ds);this.yV.parent=this}iO.prototype=new gF;
iO.Rj=function(){var M=document.createElement("canvas"),X=document.createElement("canvas"),J=document.createElement("canvas"),q=16,W=t.j(16*16*4);
t.qR(W,q,q,8);var T=t.scale.l7(W,q,q);return{gA:M,anh:X,aFY:J,dy:M.getContext("2d",{willReadFrequently:!0}),aw3:X.getContext("2d"),a0y:J.getContext("2d"),K6:T}}();
iO.prototype.aIX=function(){if(this.AR.LZ())return window.confirm(kd.get([22,6,3])+" "+this.AR.name+". "+kd.get([22,6,4]));
return!0};iO.prototype.SY=function(M,X){this.f=M};iO.prototype.Mq=function(M){this.IQ();this.IF()};iO.prototype.uL=function(M,X){if(M<=0||X<=0)return;
this.a3=M;this.oz=X;var J=this.AR,q=iO.Rj,W=w.pv();J.k.dy.r=Math.floor(M*W);J.k.dy.$=Math.floor(X*W);
w.R$(q.gA,M,X);w.R$(q.anh,M,X);w.R$(q.aFY,M,X);w.R$(aq.mt(),M,X);if(J.k.r7==0)J.k.r7=o.XP.XB(J.r,J.$,M*W,X*W);
this.IF()};iO.prototype.IQ=function(){var M=this.ds.firstChild,X=iO.Rj,J=aq.zw&&gj==0;if(!J&&M==aq.mt()||J&&M==X.gA)this.ds.removeChild(M);
var q=J?aq.mt():X.gA;if(!w.L1(q))this.ds.appendChild(q)};iO.prototype.IF=function(){if(this.f==null)return;
var M=this.AR,X=aq.zw&&gj==0;if(X)this.abW();else this.hy()};iO.prototype.abW=function(){if(aq.zw&&iO.ar_==null){var M=iO.ar_=[],X=[0,2,8,32,128];
for(var $=0;$<5;$++)M[$]=[new iO.Se(!1,X[$],!1),new iO.Se(!0,X[$],!1)];M.push([new iO.Se(!1,0,!0),new iO.Se(!0,0,!0)])}var J=this.AR,q=iO.Rj,j,Q=0,P,h;
if(J.gS==null)return;var W=J.k,T=W.dy.r,_=W.dy.$,m=aq.qt;q.dy.clearRect(0,0,T,_);var d=this.aa3(J);if(W.Nm==null||W.Nm.r!=T||W.Nm.$!=_)W.Nm=new aq.Uy(T,_);
if(d){var A=Date.now(),p=_,a=new Uint8Array(q.dy.getImageData(0,0,T,p).data.buffer);W.Nm.set(a,new gc(0,0,T,p));
this.b4=!0}else if(this.f.no){if(this.b4){aq.O$(W.Nm);aq.Cb(1);this.b4=!1}var f=t.gk.ZZ,a=new Uint8Array(J.k.Mg.data.buffer);
W.Nm.set(a,new gc(0,0,f,_));var a=new Uint8Array(J.k.Xq.data.buffer);W.Nm.set(a,new gc(0,0,T,f));var a=new Uint8Array(q.dy.getImageData(0,_-f,T,f).data.buffer);
W.Nm.set(a,new gc(0,_-f,T,f));this.b4=!0}else if(this.b4){aq.O$(W.Nm);aq.Cb(1);this.b4=!1}var s=W.fT(0,0);
if(iO.aIJ==null)iO.aIJ=new Float32Array(4*1024);var Y=[0,0,0,0],G=iO.aIJ;if(J.add.artd){G.fill(0);Y=iO.kf(J);
var Z=J.r,g=J.$,e=0;for(var $=0;$<J.U.length;$++){var S=J.U[$],U=S.add.artb;if(U==null||!S.cV())continue;
var B=S.PH();G[Q]=B.x/Z;G[Q+1]=B.y/g;G[Q+2]=B.r/Z;G[Q+3]=B.$/g;Q+=4;if(Q==G.length)break}if(Q>2*4)e++;
if(Q>8*4)e++;if(Q>32*4)e++;j=iO.ar_[e+1];G=new Float32Array(G.buffer,0,[2,8,32,128][e]*4)}else j=iO.ar_[J.RM?5:0];
var V=J.fW();if(V==null)j=j[0];else{j=j[1];h=V[J.add.fcmy==1?6:4];P=V[2]}aq.anq(T,_);aq.Cb(0);aq.anq(T,_);
j.s1();var I=new kp;I.scale(T,_);I.concat(W.Zg(!0));I.scale(1/J.r,1/J.$);var F=[I.Jm,I.g,0,I.br,I.Bi,0,I._f,I.Ey,1];
j.tI(W.Nm.SX,J.gS.SX,new Float32Array(F),new Float32Array([T/8,_/8,s.x/T,s.y/_]),J.r,J.$,1/J.k.r7,T,_,new Float32Array(Y),G,new Float32Array(t.XS.jJ(t.XS.ajE(W.KV))),h,P);
m.drawArrays(m.TRIANGLES,0,6)};iO.kf=function(M){return[0,0,0,0]};iO.aF9=function(M){var X=t.NX.NH(M.v),J=[X.z/255,X.L/255,X.g/255,1];
for(var $=0;$<4;$++)J[$]=Math.min(1,J[$]);return J};iO.QL=function(M,X){var J=M[2]*255;if(aq.zw)J=X?0:Math.max(2,J);
return"rgba("+M[0]*255+","+M[1]*255+","+J+","+M[3]+")"};iO.SO=function(M){var X=M.length;if(aq.zw)for(var $=0;
$<X;$+=4){if(M[$+2]==0)M[$+2]=3}};iO.prototype.hy=function(){var M=this.AR,X=iO.Rj;if(gj==0&&M.buffer==null)return;
var J=M.k,q=J.dy,W=q.r,T=q.$,_=new gc(0,0,M.r,M.$);X.dy.clearRect(0,0,W,T);var m=M.add.prvw==0;if(gj==1&&m){X.dy.fillStyle="white";
X.dy.fillRect(-5e3,-5e3,2e4,2e4)}var d=J.Zg(!0),A=d.Q();A.vN();if(M.add.artd==null){X.dy.save();var p=A.y8(new es(0,0));
A.translate(-p.x,-p.y);X.dy.translate(Math.round(p.x),Math.round(p.y));X.dy.fillStyle=gj==0?X.K6:"#ffffff";
if(M.RM)X.dy.fillRect(-5e3,-5e3,2e4,2e4);else{var a=M.add.arts;if(gj==1)for(var $=0;$<a.length;$++){var f=t.G.Cs(a[$].ny);
this.cj(t.G.mP(f),A,X.dy);if(m)X.dy.stroke();else X.dy.fill()}else{this.cj(t.G.mP(_),A,X.dy);X.dy.fill()}}X.dy.restore()}else{X.dy.fillStyle=iO.QL(iO.kf(M));
X.dy.fillRect(0,0,W,T);X.dy.save();X.dy.setTransform(A.Jm,A.g,A.br,A.Bi,A._f,A.Ey);var s=M.root.children;
for(var $=0;$<s.length;$++){var j=s[$].w;if(j.add.artb==null||!j.cV())continue;var Y=j.PH(),G=j.sS();
if(G!=0)continue;X.dy.fillStyle=X.K6;X.dy.save();X.dy.scale(1/J.r7,1/J.r7);X.dy.fillRect(J.r7*Y.x,J.r7*Y.y,Y.r*J.r7,Y.$*J.r7);
X.dy.restore()}X.dy.restore()}var A=J.Zg(!0);A.vN();if(gj==1){X.dy.save();var Q=t.G.mP(J.dy);t.G.u(Q.d,J.Zg(!0),Q.d);
var f=t.G.Oi(Q.d);X.dy.setTransform(A.Jm,A.g,A.br,A.Bi,A._f,A.Ey);M.root.OV(M,X.dy,this.f,f);X.dy.restore()}else{J.VR();
var Z=q,g=M.dI;if(g&&g.wz(_))g=null;if(!M.RM){var S=g;if(S==null)S=_;var U=t.G.mP(S).d;t.G.u(U,A,U);
var f=t.G.Oi(U);Z=q.Lg(f)}if(!Z.M5()){var B=new Uint8Array(J.Dg.buffer,0,Z.o()*4);B.fill(0);t.scale.B4(M.buffer,_,d,B,Z,M.RM);
var e=M.fW();if(e)ICC.U.applyLUT(e[M.add.fcmy==1?5:3],e[2],B,B);if(J.KV[0]+J.KV[1]+J.KV[2]!=3)t.XS.aD1(B,B,t.XS.ajE(J.KV));
if(g)X.a0y.clearRect(Z.x,Z.y,Z.r,Z.$);else X.a0y.clearRect(0,0,W,T);X.a0y.putImageData(new ImageData(new Uint8ClampedArray(B.buffer,0,B.length),Z.r,Z.$),Z.x,Z.y)}X.dy.drawImage(X.aFY,0,0);
X.dy.getImageData(0,0,1,1)}this.aa3(M)};iO.prototype.aa3=function(M){var X=M.k,J=X.KV[0]+X.KV[1]+X.KV[2],q=iO.Rj,W=!1,T=[];
for(var $=0;$<M.O.length;$++){var _=M.U[M.O[$]];if(_==null)continue;var m=_.tD;if(m!=1&&m!=3)continue;
var d=m==1?_.hM():_.uV(M).JS;if(d.OI)T.push(d)}for(var $=0;$<M.OD.length;$++)if(M.OD[$].OI)T.push(M.OD[$]);
for(var $=0;$<T.length;$++){var d=T[$];this.apd(d,X,T.length==1&&J==0?2:1,d.color,d.t9);W=!0}var A=this.f;
W=this.anK(M,q.dy,X,T.length!=0)||W;if(M.c&&A.iY&&A.QQ.dW){this.apd(M.c,X,0,0,null);W=!0}return W};iO.prototype.apd=function(M,X,J,q,W){var T=0;
if(W)T=Math.round(W.g)<<16|Math.round(W.L)<<8|Math.round(W.z);var _=X.Zg(!0),m=X.dy,d=new gc(0,0,X.AR.r,X.AR.$),A=iO.Rj;
X.VR();X.Be.fill(q);X.Dg.fill(0);var p=M.N,a=M.S;t.scale.u(p,a,_,X.Be,m);if(J==0){var f=new Uint32Array([4278190080,4294967295]);
iO.SO(new Uint8Array(f.buffer));t.c.aFk(X.Be,X.Dg,m,f,w.pv()>1.9)}else{var s=Date.now();t.c.a4o(X.Be,X.Dg,m,J,T);
iO.SO(X.Dg)}var j=new ImageData(new Uint8ClampedArray(X.Dg.buffer),m.r,m.$);A.aw3.putImageData(j,0,0);
A.dy.save();if(J!=0){var Y=new gc(0,0,d.r,d.$),G=_.Q();G.vN();this.cj(t.G.mP(Y),G,A.dy);A.dy.clip()}A.dy.drawImage(A.anh,0,0);
A.dy.restore()};iO.prototype.anK=function(M,X,J,q){var W=M.aS.HC!=null||M.aS.Gn!=null||M.aS.E7!=null||M.aS.OX!=null||M.aS.Ur!=null||M.aS.z3!=null||M.aS.lw.length!=0||M.aS.Lh.length!=0,T=this.f,_=T.QQ,m=gS.sk[T.lb],d=Math.round(12*w.pv()),A=d/M.k.r7,p=J.Zg(!0);
p.vN();X.save();X.setTransform(p.Jm,p.g,p.br,p.Bi,p._f,p.Ey);var a=iO.kf(M)[0];a=a<.5?a+.5:a-.5;a=""+Math.round(a*255).toString(16);
while(a.length<2)a="0"+a;X.font=A+"px sans-serif";if(M.add.artd){X.fillStyle="#"+a+a+a;for(var $=0;$<M.U.length;
$++){var f=M.U[$];if(f.add.artb==null||!f.cV())continue;var s=f.PH();X.save();X.beginPath();X.rect(s.x,s.y-2*A,s.r,2*A);
X.clip();X.fillText(f.getName(),s.x+2,s.y-A*.7);X.beginPath();X.restore();W=!0}}if(M.add.arts&&T.Rk==o.Bu){var j=M.add.arts;
for(var $=0;$<j.length;$++){var s=j[$],Y=t.G.Cs(s.ny),G=($+1+"").padStart(2,"0");G+=" - "+s.HH;X.save();
X.beginPath();X.fillStyle=s.O?"#cce6ff":"#dddddd";X.rect(Y.x,Y.y,X.measureText(G).width+A,A*1.5);X.fill();
X.fillStyle="black";X.fillText(G,Y.x+A/2,Y.y+A*1.1);X.restore()}W=!0}function Q(gm){return gm==1||gm==2||gm==4||gm==5}var Z=iO.QL([.3,.5,1,1]),g=iO.QL([1,1,1,1]);
if(T.iY&&_.Qt){X.fillStyle=X.strokeStyle=Z;X.lineWidth=1.5/J.r7;var S=M.ZX(),U=S[0],B=S[1];for(var e=0;
e<B.length;e++){var f=U[B[e]],P=f.add.vmsk,h=P.X,V=t.G.BM(h);this.cj(V,null,X);X.stroke();W=!0;var I=3*w.pv()/J.r7;
for(var $=0;$<P.mO.length;$++){var F=t.I.aC_(h,P.mO[$]);if(F==null)continue;var c=F.x,D=F.y;X.beginPath();
var n=$==0;if(P.pj)n=!n;if(n){X.moveTo(c-I,D-I);X.lineTo(c+I,D+I);X.moveTo(c-I,D+I);X.lineTo(c+I,D-I);
X.stroke()}else{X.arc(c,D,I*1,0,2*Math.PI);X.fill()}W=!0}if(M.O.length!=1)continue;var k=-1,b=-1,N=-1;
for(var $=0;$<h.length;$++){if(h[$].e>5)continue;if(h[$].e==0||h[$].e==3){b=$+1;N=h[$].length;if(h[$].li!=-1)k++;
continue}if(P.O.indexOf(k)!=-1){var c=h[$].Z.x,D=h[$].Z.y;X.fillRect(c-I*.8,D-I*.8,2*I*.8,2*I*.8)}if(P.FQ.indexOf($)!=-1){var L=h[$],R=[L.Z];
X.beginPath();X.moveTo(L.vX.x,L.vX.y);X.lineTo(L.Z.x,L.Z.y);X.lineTo(L.vJ.x,L.vJ.y);var i=b+($+N-b-1)%N,v=b+($+N-b+1)%N,E=h[i],u=h[v];
if(E&&Q(E.e)&&P.FQ.indexOf(i)==-1){X.moveTo(E.Z.x,E.Z.y);X.lineTo(E.vJ.x,E.vJ.y);R.push(E.vJ)}if(u&&Q(u.e)&&P.FQ.indexOf(v)==-1){X.moveTo(u.Z.x,u.Z.y);
X.lineTo(u.vX.x,u.vX.y);R.push(u.vX)}X.stroke();if(!L.Z.w6(L.vX))R.push(L.vX);if(!L.Z.w6(L.vJ))R.push(L.vJ);
for(var C=0;C<R.length;C++){var F=R[C],c=F.x,D=F.y;if(C==0&&(L.e==2||L.e==5))X.fillRect(c-1.2*I,D-1.2*I,2.4*I,2.4*I);
else{X.beginPath();X.arc(c,D,I*1.2,0,2*Math.PI);X.fill();if(C!=0)X.fillStyle=g;X.beginPath();X.arc(c,D,I*.8,0,2*Math.PI);
X.fill();X.fillStyle=Z}}}W=!0}}if(M.n4!=-1&&[o.Vk,o.yF,o.g$].indexOf(T.Rk)!=-1){var f=M.Qt[M.n4],P=f.add.vmsk,h=P.X,V=t.G.BM(h);
this.cj(V,null,X);X.stroke();W=!0}}X.lineWidth=1/J.r7;if(M.aS.B$){X.fillStyle=X.strokeStyle=Z;var u={d:[],C6:[]},l=iO.ao3;
if(l==null){l=iO.ao3={d:[1,0],C6:["M"]};for(var $=1;$<30;$++){var x=Math.PI*2*$/30;l.d.push(Math.cos(x),Math.sin(x));
l.C6.push("L")}l.C6.push("Z","M","L","M","L");l.d.push(-.5,0,.5,0,0,-.5,0,.5)}for(var $=0;$<M.aS.B$.length;
$++){var E=o.rq.a7p(M.aS.B$[$],J),y=new kp(E[0],0,0,E[0],E[1],E[2]);t.G.concat(u,l,y)}this.cj(u,null,X);
X.stroke();W=!0}var ge=new kp(1,0,0,1,.5/J.r7,.5/J.r7);if(M.RM){X.fillStyle=X.strokeStyle=Z;var u={d:[0,0,M.r,0,M.r,M.$,0,M.$],C6:["M","L","L","L","Z"]};
this.cj(u,ge,X);X.stroke();W=!0}if(M.aS.S0){X.fillStyle=X.strokeStyle=iO.QL([0,0,0,.5]);this.cj(M.aS.S0,null,X,!0);
X.fill("evenodd")}X.strokeStyle=Z;X.fillStyle=g;if(M.aS.E7){this.cj(M.aS.E7,ge,X);X.stroke()}if(M.aS.Ur){this.cj(M.aS.Ur,ge,X);
X.lineWidth=w.pv()*3.5/J.r7;X.stroke()}var O=iO.Ts(M.aS.au,X,J);X.fill();X.stroke();W=W||O;X.fillStyle=X.strokeStyle=iO.QL([0,0,0,aq.zw&&gj==0?1:.5],!0);
if(M.aS.HC){this.cj(M.aS.HC,null,X);X.fill()}if(M.aS.Gn){this.cj(M.aS.Gn,ge,X);X.stroke()}for(var kz in M.aS.AF)if(M.aS.AF[kz].Gn){this.cj(M.aS.AF[kz].Gn,null,X);
X.stroke();W=!0}var O=iO.Ts(M.aS.PJ,X,J);X.stroke();W=W||O;if(M.aS.OX){this.cj(M.aS.OX,ge,X);X.strokeStyle="rgba(0,0,0,0.5)";
X.lineWidth=w.pv()*2.5/J.r7;X.stroke();X.strokeStyle="white";X.lineWidth=w.pv()*2/J.r7;X.stroke()}if(M.aS.Fm.length+M.aS.RY.length+M.aS.Lx.length!=0){W=!0;
X.fillStyle=g;iO.g5(M.aS.Fm,X,J,6);X.fill();iO.g5(M.aS.RY,X,J,6);X.fill();X.fillStyle=Z;iO.g5(M.aS.Fm,X,J,4);
X.fill();iO.g5(M.aS.Lx,X,J,4);X.fill();X.fillStyle=iO.QL([.7,.7,.7,1]);iO.g5(M.aS.RY,X,J,4);X.fill()}if(M.aS.lw.length!=0){for(var $=0;
$<M.aS.lw.length;$++){var z=M.aS.lw[$],eZ=z[1],kM;if(q){kM=X.getImageData(eZ.x,eZ.y,eZ.r,eZ.$);t.v.r$("norm",z[0],eZ,new Uint8Array(kM.data.buffer),eZ,eZ,1)}else kM=new ImageData(new Uint8ClampedArray(z[0].buffer),eZ.r,eZ.$);
X.putImageData(kM,eZ.x,eZ.y)}}var jV=.5/J.r7;X.lineWidth=1/J.r7;if(M.aS.TA){W=!0;var cL=M.aS.TA,aw=cL.tL,V={C6:[],d:[]};
for(var $=0;$<cL.Ft.length;$++)t.G.concat(V,t.G.mP(cL.Ft[$]));V.d=V.d.concat(aw);for(var $=0;$<aw.length;
$+=4){V.C6.push("M","L")}for(var $=0;$<V.d.length;$++){V.d[$]+=jV}X.strokeStyle=iO.QL([.9,.2,.2,1]);
this.cj(V,null,X);X.stroke();var h2=w.pv(),ea=2/J.r7;X.font=A*.9+"px sans-serif";for(var $=0;$<aw.length;
$+=4){var c=aw[$],D=aw[$+1],ht=aw[$+2],jn=aw[$+3],gE=Math.sqrt((jn-D)*(jn-D)+(ht-c)*(ht-c));gE=t.gk.KG(gE,M.Qv,T,D==jn?M.r:M.$);
var bS=new es((c+ht)/2,(D+jn)/2);X.fillStyle=iO.QL([.9,.2,.2,1]);var bi=X.measureText(gE).width;X.fillRect(bS.x-bi/2-ea*h2,bS.y-3.5*ea*h2,bi+2*ea*h2,7*ea*h2);
X.fillStyle=iO.QL([1,1,1,1]);X.save();X.translate(bS.x-bi/2,bS.y+2*ea*h2);X.scale(.1,.1);X.font=A*9+"px sans-serif";
X.fillText(gE,0,0);X.restore()}}if(T.iY){if(_.S7&&M.k.r7>10&&gj==0){this.qR(M,X,1,1,.25,_.QW,16777215);
W=!0}if(_.C2){var cj=t.gk.Bw(_.bd,M.Qv,M.r,_.dE),bb=cj;if(_.dE==4)bb*=M.$/M.r;this.qR(M,X,cj,bb,1,_.QW,_.cJ);
W=!0}if(_.aZ){var c0=M.ob(),cV=M.WT(),g_=Math.max(M.k.dy.r,M.k.dy.$)/M.k.r7;g_=Math.max(Math.max(M.r,M.$)*2,g_);
for(var $=0;$<c0[0].length;$++){var hx=c0[0][$],au=c0[1][$];if(au!=-1&&au!=cV)continue;var kP=J.fT(hx[1],hx[1]),iK=J.Ob(Math.floor(kP.x)+.5,Math.floor(kP.y)+.5),b3=t.vT(au==-1?_.IY:_.tg);
b3=[b3.z/255,b3.L/255,b3.g/255,1];X.beginPath();X.strokeStyle=iO.QL(b3);if(hx[0]==0){var fs=iK.x;X.moveTo(fs,-g_);
X.lineTo(fs,g_)}else{var ch=iK.x;X.moveTo(-g_,ch);X.lineTo(g_,ch)}X.stroke();W=!0}}var hv=M.O2;if(hv.length>0&&T.Rk==o.arz){var eZ=7/M.k.r7,g6=eZ/3,ef=eZ*4;
X.strokeStyle=X.fillStyle="black";for(var $=0;$<hv.length;$++){var fN=hv[$];X.fillRect(fN.x-.5*g6,fN.y-.5*ef,g6,ef);
X.fillRect(fN.x-.5*ef,fN.y-.5*g6,ef,g6);X.lineWidth=2.5/M.k.r7;X.beginPath();X.arc(fN.x,fN.y,eZ,0,2*Math.PI);
X.stroke();X.font=1.9*eZ+"px serif";X.lineWidth=1.25/M.k.r7;X.strokeText(""+($+1),fN.x+.75*eZ,fN.y+2.5*eZ)}W=!0}var kb=M.YY;
if(_.YY&&kb.length!=0){X.font=A*.8+"px sans-serif";var cn=[],dF=[];for(var $=0;$<kb.length;$++){var et=o.OZ.f9(kb,$);
cn.push(et);if(M.ZN.indexOf($)!=-1)dF.push(et)}cn.reverse();var bh=Date.now();cn=t.S.ahM([0,0,M.r,M.$],cn);
for(var C=0;C<2;C++)for(var $=0;$<cn.length;$++){var dY=cn[$],k=dY[4],N=k!=null?kb[k]:null;if(N&&C==0||N==null&&C==1)continue;
var c=Math.round(dY[0]),D=Math.round(dY[1]),ht=Math.round(dY[2]),jn=Math.round(dY[3]);X.strokeStyle=X.fillStyle=iO.QL(N?[0,.7,.7,1]:[.8,.8,.8,1]);
X.strokeRect(c+jV,D+jV,ht-c,jn-D);var jM=$+1,bz=X.measureText(jM),bi=bz.width;X.fillRect(c,D,bi+A/2,A);
X.fillStyle=iO.QL([1,1,1,1]);X.fillText(jM,c+A/4,D+A*.8)}var ea=2/M.k.r7,hh=2*ea;for(var $=0;$<dF.length;
$++){var dY=dF[$],c=Math.round(dY[0]),D=Math.round(dY[1]),ht=Math.round(dY[2]),jn=Math.round(dY[3]);
X.strokeStyle=X.fillStyle=iO.QL([1,.6,0,1]);X.strokeRect(c+jV,D+jV,ht-c,jn-D);var dM=[c,D,ht,D,ht,jn,c,jn];
for(var iX=0;iX<dM.length;iX+=2){var fs=dM[iX],ch=dM[iX+1],aW=dM[iX+2&7],eC=dM[iX+3&7];X.fillRect(fs-ea,ch-ea,hh,hh);
X.fillRect(Math.round((fs+aW)/2)-ea,Math.round((ch+eC)/2)-ea,hh,hh)}}W=!0}var dh=M.add.Anno;if(dh&&dh.length!=0)for(var $=0;
$<dh.length;$++){var ff=dh[$],b3=ff[2],fs=ff[0]-jV,ch=ff[1]-jV,hh=30/J.Yu,fE=.4*hh,dX=.6*hh;X.beginPath();
X.moveTo(fs,ch+dX);X.lineTo(fs,ch);X.lineTo(fs+hh,ch);X.lineTo(fs+hh,ch+hh);X.lineTo(fs+fE,ch+hh);X.closePath();
X.lineTo(fs+fE,ch+dX);X.lineTo(fs+fE,ch+hh);if($==M.k.Yg){X.lineWidth*=5;X.strokeStyle=iO.QL([0,0,0,.5]);
X.stroke();X.lineWidth/=5}X.fillStyle=iO.QL([b3.z/255,b3.L/255,b3.g/255,1]);X.fill();X.strokeStyle=iO.QL([0,0,0,1]);
X.stroke()}}X.strokeStyle=iO.QL([1,0,0,1]);if(M.aS.z3){this.cj(M.aS.z3,ge,X);X.stroke()}X.restore();
if(T.no){if(M.k.Xq==null||M.k.Xq.width!=M.k.dy.r||M.k.Mg.height!=M.k.dy.$){M.k.Xq=new ImageData(M.k.dy.r,t.gk.ZZ);
M.k.Mg=new ImageData(t.gk.ZZ,M.k.dy.$)}var m=gS.sk[T.lb],i2=0,ew=0,hW=M.r,h3=M.$;if(M.WT()!=-1){var s=M.U[M.WT()].PH();
i2=s.x;ew=s.y;hW=s.r;h3=s.$}i2*=J.r7;ew*=J.r7;var J=M.k,dl=[1,M.Qv,M.Qv/2.54,M.Qv/25.4,hW/100][_.EI],ba=J.r7*M.r/2,b_=J.r7*M.$/2,f8=[J.r7*dl,new es(J.s.x+(i2+ba*dl-ba),J.s.y+(ew+b_*dl-b_))];
if(_.EI==4)dl*=h3/hW;var ak=[J.r7*dl,new es(J.s.x+(i2+ba*dl-ba),J.s.y+(ew+b_*dl-b_))],jk=this.yV.bJ;
t.gk.am2(J,m["--text-color"],m["--bg-input"],Math.floor(jk.x),Math.floor(jk.y),f8,ak,_.EI==1?8:10);var i6=ac.am4(J.r7,iO.QL([1,1,1,1]),M.r+" \xD7 "+M.$);
iO.SO(M.k.Mg.data);iO.SO(M.k.Xq.data);X.putImageData(M.k.Mg,0,0);X.putImageData(M.k.Xq,0,0);X.putImageData(i6,0,M.k.dy.$-i6.height)}if(M.aS.Lh.length!=0){for(var $=0;
$<M.aS.Lh.length;$++){var z=M.aS.Lh[$],eZ=z[1];X.putImageData(new ImageData(new Uint8ClampedArray(z[0].buffer),eZ.r,eZ.$),eZ.x,eZ.y)}}return W};
iO.prototype.qR=function(M,X,J,q,W,T,_){while(J*M.k.r7<4){J*=2;q*=2}var m=M.r,d=M.$,A=.5/M.k.r7;_=t.vT(_);
X.strokeStyle=iO.QL([_.z/255,_.L/255,_.g/255,W],!1);X.save();X.rect(0,0,m,d);X.clip();X.beginPath();
for(var p=0;p<=m;p+=J){X.moveTo(p+A,0);X.lineTo(p+A,d)}if(T==0){for(var a=0;a<=d;a+=q){X.moveTo(0,a+A);
X.lineTo(m,a+A)}}else{q*=Math.sqrt(4/3);var f=q*Math.floor(m/q),s=m*(q/(2*J));for(var a=-f;a<=d+f;a+=q){X.moveTo(0,a);
X.lineTo(m,a-s);X.moveTo(0,a);X.lineTo(m,a+s)}}X.stroke();X.restore()};iO.g5=function(M,X,J,q){X.beginPath();
var W=q*w.pv()/J.r7,T=!1;for(var $=0;$<M.length;$+=2){T=!0;var _=M[$],m=M[$+1];X.moveTo(_+W,m);X.arc(_,m,W,0,2*Math.PI)}return T};
iO.Ts=function(M,X,J,q){X.beginPath();var W=(q?q:1)*(4*w.pv()+.5)/J.r7,T=!1;for(var $=0;$<M.length;$+=2){T=!0;
var _=M[$],m=M[$+1];X.rect(_-W,m-W,2*W,2*W)}return T};iO.ZG=function(M,X,J,q){J.beginPath();if(q)J.rect(-1e5,-1e5,1e6,1e6);
var W=M;if(X){W=t.G.Q(M);t.G.u(W.d,X,W.d)}Typr.U.pathToContext({cmds:W.C6,crds:W.d},J)};iO.prototype.cj=iO.ZG;
iO.Se=function(M,X,J){aq.gz.call(this);var q=this.aq_=X!=0,W=J?"true":"in01(sCoord)",T="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D over;\t\t\tuniform sampler2D image;\t\t\t"+(M?"uniform sampler2D lut;  uniform float N;  "+aq.y9.aEL:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(q?"uniform vec4 bgClr;  uniform vec4 ars["+X+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+aq.y9.amn+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(over , tCoord); \t\t\t\tvec4 tgt = texture2D(image, sCoord"+(J?"-floor(sCoord)":"")+"); \t\t\t\t"+(M?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(q?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+X+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+W+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+W+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",_="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.RH(T,_)};iO.Se.prototype=new aq.gz;iO.Se.prototype.tI=function(M,X,J,q,W,T,_,m,d,A,p,a,f,s){this._W("tmat gsize over image lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var j=aq.qt,Y=this.sB;j.uniformMatrix3fv(Y.tmat,!1,J);j.uniform4fv(Y.gsize,q);j.uniform3f(Y.contSizeZoom,W,T,_);
j.uniform2f(Y.cnvSize,m,d);j.uniformMatrix4fv(Y.ctrn,!1,a);if(this.aq_){j.uniform4fv(Y.ars,p);j.uniform4fv(Y.bgClr,A)}j.uniform1i(Y.over,0);
j.uniform1i(Y.image,1);j.activeTexture(j.TEXTURE0);j.bindTexture(j.TEXTURE_2D,M);j.activeTexture(j.TEXTURE1);
j.bindTexture(j.TEXTURE_2D,X);if(f){j.uniform1f(Y.N,s);j.uniform1i(Y.lut,2);j.activeTexture(j.TEXTURE2);
j.bindTexture(j.TEXTURE_2D,f.SX);var G=j.LINEAR;j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MIN_FILTER,G);
j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MAG_FILTER,G)}j.activeTexture(j.TEXTURE0)};function ec(){gF.call(this,[9,7],!1,"---panels/layercomps",gF.UE.apU);
w.F(this.ds,"min-width:240px;");this.AR=null;this.wf=-1;this.Hi=[];this.yP=w.l("div","scrollable");this.yP.style.height="160px";
this.ds.appendChild(this.yP);this.iB=w.l("div","lpfoot");this.ds.appendChild(this.iB);this.sC=[];var M=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],X=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var $=0;$<M.length;$++){var J=M[$];if($>0)J="<img src=\""+PIMG[M[$]]+"\" class=\"miniscale gsicon\" />";
var q=new fT(J,!1,X[$]);q.P("click",this.agD,this);this.iB.appendChild(q._);this.sC.push(q)}}ec.prototype=new gF("");
ec.prototype.uL=function(M,X){w.F(this.ds,"width:"+(M-2)+"px;");this.yP.style.height=X-28+"px"};ec.prototype.V0=function(M){var X=new jb(r.E.H,!0);
X.data=M;X.J=o.sc;this.a(X)};ec.azt="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
ec.prototype.agD=function(M){var $=this.sC.indexOf(M.currentTarget)-1;if($==-1){var X=new jb(r.E.C,!0);
X.data={h:r.m._i,lB:ec.azt};this.a(X);return}if($!=1)if(this.wf==-1)return;this.V0({h:["updLC","addLC","delLC"][$],gO:this.wf});
if($==2)this.wf=-1};ec.prototype.T=function(){gF.prototype.T.call(this);for(var $=0;$<this.sC.length;
$++)this.sC[$].T()};ec.prototype.Mq=function(M){if(M==null)w.Z6(this.ds,"disabled");else w.tM(this.ds,"disabled");
this.AR=M;w.p9(this.yP);if(M==null)return;var X=M.ZU.lastAppliedComp?M.ZU.lastAppliedComp.v:0,J=M.ZU.list.v.slice(0);
J.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var $=0;$<J.length;
$++){var q=J[$].v,W=new gI(q.Nm.v,q.compID.v,q.capturedInfo.v,X,this.wf);W.P("activate",this.Tq,this);
W.parent=this;this.yP.appendChild(W._);this.Hi.push(W)}};ec.prototype.Tq=function(M){this.wf=M.currentTarget.gO;
this.Mq(this.AR)};function gI(M,$,X,J,q){bj.call(this);this.gO=$;this._=w.l("div","head listitem"+($==q?" selected":""));
var W=$==J,T=new fT(W?"\u2713":"\u2014");if(W)T.lH();this._.appendChild(T._);T.P("click",this.Fd,this);
var _=this.Qs=w.l("span");_.textContent=M;this._.appendChild(_);this.sC=[];if($!=0){this._.addEventListener("mouseup",this.Tq.bind(this),!1);
this.EW=w.l("span","headR");this._.appendChild(this.EW);var m=["lrs/eye","pos","lrs/fx"],d=["Visibility","Position","Appearance"];
for(var A=0;A<m.length;A++){var p=new fT("<img src=\""+PIMG[m[A]]+"\" class=\"autoscale gsicon\" />",!1,d[A]);
if((X>>A&1)==0)w.F(p._,"opacity:0.3");p.P("click",this.aGV,this);this.EW.appendChild(p._);this.sC.push(p)}}}gI.prototype=new bj;
gI.prototype.Tq=function(M){if(M.target!=this.Qs&&M.target!=this._)return;if(M.detail==1)this.a(new jb("activate",!1));
else{var X=new gF.U8(this.Qs,this.u6.bind(this))}};gI.prototype.aGV=function(M){var $=this.sC.indexOf(M.currentTarget);
this.V0({h:"editLC",ajP:$,gO:this.gO})};gI.prototype.u6=function(M){this.V0({h:"editLC",iy:M,gO:this.gO})};
gI.prototype.Fd=function(M){this.V0({h:"setLC",gO:this.gO})};gI.prototype.V0=function(M){var X=new jb(r.E.H,!0);
X.data=M;X.J=o.sc;this.a(X)};function kv(){gF.call(this,[9,11],!1,"---panels/navigator",gF.UE.axx);var M=this.ds;
w.Z6(M,"padded");w.F(M,"cursor:grab;");this.kX=w.l("canvas");M.appendChild(this.kX);w.vA(M);w.LY(this.kX);
w.Ad(this.kX,this.Gw.bind(this));this.op=new kw(null,2,6400,"%",null,!0);this.op.P(r.E.n,this.aj$,this);
M.appendChild(this.op._);this.awq=this.NV.bind(this);this.agw=this.g_.bind(this);this.iH=null;this.adc=null;
this.l5=!1}kv.prototype=new gF("");kv.prototype.uL=function(M,X){this.a3=M*1.2;this.oz=X*1.2;this.IF()};
kv.prototype.aj$=function(M){var X=this.op.V(),J=this.iH,q=X/100;if(.8<q&&q<1.2)q=1;else if(1.8<q)q=Math.round(q);
var W=new jb(r.E.H,!0);W.J=o.QC;W.data={h:"zoom",r7:q};this.a(W)};kv.prototype.Gw=function(M){var X=this.iH;
if(X==null)return;this.l5=!0;w.GY(window,this.awq);w.ZA(window,this.agw)};kv.prototype.NV=function(M){var X=w.uP(M,this.kX),J=this.iH,q=this.kX.width,W=this.kX.height,T=(X.x*w.pv()-q/2)/q,_=(X.y*w.pv()-W/2)/W,m=w.pv()*J.k.r7,d=Math.round(-J.k.r7*J.r*T),A=Math.round(-J.k.r7*J.$*_);
o.Yz.Z_(J,d,A)};kv.prototype.g_=function(M){w.$E(window,this.awq);w.uU(window,this.agw);this.l5=!1};
kv.prototype.Mq=function(M){if(M==null&&this.iH!=null)this.kX.width=100;this.iH=M;this.IF()};kv.prototype.a7i=function(){var M=this.iH,X=w.pv(),J=o.XP.XB(M.r,M.$,X*(this.a3-10),X*(this.oz-36)),q=t.a2v(M.m7(),new gc(0,0,M.r,M.$),J);
this.adc=[q.hT,q.S]};kv.prototype.IF=function(){var M=this.iH;if(M==null||M.k.r7==0)return;var X=M.k;
if(!w.L1(this.ds))return;this.op.R(X.r7*100);if(!this.l5)this.a7i();var J=this.adc[0],q=this.adc[1],W=q.r,T=q.$,_=this.kX;
_.width=W;_.height=T;w.kb(_,W,T);var m=this.ds;m.style.width=this.kX.style.width+12+"px";var d=_.getContext("2d"),A=new ImageData(W,T);
t.fc(J,A.data);d.putImageData(A,0,0);d.getImageData(0,0,1,1);var p=X.dy,a=X.Ob(p.x,p.y),f=X.Ob(p.x+p.r,p.y+p.$),s=W/M.r;
d.scale(s,s);d.lineWidth=4/s;d.strokeStyle="#ff0000";d.strokeRect(a.x,a.y,f.x-a.x,f.y-a.y)};kv.prototype.SY=function(M,X){};
kv.prototype.IQ=function(){this.IF()};function cW(M,X){gF.call(this,M.name,!1,M.icon,X);this.ad1=M}cW.prototype=new gF("");
cW.prototype.qH=function(){var M=this.ds,X=this.ad1;if(!w.L1(M)||this._D)return;var J=this._D=w.l("iframe");
J.setAttribute("src",X.url);this.ds.appendChild(J)};cW.prototype.IQ=cW.prototype.Mq=function(){this.qH()};
cW.prototype.uH=function(M){if(w.L1(this._D))this._D.contentWindow.postMessage(M,"*")};cW.prototype.uL=function(M,X){if(this._D==null)return;
w.F(this._D,"width:"+M+"px; height:"+X+"px")};function cz(){gF.call(this,[9,12],!1,"---panels/tpreset",gF.UE.m$);
this.f=null;this.mY=new fF(o.Vk);this.mY.parent=this;var M=w.l("div","padded");w.F(M,"width:20em");this.ds.appendChild(M);
M.appendChild(this.mY.fb)}cz.prototype=new gF("");cz.prototype.IQ=function(){this.mY.b5(this.f.pG)};
cz.prototype.SY=function(M,X){this.f=M;if(X==bN.Ru||X==bN.m$)this.mY.b5(M.pG)};cz.prototype.uL=function(M,X){this.mY.anj(this.f.Rk)};
cz.prototype.T=function(){gF.prototype.T.call(this);this.mY.T()};var cX=function(){var M=[],X=null,J=null,q=null,W=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200],[255,100,100]];
function T(){gF.call(this,"Memory",!1,null,gF.UE.aIA);var s=w.l("div","padded");this.ds.appendChild(s);
J=new fT(["<< VAR0",[0,13,2]],!1,null,!0);J.addEventListener("click",function(j){M.pop();m()});s.appendChild(J._);
X=w.l("div","scrollable");w.F(X,"width:20em;  height:26em; margin-top:8px;");s.appendChild(X)}T.prototype=new gF("");
T.prototype.Mq=function(s,j,Y){q=j;this.IQ()};T.prototype.IQ=function(){J._3(!1);if(!w.L1(X))return;
var s={HH:"Total:",Cp:[]};for(var $=0;$<q.length;$++)s.Cp.push(A(q[$]));a(s);M=[s];m()};T.prototype.T=function(){gF.prototype.T.call(this);
J.T()};function _(s){var j=s.currentTarget,$=0;while((j=j.previousSibling)!=null)$++;M.push(M[M.length-1].Cp[$-1]);
m()}function m(){J._3(M.length>1);var s=M[M.length-1];w.p9(X);d(s,X,0);s.Cp.sort(function(j,Y){return Y.dA[0]-j.dA[0]});
for(var $=0;$<s.Cp.length;$++)d(s.Cp[$],X,1)}function d(s,j,Y){var G=cO.Pn,Q=Y!=0&&s.Cp,Z="margin-left:"+Y*10+"px; margin-bottom:8px; padding:3px 5px;";
if(Q)Z+="cursor:pointer;";if(s.Dv!=null)Z+="background-color:rgba("+W[s.Dv].join(",")+",0.2);";var g=w.l("div");
j.appendChild(g);w.F(g,Z);g.innerHTML=w.YJ(s.HH)+"<br />"+"RAM: <b>"+G(s.dA[0])+"</b>\u2001GPU: <b>"+G(s.dA[1])+"</b>";
if(Q)g.addEventListener("click",_,!1)}function A(s){var j={HH:s.name,Cp:[],Dv:0},Y=aq.zw?1:0,G=1-Y,Q=s.depth>>>3,Z={HH:"History",Cp:[],Dv:5};
j.Cp.push(Z);for(var $=1;$<s.history.length;$++){var g=s.history[$];Z.Cp.push({HH:kd.get(g.name),Dv:5,dA:[g.iK(),0]})}a(Z);
var Z={HH:"Final Image"+f(s,4,Q),dA:[s.r*s.$*4*Q,Y*s.r*s.$*4*Q],Dv:2};j.Cp.push(Z);for(var $=0;$<s.U.length;
$++){var S=p(s.U[$],Q);if(S.Cp.length!=0)j.Cp.push(S)}var U=s.add.lnk2;if(U)for(var $=0;$<U.length;$++){var S=U[$],B={HH:S.iW,Cp:[],Dv:4},e=0;
B.Cp.push({HH:"Raw file",dA:[S.raw.length,0]});if(S.SA)for(var P=0;P<S.SA.length;P+=2)e+=S.SA[P].length;
if(e!=0)B.Cp.push({HH:"Decoded pixels",dA:[e*Q,0]});a(B);j.Cp.push(B)}a(j);return j}function p(s,j){var Y={HH:s.getName(),Cp:[],Dv:1},G=aq.zw?1:0,Q=1-G,Z=s.S.o();
if(Z!=0)Y.Cp.push({HH:"Layer pixels"+f(s.S,4,j),dA:[Z*4*j,G*Z*4*j]});if(s.add.lmfx&&s.ws.bV.e){var g=s.ws.bV.e,e=0;
for(var S in g){var U=0;for(var B=0;B<g[S].length;B++)if(S=="ebbl"){if(g[S][B].xI)U+=g[S][B].xI.rR.o();
if(g[S][B].Fp)U+=g[S][B].Fp.rR.o();if(g[S][B].UY)U+=g[S][B].UY.rR.o();if(g[S][B].h5)U+=g[S][B].h5.rR.o()}else U+=g[S][B].rR.o();
if(U!=0)Y.Cp.push({HH:kd.get(kf.names[kf.order.indexOf(S)]),dA:[Q*U*4*j,G*U*4*j],Dv:3})}if(s.ws.W2)e+=Z;
if(s.ws.$V)e+=Z;if(s.ws.Z7)e+=Z;if(s.ws.Z7)e+=Z;if(s.ws.l6)e+=Z;if(s.ws.ou)e+=Z;var P=s.ws.DY?s.ws.DY.length:0;
if(e+P!=0)Y.Cp.push({HH:"Additional Blending Data",dA:[(Q*e*4+P)*j,G*e*4*j]})}var h=s.hM(),V=h?h.S.o():0;
if(V!=0){Y.Cp.push({HH:"Raster Mask",dA:[V*j,0]})}var h=s.add.vmsk,V=h&&h.i4?h.i4.S.o():0;if(V!=0){Y.Cp.push({HH:"Vector Mask",dA:[V*j,0]})}a(Y);
return Y}function a(s){s.dA=[0,0];for(var $=0;$<s.Cp.length;$++){s.dA[0]+=s.Cp[$].dA[0];s.dA[1]+=s.Cp[$].dA[1]}}function f(s,j,Y){return"\u2001"+s.r+"\xD7"+s.$}return T}();
function hV(){gF.call(this,[9,14],!1,"---panels/notes",gF.UE.a7c);w.F(this.ds,"min-width:240px;");var M=w.l("div","padded");
this.ds.appendChild(M);this.rv=new ja("Author");M.appendChild(this.rv._);this.z9=w.l("textarea");w.IJ(this.z9);
M.appendChild(this.z9);var X=new fT("<<",null,null,!0);M.appendChild(X._);this.ahy=X;var J=new fT(">>",null,null,!0);
M.appendChild(J._);X.P("click",this.XC,this);J.P("click",this.XC,this);var q=this.avY=new jH("");M.appendChild(q._)}hV.prototype=new gF("");
hV.prototype.XC=function(M){var X=M.target==this.ahy?-1:1,J=this.iH,q=J.add.Anno;if(q==null)return;var W=q.length,T=J.k.Yg;
J.k.Yg=(T+X+W)%W;J.K8=!0;this.IF()};hV.prototype.IF=function(){var M=this.iH;if(M==null)return;var X=M.add.Anno;
if(X==null||X.length==0)return;var J=M.k.Yg,q=X[J];this.z9.value=q[4];this.avY.R(J+1+" / "+X.length);
this.rv.R(q[3])};hV.prototype.uL=function(M,X){if(this.a3==M)return;this.a3=M;X=Math.min(X,200);w.F(this.z9,"display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(M-10)+"px; height:"+(X-66)+"px")};
hV.prototype.Mq=function(M,X,J){this.iH=M;this.IF()};function k_(){gF.call(this,[1,16,1],!1,"---tools/artb",gF.UE.ayj);
this.Ys=[];this.oG=[];this.sC=[];this.I0=null;this.iB=null}k_.prototype=new gF("");k_.prototype.qH=function(){this.I0=w.l("div","padded scrollable");
w.F(this.I0,"width:260px;  height:260px");this.ds.appendChild(this.I0);this.iB=w.l("div","lpfoot");this.ds.appendChild(this.iB);
var M=["lrs/newlayer","lrs/bin"],X=[[15,8,2],[5,4]];for(var $=0;$<M.length;$++){var J="<img src=\""+PIMG[M[$]]+"\" class=\"miniscale gsicon\" />",q=new fT(J,!1,X[$]);
q.P("click",this.ID,this);this.iB.appendChild(q._);this.sC.push(q)}};k_.prototype.T=function(){gF.prototype.T.call(this);
if(this.I0==null)return;for(var $=0;$<this.sC.length;$++)this.sC[$].T()};k_.prototype.ID=function(M){var $=this.sC.indexOf(M.currentTarget),X=new jb(r.E.H,!0);
X.J=o.Bu;X.data={h:$==0?"new":"del"};this.a(X);if($==0)this.abM(this.Ys.length-1)};k_.prototype.Mq=k_.prototype.IQ=function(M){if(M)this.Ys=M.add.arts;
if(!w.L1(this.ds))return;if(this.I0==null)this.qH();this.IF(M)};k_.prototype.Zk=function(M){var $=this.oG.indexOf(M.currentTarget);
if(M.target.tagName=="BUTTON"){this.abM($)}var X=this.Ys;for(var J=0;J<X.length;J++)X[J].O=!1;X[$].O=!0;
this.IF()};k_.prototype.abM=function($){var M=new jb(r.E.C,!0);M.data={h:r.m.SQ,bf:"aoptions",K:this.Ys[$]};
this.a(M)};k_.prototype.IF=function(){w.p9(this.I0);var M=this.Ys,X=this.Zk.bind(this);this.oG=[];for(var $=0;
$<M.length;$++){var J=M[$],q=w.l("div","layeritem"+(J.O?" selected":""));this.I0.appendChild(q);this.oG.push(q);
q.addEventListener("click",X);var W=w.l("div","head");q.appendChild(W);w.F(W,"height:24px");var T=w.l("div","headL");
W.appendChild(T);var _=w.l("div","headR");W.appendChild(_);var m=w.l("div","label");m.textContent=$+1+". "+J.HH;
T.appendChild(m);var d=new fT("Options",null,null,!0);_.appendChild(d._)}};function f9(){bj.call(this);
this.J=0;this.sZ=null;this._=w.l("div","toolconf");this.mY=null;this.au$=null;this.body=new w.l("div","body")}f9.prototype=new bj;
f9.prototype.a8I=function(M,X){this.J=M;this.sZ=X;if(o.LJ[M]){var J=this.mY=new fF(M);this._.appendChild(J._);
J.parent=this}else{this.au$=w.l("div");this._.appendChild(this.au$)}this._.appendChild(this.body);this.T()};
f9.prototype.azf=function(M,X){};f9.prototype.amv=function(M){};f9.prototype.SY=function(M,X){if(X==bN.Ru||X==bN.m$)if(this.mY)this.mY.b5(M.pG)};
f9.prototype.xO=function(M){};f9.prototype.T=function(){if(this.mY)this.mY.T();else this.au$.innerHTML=w.wD(this.sZ,null,"toolicon");
this.wo()};f9.prototype.wo=function(){};function h9(){f9.call(this);this.GG=new bK;this.GG.P(r.E.n,this.P5,this);
this.body.appendChild(this.GG._)}h9.prototype=new f9;h9.prototype.wo=function(){this.GG.T()};h9.prototype.P5=function(M){var X=new jb(r.E.C,!0);
X.data={h:r.m.Cl,J:this.J,iw:this.GG.agR()};this.a(X)};h9.prototype.xO=function(M){this.GG.ats(M.f4)};
function h5(M){f9.call(this);if(M==null)return;this.f=null;this.aC={};if(M.indexOf("brush")!=-1&&M.indexOf("prsr")==-1)M.push("prsr");
for(var $=0;$<M.length;$++){var X=M[$],J=null;if(X=="brush"){J=new iL}if(X=="bmode"){J=new iR([12,19,0],ae.Ql,ae.T3)}if(X=="bmode0"){J=new iR([12,19,0],ae.Ql.slice(23))}if(X=="emode"){J=new iR([12,36],[[9,3],[10,38]])}if(X=="opacity"){J=new j6([12,0],0,100,"%");
J.R(100)}if(X=="flow"){J=new j6([12,63],0,100,"%");J.R(100)}if(X=="smth"){J=new j6([19,3,0],0,100,"%");
J.R(0)}if(X=="samp"){J=new iR([12,36],[[12,25,4],[12,25,5],[12,46]])}if(X=="wconf"){J=new e7;J.R([40,!0,!0])}if(X=="sall"){J=new hE([12,25,2])}if(X=="smode"){J=new iR([12,36],[[19,7,0],[19,7,1]]);
J.R(1)}if(X=="pdetail"){J=new hE([12,65]);J.lH()}if(X=="rng"){J=new iR([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
J.R(1)}if(X=="expo"){J=new j6([12,5],0,100,"%");J.R(50)}if(X=="algnd"){J=new hE([12,75]);J.R(!1)}if(X=="sfrom"){J=new iR([12,70],[[17,1],[17,3],[17,0]])}if(X=="alt"){J=new ju(null,["Alt"],!0,["Select Source"])}if(X=="qsmode"){J=new i9([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(X=="redge"){J=new fT([7,11],!1,null,!0)}if(X=="sesu"){J=new fT("Select Subject",!1,null,!0)}if(X=="setop"){J=new iD}if(X=="patch"){J=new i9(null,[[12,70],[12,71]])}if(X=="strn"){J=new j6([12,64],1,100,"%");
J.R(50)}if(X=="prsr"){J=this.aC.brush.Qy}if(X=="symm"){J=new iH}this.body.appendChild(J._);if(X=="prsr")continue;
J.parent=this;this.aC[X]=J;if(X=="brush")J.P(r.E.n,this.ak8,this);else if(X=="redge"||X=="sesu")J.P("click",bm.akl,this);
else J.P(r.E.n,this.Q6,this)}}h5.prototype=new f9;h5.prototype.azf=function(M,X){M=M[1];var J=this.aC;
if(M.Md)J.bmode.R(ae.TW.indexOf(M.Md.v.BlnM));if(M.Opct)J.opacity.R(M.Opct.v);if(M.flow)J.flow.R(M.flow.v);
if(M.Brsh)J.brush.R(M,X.uh.Kj,X.uh.a5);if(M.FrgC){var q=t.NX.NH(M.FrgC.v),W=new jb(r.E.C,!0);W.data={h:r.m.OA,iw:bN.M3,NL:0,K:q.z<<16|q.L<<8|q.g};
this.a(W)}this.ak8();this.Q6()};h5.prototype.amv=function(){if(o.LJ[this.J]==null)return null;var M=this.aC,X;
for(var J in o.Cr)if(o.Cr[J]==this.J)X=J;var q=t.b(M.brush.V());q.classID=X;if(M.bmode)q.Md={t:"enum",v:{BlnM:ae.TW[M.bmode.V()]}};
if(M.opacity)q.Opct={t:"long",v:M.opacity.V()};if(M.flow)q.flow={t:"long",v:M.flow.V()};var W=this.f.pU;
W={z:W>>>16,L:W>>>8&255,g:W&255};q.FrgC={t:"Objc",v:t.NX.$J(W)};return["Brush Preset "+q.Brsh.v.Dmtr.v.val,q]};
h5.prototype.wo=function(){for(var M in this.aC)this.aC[M].T()};h5.prototype.xO=function(M){if(M.at0=="showBrushOpts"){this.aC.brush.abO(M._H.x,M._H.y)}for(var X in M.Ef){var J=M.Ef[X];
if(X!="qsmode")J*=100;if(this.aC[X])this.aC[X].R(J)}};h5.prototype.SY=function(M,X){f9.prototype.SY.call(this,M,X);
this.f=M;var J=this.aC.brush;if(J==null)return;if(X==bN.Ru||X==bN.Vk)J.b5(M.uh);if(X==bN.s3){J.R(M.uh.gl,M.uh.Kj,M.uh.a5)}};
h5.prototype.ak8=function(){var M=new jb(r.E.C,!0);M.data={h:r.m.OA,iw:bN.s3,Ro:this.aC.brush.V()};this.a(M)};
h5.prototype.Q6=function(){var M=new jb(r.E.C,!0);M.data={h:r.m.Cl,J:this.J};for(var X in this.aC){if(X=="brush"||X=="redge"||X=="symm")continue;
var J=this.aC[X].V();if(["opacity","flow","smth","expo","strn"].indexOf(X)!=-1)M.data[X]=J/100;else if(X=="bmode")M.data.bmode=ae.pi[J];
else if(X=="bmode0")M.data.bmode=ae.pi[23+J];else M.data[X]=J}this.a(M)};function bm(M,X){f9.call(this);
if(M)return;this.aC={};for(var $=0;$<X.length;$++){var J=X[$],q=null;if(J=="sesu"&&!w.pQ(1))continue;
if(J=="binop")q=new iD;if(J=="feat"){q=new j6([7,6],0,100,"px");q.R(0)}if(J=="redge")q=new fT([7,11],!1,null,!0);
if(J=="sesu")q=new fT("Select Subject",!1,null,!0);if(J=="wconf")q=new e7;if(J=="cstr")q=new hk;if(J=="anta"){q=new hE([12,25,1]);
q.R(!0)}if(J=="sall")q=new hE([12,25,2]);if(J=="redge"||J=="sesu")q.P("click",bm.akl,this);else q.P(r.E.n,this.Q6,this);
q.parent=this;this.body.appendChild(q._);this.aC[J]=q}}bm.prototype=new f9;bm.prototype.xO=function(M){var X=this.aC.cstr;
if(M.PC!=null)this.aC.binop.R(M.PC);else if(M.Ye){for(var J in M.Ye)if(this.aC[J])this.aC[J].R(M.Ye[J])}else if(M.eg){if(X)X.rr(M.eg)}else{var q=bm.yd;
if(q==null){var W=fO.a7X(!0);q=bm.yd=new an(W.items,W.gV)}q.T();q.parent=this;q.update(M.je,M.f);var T=new jb(r.E.C,!0);
T.data={h:r.m._5,kv:q,x:M.Vm.VY+2,y:M.Vm.VV+1};this.a(T)}};bm.prototype.wo=function(){for(var M in this.aC)this.aC[M].T()};
bm.akl=function(M){var X=M.target==this.aC.sesu,J=new jb(X?r.E.H:r.E.C,!0);if(X){J.J=o.FN;J.data={h:"bgrm",K:2}}else J.data={h:r.m.SQ,bf:"redge"};
this.a(J)};bm.prototype.Q6=function(){var M=new jb(r.E.C,!0);M.data={h:r.m.Cl,J:this.J,Ye:{}};for(var X in this.aC)M.data.Ye[X]=this.aC[X].V();
this.a(M)};function j_(){h5.call(this,["brush","strn"])}j_.prototype=new h5;function jh(){h5.call(this,"brush bmode opacity flow smth prsr symm".split(" "))}jh.prototype=new h5;
function e3(){h5.call(this,["brush","bmode0","samp","wconf"])}e3.prototype=new h5;function gw(){h5.call(this,["brush"])}gw.prototype=new h5;
function dS(){h5.call(this,"brush bmode opacity smth prsr symm".split(" "))}dS.prototype=new h5;function d8(){h5.call(this,["brush","rng","expo"])}d8.prototype=new h5;
function bl(){h5.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}bl.prototype=new h5;function a4(M){f9.call(this);
if(M==null)return;this.yC=[];this.azD=new fT("\u2026",!1,null,!0);if(!M)this.body.appendChild(this.azD._);
this.azD.P("click",this.Hn,this);this.D9=new bj;this.D9.parent=this;var X=this.D9._=w.l("div","floatcont form"),J=[[17,0],[17,1],[11,12,0],[17,2]];
for(var $=0;$<J.length;$++){var q=new fT(J[$],!1,null,!0);this.yC.push(q);q.P("click",this.a5M,this);
if(!M||$==1)X.appendChild(q._)}this._R=new hk(!0);this._R.P(r.E.n,this.A0,this);if(!M)this.body.appendChild(this._R._);
this.O4=new fT([15,7,6],!1,null,!0);this.O4.P("click",this.a5M,this);if(!M)this.body.appendChild(this.O4._);
this.wh=new hE([15,7,10]);this.wh.P(r.E.n,this.A0,this);if(!M)this.body.appendChild(this.wh._);this.aDr=new hE("Content-Aware");
this.aDr.P(r.E.n,this.A0,this);if(!M)this.body.appendChild(this.aDr._);this.gg=new dx;this.gg.P("click",this.HV,this)}a4.prototype=new f9;
a4.prototype.Hn=function(M){if(w.L1(this.D9._))return;var X=this.azD._.getBoundingClientRect(),J=new jb(r.E.C,!0);
J.data={h:r.m._5,kv:this.D9,x:X.left,y:X.top+X.height+4};this.a(J)};a4.prototype.wo=function(){this.gg.T();
for(var $=0;$<this.yC.length;$++)this.yC[$].T();this._R.T();this.wh.T();this.O4.T()};a4.prototype.xO=function(M){if(M.eg){this._R.rr(M.eg);
return}var X=this.gg._;if(M.M9)this.body.appendChild(X);else if(this.body.contains(X))this.body.removeChild(X);
if(M._R)this._R.R(M._R)};a4.prototype.HV=function(M){var X={h:r.m.Cl,J:this.J,ys:this.gg.V()?"commit":"cancel"},J=new jb(r.E.C,!0);
J.data=X;this.a(J)};a4.prototype.a5M=function(M){M.target._.blur();var X={h:r.m.Cl,J:this.J,ys:"cropby",aDC:this.yC.indexOf(M.target)};
if(M.target==this.O4)X.ys="straighten";var J=new jb(r.E.C,!0);J.data={h:r.m.Go,kv:this.D9};this.a(J);
J.data=X;this.a(J)};a4.prototype.A0=function(M){var X={h:r.m.Cl,J:this.J,ys:"config",Ye:{aB:this._R.V(),cC:this.wh.V(),$Q:this.aDr.V()},a5B:M.target==this._R},J=new jb(r.E.C,!0);
J.data=X;this.a(J)};function k4(){a4.call(this,!1)}k4.prototype=new a4;function bL(){a4.call(this,!0)}bL.prototype=new a4;
function dQ(){h5.call(this,["brush","rng","expo"])}dQ.prototype=new h5;function cp(){h5.call(this,"brush emode opacity flow smth prsr symm".split(" "))}cp.prototype=new h5;
function iz(){h5.call(this,["brush","samp","wconf"])}iz.prototype=new h5;function d5(){bm.call(this,!1,["binop","feat","anta","redge","cstr"])}d5.prototype=new bm(!0);
function hF(){f9.call(this);var M=this.aC=[new iR([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new iR([12,70],[[17,1],[17,3],[17,0]]),new hE([12,20,1]),new hE([8,0])];
M[1].R(2);M[2].R(!0);for(var $=0;$<M.length;$++){var X=M[$];X.P(r.E.n,this.Q6,this);this.body.appendChild(X._)}}hF.prototype=new f9;
hF.prototype.Q6=function(M){var X=this.aC,J=[];for(var $=0;$<X.length;$++)J[$]=X[$].V();var q=new jb(r.E.C,!0);
q.data={h:r.m.Cl,J:this.J,Ye:J};this.a(q)};hF.prototype.wo=function(){for(var $=0;$<this.aC.length;$++)this.aC[$].T()};
function iq(){f9.call(this);this.mw=!1;this.AT=new b2("GrFl",!0);this.AT.parent=this;this.AT.update(null,JSON.parse(kf.px[6]));
this.AT.P(r.E.n,this.wQ,this);var M="Grad Type Md Opct Rvrs Dthr".split(" ");for(var $=0;$<M.length;
$++)this.body.appendChild(this.AT.GS[M[$]]._);this.AT.GS.Grad.aAA=!1;this.HK=new fT([6,48,1],!1,null,!0);
this.HK.P("click",this.wQ,this);this.body.appendChild(this.HK._)}iq.prototype=new f9;iq.prototype.wo=function(M){var M=this.mw;
this.body.children[2].style.display=M?"none":"";this.body.children[3].style.display=M?"none":"";this.AT.T();
this.HK.T()};iq.prototype.SY=function(M,X){f9.prototype.SY.call(this,M,X);var J=X==bN.M3,q=this.AT.GS.Grad;
q.eI(M.pU,M.Yt);if(J||X==bN.e2||X==bN.Ru)q.b5(M.km)};iq.prototype.wQ=function(M){if(M.target==this.HK){var X=new jb(r.E.pL,!0);
X.data=o.QX.Zc(1);this.a(X);return}this.T();var X=new jb(r.E.C,!0);X.data={h:r.m.Cl,J:this.J,iw:this.AT.V()};
this.a(X)};iq.prototype.xO=function(M){this.mw=M.I;this.T();this.AT.update(null,M.iw);this.T()};function kF(){f9.call(this);
this.Ha=new hE([8,7,1]);this.body.appendChild(this.Ha._);this.Ha.P(r.E.n,this.Q6,this)}kF.prototype=new f9;
kF.prototype.Q6=function(){var M={h:r.m.Cl,J:this.J,xs:this.Ha.V()},X=new jb(r.E.C,!0);X.data=M;this.a(X)};
function bR(){f9.call(this);var M=w.l("span","fitem");this.body.appendChild(M);this.Pr=[new j6([12,15],-180,180,"\xB0"),new fT([1,12,2],null,null,!0)];
for(var $=0;$<this.Pr.length;$++){var X=this.Pr[$];X.parent=this;M.appendChild(X._);X.P($==1?"click":r.E.n,this.EQ,this)}}bR.prototype=new f9;
bR.prototype.wo=function(){for(var $=0;$<this.Pr.length;$++)this.Pr[$].T()};bR.prototype.xO=function(M){this.Pr[0].R(M.$R*180/Math.PI)};
bR.prototype.EQ=function(M){var X=this.Pr.indexOf(M.target),J=new jb(r.E.C,!0);J.data={h:r.m.Cl,J:this.J,$R:X==1?0:M.target.V()*Math.PI/180};
this.a(J)};function eK(){h5.call(this,["brush","algnd","sfrom","alt"])}eK.prototype=new h5;function j7(){f9.call(this);
this.WJ=new gA;this.WJ.parent=this;this.body.appendChild(this.WJ.Da._);this.body.appendChild(this.WJ.c2._);
this.body.appendChild(this.WJ.LR._);this.body.appendChild(this.WJ.eX._);var M=w.l("span","fitem");this.body.appendChild(M);
M.appendChild(this.WJ.LQ._);M.appendChild(this.WJ.aCm._);M.appendChild(this.WJ.Jo._);this.hL=new iR("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.hL.P(r.E.n,this.HV,this);this.body.appendChild(this.hL._);this.md=new iR(null,["\u2191","-","\u2193"],null,["VAR0: VAR1",[12,75],[22,4,1]]);
this.md.P(r.E.n,this.HV,this);this.body.appendChild(this.md._);this.bq=new fT([11,9],!1,null,!0);this.bq.P("click",this.alO,this);
this.body.appendChild(this.bq._);this.gg=new dx;this.gg.P("click",this.HV,this)}j7.prototype=new f9;
j7.prototype.wo=function(){this.gg.T();this.WJ.T();this.bq.T()};j7.prototype.alO=function(M){var X={h:r.m.Cl,J:this.J,ys:"showwarp"},J=new jb(r.E.C,!0);
J.data=X;this.a(J)};j7.prototype.xO=function(M){if(M.ys=="showactive")this.body.appendChild(this.gg._);
if(M.ys=="hideactive")this.body.removeChild(this.gg._);if(M.ys=="changeOther"){this.hL.R(M.S3);this.md.R([0,2,1][M.Gi])}if(M.ys=="showpan"){var X=[{name:[0,1],ns:!0}],J=[{A:r.E.H,J:o.JT,p:{h:"editCurr",vE:M.vE}}],q=M.Vm;
if(M.ajk){X=[{name:["VAR0: VAR1",[0,5],[7,0]],ns:!0}];J=[{A:r.E.pL,p:o.Gp.VT(!0)}];var W=fO.as6();X=X.concat(W[0]);
J=J.concat(W[1])}X.push({name:[11,9]});J.push({A:r.E.C,p:{h:r.m.Cl,J:this.J,ys:"showwarp"}});var T=new an(X,J);
T.parent=this;T.T();T.update(M.je,M.f);var _=new jb(r.E.C,!0);_.data={h:r.m._5,kv:T,x:q.VY+2,y:q.VV+1};
this.a(_)}};j7.prototype.SY=function(M,X){f9.prototype.SY.call(this,M,X);if(X!=bN.Ru&&X!=bN.Iz&&X!=bN.Ua&&X!=bN.Yp)return;
this.WJ.R(M.mo,M.Rb,M.Py)};j7.prototype.HV=function(M){var X={h:r.m.Cl,J:this.J,ys:this.gg.V()?"commit":"cancel"};
if(M.target==this.hL||M.target==this.md){X.ys="changeOther";X.S3=this.hL.V();X.Gi=[0,2,1][this.md.V()]}var J=new jb(r.E.C,!0);
J.data=X;this.a(J)};function cA(){bm.call(this,!1,["binop","feat","anta","redge"])}cA.prototype=new bm(!0);
function c5(){f9.call(this);var M=[],J="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.c$=new hE([12,85]);this.c$.R(!0);this.c$.P(r.E.n,this.Q6,this);M.push(this.c$._);this.av=new iR(null,[[0,4],[0,3]]);
this.av.P(r.E.n,this.Q6,this);this.av.R(1);M.push(this.av._);this.QD=new hE([20,1]);this.QD.P(r.E.n,this.Q6,this);
M.push(this.QD._);this.ul=new hE([12,83]);this.ul.P(r.E.n,this.Q6,this);M.push(this.ul._);this.D9=new bj;
this.D9._=w.l("div","floatcont form");w.F(this.D9._,"max-width: 200px;");this.D9.parent=this;var X=this.D9._;
this.acJ=new iR("Scale for exported files",["1x","2x","3x","4x"]);X.appendChild(this.acJ._);this.MW=new fT(J+" PNG",!1,"Save selected layers as PNG",!0);
X.appendChild(this.MW._);this.MW.P("click",this.CU,this);this.aJg=new fT(J+" SVG",!1,"Save selected layers as SVG",!0);
X.appendChild(this.aJg._);this.aJg.P("click",this.CU,this);var q=new fT(J,!1,"Save selected layers",!0);
M.push(q._);q.P("click",function(d){if(w.L1(this.D9._))return;var A=q._.getBoundingClientRect(),p=new jb(r.E.C,!0);
p.data={h:r.m._5,kv:this.D9,x:A.left,y:A.top+A.height,db:!0};this.a(p)},this);var W=w.l("span","fitem");
M.push(W);var T=w.l("span","fitem");M.push(T);this.sC=[];for(var $=0;$<8;$++){var _=$==3||$==7?[20,4,6]:[20,4,$<3?$:$-1],m=new fT("Hi",!1,_);
($<4?W:T).appendChild(m._);m.P("click",this.CU,this);this.sC.push(m)}for(var $=0;$<M.length;$++)this.body.appendChild(M[$]);
this.af7=M}c5.prototype=new f9;c5.prototype.xO=function(M){var X=M.f4,J=M.avb;this.c$.R(X.cP);this.QD.R(X.Ia);
this.ul.R(X.TA);if(J){w.p9(this.body);for(var $=0;$<J.length;$++)if(J[$]==1&&this.af7[$])this.body.appendChild(this.af7[$])}};
c5.prototype.CU=function(M){var X=this.sC.indexOf(M.target),J;if(X==-1){J=new jb(r.E.C,!0);J.data={h:r.m.Cl,J:this.J,NL:M.target==this.MW?"getPNG":"getSVG",bu:this.acJ.V()+1}}else{J=new jb(r.E.H,!0);
J.J=o.oa;J.data={h:"algn",K:X}}this.a(J)};c5.prototype.Q6=function(M){var X=new jb(r.E.C,!0);X.data={h:r.m.Cl,J:this.J,NL:"prms",cP:this.c$.AZ(),ado:this.av.V(),Ia:this.QD.AZ(),TA:this.ul.AZ()};
this.a(X)};c5.prototype.wo=function(){this.c$.T();this.av.T();this.QD.T();this.ul.T();var M="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var $=0;$<8;$++){this.sC[$].Hr(w.wD("align/"+M[$],null,"autoscale"))}};function de(){bm.call(this,!1,"binop feat redge sesu wconf sall".split(" "))}de.prototype=new bm(!0);
function bO(){h5.call(this,["setop","patch"])}bO.prototype=new h5;function d_(){h5.call(this,["setop"])}d_.prototype=new h5;
function aF(M){var X=M==o.ayu?[]:["bmode"];h5.call(this,X.concat(["opacity","wconf","sall"]))}aF.prototype=new h5;
function hi(){bm.call(this,!1,["binop","feat","anta","redge"])}hi.prototype=new bm(!0);function eF(){bm.call(this,!1,["binop","feat","anta","redge"])}eF.prototype=new bm(!0);
function bs(){bm.call(this,!1,["binop","feat","redge","cstr"])}bs.prototype=new bm(!0);function jG(){f9.call(this);
this.f=null;this.$x=null;this.ap=!0;this.Pq=[new ja("X",null,3.2,null,!0),new ja("Y",null,3.2,null,!0),new ja("W",null,3.2,null,!0),new ja("H",null,3.2,null,!0),new ja("a","\xB0",3.7,null,!0),new ja("l",null,3.5,null,!0),new ja("l",null,3.5,null,!0),new hE("Use custom units:"),new fT("Define Unit",!1,null,!0),new fT([15,7,6],!1,null,!0),new fT([2,2],!1,null,!0)];
this.Pq[7]._.style.marginRight="0px";for(var $=0;$<this.Pq.length;$++){var M=this.Pq[$];this.body.appendChild(M._);
if($>6)M.P($==7?r.E.n:"click",this.QK,this)}this.US=0}jG.prototype=new f9;jG.prototype.QK=function(M){var X=this.Pq.indexOf(M.target),J=new jb(r.E.H,!0),q=this.$x;
if(X==7){this.xO(q);return}if(X==8){if(this.ap){alert("Draw a line for the new unit");return}this.Pq[7].R(!0);
var W=new jb(r.E.C,!0);W.data={h:r.m.SQ,bf:"measscale",dR:es.Yq(q.Vg,q.Sf)};this.a(W);return}if(X==9){if(this.US==0)return;
J.J=o.zS;J.data={h:"rot",AC:[2,5],K:-this.US}}if(X==10){J.J=o.hA;J.data={h:"reset"};this.ap=!0;for(var $=0;
$<6;$++)this.Pq[$].R(null)}this.a(J)};jG.prototype.xO=function(M){function X(A,p,a){var f=es.Yq(A,p),s=es.Yq(p,a),j=es.Yq(A,a);
return Math.acos((s*s+f*f-j*j)/(2*s*f))}if(M==null)return;this.$x=M;var J=M.Vg,q=M.Sf,W=q.x-J.x,T=q.y-J.y;
this.US=-Math.atan2(T,W);if(M.OU)this.US=X(q,J,M.OU);var _=this.Pq;_[0].R(this.Bx(M,J.x));_[1].R(this.Bx(M,J.y));
_[2].R(this.Bx(M,W));_[3].R(this.Bx(M,T));_[4].R((this.US*180/Math.PI).toFixed(2));_[5].R(this.Bx(M,es.Yq(J,q)));
this.ap=J.w6(q);if(M.OU){_[6].R(this.Bx(M,es.Yq(J,M.OU)))}else _[6].R("");_[8].Hr("Define");var m=M.jk;
if(m){var d=m.T.v;_[8].Hr(d.logicalUnits.v)}};jG.prototype.Bx=function(M,X){var J=this.$x.jk,q;if(J&&this.Pq[7].V()){var W=J.T.v;
q=X*W.logicalLength.v/W.pixelLength.v}else q=t.gk.KG(X,M.Qv,this.f,M.axM,!1);return parseFloat(q).toFixed(2)};
jG.prototype.SY=function(M,X){this.f=M;this.xO(this.$x)};jG.prototype.wo=function(){var M=this.Pq;for(var $=0;
$<M.length;$++)M[$].T();M[4].Hr(kd.get([12,15]).slice(0,1)+":");var X=kd.get([12,80,0]).slice(0,1);M[5].Hr(X+"1:");
M[6].Hr(X+"2:");w.qa(M[2],M[3])};function ca(){h5.call(this,["brush","strn","pdetail"])}ca.prototype=new h5;
function f$(){h5.call(this,["brush","sfrom"]);this.aqT=[];var M=[[7,12]];for(var $=0;$<M.length;$++){var X=new fT(M[$],!1,null,!0);
this.aqT.push(X);X.parent=this;this.body.appendChild(X._);X.P("click",this.aH6,this)}}f$.prototype=new h5;
f$.prototype.aH6=function(M){var X=new jb(r.E.pL,!0);X.data=o.X_.Zc("contentAware");this.a(X)};function gR(){h5.call(this,["brush","strn"])}gR.prototype=new h5;
function cl(){h5.call(this,["brush","flow","smode"])}cl.prototype=new h5;function iA(){f9.call(this);
this.vN=!1;var M=w.l("span","fitem");this.body.appendChild(M);this.YE=new i9(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
M.appendChild(this.YE._);this.YE.P(r.E.n,this.Q6,this);this.DP=new fT([20,2]);this.body.appendChild(this.DP._);
this.DP.P("click",this.ajz,this);this.aq4=new fT([20,3]);this.body.appendChild(this.aq4._);this.aq4.P("click",this.ajz,this);
this.Ha=new hE([8,7,1]);this.body.appendChild(this.Ha._);this.Ha.P(r.E.n,this.Q6,this)}iA.prototype=new f9;
iA.prototype.wo=function(){this.DP.T();this.aq4.T()};iA.prototype.Q6=function(){var M={h:r.m.Cl,J:this.J,j_:this.YE.V()==0,xs:this.Ha.V()},X=new jb(r.E.C,!0);
X.data=M;this.a(X)};iA.prototype.xO=function(M){if(this.vN!=M.vN)this.YE.R(1-this.YE.V());this.vN=M.vN};
iA.prototype.ajz=function(M){var X=new jb(r.E.H,!0);X.J=o.QC;X.data={h:"adapt",K:M.target==this.DP?"pixel":"fitscr"};
this.a(X)};function bG(M,X){f9.call(this);if(M==null)return;this.TT=M;this._Z={};this.aon=X;for(var $=0;
$<M.length;$++){var J=M[$],q=null;if(J=="vmode"||J=="pmode"){q=new iR(null,[[12,76,1],[12,76,0],[12,76,2]]);
q.R(J=="vmode"?0:1);if(X)q.abK(2)}if(J=="make"){q=new i9("Make",[[17,2],[12,76,1]],null,!0)}if(J=="anta"){q=new hE([12,25,1]);
q.R(!0)}if(J=="binop"){q=new iR(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(J=="pshape")q=new iR(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(J=="shape")q=new j0([12,76,1]);if(J=="crad"){q=new j6([12,94,0],0,50,"px");q.R(0)}if(J=="cstr"){q=new hk}if(J=="irad"){q=new j6([12,94,1],0,100,"%");
q.R(40)}if(J=="length"){q=new j6([12,80,0],4,40);q.R(4)}if(J=="sides"){q=new j6([12,78],3,30);q.R(5)}if(J=="width"){q=new j6([12,41],0,100,"px");
q.R(5)}if(J=="tolr"){q=new j6([12,24],0,100);q.R(5)}if(J=="fstyle"){q=new i$([12,26])}if(J=="sstyle"){q=new km}if(J=="psnap"){q=new hE([8,10])}if(J=="crnr"){q=new fT("\u2312",!1,[12,94,0],!0)}if(J=="aopts"){q=new bM;
q.R([!1,!1,50,60,0])}if(J=="smplp"){q=new fT([12,94,2],!1,["VAR0 (VAR1)",[12,94,2],[8,9]],!0)}q.parent=this;
this.body.appendChild(q._);this._Z[J]=q;q.P(J=="crnr"||J=="smplp"?"click":r.E.n,this.Q6,this)}}bG.prototype=new f9;
bG.prototype.xO=function(M){var X=this._Z.cstr;if(M.PC!=null)this._Z.binop.R(M.PC);else if(M.NL=="vals")for(var J in M.akA)this._Z[J].R(M.akA[J]);
else if(M.eg){if(X)X.rr(M.eg)}else{var q=bG.yd,W=function(_){return{i:_!=null&&_.KE(!1)}};if(q==null)q=bG.yd=new an([{name:"Remove Anchor Point",i:function(_){var m=_?_.ZX():null;
return{i:_&&m[1].length!=0&&m[0][m[1][0]].add.vmsk.FQ.length!=0}}},{name:"Remove Path",i:function(_){var m=_?_.ZX():null;
return{i:_&&m[1].length!=0&&m[0][m[1][0]].add.vmsk.O.length!=0}},ns:!0},{name:"Make Selection"},{name:[2,3],i:W},{name:[14,9],i:W}],[{A:r.E.H,J:o.CF,p:{h:"remove",OM:!0}},{A:r.E.H,J:o.gf,p:{h:"remove"}},{A:r.E.C,p:{h:r.m.SQ,bf:"makesel"}},{A:r.E.pL,p:o.HI.Ki(null)},{A:r.E.C,p:{h:r.m.SQ,bf:"strokepath"}}]);
q.parent=this;q.update(M.je,M.f);var T=new jb(r.E.C,!0);T.data={h:r.m._5,kv:q,x:M.Vm.VY+2,y:M.Vm.VV+1};
this.a(T)}};bG.prototype.a8n=function($){return null};bG.prototype.wo=function(){for(var M in this._Z){this._Z[M].T()}};
bG.prototype.Q6=function(M){var X=new jb(r.E.C,!0),J=this._Z;if(M.target==J.crnr){X=new jb(r.E.H,!0);
X.J=o.CF;X.data={h:"crnr"}}else if(M.target==J.smplp){X=new jb(r.E.H,!0);X.J=o.gf;X.data={h:"smplp"}}else if(M.target==J.make){var $=M.target.V();
console.log($);if($==0)X.data={h:r.m.SQ,bf:"makesel"};else{X=new jb(r.E.H,!0);X.J=o.Av;X.data={h:"newfill",Dv:0}}}else if(M.target==J.fstyle){X.data={h:r.m.OA,iw:bN.pX,K:J.fstyle.V()}}else if(M.target==J.sstyle){X.data={h:r.m.OA,iw:bN.Le,K:J.sstyle.V()}}else if(M.target==J.vmode||M.target==J.pmode){X.data={h:r.m.OA,iw:M.target==J.vmode?bN.I2:bN.pS,K:M.target.V()}}else{if(J.pshape)this.mc();
X.data={h:r.m.Cl,J:this.J};for(var q in J)X.data[q]=J[q].V()}this.a(X)};bG.prototype.mc=function(){var M=this._Z,X=(M.vmode?M.vmode:M.pmode).V(),J=M.pshape?this.a8n(M.pshape.V()):this.TT,q;
if(X==0)q=["anta","make"];if(X==1)q=["anta","fstyle","sstyle"];if(X==2)q=["make","binop","fstyle","sstyle"];
var W=M.binop;if(W){var T=W.V();if(X==0){W.anQ(0)}else{W.abK(0);if(T==0){W.R(1);this.Q6({target:W})}}}w.p9(this.body);
for(var $=0;$<J.length;$++){var _=J[$];if(q.indexOf(_)!=-1)continue;this.body.appendChild(M[_]._)}};
bG.prototype.SY=function(M,X){f9.prototype.SY.call(this,M,X);var J=this._Z.fstyle,q=this._Z.sstyle,W=this._Z.vmode,T=this._Z.pmode;
if(J)J.SY(M,X);if(q)q.SY(M,X);if(X==bN.Ru||X==bN.gx)if(M.I3.length!=0&&this._Z.shape){this._Z.shape.b5(M.I3)}if(X==bN.Ru||X==bN.pX)if(J)J.R(null,M.AB,M.a76);
if(X==bN.Ru||X==bN.Le)if(q)q.R(null,M.Jr,M.aER);if(X==bN.Ru||X==bN.I2||X==bN.pS){var _=M.Iw,m=M.RA;if(this.aon&&m==2)m=0;
if(W){W.R(_);this.mc()}if(T){T.R(m);this.mc()}}};function ed(){bG.call(this,["pmode","make","fstyle","sstyle","binop"],!0)}ed.prototype=new bG;
function hB(){bG.call(this,"pmode make anta fstyle sstyle binop".split(" "))}hB.prototype=new bG;function l1(){bG.call(this,["fstyle","sstyle","smplp"]);
this.abe=null;this.ai1=null;this.asc=null;this.bi=new iR([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.l5=new fT("\u25BC");this.l5.lH();this.ato=new fT("\u25B2");this.ato.lH();this.abY=[this.bi,this.l5,this.ato];
for(var $=0;$<this.abY.length;$++){var M=this.abY[$];this.body.appendChild(M._);M.parent=this;M.P($==0?r.E.n:"click",this.Bq,this)}}l1.prototype=new bG;
l1.prototype.xO=function(M){if(M.ys=="main"){var X=this.abY,J=M.J7;if(J){this.ai1=J.Q();this.asc=JSON.stringify(M.fg);
var q=J.O.slice(0),W=q.length;for(var $=0;$<q.length;$++)q[$]++;q.sort(function(d,A){return d-A});X[0].Ja();
X[1]._3(W!=0);X[2]._3(W!=0);X[0].Hr(W==0?"No Paths":W==1?"Path "+q[0]:"Paths "+q.slice(0,3).join(",")+(W>3?"..":""));
if(W!=0){var T=J.O[0],_=t.I.kj(J.X,T),m=J.X[_];this.bi.R([3,0,1,2][m.li])}}else for(var $=0;$<X.length;
$++)X[$].bH()}else bG.prototype.xO.call(this,M)};l1.prototype.wo=function(){bG.prototype.wo.call(this);
this.bi.T()};l1.prototype.Bq=function(M){if(M.target==this.bi||M.target==this.l5||M.target==this.ato){var X={},J=this.ai1,q=J.X,W=J.O,T=t.I.Qa(q),_=JSON.parse(this.asc);
W.sort(function(Z,g){return Z-g});if(M.target==this.bi){var m=this.bi.V();if(m<4)for(var $=0;$<W.length;
$++)q[t.I.kj(q,W[$])].li=[1,2,3,0][m];else{if(T<=1)return;J.X=t.I.HP(q);J.O=J.X.length==2?[]:[0];J.FQ=[];
_=[t.fg.Df()]}}else{var d=M.target==this.l5?-1:1,A=[];for(var $=0;$<T;$++){var p=t.I.kj(q,$),a=p+1+q[p].length;
A.push(q.slice(p,a))}var f=W.slice(0);for(var $=0;$<W.length;$++)f[$]=Math.max($,Math.min(T-1-(W.length-1-$),f[$]+d));
if(W.join(",")==f.join(","))return;var s=t.b(_);for(var $=0;$<W.length;$++){var j=d==-1?$:W.length-1-$,p=W[j],a=f[j];
if(p!=a){var Y=A[p];A[p]=A[a];A[a]=Y;Y=s[p];s[p]=s[a];s[a]=Y}}var G=q.slice(0,2);for(var $=0;$<A.length;
$++)G=G.concat(A[$]);J.X=G;J.O=f;_=s}X.J7=J;X.fg=_;var Q=new jb(r.E.C,!0);Q.data={h:r.m.Cl,J:this.J,FK:X};
this.a(Q)}};function gs(){bG.call(this,["fstyle","sstyle","crnr","psnap"])}gs.prototype=new bG;function eN(){bG.call(this,"vmode make anta fstyle sstyle binop cstr crad".split(" "))}eN.prototype=new bG;
function ig(){bG.call(this,"vmode make anta fstyle sstyle binop cstr".split(" "))}ig.prototype=new bG;
function c9(){bG.call(this,"vmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this._Z.aopts.R([!1,!0,50,60,0])}c9.prototype=new bG;c9.prototype.a8n=function($){var M=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"vmode make fstyle sstyle binop pshape".split(" ").concat(M[$])};function bT(){bG.call(this,"vmode make anta fstyle sstyle binop width aopts".split(" "))}bT.prototype=new bG;
function jf(){bG.call(this,"vmode make anta fstyle sstyle binop cstr shape".split(" "))}jf.prototype=new bG;
function f_(){bm.call(this,!1,["binop","feat","redge","sesu"])}f_.prototype=new bm(!0);function kC(){h5.call(this,["brush","qsmode","redge","sesu"])}kC.prototype=new h5;
function gX(){f9.call(this);this.rT=[new hk,new fT([8,11,3],null,null,!0),new fT(["VAR0...",[15,10,22]],null,null,!0)];
for(var $=0;$<3;$++){var M=this.rT[$];M.P($==0?r.E.n:"click",this.Bq,this);this.body.appendChild(M._)}}gX.prototype=new f9;
gX.prototype.Bq=function(M){var X=new jb(r.E.C,!0),J=this.rT.indexOf(M.target);if(J==0){X.data={h:r.m.Cl,J:this.J,_R:M.target.V()}}else if(J==1){X=new jb(r.E.pL,!0);
X.data={hC:"make",Qd:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{X.data={h:r.m.SQ,bf:"divslice"}}this.a(X)};
gX.prototype.wo=function(M){for(var $=0;$<this.rT.length;$++)this.rT[$].T()};function cH(){f9.call(this);
var M=this.Ea=[new fT("\u25BC",null,null,!0),new fT("\u25B2",null,null,!0),new fT([5,4],null,null,!0),new fT(["VAR0...",[15,10,22]],null,null,!0)];
for(var $=0;$<4;$++){var X=M[$];this.body.appendChild(X._);X.P("click",this.Bq,this)}}cH.prototype=new f9;
cH.prototype.Bq=function(M){var X=this.Ea.indexOf(M.target),J;if(X==3){J=new jb(r.E.C,!0);J.data={h:r.m.SQ,bf:"divslice"}}else{J=new jb(r.E.H,!0);
J.J=o.ZT;J.data={h:X==2?"delete":"reorder",dir:X==0?-1:1}}this.a(J)};cH.prototype.T=function(){f9.prototype.T.call(this);
for(var $=0;$<4;$++)this.Ea[$].T()};function gt(M,X){f9.call(this);if(window.Typr==null||M)return;this.akg=X;
this.zG=null;this.aiK=w.l("span","");this.aDy=w.l("span","");var J=1,q=this.bL={yu:new ee(null,24),pW:new j6("X",0,0,"px",0,!1,!0,4),sT:new j6("Y",0,0,"px",0,!1,!0,4),l_:new j6("W",0,0,["%","px"],2,!1,!0,5),Yj:new fT("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),lg:new j6("H",0,0,["%","px"],2,!1,!0,5),aiS:new j6("\u2221",0,0,"\xB0",J,!1,!0),acy:new j6("\u25B1 H",-85,85,"\xB0",J,!1,!0),azh:new j6("\u25B1 V",-85,85,"\xB0",J,!1,!0),a6:new iR(null,[[12,14,2],[12,14,3],"Bicubic Sharper"]),awT:new iR("Protect",[])};
q.a6.R(1);q.Yj.R(!0);for(var W in q){var T=q[W],_=!0;if(X&&(T==q.aiS||T==q.acy||T==q.azh||T==q.a6))_=!1;
if(!X&&T==q.awT)_=!1;if(_)this.aiK.appendChild(T._);var m=T==q.Yj?"click":r.E.n;T.P(m,this.aAR,this)}this.Sl=new i9("Split",i9.Ff(["split/vh","split/v","split/h"]),["Crosswise",[22,4,3],[22,4,2]],null,!0);
this.Sl.R(-1);this.Sl.P(r.E.n,this.axD,this);this.Nr=new hd(!0,!0,!0);this.Nr.P(r.E.n,this.axD,this);
this.Nr.parent=this;var d=this.aDy,A=this.Nr;d.appendChild(this.Sl._);d.appendChild(A.og._);d.appendChild(A._L._);
d.appendChild(A.Jl._);d.appendChild(A.pn._);d.appendChild(A.p_._);this.bq=new fT([11,9]);this.bq.P("click",this.aro,this);
this.gg=new dx;this.gg.P("click",this.HV,this)}gt.prototype=new f9;gt.prototype.xO=function(M){if(M.Vm){var X=gt,J=this.yd;
if(J==null)J=this.yd=new an(X.asB(),X.ab8(this.J));J.T();J.parent=this;J.update(M.je,M.f);var q=new jb(r.E.C,!0);
q.data={h:r.m._5,kv:J,x:M.Vm.VY+2,y:M.Vm.VV+1};this.a(q);return}w.p9(this.body);this.zG=M;var W=this.bL;
if(M.bL){var T=M.bL.Os,_=M.bL.FB.Q(),m=Math.atan2(-_.g,_.Jm),d=new kp;d.rotate(-m);_.concat(d);W.yu.R(M.bL.a8);
W.pW.R(M.bL.UO.x);W.sT.R(M.bL.UO.y);W.l_.R(_.Jm*(W.l_.Hp()=="%"?100:T.r));W.lg.R(_.Bi*(W.lg.Hp()=="%"?100:T.$));
W.aiS.R(-m*180/Math.PI);W.acy.R(Math.atan(_.br/_.Bi)*180/Math.PI);W.azh.R(0*180/Math.PI);this.body.appendChild(this.aiK);
this.bq.fz();if(M.bL._N!=null)W.Yj.R(M.bL._N)}if(M.QB){if(M.adC)this.Sl.R(-1);this.Nr.R(M.QB);this.body.appendChild(this.aDy);
this.bq.lH()}if(M.OD)W.awT.P$(M.OD);this.body.appendChild(this.gg._);if(M.aGv&&!this.akg)this.body.appendChild(this.bq._);
W.a6._.style.display=M.aIL?"":"none"};gt.prototype.aAR=function(M){var X=this.bL,J=this.zG.bL.Os;if(M.target==X.Yj)X.Yj.R(!X.Yj.V());
else if(X.Yj.AZ()){var q=X.lg,W=X.l_,T=J.$,_=J.r;if(M.target==X.l_){q=X.l_;W=X.lg;T=J.r;_=J.$}var m=q.V()/(q.Hp()=="%"?100:T);
m*=W.Hp()=="%"?100:_;W.R(m)}var d=[];for(var A in X)if(X[A]!=X.Yj&&X[A]!=X.yu){var m=X[A].V();if((X[A]==X.l_||X[A]==X.lg)&&m==0){m=.1;
X[A].R(m)}if(X[A]==X.l_&&X[A].Hp()=="px")m/=J.r/100;if(X[A]==X.lg&&X[A].Hp()=="px")m/=J.$/100;d.push(m)}var p=new es(d[0],d[1]);
if(M.target==X.yu){this.UM({ys:"ctyp",a8:X.yu.V()})}else if(M.target==X.pW||M.target==X.sT){this.UM({ys:"cen",UO:p})}else{var a=this.zG.bL.FB.Q(),f=a.Q(),s=Math.atan2(-a.g,a.Jm);
f.translate(-p.x,-p.y);f.rotate(-s);var j=new kp(f.Jm,f.g,f.br,f.Bi,0,0);j.vN();f.concat(j);var Y=d[2]/100,G=d[3]/100;
f.concat(new kp(Y,Y*Math.tan(d[6]*Math.PI/180),G*Math.tan(d[5]*Math.PI/180),G,0,0));f.rotate(-d[4]*Math.PI/180);
f.translate(p.x,p.y);this.zG.bL.FB=f;this.UM({ys:"trn",bL:f,C9:X.a6.V(),ov:X.awT.V(),_N:X.Yj.V()})}};
gt.prototype.axD=function(M){var X=this.Sl;this.UM(M.target==X?{ys:"splt",K:X.V()}:{ys:"wrp",QB:this.Nr.V()})};
gt.prototype.aro=function(M){this.UM({ys:"switchWarp"})};gt.prototype.HV=function(M){this.UM({ys:this.gg.V()?"commit":"cancel"})};
gt.prototype.UM=function(M){M.h=r.m.Cl;M.J=this.J;var X=new jb(r.E.C,!0);X.data=M;this.a(X)};gt.prototype.wo=function(){var M=this.bL;
for(var X in M)M[X].T();w.qa(M.l_,M.lg);this.gg.T();this.Sl.T();this.Nr.T();this.bq.T()};gt.asB=function(){var M=function(X){var J=!0;
if(X==null||X.O.length==0)J=!1;else{var q=X.O;for(var $=0;$<q.length;$++){if(X.U[q[$]].add.TySh)J=!1}}return{i:J}};
return[{name:[5,9],UD:"Shift+Alt+Ctrl + T",ns:!0},{name:[12,38]},{name:[2,5]},{name:"Skew"},{name:[24,4],i:M},{name:[2,9],i:M,ns:!0},{name:[11,9],i:function(X){if(X==null||X.O.length!=1)return{i:!1};
var J=X.U[X.O[0]];return{i:J.add.TySh==null&&!J.nA()}},ns:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
gt.ab8=function(M){if(M==null)M=o.zS;return[{A:r.E.H,J:M,p:{h:"again"}},{A:r.E.C,p:{h:r.m.ga,J:M,f4:{Em:3}}},{A:r.E.C,p:{h:r.m.ga,J:M,f4:{Em:4}}},{A:r.E.C,p:{h:r.m.ga,J:M,f4:{Em:5}}},{A:r.E.C,p:{h:r.m.ga,J:M,f4:{Em:2}}},{A:r.E.C,p:{h:r.m.ga,J:M,f4:{Em:1}}},{A:r.E.C,p:{h:r.m.ga,J:M,f4:{Em:-1}}},{A:r.E.pL,p:o.fx.sy(!0,90,!0)},{A:r.E.pL,p:o.fx.sy(!0,-90,!0)},{A:r.E.pL,p:o.fx.sy(!0,-180,!0)},{A:r.E.pL,p:o.fx.sy(!1,"Hrzn",!0)},{A:r.E.pL,p:o.fx.sy(!1,"Vrtc",!0)}]};
function iF(){gt.call(this)}iF.prototype=new gt(!0);function eA(){gt.call(this)}eA.prototype=new gt(!0);
function aV(){gt.call(this,!1,!0)}aV.prototype=new gt(!0);function kL(){f9.call(this);var M=this.TT=[new iR([12,36],["Rigid",[15,10,0],[24,4]]),new iR([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new j6([7,4],0,100,"px"),new hE("Show Mesh"),new fT("\u25BC",null,null,!0),new fT("\u25B2",null,null,!0)];
for(var $=0;$<M.length;$++){var X=M[$];X.parent=this;this.body.appendChild(X._);X.P($<4?r.E.n:"click",this.a5w,this)}this.gg=new dx;
this.gg.P("click",this.HV,this);this.body.appendChild(this.gg._)}kL.prototype=new f9;kL.prototype.wo=function(){var M=this.TT;
for(var $=0;$<4;$++)M[$].T();this.gg.T()};kL.prototype.xO=function(M){var M=M.iw;for(var $=0;$<4;$++)this.TT[$].R(M[$])};
kL.prototype.a5w=function(M){var X=[];for(var $=0;$<4;$++)X[$]=this.TT[$].V();var J=this.TT.indexOf(M.target);
if(J<4)this.UM({ys:"prm",iw:X});else this.UM({ys:"moveDepth",ax3:J==5})};kL.prototype.HV=function(M){this.UM({ys:this.gg.V()?"commit":"cancel"})};
kL.prototype.UM=function(M){M.h=r.m.Cl;M.J=this.J;var X=new jb(r.E.C,!0);X.data=M;this.a(X)};function en(){f9.call(this);
this.TT=null;this.Xm=new iR([12,44],["","","","",""]);this.Xm.P(r.E.n,this.Q6,this);this.body.appendChild(this.Xm._);
this.xK=new hE("ON");this.xK.P(r.E.n,this.Q6,this);this.body.appendChild(this.xK._);var M=j6;this.Sj=[[new M([24,2],0,500)],[new M([24,2],0,500)],[],[new M([24,2],0,500)],[new M("Speed",0,500,"%"),new M("Point Speed",0,500,"px")],[new M([12,15],0,360,"\xB0",null,!0)]];
for(var $=0;$<6;$++)for(var X=0;X<this.Sj[$].length;X++){var J=this.Sj[$][X];J.parent=this;J.P(r.E.n,this.Q6,this)}this.gg=new dx;
this.gg.P("click",this.Q6,this)}en.prototype=new f9;en.prototype.xO=function(M){var X=this.TT=M.iw,J=X[0];
this.a5m();this.T()};en.prototype.Q6=function(M){var X=this.TT,J=X[0],q=M.target,W=q.V();if(q==this.gg){}else if(q==this.Xm){J=X[0]=W<2?W:W+1;
this.a5m(J);X[2]=null}else if(q==this.xK){X[1][J]=W;X[2]=null;this.T()}else{var T=this.Sj[J];for(var _=0;
_<T.length;_++)X[2][_]=T[_].V()}var m=new jb(r.E.C,!0);m.data={h:r.m.Cl,J:this.J,iw:X};if(q==this.gg)m.data.ys=W?"commit":"cancel";
this.a(m)};en.prototype.a5m=function(){var M=this.body,X=this.TT,J=X[0];this.Xm.R(J<2?J:J-1);this.xK.R(X[1][J]);
while(M.children.length>2)M.removeChild(M.lastChild);var q=this.Sj[J];for(var $=0;$<q.length;$++){q[$]._3(X[2]!=null);
if(X[2]!=null)q[$].R(X[2][$]);M.appendChild(q[$]._)}M.appendChild(this.gg._)};en.prototype.T=function(){var M=[],X=this.TT,J=this.Xm;
for(var $=0;$<5;$++){var q=[24,3,12,$];if(X)q=(X[1][$<2?$:$+1]?"\u2713 ":"\u2002\u2002")+kd.get(q);M.push(q)}var W=J.V();
J.P$(M);J.R(W);var T=this.Sj;for(var $=0;$<6;$++){var _=T[$];for(var m=0;m<_.length;m++)_[m].T()}};function bY(){f9.call(this);
var M=this.aC=[new iR([12,20,0],["1x1","3x3","5x5","11x11","31x31"])];for(var $=0;$<M.length;$++){var X=M[$];
X.P(r.E.n,this.Q6,this);this.body.appendChild(X._)}}bY.prototype=new f9;bY.prototype.Q6=function(M){var X=this.aC,J=[];
for(var $=0;$<X.length;$++)J[$]=X[$].V();var q=new jb(r.E.C,!0);q.data={h:r.m.Cl,J:this.J,Ye:J};this.a(q)};
bY.prototype.wo=function(){for(var $=0;$<this.aC.length;$++)this.aC[$].T()};function k1(){bm.call(this,!1,["binop"]);
this.kS=new fT("Remove",!1,null,!0);this.kS.P("click",this.JD,this);this.kS._.style.marginRight="2em";
this.SN=new ja("New content");this.q7=new ez;this.q7.parent=this;this.oH=new fT([18,0],!1,null,!0);this.oH.P("click",this.JD,this);
this.avH=new fT("Undo",!1,null,!0);this.avH.P("click",this.JD,this);this.body.appendChild(this.SN._);
this.body.appendChild(this.q7._);this.body.appendChild(this.oH._);this.body.appendChild(this.kS._);this.body.appendChild(this.avH._)}k1.prototype=new bm(!0);
k1.prototype.T=function(){f9.prototype.T.call(this);this.oH.T();this.q7.T()};k1.prototype.JD=function(M){if(M.target==this.avH){var X=new jb(r.E.H,!0);
X.J=o.xH;X.data={h:"h_stepbck"};this.a(X);return}var J=M.target==this.kS,q=J?"empty background":this.SN.V();
this.q7.a5V(q)};function ii(){bj.call(this);this._=w.l("div","cmanager");window.alert=function(q,W){this.atE(q,W);
console.log("Alert: "+q)}.bind(this);window.onblur=function(q){var W=this;W.vH()}.bind(this);this.a3=0;
this.oz=0;this.h2=[];this.aIa={};this.qx=w.l("div","alertcont");w.F(this.qx,"pointer-events:none");this._.appendChild(this.qx);
this.any=w.l("div","alertcont");this._.appendChild(this.any);this.oc=w.l("div","alertcont");this.a1l=0;
this.E9=-1;this.axn=null;this.rT=null;var M=this.adE=w.l("div","alertpanel");w.F(M,"padding:0.7em 1em 0.1em 1em;");
this.oc.appendChild(M);var X=this.VH=w.l("input");X.setAttribute("type","text");w.IJ(X);w.F(X,"background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
X.addEventListener("input",this.acS.bind(this),!1);X.addEventListener("keydown",this.akS.bind(this),!1);
M.appendChild(X);var J=this.mI=w.l("div","contextpanel scrollable");w.F(J,"text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
J.addEventListener("click",this.ayN.bind(this),!1);M.appendChild(J);w.Ad(document.body,this.aDa.bind(this))}ii.prototype=new bj;
ii.prototype.KR=function(){if(w.L1(this.oc))this._.removeChild(this.oc)};ii.prototype.ano=function(M,X){var J=this.axn=[],q=X.aF1;
for(var $=0;$<fO.data.length;$++){var W=fO.data[$],T=[kd.get(W.name)],_=[$];ii.lQ(W.items,T,_,J,M,X,q==null?null:q[$]==null?0:q[$])}var m=X.W;
for(var $=0;$<m.hJ.length;$++){var d=m.hJ[$],A=m.keys[$];for(var p=0;p<d.length;p++)J.push([["Tools",kd.get(d[p].J.name)],[-1,d[p].J.id],A?A.f7:null])}this._.appendChild(this.oc);
var a=this.VH;a.focus();a.select();this.IF()};ii.prototype.acS=function(M){this.E9=-1;this.IF()};ii.prototype.IF=function(){var M=this.VH.value.toLowerCase().trim().replace(/  +/g," "),X=this.axn,J=[],q=[],W=M.split(" ");
if(M!="")for(var $=0;$<X.length;$++){var T=X[$][0],_=[],m=0;for(var d=0;d<T.length;d++)_[d]=-1;for(var A=0;
A<W.length;A++)for(var d=0;d<T.length;d++){var p=T[d].toLowerCase().indexOf(W[A]);if(p!=-1){_[d]=[p,p+W[A].length];
m++;break}}if(m==W.length){J.push(X[$]);q.push(_)}}var a=[],f=this.mI;w.p9(f);for(var $=0;$<J.length;
$++){var s=J[$],j=s[0],p=q[$],Y="enab",Q="";if($==this.E9)Y+=" active";var G=w.l("div",Y);a.push(G);
f.appendChild(G);for(var d=0;d<j.length;d++){var Z=p[d],g=W[d],S=j[d];if(Z!=-1)S=S.slice(0,Z[0])+"<span style=\"color:black\">"+S.slice(Z[0],Z[1])+"</span>"+S.slice(Z[1]);
Q+=S;if(d<j.length-1)Q+=" \uFE65 "}if(s[2]&&(typeof s[2]!="string"||s[2].length==1))Q+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+hP.wj(s[2])+"</span>";
G.innerHTML=Q}this.rT=[J,a]};ii.prototype.akS=function(M){var X=hP.jt,J=M.code;if(X(J,hP.ke))this.KR();
var q=X(J,hP.Xf),W=X(J,hP.LB),T=X(J,hP.ej);if(q||W){this.E9=Math.max(0,Math.min(this.rT[0].length-1,this.E9+(q?-1:1)));
this.IF()}if(T&&this.E9!=-1)this.aBp(this.E9)};ii.lQ=function(M,X,J,q,W,T,_){if(typeof _=="number"){if(_==0)return;
if(_==1)_=null}for(var $=0;$<M.length;$++){if(_!=null&&(_[$]==0||_[$]==null))continue;var m=M[$],d=X.slice(0),A=J.slice(0),p=kd.get(m.name);
if(m.i){var a=m.i(W,T,$);if(a.Ld)p=a.Ld;if(a.i==!1)continue}d.push(p);A.push($);if(m.sub)ii.lQ(m.sub,d,A,q,W,T,_?_[$]:null);
else q.push([d,A,m.UD])}};ii.prototype.ayN=function(M){var X=M.target;if(X.tagName.toLowerCase()=="span")X=X.parentNode;
var J=this.rT[1].indexOf(X);if(J!=-1)this.aBp(J)};ii.prototype.aBp=function(M){var X=this.rT[0][M][1];
if(X[0]==-1){var J=new jb(r.E.C,!0);J.data={h:r.m.ga,J:X[1]};this.a(J)}else{var q=fO.data[X[0]].gV[X[1]];
for(var $=2;$<X.length;$++)q=q.sub[X[$]];var W=new jb(q.A,!0);W.J=q.J;W.data=q.p;this.a(W)}this.KR()};
ii.prototype.uL=function(M,X){this.a3=M;this.oz=X;this.mI.style["max-height"]=X-120+"px"};ii.prototype.amY=function(M){var X=w.l("div","alertpanel");
X.textContent=kd.get(M);this.qx.appendChild(X);this.aIa[JSON.stringify(M)]=X};ii.prototype.aFz=function(M){var X=this.aIa[JSON.stringify(M)];
this.qx.removeChild(X);delete this.aIa[JSON.stringify(M)]};ii.prototype.atE=function(M,X){var J=this.any;
for(var $=0;$<J.children.length;$++)if(J.children[$].textContent==M)return;var q=w.l("div","alertpanel tpanel");
q.textContent=M;w.F(q,"opacity:0.5; transform:scale(0.9)\t");J.appendChild(q);if(X==null)X=1500;var W=X,T=Math.max(Date.now()+W,this.a1l+W);
setTimeout(function(){w.F(q,"transform:scale(1); opacity:1;")},10);setTimeout(function(){w.F(J,"pointer-events:none; margin-top: -3.6em; transform: translateY(3.6em);")},T-Date.now()-30);
setTimeout(function(){J.removeChild(J.firstChild);w.F(J,"pointer-events:none; transition: transform 0.7s;  margin-top: 5.5em;  transform: translateY(0em);")},T-Date.now());
this.a1l=T};ii.prototype.aDa=function(M){var X=this.h2;for(var $=X.length-1;$>=0;$--){var J=X[$],q=M.target;
while(q!=null){if(q==J._){this.vH(J);return}q=q.parentNode}}this.vH();var W=M.target;while(W!=this.oc&&W!=document.body)W=W.parentNode;
if(W!=this.oc)this.KR()};ii.prototype.vH=function(M){var X=this.h2;for(var $=0;$<X.length;$++){if(M&&M.aBy(X[$]))continue;
var J=X[$]._;if(!(X[$]instanceof an))w.F0(X[$],this._);else this._.removeChild(J);J.style.height="auto";
w.tM(J,"scrollable");X.splice($,1);$--}};ii.prototype.a86=function(M){this.vH(M.kv);var X=M.kv,J=X._;
if(this.h2.indexOf(X)!=-1)return;this.h2.push(X);this._.appendChild(J);var q=this.a3,W=this.oz,T=M.x,_=M.y,m=this._.getBoundingClientRect(),d=X instanceof an,A=-1,p=W-2;
if(d||M.db){var a=X.tK(),f=X.aof();if(d)a=Math.min(a,200);var s=q-a-2,j=W-f-2;if(_<j)A=2;else if(T<s)A=1;
else if(0<_-f-2)A=0;else A=3;if(M.aA2)A=0;if(M.arS)A=2;if(A==2){T=Math.min(T,s)}else if(A==1){_=Math.min(_,j)}else if(A==0){_=_-f-2;
T=Math.min(T,s);p=M.y}else if(A==3){T=T-a-2;_=Math.min(_,j)}}_=Math.max(2,_);var top=Math.round(_-m.y+this._.offsetTop);
J.style.position="absolute";J.style["z-index"]=10;if(_+X.aof()>p){J.style.height=p-_+"px";w.Z6(J,"scrollable");
if(A==3)T-=10}J.style.left=Math.round(T)+"px";J.style.top=top+"px";if(!(X instanceof an))w.Oo(X)};ii.prototype.aps=function(M){var X=M.kv,J=this.h2.indexOf(X);
if(J==-1)return;this.h2.splice(J,1);var q=X._;if(!(X instanceof an))w.F0(X,this._);else this._.removeChild(X._)};
ii.prototype.DC=function(){var M=this.h2;return M.length==0?null:M[M.length-1]};ii.prototype.ars=function(){this.aps({kv:this.DC()})};
function g4(){bj.call(this);this._=w.l("div","confbar")}g4.prototype=new bj;g4.prototype.apo=function(M){M.parent=this;
w.p9(this._);this._.appendChild(M._)};function eX(){bj.call(this);var M=this._=w.l("div","toolconf");
M.style.marginLeft="40px";this.aut=null;this.iH=null;this.nJ=[new ci(0),new ci(1),new j6([14,9],0,100,"px"),new k5(!0),new j6([12,0],0,100,"%",0)];
for(var $=0;$<this.nJ.length;$++){var X=this.nJ[$];X.parent=this;X.P(r.E.n,this.auI,this);M.appendChild(X._)}var J=this.Ix=new gA;
this.Ix.parent=this;this.ada=new jH("Tt:");var q=this.lU=w.l("span");M.appendChild(q);q.appendChild(this.ada._);
q.appendChild(J.Da._);q.appendChild(J.c2._);q.appendChild(J.LR._)}eX.prototype=new bj;eX.prototype.auI=function(M){var X=this.nJ.indexOf(M.target),J=M.target.V();
if(X==4){var q=new jb(r.E.H,!0);q.J=o.HX;q.data={h:K.HB,Nz:Math.round(255*J/100)};this.a(q);return}var W=t.b(this.aut.so);
if(X<2){var T,_=J;if(X==0){T=W.nz;W.nz=_}else{T=W.s0;W.s0=_}if(T.length!=_.length){var m=[1,0,0,1,0,0];
if(T.length==4){m=T[3].slice(0);m[1]*=-1;m[2]*=-1}if(T.length==2){m=T[1][1].slice(0)}if(_.length==4){_[2]=[0,0,0,1,1,0,0];
_[3]=m;m[1]*=-1;m[2]*=-1}if(_.length==2){_[1]=[[0,0,1,1,0,0,0,0,0],m]}}}if(X==2)W.G2=J;if(X==3)W=J;var q=new jb(r.E.C,!0);
q.data={h:r.m.OA,iw:bN.BC,K:W};this.a(q)};eX.prototype.T=function(){for(var $=0;$<this.nJ.length;$++)this.nJ[$].T();
this.Ix.T()};eX.prototype.Lf=function(M,X){this.iH=M;this.nJ[0].b5(M);this.nJ[1].b5(M)};eX.prototype.Mq=function(M){if(M.O.length==0)return;
var X=M.U[M.O[0]];this.nJ[4].R(Math.round(X.G8*100/255));w.F(this.lU,"line-height:1.5em; display:"+(X.add.TySh?"":"none"))};
eX.prototype.SY=function(M,X){this.aut=M;var J=M.so,q=this.iH;this.nJ[0].R(J.nz,q);this.nJ[1].R(J.s0,q);
if(J.G2!=null)this.nJ[2].R(J.G2);this.nJ[3].R(J);this.Ix.R(M.mo,M.Rb,M.Py)};function gb(M){bj.call(this);
gb.I0=this;gb.qs=M;this.f=null;this.gr=w.l("input","");this.gr.setAttribute("type","file");this.gr.setAttribute("multiple","");
this.gr.addEventListener("change",function(X){this.Yy(X.target.files,null,this.XW,null);this.XW=null}.bind(this),!1);
document.body.appendChild(this.gr);w.F(this.gr,"display:none");this.ay4=[];this.aCF=!1;this.anA=[];this.ane=!1;
this.ai7={};this.XW=null}gb.prototype=new bj;gb.qs=null;gb.jO=function(M){try{var X={};X[M.type]=M;navigator.clipboard.write([new ClipboardItem(X)])}catch(hP){console.error(hP,hP.message)}};
gb.wm=function(M,X){navigator.clipboard.read().then(function(J){for(var $=0;$<J.length;$++){try{var q=J[$],W={},T=0,_=0;
for(var m=0;m<q.types.length;m++){var d=q.types[m];T++;q.getType(d).then(function(A){var p=d;new Response(A).arrayBuffer().then(function(a){W[this.Dv]=a;
_++;if(_==T)gb.a6M(W,M,X)}.bind({Dv:this.Dv}))}.bind({Dv:d}))}}catch(hP){console.error(hP,hP.message)}}}).catch(function(J){alert("Please, give us permissions to access your clipboard.")})};
gb.adJ=function(M){navigator.permissions.query({name:"clipboard-read"}).then(function(X){M(X.state)})};
gb.a6M=function(M,X,J){var q=["text/plain","image/png","text/html","text/plain"];for(var W in M)console.log(W,W.startsWith("text")?H.Og(new Uint8Array(M[W])).slice(0,100)+"...":M[W]);
for(var T=0;T<q.length;T++){var _=q[T],m=M[_];if(m==null)continue;if(_=="image/png"){gb.qs({name:"image.png"},m,X,J);
return}if(_=="text/plain"){var d=H.Og(new Uint8Array(m));if(T==0)if(!d.startsWith("<!--")&&!d.startsWith("<svg"))continue;
if(J&&d.startsWith("<svg"))continue;var A=new jb(r.E.C,!0);A.data={h:r.m.apL,K:d};X.a(A);return}if(_=="text/html"){var d=H.Og(new Uint8Array(m)),p=d.indexOf("src=\"");
if(p!=-1&&d.slice(p+5,p+9)!="http"){var a=p+10;while(d[a]!="\"")a++;var f=d.slice(p+5,a);gb.qs({name:"chart.png"},h1.ut(f).buffer,X,J);
return}}}};gb.prototype.kN=function(M){if(M==null)M=[23,5];var X=JSON.stringify(M),J=this.ai7;if(J[X]==null)J[X]=0;
if(J[X]==0){var q=new jb(r.E.C,!0);q.data={h:r.m.cg,Ca:M};this.a(q)}J[X]++};gb.prototype.bE=function(M){if(M==null)M=[23,5];
var X=JSON.stringify(M),J=this.ai7;if(J[X]==null)J[X]=0;J[X]--;if(J[X]==0){var q=new jb(r.E.C,!0);q.data={h:r.m.eC,Ca:M};
this.a(q)}};gb.prototype.a7O=function(M,X,J){this.XW=M;var q=window.showOpenFilePicker;if(J)q=null;if(q&&window.self==window.top){var W=this;
q({multiple:!0}).then(function(m){var d=[];function A(p){d.push(p);if(d.length==m.length){W.Yy(d,null,W.XW,null,m);
W.XW=null}else m[d.length].getFile().then(A)}m[d.length].getFile().then(A)});return}var T=this.gr;if(X)T.setAttribute("accept",X);
else T.removeAttribute("accept");var _=document.createEvent("MouseEvents");_.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
T.dispatchEvent(_)};gb.prototype.Cn=function(M){if(M.url.indexOf("photopea.com#i")!=-1||M.url.indexOf("photopea.com/#i")!=-1){this.Mk(M.url.split("#i").pop());
return}this.ay4.push(M);this.ayY()};gb.prototype.ayY=function(){var M=this.ay4;if(M.length==0||this.aCF)return;
this.aCF=!0;var X=M.shift();this.kN();if(X.jo==null)X.jo={};var J=new XMLHttpRequest;J.gB=X;var q=X.url;
if(X.G3&&!q.startsWith("data:image"))q="mirror.php?url="+encodeURIComponent(q);J.open("GET",q);if(X.ay0)for(var W in X.ay0)J.setRequestHeader(W,X.ay0[W]);
J.responseType="arraybuffer";J.onload=this.ahN.bind(this);J.send()};gb.prototype.Yy=function(M,X,J,q,W){for(var $=0;
$<M.length;$++){this.kN();var T=M[$],_=new FileReader;_.gB=T;_.gB.oB=J;_.gB.VJ=q;_.ac5=X;if(W)_.gB.lh=W[$];
_.onload=this.ahN.bind(this);_.onerror=function(m){this.bE()}.bind(this);this.anA.push([_,T])}this.gr.value=null;
this.awu()};gb.prototype.awu=function(){var M=this.anA;if(M.length==0||this.ane)return;this.ane=!0;var X=M.shift();
X[0].readAsArrayBuffer(X[1])};gb.prototype.a1C=function(M,X,J){this.kN("Saving ...");this.f=X;setTimeout(J.bind({k7:M,caller:this}),50)};
gb.FS=function(M){var X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J=new Uint8Array(M),q=J.length,W=q%3,T=q-W,_=[],m=0,d=0,A=0;
for(var $=0;$<T;$+=3){m=J[$];d=J[$+1];A=J[$+2];_.push(X[m>>2]+X[(m&3)<<4|d>>4]+X[(d&15)<<2|A>>6]+X[A&63])}if(W==1){m=J[T];
_.push(X[m>>2]+X[(m&3)<<4]+"==")}if(W==2){m=J[T];d=J[T+1];_.push(X[m>>2]+X[(m&3)<<4|d>>4]+X[(d&15)<<2]+"=")}var p=_.join("");
return p};gb.a4d=function(M,X){var J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",q=new Uint8Array(64),m=0,d=0,A=0,a=0;
for(var $=0;$<64;$++)q[$]=J.charCodeAt($);var W=new Uint8Array(M),T=X%3,_=X-T,p=new Uint8Array(Math.floor(X/3)*4+(T==0?0:4));
for(var $=0;$<_;$+=3){m=W[$];d=W[$+1];A=W[$+2];p[a]=q[m>>>2];p[a+1]=q[(m&3)<<4|d>>>4];p[a+2]=q[(d&15)<<2|A>>>6];
p[a+3]=q[A&63];a+=4}if(T==1){m=W[_];p[a]=q[m>>2];p[a+1]=q[(m&3)<<4];p[a+2]=61;p[a+3]=61}if(T==2){m=W[_];
d=W[_+1];p[a]=q[m>>2];p[a+1]=q[(m&3)<<4|d>>4];p[a+2]=q[(d&15)<<2];p[a+3]=61}return p};gb.prototype.ahN=function(M){var X,J=M.target.gB;
if(M.target instanceof XMLHttpRequest)X=M.target.response;else X=M.target.result;gb.qs(J,X,this,M.target.ac5);
this.bE();if(M.target instanceof XMLHttpRequest){this.aCF=!1;this.ayY()}else{this.ane=!1;this.awu()}};
gb.akk=function(M,X){var J=new XMLHttpRequest;J.open("POST","https://api.imgur.com/3/image",!0);J.cT=X;
var q=["3ad80d2d9969219","b2ecdcfbd6e5dc3"],W=Math.floor(Math.random()*q.length);if(Date.now()<1714170928600)W=1;
J.setRequestHeader("Authorization","Client-ID "+q[W]);J.setRequestHeader("Content-type","application/x-www-form-urlencoded");
J.setRequestHeader("Accept","application/json");J.addEventListener("load",gb.acB);J.send("type=base64&image="+encodeURIComponent(gb.FS(M)));
alert("Saving to Imgur ...",4e3)};gb.acB=function(M){var X=JSON.parse(M.target.response);if(X.success){if(M.target.cT)M.target.cT(X.data.link);
else window.open(X.data.link,"Imgur")}};gb.prototype.Mk=function(M,X,J){this.kN();var q=new XMLHttpRequest;
q.responseType="arraybuffer";q.open("GET","https://f000.backblazeb2.com/file/"+(J?"pp-resources":"psdshared")+"/"+M);
q.onload=this.a9x.bind(this);q.send();q.$x=[Date.now(),M,X?M:null,J]};gb.prototype.a9x=function(M){var X=M.target.$x,J=new Uint8Array(M.target.response);
console.log(J.length+" B,",Date.now()-X[0]+" ms");for(var $=0;$<J.length;$++)J[$]=255-J[$];J=pako.inflateRaw(J);
var q=JSON.parse(H.Og(J,0,2e3));gb.qs({name:q.name,s7:X[2]},J.slice(2e3).buffer,this);this.bE();if(!X[3])gb.aN("act=0&id="+X[1])};
gb.prototype.a4s=function(M,X,J,q){if(!(M instanceof ArrayBuffer))throw"e";M=new Uint8Array(M);var W=new Uint8Array(M.length+2e3),f="";
for(var $=0;$<2e3;$++)W[$]=32;H.un(JSON.stringify({name:X}),W,0);W.set(M,2e3);M=W;M=pako.deflateRaw(M);
for(var $=0;$<M.length;$++)M[$]=255-M[$];M=M.buffer;var T=M.byteLength,_=cO.Pn(T),m=~~(609e5/2),d=~~(209e5/2);
if(T>m){confirm("Your file is "+_+". Our limit is "+cO.Pn(m)+". Delete some layers and try again.");
return}if(T>d){var A=confirm("Your file is quite large ("+_+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!A)return}var p=sha1(M),a=[];for(var $=0;$<20;$++){var s=parseInt(p.slice($*2,$*2+2),16);a.push(s);
f+=String.fromCharCode(s)}var j=btoa(f).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(gb.awg(j,q)){console.log("file already exists");
if(J)J(j);else window.open("https://www.photopea.com#i"+j+".psd");return}this.kN("Publishing ...");var Y=new XMLHttpRequest;
Y.$x=[M,p,j,J,q];Y.open("GET",hO.$u("papi/img/publish.php?rnd="+Math.random()+"&id="+j+"&size="+T+"&bname="+q));
Y.onload=this.aFN.bind(this);Y.send()};gb.awg=function(M,X){try{var J=new XMLHttpRequest;J.open("HEAD","https://f000.backblazeb2.com/file/"+X+"/"+M,!1);
J.send();if(J.status==200)return!0}catch(hP){return!1}return!1};gb.prototype.aFN=function(M){console.log(M.target.response);
var X=JSON.parse(M.target.response),J=M.target.$x,q=new XMLHttpRequest;q.open("POST",X.uploadUrl);q.setRequestHeader("Authorization",X.authorizationToken);
q.setRequestHeader("X-Bz-File-Name",J[2]);q.setRequestHeader("Content-Type","b2/x-auto");q.setRequestHeader("X-Bz-Content-Sha1",J[1]);
q.send(new Blob([J[0]]));q.onload=this.a50.bind({$y:this,$x:J})};gb.prototype.a50=function(M){this.$y.bE("Publishing ...");
if(this.$x[3])this.$x[3](this.$x[2]);else window.open("https://www.photopea.com#i"+this.$x[2]+".psd");
if(this.$x[4]=="psdshared")gb.aN("act=2&id="+this.$x[2]+"&fileId="+JSON.parse(M.target.response).fileId)};
gb.aN=function(M){var X=new XMLHttpRequest;X.open("GET","/papi/img/update.php?"+M+"&rnd="+Math.random());
X.send()};gb.save=function(M,X){var J=new Uint8Array(M),q=document.createElement("a");if(typeof q.download=="string"){var W=new Blob([J]),T=window.URL.createObjectURL(W);
q.href=T;q.download=X;document.body.appendChild(q);q.click();document.body.removeChild(q)}else{var _="data:application/octet-stream;base64,"+gb.FS(M);
window.open(_)}};function bJ(){this.size=16;this.data=t.j(16)}bJ.prototype.q0=function(M,X){if(M+X<=this.size)return;
var J=this.size;while(M+X>this.size)this.size*=2;var q=t.j(this.size);for(var $=0;$<J;$++)q[$]=this.data[$];
this.data=q};var hL={};hL.OW=function(M,X,J,q){var W=X.split(":"),T=W[0];if(W.length==2){if(T=="jpg")q=[Math.round(100*parseFloat(W[1]))];
if(T=="webp")q=[Math.round(100*parseFloat(W[1]))];if(T=="psd")q=[!0,!0,!1,!1,!1];if(T=="svg")q=W[1].split(",").map(function(m){return m=="true"});
if(T=="jpg"||T=="webp")if(M.UT())q.push(!1)}var _=h1.PZ(M,T.toUpperCase(),null,null,q,J);return _};hL.agF=function(M,X,J){var q=M.m7(),W=X[0];
return hL.OW(M,W,J)};hL.aF4=function(){var M=this.k7,X=this.caller,J=M.jo.Jw,q=J.formats,W,T;M.m7();
var _=Date.now();if(J.version==1){var m=[],d=0,p=0;for(var $=0;$<q.length;$++){var A=hL.OW(M,q[$],X.f);
m.push(A);d+=A.byteLength}W=new Uint8Array(2e3+d);var a="{ \"source\": "+JSON.stringify(M.u_)+", \"versions\": [\n";
for(var $=0;$<q.length;$++){var f=new Uint8Array(m[$]);a+="\t{\"format\": \""+q[$].split(":")[0]+"\", \"start\": "+p+", \"size\": "+f.length+" }"+($+1<q.length?", ":"")+"\n";
W.set(f,2e3+p);p+=m[$].byteLength}a+="] }";var s=H.un(a,W,0);for(var $=s;$<2e3;$++)W[$]=32;T="application/octet-stream"}else{var j=new bJ,Y=0,G="",Q=encodeURIComponent;
G="p="+Q("{ \"source\": "+JSON.stringify(M.u_)+", \"versions\": [");H.JZ(j,Y,G);Y+=G.length;for(var $=0;
$<q.length;$++){G=Q(" {\"format\": \""+q[$].split(":")[0]+"\", \"data\": \"");H.JZ(j,Y,G);Y+=G.length;
var A=hL.OW(M,q[$],X.f),Z=gb.a4d(A,A.byteLength),s=Z.length;j.q0(Y,s);for(var g=0;g<s;g++){j.q0(Y,3);
var S=Z[g];if(S==43){j.data[Y]=37;j.data[Y+1]=50;j.data[Y+2]=66;Y+=3}else if(S==47){j.data[Y]=37;j.data[Y+1]=50;
j.data[Y+2]=70;Y+=3}else if(S==61){j.data[Y]=37;j.data[Y+1]=51;j.data[Y+2]=68;Y+=3}else{j.data[Y]=S;
Y++}}G=Q("\" }"+($+1<q.length?", ":""));H.JZ(j,Y,G);Y+=G.length}G=Q("] }");H.JZ(j,Y,G);Y+=G.length;W=j.data.slice(0,Y);
T="application/x-www-form-urlencoded"}var U=new XMLHttpRequest;U.open("POST",J.url,!0);if(T)U.setRequestHeader("Content-Type",T);
U.addEventListener("load",hL.aId.bind(this));U.send(new Blob([W.buffer]))};hL.aId=function(M){this.caller.bE("Saving ...");
var X=M.target.response;if(X.charAt(0)=="{"){X=JSON.parse(X);if(X.newSource)this.k7.u_=X.newSource;if(X.message)alert(X.message,2e3);
if(X.script){var J=new jb(r.E.C,!0);J.data={h:r.m._i,lB:X.script};this.caller.a(J)}}else alert("Saved. Response: "+X,1500)};
hL.awc=function(M){var X=M.uO,J=X[1].split(".").pop(),q=hL.OW(M,J,null,J=="psd"&&X[0]==1?[!0,!1,!0,!1]:null),W=Storage.lm(X[0]);
return W.ajF(X[1],q)};hL.aDn=function(M,X){var J=M.iE.yJ;if(X==null)X=hL.OW(M,J);ir.Qi(function(){var q=new XMLHttpRequest,W="https://www.googleapis.com/upload/drive/v3/files/"+M.iE.file.id+"?uploadType=media"+"&"+ir.aJd();
q.open("PATCH",W,!0);q.addEventListener("load",function(T){var _=JSON.parse(T.target.response);alert(_.name+" updated")});
q.send(X);alert("Saving \""+M.iE.file.name+"\" to Google Drive ...")})};hL.qs=function(M,X,J,q){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)hL.asO(M,X,J,q);
else{try{hL.asO(M,X,J,q)}catch(hP){if(hP=="low_ram"){}else{var W=h1.$Y(X),T="Error. Please, send your file to support@photopea.com and we will solve it.";
if(W=="psd")T="Your file is probably damaged :( If you are 100% sure your file is ok, send it to support@photopea.com";
if(h1.$Y(X)=="eps")T="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(T,1e4)}}}};hL.asO=function(M,X,J,q){var W;if(M.name){var T=M.name.lastIndexOf(".");W=T==-1?M.name:M.name.slice(0,T);
if(M.name.slice(T+1)=="psdt")W="Untitled-1"}else{if(M.url.substring(0,5)=="data:")W="image";else{var _=M.url.substring(M.url.lastIndexOf("/")+1).split(".");
W=_[0];if(_[1]=="psdt")W="Untitled-1"}W=W.slice(0,50)}var m=M.name?M.name:M.url,d=new Uint8Array(X),A=h1.$Y(X);
if(A!=null&&h1.mr(A))hO.event("fmt_"+A,.1);if(A==null)A=H.zb(d,0,4);if(A=="ai"&&m&&m.toLowerCase().endsWith(".pdf"))A="pdf";
if(m&&m.toLowerCase().endsWith(".aco"))A="aco";if(m&&m.toLowerCase().endsWith(".raw")&&A!="tiff"){var p=new jb(r.E.C,!0);
p.data={h:r.m.SQ,bf:"importraw",eb:X,iW:m.split("/").pop()};J.a(p);return}else if(A=="json"){var a="";
for(var $=0;$<d.length;$++)a+=String.fromCharCode(d[$]);a=decodeURIComponent(escape(a));var f=JSON.parse(a);
if(f.name&&f.url){var p=new jb(r.E.C,!0);p.data={h:r.m.asp,K:f};J.a(p)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(f)}return}if(A=="html"){var a=H.Og(d,0,d.length),s=new DOMParser,j=s.parseFromString(a,"text/html"),Y=j.getElementsByTagName("meta");
for(var $=0;$<Y.length;$++){var G=Y[$],Q=G.getAttribute("property"),Z=G.getAttribute("content"),g=null;
if(Q=="og:image")g=Z;if(Q==null&&Z&&Z.startsWith("0;url=/imgres?")){var _=Z.slice(14).split("&");for(var S=0;
S<_.length;S++)if(_[S].startsWith("imgurl"))g=decodeURIComponent(_[S].slice(7))}if(g==null)continue;
var p=new jb(r.E.C,!0);p.data={h:r.m.y_,iw:{url:g,G3:!0,oB:M.oB}};J.a(p)}return}if(h1.mr(A)){var U,B,e=h1.mr(A);
if(M.oB!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(A)!=-1){var p=new jb(r.E.C,!0);if(0<=M.oB)p.data={h:r.m.V8,target:M.oB,vE:M.VJ,AR:X,ZJ:W};
else{p=new jb(r.E.H,!0);p.data={h:K.Rz,data:new Uint8Array(X),iW:W+"."+A};p.J=o.HX}J.a(p);return}var P=[W,e,A,M,J,q,X];
if(e.R8){var h=gj==0?"psd":"ai";U=new dD(W+(A==h?"":"-"+A)+"."+h);e.ss(X,U,hL.Ed,P)}else{B=e.ss(X,null,hL.Ed,P,J);
if(B==null)return}if(e.Yf!=!0)hL.Ed(U,B,P);else J.kN();return}var V=new jb(r.E.C,!0);V.data={h:r.m.Gz,eb:X,HH:M.name};
var I=M instanceof File&&M.al5!=!0,p=new jb(r.E.C,!0);p.data={h:r.m.OA,jo:"add",iw:null,jH:null,ayK:M.al5};
if(A=="zip"){var F=Date.now(),c=UZIP.parse(X),D="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var n in c){var k=!1;for(var $=0;$<D.length;$++)if(n.toLowerCase().endsWith("."+D[$]))k=!0;if(n.startsWith("__MACOSX/")||c[n].length==0)k=!0;
if(k)continue;var b=n.split("/").pop();hL.qs({name:b},c[n].buffer,J,q)}}else if(A=="jsx"||m&&m.toLowerCase().endsWith(".jsx")){if(I)J.a(V);
var a=H.Og(new Uint8Array(X));p.data={h:r.m._i,lB:a};J.a(p)}else if(A=="otf"){if(I)J.a(V);var N=Typr.parse(X);
p.data.iw=bN.Ua;for(var $=0;$<N.length;$++){p.data.jH=N[$];J.a(p)}}else if(A=="asl"){if(I)J.a(V);var N=dT.Ah(X,m);
p.data.iw=bN.sw;p.data.jH=N.l9;J.a(p);p.data.iw=bN.pA;p.data.jH=N.oN;J.a(p)}else if(A=="tpl"){if(I)J.a(V);
var N=gL.Ah(X);p.data.iw=bN.Vk;p.data.jH={Kj:N.Kj,a5:N.a5,list:[]};J.a(p);if(N.azL.length!=0){p.data.iw=bN.gx;
p.data.jH=N.azL;J.a(p)}if(N.oN.length!=0){p.data.iw=bN.pA;p.data.jH=N.oN;J.a(p)}p.data.iw=bN.m$;p.data.jH=N.list;
J.a(p)}else{var L="";for(var R in bN.yr)if(bN.yr[R][0]==A)L=R;if(L!=""){if(I)J.a(V);p.data.jH=bN.yr[L][2].Ah(X,m);
p.data.iw=L;J.a(p)}else if(X.byteLength==0)alert("Empty file (0 Bytes)");else alert("Unknown file format: "+JSON.stringify(A))}};
hL.Ed=function(M,X,J){var q=J[0],W=J[1],T=J[2],_=J[3],m=J[4],d=J[5],A=J[6];if(W.Yf)m.bE();if(!W.R8){if(X.length==0)return;
if(X[0].t33421||X[0].t50706){t.raw.normalize(X[0],A);console.log(X[0]);var p=new jb(r.E.C,!0);p.data={h:r.m.SQ,bf:"rawpea",J_:X[0]};
m.a(p);return}if(d){d(new Uint8Array(X[0].data),X[0].kq);return}M=h1.DG(q,X)}M.s7=_.s7;M.DE=T;M.jo=_.jo;
M.u_=_.url;M.Ws=_.Ws;M.iE=_.iE;M.lh=_.lh;M.uO=_.uO;if(_.lh&&_.lh.name.endsWith(".psdt"))M.lh=null;if(M.iE)M.iE.yJ=T;
if(M.U.length!=0){var p=new jb(r.E.C,!0);p.data={h:_.oB==null?r.m.f5:r.m.V8,target:_.oB,vE:_.VJ,AR:M};
m.a(p)}};function e5(M){bj.call(this);this.Id=e5.Id++;this.AJ=M;this.a1L=this.a3A.bind(this);this.anI=this.ay7.bind(this);
this.ap8=this.kM.bind(this);this.aod=this.ai_.bind(this);this.ajK=this.aFc.bind(this);this.awB=this.ahX.bind(this);
this.Xs=0;this.aGM=0;this.av1=0;this._=w.l("div","panelblock");this.eS=w.l("div","block");this.dn=w.l("div","collapsed");
this._.appendChild(this.eS);this.QR=-1;this.H9=!0;this.da=w.l("div","panelhead");this.eS.appendChild(this.da);
this.dc(this.da);this.atB=new fT("\u2261");w.F(this.atB._,"position:absolute; right:4px;");this.atB.P("click",this.ayR,this);
this.yP=w.l("div","body");this.eS.appendChild(this.yP);this.Wc=[];this.vB=null;this.Tz=null}e5.Id=0;
e5.prototype=new bj;e5.Pu=26.1;e5.prototype.ayR=function(M){var X=this.Wc[this.QR].nr(),J=M.currentTarget._.getBoundingClientRect();
X.T();X.update();X.parent=this;var q=new jb(r.E.C,!0);q.data={h:r.m._5,kv:X,x:J.left,y:J.top+J.height+2};
this.a(q)};e5.prototype.Zo=function(M){var X=this.eS,J=this.da,q=this.yP;if(w.L1(J))X.removeChild(J);
if(w.L1(q))X.removeChild(q);if(M==0)X.appendChild(J);X.appendChild(q);this.av1=M};e5.xb=function(M){M.stopPropagation();
M.preventDefault()};e5.prototype.a3A=function(M){var X=M.dataTransfer.types;if(X[1]!=null&&X[1]!=this.Id+"")return;
e5.xb(M);var jX=M.currentTarget;if(M.target==jX)w.Z6(jX,"highlight")};e5.prototype.ay7=function(M){e5.xb(M);
var jX=M.currentTarget;if(M.target==jX)w.tM(jX,"highlight")};e5.prototype.dc=function(M){M.addEventListener("dragenter",this.a1L,!1);
M.addEventListener("dragleave",this.anI,!1);M.addEventListener("dragover",e5.xb,!1);M.addEventListener("drop",this.ap8,!1);
M.addEventListener("dragstart",function(X){X.dataTransfer.setData("Text","--panel");X.dataTransfer.setData(this.Id+"","")}.bind(this),!1)};
e5.prototype.kM=function(M){this.anI(M);var X=null,jX=M.currentTarget,J=this.aiL(jX);if(jX==this.yP&&this.QR!=-1)X=this.QR;
else if(jX==this.da)X=null;else if(J!=-1)X=J;var q=M.dataTransfer.getData("Text");if(q==""||q.startsWith("http")||q.startsWith("data:image/"))w.C1(M,this,X);
else if(q=="--panel"){var W=w.uP(M,jX),T=this.Wc,_=T.slice(0),$=this.QR,m=J==-1?T.length:W.x<jX.getBoundingClientRect().width/2?J:J+1;
if($==m||$+1==m||jX==this.yP)return;var d=$<m?m-1:m,A=T[$];T.splice($,1);T.splice(d,0,A);w.p9(this.da);
for(var p=0;p<T.length;p++)this.da.appendChild(T[p].Wq);this.Ww(d);var a=[];for(var $=0;$<T.length;$++)a[$]=_.indexOf(T[$]);
var f=new jb("shuffleItems",!1);f.data={a5i:a};this.a(f)}else if(X!=null&&this instanceof iZ){var f=new jb(r.E.C,!0);
f.data={h:r.m.aiq,aq7:X};this.a(f)}};e5.prototype.r3=function(){return null};e5.prototype.aya=function(){if(this.r3()){this.da.style.padding="0px";
this.Tz=this.r3();this.yP.appendChild(this.Tz);this.Mw._3(!1);var M=new jb(r.E.C,!0);M.data={h:r.m.bb,K:1};
this.a(M)}};e5.prototype.a04=function(){if(this.Tz){this.da.style.padding="";this.yP.removeChild(this.Tz);
this.Tz=null;this.Mw._3(!0);var M=new jb(r.E.C,!0);M.data={h:r.m.bb,K:0};this.a(M)}};e5.prototype.aiL=function(M){var X=this.Wc;
for(var $=0;$<X.length;$++)if(X[$].Wq==M)return $;return-1};e5.prototype.vl=function(){for(var $=0;$<this.Wc.length;
$++)this.Wc[$].gJ.fz()};e5.prototype.aH=function(){return this.QR};e5.prototype.Zp=function(){if(this.H9)return;
this.H9=!0;this._.removeChild(this.dn);this._.appendChild(this.eS)};e5.prototype.collapse=function(){if(!this.H9)return;
this.H9=!1;this._.appendChild(this.dn);this._.removeChild(this.eS)};e5.prototype.Pu=function(){var M=0;
if(this.av1==0){M=this.da.getBoundingClientRect().height+1;M=Math.max(M,e5.Pu)}return M};e5.prototype.a1O=function(){return this.Pu()+this.yP.getBoundingClientRect().height};
e5.prototype.uL=function(M,X){this.da.style.maxWidth=M+"px";var J=this.Pu();if(this.QR!=-1)this.Wc[this.QR].uL(M,X-J);
return X-J};e5.prototype.SY=function(M,X){if(this.QR!=-1)this.Wc[this.QR].SY(M,X)};e5.prototype.Mq=function(M,X,J){this.Wc[this.QR].Mq(M,X,J)};
e5.prototype.Oq=function(M){this.a04();if(this.Wc.indexOf(M)!=-1){this.Ww(this.Wc.indexOf(M));return}M.parent=this;
this.Wc.push(M);this.da.appendChild(M.Wq);M.Wq.addEventListener("mouseover",this.aod,!1);this.dc(M.Wq);
this.dn.appendChild(M.gJ._);M.gJ.P("click",this.aeG,this);M.P("select",this.aD6,this);M.P(r.E.Bb,this.asw,this);
this.Ww(this.Wc.length-1)};e5.prototype.ai_=function(M){if(M.buttons==0)return;var X=M.currentTarget,J=X,$=0;
while((J=J.previousSibling)!=null)$++;this.aGM=$;X.addEventListener("mouseout",this.ajK,!1);this.Xs=setTimeout(this.awB,700)};
e5.prototype.aFc=function(M){var X=M.currentTarget,J=X,$=0;while((J=J.previousSibling)!=null)$++;X.removeEventListener("mouseout",this.ajK);
clearTimeout(this.Xs)};e5.prototype.ahX=function(M){this.a(new jb(r.E.a4r,!1))};e5.prototype.arD=function(M){return this.aGM};
e5.prototype.Ce=function($){var M=new jb(r.E.Bb,!1);M.data={I7:$};this.a(M);var X=this.Wc[$];this.Wc.splice($,1);
this.da.removeChild(X.Wq);this.dn.removeChild(X.gJ._);X.Wq.className="";X.gJ.removeEventListener("click",this.aeG,this);
X.gJ.fz();X.removeEventListener("activate",this.aD6);X.removeEventListener(r.E.Bb,this.asw);var J=this.QR;
if($<J)J--;else if($==J&&$==this.Wc.length)J--;this.Ww(J);if(this.Wc.length==0)this.aya()};e5.prototype.adP=function(){return this.Wc.length};
e5.prototype.Y0=function(){if(this.Wc.length!=0)this.Wc[this.QR].Y0()};e5.prototype.Ww=function(M,X){if(X==null)X=!0;
for(var $=0;$<this.Wc.length;$++)this.Wc[$].Wq.className="";if(this.vB)this.yP.removeChild(this.vB);
this.vB=null;this.QR=M;if(M==-1)return;var J=this.Wc[this.QR];this.vB=J.ds;this.yP.appendChild(J.ds);
J.Wq.className="active";if(!this.H9){this.a(new jb("showFloat"));this.Wc[M].gJ.lH()}if(X)this.a(new jb(r.E.n,!1));
J.IQ();var q=this.atB._;if(q.parentNode)this.da.removeChild(q);if(J.nr())this.da.appendChild(q);var W=new jb(r.E.C,!0);
W.data={h:r.m.Y1};this.a(W)};e5.prototype.aD6=function(M){if(this.AJ&&!this.AJ.azn())return;var $=this.Wc.indexOf(M.currentTarget);
this.Ww($)};e5.prototype.asw=function(M){var X=this.Wc.indexOf(M.currentTarget);if(M.data!=null){for(var $=this.Wc.length-1;
$>=0;$--){var J=this.Wc[$];if(M.data==1&&$==X)continue;J.Y0()}return}if(this.AJ&&!this.AJ.azn())return;
this.Ce(X)};e5.prototype.aeG=function(M){var X=this.Wc.indexOf(M.currentTarget.parent);if(this.Wc[X].gJ.AZ())this.a(new jb("hideFloat"));
else this.Ww(X)};e5.prototype.alj=function(M){this.a(M)};function iZ(M){e5.call(this,M);this.a3=0;this.oz=0;
w.ZA(this.da,this.ap6.bind(this));this.wv=0;this.Kz=-2;this.alJ=this.a7e.bind(this);this.dc(this.yP);
this.KP=["default;"];this.Mw=new w.zM(this.yP);this.Yi=new js(!0);this.Yi.parent=this;this.QN=this.Yi._;
js.rG(this.Yi)}iZ.prototype=new e5;iZ.prototype.ap6=function(M){if(M.target!=this.da)return;var X=Date.now()-this.wv<300&&this.Kz==-1;
this.wv=Date.now();this.Kz=-1;if(!X)return;var J=new jb(r.E.C,!0);J.data={h:r.m.SQ,bf:"newproject"};
this.a(J)};iZ.prototype.q2=function(M,X){if(X)this.KP.push(M);else{var J=this.KP.length-1;if(this.KP[J]==M)return;
this.KP[J]=M}this.sh()};iZ.prototype.a9I=function(){this.KP.pop();this.sh()};iZ.prototype.sh=function(){var M=this.KP[this.KP.length-1];
this.Mw.Mq(M,this.DX)};iZ.prototype.SY=function(M,X){e5.prototype.SY.call(this,M,X);this.Yi.SY(M,X);
if(!M.rN){}};iZ.prototype.T=function(){e5.prototype.T.call(this);this.Yi.T()};iZ.prototype.Mq=function(M,X){for(var $=0;
$<X.length;$++){var J=X[$];this.Wc[$].hK(J.name+(J.depth==8?"":" (RGB/"+J.depth+")")+(J.LZ()?" *":""))}e5.prototype.Mq.call(this,M,X)};
iZ.prototype.r3=function(){return this.QN};iZ.prototype.uL=function(M,X){if(this.Wc.length==0)X+=e5.Pu-1;
this.a3=M;this.oz=X;X=e5.prototype.uL.call(this,M,X);this.DX="height:"+X+"px; width:"+M+"px; overflow:hidden; position:relative;";
this.sh();this.Yi.uL(M,X)};iZ.prototype.Oq=function(M){e5.prototype.Oq.call(this,M);M.Wq.addEventListener("click",this.alJ,!1)};
iZ.prototype.Ce=function($){var M=this.Wc[$];w.uU(M.Wq,this.alJ);e5.prototype.Ce.call(this,$)};iZ.prototype.a7e=function(M){var X=this.aiL(M.currentTarget),J=Date.now()-this.wv<300&&this.Kz==X;
this.wv=Date.now();this.Kz=X;if(!J)return;var q=this.Wc[X].AR.name,W=new jb(r.E.C,!0),T={A:r.E.H,J:o.HX,p:{h:K.Jz}};
W.data={h:r.m.SQ,bf:"namewindow",vc:q.slice(0,q.length-4),N5:T};this.a(W)};function d7(M){bj.call(this);
if(M)return;gS.aGF(1);this._=w.l("div","flexrow app");this.RC=w.l("div");this._.appendChild(this.RC);
setTimeout(function(){var J=window.hideCap;if(J)J()},25e3);this.__=new hP;window.addEventListener("blur",function(J){this.__.reset()}.bind(this),!1);
window.addEventListener("resize",this.rM.bind(this),!1);var X=this.RC;this.C7=new ex;this.C7.parent=this;
X.appendChild(this.C7._);this.Ux=new ii;this.Ux.parent=this;X.appendChild(this.Ux._);this.EL=new d$(!0);
this.EL.parent=this;X.appendChild(this.EL._);this.P(r.E.C,this.oo,this);this.Qk=this.iT.bind(this);window.requestAnimationFrame(this.Qk)}d7.prototype=new bj;
d7.prototype.iT=function(M){this.Jn();window.requestAnimationFrame(this.Qk)};d7.prototype.T=function(){};
d7.prototype.rM=function(M){var X=window.innerWidth,J=window.innerHeight;this.uL(X,J)};d7.prototype.uL=function(M,X){this.Ux.uL(M,X);
this.C7.uL(M,X)};d7.prototype.oo=function(M){var X=M.data.h;if(X==r.m._5)this.Ux.a86(M.data);if(X==r.m.Go)this.Ux.aps(M.data);
if(X==r.m.cg)this.Ux.amY(M.data.Ca);if(X==r.m.eC)this.Ux.aFz(M.data.Ca);if(X==r.m.rb)this.Ux.vH()};function dy(){d7.call(this);
this.bJ={x:0,y:0,kJ:!1};this.HJ=!1;this.by=!1;this.ag7=null;this.anY=0;this.aqP=!1;this.T5=0;window.onmessage=function(f){if(Storage.av_(f.source))return;
if(f.data instanceof ArrayBuffer){var s=h1.$Y(f.data),j=h1.mr(s);gb.qs({url:"file"},f.data,this);if(j==null)this.yq()}else if(f.data instanceof Object||f.data.startsWith("{")||f.data.startsWith("amp-")||f.data.startsWith("0=goog")||f.data.startsWith("3PCoo")||f.data.startsWith("ima://")){}else if(f.data.startsWith("--ur ")){var Y=f.data.split(" ").pop(),U=null;
Y=Y.length==0?[]:Y.split(",");console.log(Y);var G=this.f.jH,Q=new jb(r.E.C,!0);Q.data={h:r.m.OA,iw:bN.ef,Nz:Y};
this.a(Q);var Z=Y,g=G;if(g.length>Z.length){var S=g;g=Z;Z=S}for(var $=0;$<Z.length;$++)if(g.indexOf(Z[$])==-1)U=Z[$];
gb.aN("act=3&id="+U+"&dif="+(Z==Y?1:-1));alert((Z==Y?"Resource added.":"Resource removed.")+" "+U)}else if(f.data.startsWith("--ot ")){if(this.C7.DC())this.C7.DC().close();
this.Tr.Mk(f.data.split(" ").pop(),!0)}else if(f.data.startsWith("--et ")){}else{var Q=new jb(r.E.C,!0);
Q.data={h:r.m._i,lB:f.data};this.a(Q);this.yq()}}.bind(this);window.onbeforeunload=function(f){this.ael();
for(var $=0;$<this.td.length;$++)if(this.td[$].LZ()){return this.td[$].name}}.bind(this);if(!eu.IZ())window.setInterval(this.ag3.bind(this),5*60*1e3);
var M=this;if(window.indexedDB){var X={q0:window.indexedDB.open("pp",1)};X.q0.onupgradeneeded=function(f){var s=f.target.result,j=s.createObjectStore("rsrc",{keyPath:"k"})};
X.q0.onsuccess=function(f){var s=M.f.OB.Aq=f.target.result,j=s.transaction(["rsrc"],"readwrite").objectStore("rsrc"),Y=j.get("fs0");
Y.onsuccess=function(f){if(f.target.result){var Z=M.f.OB.If=f.target.result.fset;for(var g in Z){if(!g.endsWith(".jsx")&&!g.endsWith(".p"+"sd"))gb.qs({url:g,al5:!0},Z[g],M)}}};
var G=new BroadcastChannel("pp-tabs"),Q=[];G.onmessage=function(f){if(f.data=="id")G.postMessage(M.f.OB.id);
else Q.push(f.data)};G.postMessage("id");setTimeout(function(){var j=s.transaction(["rsrc"],"readwrite").objectStore("rsrc"),Z=j.getAllKeys();
Z.onsuccess=function(){var g=Z.result,S=[],U=0;for(var $=0;$<g.length;$++){if(g[$]=="fs0")continue;if(Q.indexOf(g[$])!=-1)continue;
S.push(g[$])}for(var $=0;$<S.length;$++){var Y=j.get(S[$]);Y.onsuccess=function(f){if(f.target.result){var B=f.target.result.fset;
for(var e in B){try{gb.qs({url:e,al5:!0},B[e],M);var P=M.Rt();P.bI=P.uR=-1}catch(f){console.log(f)}}U++;
if(U==S.length)for(var $=0;$<S.length;$++){var Y=j.delete(S[$])}}}}}},200)}}var J="rwx~#.-(;.]6EF rx'|#1,6><@87f?NO \"|'/-&(0><BBDEEMGrVPb w$,*1)379;<<D>iQW \"|'/-4,6:<>??GAlTZ \"|'/-1)(W?E !#$$,&P72<DBIAKOoTZR %%!-~-&,>AI`HN vx!/-3QV66;`HN \"|'/-M)+3A]BDEEMG *#DGUP%(+48>Kk>FHHVXXW(Z(un03y=p{ *#DGUP%:/5457:=IuF_$Q~le'*p4gr".split(" "),q=w.Nv[kl.eM][kl.aFs];
if(q==null)q=[w.Nv[kl.mR][kl.hX]];for(var W=0;W<q.length;W++){var T=q[W];for(var $=0;$<J.length;$++){var _=w.Q_(J[$]);
if(T.indexOf(_)!=-1){var m=w.Nv[kl.mR][kl.yP],d=kl._Y("+TyeVTVF<pR1:444X3!~'tGkgfkdlfi_R%JQCBGs<B>AV:-;#TIBEsx*CVqux}xreyztGc]Pdea1NH;OPL|93&:;81$}p%&\"Qnh[oplgYSFZ[XTD>1EFBE/){01.)ysfz{wvgw;Hamh+F,3#!T6@=# |0odhjb`RKtGPK\\WI3A3.:_A{{#t~x,E{xu)H]ac[YKDm@IDo_/hcS*OYl}w/{!thr|i]seVT[dUHP>UF8<?3(@% ,4r.Gi%jqa_3t~{a^[nNCGIA?1*S&/*Hw$y<kjgpsilhtSU\\ZUI?OKCCALeh+20+~t%!xx#a`]fi_b'vF l");
w.p9(m);m[kl.aC8]=d;return}}}this.W=dy.a75();this.f={W:this.W,aEX:!1,Rk:null,LA:0,uh:{a5:[],Kj:[],list:[],gl:null},pG:[],aGm:[],km:[],i9:[],Ee:[],i3:[],atp:[],aaY:[],Ee:[],I3:[iv.IH()],bV:[],cm:[],Ax:null,Iw:0,RA:1-gj,so:kf.so.IH(),ac3:kf.so.IH(),AB:{fH:1,PD:t.b(kf.iI[0])},Jr:kf.XZ.IH(),a76:[null].concat(kf.iI),aER:[null].concat(kf.iI),Rb:new aM(function(f){var s=new jb(r.E.C,!0);
s.data={h:r.m.y_,iw:{url:hO.Tw("rsrc/fonts/"+f)}};this.a(s)}.bind(this)),mo:{Hd:[],cN:null,Js:null},font:null,Py:[],jH:[],anG:{},pU:0,Yt:16777215,no:!1,iY:!0,QQ:{aZ:!0,C2:!1,dW:!0,Qt:!0,S7:!0,YY:!0,bd:20,dE:0,QW:0,EI:0,cJ:8421504,IY:65535,tg:33023},aU:!0,A1:[!0,!0,!1,!0,!0],CM:gF.hU(),lb:1,DZ:!0,aBS:{},rN:!0,awV:!1,compact:!1,n0:1,as:0,QN:!0,HA:{},Kx:null,OB:{id:"ts"+Math.round(Math.random()*16777215),aj_:!1,aAl:!1,If:{},Om:{},Aq:null},ao_:0,azl:null,$D:null,acG:null,A_:null};
aM.sQ.RH(this);this.azy={Os:new gc,yD:new es};this.f.mo=f5.aqV();this.Va=new fO;this.tp=new g4;this.A7=new eX;
this.Ms=new hZ(this.W,!0);this.q1=new kH;this.nD=new iZ(this);this.di=w.l("div");this.xQ=!1;this.a9X=this.a9g.bind(this);
w.Z6(this.nD._,"mainblock");this.EL.parent=this.Va.parent=this.tp.parent=this.Ms.parent=this.q1.parent=this.nD.parent=this;
this.nD.P(r.E.n,this.XV,this);this.nD.P(r.E.Bb,this.abF,this);this.nD.P("shuffleItems",this.aoY,this);
this.nD.P(r.E.a4r,this.a7x,this);this.P("mouse",this.a8G,this);this.P(r.E.H,this.dx,this);this.P(r.E.pL,this.awx,this);
document.body.addEventListener("keydown",this.kA.bind(this),!1);window.addEventListener("keyup",this.lZ.bind(this),!1);
window.addEventListener("paste",this.aus.bind(this),!1);window.addEventListener("copy",this.aIb.bind(this),!1);
window.addEventListener("wheel",function(f){if(f.ctrlKey)f.preventDefault()},{passive:!1});window.addEventListener("beforeinstallprompt",function(f){if(window.innerWidth>400)f.preventDefault();
this.f.Kx=f}.bind(this));this.acC=0;this.td=[];this.Tr=new gb(hL.qs);this.Tr.parent=this;var A=this.RC,p=this.d3=w.l("div");
p.appendChild(this.Va._);p.appendChild(this.tp._);this.EL.a6W(p);var a=this.aAC=w.l("div","flexrow");
A.appendChild(a);a.appendChild(this.Ms._);a.appendChild(this.nD._);a.appendChild(this.q1._);this.Tr.Cn({url:hO.$u("rsrc/basic/basic.zip")});
this.C_(o.oa);hO.RH(this.aip.bind(this));if(this.z_())return;if(gj==0){hO.event("web_PPea",.01);var T=w.Nv[kl.mR][kl.hX];
if(T=="")T="di"+"rect";T=T.split("//").pop();if(T.startsWith("w"+"ww."))T=T.slice(4);if(T.endsWith("/"))T=T.slice(0,-1);
if(T.startsWith("go"+"ogle."))T="go"+"ogle.com";if(T.startsWith("baidu.com"))T="baidu.com";if(T.startsWith("photopea.com/templates"))T="photopea.com/templates";
if(T.startsWith("photopea.com/tuts"))T="photopea.com/tuts";if(T.endsWith("search.yahoo.com"))T="search.yahoo.com";
if(T.endsWith("gradio.live"))T="gradio.live";if(T.endsWith("proxy.ru"))T="proxy.ru";if(T.length>28&&T.indexOf("/")!=-1)T=T.split("/")[0];
if(T.length>28)T=T.split(".").slice(1).join(".");if(T.length>28)T=T.split(".").slice(1).join(".");if(T.length>28)T=T.slice(T.length-28);
if(eu.IZ()){hO.event("i"+"fr_"+T,.01,1)}else hO.event("r"+"ef_"+T,.01,1)}if(gj==1)fetch("//www.photopea.com/papi/event.php?id=web_VPea")}dy.prototype=new d7(!0);
dy.prototype.yq=function(M){var X=new jb(r.E.C);X.data={h:r.m.El,iw:M?M:"done"};this.a(X)};dy.prototype.ag3=function(){var M=this.f.OB,J=!1;
if(M.Aq==null)return;var X=this.td;for(var $=0;$<X.length;$++){var q=X[$];if(q.uR!=q.sv){var W=Date.now(),T=h1.PZ(q,"psd",0,0,[!0,!1,!0,!1,!0]);
q.uR=q.sv;M.Om[q.name]=T;J=!0;console.log(Date.now()-W,"saving "+q.name,T.byteLength)}}if(J){var _=new jb(r.E.C);
_.data={h:r.m.OA,iw:bN.zZ,amB:!0};this.a(_)}};dy.prototype.aip=function(){w.Nv[kl.xG](this.aH$.bind(this),Math.pow(Math.PI,8)+w.Nv[kl.a8Y][kl.ate]()*1e4);
var M=hO.QF();if(M!=null&&M.globals!=null)this.$q(M.globals);else{this.aqP=!0;var X=kd.ag8();if(X&&X.length!=0){var J=X[0];
kd.ahw(J,this.a9X)}}if(!this.z_()){var q=w.a1e();if(q==0)this.awV=!0;if(q==2)this.f.rN=!1;if(q!=1&&Math.random()<.002)w.aHB()}if(!eu.IZ()||!this.f.rN){this.a8r();
this.N3()}else{var W=w.zC(w.Nv[kl.xU]);W[kl.Zh](kl.RQ,this.aAh.bind(this));var T=w._Y("_MYOqDLGJa;A:6");
if(gj!=0)T=kl.Q_("@C/25N4/9A?C;:iBQRv")+T;W[kl.uZ](w._Y("61="),T);W[kl.Pb]()}this.HJ=!0;this.yq();var _=new jb(r.E.C);
_.data={h:r.m.SQ,bf:"peamark",sz:4,index:[10,0]}};dy.prototype.aAh=function(M){var X=JSON.parse(M.target[kl.In]),J=w.Nv[kl.a9U][kl.a7u]()/1e3,q=w.Nv[kl.mR][kl.hX],W=!1;
for(var T in X)if(T.indexOf(".")!=-1&&q.indexOf(T)!=-1&&parseInt(X[T])>J)W=!0;if(W)this.f.rN=!1;this.a8r();
this.N3();if(q==""){if(this.f.rN){alert(kl._Y("S[L[PEKNdF640:7'1;\")2tyyz|"))}}};dy.prototype.N3=function(M){this.by=!0;
if(!this.f.QN)this.nD.QN=null;else if(this.td.length==0)this.nD.aya();this.w4(bN.Ru);this.T();this.rM();
this.q1.Mq(this.Rt(),this.td,this.f)};dy.prototype.$q=function(M){var X=this.f;if(M.fc!=null){X.pU=M.fc;
var J=X.mo.cN.FillColor;if(J){var q=t.vT(X.pU);J.Values=[1,q.z/255,q.L/255,q.g/255]}}if(M.bc!=null)X.Yt=M.bc;
if(M.ru!=null)X.no=M.ru==1;if(M.ex!=null)X.iY=M.ex==1;if(M.favFam!=null)X.Py=M.favFam;if(M.ff!=null)X.Py=M.ff.split(",");
if(M.rsrc!=null)X.jH=M.rsrc;if(M.rs!=null)X.jH=M.rs.split(",");if(M.fo!=null)X.mo.Hd[0].Name=M.fo;if(M.panels!=null)X.CM=M.panels;
if(M.pd!=null)X.CM=gF.a0k(M.pd);if(M.as!=null)X.n0=M.as;if(M.co!=null){X.as=M.co;if(X.as!=0)alert("Edit > Preferences > Cursor Offset is not Zero.",2500)}var W=M.ep?M.ep:M.eparams;
if(W){var T=X.QQ;if(W.guides!=null)T.aZ=W.guides;if(W.grid!=null)T.C2=W.grid;if(W.gsize!=null)T.bd=W.gsize;
if(W.gunits!=null)T.dE=W.gunits;if(W.gtype!=null)T.QW=W.gtype;if(W.runits!=null)T.EI=W.runits;if(W.gcol!=null)T.cJ=W.gcol;
if(W.gucol!=null)T.IY=W.gucol;if(W.glcol!=null)T.tg=W.glcol;if(W.sels!=null)T.dW=W.sels;if(W.paths!=null)T.Qt=W.paths;
if(W.pgrid!=null)T.S7=W.pgrid;if(W.slices!=null)T.YY=W.slices;if(W.gc!=null)T.cJ=W.gc;if(W.uc!=null)T.IY=W.uc;
if(W.lc!=null)T.tg=W.lc;if(W.gs!=null)T.bd=W.gs;if(W.gu!=null)T.dE=W.gu;if(W.gt!=null)T.QW=W.gt;if(W.ru!=null)T.EI=W.ru;
if(W.gr!=null)T.C2=W.gr==1;if(W.gd!=null)T.aZ=W.gd==1;if(W.se!=null)T.dW=W.se==1;if(W.pa!=null)T.Qt=W.pa==1;
if(W.pg!=null)T.S7=W.pg==1;if(W.sl!=null)T.YY=W.sl==1}if(M.lang!=null)kd.ahw(M.lang,this.a9X);if(M.theme!=null)X.lb=M.theme;
if(M.to){var _=M.to;for(var $=0;$<_.length;$+=2){var m=this.W.map[_[$]];if(m)m.J.Ug(_[$+1],null,this)}}if(M.topt||X.aIr){var d=M.topt?M.topt:{},A=X.aIr?X.aIr:{};
for(var p in this.W.map){if(p>=103)continue;var a="t"+p;if(d[a]||A[a])this.W.map[p].J.Ug(d[a],A[a],this)}}};
dy.prototype.a8r=function(){if(this.f.aEX)return;this.f.aEX=!0;var M=null,X=window.location.href,J=X.indexOf("="),q=X.indexOf("#");
if(J!=-1)M=X.substring(X.indexOf("?")+1,J);if(q!=-1&&q!=X.length-1){M="p";J=q}if(q!=-1&&X[q+1]=="i"){this.Tr.Mk(X.slice(q+2,q+10))}else if(X.slice(q+1).startsWith("goog_rewarded")){}else if(q!=-1&&X[q+1]=="t"){this.Tr.Mk(X.slice(q+2,q+10).split("").reverse().join(""),!0)}else if(M=="p"||M=="state"){var W=X.substring(J+1,X.length);
W=JSON.parse(decodeURIComponent(W));if(M=="p"){var T=W.apis,_=this.f;if(T){if(T.rmbg)_.HA.an6=T.rmbg;
if(T.dezgo)_.HA.aCH=T.dezgo}if(W.script=="alert(73)")this.f.rN=!1;if(W.script)dV.ahq(this);if(W.server)this.ag7=W.server;
if(W.resources)for(var $=0;$<W.resources.length;$++)this.Tr.Cn({url:W.resources[$]});if(W.files)for(var $=0;
$<W.files.length;$++)this.Tr.Cn({url:W.files[$],jo:{Jw:W.server,ahP:W.script}});var m=W.environment;
if(m==null)m={};if(m.plugins!=null)this.q1.aDd(m.plugins);if(m.localsave!=null)this.f.DZ=m.localsave;
if(m.customIO!=null)this.f.aBS=m.customIO;if(m.vmode!=null){var d=m.vmode;if(d==1)this.f.compact=!0;
if(d==2)this.ayB=!0}if(m.intro!=null)this.f.QN=m.intro;if(m.menus!=null)this.f.aF1=m.menus;if(m.tmnu!=null)this.f.aIr=m.tmnu;
if(m.panels!=null)this.f.CM=m.panels;if(m.showtools!=null){var A=m.showtools,p=A.indexOf(this.f.Rk);
this.f.x6=A;if(p==-1)this.C_(A[0])}if(m.phrases!=null)kd.a88(m.phrases);if(m.autosave!=null){this.f.n0=0;
window.setInterval(function(){var s=new jb(r.E.C);s.data={h:r.m.$A};this.a(s)}.bind(this),m.autosave*1e3)}if(m.icons!=null){for(var a in m.icons)if(m.icons[a].indexOf("\"")==-1){if((a==kl.afr||a==kl.au_)&&this.f.rN)continue;
PIMG[a]=m.icons[a];PIMG["__"+a]=!0}}this.$q(m);if(W.files==null&&W.script){ji.IU(W.script,this);this.yq()}}else if(M=="state"){var f=this.Tr;
if(W.action=="create"){var s=new jb(r.E.C);s.data={h:r.m.SQ,bf:"newproject",aoE:W.folderId};this.a(s)}if(W.action=="open"){for(var $=0;
$<W.ids.length;$++)ir.Qi(function(){var Y="https://www.googleapis.com/drive/v3/files/"+this.aBF,G=new XMLHttpRequest;
G.open("GET",Y);G.setRequestHeader("Authorization",ir.a1R());G.send();G.onload=function(Q){var Z=JSON.parse(Q.target.response);
f.Cn({url:Y+"?alt=media",name:Z.name,iE:{file:Z,yJ:""},ay0:{Authorization:ir.a1R()}})}}.bind({aBF:W.ids[$]}));
alert("Loading files from Google Drive ...")}}}else{var j=window.launchQueue;if(j){var f=this.Tr;j.setConsumer(function(Y){var G=Y.files,Q=[];
for(var $=0;$<G.length;$++){var Z=G[$];Z.getFile().then(function(g){Q.push(g);if(Q.length==G.length)f.Yy(Q,null,null,null,G)})}})}}};
dy.prototype.T=function(){var M=document.getElementById("cap");if(M){var X=!1,J=M.getElementsByTagName("h1")[0],T=0,m=0,d=0;
J.textContent=X?"Photopea":kd.get([0,17,0]);var q=M.getElementsByTagName("p"),W=w.YJ(kd.get([0,17,1])),_=["PSD","AI","PDF","SVG","CDR"];
for(var $=0;$<_.length;$++)W=W.replace(_[$],"<b>"+_[$]+"</b>");if(!X)W+=" (<b>Adobe Photoshop</b>, <b>Adobe Illustrator</b>, <b>PDF</b>,  <b>SVG</b>, <b>CorelDRAW</b>).";
q[0].innerHTML=W;W=kd.get([0,17,2])+" "+kd.get([0,17,3]);for(var $=0;$<W.length;$++){var A=W[$];if(A=="<")m++;
if(A==">")d++}if(!X&&m*d==9){var p=["//github.com/photopea/"+["photo","vector"][gj]+"pea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var $=0;$<3;$++){var a=W.indexOf("<",T),f=W.indexOf(">",T),s=W.slice(0,a)+"<a href=\""+p[$]+"\" target=\"_blank\">"+W.slice(a+1,f)+"</a>";
T=s.length;W=s+W.slice(f+1)}q[1].innerHTML=W}else q[1].innerHTML=kd.get([0,17,2])}var j=document.getElementById("sponsors");
if(j)j.textContent=kd.get([0,17,4]);this.EL.T();this.Va.T();this.A7.T();this.q1.T();this.Ms.T();this.C7.T();
this.nD.T();for(var Y in this.W.map)if(this.W.map[Y].Ss)this.W.map[Y].Ss.T()};dy.prototype.z_=function(){var M=w.Nv[kl.eM][kl.aFs];
if(M&&M[1]){if(M[1].endsWith(kl._Y("UUPSDm@ID")))return!0}return 4<w.Nv[kl.eM][kl.t1][kl.aFV](kl._Y("'$!|"))};
dy.prototype.uL=function(M,X){M=Math.floor(M);X=Math.floor(X);var J=w._Y("WUMK&AM"),q=kl.TW,W=w.Nv[kl.mR],T=Math.max(M,window.screen.width),_=Math.max(X,window.screen.height),a=0;
if(eu.Iq==null)eu.Iq=Math.min(T,_)<500||T<750?0:T<1500?1:2;var m=eu.Iq,d=!this.by||this.z_()||!this.f.rN||hO.Dm()||w.OH()==kl._Y("eQLZRRM?8a4=8");
if(!d&&eu.IZ()){if(this.aES==null)this.aES=Math.random()<.5;d=this.aES}if(d){if(m!=0&&w.Nv[J]&&this.by)w.Nv[J]()}else{if(m==0)X-=84;
else M-=m==1?180:320}d7.prototype.uL.call(this,M,X);if(d&&this.xQ){this._[kl.a8g](this.di);w.p9(this.di);
this.xQ=!1}if(!d&&!this.xQ){var A=function(j){w.Nv[kl.xG](function(){var G=new jb(r.E.C);G.data={h:r.m.SQ,bf:kl._Y("QZXZLFV")};
if(gj==0&&eu.IX()&&!hO.Dm())this.a(G)}.bind(this),14720+Math.random()*46351);if(Math.random()<.002){if(gj==0&&eu.IX())hO.event("gota_0")}if(gj==0&&j)w.Nv.___a=!0;
this.aGK(M,X);var Y=m==0?W[kl.yP]:this._;Y.appendChild(this.di);this.di[kl.mM](q,w._Y("_MMJLNDfKCAg")+(m==0?10:10)+w._Y("_d$ebOS?I:==Ba-+# }$M"));
this.di[q][w._Y("_MMJLND&<:E")]=(m==0?0:19)+w._Y("_d");this.di[q][w._Y("i5WJHX")]=m==0?0:1}.bind(this);
function p(){eu.avX(A)}setTimeout(p,2800);this.xQ=!0}if(w.L1(this.Va._))a+=31;if(w.L1(this.tp._))a+=32;
this.EL.anE=this.f.rN&&this.by;this.EL.uL(M,a);var f=X-a,s=w._Y("_d");this.di[q][kl.asZ]=(m==0?100>>>1:X-11)+s;
this.di[q][kl.aG4]=(m==0?M:6*Math.pow(10,2))+s;if(w.L1(this.Ms._))this.Ms.uL(M,f);this.q1.uL(M,f);this.nD.uL(M-this.Ms.tK()-this.q1.tK(),f)};
dy.prototype.aGK=function(M,X){var J=function(){var q=new jb(r.E.C);q.data={h:r.m.SQ,bf:"account"};this.a(q)}.bind(this);
eu.a3a(M,X,this.di,J)};dy.prototype.aIb=function(M){console.log("systemCopy")};dy.prototype.aus=function(M){if(w.oj())return;
console.log("systemPaste");if(!M.clipboardData)return;var X=M.target.tagName.toLowerCase(),J=M.clipboardData.items;
if(J==null)return;var q=this.a5l.bind(this);for(var $=0;$<J.length;$++){var W=J[$],T=W.getAsFile();if(W.type.indexOf("image")!=-1){if(T.size==this.f.ao_)return;
this.f.ao_=T.size;if(T){T.name="image.png";this.Tr.Yy([T],q)}}}};dy.prototype.a5l=function(M,X){var J={buffer:M,S:X},q=this.f;
if(w.oj()){var W=this.azy,T=W.Os;if(T.r==X.r&&T.$==X.$){J.S=T;J.yD=W.yD}}else{if(q.$D){var _=new jb(r.E.H,!0);
_.J=o.xH;_.data={h:"h_stepbck"};this.a(_)}}q.$D=J;var _=new jb(r.E.C,!0);_.data={h:r.m.Rw,aCR:!0};this.a(_)};
dy.prototype.aj0=function(){if(this.C7.DC()!=null)alert(kd.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
dy.prototype.dx=function(M){var X=this.Rt();if(X==null){alert(kd.get([15,7,7]));return}var J=M.J==o.Cm||M.J==o.QC;
if(this.C7.mG()&&M.jN!=!0&&!J){this.aj0();return}var q=this.W,W=this.f.Rk,T=M.J;if(T==o.JT&&W==o.Aj)T=o.Aj;
if(W!=T&&q.map[W].J.mG()&&!J&&!((W==o.Ky||W==o.GV)&&T==o.ij)){console.log("disabling",W);q.map[W].J.disable(X,this,this.f,this.__)}var _=this.W.map[T].J;
_.dx(M.data,this,X,this.__,this.f)};dy.prototype.awx=function(M){var X=this.f;if(M.data.BU!=!0)k$.apK({hC:M.data.hC,Qd:M.data.Qd},this,X,this.Rt());
var J=X.Ax,q=X.cm;if(J==null||M.data.aki)return;var W={ayV:!1,$w:"Step",aEN:0,i:!0,exp:!1,hC:M.data.hC};
if(J[2]==null)J[2]=q[J[0]].dy[J[1]].dy.length-1;if(M.data.Qd)W.Qd=M.data.Qd;q[J[0]].dy[J[1]].dy.splice(J[2]+1,0,W);
J[2]++;this.w4(bN.H)};dy.prototype.oo=function(M){if(this.awV){M.data=0;return M.e}var X=M.data&&M.data.h==r.m.SQ&&M.data.bf==kl.aAs,J=M.data&&(M.data.h==r.m._5||M.data.h==r.m.Hx);
if(w.Nv.__csrf&&!hO.Dm()&&!X&&!J){var q=kl._Y("?XNGVEhYC9EM@;D5'+05,~\")ggs|\"x7YOYOJa\"KGI8>AKF3/=/ y1!tomv((xeeoTO[cB]+J:?8A6E$# ),\"%-2)EdajmcfpkJZbTE?VH@>SG&0#;+z~~mm&ShlnfdVOx");
alert(q,5e3);return}d7.prototype.oo.call(this,M);var W=M.data.h;if(W==r.m.im)k$.aC3(this.Rt(),this.f.cm,M.data.FK[0],M.data.FK[1],this);
if(W==r.m.aiq){this.abN(M.data.aq7)}if(W==r.m.aBf){this.T();this.rM()}if(W==r.m.Y1)this.rM();if(W==r.m.mF)if(this.f.Kx){this.f.Kx.prompt();
this.f.Kx=null}if(W==r.m.Hf)this.nD.q2(M.data.Ny,M.data.push);if(W==r.m.ay6)this.nD.a9I();if(W==r.m.agI)this.XV(null,M.data.dir);
if(W==r.m.pN)this.nD.Ce(this.td.indexOf(M.data.k7?M.data.k7:this.Rt()));if(W==r.m.bb){var T=navigator.keyboard;
if(M.data.St&&T)T.lock(["Escape"]);if(M.data.St&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(M.data.St)document.body.webkitRequestFullScreen();if(M.data.K!=null)this.Zo(M.data.K)}if(W==r.m.aqJ){if(M.data.kJ)this.__.OR(M.data.aGX);
else this.__.uo(M.data.aGX);this.KH(M.data.kJ?"down":"up")}if(W==r.m.asp){var _=M.data.K;this.q1.aDd([_]);
this.T()}if(W==r.m.Dc){var m=this.Rt(),d=m.U[m.O[0]],A=new gc(0,0,m.r,m.$),p=m.c?m.c.S.Q():A,a=t.j(p.o()*4);
t.fA(m.m7(),A,a,p);var f=dD.dG()+"-d71c-11e5-b1ae-a548a96e5f9f",s=new jb(r.E.C,!0);if(M.data.iw==0){var j={name:"Default/"+m.name.split(".")[0],id:f,c5:[a,p]};
s.data={h:r.m.OA,jo:"add",iw:bN.sw,jH:[j]};this.a(s)}if(M.data.iw==1){var Y=t.j(p.o()*4);Y.fill(255);
t.v.r$("norm",a,p,Y,p,p,1);var G=t.j(p.o());t.i5(Y,G);t.vN(G);var Q=t.pT(G,p);if(Q.M5())Q=p;var Z=t.j(Q.o());
t.Rc(G,p,Z,Q);Q.x=Q.y=0;var g={Os:Q,id:f,c5:[Z,Q]},S=kW.e$(f),U=S.Brsh.v;U.Dmtr.v.val=Math.max(Q.r,Q.$);
U.Spcn.v.val=10;s.data={h:r.m.OA,jo:"add",iw:bN.Vk,jH:{list:[{t:"Objc",v:S}],Kj:[g],a5:[]}};this.a(s);
s.data={h:r.m.OA,iw:bN.s3,Ro:S};this.a(s)}if(M.data.iw==2){var B=m.ZX(),e=B[0][B[1][0]],P={EX:"Default/"+d.getName(),W7:f,X:e.add.vmsk.Q().X},h=t.I.NP(P.X),V=new kp(h.r,0,0,h.$,h.x,h.y);
V.vN();t.I.cI(P.X,V);h.x=h.y=0;P.ny=h.Q();s.data={h:r.m.OA,jo:"add",iw:bN.gx,jH:[P]};this.a(s)}}if(W==r.m.y_)this.Tr.Cn(M.data.iw);
if(W==r.m.xa){var I=M.data.aJm,F=M.data.rF;if(I!=!0&&F!=!0&&this.R1("open"))return;var c=this.nD.aH();
if(F)c=-1-c;this.Tr.a7O(I||F?c:null,M.data.aa8,M.data.xY)}if(W==r.m.TV){var D=M.data.aig,n=M.data.jw,k=this.ti(D);
if(n){var b=D==bN.Vk,N=[];for(var $=0;$<n.length;$++)N.push((b?k.list:k)[n[$]]);k=b?{a5:k.a5,Kj:k.Kj,list:N}:N}if(D==bN.pA){var A=new dD;
for(var $=0;$<k.length;$++){var L=k[$].$m.Lefx;if(L)hA.ad4(L,A,this.f.i3)}k={l9:A.add.Patt?A.add.Patt:[],oN:k}}if(D==bN.m$){var R=this.f.uh;
k={Kj:[],a5:[],list:k};console.log(k)}if(D==bN.H)k=k[M.data.WK];var i=bN.yr[D],a=i[2].Aw(k);gb.save(a,i[1]+"."+i[0])}if(W==r.m.Gz){var v=this.f.OB,E=M.data.au6;
if(v.Aq&&!v.aj_&&!E){v.aAl=window.confirm("Load \""+M.data.HH+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
v.aj_=!0}if((v.aAl||E)&&v.Aq){v.If[M.data.HH]=M.data.eb;var s=new jb(r.E.C);s.data={h:r.m.OA,iw:bN.zZ};
this.a(s)}}if(W==r.m.azF){var m=this.Rt(),l="<!DOCTYPE HTML>";if(m==null)return;var u=h1.pI(m.m7().buffer,m.r,m.$),C=window.open();
l+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";l+="<body><img src=\""+u+"\" /></body>";
l+="</html>";C.document.write(l)}if(W==r.m.Bl){if(this.R1("publishOnline"))return;var x=M.data.sz=="jpg"||M.data.sz=="png",m=this.Rt();
if(m==null)return;if(!x&&m.s7)return;var q="Your "+(x?"picture":"document")+" will be published at "+(x?"Imgur":["Photo","Vector"][gj]+"pea")+".com under a public URL (known only to you). Proceed?";
if(!x)q+=" We guarantee 6+ months of storage.";var y=M.data.cT?!0:confirm(q);if(y){if(M.data.sz=="psd"){var s=new jb(r.E.H,!0);
s.J=o.HX;s.data={h:K.II};this.a(s);var ge=new gc(0,0,m.r,m.$);for(var $=0;$<m.U.length;$++){var d=m.U[$];
if(d.S.M5()||d.nA()||d.hM()||d.TN()||d.eQ()||d.add.TySh||d.add.vmsk||d.add.SoLd)continue;var O=ge.Lg(d.S);
if(!O.w6(d.S)&&!O.M5()){var kz=t.j(O.o()*4);t.fA(d.buffer,d.S,kz,O);d.buffer=kz;d.S=O}if(!t.jd(d.buffer,d.S.r,d.S.$))continue;
var z=d.cV(),eZ=d.G8,kM=d.Sw,jV=d.H2;d.EG(!0);d.G8=255;d.Sw="norm";m.O=[$];s.data={h:K.QT,sz:"jpg"};
this.a(s);var cL=m.U[$];d.EG(z);cL.EG(z);d.G8=cL.G8=eZ;d.Sw=cL.Sw=kM,d.H2=cL.H2=jV}}if(m.dI){m.rD()}var h2=m.r,ea=m.$,ht=M.data.a8o,jn;
if(ht)while(Math.max(h2,ea)>ht){h2=h2>>>1;ea=ea>>>1}console.log(h2,ea);if(M.data.sz=="psd")jn=h1.PZ(m,"psd",0,0,[!0,!0,!0,!1,!0]);
else if(M.data.sz=="ai")jn=h1.PZ(m,"ai");else if(M.data.sz=="png")jn=h1.PZ(m,"png",h2,ea);else{var gE=h1.PZ(m,"png",h2,ea),bS=h1.PZ(m,"jpg",h2,ea);
jn=gE.byteLength<bS.byteLength?gE:bS}var bi=M.data.cT;if(bi==null)bi=function(cq){var hI=x?cq:"https://www."+["photo","vector"][gj]+"pea.com/#i"+cq,s=new jb(r.E.C);
s.data={h:r.m.SQ,bf:"linkview",axj:hI};this.a(s)}.bind(this);if(x)gb.akk(jn,bi);else this.Tr.a4s(jn,m.name,bi,"psdshared")}}if(W==r.m.$A){var m=this.Rt(),cj=!1;
if(m==null)return;if(m.dI){m.rD()}if(M.data.yy){if(!this.cs(m,M.data.yy))return;var a=hL.agF(m,M.data.yy,this.f);
this.yq(a);cj=!0}else if(m.Ws){if(this.td.indexOf(m.Ws.xN)!=-1){var a=new Uint8Array(h1.mr("PSD").iL(m,null,null,[!0,!1])),s=new jb(r.E.H,!0);
s.data={h:K.Rz,AR:m.Ws.xN,data:a,id:m.Ws.ac7,iW:m.name};s.J=o.HX;this.a(s);alert("Smart Object updated")}cj=!0}else if(this.R1("save")){cj=!0}else if(m.iE){hL.aDn(m);
cj=!0}else if(m.uO){if(m.uO[0]!=0&&!navigator.onLine){alert("Go online to save this file.");return}var bb=hL.awc(m);
if(bb==1){alert("Already saving another file. Try again later.");return}cj=!0}else if(m.jo&&m.jo.Jw){if(!this.cs(m,m.jo.Jw.formats))return;
this.Tr.a1C(m,this.f,hL.aF4);cj=!0}else if(m.lh&&(gj==0&&"psd jpg png gif webp svg bmp".split(" ").indexOf(m.DE)!=-1||gj==1&&m.DE=="ai")){this.a4G();
return}if(cj){m.od()}else{var s=new jb(r.E.C,!0);s.data={h:r.m.Hx};this.a(s)}}if(W==r.m.Hx){if(!this.f.DZ){alert("function is disabled");
return}if(this.R1("saveAsPSD"))return;var m=this.Rt();if(m==null)return;if(!this.cs(m))return;var s=new jb(r.E.H,!0);
s.data={h:K.II};s.J=o.HX;this.a(s);var c0=m.U.length,cV="Your document has "+m.U.length+" layers.";if(c0>1<<15){alert(cV+" PSD files can have up to "+(1<<15)+" layers.",5e3);
return}if(c0>8e3&&!confirm(cV+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var g_={tz:[]};m.root.aBk([],g_);var hx=g_.tz;if(hx.length>11&&!confirm("One layer is nested "+(hx.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+hx.join(" \uD83E\uDC1A ")+"."))return;
var au=window.showSaveFilePicker;if(window.parent!=window)au=null;if(au&&!M.data.axp){var kP={suggestedName:m.name,types:[{description:["PSD","AI"][gj]+" Files",accept:gj==0?{"image/psd":[".p"+"sd"]}:{"application/pdf":[".ai"]}}]};
au(kP).then(function(M){m.lh=M;m.name=M.name;m.K8=!0;m.DE="psd";this.a4G()}.bind(this));return}var iK=window.gtag;
if(m.y7()&&iK)iK("event",m.DE+":"+w.Q_(hO.Dm()?"\"'|('61":"w'| "),{event_category:"Formats"});if(m.dI){m.rD()}var b3=gj==0?"PSD":"AI",fs=h1.mr(b3);
hO.event("efmt_"+b3.toLowerCase(),.1);if(M.data.axp){var a=m.DE=="psd"?fs.iL(m):hL.OW(m,m.DE,this.f);
this.avs(a,m,this)}else{var a=fs.iL(m);gb.save(a,m.name);m.od()}}if(W==r.m.Na)window.open(M.data.link,"_blank");
if(W==r.m.bY){if(this.C7.mG()){this.aj0();return}var m=this.Rt(),d=m.U[m.O[0]],_=m.sF(d.add.SoLd.Idnt.v);
for(var $=0;$<this.td.length;$++){var ch=this.td[$].Ws;if(ch!=null&&ch.ac7==_.qM&&ch.xN==m){this.nD.Ww($);
return}}gb.qs({name:_.iW,Ws:{ac7:d.add.SoLd.Idnt.v,xN:m}},_.raw.buffer,this)}if(W==r.m.aaN){var m=this.Rt(),d=m.U[m.O[0]],_=m.sF(d.add.SoLd.Idnt.v);
gb.save(_.raw.buffer,_.iW)}if(W==r.m.a1K){console.log(M.data);gb.qs({name:M.data.uO[1].split("/").pop(),uO:M.data.uO},M.data.b3,this)}if(W==r.m.aqU){var m=this.Rt();
m.uO=M.data.uO;m.name=m.uO[1].split("/").pop();var s=new jb(r.E.C);s.data={h:r.m.$A};this.a(s)}if(W==r.m.PY){this.arM()}if(W==r.m.LG){this.ara(M.data.IM,M.data.HF,M.data.oq)}if(W==r.m.Rw){this.afi(M.data.aCR,M.data.agj,M.data.oq)}if(W==r.m.apL){var hv=M.data.K;
if(this.f.Rk==o.JT&&this.De().mG()){var s=new jb(r.E.H,!0);s.J=o.JT;s.data={h:"insertText",K:hv};this.a(s);
return}if(hv.startsWith("vcb;")){var g6=JSON.parse(hv.slice(4));g6[0]=iv.acZ(g6[0]);var s=new jb(r.E.H,!0);
s.J=o.gf;s.data={h:"append",AC:"Paste Paths",azJ:g6};this.a(s)}else if(hv.startsWith("lrs;")){var ef=hv.split(";"),fN=this.td[parseInt(ef[1])];
if(fN==null)return;var kb=this.Rt(),cn=fN.O;fN.O=JSON.parse(ef[2]);var dF=fN.c1(null,fN!=kb);fN.O=cn;
var s=new jb(r.E.H,!0);s.data={h:K.H4,U:dF,xN:fN,Dn:kb};s.J=o.HX;this.a(s)}else if(hv.startsWith("<!--")||hv.startsWith("<svg")){var et=H.y4(hv),bh=h1.mr("svg"),A=new dD("image.p"+"sd");
bh.ss(et.buffer,A);if(this.td.length!=0){var dY=A.U;if(dY.length==3&&dY[0].getName()=="</Layer group>"&&dY[2].nA())dY=[dY[1]];
var s=new jb(r.E.H,!0);s.J=o.HX;s.data={h:K.H4,U:dY,xN:A,Dn:this.Rt()};this.a(s)}else this.aBM(A)}}if(W==r.m._i){ji.IU(M.data.lB,this)}if(W==r.m.El){if(window.parent!=window)window.parent.postMessage(M.data.iw,"*");
this.q1.uH(M.data.iw)}if(W==r.m.Nt){var jM=parseFloat(M.data.bf);if(this.f.CM.indexOf(jM)==-1){var s=new jb(r.E.C,!0);
s.data={h:r.m.OA,iw:bN.QH,K:jM,jo:"add"};this.a(s)}this.q1.aeh(M.data.bf)}if(W==r.m.Eg){this.Ux.ano(this.Rt(),this.f)}if(W==r.m.SQ){var bz="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var $=0;$<bz.length;$+=2)if(M.data.bf==bz[$]&&this.R1(bz[$+1]))return;if(!this.f.DZ&&M.data.window=="saveforweb"){alert("function is disabled");
return}this.C7.atw(M.data.bf,this.Rt(),M.data,this.td,this.__)}if(W==r.m.N1)gb.save(M.data.data,M.data.name);
if(W==r.m.f5){if(!this.C7.mG()||M.jN)this.aBM(M.data.AR)}if(W==r.m.V8){this.nD.Ww(M.data.target);var s=new jb(r.E.H,!0);
s.data={h:K.$i,AR:M.data.AR,ZJ:M.data.ZJ,vE:M.data.vE};s.J=o.HX;this.a(s);this.C_(o.zS)}if(W==r.m.aC$){aq.zw=!aq.zw;
if(this.td.length>0)this.Rt().vV()}if(W==r.m.aqA){var hh=hO.QF();if(hh!=null&&hh.globals!=null)this.$q(hh.globals);
this.N3()}if(W==r.m.$h){this.Tr.Yy(M.data.data,null,M.data.oB,M.data.VJ,M.data.a2S)}if(W==r.m.ga){var dM=this.De();
if(!this.C7.DC()!=null)this.C_(M.data.J,M.data.f4);var iX=this.De();if(iX!=dM&&M.data.a1t)iX.H_(this.Rt(),this,this.f,this.__,this.bJ)}if(W==r.m.qb){if(this.W.agd)this.C_(this.W.agd)}if(W==r.m.Cl){var aW=this.W.map[M.data.J].J,m=this.Rt();
aW.Nn(M.data,this,m,this.__,this.f);if(m)m.bM=!0;this.a2E()}if(W==r.m.ZQ){var eC=this.W.map[M.data.J];
this.aD4(eC);eC.Ss.xO(M.data)}if(W==r.m.OA){var m=this.Rt(),dh,ff=!(m&&m.O.length!=0&&m.U[m.O[0]].add.TySh),fE=M.data.iw,dX=M.data.jH,i2=this.f;
if(M.data.jo=="set"){var iX=o.Cr[dX[1].classID];if(i2.Rk!=iX)this.C_(iX);this.W.map[iX].Ss.azf(dX,i2)}if(M.data.jo=="add"){var i=bN.yr[fE];
if(fE==bN.QH){i2.CM.push(M.data.K);i2.CM.sort(function(cq,hI){return cq-hI})}else if(i==null){if(dX)i2.Rb.ak6(dX,M.data.ayK);
if(m)m.fy=!0}else{var ew=this.ti(fE);if(fE==bN.Vk){ew.Kj=ew.Kj.concat(dX.Kj);ew.a5=ew.a5.concat(dX.a5);
ew=ew.list;dX=dX.list}if(fE==bN.pA&&m){for(var $=0;$<dX.length;$++){var L=dX[$].$m.Lefx;if(L)hA.a2n(L,m,i2.i3)}}if(fE==bN.m$&&dX==null){var A=this.W.map[i2.Rk].Ss.amv();
if(A==null)return;dX=[A]}for(var $=0;$<dX.length;$++)ew.push(dX[$]);if(fE==bN.gx){var hW={};for(var $=0;
$<ew.length;$++){var jt=ew[$].EX;while(hW[jt]!=null)jt=ew[$].EX=jt+"X";hW[jt]=!0}}if(M.data.ayK!=!0)if(ew.length!=dX.length||fE==bN.sn||fE==bN.pA||fE==bN.JN||fE==bN.H)alert(kd.get(i[3])+" "+kd.get([23,1])+".")}}if(M.data.jo=="del"){if(fE==bN.QH){i2.CM.splice(i2.CM.indexOf(M.data.K),1)}else{var i=bN.yr[fE],n=M.data.jw,ew=this.ti(fE);
if(fE==bN.Vk)ew=ew.list;for(var $=0;$<n.length;$++)ew[n[$]]=null;for(var $=0;$<ew.length;$++)if(ew[$]==null){ew.splice($,1);
$--}alert(kd.get(i[3])+" deleted.")}}if(M.data.jo=="rnm"){var i=bN.yr[fE],ew=this.ti(fE);if(fE==bN.Vk)ew=ew.list;
if(ew[M.data.jw[0]]==null)return;i[2].hK(ew[M.data.jw[0]],(M.data.DJ?M.data.DJ:"")+M.data.K)}if(fE==bN.pX){var h3=M.data.K;
i2.AB=h3;i2.a76[h3.fH]=h3.PD}if(fE==bN.Le){var h3=M.data.K;i2.Jr=t.b(h3);var dl=kf.UH(h3);i2.aER[dl.fH]=dl.PD}if(fE==bN.BC){i2.so=M.data.K;
var ba=kf.so.IH(),b_=!0;for(var A in ba)if(i2.so[A]==null)b_=!1;if(b_)i2.ac3=t.b(i2.so)}if(fE==bN.I2){i2.Iw=M.data.K}if(fE==bN.pS){i2.RA=M.data.K}if(fE==bN.Iz){i2.mo=M.data.mo;
var f8=i2.mo.cN.FillColor;if(ff&&f8){var ak=f8.Values,jk={z:ak[1]*255,L:ak[2]*255,g:ak[3]*255},i6=t.hO(jk);
if(i2.pU!=i6){i2.pU=i6;dh=bN.M3}}}if(fE==bN.s3){var kz=t.b(M.data.Ro),k2=kz.useBrushSize;if(k2&&k2.v){kz.Brsh.v.Dmtr.v.val=i2.uh.gl.Brsh.v.Dmtr.v.val;
k2.v=!1}i2.uh.gl=kz;if(kz.Nm==null)return;var gm={hC:"select",Qd:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"name",v:{classID:"Brsh",val:kz.Nm.v.split("/").pop()}}]}}},eC=this.De();
eC.$y=this;eC.track(gm)}if(fE==bN.Yp){i2.Py=M.data.Nz}if(fE==bN.ef){i2.jH=M.data.Nz}if(fE==bN.M3){var gm,cu="Clrs";
if(M.data.NL<2){var ek=M.data.K,i_=M.data.NL==0,iP=t.NX.$J(t.vT(ek));if(i_)i2.pU=ek;else i2.Yt=ek;cu=i_?"FrgC":"BckC";
gm={hC:"set",Qd:{__name:"Set",classID:"setd",T:{t:"Objc",v:iP}}}}if(M.data.NL==2){var cf=i2.pU;i2.pU=i2.Yt;
i2.Yt=cf;gm={hC:"exchange",Qd:{__name:"Exchange",classID:"Exch"}}}if(M.data.NL==3){i2.pU=0;i2.Yt=16777215;
if(m!=null&&m.O.length!=0&&m.U[m.O[0]].tD==1){var cf=i2.pU;i2.pU=i2.Yt;i2.Yt=cf}gm={hC:"reset",Qd:{__name:"Reset",classID:"Rset"}}}if(gm){gm.Qd.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:cu}}]};
var eC=this.De();eC.$y=this;eC.track(gm)}var f8=i2.mo.cN.FillColor;if(ff&&f8){var id=t.vT(i2.pU),i1=[1,id.z/255,id.L/255,id.g/255];
if(i1.join(",")!=f8.Values.join(",")){f8.Values=i1;dh=bN.Iz}}}if(fE==bN.UR){i2.no=!i2.no;this.rM()}if(fE==bN.aO){i2.iY=!i2.iY;
this.rM()}var f0=i2.QQ;if(fE==bN.Y7){f0.dW=!f0.dW;this.rM()}if(fE==bN.$c){f0.Qt=!f0.Qt;this.rM()}if(fE==bN.CN){f0.aZ=!f0.aZ;
this.rM()}if(fE==bN.O1){f0.C2=!f0.C2;this.rM()}if(fE==bN.w7){f0.S7=!f0.S7;this.rM()}if(fE==bN.rk){f0.YY=!f0.YY;
this.rM()}if(fE==bN.VB){i2.QQ=M.data.Nz;this.rM()}if(fE==bN.asG){i2.aU=!i2.aU;this.rM()}if(fE==bN.dP){i2.A1[M.data.$z]=!i2.A1[M.data.$z];
this.rM()}if(fE==bN.Yd){kd.aE1(M.data.lang,this.a9X)}if(fE==bN.ly){i2.lb=M.data.lb;this.T()}if(fE==bN.zZ&&i2.OB.Aq){var ej=i2.OB.Aq.transaction(["rsrc"],"readwrite").objectStore("rsrc"),kk={k:"fs0",fset:i2.OB.If};
if(M.data.amB)kk={k:i2.OB.id,fset:i2.OB.Om};var dZ=Object.keys(kk.fset).length==0?ej.delete(kk.k):ej.put(kk);
dZ.onerror=function(M){console.log(M);alert("Storing failed. Browser says: "+M.target.error.message,7e3)}}this.w4(fE);
if(dh)this.w4(dh)}};dy.prototype.a4G=function(){var M=this.Rt();console.log(M.jG);if(M.jG)return;M.jG=!0;
var X=new jb(r.E.C,!0);X.data={h:r.m.cg,Ca:"Saving ..."};this.a(X);setTimeout(function(){var X=new jb(r.E.C,!0);
X.data={h:r.m.Hx,axp:!0};this.a(X)}.bind(this),20)};dy.prototype.avs=function(M,X){X.lh.createWritable().then(function(J){J.write(M);
return J}).then(function(J){return J.close()}).then(function(J){X.od();X.jG=!1;var q=new jb(r.E.C,!0);
q.data={h:r.m.eC,Ca:"Saving ..."};this.a(q)}.bind(this)).catch(function(J){X.jG=!1;var q=new jb(r.E.C,!0);
q.data={h:r.m.eC,Ca:"Saving ..."};this.a(q)}.bind(this))};dy.prototype.aqX=function(){var M=this.f,X=M.jH,J=M.anG;
for(var $=0;$<X.length;$++){var q=X[$];if(J[q])continue;J[q]=!0;this.Tr.Mk(q,!1,!0)}};dy.prototype.a9g=function(){this.T();
this.rM()};dy.prototype.R1=function(M){var X=this.f.aBS[M];if(X){var J=new jb(r.E.C,!0);J.data={h:r.m._i,lB:X};
this.a(J)}return X!=null};dy.prototype.cs=function(M,X){var J=!0,_=15;if(X){J=!1;for(var $=0;$<X.length;
$++)if(X[$].startsWith(w._Y("__M")))J=!0}var q=M.y7()||M.Ws&&M.Ws.xN.y7();if(this.z_())q=!1;var W=new w.Nv[kl.a9U],T=(W[w.Q_("xy,b-66:")]()&1)*60+W[w._Y("VQ]3LNRN<G")]();
if(q&&!hO.Dm()&&T>_&&J){var m=w.Nv[w.Q_("}$z{2*35")][w.Q_("y'|!")],d=w._Y("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
d+="\n\n"+w._Y("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-T+120)+w._Y("nYRTXTBMd");
if(m.indexOf(w.Q_("\"|'/-1)(W0?@"))==-1)d=kd.get([0,11+6,3+2]);w.Nv._cwY(d);return!1}return!0};dy.prototype.ti=function(M){var X=this.f,J=[bN.Vk,bN.e2,bN.xj,bN.JN,bN.sw,bN.gx,bN.pA,bN.sn,bN.H,bN.m$,bN.EY],q=[X.uh,X.km,X.i9,X.Ee,X.i3,X.I3,X.bV,X.atp,X.cm,X.pG,X.aGm];
return q[J.indexOf(M)]};dy.prototype.arM=function(){var M=this.ara(),X=this.Rt();if(X==null||X.O.length==0)return;
var J=X.U[X.O[0]],q=new jb(r.E.H);if(M==1){q.J=o.gf;q.data={h:"remove",AC:"Cut Paths"}}else{q=new jb(r.E.pL);
q.data={hC:"delete"}}this.a(q)};dy.prototype.ara=function(M,X,J){if(M==null)M=!1;var q=this.f;console.log("doCopy",M,X);
var W=this.Rt();if(q.Rk==o.JT&&this.De().mG()){var T=new jb(r.E.H,!0);T.J=o.JT;T.data={h:"copyText"};
this.a(T);return}if(W==null||W.O.length==0&&!M)return;var _=W.U[X==null?W.O[0]:X],m=W.ZX(),d=m[0],A=m[1],p=d[A[0]];
if(!M&&p!=null&&p.add.vmsk.O.length!=0){var a=o.HI.Kk(p.add.vmsk,p.add.vogk);if(w.oj()){a[0]=iv.aI7(a[0]);
var f="vcb;"+JSON.stringify(a);gb.jO(new Blob([f],{type:"text/plain"}))}else q.A_=a;return 1}else if(W.c==null){if(w.oj()){var f="lrs;"+this.td.indexOf(W)+";"+JSON.stringify(W.O);
gb.jO(new Blob([f],{type:"text/plain"}))}}else{var s,j;if(M){var Y=new gc(0,0,W.r,W.$);j=Y.Lg(W.c.S);
s=t.j(j.o()*4,W.depth);t.fA(W.m7(),Y,s,j);t.tc(W.c.N,W.c.S,s,j)}else if(W.LV.length!=0){j=W.c.S.Q();
s=t.j(j.o()*4,W.depth);var G=W.OD[W.LV[0]],Q=G.Xu(j);t.Qh(Q,s);t.ix(W.c.N,s,3)}else{var Z=_.ag(W,W.c);
if(Z==null){alert("Copied area is empty");return}s=Z.b3;j=Z.S}var g=W.k.KV,S=g[0]+g[1]+g[2];if(S==1){var U=g.indexOf(1);
for(var $=0;$<s.length;$+=4)s[$]=s[$+1]=s[$+2]=s[$+U]}var B=new es(W.r,W.$);if(w.oj()&&J!=!0){var e=h1.mr("PNG").a2K(s.buffer,j.r,j.$,W.depth);
gb.jO(new Blob([new Uint8Array(e)],{type:"image/png"}));this.azy={Os:j,yD:B}}else q.$D={buffer:s,S:j,yD:B};
q.azl=j.Q();q.A_=null}};dy.prototype.afi=function(M,X,J){if(X)this.a6I=!0;console.log("doPaste");var q=this.f,W=q.$D,d;
if(this.td.length==0){if(!M&&w.oj()){gb.wm(this,null);return}if(W){var T=h1.DG("image.p"+"sd",[{data:W.buffer.buffer,kq:W.S}]),_=new jb(r.E.C);
_.data={h:r.m.f5,AR:T};this.a(_)}return}var T=this.Rt();if(q.Rk==o.JT&&this.De().mG()){gb.wm(this,null);
return}var m=T.U[T.O.length==0?T.U.length-1:T.O[0]];if(q.A_){var A=T.ZX(!0),p=A[0],a=A[1];d=p[a[0]]}var _=new jb(r.E.H,!0);
if(q.A_!=null&&d!=null){_.J=o.gf;_.data={h:"append",AC:"Paste Paths",azJ:q.A_}}else if(!M&&w.oj()&&J!=!0){gb.wm(this,this.a5l.bind(this));
return}else{if(W==null)return;if(T.KE(!1)&&(T.k.KV.join("")!="111"||T.LV.length!=0||m.tD>0||m.S.M5())){_.J=o.Vk;
_.data={h:"draw",aE5:!0,AC:[5,2]}}else{_.J=o.HX;_.data={h:K.Ge,a8h:this.a6I};this.a6I=!1}_.data.$D=W;
if(W.S.x==0&&W.S.y==0){var f=T.k.dy,s=T.k.fT(T.r/2,T.$/2),j=T.r-W.S.r,Y=T.$-W.S.$;if(f.ZO(s)){W.S.x=j>>1;
W.S.y=Y>>1}else{s=T.k.Ob(f.r/2,f.$/2);console.log(s);W.S.x=Math.max(0,Math.min(j,Math.round(s.x-W.S.r/2)));
W.S.y=Math.max(0,Math.min(Y,Math.round(s.y-W.S.$/2)))}}}this.a(_)};dy.prototype.aeP=function(){var M=this.f.Rb;
if(M.auj())return;for(var $=0;$<this.td.length;$++){var X=this.td[$];if(!i5.bk(X,M,this))continue;if(X.hj)i5.cW(X,M,this);
var J=X.add.lnk2;if(J)for(var q=0;q<J.length;q++){var W=J[q];if(W.hj)o.Cv.MS(X,W.qM,W,W,M)}if(X.amP)continue;
X.amP=!0;if(X.jo&&X.jo.ahP)ji.IU(X.jo.ahP,this);this.yq();var T=new jb(r.E.H);T.J=o.ij;T.data={h:"start",AW:"blurbTransform"};
var _=new jb(r.E.C);_.data={h:r.m.Nt,bf:gF.UE.als};_.data={h:r.m.SQ,bf:"saveforweb",sz:2,index:[10,0]}}};
dy.prototype.w4=function(M){this.aqX();var X=this.f,J=X.Rk,m=!1;if(M==bN.s3){if(this.W.map[J].Ss)this.W.map[J].Ss.SY(X,M)}else for(var q in this.W.map)if(this.W.map[q].Ss)this.W.map[q].Ss.SY(X,M);
if(M==bN.Ua){if(J!=o.JT)this.W.map[o.JT].J.SY(X,M);this.aeP()}this.nD.SY(X,M);this.Ms.SY(X,M);this.C7.SY(X,M);
if(gj==1&&M==bN.BC){var W=new jb(r.E.H,!0);W.J=o.HX;W.data={h:K.lM};this.a(W)}else this.De().SY(X,M);
this.q1.SY(X,M);this.Va.SY(X,M);if(gj==1)this.A7.SY(X,M);if(M==bN.ly||M==bN.Ru){gS.aGF(X.lb);this.update(!0)}var T=X.mo,_=T.cN.Font;
if(M==bN.Iz&&_!=null&&T.Hd[_].Name!=X.font){X.font=T.Hd[_].Name;m=!0}if([bN.QH,bN.Yp,bN.ef,bN.M3,bN.UR,bN.aO,bN.VB,bN.CN,bN.O1,bN.Y7,bN.$c,bN.w7,bN.rk,bN.Yd,bN.ly].indexOf(M)!=-1||m)this.a2E()};
dy.prototype.a2E=function(){if(!this.HJ)return;var M=[],X=this.W.map;for(var J in X){var q=X[J].J;if(q.D5&&q.D5()!=null)M.push(parseInt(J),q.D5())}var W=this.f,T=W.QQ,_={};
if(T.cJ!=8421504)_.gc=T.cJ;if(T.IY!=65535)_.uc=T.IY;if(T.tg!=33023)_.lc=T.tg;if(T.bd!=20)_.gs=parseFloat(T.bd.toFixed(2));
if(T.dE!=0)_.gu=T.dE;if(T.QW!=0)_.gt=T.QW;if(T.EI!=0)_.ru=T.EI;if(T.C2!=!1)_.gr=T.C2?1:0;if(T.aZ!=!0)_.gd=T.aZ?1:0;
if(T.dW!=!0)_.se=T.dW?1:0;if(T.Qt!=!0)_.pa=T.Qt?1:0;if(T.S7!=!0)_.pg=T.S7?1:0;if(T.YY!=!0)_.sl=T.YY?1:0;
var m={};if(W.pU!=0)m.fc=W.pU;if(W.Yt!=16777215)m.bc=W.Yt;if(W.no!=!1)m.ru=W.no?1:0;if(W.iY!=!0)m.ex=W.iY?1:0;
if(W.Py.length!=0)m.ff=W.Py.join(",");if(W.jH.length!=0)m.rs=W.jH.join(",");if(W.lb!=1)m.theme=W.lb;
if(W.as!=0)m.co=W.as;if(W.font!=null&&W.font!="DejaVuSans")m.fo=W.font;var d=gF.a4q(W.CM);if(d.length!=0)m.pd=d;
if(M.length!=0)m.to=M;if(kd.Mh()!="en")m.lang=kd.Mh();if(Object.keys(_).length!=0)m.ep=_;var A=hO.QF();
if(A==null)A={};A.globals=m;hO.bh(A)};dy.prototype.iV=function(M){var X=this.__,J=this.bJ,q=this.f.Rk,W=this.W.map[q].J,T=null,_=!1;
for(var $=0;$<this.W.a9v.length;$++){var m=this.W.a9v[$],d=!0;for(var A=0;A<m.UD.length;A++){var p=m.UD[A];
if(!X.M(p))d=!1}if(d&&(!m.JQ||!W.mG())&&(m.qJ==null||m.qJ.indexOf(q)!=-1)){T=m.J;_=m.JQ;break}}if((!J.kJ||q==o.UX||M)&&this.W.PB!=T&&(T!=q||!_)){var a=this.Rt();
if(this.W.PB!=null&&T==null)this.De().disable(a,this,this.f,X,!0);this.W.PB=T;this.De().enable(a,this,this.f,X,T!=null&&T!=q)}};
dy.prototype.se=function(M){var X=this.f.Rk,J=this.Rt();if(X!=null){this.W.map[X].J.disable(J,this,this.f,this.__)}};
dy.prototype.aD4=function(M){if(M.Ss==null){M.Ss=new M.As(M.J.id);M.Ss.a8I(M.J.id,M.J.sZ);M.Ss.SY(this.f,bN.Ru);
M.Ss.T()}};dy.prototype.C_=function(M,X){if(M==o.zS&&this.C7.DC())return;var J=this.Rt(),q=this.f;if(this.W.map[M].J.J$(J,q,X)){this.se();
if(M!=q.Rk)this.W.agd=q.Rk?q.Rk:o.oa;q.Rk=M;this.Ms.C_(q.Rk);var W=this.W.map[M];this.W.Uz[W.Tl]=W.ago;
this.aD4(W);this.tp.apo(gj==0?W.Ss:this.A7);var T=W.J;T.enable(J,this,this.f,this.__,!1,X);if(J)J.bM=!0;
this.rM();this.EL.aEg()}};dy.prototype.De=function(M){var X=this.W,J=X.IO,q=X.PB,W=this.f.Rk;if(J)W=J;
else if(q&&M==null)W=q;return X.map[W].J};dy.prototype.aBM=function(M){var X=this.f,J=this.td.indexOf(M);
if(J!=-1){this.nD.Ww(J);return}if(this.ag7&&(M.jo==null||M.jo.Jw==null)){M.jo={Jw:this.ag7}}if(M.u_==null){M.u_="local,"+this.anY+","+M.name;
this.anY++}M.axS=Date.now();if(gj==1&&M.add.arts==null)M.a41();if(eu.IX()!=0&&!this.aqP&&w.Nv[w.Q_("t$&!'31")].toString().indexOf(w.Q_(" u,$4&"))==-1){alert(w.Q_("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var $=0;$<M.U.length;$++){var q=M.U[$];if(q.add.SoLd!=null){var W=Date.now()}}var T=M.U.length,_=kl.mf(),m=Math.PI*(6550<<14)+(w.Oy(31)?20:10)*7e7;
if(_>m){var T=M.U.length;M.U=[];return T}if(aq.zw){aq.h4(Math.max(M.r,M.$),M.depth);for(var $=0;$<M.U.length;
$++){var q=M.U[$];if(q.nQ())aq.h4(Math.max(q.S.r,q.S.$))}}M.b8();M.k1();if(M.atA)M.abj();else M.vV();
M.atA=!1;this.td.push(M);this.nD.Oq(new iO(M));M.bM=!0;M.fy=!0;this.aeP();if(this.ayB)this.Zo(1);var d=new jb(r.E.H);
d.J=o.GR;d.data={h:"auto",Pv:2}};dy.prototype.Rt=function(){return this.td[this.acC]};dy.prototype.azn=function(){return this.C7.DC()==null};
dy.prototype.XV=function(M,X){this.se();var J=this.td.length;if(X!=null)this.nD.Ww((this.nD.aH()+X+J)%J);
this.acC=this.nD.aH();var q=this.Rt();this.Va.Lf(q,this.f);if(gj==1)this.A7.Lf(q,this.f);this.q1.Mq(q,this.td,this.f);
this.rM();if(q)q.bM=!0};dy.prototype.abF=function(M){this.se();var X=this.td,J=X[M.data.I7];X.splice(M.data.I7,1);
if(X.length==0){this.XV(M);var q=aq.mt(),W=iO.Rj.gA;if(q.parentNode)q.parentNode.removeChild(q);if(W.parentNode)W.parentNode.removeChild(W)}this.ael(J.name)};
dy.prototype.ael=function(M){var X=this.f.OB,J=!1;if(X.Aq==null)return;for(var q in X.Om){if(M==null||q==M){delete X.Om[q];
J=!0}}if(J){var W=new jb(r.E.C);W.data={h:r.m.OA,iw:bN.zZ,amB:!0};this.a(W)}};dy.prototype.aoY=function(M){var X=[],J=M.data.a5i;
for(var $=0;$<J.length;$++)X[$]=this.td[J[$]];this.td=X;this.acC=this.nD.aH()};dy.prototype.a7x=function(M){var X=this.nD,J=X.arD(),q=this.De(),W=this.Rt();
if(J==X.aH()||!q.a8$())return;this.abN(J,q)};dy.prototype.abN=function(M,X){console.log("dup2doc");var J=this.f,q=this.nD,W=this.Rt(),T=this.td[M],_,m=new jb(r.E.H,!0);
m.J=o.HX;if(W.c==null){m.data={h:K.H4,U:W.c1(null,!0),xN:W,Dn:T,axR:X==null};this.a(m)}else _=W.U[W.O[0]].ag(W,W.c);
var d=this.bJ,A=J.no;J.no=!1;d=W.k.Ob(d.x,d.y);if(X)X.BW(W,this,J,this.__);q.Ww(M);if(W.c){m.data={h:K.Ge,$D:{buffer:_.b3,S:_.S}};
this.a(m)}d=T.k.fT(d.x,d.y);if(X)X.H_(T,this,J,this.__,d);J.no=A};dy.prototype.a8G=function(M){var X=this.Rt(),J=this.__,q=this.f,W=M.Cz;
if(W)this.bJ=W;if(W)W.y-=q.as;if(this.ajQ==null)this.ajQ=0;if(M.action=="multidown"){this.Xl=M.zD.length;
this.ajQ=Date.now()}if(M.action=="up"&&Date.now()-this.ajQ<100){var T=new jb(r.E.H);T.J=o.xH;T.data={h:this.Xl==2?"h_stepbck":"h_stepfwd"};
this.a(T)}if(M.action.startsWith("multi")){var _=new jb(r.E.H,!0);_.data={h:M.action,zD:M.zD};_.J=o.QC;
this.a(_);return}var m=this.W.map[o.oa].J;if((M.action=="down"||M.action=="rdown")&&q.Rk!=o.oa&&this.W.PB!=o.oa&&m.amN(X,this,q,J,W)){this.W.IO=o.oa;
m.enable(X,this,q,J,!0)}if(M.action=="idown"){J.OR("Space");this.iV(!0);M.action="down"}var d=this.C7.DC(),A=d!=null&&d.Qn()&&this.W.PB==null?d:this.De();
if(M.action=="scroll"){var p=!J.M(hP.WM)&&M.or,a=J.M(hP.Ke);if(window.locStor.getItem("__zwh")=="1")a=!a;
var _=new jb(r.E.H,!0);_.data={h:"scroll",Kb:M.Kb.Q(),Cz:W,a7l:p};_.J=a||p?o.QC:o.Cm;this.a(_)}if(d!=null&&A!=d&&this.C7.mG()&&A.id!=o.Cm&&A.id!=o.QC)return;
if(M.action=="down")A.H_(X,this,q,J,W);if(M.action=="rdown")A.ST(X,this,q,J,W);if(M.action=="move")A.T_(X,this,q,J,W);
if(M.action=="up"||M.action=="iup"||M.action=="cancellast")A.fw(X,this,q,J,W,M.action=="cancellast");
if(M.action=="rup")A.aa(X,this,q,J,W);if(M.action=="iup"){J.uo("Space");this.iV(!0)}if(M.action=="cancellast"){if(X&&X.history.length!=0&&Date.now()-X.history[X.history.length-1].ab7<200){var T=new jb(r.E.H);
T.J=o.xH;T.data={h:"h_stepbck"};this.a(T)}}var f=this.q1;if(M.action=="down")f.H_(X,this,q,J,W);if(M.action=="move")f.T_(X,this,q,J,W);
if(M.action=="up")f.fw(X,this,q,J,W);if(M.action=="down"||M.action=="up"){this.iV()}if(M.action=="down"||M.action=="up"||M.action=="ctx"){X.bM=!0}if((M.action=="up"||M.action=="rup")&&this.W.IO){this.W.IO=null;
m.disable(X,this,q,J)}};dy.prototype.Jn=function(M){var X=this.Rt(),J=this.bJ;if(X&&this.De().vI(J,this.__)){var q=X.k,W=q.dy.r,T=q.dy.$,_=0,m=0,d=16;
if(J.x<d)_=d-J.x;if(J.x>W-d)_=J.x-(W-d);if(J.y<d)m=d-J.y;if(J.y>T-d)m=J.y-(T-d);var A=this.__.M(hP.HG)?8:1;
if((_!=0||m!=0)&&(X.r*q.r7>W||X.$*q.r7>T)){_=Math.min(5,_*.5)*A;m=Math.min(5,m*.5)*A;if(J.x>d)_=-_;if(J.y>d)m=-m;
q.s.x+=_;q.s.y+=m;this.a8G({Cz:this.bJ,action:"move"});X.K8=!0}}this.update()};dy.prototype.update=function(M){var X=this.Rt();
if(X==null)return;if(gj!=0){if(X.buffer)throw"e"}if(X.bM){var J=this.W.map;for(var q in J){if(J[q].J.qc)J[q].J.qc(X,this,this.f,this.__)}if(gj==1){J[o.nH].J.qc(X,this,this.f,this.__,!0)}}if(X.dI&&gj==0)if(aq.zw)aq.h4(Math.max(X.r,X.$));
if(X.dI&&gj==0){X.rD()}var W=X.k,T=this.T5,_=this.T5=Date.now();if(X.dI||X.E5||X.fy||X.K8||M||W.Yu!=W.r7||!W.Dr.w6(W.s)){var m=W.Yu;
if(W.Yu!=W.r7){var d=o.XP.aDg(W.r7,W.Yu>W.r7),A=.12;if(W.Yu<W.r7&&W.Yu<d)W.Yu=d;if(W.Yu>W.r7&&W.Yu>d)W.Yu=d;
var p=Math.abs(W.r7-d)*(_-T)*.001/A;if(W.Yu<W.r7)W.Yu=Math.min(W.r7,W.Yu+p);else W.Yu=Math.max(W.r7,W.Yu-p)}var a=m==W.r7?0:(W.Yu-W.r7)/(m-W.r7);
W.Dr.x=W.s.x+a*(W.Dr.x-W.s.x);W.Dr.y=W.s.y+a*(W.Dr.y-W.s.y);this.nD.SY(this.f,null);this.nD.Mq(X,this.td)}if((X.dI||X.K8||X.bM)&&(!this.bJ.kJ||X.$s)){if(X.bM)X.k1();
this.q1.Mq(X,this.td,this.f);this.Ms.a3S(X,this.__);if(gj==1)this.A7.Mq(X);X.we=!1}X.$s=!1;X.bM=!1;X.dI=null;
X.E5=X.fy=X.K8=!1};dy.prototype.kA=function(M){var X=M.target.tagName.toLowerCase(),J=M.target.getAttribute("type"),q=hP,W=q.jt(M.code,q.ej);
if(!((X=="input"||X=="select"||X=="button")&&q.jt(M.code,q.g4))){if(q.aF7(M)&&X!="select"){M.preventDefault()}this.__.OR(q.CS(M));
this.KH("down")}};dy.prototype.lZ=function(M){if(M.key==" ")this.__.cZ();if(hP.jt(M.code,hP.a2B))this.__.reset();
this.__.uo(hP.CS(M));var X=M.target.tagName.toLowerCase();if(hP.aF7(M)&&X!="select"){M.preventDefault()}this.KH("up")};
dy.prototype.KH=function(M){var X=this.__,J=this.Rt(),q=J!=null&&J.O.length!=0;if(this.Ux.DC()!=null){if(X.M(hP.ke)||X.M(hP.ej)){this.Ux.ars()}return}this.iV();
var W=this.X6(hP.WM),T=X.M(hP.Ke),_=X.M(hP.HG);if(W&&X.M(hP.q8)&&M=="down"){var m=new jb(r.E.H),d=new jb(r.E.C);
m.J=o.xH;if(_){m.data={h:"h_stepfwd"}}else{m.data={h:"h_stepbck"}}if(this.C7.DC()!=null&&this.C7.DC().mG()){}else this.a(m)}if(W){var m=new jb(r.E.H),A=new jb(r.E.pL),d=new jb(r.E.C);
if(X.M(hP.CI)&&X.M(hP.sB)){d.data={h:r.m.SQ,bf:"storwindow"};this.a(d)}if(!T&&M=="down")for(var p in ia.keys){var a=ia.keys[p],f=!0;
for(var $=0;$<a.length;$++)if(!X.M(a[$]))f=!1;if(f){m.J=o.GR;if(p=="hue2"&&_&&J.U[J.O[0]].add.SoLd==null)m.data={h:"auto",Pv:3};
else m.data={h:"start",T$:p}}}if(X.M(hP.m)){if(T){A.data={hC:"selectAllLayers",Qd:{classID:"null",null:k$.kh("Lyr",!0)}}}else A.data=o.Gp.VT(!0)}if(X.M(hP.eU)){if(T)d.data={h:r.m.SQ,bf:"csize"};
else if(J)d.data={h:r.m.LG,IM:_}}if(X.M(hP.IW)&&J.c){A.data=o.Gp.VT()}if(X.M(hP.E)&&M=="down"){if(_)A.data={hC:"mergeVisible"};
else if(eP.dp(J).i)A.data={hC:"mergeLayersNew",Qd:{__name:"Merge Layers",classID:"Mrg2"}}}if(X.M(hP.uY)){if(_&&this.f.Rk!=o.zS)d.data={h:r.m.SQ,bf:"afw_fade"};
else if(T){m.J=o.ij;m.data={h:"applylast"}}else d.data={h:r.m.Eg}}if(X.M(hP.zj)){if(T&&J&&J.BS(J.O[0])){m.J=o.HX;
m.data={h:K.uk}}else{m.J=o.HX;m.data={h:K.S8,uI:_}}}if(gj==1&&X.M(hP.fB)){m.J=o.HX;m.data={h:K.S8,Nx:!0,uI:T}}if(X.M(hP.af)){d.data={h:r.m.OA,iw:bN.aO}}if(X.M(hP.CI)){if(_){m.data=null;
if(T)d.data={h:r.m.SQ,bf:"finfo"};else A.data={hC:"inverse"}}else if(T)d.data={h:r.m.SQ,bf:"isize"}}if(X.M(hP.sD)){A.data={hC:(_?"cut":"copy")+"ToLayer"}}if(X.M(hP.q9)){d.data={h:r.m.SQ,bf:"preferences"}}if(X.M(hP.fu)){if(_){m.J=o.HX;
m.data={h:K.YO}}else if(M=="down")d.data={h:r.m.SQ,bf:"newproject"}}if(X.M(hP.bR)){if(T)d.data={h:r.m.SQ,bf:"storwindow",Em:0};
else{d.data={h:r.m.xa};X.reset()}}if(X.M(hP.Xh)){d.data={h:r.m.azF};X.reset()}if(X.M(hP.UE)){d.data={h:r.m.OA,iw:bN.UR}}if(X.M(hP.ub)&&M=="down"){if(_){if(T)d.data={h:r.m.SQ,bf:"saveforweb"};
else d.data={h:r.m.Hx}}else d.data={h:r.m.$A}}if(X.M(hP.ws)){if(_){m.J=o.HX;m.data={h:K.T0};this.a(m);
m.J=o.zS;m.data={h:"again"}}else d.data={h:r.m.ga,J:o.zS}}if(X.M(hP.MP)){d.data={h:r.m.Rw}}if(X.M(hP.axW)){this.nD.Y0()}if(X.M(hP.jj)&&J&&J.aoo()){d.data={h:r.m.PY}}if(X.M(hP.mn)&&J){m.J=o.QC;
m.data={h:"prvw"}}if(X.M(hP.w0)||X.M(hP.uw)){m.J=o.HX;m.data={h:K.nG,NL:0};if(X.M(hP.w0))m.data.NL=_?3:2;
else m.data.NL=_?0:1}if(X.M(hP.dM)&&J&&J.O.length!=0){var s=J.U[J.O[0]].cV();A.data={hC:s?"hide":"show",Qd:{classID:"null",null:{t:"VlLs",v:[k$.kh("Lyr",!0)]}}}}if(X.M(hP.ej)&&J){var j=0;
if(_)j++;if(T)j+=2;m.J=o.FN;m.data={h:"frompath",FK:[null,0,j]}}if(X.M(hP.Zf)){A.data=o.VN.i1(0)}if(X.M(hP.g4)){var Y=this.td.length,G=X.M(hP.HG)?-1:1;
if(Y>1)this.nD.Ww((this.nD.aH()+Y+G)%Y)}if(X.M(hP.cS)){d.data={h:r.m.OA,iw:bN.CN}}if(X.M(hP.v$)){d.data={h:r.m.OA,iw:bN.O1}}o.XP.a0j(X,m);
if(this.C7.DC()!=null&&this.C7.DC().mG()){}else{if(m.data)this.a(m);if(A.data)this.a(A);if(d.data)this.a(d)}}if(!W&&T){var Q;
if(X.M(hP.w0))Q="Bckw";if(X.M(hP.uw))Q="Frwr";if(X.M(hP.dM))Q="Back";if(X.M(hP.Zf))Q="Frnt";if(Q){var A=new jb(r.E.pL);
A.data={hC:"select",Qd:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:Q}}]},MkVs:{t:"bool",v:!1}}};
this.a(A)}}if(J&&J.O.length!=0){var Z=J.U[J.O[0]],g=Z.tD;if(g==1||g==3||W){var m=new jb(r.E.H),S=g==3?Z.uV(J).JS:Z.hM();
if(S){var U=S.OI?J.k.KV.join("")=="111"?1:2:0;m.J=o.QC;if(S&&X.M(hP.ke)&&U!=0){m.data={h:"mskView",K:0}}if(S&&X.M(hP.ak_)){m.data={h:"mskView",K:U==1?0:1}}if(S&&X.M(hP.a38)){m.data={h:"mskView",K:U==2?0:2}}if(m.data)this.a(m)}}}var B=X.p2();
if(J&&W&&2<=B&&B<=5){var e=[1,1,1];if(B>2){e=[0,0,0];e[B-3]=1}var P=new jb(r.E.H,!0);P.J=o.Cm;P.data={h:"setcls",KV:e};
this.a(P)}if(!X.M(hP.WM)&&!T&&M=="down"){var m=new jb(r.E.H),d=new jb(r.E.C),h=this.W.map[this.f.Rk],V=-1;
for(var $=0;$<this.W.keys.length;$++)if(this.W.keys[$]&&this.X6(this.W.keys[$]))V=$;if(V!=-1){var I=null;
if(h.Tl!=V)I=this.W.Uz[V];if(h.Tl==V&&_)I=(h.ago+1)%this.W.hJ[V].length;if(I!=null){var F=this.W.hJ[V][I].J.id,c=this.f.x6;
if((c==null||c.indexOf(parseInt(F))!=-1)&&!this.bJ.kJ)d.data={h:r.m.ga,J:F}}}if(X.M(hP.af))d.data={h:r.m.ga,J:o.Cm};
if(X.M(hP.UE))d.data={h:r.m.ga,J:o.GA};if(X.M(hP.jj))d.data={h:r.m.OA,iw:bN.M3,NL:2};if(X.M(hP.IW))d.data={h:r.m.OA,iw:bN.M3,NL:3};
if(d.data)this.a(d);if(X.M(hP.a4p)&&J&&J.O.length==1){var Z=J.U[J.O[0]];m.J=o.HX;var D=Z.Uc(0)||Z.Uc(1)||Z.Uc(2)||Z.Uc(31);
m.data={h:K.bC,Nz:D?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[0]]};this.a(m)}var B=X.p2();if(q&&B!=-1&&this.X6(hP.JP[B])){var n=J.O[0],Z=J.U[n],k=hP.abl(Math.round(100*Z.G8/255),B);
m.J=o.HX;m.data={h:K.HB,Nz:Math.round(255*k/100)};this.a(m)}var b=this.f.LA;if(X.M(hP.g4)){d.data={h:r.m.bb,K:b==0?1:0};
this.a(d)}if(X.M(hP.uY)||X.M(hP.ke)&&b==2){var N=document.fullscreenElement!=null==(b==2);d.data={h:r.m.bb,K:b==0?2:0,St:N};
this.a(d)}if(X.M(hP.ale)&&!this.bJ.kJ){m.J=o.FN;m.data={h:"qmask"};this.a(m)}}if(!X.M(hP.WM)&&!T&&_){var m=new jb(r.E.H),d=new jb(r.E.C);
if(X.M(hP.dM))d.data={h:r.m.SQ,bf:"shortcuts"};if(X.M(hP.apB))d.data={h:r.m.SQ,bf:"fill"};if(X.M(hP.aln))d.data={h:r.m.SQ,bf:"sel_feather"};
if(q&&(X.M(hP._T)||X.M(hP.ce))){var n=J.O[0],Z=J.U[n],L=ae.pi,R=L.length,i=L.indexOf(Z.Sw);m.J=o.HX;
m.data={h:K.ni,Nz:(i+R+(X.M(hP._T)?1:-1))%R};this.a(m)}if(d.data)this.a(d)}var m=new jb(r.E.H),v=M=="down"&&(this.X6(hP.t3)||this.X6(hP.az));
if((W||T)&&v){m=new jb(r.E.pL);m.data=o.X_.Zc(W?"BckC":"FrgC");this.a(m)}else if(this.C7.DC()==null&&J&&v&&!this.bJ.kJ){if(J.c!=null){m=new jb(r.E.pL);
m.data={hC:"delete"}}else if(J.O.length!=0){var Z=J.U[J.O[0]];if(Z.tD==1)m.data={h:K.JC};else if(Z.tD==3)m.data={h:K.BI};
else m.data={h:K.es};m.J=o.HX}this.a(m)}if(this.C7.DC()!=null){if(X.M(hP.ke)){this.C7.DC().acE()}else{this.C7.DC().KH(J,this,this.f,X)}}if(this.f.Rk==null)return;
var h=this.De();if(this.C7.DC()==null||this.W.PB)h.KH(J,this,this.f,X)};dy.prototype.X6=function(M){var X=this.__,J=this.W.map[this.f.Rk].J,top=this.C7.DC(),q=this.Rt();
return X.M(M)&&!J.Ei(M,q)&&(top==null||!top.Ei(M,q))};dy.prototype.Zo=function(M){var X=this.aAC,J=this.RC;
this.f.LA=M;var q=w.L1,W=this.Va._;if(q(W))this.d3.removeChild(W);var T=this.tp._;if(q(T))this.d3.removeChild(T);
var _=this.Ms._;if(q(_))X.removeChild(_);var m=this.nD._;if(q(m))X.removeChild(m);var d=this.q1._;if(q(d))X.removeChild(d);
if(M==0){this.d3.appendChild(W);this.d3.appendChild(T);J.appendChild(X);X.appendChild(_);X.appendChild(m);
X.appendChild(d)}if(M==1){this.d3.appendChild(W);X.appendChild(m)}if(M==2){X.appendChild(m)}this.nD.Zo(M==2?1:0);
this.rM()};dy.prototype.aH$=function(M){if(this.z_())return 1;if(w.a1e()==0){this.f={};this.uL=function(X,J){return Math.sqrt(X*J)}}return-1};
dy.a75=function(){var M=gj==0?[[{J:new o.UA,As:c5},{J:new o.rq,As:h9}],[{J:new o.R3,As:bs,uf:0},{J:new o.TM,As:d5,uf:0}],[{J:new o.e9,As:cA,uf:0},{J:new o.jL,As:hi,uf:0},{J:new o.i0,As:eF,uf:0}],[{J:new o.kY,As:de,uf:0},{J:new o.D4,As:kC,uf:0},{J:new o.O9,As:f_,uf:0}],[{J:new o.ard,As:k4},{J:new o.amH,As:bL},{J:new o.OZ,As:gX,uf:0},{J:new o.Ij,As:cH,uf:0}],[{J:new o.SK,As:hF},{J:new o.Ht,As:bY,uf:0},{J:new o.mE,As:jG}],[{J:new o.hs,As:f$,uf:0},{J:new o.Gj,As:eK,uf:0},{J:new o.e9(!0),As:k1,uf:0},{J:new o.gZ,As:bO,uf:0},{J:new o.acx,As:d_,uf:0},{J:new o.gm,As:gw,uf:0}],[{J:new o.ye,As:jh,uf:0},{J:new o.DS,As:dS,uf:0},{J:new o.U6,As:e3,uf:0}],[{J:new o.Sz,As:bl,uf:0}],[{J:new o.MQ,As:cp,uf:0},{J:new o.D8,As:iz,uf:0},{J:new o.Xe(!0),As:aF,uf:0}],[{J:new o.kO,As:iq,uf:0},{J:new o.Xe,As:aF,uf:0}],[{J:new o.b9,As:j_,uf:0},{J:new o.MJ,As:ca,uf:0},{J:new o.lI,As:gR,uf:0}],[{J:new o.W1,As:dQ,uf:0},{J:new o.gT,As:d8,uf:0},{J:new o.yx,As:cl,uf:0}],[{J:new o.FE,As:j7},{J:new o.To,As:j7}],[{J:new o.wR(0),As:ed},{J:new o.Sk,As:hB},{J:new o.wR(1),As:ed},{J:new o.wR(2),As:ed},{J:new o.wR(3),As:ed},{J:new o.wR(4),As:ed}],[{J:new o.fD,As:l1},{J:new o.aR,As:gs}],[{J:new o.Rect,As:eN},{J:new o.hQ,As:ig},{J:new o.VL,As:bT},{J:new o.Ep,As:c9},{J:new o.Zu,As:jf}],[{J:new o.Yz,As:kF},{J:new o.lS,As:bR}],[{J:new o.XP,As:iA}]]:[[{J:new o.UA,As:c5}],[{J:new o.aR,As:gs}],[{J:new o.wR(0),As:ed}],[{J:new o.Sk,As:hB}],[{J:new o.FE,As:j7},{J:new o.To,As:j7}],[{J:new o.VL,As:bT}],[{J:new o.Rect,As:eN},{J:new o.hQ,As:ig}],[{J:new o.xF,As:kF}],[{J:new o.in,As:iq}],[{J:new o.SK,As:hF}],[{J:new o.Yz,As:kF},{J:new o.lS,As:bR}],[{J:new o.XP,As:iA}]],m="",d="";
if(gj==0&&!w.pQ(1))M[6].splice(2,1);var X=gj==0?[hP.MP,hP.Hj,hP.q6,hP.axW,hP.eU,hP.CI,hP.sD,hP.IB,hP.ub,hP.E,hP.zj,null,hP.bR,hP.ws,hP.Xh,hP.m,hP.sB,hP.af,hP.q8]:[hP.MP,hP.m,hP.Xh,null,hP.ws,hP.ak_,hP.Hj,null,hP.zj,hP.CI,hP.af,hP.q8],J=[{J:o.QC,JQ:!1,UD:[hP.aET,hP.TZ]},{J:o.QC,JQ:!1,UD:[hP.aET],qJ:[o.Cm]},{J:o.Cm,JQ:!1,UD:[hP.TZ]},{J:o.ZT,JQ:!0,UD:[hP.WM],qJ:[o.FX]},{J:o.FX,JQ:!0,UD:[hP.WM],qJ:[o.ZT]},{J:o.CF,JQ:!0,UD:[hP.WM],qJ:[o.gf,o.nH,o.c3]}];
if(gj==0)J.push({J:o.gf,JQ:!0,UD:[hP.WM],qJ:[o.CF,o.Av,o.k2,o.lx,o.Mv,o.zd]});J.push({J:o.oa,JQ:!0,UD:[hP.WM]});
var q={a9v:J,hJ:M,Uz:[],keys:X,FW:[{J:new o.adj,As:iF},{J:new o.a8E,As:eA},{J:new o.ahb,As:aV},{J:new o.SK(!0),As:hF},{J:new o.iQ,As:kL},{J:new o.Mo,As:en}],aAM:[{J:new o.Cv},{J:new o.History},{J:new o.on},{J:new o.wq},{J:new o.QP},{J:new o.hD}],map:{},agd:null,PB:null,IO:null},W=q.hJ;
for(var $=0;$<W.length;$++){var T=W[$];if(kd=="---")continue;for(var _=0;_<T.length;_++)if(T[_].uf!=null&&T[_].uf!=gj){T.splice(_,1);
_--}if(T.length==0){W.splice($,1);q.keys.splice($,1);$--}}for(var $=0;$<q.hJ.length;$++){var A=q.hJ[$];
if(A=="---")continue;var p=q.keys[$];for(var _=0;_<A.length;_++){q.map[A[_].J.id]=A[_];A[_].Tl=$;A[_].ago=_;
var a=kd.get(A[_].J.name);d+="<li>"+A[_].J.id+": "+a+"</li>";m+="\t"+JSON.stringify(A[_].J.name)+", "+(p?"\""+p.f7+"\"":"null")+", "+A[_].J.id+", // "+a+"\n"}q.Uz[$]=0}for(var $=0;
$<q.FW.length;$++)q.map[q.FW[$].J.id]=q.FW[$];for(var $=0;$<q.aAM.length;$++)q.map[q.aAM[$].J.id]=q.aAM[$];
try{var f=window.locStor.getItem("_ltools");if(f){f=f.split(",");for(var $=0;$<f.length;$++){var s=q.map[f[$]];
if(s&&s.Tl!=null)q.Uz[s.Tl]=s.ago}}}catch(hP){alert("could not load the tool preferences");console.log("Last tools: ",window.locStor.getItem("_ltools"))}return q};
function bV(M){bj.call(this);if(M==null)return;this.a3=null;this.oz=null;this._=w.l("div","sbar"+" "+M);
this.tr=new w.l("div","top");this.tr.innerHTML="> <";this._.appendChild(this.tr);this.fM=1;this.tr.addEventListener("click",this.a9R.bind(this),!1)}bV.prototype=new bj;
bV.prototype.a9R=function(M){if(this.a3!=null&&this.a3<500&&this.fM==0)return;if(this.fM==0)this.Zp(!0);
else this.collapse(!0)};bV.prototype.a00=function(M){this.fM=M;this.tr.innerHTML=this.fM==0?"< >":"> <"};
bV.prototype.abc=function(){var M=new jb(r.E.C,!0);M.data={h:r.m.Y1};this.a(M)};bV.prototype.Zp=function(M){this.a00(1);
if(M)this.abc()};bV.prototype.collapse=function(M){this.a00(0);if(M)this.abc()};bV.prototype.TP=function(){return this.fM==1};
function hJ(M,X){bV.call(this,"vcolumn");this.iu=M;this.a2w=X;this.zr();this.x0=w.l("div");w.F(this.x0,"cursor:default;");
this.a90=this.auF.bind(this);this.axT=this.afs.bind(this);this.ahG=this.a3K.bind(this);w.Ad(this._,this.a90);
this._.appendChild(this.x0);this.a3k=w.l("div");this.x0.appendChild(this.a3k);this.am=-1;this.akM=w.l("div","float");
var J=this.y2=w.l("canvas","gsicon"),q=Math.round(12*w.pv());J.width=J.height=q;var W=J.getContext("2d");
W.moveTo(2,2);W.lineTo(q-2,q-2);W.moveTo(2,7);W.lineTo(q-7,q-2);W.stroke();w.F(this.y2,"position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
w.LY(this.y2);w.Ad(this.y2,this.a90);w.G6(J);this.D6=[];this.ala=[];this.a08=null;this.DM=null;this.avT=0}hJ.prototype=new bV;
hJ.prototype.auF=function(M){var X=M.target==this.y2;if(!X){if(M.target!=this._)return;if(!this.TP())return}else{var J=this.D6[this.am].eS;
J.style.pointerEvents="none";var q=J.getBoundingClientRect();this.a08=[q.width,q.height];this.ala[this.am]=[q.width,q.height]}M.stopPropagation();
this.DM=w.uP(M,document.body);this.avT=this.iu;w.GY(document,this.axT);w.ZA(document,this.ahG)};hJ.prototype.afs=function(M){var X=w.uP(M,document.body);
if(this.TP()){this.iu=this.avT+this.DM.x-X.x;this.zr()}else{var J=this.ala[this.am],q=this.a08;J[0]=q[0]+this.DM.x-X.x;
J[1]=q[1]+X.y-this.DM.y}var W=new jb(r.E.C,!0);W.data={h:r.m.Y1};this.a(W)};hJ.prototype.a3K=function(M){if(!this.TP()){var X=this.D6[this.am].eS;
X.style.pointerEvents="auto"}w.$E(document,this.axT);w.uU(document,this.ahG)};hJ.prototype.amC=function(M){M.P("showFloat",this.a6r,this);
M.P("hideFloat",this.Qr,this);this.D6.push(M);M.parent=this;this.x0.appendChild(M._)};hJ.prototype.aqQ=function($){var M=this.D6[$];
M.removeEventListener("showFloat",this.a6r,this);M.removeEventListener("hideFloat",this.Qr,this);this.D6.splice($,1);
M.parent=null;this.x0.removeChild(M._)};hJ.prototype.a5e=function(){return this.D6.length};hJ.prototype.vl=function(){for(var $=0;
$<this.D6.length;$++)this.D6[$].vl()};hJ.prototype.a6r=function(M){this.vl();var X=this.akM;this.a3k.appendChild(X);
this.am=this.D6.indexOf(M.currentTarget);var J=this.D6[this.am].eS;w.p9(X);X.appendChild(J);X.appendChild(this.y2);
this.uL(this.a3,this.oz)};hJ.prototype.Qr=function(M){this.vl();if(this.am!=-1){this.a3k.removeChild(this.akM);
this.am=-1}};hJ.prototype.zr=function(){function M(X){return Math.round(X*w.pv())/w.pv()}w.F(this._,"width: "+this.iu+"px; border-left-width:"+M(4)+"px; cursor:ew-resize;")};
hJ.prototype.Zp=function(M){this.zr();this.Qr();for(var $=0;$<this.D6.length;$++)this.D6[$].Zp();bV.prototype.Zp.call(this,M)};
hJ.prototype.collapse=function(M){this._.removeAttribute("style");for(var $=0;$<this.D6.length;$++)this.D6[$].collapse();
bV.prototype.collapse.call(this,M)};hJ.aoM=11;hJ.prototype.uL=function(M,X){this.a3=M;this.oz=X;X-=hJ.aoM;
var J=this.D6.length;if(J==0)return;if(!this.TP()){var q=X<400?X:400+(X-400)*.5;for(var $=0;$<J;$++){var W=this.D6[$],T=this.ala[$];
W.uL(T?T[0]:this.iu,T?T[1]:q)}}else{var _=X;for(var $=0;$<J;$++){var W=this.D6[$],m=W.a1O();if($==J-1){m=_;
W._.style.borderBottom="none"}W.uL(this.iu,m);_-=m+4}}};function d$(M){bj.call(this);this._=w.l("div");
this.x0=null;this.Vq=0;this.YQ=0;this.aak=M;this.aiJ=this.Wk.bind(this);this.afo=this.yf.bind(this);
this.ab9=this.BY.bind(this);this.rE=null;this.Mf=null;this.aiA=null;var X=this._,q="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
w.Ad(X,this.aiJ);X.addEventListener("touchmove",w.bS,!1);this.anE=!0;this.sC=[];var J=this.a79=w.l("div");
w.F(J,"float:right; padding:4px;display:none; position:relative;z-index:1; app-region:no-drag;");X.appendChild(J);
var W=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",q+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",q+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",q+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var $=0;$<W.length;$++){var T=new fT(W[$]);this.sC.push(T);w.F(T._,"margin-left:"+($<7?4:0)+"px;cursor:pointer;");
T.P("click",this.VS,this)}}d$.prototype=new bj;d$.prototype.T=function(){var M=this.a79;w.p9(M);for(var $=0;
$<this.sC.length;$++){var X=this.sC[$];if($<5)X.T();M.appendChild(X._)}};d$.prototype.VS=function(M){var $=this.sC.indexOf(M.currentTarget);
if($==0){if(window.showCap)window.showCap();return}var X=" issues learn blog api twitter facebook".split(" "),J=["","//github.com/photopea/"+["photo","vector"][gj]+"pea/issues","//www.photopea.com/learn","//blog.photopea.com","//www.photopea.com/api","//www.reddit.com/r/photopea","//www.twitter.com/photopeacom","//www.facebook.com/photopea"],q=window.ga;
if(q)q("send","event","Links",X[$]);var W=new jb(r.E.C,!0);W.data={h:r.m.Na,link:J[$]};this.a(W)};d$.prototype.Wk=function(M){if(M.abL){M.preventDefault();
M.stopPropagation()}var X=window;w.GY(X,this.afo);w.ZA(X,this.ab9);X=this.x0;this.rE=new es(parseInt(X.style.left),parseInt(X.style.top));
this.Mf=w.uP(M,this._);this.aiA=X.getBoundingClientRect()};d$.prototype.yf=function(M){var X=w.uP(M,this._),J=this.rE.x+X.x-this.Mf.x,q=this.rE.y+X.y-this.Mf.y,W=this.Vq-this.aiA.width,T=this.YQ-this.aiA.height;
if(this.aak)this.x0.style.left=Math.min(0,Math.max(W,J))+"px";else this.x0.style.top=Math.min(0,Math.max(T,q))+"px";
if(J-10>0){this.Mf.x=X.x-10;this.rE.x=0}if(J+10<W){this.Mf.x=X.x+10;this.rE.x=W}};d$.prototype.BY=function(M){var X=window;
w.$E(X,this.afo);w.uU(X,this.ab9)};d$.prototype.a6W=function(M){if(this.x0){this._.removeChild(this.x0)}this.x0=M;
this._.appendChild(M);M.style.position="absolute";M.style.appRegion="no-drag";if(this.aak)M.style.left=0;
else M.style.top=0};d$.prototype.uL=function(M,X){this.Vq=M;this.YQ=X;w.F(this._,"position:relative; width: "+M+"px; height: "+X+"px; overflow:hidden; white-space: nowrap; app-region:drag;");
var J=this.x0.firstChild,q=this.a79,W=J?J.firstChild.getBoundingClientRect().width:1e9,T=170,_=navigator.windowControlsOverlay,m=0,d=0;
if(_&&_.visible){var A=_.getTitlebarAreaRect();d=A.x;m=M-A.width-A.x;if(m<0)m=0;W+=A.x;T+=m}var p=this.anE&&M>W+T;
q[kl.TW][kl.aI_]=p?"":kl.au0;q[kl.TW][kl.EW]=m+"px";if(J){J[kl.TW][kl.aBY]=d+"px";J[kl.TW][kl.atc]=kl.arO}var a=this.sC;
for(var $=0;$<a.length;$++){var f=$>4||M-W-T>330?"":kl.au0,s=a[$];s._.style.display=f}};d$.prototype.aEg=function(){this.x0.style.left="0";
this.x0.style.top="0"};function kH(){bj.call(this);this.f=null;this.dj=kH.Xh;this.adx="";this._=w.l("div","rightbar");
this.K2=[new hJ(300),new hJ(268,!0)];this.D6=[new e5,new e5,new e5,new e5,new e5,new e5,new e5];this.a5J=[]}kH.prototype=new bj;
kH.prototype.T=function(){var M=this.dj;for(var $=0;$<M.length;$++)M[$].kv.T()};kH.Xh=gj==0?[{kv:new eW,XE:3},{kv:new cB,XE:1},{kv:new hD,XE:4},{kv:new da,XE:2},{kv:new dW(!0),XE:5},{kv:new gV(!0),XE:5},{kv:new dU,XE:0},{kv:new eJ,XE:5},{kv:new kO,XE:3},{kv:new kn,XE:0},{kv:new aJ,XE:3},{kv:new eP,XE:2},{kv:new ec,XE:4},{kv:new kv,XE:3},{kv:new hV,XE:5},{kv:new dW(!1),XE:5},{kv:new ao,XE:2},{kv:new c3,XE:3},{kv:new aR,XE:1},{kv:new iN,XE:0},{kv:new cz,XE:5},{kv:new fL,XE:6,nR:!0}]:[{kv:new k_,XE:5},{kv:new dW(!0),XE:5},{kv:new dW(!1),XE:5},{kv:new eJ,XE:5},{kv:new kn,XE:0},{kv:new eP,XE:2},{kv:new fL,XE:6,nR:!0}];
if(w.pQ(1))kH.Xh.push({kv:new jd,XE:6,nR:!0});kH.Xh.push({kv:new kI,XE:6,nR:!0},{kv:new cX,XE:6,nR:!0});
(function(){var M=[{id:gF.UE.a5N,name:"Gallery",url:"//www.photopea.com/plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var $=0;$<M.length;$++)kH.Xh.push({kv:new cW(M[$],100+$),XE:6,nR:!0})}());kH.prototype.aDd=function(M){for(var $=0;
$<M.length;$++){var X=M[$],J=new cW(X,"plg_"+X.name);this.dj.push({kv:J,XE:6});this.a5J.push(J.L4)}this.IF()};
kH.prototype.SY=function(M,X){this.f=M;var J=this.dj;for(var $=0;$<J.length;$++)J[$].kv.SY(M,X);if(X==bN.QH||X==bN.Ru)this.IF()};
kH.prototype.uH=function(M){var X=this.dj;for(var $=0;$<X.length;$++)X[$].kv.uH(M)};kH.prototype.uL=function(M,X){this.a3=M;
this.oz=X;this.IF();this.K2[0].uL(M,X);this.K2[1].uL(M,X)};kH.prototype.IF=function(){var M=this.f,X=this.a3,J=this.oz;
if(M==null||X==0)return;var q=M.CM.concat(this.a5J),W=X<500||X<700&&X<J,T=JSON.stringify(q)+","+W;if(T!=this.adx){this.adx=T;
w.p9(this._);var _=[];for(var $=0;$<this.K2.length;$++){var m=this.K2[$];_[$]=m.TP();while(m.a5e()!=0)m.aqQ(0);
m.Zp()}var d=[];for(var $=0;$<this.D6.length;$++){var A=this.D6[$];A.Zp();while(A.adP()!=0)A.Ce(0);d.push(0)}for(var $=0;
$<q.length;$++){var p=this.a0S(q[$].toString());if(p==null)continue;this.D6[p.XE].Oq(p.kv);this.D6[p.XE].Ww(0);
d[p.XE]++}var a=[];for(var $=0;$<d.length;$++){if(d[$]==0)continue;var f=$<3||W?1:0,m=this.K2[f];m.parent=this;
m.amC(this.D6[$]);a[f]=!0}for(var $=0;$<this.K2.length;$++)if(a[$])this._.appendChild(this.K2[$]._);
this.K2[0].collapse();if(X<700||this.f.compact||!_[1]){this.K2[1].collapse()}var s=new jb(r.E.C,!0);
s.data={h:r.m.Y1};this.a(s)}};kH.prototype.a0S=function(M){for(var $=0;$<this.dj.length;$++)if(this.dj[$].kv.L4==M)return this.dj[$]};
kH.prototype.aeh=function(M){var X=this.a0S(M);this.D6[X.XE].Oq(X.kv)};kH.prototype.Mq=function(M,X,J){var q=this.dj;
for(var $=0;$<q.length;$++)q[$].kv.Mq(M,X,J)};kH.prototype.H_=function(M,X,J,q,W){var T=this.dj;for(var $=0;
$<T.length;$++)T[$].kv.H_(M,X,J,q,W)};kH.prototype.T_=function(M,X,J,q,W){var T=this.dj;for(var $=0;
$<T.length;$++)T[$].kv.T_(M,X,J,q,W)};kH.prototype.fw=function(M,X,J,q,W){var T=this.dj;for(var $=0;
$<T.length;$++)T[$].kv.fw(M,X,J,q,W)};function hZ(M,X){bV.call(this,"toolbar");this._.removeChild(this.tr);
this.jR=w.l("div","tools");this._.appendChild(this.jR);this.x6=null;this.Rk=null;this.ak0=X;this.g0=null;
this.iH=null;this.aGJ=-1;var J=window.locStor.getItem("_ltools");this.yz=J?J.split(","):[];this.ao9=M;
this.W=null;this.Wc=null;this.GU=null;this.ad7=null;this.FA=new fk;this.FA._.style.marginTop="5px";this.FA._.style.marginBottom="3px";
this.FA.parent=this;this.p1=new fT(w.wD("lrs/mask"),!1,[6,6,1]);this.p1.P("click",function(_){var m=new jb(r.E.H,!0);
m.J=o.FN;m.data={h:"qmask"};this.a(m)},this);var q=new ju(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
q.P(r.E.n,this.aGU,this);var W=w.l("span","rangecontFloat form padded");W.appendChild(q._);w.F(W,"position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var T=this._;this.azQ=[!1,!1,!1,!1];this._Q=new fT(w.wD("kb"),!1,"Virtual Keys");this._Q.P("click",function(_){var m=this._Q._.getBoundingClientRect();
W.style.top=m.top-110+"px";W.style.left=m.left+m.width+8+"px";if(w.L1(W)){w.F0({_:W},T)}else{T.appendChild(W);
w.Oo({_:W})}},this)}hZ.prototype=new bV;hZ.prototype.aGU=function(M){var X=M.target.V();this._Q.R(X[0]||X[1]||X[2]||X[3]);
var J=new jb(r.E.C,!0);for(var $=0;$<4;$++){if(X[$]!=this.azQ[$]){J.data={h:r.m.aqJ,kJ:X[$],aGX:[hP.Mc()?"MetaLeft":"ControlLeft","AltLeft","ShiftLeft","NoTouch"][$]};
this.a(J)}}this.azQ=X.slice(0)};hZ.prototype.a3S=function(M,X){this.g0=X;this.iH=M;if(M==null||M.O.length==0||M.U[M.O[0]]==null)return;
var J=M.p1()!=null,q=M.k.KV,W=M.U[M.O[0]].tD,T=W==1||W==3||J||q[0]+q[1]+q[2]==1;this.FA.aed(T);this.p1.R(J)};
hZ.prototype.a5q=function(M,X){var J=M.length,q=[];for(var $=0;$<J;$++)q[$]=M[$].slice(0);M=q;var W=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],T=Math.min(W.length/2,J-X);
for(var $=0;$<T;$++){var _=W[2*$],m=W[2*$+1];M[_]=M[_].concat(M[m]);M[m]=null}for(var $=0;$<M.length;
$++)if(M[$]==null){M.splice($,1);$--}return M};hZ.prototype.adg=function(M,X){for(var $=0;$<X.length;
$++)for(var J=0;J<X[$].length;J++)if(X[$][J].J.id==M)return $};hZ.prototype.apI=function(M){var X=this.ao9;
this.Wc=[];this.GU=[];this.ad7=[];this.W=[];var J=X.hJ;if(M!=null&&this.ak0)J=this.a5q(J,M);var q=this.x6;
if(q){var W=[];for(var $=0;$<J.length;$++){var T=[];for(var _=0;_<J[$].length;_++){var m=J[$][_];if(q==null||q.indexOf(parseInt(m.J.id))!=-1)T.push(m)}if(T.length>0)W.push(T)}J=W}for(var $=0;
$<J.length;$++){var d=[],A=this.Wc.length,p=null,a=-1;for(var _=0;_<J[$].length;_++){var m=J[$][_].J,f=this.adg(m.id,X.hJ),s=X.keys[f];
if(s==hP.af&&_==1)s=hP.UE;this.W.push(m);var j=new b9(m.name,s,m.sZ,this.Wc.length,$,J[$].length>1);
this.Wc.push(j);var Y=this.yz.indexOf(m.id);if(Y==-1)Y=0;if(Y>a){a=Y;p=j}j.P(r.E.n,this.zn,this);j.P("mover",this.HZ,this);
d.push({name:m.name,Xn:m.sZ,UD:s?s.f7:""})}this.GU.push(p);this.ad7.push(d.length==1?null:[d,A])}};hZ.prototype.uL=function(M,X){var J=this.oz=X,q=20;
if(1<w.pv()&&w.pv()<1.5)q=20/w.pv();q+=12.7;var W=this.oz>640&&gj==0?2:1,T=34+5+3+W*(q+4),_=Math.floor((J-T)/q);
if(_!=this.aGJ){this.aGJ=_;this.apI(_);this.C_()}var m=this.GU.length*q+T,d=Math.min(1,J/m);if(.75<=d){w.F(this.jR,"width:34px; transform-origin: top left; transform: scale("+d+","+d+");");
w.F(this._,"height:"+(X-2)+"px;")}else{J-=4;w.F(this.jR,"height: "+J+"px;  width:"+Math.ceil(m/J)*34+"px");
w.F(this._,"")}};hZ.prototype.T=function(){if(this.W==null)return;for(var $=0;$<this.Wc.length;$++)this.Wc[$].T()};
hZ.prototype.zn=function(M){var X=new jb(r.E.C,!0);X.data={h:r.m.ga,J:this.W[M.id].id};this.a(X)};hZ.prototype.a1c=function(M){var X=M.target.ayU+M.target.gu()[0];
this.Wc[X].BY(null,!0)};hZ.prototype.HZ=function(M){var X=this.g0,J=new jb(r.E.C,!0);J.data={h:r.m.rb};
this.a(J);var q=M.target,W=this.ad7[q.Tl];if(W==null)return;var T=new an(W[0],null,!0);T.ayU=W[1];T.Tl=q.Tl;
T.P("select",this.a1c,this);T.parent=this;T.T();var _=q._.getBoundingClientRect(),J=new jb(r.E.C,!0);
J.data={h:r.m._5,kv:T,x:_.left+_.width+8,y:_.top};if(X==null||!(X.M(hP.TZ)||X.M(hP.WM)))this.a(J)};hZ.prototype.C_=function(M){if(M==null)M=this.Rk;
this.Rk=M;if(this.W==null)return;var X=this.yz.indexOf(M);if(X!=-1)this.yz.splice(X,1);this.yz.push(M);
window.locStor.setItem("_ltools",this.yz.join(","));var J=-1;for(var $=0;$<this.W.length;$++)if(this.W[$].id==M)J=$;
for(var $=0;$<this.Wc.length;$++){var q=this.Wc[$];q.anS(J==$)}if(J==-1)return;this.GU[this.Wc[J].Tl]=this.Wc[J];
w.p9(this.jR);var W=this.GU;for(var $=0;$<W.length;$++){this.jR.appendChild(W[$]._)}if(!this.ak0)return;
this.jR.appendChild(this.FA._);if(this.oz>640&&gj==0)this.jR.appendChild(this.p1._);this.jR.appendChild(this._Q._)};
hZ.prototype.SY=function(M,X){if(X==bN.Ru&&M.x6){this.x6=M.x6;this.apI();this.C_()}this.FA.aIR(M.pU,M.Yt);
if(gj==1&&(X==bN.BC||X==bN.Ru)){this.FA.at3(M,this.iH)}};function b9(M,X,J,q,W,T){bj.call(this);this.Xs=0;
this.yV=this.a6j.bind(this);this.Tl=W;this.YS=q;this.qI=M;this.FG=X;this.akc=T;this.sZ=J;this._=w.l("button","");
this._.innerHTML=w.wD(this.sZ);if(this.akc){var _=w.l("img","gsicon");_.setAttribute("src",PIMG["tools/corner"]);
w.F(_,"position:absolute; right:0;  bottom:0; width:100%; height:100%;");this._.appendChild(_)}this._.addEventListener("touchstart",w.bS,!1);
this.T();w.Ad(this._,this.Wk.bind(this));w.ZA(this._,this.BY.bind(this));this._.addEventListener("contextmenu",this.yV,!1);
this._.addEventListener("contextmenu",b9.xb,!1)}b9.prototype=new bj;b9.xb=function(M){M.stopPropagation();
M.preventDefault();return!1};b9.prototype.T=function(){var M=this.FG?" ("+this.FG.f7+")":"";this._.setAttribute("title",kd.get(this.qI)+M)};
b9.prototype.Wk=function(M){b9.QG=this.YS;this.Xs=setTimeout(this.yV,160)};b9.prototype.BY=function(M,X){if(X==null&&b9.QG!=this.YS)return;
clearTimeout(this.Xs);var J=new jb(r.E.n,!1);J.target=this;J.id=this.YS;this.a(J)};b9.prototype.a6j=function(M){var X=new jb("mover",!1);
X.target=this;X.id=this.YS;this.a(X)};b9.prototype.anS=function(M){this._.className=M?"toolbtn active":"toolbtn"};
function fO(){bj.call(this);this._=w.l("div","topbar");this.a01=w.l("span");this.awM=w.l("span");this.aJe=0;
this._.appendChild(this.a01);this._.appendChild(this.awM);this.AR=null;this.f=null;this.fs=[];this.CM=[];
var M=this.Wk.bind(this);for(var $=0;$<fO.data.length;$++){var X=w.l("button");this.fs.push(X);var J=fO.data[$];
X.addEventListener("mouseover",M,!1);w.Ad(X,M)}this.Ba=new fT([0,13,0],!1,null,!0);this.Ba.P("click",this.DU,this);
this.v2=new fT(w.wD("tools/zoom",null,"autoscale"),!1,[12,86]);this.v2.P("click",this.DU,this);this.aB$=new fT("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.aB$.P("click",this.DU,this)}fO.prototype=new bj;fO.prototype.aBx=function(){if(this.CM.length!=0)return;
for(var $=0;$<fO.data.length;$++){var M=fO.data[$],X=new an(M.items,M.gV);X.parent=this;this.CM.push(X)}this.T()};
fO.prototype.T=function(){this.Ba.T();this.v2.T();this.aB$.T();for(var $=0;$<this.fs.length;$++)this.fs[$].textContent=kd.get(fO.data[$].name);
this.aJ1();for(var $=0;$<this.CM.length;$++)this.CM[$].T()};fO.prototype.DU=function(M){var X=new jb(r.E.C,!0);
if(M.target==this.Ba)X.data={h:r.m.SQ,bf:"account"};else if(M.target==this.v2)X.data={h:r.m.Eg};else X.data={h:r.m.bb,St:!0};
this.a(X)};fO.prototype.Lf=function(M,X){this.AR=M;this.f=X};fO.prototype.SY=function(M,X){this.f=M;
if(X==bN.Ru){var J=M.aF1;w.p9(this.a01);for(var $=0;$<this.fs.length;$++){var q=fO.data[$];if(J==null||J[$]==1||J[$]instanceof Array)this.a01.appendChild(this.fs[$]);
if(J!=null&&J[$]instanceof Array){this.aBx();this.CM[$].art(J[$])}}var W=this.awM;w.p9(W);if(M.rN){W.appendChild(this.Ba._)}W.appendChild(this.v2._);
W.appendChild(this.aB$._)}this.aJ1()};fO.prototype.aJ1=function(M,X){var J=this.Ba,q=12255232;if(hO.wu())q=hO.Dm()?43520:16755200;
w.F(J._,"color:#ffffff; background-color:#"+t.NZ(q))};fO.prototype.Wk=function(M){this.aBx();var $=this.fs.indexOf(M.currentTarget),X=this.CM[$];
if(M.type=="mouseover"&&!w.L1(this.CM[this.aJe]._))return;if(w.L1(X._))return;M.abL=!0;this.aJe=$;for(var $=0;
$<fO.data.length;$++)this.CM[$].update(this.AR,this.f);var J=M.target.getBoundingClientRect(),q=new jb(r.E.C,!0);
q.data={h:r.m._5,kv:X,x:J.left,y:J.top+J.height+2,arS:!0};this.a(q)};fO.a7X=function(M){var X=hP,J=X.WM,q=X.HG,W=X.Ke,T=function(Q){return{i:Q!=null}},_=function(Q){return{i:Q!=null&&Q.c!=null}},m=function(Q){return{i:Q!=null&&Q.KE(!1)}},d=function(Q){return{i:Q!=null&&Q.KE(!1)&&Q.c!=null}},A=[{name:[7,0],i:T,UD:[J,X.m]},{name:[7,1],UD:[J,X.IW],i:_},{name:[7,2],UD:[q,J,X.CI],i:_,ns:!0},{name:"Remove BG",i:function(Q){return{i:w.pQ(1)&&Q!=null&&Q.O.length!=0&&!Q.U[Q.O[0]].S.M5()}}},{name:[7,8],i:T,co:!0},{name:[7,13],co:!0,i:function(Q){return{i:Q!=null&&Q.O.length!=0&&!Q.U[Q.O[0]].S.M5()}}},{name:"Subject",i:function(Q){return{i:Q!=null&&Q.O.length!=0&&!Q.U[Q.O[0]].S.M5()}},ns:!0},{name:[7,11],co:!0,i:function(Q){return{i:Q!=null&&Q.O.length!=0&&!Q.U[Q.O[0]].S.M5()}}},{name:[7,3],i:T,ns:!0,sub:[{name:[7,9],co:!0,i:_},{name:[19,3,0],co:!0,i:_},{name:[7,4],co:!0,i:_},{name:[7,5],co:!0,i:_},{name:[7,6],co:!0,i:_,UD:"Shift+F6"}]},{name:"Grow",i:_},{name:"Similar",i:_,ns:!0},{name:[7,10],i:_,ns:!0},{name:[6,6,1],i:function(Q){return{i:Q!=null,JX:Q!=null&&Q.p1()!=null}},UD:[X.ale],ns:!0},{name:[[23,6],[17,2]]},{name:["VAR0 VAR1",[1,2],[17,2]],i:_}],p=[{A:r.E.pL,p:o.Gp.VT(!0)},{A:r.E.pL,p:o.Gp.VT()},{A:r.E.pL,p:{hC:"inverse"}},{A:r.E.H,J:o.FN,p:{h:"bgrm",K:1}},{A:r.E.C,p:{h:r.m.SQ,bf:"crange"}},{A:r.E.C,p:{h:r.m.SQ,bf:"magiccut"}},{A:r.E.H,J:o.FN,p:{h:"bgrm",K:2}},{A:r.E.C,p:{h:r.m.SQ,bf:"redge"}},{sub:[{A:r.E.C,p:{h:r.m.SQ,bf:"sel_border"}},{A:r.E.C,p:{h:r.m.SQ,bf:"sel_smoothness"}},{A:r.E.C,p:{h:r.m.SQ,bf:"sel_expand"}},{A:r.E.C,p:{h:r.m.SQ,bf:"sel_contract"}},{A:r.E.C,p:{h:r.m.SQ,bf:"sel_feather"}}]},{A:r.E.pL,p:{hC:"grow",Qd:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{A:r.E.pL,p:{hC:"similar",Qd:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{A:r.E.C,p:{h:r.m.ga,J:o.eB}},{A:r.E.H,J:o.FN,p:{h:"qmask"}},{A:r.E.C,p:{h:r.m.SQ,bf:"loadsel"}},{A:r.E.C,p:{h:r.m.SQ,bf:"savesel"}}];
if(M){var a=[1,2,8,7,"",14,"a","","b","c","d","","e",11,"","f","g"],f={a:[{name:"Make Work Path",i:_},{A:r.E.pL,p:o.Gp.a3d()}],b:[{name:[6,49,0],i:_},{A:r.E.pL,p:{hC:"copyToLayer"}}],c:[{name:[6,49,1],i:d},{A:r.E.pL,p:{hC:"cutToLayer"}}],d:[{name:[6,13]},{A:r.E.H,J:o.HX,p:{h:K.YO}}],e:[{name:[10,16],i:T},{A:r.E.C,p:{h:r.m.ga,J:o.zS}}],f:[{name:[2,3],i:d,co:!0},{A:r.E.C,p:{h:r.m.SQ,bf:"fill"}}],g:[{name:[14,9],i:d,co:!0},{A:r.E.C,p:{h:r.m.SQ,bf:"stroke"}}]},s=[],j=[];
for(var $=0;$<a.length;$++){var Y=a[$];if(A[Y]){var G=A[Y];G.ns=!1;delete G.UD;s.push(G);j.push(p[Y])}else if(Y==""){s[s.length-1].ns=!0}else if(f[Y]){var G=f[Y];
s.push(G[0]);j.push(G[1])}}p=j;A=s}return{name:[0,5],items:A,gV:p}};fO.qL=function(M,X){if(M==null||M.O.length==0)return!1;
var J=M.U[M.O[0]];return J.add.TySh!=null&&X.Rk==o.JT};fO.as6=function(){var M=hP,X=M.WM,J=M.HG,q=M.Ke,W=function(T){return{i:T!=null}};
return[[{name:[5,0],UD:[X,M.jj],i:function(T,_){return{i:T!=null&&(T.aoo()||fO.qL(T,_))}}},{name:[5,1],UD:[X,M.eU],i:W},{name:[5,2],UD:[X,M.MP],i:function(T,_){return{i:fO.qL()||w.oj()||_.$D!=null||_.A_!=null||_.ac1!=null}}},{name:[2,2],i:function(T,_){return{i:T!=null&&(T.c!=null||fO.qL(T,_))}},UD:"Delete",ns:!0}],[{A:r.E.C,p:{h:r.m.PY}},{A:r.E.C,p:{h:r.m.LG}},{A:r.E.C,p:{h:r.m.Rw}},{A:r.E.pL,p:{hC:"delete"}}]]};
fO.data=function(){var M=hP,X=M.WM,J=M.HG,q=M.Ke,W=function(P){return{i:P!=null&&P.O.length!=0}},T=function(P){return{i:P!=null&&P.O.length!=0&&P.U[P.O[0]].add.SoLd!=null}},_=function(P){return{i:P!=null}},m=function(P){return{i:P!=null&&P.KE(!1)}},d=function(P){return{i:P!=null&&P.KE(!1)&&!P.U[P.O[0]].S.M5()}},A=[],p=[],a="none maxx avrg medn minn rang stdv summ vari".split(" "),f=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"],Q="assignProfile",Z="convertToProfile";
for(var $=0;$<a.length;$++){A.push({name:f[$],i:function(P,h){if(P==null||P.O.length!=1)return{i:!1};
var V=P.U[P.O[0]].add.SoLd;if(V==null)return{i:!1};return{i:!0,JX:V.Impr.v.classID==this.ajb}}.bind({ajb:a[$]})});
p.push({A:r.E.H,J:o.HX,p:{h:K.yY,Nz:a[$]}})}var s=fO.as6(!0),j=[],Y=[],G=[];for(var $=0;$<dD.Uu.length;
$++){var g=dD.Uu[$];j.push({name:g});var S={classID:Q,null:k$.kh("Dcmn",!0)};if(g!="sRGB")S.profile={t:"TEXT",v:dD.uy[$]};
var U={classID:Z,null:k$.kh("Dcmn",!0)};U.T={t:"TEXT",v:dD.uy[$]};Y.push({A:r.E.pL,p:{hC:Q,Qd:S}});G.push({A:r.E.pL,p:{hC:Z,Qd:U}})}var B=[{name:[0,0],items:[{name:[5,3],UD:[q,X,M.fu],title:[11,7],co:!0},{name:[1,0],UD:[X,M.bR],co:!0},{name:[1,11],co:!0,i:_},{name:["VAR0 VAR1",[1,0],[0,14]],ns:!0,sub:[{name:"From Any Folder"},{name:"Storage",co:!0,UD:[q,X,M.bR]},{name:[1,5],co:!0},{name:[11,0],co:!0},{name:["PSD VAR0",[25,0]],co:!0}]},{name:[1,18],ns:!0,i:_,sub:[{name:"PNG",UD:"Imgur.com",i:function(P,h){return{i:P!=null&&h.DZ}}},{name:"JPG",UD:"Imgur.com",i:function(P,h){return{i:P!=null&&h.DZ}}},{name:gj==0?"PSD":"AI",UD:["Photo","Vector"][gj]+"pea.com",i:function(P,h){return{i:P!=null&&h.DZ&&!P.s7}}}]},{name:"Save ...",UD:[X,M.ub],i:function(P,h){var V=kd.get([1,2]),I=!0;
if(P){if(P.Ws)V+=" ("+kd.get([6,7,1])+")";if(P.iE)V+=" (Google Drive)";if(P.uO)V+=" ("+Storage.list[P.uO[0]][0]+")";
I="psd jpg png gif webp svg bmp".split(" ").indexOf(P.DE)!=-1;if(gj==1)I=P.DE=="ai"}return{i:P!=null&&(P.uO!=null||P.lh!=null&&I||P.Ws!=null||P.jo!=null&&P.jo.Jw!=null||P.iE!=null||h.aBS.save!=null),Ld:V}}},{name:gj==0?[1,3]:"Save as AI",i:function(P,h){return{i:P!=null&&h.DZ}}},{name:["VAR0 VAR1",[1,2],[0,14]],i:_,sub:[{name:(gj==0?"PSD":"AI")+" to Storage",i:function(P,h){return{i:P!=null&&h.DZ}}},{name:["VAR0 PSD/PSB",[1,2]],co:!0,i:function(P,h){return{i:P!=null&&h.DZ}}}]},{name:[1,8],i:_,sub:function(){var P=h1.f2(0),h=[];
for(var $=0;$<P.length;$++)h.push({name:P[$],UD:"."+P[$].toLowerCase()});h.push({name:[0,14],sub:function(){var P=h1.f2(1),h=[];
for(var $=0;$<P.length;$++)h.push({name:P[$],UD:"."+P[$].toLowerCase()});return h}()});return h}()},{name:[1,4],co:!0,i:_,ns:!0},{name:[1,9],co:!0,i:_},{name:"Export Color Lookup",co:!0,i:_,ns:!0},{name:[1,14],co:!0,i:_,ns:!0},{name:[1,17],sub:[{name:"Batch",co:!0},{name:"PDF Presentation",co:!0},{name:"Convert Formats",co:!0},{name:"Generate Mockups",co:!0,i:_},{name:"Resize Images",co:!0,ns:!0},{name:"Crop and Straighten Photos",i:_}]},{name:[1,10],co:!0}],gV:[{A:r.E.C,p:{h:r.m.SQ,bf:"newproject"}},{A:r.E.C,p:{h:r.m.xa}},{A:r.E.C,p:{h:r.m.xa,aJm:!0}},{sub:[{A:r.E.C,p:{h:r.m.xa,xY:!0}},{A:r.E.C,p:{h:r.m.SQ,bf:"storwindow",Em:0}},{A:r.E.C,p:{h:r.m.SQ,bf:"open_from_url"}},{A:r.E.C,p:{h:r.m.SQ,bf:"camera"}},{A:r.E.C,p:{h:r.m.SQ,bf:"res0"}}]},{sub:[{A:r.E.C,p:{h:r.m.Bl,sz:"png"}},{A:r.E.C,p:{h:r.m.Bl,sz:"jpg"}},{A:r.E.C,p:{h:r.m.Bl,sz:gj==0?"psd":"ai"}}]},{A:r.E.C,p:{h:r.m.$A}},{A:r.E.C,p:{h:r.m.Hx}},{sub:[{A:r.E.C,p:{h:r.m.SQ,bf:"storwindow",Em:1}},{A:r.E.C,p:{h:r.m.SQ,bf:"savepsb"}}]},{sub:function(){var P=h1.f2(0),h=[];
for(var $=0;$<P.length;$++)h.push({A:r.E.C,p:{h:r.m.SQ,bf:"saveforweb",sz:$}});h.push({sub:function(){var V=h1.f2(0).length,P=h1.f2(1),h=[];
for(var $=0;$<P.length;$++)h.push({A:r.E.C,p:{h:r.m.SQ,bf:"saveforweb",sz:V+$}});return h}()});return h}()},{A:r.E.C,p:{h:r.m.SQ,bf:"saveforweb",sz:3,a0P:!0}},{A:r.E.C,p:{h:r.m.SQ,bf:"eassets"}},{A:r.E.C,p:{h:r.m.SQ,bf:"exlut"}},{A:r.E.C,p:{h:r.m.SQ,bf:"finfo"}},{sub:[{A:r.E.C,p:{h:r.m.SQ,bf:"batch"}},{A:r.E.C,p:{h:r.m.SQ,bf:"pdfpres"}},{A:r.E.C,p:{h:r.m.SQ,bf:"cformat"}},{A:r.E.C,p:{h:r.m.SQ,bf:"mockups"}},{A:r.E.C,p:{h:r.m.SQ,bf:"resize"}},{A:r.E.H,J:o.BP,p:{h:"cropAndStr"}}]},{A:r.E.C,p:{h:r.m.SQ,bf:"script"}}]},{name:[0,1],items:[{name:[2,8],i:_},{name:[2,0],i:_,UD:[J,X,M.q8]},{name:[2,1],i:_,UD:[X,M.q8],ns:!0},{name:[2,11],UD:[J,X,M.uY],ns:!0,co:!0,i:function(P,h){return{i:fJ.aze(P)&&h.Rk!=o.zS}}},s[0][0],s[0][1],{name:[5,7],UD:[J,X,M.eU],i:function(P){return{i:P!=null&&P.c!=null}}},s[0][2],s[0][3],{name:[2,3],i:m,co:!0,UD:[J,M.apB]},{name:[14,9],i:m,co:!0,ns:!0},{name:[10,48],i:m},{name:[10,46],i:function(P){return{i:o.ug.BR(P)}}},{name:[10,16],i:_,UD:[q,X,M.ws]},{name:[2,4],i:_,sub:gt.asB()},{name:[2,10,1],i:_},{name:[2,10,0],i:_,ns:!0},{name:"Assign Profile",sub:j},{name:"Convert to Profile",sub:j,ns:!0},{name:[12,87],i:_,sub:[{name:[12,62],i:_},{name:[9,3],i:_},{name:[10,31],i:function(P){return{i:P!=null&&P.ZX()[1].length!=0}}}]},{name:[1,15],co:!0},{name:[12,79],co:!0,UD:[X,M.q9]},{name:[1,13],co:!0}],gV:[{A:r.E.H,J:o.xH,p:{h:"h_undoredo"}},{A:r.E.H,J:o.xH,p:{h:"h_stepfwd"}},{A:r.E.H,J:o.xH,p:{h:"h_stepbck"}},{A:r.E.C,p:{h:r.m.SQ,bf:"afw_fade"}},s[1][0],s[1][1],{A:r.E.C,p:{h:r.m.LG,IM:!0}},s[1][2],s[1][3],{A:r.E.C,p:{h:r.m.SQ,bf:"fill"}},{A:r.E.C,p:{h:r.m.SQ,bf:"stroke"}},{A:r.E.C,p:{h:r.m.ga,J:o.Sd}},{A:r.E.H,J:o.ij,p:{h:"start",AW:"rigidTransform"}},{A:r.E.C,p:{h:r.m.ga,J:o.zS}},{sub:gt.ab8()},{A:r.E.pL,p:{hC:"align",Qd:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{A:r.E.H,J:o.HX,p:{h:K.aIm}},{sub:Y},{sub:G},{sub:[{A:r.E.C,p:{h:r.m.Dc,iw:0}},{A:r.E.C,p:{h:r.m.Dc,iw:1}},{A:r.E.C,p:{h:r.m.Dc,iw:2}}]},{A:r.E.C,p:{h:r.m.SQ,bf:"pmanager"}},{A:r.E.C,p:{h:r.m.SQ,bf:"preferences"}},{A:r.E.C,p:{h:r.m.SQ,bf:"locstor"}}]},{name:[0,2],items:[{name:[12,36],i:_,ns:!0,sub:[{name:"RGB",i:function(P){if(P==null)return{i:!1};
return{JX:P.add.fcmy==null,i:!0}}},{name:"CMYK",ns:!0,i:function(P){if(P==null)return{i:!1};return{JX:P.add.fcmy!=null,i:!0}}}].concat(iW?[{name:"8 Bits/Channel",i:function(P){if(P==null)return{i:!1};
return{JX:P.depth==8,i:!0}}},{name:"16 Bits/Channel",i:function(P){if(P==null)return{i:!1};return{JX:P.depth==16,i:!0}}},{name:"32 Bits/Channel",i:function(P){if(P==null)return{i:!1};
return{JX:P.depth==32,i:!0}}}]:[])},{name:[3],i:_,ns:!0,sub:function(){var P=[];for(var h in ia.names){P.push({name:ia.names[h],co:dw[h]!=null,UD:ia.keys[h],ns:ia.ae3.indexOf(h)!=-1});
if(h=="selc"){P.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],co:!0,ns:!0});P.push({name:[19,7,0],UD:[X,J,M.sB],i:m});
P.push({name:[4,18],co:!0,i:m})}}return P}()},{name:[4,16,0],i:m},{name:[4,16,1],i:m},{name:[4,16,2],i:m,ns:!0},{name:[11,11,1],i:d,co:!0},{name:[11,11,0],i:d,co:!0},{name:"Wavelet Decompose",i:d,ns:!0},{name:[11,3],i:_,co:!0,UD:[q,X,M.eU]},{name:[11,10],i:_,co:!0,UD:[q,X,M.CI]},{name:[2,4],i:_,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],i:function(P){return{i:P!=null&&P.c!=null}}},{name:[11,12,0],i:_,UD:[X,M.Zf],co:!0},{name:[11,12,2],i:_,ns:!0},{name:[12,53],i:_},{name:[2,12],i:m,co:!0,ns:!0},{name:[2,14],i:_,co:!0}],gV:[{sub:[{A:r.E.H,J:o.oa,p:{h:"fcmy",K:0}},{A:r.E.H,J:o.oa,p:{h:"fcmy",K:1}},{A:r.E.pL,p:{hC:"convertMode",Qd:{classID:"CnvM",Dpth:{t:"long",v:8},Mrge:{t:"bool",v:!1}}}},{A:r.E.pL,p:{hC:"convertMode",Qd:{classID:"CnvM",Dpth:{t:"long",v:16},Mrge:{t:"bool",v:!1}}}},{A:r.E.pL,p:{hC:"convertMode",Qd:{classID:"CnvM",Dpth:{t:"long",v:32},Mrge:{t:"bool",v:!1}}}}]},{sub:function(){var P=[];
for(var h in ia.names){P.push({A:r.E.H,J:o.GR,p:{h:"start",T$:h}});if(h=="selc"){P.push({A:r.E.H,J:o.ij,p:{h:"start",AW:"adaptCorrect"}});
P.push({A:r.E.pL,p:{hC:"desaturate"}});P.push({A:r.E.H,J:o.GR,p:{h:"start",T$:"matc"}})}}return P}()},{A:r.E.pL,p:{hC:"levels",Qd:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{A:r.E.pL,p:{hC:"levels",Qd:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{A:r.E.pL,p:{hC:"levels",Qd:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{A:r.E.C,p:{h:r.m.SQ,bf:"rcolors"}},{A:r.E.C,p:{h:r.m.SQ,bf:"vbitmap"}},{A:r.E.H,J:o.HX,p:{h:K.a78}},{A:r.E.C,p:{h:r.m.SQ,bf:"csize"}},{A:r.E.C,p:{h:r.m.SQ,bf:"isize"}},{sub:[{A:r.E.pL,p:o.fx.sy(!0,90)},{A:r.E.pL,p:o.fx.sy(!0,-90)},{A:r.E.pL,p:o.fx.sy(!0,-180)},{A:r.E.pL,p:o.fx.sy(!1,"Hrzn")},{A:r.E.pL,p:o.fx.sy(!1,"Vrtc")}]},{A:r.E.pL,p:{hC:"crop",Qd:{__name:"Crop",classID:"Crop"}}},{A:r.E.C,p:{h:r.m.SQ,bf:"trim"}},{A:r.E.pL,p:{hC:"revealAll",Qd:{classID:"RvlA"}}},{A:r.E.pL,p:{hC:"duplicate",Qd:{classID:"Dplc",null:k$.kh("Dcmn",!0)}}},{A:r.E.H,J:o.GR,p:{h:"start",T$:"aply"}},{A:r.E.C,p:{h:r.m.SQ,bf:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],i:_,sub:[{name:[0,3],UD:[J,X,M.fu]},{name:[0,4]},{name:[1,16,0],co:!0},{name:[1,16,3],co:!0,ns:!0},{name:[6,49,0],UD:[X,M.sD]},{name:[6,49,1],UD:[J,X,M.sD],i:function(P){return{i:P!=null&&P.c!=null&&P.KE(!1)}}}]},{name:[6,0],i:W},{name:[11,4],i:W},{name:[5,4],i:W,ns:!0},{name:"Text",i:function(P){return{i:P!=null&&P.O.length!=0&&P.U[P.O[0]].add.TySh!=null}},sub:[{name:[6,40]}]},{name:[11,6],i:W,ns:!0,sub:hf.dY(!0)},{name:[6,48,1],i:_,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],i:_,ns:!0,sub:hf.aez()},{name:[6,2],i:_,sub:[{name:[6,4],i:function(P){return{i:P!=null&&P.O.length!=0&&P.U[P.O[0]].hM()==null}}},{name:[6,5,0],i:function(P){return{i:P!=null&&P.O.length!=0&&P.U[P.O[0]].hM()==null}}},{name:[6,5,1],i:function(P){return{i:P!=null&&P.O.length!=0&&P.U[P.O[0]].hM()==null&&P.c!=null}}},{name:[6,5,2],i:function(P){return{i:P!=null&&P.O.length!=0&&P.U[P.O[0]].hM()==null&&P.c!=null}}},{name:[6,5,3],i:function(P){return{i:P!=null&&P.O.length!=0&&P.U[P.O[0]].hM()==null}},ns:!0},{name:[5,4],i:function(P){return{i:P!=null&&P.O.length!=0&&P.U[P.O[0]].hM()!=null}}},{name:[5,8],i:function(P){return{i:P!=null&&P.O.length!=0&&P.U[P.O[0]].hM()!=null&&P.KE(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],i:function(P){return{i:P!=null&&P.O.length!=0&&P.U[P.O[0]].hM()!=null}}}]},{name:[6,3],i:_,sub:[{name:[6,4],i:function(P){return{i:P!=null&&P.O.length!=0&&P.U[P.O[0]].add.vmsk==null}}},{name:[6,5,0],i:function(P){return{i:P!=null&&P.O.length!=0&&P.U[P.O[0]].add.vmsk==null}}},{name:[12,76,7],i:function(P){return{i:P!=null&&P.O.length!=0&&P.U[P.O[0]].add.vmsk==null}},ns:!0},{name:[5,4],i:function(P){return{i:P!=null&&P.O.length!=0&&P.U[P.O[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],i:function(P){return{i:P!=null&&P.O.length!=0&&P.U[P.O[0]].add.vmsk!=null}}}]},eP.aor(!0),{name:[6,7,1],i:_,ns:!0,sub:[{name:[6,7,0],ns:!0},{name:"Open (Edit Contents)",i:T,co:!0},{name:"Replace Contents",i:T,co:!0},{name:"Export Contents",i:T,co:!0,ns:!0},{name:"Convert to Layers",i:T,co:!0,ns:!0},{name:[6,36,4],i:T,sub:A},{name:"Turn into JPG",i:T}]},{name:[6,8],i:eP.ajA},{name:[6,34],ns:!0,i:function(P){if(P==null||P.O.length==0)return{i:!1};
var h=P.U[P.O[0]];return{i:h.add.lmfx!=null&&!h.nA()}}},{name:[6,9],i:_,ns:!0,UD:[X,M.zj]},{name:[6,55],i:_,sub:[{name:[6,56,0],UD:[J,X,M.uw]},{name:[6,56,1],UD:[X,M.uw]},{name:[6,56,2],UD:[X,M.w0]},{name:[6,56,3],UD:[J,X,M.w0]}]},{name:"Combine Shapes",i:_,ns:!0,sub:[{name:[18,1],Xn:"set/union"},{name:[18,2],Xn:"set/difference"},{name:[18,3],Xn:"set/intersection"},{name:[18,4],Xn:"set/xor"}]},{name:[6,58],i:_,ns:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],UD:[X,M.E],i:eP.dp},{name:[6,12,1],i:_},{name:[2,13],i:_}],gV:[{sub:[{A:r.E.H,J:o.HX,p:{h:K.YO}},{A:r.E.H,J:o.HX,p:{h:K.Q2}},{A:r.E.C,p:{h:r.m.SQ,bf:"newartb",Em:0}},{A:r.E.C,p:{h:r.m.SQ,bf:"newartb",Em:1}},{A:r.E.pL,p:{hC:"copyToLayer"}},{A:r.E.pL,p:{hC:"cutToLayer"}}]},{A:r.E.H,J:o.HX,p:{h:K.T0}},{A:r.E.C,p:{h:r.m.SQ,bf:"duplinto"}},{A:r.E.H,J:o.HX,p:{h:K.es}},{sub:[{A:r.E.H,J:o.HX,p:{h:K.v8}}]},{sub:hf.xe(!0)},{sub:[{A:r.E.H,J:o.Av,p:{h:"newfill",Dv:0}},{A:r.E.pL,p:o.QX.Zc(1)},{A:r.E.pL,p:o.QX.Zc(2)}]},{sub:hf._A()},{sub:[{A:r.E.H,J:o.HX,p:{h:K.$0,Em:"RvlA"}},{A:r.E.H,J:o.HX,p:{h:K.$0,Em:"HdAl"}},{A:r.E.H,J:o.HX,p:{h:K.$0,Em:"RvlS"}},{A:r.E.H,J:o.HX,p:{h:K.$0,Em:"HdSl"}},{A:r.E.H,J:o.HX,p:{h:K.$0,Em:"Trns"}},{A:r.E.H,J:o.HX,p:{h:K.JC}},{A:r.E.H,J:o.HX,p:{h:K.U9}},{A:r.E.H,J:o.HX,p:{h:K.jE}}]},{sub:[{A:r.E.pL,p:o.HI.Xb(0)},{A:r.E.pL,p:o.HI.Xb(1)},{A:r.E.pL,p:o.HI.Xb(2)},{A:r.E.pL,p:o.HI.Xb(3)},{A:r.E.H,J:o.HX,p:{h:K.zt}}]},{A:r.E.H,J:o.HX,p:{h:K.uk}},{sub:[{A:r.E.pL,p:{hC:"newPlacedLayer"}},{A:r.E.pL,p:{hC:"placedLayerEditContents",Qd:{classID:"placedLayerEditContents"}}},{A:r.E.pL,p:{hC:"placedLayerReplaceContents",Qd:{classID:"placedLayerReplaceContents"}}},{A:r.E.pL,p:{hC:"placedLayerExportContents",Qd:{classID:"placedLayerExportContents"}}},{A:r.E.pL,p:{hC:"placedLayerConvertToLayers",Qd:{classID:"placedLayerConvertToLayers"}}},{sub:p},{A:r.E.H,J:o.HX,p:{h:K.aqW}}]},{A:r.E.pL,p:{hC:"rasterizeLayer",Qd:{classID:"rasterizeLayer",null:k$.kh("Lyr",!0)}}},{A:r.E.pL,p:{hC:"rasterizeLayer",Qd:{classID:"rasterizeLayer",null:k$.kh("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{A:r.E.H,J:o.HX,p:{h:K.S8}},{sub:[{A:r.E.H,J:o.HX,p:{h:K.nG,NL:0}},{A:r.E.H,J:o.HX,p:{h:K.nG,NL:1}},{A:r.E.H,J:o.HX,p:{h:K.nG,NL:2}},{A:r.E.H,J:o.HX,p:{h:K.nG,NL:3}}]},{sub:[{A:r.E.H,J:o.HX,p:{h:K.J3,w3:0}},{A:r.E.H,J:o.HX,p:{h:K.J3,w3:1}},{A:r.E.H,J:o.HX,p:{h:K.J3,w3:2}},{A:r.E.H,J:o.HX,p:{h:K.J3,w3:3}}]},{sub:[{A:r.E.H,J:o.HX,p:{h:K.xM,NL:"makeframes"}},{A:r.E.H,J:o.HX,p:{h:K.xM,NL:"unmakeframes"}},{A:r.E.H,J:o.HX,p:{h:K.xM,NL:"merge"}}]},{A:r.E.pL,p:{hC:"mergeLayersNew",Qd:{__name:"Merge Layers",classID:"Mrg2"}}},{A:r.E.pL,p:{hC:"flattenImage"}},{A:r.E.H,J:o.ij,p:{h:"start",AW:"defr"}}]},fO.a7X(!1),function(){var P={name:[0,6],items:[{name:[24,18,4],UD:[q,X,M.uY],i:_,ns:!0}],gV:[{A:r.E.H,J:o.ij,p:{h:"applylast"}}]};
for(var $=0;$<fV.fj.length;$++){var h=fV.fj[$],V=h.fK;if(h.PD!=null){var I={name:fV.names[h.PD],co:!0,ns:h.ns,i:_};
if(h.PD=="VaPo")I.i=m;P.items.push(I);P.gV.push({A:r.E.H,J:o.ij,p:{h:"start",AW:h.PD}});continue}var F={name:h.hp,sub:[],i:_};
P.items.push(F);var c={sub:[]};P.gV.push(c);for(var D=0;D<V.length;D++){var n=V[D],k=fV.names[n];if(n=="blurbTransform")k=[24,3,12,D];
var b={name:k,co:fV.IH(n)!=null};F.sub.push(b);var N={A:r.E.H,J:o.ij,p:{h:"start",AW:n,hP:D<2?D:D+1}};
c.sub.push(N)}}return P}(),{name:[0,7],items:[{name:[8,0],i:_,UD:[X,M._T]},{name:[8,1],i:_,UD:[X,M.ce]},{name:[20,3],i:_,UD:[X,M.aL]},{name:[20,2],i:_,UD:[X,M.Or]},{name:[8,14],i:function(P,h){return{i:P!=null,JX:P!=null&&P.RM}},ns:!0},{name:[12,36],ns:!0,sub:[{name:"Fullscreen",i:function(P,h){return{JX:document.fullscreenElement!=null}},ns:!0},{name:"Standard",i:function(P,h){return{JX:h.LA==0}}},{name:"Menu Bar and Canvas",i:function(P,h){return{JX:h.LA==1}}}]},{name:[8,13],UD:[X,M.af],i:function(P,h){return{JX:h.iY}}},{name:[8,12],ns:!0,sub:[{name:[17,2],i:function(P,h){return{i:h.iY,JX:h.QQ.dW}}},{name:[8,9],i:function(P,h){return{i:h.iY,JX:h.QQ.Qt}}},{name:[8,2],i:function(P,h){return{i:h.iY,JX:h.QQ.aZ}},UD:[X,M.cS]},{name:[8,4],i:function(P,h){return{i:h.iY,JX:h.QQ.C2}},UD:[X,M.v$]},{name:[8,8],i:function(P,h){return{i:h.iY,JX:h.QQ.S7}}},{name:[8,11,0],i:function(P,h){return{i:h.iY,JX:h.QQ.YY}}}]},{name:[8,3],i:function(P,h){return{JX:h.no}},UD:[X,M.UE],ns:!0},{name:[8,5],i:function(P,h){return{JX:h.aU}}},{name:[8,6],ns:!0,sub:[{name:[8,2],i:function(P,h){return{JX:h.A1[0]}}},{name:[8,4],i:function(P,h){return{JX:h.A1[1]}}},{name:[9,1],i:function(P,h){return{JX:h.A1[2]}}},{name:[8,11,0],i:function(P,h){return{JX:h.A1[3]}}},{name:[8,7,0],i:function(P,h){return{JX:h.A1[4]}}}]},{name:[11,15,2],i:function(P,h){return{i:P!=null,JX:P!=null&&P.j2}}},{name:[11,15,0],i:_},{name:[11,14],i:_,co:!0},{name:[11,15,1],i:function(P,h){return{i:P!=null&&P.O.length!=0}},ns:!0},{name:[8,11,2],i:function(P,h){return{i:P!=null&&P.YY.length!=0}}}],gV:[{A:r.E.H,J:o.QC,p:{h:"zoom",j_:!0}},{A:r.E.H,J:o.QC,p:{h:"zoom",j_:!1}},{A:r.E.H,J:o.QC,p:{h:"adapt",K:"fitscr"}},{A:r.E.H,J:o.QC,p:{h:"adapt",K:"pixel"}},{A:r.E.H,J:o.oa,p:{h:"pview"}},{sub:[{A:r.E.C,p:{h:r.m.bb,St:!0}},{A:r.E.C,p:{h:r.m.bb,K:0}},{A:r.E.C,p:{h:r.m.bb,K:1}},{A:r.E.C,p:{h:r.m.bb,K:2}}]},{A:r.E.C,p:{h:r.m.OA,iw:bN.aO}},{sub:[{A:r.E.C,p:{h:r.m.OA,iw:bN.Y7}},{A:r.E.C,p:{h:r.m.OA,iw:bN.$c}},{A:r.E.C,p:{h:r.m.OA,iw:bN.CN}},{A:r.E.C,p:{h:r.m.OA,iw:bN.O1}},{A:r.E.C,p:{h:r.m.OA,iw:bN.w7}},{A:r.E.C,p:{h:r.m.OA,iw:bN.rk}}]},{A:r.E.C,p:{h:r.m.OA,iw:bN.UR}},{A:r.E.C,p:{h:r.m.OA,iw:bN.asG}},{sub:[{A:r.E.C,p:{h:r.m.OA,iw:bN.dP,$z:0}},{A:r.E.C,p:{h:r.m.OA,iw:bN.dP,$z:1}},{A:r.E.C,p:{h:r.m.OA,iw:bN.dP,$z:2}},{A:r.E.C,p:{h:r.m.OA,iw:bN.dP,$z:3}},{A:r.E.C,p:{h:r.m.OA,iw:bN.dP,$z:4}}]},{A:r.E.H,J:o.oa,p:{h:"lockguides"}},{A:r.E.H,J:o.oa,p:{h:"gids",l$:[[],[]]}},{A:r.E.C,p:{h:r.m.SQ,bf:"addguides"}},{A:r.E.H,J:o.oa,p:{h:"gidsFromLayer"}},{A:r.E.H,J:o.ZT,p:{h:"deleteAll"}}]},function(){var P={name:[0,8],items:[{name:[0,14],ns:!0,sub:[]},{name:"Plugins",ns:!0}],gV:[{sub:[]},{A:r.E.C,p:{h:r.m.SQ,bf:"res1"}}]};
for(var $=0;$<kH.Xh.length;$++){var h=kH.Xh[$],V=function(){var I=h.kv.L4;return function(F,c){return{JX:c.CM.indexOf(parseInt(I))!=-1}}}();
(h.nR?P.items[0].sub:P.items).push({name:h.kv.name,i:V});(h.nR?P.gV[0].sub:P.gV).push({A:r.E.C,p:{h:r.m.Nt,bf:h.kv.L4}})}return P}(),function(){var P={name:[0,14],items:[],gV:[]},h={name:[0,9],sub:[]};
P.items.push(h);var V={sub:[]};P.gV.push(V);var I=kd.aGs();for(var $=0;$<I.length;$++){var F=I[$],c=F.code,D=kd.aGY(c);
h.sub.push({name:F.name,UD:c,i:function(n,k){return{JX:this.UD==kd.Mh()}}});V.sub.push({A:r.E.C,p:{h:r.m.OA,iw:bN.Yd,lang:D}})}h.sub.push({name:[0,12]});
V.sub.push({A:r.E.C,p:{h:r.m.Na,link:"https://www.photopea.com/translate/"}});var h={name:[0,15],sub:[]};
P.items.push(h);var V={sub:[]};P.gV.push(V);for(var $=0;$<gS.sk.length;$++){h.sub.push({name:gS.sk[$].name,i:function(n,k){return{JX:this.name==gS.sk[k.lb].name}}});
V.sub.push({A:r.E.C,p:{h:r.m.OA,iw:bN.ly,lb:$}})}P.items.push({name:gj==0?[0,17,6]:"Install Vectorpea",i:function(n,k){return{i:k.Kx!=null}}});
P.gV.push({A:r.E.C,p:{h:r.m.mF}});if(gj==0){P.items.push({name:[11,13]});P.gV.push({A:r.E.C,p:{h:r.m.SQ,bf:"shortcuts"}});
P.items.push({name:[0,16],i:function(n){return{JX:aq.zw,i:aq.asj}},ns:!0});P.gV.push({A:r.E.C,p:{h:r.m.aC$}})}P.items.push({name:"PeaMark"});
P.gV.push({A:r.E.C,p:{h:r.m.SQ,bf:"peamark"}});P.items.push({name:"",i:function(n,k){return k.rN?{Ld:"About "+["Photopea","Vectorpea"][gj],i:!0}:{Ld:"",i:!1}}});
P.gV.push({A:r.E.C,p:{h:r.m.SQ,bf:"aboutpp"}});return P}()],e=[B[0],B[1],{name:"Object",items:[{name:[6,9],i:_,ns:!0,UD:[X,M.zj]},{name:[6,6,0],sub:[{name:[5,5],UD:[X,M.fB]},{name:[5,6],UD:[q,X,M.fB]}]}],gV:[{A:r.E.H,J:o.HX,p:{h:K.S8}},{sub:[{A:r.E.H,J:o.HX,p:{h:K.S8,Nx:!0}},{A:r.E.H,J:o.HX,p:{h:K.S8,Nx:!0,uI:!0}}]}]},{name:[0,7],items:[{name:"Outline View",i:function(P,h){return{JX:P&&P.add.prvw==0,i:P!=null}},ns:!0,UD:[X,M.mn]},{name:[8,0],i:_,UD:[X,M._T]},{name:[8,1],i:_,UD:[X,M.ce]},{name:[12,36],ns:!1,sub:[{name:"Fullscreen",i:function(P,h){return{JX:document.fullscreenElement!=null}},ns:!0},{name:"Standard",i:function(P,h){return{JX:h.LA==0}}},{name:"Menu Bar and Canvas",i:function(P,h){return{JX:h.LA==1}}}]}],gV:[{A:r.E.H,J:o.QC,p:{h:"prvw"}},{A:r.E.H,J:o.QC,p:{h:"zoom",j_:!0}},{A:r.E.H,J:o.QC,p:{h:"zoom",j_:!0}},{A:r.E.H,J:o.QC,p:{h:"zoom",j_:!1}},{sub:[{A:r.E.C,p:{h:r.m.bb,St:!0}},{A:r.E.C,p:{h:r.m.bb,K:0}},{A:r.E.C,p:{h:r.m.bb,K:1}},{A:r.E.C,p:{h:r.m.bb,K:2}}]}]},B[7],B[8]];
return gj==0?B:e}();function ex(){bj.call(this);this._=w.l("div","");this.Vq=0;this.YQ=0;this.f=null;
this.XE=w.l("div","");w.F(this.XE,"width:200em; height:100em; position:absolute;");this.wt=[];this.XK=[];
this.O8={}}ex.prototype=new bj;ex.prototype.qH=function(M){var X=Date.now(),J=[];if(M=="-"){J=[new c6,new iJ,new i0,new cQ("pdfpres"),new cQ("cformat"),new cQ("batch"),new cQ("mockups"),new cQ("resize"),new kg,new hw,new cO,new hq,new hq(!0),new aA,new iB,new jI,new iS,new ev,new fc,new a8,new j1,new hm,new jW,new hf,new gl("isize"),new gl("csize"),new k8,new ei,new kT,new bg,new am,new eG,new k6,new bI,new fy(!1),new fy(!0),new e0(0),new e0(1),new hQ,new fg,new eH,new hX,new kN,new gr,new iu(0),new iu(1),new iu(2),new iu(3),new iu(4),new iu(5),new iu(6),new iu(7),new iu(8),new il,new aP,new kX,new k3,new jl,new bW,new d0,new bn,new ad,new fe,new gq(0),new gq(1),new kx("border",[7,9],"px"),new kx("smoothness",[19,3,0],"px"),new kx("expand",[7,4],"px"),new kx("contract",[7,5],"px"),new kx("feather",[7,6],"px"),new cF(0,"namewindow",[12,48]),new cF(2,"billto","Bill To"),new cF(1,"cornerradius",[12,94,0],"px",!0,!0),new cF(1,"scaleeffects",[6,30,1],"%",!0),new cF(1,"doczoom","Zoom","%",!0),new cF(1,"setFPS","Set FPS","fps,120",!1),new cF(1,"simplifypath",[12,94,2],"%,100",!0,!0)];
if(gj==0){J.push(new fI)}}else J=[new fJ(M.slice(4))];this.arp(J);this.O8[M]=!0};ex.prototype.arp=function(M){var X=this.f;
for(var $=0;$<M.length;$++){var J=M[$];J.parent=this;this.XK.push(J);this.Dl(J);J.T();if(X)J.SY(X,bN.Ru);
J.P(r.E.Bb,this.bs,this);w.F0(J)}};ex.prototype.uL=function(M,X){this.Vq=M;this.YQ=X;for(var $=0;$<this.XK.length;
$++)this.Dl(this.XK[$])};ex.prototype.T=function(){for(var $=0;$<this.XK.length;$++)this.XK[$].T()};
ex.prototype.DC=function(){return this.wt.length==0?null:this.wt[this.wt.length-1]};ex.prototype.mG=function(){for(var $=0;
$<this.wt.length;$++)if(this.wt[$].mG())return!0;return!1};ex.prototype.atw=function(M,X,J,q,W){console.log("Show",M);
var T=M.startsWith("afw_"),_=null;if(!T&&!this.O8["-"])this.qH("-");if(T&&!this.O8[M])this.qH(M);if(typeof M=="object"){_=M;
if(!_.axz(r.E.Bb,this.bs))_.P(r.E.Bb,this.bs,this);_.parent=this}else for(var $=0;$<this.XK.length;$++)if(this.XK[$].id==M)_=this.XK[$];
if(this.mG()&&_.mG()){alert("Finish the current action first");return}if(!_.$f(X))return;if(this.wt.indexOf(_)!=-1){if(M=="colorpicker")this.bs(null,_);
else return}var m=this.wt.length-1;if(m>=0)w.Z6(this.wt[m]._,"wdisabled");this._.appendChild(_._);this.wt.push(_);
this.Dl(_);w.Oo(_);_.Mq(X,J,q,W)};ex.prototype.Dl=function(M){var X=this.Vq,J=this.YQ,q=M.mb(X,J),W;
if(q!=null){W=q}else{q=new es(0,0);W=M.a1B();if(W==null){var T=this.wt.indexOf(M)+1;if(X<450||J<450)W=new es(0,0);
else W=new es(T*150,T*150)}}M._.style.left=W.x+"px";M._.style.top=this._.offsetTop+W.y+"px";M.uL(this.Vq-q.x*2,this.YQ-q.y*2-34)};
ex.prototype.SY=function(M,X){this.f=M;for(var $=0;$<this.XK.length;$++)this.XK[$].SY(M,X)};ex.prototype.bs=function(M,X){if(X==null){X=this.wt.pop();
w.F0(X,this._)}else{this.wt.splice(this.wt.indexOf(X),1);this._.removeChild(X._);w.tM(X._,"wdisabled")}var J=this.wt.length-1;
if(J>=0)w.tM(this.wt[J]._,"wdisabled");if(this.XE.parentNode==this._)this._.removeChild(this.XE)};window.onload=function(){document.body.appendChild(new dy()._)}}())